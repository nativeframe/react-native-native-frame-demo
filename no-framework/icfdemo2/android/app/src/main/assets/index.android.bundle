var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(r.has(n))return;var i={dependencyMap:o,factory:e,hasError:!1,importedAll:t,importedDefault:t,isInitialized:!1,publicModule:{exports:{}}};r.set(n,i)},e.__c=o,e.__registerSegment=function(e,t,n){s[e]=t,n&&n.forEach(function(t){r.has(t)||v.has(t)||v.set(t,e)})};var r=o(),t={},n={}.hasOwnProperty;function o(){return r=new Map}function i(e){var t=e,n=r.get(t);return n&&n.isInitialized?n.publicModule.exports:d(t,n)}function a(e){var n=e,o=r.get(n);if(o&&o.importedDefault!==t)return o.importedDefault;var a=i(n),l=a&&a.__esModule?a.default:a;return r.get(n).importedDefault=l}function l(e){var o=e,a=r.get(o);if(a&&a.importedAll!==t)return a.importedAll;var l,u=i(o);if(u&&u.__esModule)l=u;else{if(l={},u)for(var d in u)n.call(u,d)&&(l[d]=u[d]);l.default=u}return r.get(o).importedAll=l}i.importDefault=a,i.importAll=l,i.context=function(){throw new Error("The experimental Metro feature `require.context` is not enabled in your project.")},i.resolveWeak=function(){throw new Error("require.resolveWeak cannot be called dynamically.")};var u=!1;function d(r,t){if(!u&&e.ErrorUtils){var n;u=!0;try{n=h(r,t)}catch(r){e.ErrorUtils.reportFatalError(r)}return u=!1,n}return h(r,t)}var c=16,f=65535;function p(e){return{segmentId:e>>>c,localId:e&f}}i.unpackModuleId=p,i.packModuleId=function(e){return(e.segmentId<<c)+e.localId};var s=[],v=new Map;function h(t,n){if(!n&&s.length>0){var o,u=null!=(o=v.get(t))?o:0,d=s[u];null!=d&&(d(t),n=r.get(t),v.delete(t))}var c=e.nativeRequire;if(!n&&c){var f=p(t),h=f.segmentId;c(f.localId,h),n=r.get(t)}if(!n)throw Error('Requiring unknown module "'+t+'".');if(n.hasError)throw n.error;n.isInitialized=!0;var g=n,_=g.factory,m=g.dependencyMap;try{var w=n.publicModule;return w.id=t,_(e,i,a,l,w,w.exports,m),n.factory=void 0,n.dependencyMap=void 0,w.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var e=(function(){function n(n,e){return n}function e(n){var e={};return n.forEach(function(n,r){e[n]=!0}),e}function r(n,r,u){if(n.formatValueCalls++,n.formatValueCalls>200)return`[TOO BIG formatValueCalls ${n.formatValueCalls} exceeded limit of 200]`;var c=t(n,r);if(c)return c;var f=Object.keys(r),s=e(f);if(d(r)&&(f.indexOf('message')>=0||f.indexOf('description')>=0))return o(r);if(0===f.length){if(v(r)){var g=r.name?': '+r.name:'';return n.stylize('[Function'+g+']','special')}if(p(r))return n.stylize(RegExp.prototype.toString.call(r),'regexp');if(y(r))return n.stylize(Date.prototype.toString.call(r),'date');if(d(r))return o(r)}var h,m,b='',j=!1,O=['{','}'];(h=r,Array.isArray(h)&&(j=!0,O=['[',']']),v(r))&&(b=' [Function'+(r.name?': '+r.name:'')+']');return p(r)&&(b=' '+RegExp.prototype.toString.call(r)),y(r)&&(b=' '+Date.prototype.toUTCString.call(r)),d(r)&&(b=' '+o(r)),0!==f.length||j&&0!=r.length?u<0?p(r)?n.stylize(RegExp.prototype.toString.call(r),'regexp'):n.stylize('[Object]','special'):(n.seen.push(r),m=j?i(n,r,u,s,f):f.map(function(e){return l(n,r,u,s,e,j)}),n.seen.pop(),a(m,b,O)):O[0]+b+O[1]}function t(n,e){if(s(e))return n.stylize('undefined','undefined');if('string'==typeof e){var r="'"+JSON.stringify(e).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(r,'string')}return f(e)?n.stylize(''+e,'number'):u(e)?n.stylize(''+e,'boolean'):c(e)?n.stylize('null','null'):void 0}function o(n){return'['+Error.prototype.toString.call(n)+']'}function i(n,e,r,t,o){for(var i=[],a=0,u=e.length;a<u;++a)m(e,String(a))?i.push(l(n,e,r,t,String(a),!0)):i.push('');return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(n,e,r,t,o,!0))}),i}function l(n,e,t,o,i,l){var a,u,f;if((f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=f.set?n.stylize('[Getter/Setter]','special'):n.stylize('[Getter]','special'):f.set&&(u=n.stylize('[Setter]','special')),m(o,i)||(a='['+i+']'),u||(n.seen.indexOf(f.value)<0?(u=c(t)?r(n,f.value,null):r(n,f.value,t-1)).indexOf('\n')>-1&&(u=l?u.split('\n').map(function(n){return'  '+n}).join('\n').slice(2):'\n'+u.split('\n').map(function(n){return'   '+n}).join('\n')):u=n.stylize('[Circular]','special')),s(a)){if(l&&i.match(/^\d+$/))return u;(a=JSON.stringify(''+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,a.length-1),a=n.stylize(a,'name')):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=n.stylize(a,'string'))}return a+': '+u}function a(n,e,r){return n.reduce(function(n,e){return e.indexOf('\n')>=0&&0,n+e.replace(/\u001b\[\d\d?m/g,'').length+1},0)>60?r[0]+(''===e?'':e+'\n ')+' '+n.join(',\n  ')+' '+r[1]:r[0]+e+' '+n.join(', ')+' '+r[1]}function u(n){return'boolean'==typeof n}function c(n){return null===n}function f(n){return'number'==typeof n}function s(n){return void 0===n}function p(n){return g(n)&&'[object RegExp]'===h(n)}function g(n){return'object'==typeof n&&null!==n}function y(n){return g(n)&&'[object Date]'===h(n)}function d(n){return g(n)&&('[object Error]'===h(n)||n instanceof Error)}function v(n){return'function'==typeof n}function h(n){return Object.prototype.toString.call(n)}function m(n,e){return Object.prototype.hasOwnProperty.call(n,e)}return function(e,t){return r({seen:[],formatValueCalls:0,stylize:n},e,t.depth)}})(),r='(index)',t=0,o=1,i=2,l=3;function a(r){return function(){var t;t=1===arguments.length&&'string'==typeof arguments[0]?arguments[0]:Array.prototype.map.call(arguments,function(n){return e(n,{depth:10})}).join(', ');var o=arguments[0],a=r;'string'==typeof o&&'Warning: '===o.slice(0,9)&&a>=l&&(a=i),f.length&&(t=s('',t)),n.nativeLoggingHook(t,a)}}function u(n,e){return Array.apply(null,Array(e)).map(function(){return n})}function c(n,e){if(e===r)return n[e];if(n.hasOwnProperty(e)){var t=n[e];switch(typeof t){case'function':return'\u0192';case'string':return"'"+t+"'";case'object':return null==t?'null':'{\u2026}'}return String(t)}return''}var f=[];function s(n,e){return f.join('')+n+' '+(e||'')}if(n.nativeLoggingHook){var p=n.console;if(n.console=Object.assign({},null!=p?p:{},{error:a(l),info:a(o),log:a(o),warn:a(i),trace:a(t),debug:a(t),table:function(e,t){var i;if(Array.isArray(e))i=e.map(function(n,e){var t={};return t[r]=String(e),Object.assign(t,n),t});else for(var l in i=[],e)if(e.hasOwnProperty(l)){var a={};a[r]=l,Object.assign(a,e[l]),i.push(a)}if(0!==i.length){t=Array.isArray(t)?[r].concat(t):Array.from(i.reduce(function(n,e){return Object.keys(e).forEach(function(e){return n.add(e)}),n},new Set));var f=[],s=[];t.forEach(function(n,e){s[e]=n.length;for(var r=0;r<i.length;r++){var t=c(i[r],n);f[r]=f[r]||[],f[r][e]=t,s[e]=Math.max(s[e],t.length)}});for(var p=d(s.map(function(n){return u('-',n).join('')})),g=[d(t),p],y=0;y<i.length;y++)g.push(d(f[y]));n.nativeLoggingHook('\n'+g.join('\n'),o)}else n.nativeLoggingHook('',o);function d(n,e){var r=n.map(function(n,e){return n+u(' ',s[e]-n.length).join('')});return e=e||' ','| '+r.join(e+'|'+e)+' |'}},group:function(e){n.nativeLoggingHook(s("\u2510",e),o),f.push("\u2502")},groupEnd:function(){f.pop(),n.nativeLoggingHook(s("\u2518"),o)},groupCollapsed:function(e){n.nativeLoggingHook(s("\u2518",e),o),f.push("\u2502")},assert:function(e,r){e||n.nativeLoggingHook('Assertion failed: '+r,l)}}),!0===n.RN$useAlwaysAvailableJSErrorHandling){var g=function(n){return e(n,{depth:10}).replace(/\n\s*/g,' ')},y=console.error;console.reportErrorsAsExceptions=!0,console.error=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(y.apply(this,r),console.reportErrorsAsExceptions&&(null==n.RN$inExceptionHandler||!n.RN$inExceptionHandler())){var o,i=r[0];if(null!=i&&i.stack)o=i;else{if('string'==typeof i&&i.startsWith('Warning: '))return;var l=r.map(function(n){return'string'==typeof n?n:g(n)}).join(' ');(o=new Error(l)).name='console.error'}n.RN$handleException(o,!1,!1)}}}Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}else if(!n.console){var d=function(){},v=n.print||d;n.console={debug:v,error:v,info:v,log:v,trace:v,warn:v,assert:function(n,e){n||v('Assertion failed: '+e)},clear:d,dir:d,dirxml:d,group:d,groupCollapsed:d,groupEnd:d,profile:d,profileEnd:d,table:d},Object.defineProperty(console,'_isPolyfilled',{value:!0,enumerable:!1})}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(n){var r=0,t=!0===n.RN$useAlwaysAvailableJSErrorHandling?n.RN$handleException:function(n,r){throw n},l={setGlobalHandler:function(n){t=n},getGlobalHandler:function(){return t},reportError:function(n){t&&t(n,!1)},reportFatalError:function(n){t&&t(n,!0)},applyWithGuard:function(n,t,u,a,e){try{return r++,n.apply(t,u)}catch(n){l.reportError(n)}finally{r--}return null},applyWithGuardIfNeeded:function(n,r,t){return l.inGuard()?n.apply(r,t):(l.applyWithGuard(n,r,t),null)},inGuard:function(){return!!r},guard:function(n,r,t){var u;if('function'!=typeof n)return console.warn('A function must be passed to ErrorUtils.guard, got ',n),null;var a=null!=(u=null!=r?r:n.name)?u:'<generated guard>';return function(){for(var r=arguments.length,u=new Array(r),e=0;e<r;e++)u[e]=arguments[e];return l.applyWithGuard(n,null!=t?t:this,u,null,a)}}};n.ErrorUtils=l})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),t=r(d[1]),o=n(r(d[2]));t.AppRegistry.registerComponent(r(d[3]).name,function(){return o.default})},0,[1,2,479,1169]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){return e&&e.__esModule?e:{default:e}},m.exports.__esModule=!0,m.exports.default=m.exports},1,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={get registerCallableModule(){return r(d[0]).default},get AccessibilityInfo(){return r(d[1]).default},get ActivityIndicator(){return r(d[2]).default},get Button(){return r(d[3]).default},get DrawerLayoutAndroid(){return r(d[4])},get FlatList(){return r(d[5])},get Image(){return r(d[6])},get ImageBackground(){return r(d[7])},get InputAccessoryView(){return r(d[8]).default},get experimental_LayoutConformance(){return r(d[9]).default},get KeyboardAvoidingView(){return r(d[10]).default},get Modal(){return r(d[11])},get Pressable(){return r(d[12]).default},get ProgressBarAndroid(){return r(d[13])('progress-bar-android-moved',"ProgressBarAndroid has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/progress-bar-android' instead of 'react-native'. See https://github.com/react-native-progress-view/progress-bar-android"),r(d[14])},get RefreshControl(){return r(d[15])},get SafeAreaView(){return r(d[16]).default},get ScrollView(){return r(d[17])},get SectionList(){return r(d[18]).default},get StatusBar(){return r(d[19])},get Switch(){return r(d[20]).default},get Text(){return r(d[21])},get TextInput(){return r(d[22])},get Touchable(){return r(d[23]).default},get TouchableHighlight(){return r(d[24])},get TouchableNativeFeedback(){return r(d[25])},get TouchableOpacity(){return r(d[26])},get TouchableWithoutFeedback(){return r(d[27])},get View(){return r(d[28])},get VirtualizedList(){return r(d[29])},get VirtualizedSectionList(){return r(d[30])},get ActionSheetIOS(){return r(d[31])},get Alert(){return r(d[32])},get Animated(){return r(d[33]).default},get Appearance(){return r(d[34])},get AppRegistry(){return r(d[35])},get AppState(){return r(d[36])},get BackHandler(){return r(d[37])},get Clipboard(){return r(d[13])('clipboard-moved',"Clipboard has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-clipboard/clipboard' instead of 'react-native'. See https://github.com/react-native-clipboard/clipboard"),r(d[38])},get DeviceInfo(){return r(d[39])},get DevMenu(){return r(d[40])},get DevSettings(){return r(d[41])},get Dimensions(){return r(d[42]).default},get Easing(){return r(d[43]).default},get findNodeHandle(){return r(d[44]).findNodeHandle},get I18nManager(){return r(d[45])},get InteractionManager(){return r(d[46])},get Keyboard(){return r(d[47])},get LayoutAnimation(){return r(d[48])},get Linking(){return r(d[49])},get LogBox(){return r(d[50]).default},get NativeDialogManagerAndroid(){return r(d[51]).default},get NativeEventEmitter(){return r(d[52]).default},get Networking(){return r(d[53]).default},get PanResponder(){return r(d[54]).default},get PermissionsAndroid(){return r(d[55])},get PixelRatio(){return r(d[56]).default},get PushNotificationIOS(){return r(d[13])('pushNotificationIOS-moved',"PushNotificationIOS has been extracted from react-native core and will be removed in a future release. It can now be installed and imported from '@react-native-community/push-notification-ios' instead of 'react-native'. See https://github.com/react-native-push-notification/ios"),r(d[57])},get Settings(){return r(d[58])},get Share(){return r(d[59])},get StyleSheet(){return r(d[60])},get Systrace(){return r(d[61])},get ToastAndroid(){return r(d[62])},get TurboModuleRegistry(){return r(d[63])},get UIManager(){return r(d[64])},get unstable_batchedUpdates(){return r(d[44]).unstable_batchedUpdates},get useAnimatedValue(){return r(d[65]).default},get useColorScheme(){return r(d[66]).default},get useWindowDimensions(){return r(d[67]).default},get UTFSequence(){return r(d[68]).default},get Vibration(){return r(d[69])},get YellowBox(){return r(d[70])},get DeviceEventEmitter(){return r(d[71]).default},get DynamicColorIOS(){return r(d[72]).DynamicColorIOS},get NativeAppEventEmitter(){return r(d[73])},get NativeModules(){return r(d[74])},get Platform(){return r(d[75])},get PlatformColor(){return r(d[76]).PlatformColor},get processColor(){return r(d[77]).default},get requireNativeComponent(){return r(d[78]).default},get RootTagContext(){return r(d[79]).RootTagContext},get unstable_enableLogBox(){return function(){return console.warn('LogBox is enabled by default so there is no need to call unstable_enableLogBox() anymore. This is a no op and will be removed in the next version.')}}}},2,[3,21,257,266,384,325,344,392,393,400,402,403,412,79,258,355,394,360,381,385,414,267,419,423,427,279,280,428,178,429,430,431,149,281,434,161,437,227,441,444,445,447,208,303,57,409,299,366,367,450,455,151,126,125,456,458,207,461,464,465,221,17,468,36,44,471,472,397,473,474,477,22,478,156,37,33,187,184,262,224]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(){if(!0===g.RN$Bridgeless)return function(t,l){'function'!=typeof l?g.RN$registerCallableModule(t,function(){return l}):g.RN$registerCallableModule(t,l)};var t=r(d[0]);return function(l,u){'function'!=typeof u?t.registerCallableModule(l,u):t.registerLazyCallableModule(l,u)}})();e.default=t},3,[4]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=new(r(d[0]));Object.defineProperty(g,'__fbBatchedBridge',{configurable:!0,value:t}),m.exports=t},4,[5]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),l=r(d[1]),s=r(d[2]),u=(function(){function u(){l(this,u),this._lazyCallableModules={},this._queue=[[],[],[],0],this._successCallbacks=new Map,this._failureCallbacks=new Map,this._callID=0,this._lastFlush=0,this._eventLoopStartTime=Date.now(),this._reactNativeMicrotasksCallback=null,this.callFunctionReturnFlushedQueue=this.callFunctionReturnFlushedQueue.bind(this),this.flushedQueue=this.flushedQueue.bind(this),this.invokeCallbackAndReturnFlushedQueue=this.invokeCallbackAndReturnFlushedQueue.bind(this)}return s(u,[{key:"callFunctionReturnFlushedQueue",value:function(t,l,s){var u=this;return this.__guard(function(){u.__callFunction(t,l,s)}),this.flushedQueue()}},{key:"invokeCallbackAndReturnFlushedQueue",value:function(t,l){var s=this;return this.__guard(function(){s.__invokeCallback(t,l)}),this.flushedQueue()}},{key:"flushedQueue",value:function(){var t=this;this.__guard(function(){t.__callReactNativeMicrotasks()});var l=this._queue;return this._queue=[[],[],[],this._callID],l[0].length?l:null}},{key:"getEventLoopRunningTime",value:function(){return Date.now()-this._eventLoopStartTime}},{key:"registerCallableModule",value:function(t,l){this._lazyCallableModules[t]=function(){return l}}},{key:"registerLazyCallableModule",value:function(t,l){var s,u=l;this._lazyCallableModules[t]=function(){return u&&(s=u(),u=null),s}}},{key:"getCallableModule",value:function(t){var l=this._lazyCallableModules[t];return l?l():null}},{key:"callNativeSyncHook",value:function(t,l,s,u,n){return this.processCallbacks(t,l,s,u,n),g.nativeCallSyncHook(t,l,s)}},{key:"processCallbacks",value:function(t,l,s,u,n){(u||n)&&(u&&s.push(this._callID<<1),n&&s.push(this._callID<<1|1),this._successCallbacks.set(this._callID,n),this._failureCallbacks.set(this._callID,u)),this._callID++}},{key:"enqueueNativeCall",value:function(t,l,s,u,n){this.processCallbacks(t,l,s,u,n),this._queue[0].push(t),this._queue[1].push(l),this._queue[2].push(s);var o=Date.now();if(g.nativeFlushQueueImmediate&&o-this._lastFlush>=5){var h=this._queue;this._queue=[[],[],[],this._callID],this._lastFlush=o,g.nativeFlushQueueImmediate(h)}r(d[3]).counterEvent('pending_js_to_native_queue',this._queue[0].length),this.__spy&&this.__spy({type:1,module:t+'',method:l,args:s})}},{key:"createDebugLookup",value:function(t,l,s){}},{key:"setReactNativeMicrotasksCallback",value:function(t){this._reactNativeMicrotasksCallback=t}},{key:"__guard",value:function(t){if(this.__shouldPauseOnThrow())t();else try{t()}catch(t){r(d[4]).reportFatalError(t)}}},{key:"__shouldPauseOnThrow",value:function(){return'undefined'!=typeof DebuggerInternal&&!0===DebuggerInternal.shouldPauseOnThrow}},{key:"__callReactNativeMicrotasks",value:function(){r(d[3]).beginEvent('JSTimers.callReactNativeMicrotasks()');try{null!=this._reactNativeMicrotasksCallback&&this._reactNativeMicrotasksCallback()}finally{r(d[3]).endEvent()}}},{key:"__callFunction",value:function(t,l,s){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush,this.__spy?r(d[3]).beginEvent(`${t}.${l}(${r(d[5]).default(s)})`):r(d[3]).beginEvent(`${t}.${l}(...)`);try{this.__spy&&this.__spy({type:0,module:t,method:l,args:s});var u=this.getCallableModule(t);if(!u){var n=Object.keys(this._lazyCallableModules),o=n.length,h=n.join(', '),c=!0===g.RN$Bridgeless?'true':'false';r(d[6])(!1,`Failed to call into JavaScript module method ${t}.${l}(). Module has not been registered as callable. Bridgeless Mode: ${c}. Registered callable JavaScript modules (n = ${o}): ${h}.\n          A frequent cause of the error is that the application entry file path is incorrect. This can also happen when the JS bundle is corrupt or there is an early initialization error when loading React Native.`)}u[l]||r(d[6])(!1,`Failed to call into JavaScript module method ${t}.${l}(). Module exists, but the method is undefined.`),u[l].apply(u,s)}finally{r(d[3]).endEvent()}}},{key:"__invokeCallback",value:function(l,s){this._lastFlush=Date.now(),this._eventLoopStartTime=this._lastFlush;var u=l>>>1,n=1&l?this._successCallbacks.get(u):this._failureCallbacks.get(u);try{if(!n)return;this._successCallbacks.delete(u),this._failureCallbacks.delete(u),n.apply(void 0,t(s))}finally{}}}],[{key:"spy",value:function(t){u.prototype.__spy=!0===t?function(t){console.log((0===t.type?'N->JS':'JS->N')+" : "+`${null!=t.module?t.module+'.':''}${t.method}`+`(${JSON.stringify(t.args)})`)}:!1===t?null:t}}])})();m.exports=u},5,[6,12,13,17,18,19,20]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(t){return _r(d[0])(t)||_r(d[1])(t)||_r(d[2])(t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},6,[7,9,10,11]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(r){if(Array.isArray(r))return _r(d[0])(r)},m.exports.__esModule=!0,m.exports.default=m.exports},7,[8]);
__d(function(g,_r,i,_a,m,_e,d){m.exports=function(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n},m.exports.__esModule=!0,m.exports.default=m.exports},8,[]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)},m.exports.__esModule=!0,m.exports.default=m.exports},9,[]);
__d(function(g,_r,i,_a,m,e,d){m.exports=function(t,r){if(t){if("string"==typeof t)return _r(d[0])(t,r);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_r(d[0])(t,r):void 0}},m.exports.__esModule=!0,m.exports.default=m.exports},10,[8]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},11,[]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")},m.exports.__esModule=!0,m.exports.default=m.exports},12,[]);
__d(function(g,_r,i,a,m,_e,d){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_r(d[0])(o.key),o)}}m.exports=function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r},m.exports.__esModule=!0,m.exports.default=m.exports},13,[14]);
__d(function(g,r,_i,a,m,e,d){m.exports=function(t){var o=r(d[0])(t,"string");return"symbol"==r(d[1]).default(o)?o:o+""},m.exports.__esModule=!0,m.exports.default=m.exports},14,[15,16]);
__d(function(g,_r,_i,a,m,_e,d){m.exports=function(t,r){if("object"!=_r(d[0]).default(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_r(d[0]).default(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)},m.exports.__esModule=!0,m.exports.default=m.exports},15,[16]);
__d(function(g,r,i,a,m,e,d){function o(t){return m.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},m.exports.__esModule=!0,m.exports.default=m.exports,o(t)}m.exports=o,m.exports.__esModule=!0,m.exports.default=m.exports},16,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.beginAsyncEvent=function(o,f){var v=t;if(c()){t++;var u='function'==typeof o?o():o;g.nativeTraceBeginAsyncSection(n,u,v,f)}return v},e.beginEvent=function(t,o){if(c()){var f='function'==typeof t?t():t;g.nativeTraceBeginSection(n,f,o)}},e.counterEvent=function(t,o){if(c()){var f='function'==typeof t?t():t;g.nativeTraceCounter&&g.nativeTraceCounter(n,f,o)}},e.endAsyncEvent=function(t,o,f){if(c()){var v='function'==typeof t?t():t;g.nativeTraceEndAsyncSection(n,v,o,f)}},e.endEvent=function(t){c()&&g.nativeTraceEndSection(n,t)},e.isEnabled=c,e.setEnabled=function(n){};var n=131072,t=0;function c(){return g.nativeTraceIsTracing?g.nativeTraceIsTracing(n):Boolean(g.__RCTProfileIsProfiling)}},17,[]);
__d(function(g,r,i,a,m,e,d){m.exports=g.ErrorUtils},18,[]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createStringifySafeWithLimits=n,_e.default=void 0;var e=t(r(d[1]));function n(t){var n=t.maxDepth,f=void 0===n?Number.POSITIVE_INFINITY:n,u=t.maxStringLimit,o=void 0===u?Number.POSITIVE_INFINITY:u,l=t.maxArrayLimit,c=void 0===l?Number.POSITIVE_INFINITY:l,s=t.maxObjectKeysLimit,y=void 0===s?Number.POSITIVE_INFINITY:s,h=[];function I(t,n){for(;h.length&&this!==h[0];)h.shift();if('string'==typeof n){var u='...(truncated)...';return n.length>o+17?n.substring(0,o)+u:n}if('object'!=typeof n||null===n)return n;var l=n;if(Array.isArray(n))h.length>=f?l=`[ ... array with ${n.length} values ... ]`:n.length>c&&(l=n.slice(0,c).concat([`... extra ${n.length-c} values truncated ...`]));else{(0,e.default)('object'==typeof n,'This was already found earlier');var s=Object.keys(n);if(h.length>=f)l=`{ ... object with ${s.length} keys ... }`;else if(s.length>y){for(var I of(l={},s.slice(0,y)))l[I]=n[I];l['...(truncated keys)...']=s.length-y}}return h.unshift(l),l}return function(t){if(void 0===t)return'undefined';if(null===t)return'null';if('function'==typeof t)try{return t.toString()}catch(t){return'[function unknown]'}else{if(t instanceof Error)return t.name+': '+t.message;try{var e=JSON.stringify(t,I);return void 0===e?'["'+typeof t+'" failed to stringify]':e}catch(e){if('function'==typeof t.toString)try{return t.toString()}catch(t){}}}return'["'+typeof t+'" failed to stringify]'}}var f=n({maxDepth:10,maxStringLimit:100,maxArrayLimit:50,maxObjectKeysLimit:50});_e.default=f},19,[1,20]);
__d(function(g,r,i,_a,m,_e,_d){'use strict';m.exports=function(e,n,o,t,a,f,s,d){if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,t,a,f,s,d],l=0;(u=new Error(n.replace(/%s/g,function(){return c[l++]}))).name='Invariant Violation'}throw u.framesToPop=1,u}}},20,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),l=n(r(d[2])),u=n(r(d[3])),o=n(r(d[4])),s=n(r(d[5])),c='android'===l.default.OS?new Map([['change','touchExplorationDidChange'],['reduceMotionChanged','reduceMotionDidChange'],['highTextContrastChanged','highTextContrastDidChange'],['screenReaderChanged','touchExplorationDidChange'],['accessibilityServiceChanged','accessibilityServiceDidChange'],['invertColorsChanged','invertColorDidChange'],['grayscaleChanged','grayscaleModeDidChange']]):new Map([['announcementFinished','announcementFinished'],['boldTextChanged','boldTextChanged'],['change','screenReaderChanged'],['grayscaleChanged','grayscaleChanged'],['invertColorsChanged','invertColorsChanged'],['reduceMotionChanged','reduceMotionChanged'],['reduceTransparencyChanged','reduceTransparencyChanged'],['screenReaderChanged','screenReaderChanged'],['darkerSystemColorsChanged','darkerSystemColorsChanged']]),f={isBoldTextEnabled:function(){return'android'===l.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=s.default?s.default.getCurrentBoldTextState(n,t):t(null)})},isGrayscaleEnabled:function(){return'android'===l.default.OS?new Promise(function(n,t){null!=(null==o.default?void 0:o.default.isGrayscaleEnabled)?o.default.isGrayscaleEnabled(n):t(null)}):new Promise(function(n,t){null!=s.default?s.default.getCurrentGrayscaleState(n,t):t(null)})},isInvertColorsEnabled:function(){return'android'===l.default.OS?new Promise(function(n,t){null!=(null==o.default?void 0:o.default.isInvertColorsEnabled)?o.default.isInvertColorsEnabled(n):t(null)}):new Promise(function(n,t){null!=s.default?s.default.getCurrentInvertColorsState(n,t):t(null)})},isReduceMotionEnabled:function(){return new Promise(function(n,t){'android'===l.default.OS?null!=o.default?o.default.isReduceMotionEnabled(n):t(null):null!=s.default?s.default.getCurrentReduceMotionState(n,t):t(null)})},isHighTextContrastEnabled:function(){return new Promise(function(n,t){if('android'!==l.default.OS)return Promise.resolve(!1);null!=(null==o.default?void 0:o.default.isHighTextContrastEnabled)?o.default.isHighTextContrastEnabled(n):t(null)})},isDarkerSystemColorsEnabled:function(){return new Promise(function(n,t){if('android'===l.default.OS)return Promise.resolve(!1);null!=(null==s.default?void 0:s.default.getCurrentDarkerSystemColorsState)?s.default.getCurrentDarkerSystemColorsState(n,t):t(null)})},prefersCrossFadeTransitions:function(){return new Promise(function(n,t){if('android'===l.default.OS)return Promise.resolve(!1);null!=(null==s.default?void 0:s.default.getCurrentPrefersCrossFadeTransitionsState)?s.default.getCurrentPrefersCrossFadeTransitionsState(n,t):t(null)})},isReduceTransparencyEnabled:function(){return'android'===l.default.OS?Promise.resolve(!1):new Promise(function(n,t){null!=s.default?s.default.getCurrentReduceTransparencyState(n,t):t(null)})},isScreenReaderEnabled:function(){return new Promise(function(n,t){'android'===l.default.OS?null!=o.default?o.default.isTouchExplorationEnabled(n):t(null):null!=s.default?s.default.getCurrentVoiceOverState(n,t):t(null)})},isAccessibilityServiceEnabled:function(){return new Promise(function(n,t){'android'===l.default.OS&&null!=o.default&&null!=o.default.isAccessibilityServiceEnabled?o.default.isAccessibilityServiceEnabled(n):t(null)})},addEventListener:function(n,l){var u=c.get(n);return null==u?{remove:function(){}}:t.default.addListener(u,l)},setAccessibilityFocus:function(n){(0,u.default)(n,'focus')},sendAccessibilityEvent:function(n,t){'ios'===l.default.OS&&'click'===t||(0,r(d[6]).sendAccessibilityEvent)(n,t)},announceForAccessibility:function(n){'android'===l.default.OS?null==o.default||o.default.announceForAccessibility(n):null==s.default||s.default.announceForAccessibility(n)},announceForAccessibilityWithOptions:function(n,t){'android'===l.default.OS?null==o.default||o.default.announceForAccessibility(n):null!=s.default&&s.default.announceForAccessibilityWithOptions?null==s.default||s.default.announceForAccessibilityWithOptions(n,t):null==s.default||s.default.announceForAccessibility(n)},getRecommendedTimeoutMillis:function(n){return'android'===l.default.OS?new Promise(function(t,l){null!=o.default&&o.default.getRecommendedTimeoutMillis?o.default.getRecommendedTimeoutMillis(n,t):t(n)}):Promise.resolve(n)}};e.default=f},21,[1,22,33,43,53,55,57]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),c=t(_r(d[6]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}var l=(function(t){function l(){return(0,e.default)(this,l),t=this,n=l,o=arguments,n=(0,u.default)(n),(0,r.default)(t,f()?Reflect.construct(n,o||[],(0,u.default)(t).constructor):n.apply(t,o));var t,n,o}return(0,c.default)(l,t),(0,n.default)(l,[{key:"emit",value:function(t){(0,_r(d[8]).beginEvent)(function(){return`RCTDeviceEventEmitter.emit#${t}`});for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var c,f,v,p,y;(c=l,f="emit",v=this,p=3,y=(0,o.default)((0,u.default)(1&p?c.prototype:c),f,v),2&p&&"function"==typeof y?function(t){return y.apply(v,t)}:y)([t].concat(n)),(0,_r(d[8]).endEvent)()}}])})(t(_r(d[7])).default),v=new l;Object.defineProperty(g,'__rctDeviceEventEmitter',{configurable:!0,value:v});_e.default=v},22,[1,12,13,23,25,26,28,30,17]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,o){if(o&&("object"==r(d[0]).default(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return r(d[1])(e)},m.exports.__esModule=!0,m.exports.default=m.exports},23,[16,24]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},m.exports.__esModule=!0,m.exports.default=m.exports},24,[]);
__d(function(g,r,i,a,m,e,d){function t(o){return m.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m.exports.__esModule=!0,m.exports.default=m.exports,t(o)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},25,[]);
__d(function(g,_r,i,a,m,_e,d){function e(){return m.exports=e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=_r(d[0])(e,t);if(o){var l=Object.getOwnPropertyDescriptor(o,t);return l.get?l.get.call(arguments.length<3?e:r):l.value}},m.exports.__esModule=!0,m.exports.default=m.exports,e.apply(null,arguments)}m.exports=e,m.exports.__esModule=!0,m.exports.default=m.exports},26,[27]);
__d(function(g,r,i,a,m,e,d){m.exports=function(o,t){for(;!{}.hasOwnProperty.call(o,t)&&null!==(o=r(d[0])(o)););return o},m.exports.__esModule=!0,m.exports.default=m.exports},27,[25]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(d[0])(e,t)},m.exports.__esModule=!0,m.exports.default=m.exports},28,[29]);
__d(function(g,r,i,a,m,_e,d){function t(e,o){return m.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m.exports.__esModule=!0,m.exports.default=m.exports,t(e,o)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},29,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),f=(0,t(r(d[4])).default)("registry");e.default=(function(){return(0,u.default)(function t(){(0,n.default)(this,t),Object.defineProperty(this,f,{writable:!0,value:{}})},[{key:"addListener",value:function(t,n,u){if('function'!=typeof n)throw new TypeError('EventEmitter.addListener(...): 2nd argument must be a function.');var s=o((0,l.default)(this,f)[f],t),v={context:u,listener:n,remove:function(){s.delete(v)}};return s.add(v),v}},{key:"emit",value:function(t){var n=(0,l.default)(this,f)[f][t];if(null!=n){for(var u=arguments.length,o=new Array(u>1?u-1:0),s=1;s<u;s++)o[s-1]=arguments[s];for(var v of Array.from(n))v.listener.apply(v.context,o)}}},{key:"removeAllListeners",value:function(t){null==t?(0,l.default)(this,f)[f]={}:delete(0,l.default)(this,f)[f][t]}},{key:"listenerCount",value:function(t){var n=(0,l.default)(this,f)[f][t];return null==n?0:n.size}}])})();function o(t,n){var u=t[n];return null==u&&(u=new Set,t[n]=u),u}},30,[1,12,13,31,32]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e,t){if(!{}.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e},m.exports.__esModule=!0,m.exports.default=m.exports},31,[]);
__d(function(g,r,i,a,m,_e,d){var e=0;m.exports=function(t){return"__private_"+e+++"_"+t},m.exports.__esModule=!0,m.exports.default=m.exports},32,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n={__constants:null,OS:'android',get Version(){return this.constants.Version},get constants(){return null==this.__constants&&(this.__constants=t.default.getConstants()),this.__constants},get isTesting(){return!1},get isDisableAnimations(){var t;return null!=(t=this.constants.isDisableAnimations)?t:this.isTesting},get isTV(){return'tv'===this.constants.uiMode},get isVision(){return!1},select:function(t){return'android'in t?t.android:'native'in t?t.native:t.default}};m.exports=n},33,[1,34]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},34,[35]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('PlatformConstants')},35,[36]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(n){return o(n)},e.getEnforcing=function(n){var u=o(n);return(0,t.default)(null!=u,`TurboModuleRegistry.getEnforcing(...): '${n}' could not be found. Verify that a module by this name is registered in the native binary.`),u};var t=n(r(d[1])),u=g.__turboModuleProxy;function o(n){if(null!=u){var t=u(n);if(null!=t)return t}if(!0!==g.RN$Bridgeless||!0===g.RN$TurboInterop||!0===g.RN$UnifiedNativeModuleProxy){var o=r(d[2])[n];if(null!=o)return o}return null}},36,[1,20,37]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);function t(t,o){if(!t)return null;var f=n(t,5),s=f[0],c=f[1],v=f[2],h=f[3],y=f[4];if(r(d[1])(!s.startsWith('RCT')&&!s.startsWith('RK'),"Module name prefixes should've been stripped by the native side but wasn't for "+s),!c&&!v)return{name:s};var C={};return v&&v.forEach(function(n,t){var f=h&&l(h,t)||!1,s=y&&l(y,t)||!1;r(d[1])(!f||!s,'Cannot have a method that is both async and a sync hook');var c=f?'promise':s?'sync':'async';C[n]=u(o,t,c)}),Object.assign(C,c),null==C.getConstants?C.getConstants=function(){return c||Object.freeze({})}:console.warn(`Unable to define method 'getConstants()' on NativeModule '${s}'. NativeModule '${s}' already has a constant or method called 'getConstants'. Please remove it.`),{name:s,module:C}}function o(n,o){r(d[1])(g.nativeRequireModuleConfig,"Can't lazily create module without nativeRequireModuleConfig");var u=t(g.nativeRequireModuleConfig(n),o);return u&&u.module}function u(n,t,o){var u=null;return u='promise'===o?function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];var s=new Error;return new Promise(function(o,l){r(d[2]).enqueueNativeCall(n,t,u,function(n){return o(n)},function(n){return l(f(n,s))})})}:function(){for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];var s=l.length>0?l[l.length-1]:null,c=l.length>1?l[l.length-2]:null,v='function'==typeof s,h='function'==typeof c;h&&r(d[1])(v,'Cannot have a non-function arg after a function arg.');var y=v?s:null,C=h?c:null,b=v+h,M=l.slice(0,l.length-b);if('sync'===o)return r(d[2]).callNativeSyncHook(n,t,M,C,y);r(d[2]).enqueueNativeCall(n,t,M,C,y)},u.type=o,u}function l(n,t){return-1!==n.indexOf(t)}function f(n,t){return Object.assign(t,n||{})}g.__fbGenNativeModule=t;var s={};if(g.nativeModuleProxy)s=g.nativeModuleProxy;else{var c=g.__fbBatchedBridgeConfig;r(d[1])(c,'__fbBatchedBridgeConfig is not set, cannot invoke native modules');var v=r(d[3]);(c.remoteModuleConfig||[]).forEach(function(n,u){var l=t(n,u);l&&(l.module?s[l.name]=l.module:v(s,l.name,{get:function(){return o(l.name,u)}}))})}m.exports=s},37,[38,20,4,42]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(e,t){return _r(d[0])(e)||_r(d[1])(e,t)||_r(d[2])(e,t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},38,[39,40,10,41]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(r){if(Array.isArray(r))return r},m.exports.__esModule=!0,m.exports.default=m.exports},39,[]);
__d(function(g,_r,_i,_a,m,_e,d){m.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l,n,u,o,f=[],i=!0,a=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(l=u.call(r)).done)&&(f.push(l.value),f.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{if(!i&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(a)throw n}}return f}},m.exports.__esModule=!0,m.exports.default=m.exports},40,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.__esModule=!0,m.exports.default=m.exports},41,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){var b,c=u.get,o=!1!==u.enumerable,f=!1!==u.writable,l=!1;function s(u){b=u,l=!0,Object.defineProperty(t,n,{value:u,configurable:!0,enumerable:o,writable:f})}Object.defineProperty(t,n,{get:function(){return l||(l=!0,s(c())),b},set:s,configurable:!0,enumerable:o})}},42,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=t(r(d[1])),c=t(r(d[2]));m.exports=function(t,n){'focus'===n&&(0,c.default)(s.default.sendAccessibilityEvent)(t,s.default.getConstants().AccessibilityEventTypes.typeViewFocused),'click'===n&&(0,c.default)(s.default.sendAccessibilityEvent)(t,s.default.getConstants().AccessibilityEventTypes.typeViewClicked)}},43,[1,44,45]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0])(r(d[1]));function o(n){return n%2==0}var t=!0===g.RN$Bridgeless?r(d[2]):r(d[3]),u=Object.assign({},t,{measure:function(u,s){if(o(u)){var f=(0,n.default)((0,r(d[4]).getFabricUIManager)()),c=f.findShadowNodeByTag_DEPRECATED(u);c?f.measure(c,s):(console.warn(`measure cannot find view with tag #${u}`),s())}else t.measure(u,s)},measureInWindow:function(u,s){if(o(u)){var f=(0,n.default)((0,r(d[4]).getFabricUIManager)()),c=f.findShadowNodeByTag_DEPRECATED(u);c?f.measureInWindow(c,s):(console.warn(`measure cannot find view with tag #${u}`),s())}else t.measureInWindow(u,s)},measureLayout:function(u,s,f,c){if(o(u)){var w=(0,n.default)((0,r(d[4]).getFabricUIManager)()),l=w.findShadowNodeByTag_DEPRECATED(u),E=w.findShadowNodeByTag_DEPRECATED(s);if(!l||!E)return;w.measureLayout(l,E,f,c)}else t.measureLayout(u,s,f,c)},measureLayoutRelativeToParent:function(u,s,f){if(o(u)){console.warn('RCTUIManager.measureLayoutRelativeToParent method is deprecated and it will not be implemented in newer versions of RN (Fabric) - T47686450');var c=(0,n.default)((0,r(d[4]).getFabricUIManager)()),w=c.findShadowNodeByTag_DEPRECATED(u);w&&c.measure(w,function(n,o,t,u,s,c){f(n,o,t,u)})}else t.measureLayoutRelativeToParent(u,s,f)},dispatchViewManagerCommand:function(u,s,f){if('number'!=typeof u)throw new Error('dispatchViewManagerCommand: found null reactTag');if(o(u)){var c=(0,n.default)((0,r(d[4]).getFabricUIManager)()),w=c.findShadowNodeByTag_DEPRECATED(u);w&&(s=`${s}`,c.dispatchCommand(w,s,f))}else t.dispatchViewManagerCommand(u,s,f)}});m.exports=u},44,[1,45,46,49,47]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},45,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]),t=n(r(d[1])),o=n(r(d[2])),s=n(r(d[3]));function u(n,t){console.error(`[ReactNative Architecture][JS] '${n}' is not available in the new React Native architecture.`+(t?` ${t}`:''))}var c,f,l=g.RN$LegacyInterop_UIManager_getConstants,w=(c=!1,f={},function(){return c||(f=(0,s.default)(l)(),c=!0),f}),v=g.RN$LegacyInterop_UIManager_getConstantsForViewManager,C=g.RN$LegacyInterop_UIManager_getDefaultEventTypes,p=(function(){var n=!1,t=null;return function(){return n||(t=(0,s.default)(C)(),n=!0),t}})(),h={measure:function(n,t){u('measure')},measureInWindow:function(n,t){u('measureInWindow')},measureLayout:function(n,t,o,s){u('measureLayout')},measureLayoutRelativeToParent:function(n,t,o){u('measureLayoutRelativeToParent')},dispatchViewManagerCommand:function(n,t,o){u('dispatchViewManagerCommand')}},y={createView:function(n,t,o,s){u('createView')},updateView:function(n,t,o){u('updateView')},setChildren:function(n,t){u('setChildren')},manageChildren:function(n,t,o,s,c,f){u('manageChildren')},setJSResponder:function(n,t){u('setJSResponder')},clearJSResponder:function(){u('clearJSResponder')}},E=o.default.select({android:{}}),b=o.default.select({android:{getConstantsForViewManager:function(n){return v?v(n):(u('getConstantsForViewManager'),{})},getDefaultEventTypes:function(){return C?p():(u('getDefaultEventTypes'),[])},setLayoutAnimationEnabledExperimental:function(n){n||u('setLayoutAnimationEnabledExperimental(false)','Layout animations are always enabled in the New Architecture.')},sendAccessibilityEvent:function(n,t){var o=null;if(t===8)o='focus';else if(t===32)o='windowStateChange';else if(t===1)o='click';else{if(t!==128)return void console.error(`sendAccessibilityEvent() dropping event: Called with unsupported eventType: ${t}`);o='viewHoverEnter'}var u=(0,s.default)((0,r(d[4]).getFabricUIManager)()),c=u.findShadowNodeByTag_DEPRECATED(n);c?u.sendAccessibilityEvent(c,o):console.error(`sendAccessibilityEvent() dropping event: Cannot find view with tag #${n}`)}},ios:{lazilyLoadView:function(n){return u('lazilyLoadView'),{}},focus:function(n){var t=(0,s.default)((0,r(d[4]).getFabricUIManager)()),o=t.findShadowNodeByTag_DEPRECATED(n);o?t.dispatchCommand(o,'focus',[]):console.error(`focus() noop: Cannot find view with tag #${n}`)},blur:function(n){var t=(0,s.default)((0,r(d[4]).getFabricUIManager)()),o=t.findShadowNodeByTag_DEPRECATED(n);o?t.dispatchCommand(o,'blur',[]):console.error(`blur() noop: Cannot find view with tag #${n}`)}}}),M=Object.assign({},h,E,b,y,{getViewManagerConfig:function(n){if(l){var t=w();return!t[n]&&M.getConstantsForViewManager&&(t[n]=M.getConstantsForViewManager(n)),t[n]}return u(`getViewManagerConfig('${n}')`,`If '${n}' has a ViewManager and you want to retrieve its native ViewConfig, please turn on the native ViewConfig interop layer. If you want to see if this component is registered with React Native, please call hasViewManagerConfig('${n}') instead.`),null},hasViewManagerConfig:function(n){return(0,r(d[5]).unstable_hasComponent)(n)},getConstants:function(){return l?w():(u('getConstants'),null)},findSubviewIn:function(n,t,o){var u=(0,s.default)((0,r(d[4]).getFabricUIManager)()),c=u.findShadowNodeByTag_DEPRECATED(n);c?u.findNodeAtPoint(c,t[0],t[1],function(n){if(null!=n){var t=n,s=t.stateNode.node;if(s){var c=t.stateNode.canonical.nativeTag;u.measure(s,function(n,t,s,u,f,l){o(c,f,l,s,u)})}else console.error('findSubviewIn(): Cannot find node at point')}else console.error('findSubviewIn(): Cannot find node at point')}):console.error(`findSubviewIn() noop: Cannot find view with reactTag ${n}`)},viewIsDescendantOf:function(n,t,o){var u=(0,s.default)((0,r(d[4]).getFabricUIManager)()),c=u.findShadowNodeByTag_DEPRECATED(n);if(c){var f=u.findShadowNodeByTag_DEPRECATED(t);if(f){o([!!(16&u.compareDocumentPosition(f,c))])}else console.error(`viewIsDescendantOf() noop: Cannot find view with ancestorReactTag ${t}`)}else console.error(`viewIsDescendantOf() noop: Cannot find view with reactTag ${n}`)},configureNextLayoutAnimation:function(n,t,o){(0,s.default)((0,r(d[4]).getFabricUIManager)()).configureNextLayoutAnimation(n,t,o)}});l&&(Object.keys(w()).forEach(function(n){M[n]=w()[n]}),M.getConstants().ViewManagerNames&&M.getConstants().ViewManagerNames.forEach(function(n){(0,t.default)(M,n,{get:function(){return(0,s.default)(M.getConstantsForViewManager)(n)}})})),m.exports=M},46,[1,42,33,45,47,48]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getFabricUIManager=function(){null==t&&null!=g.nativeFabricUIManager&&(t=u(g.nativeFabricUIManager,c));return t};var t,o=n(r(d[1])),c=['createNode','cloneNode','cloneNodeWithNewChildren','cloneNodeWithNewProps','cloneNodeWithNewChildrenAndProps','createChildSet','appendChild','appendChildToSet','completeRoot','measure','measureInWindow','measureLayout','configureNextLayoutAnimation','sendAccessibilityEvent','findShadowNodeByTag_DEPRECATED','setNativeProps','dispatchCommand','compareDocumentPosition','getBoundingClientRect'];function u(n,t){var c=Object.create(n),u=function(t){(0,o.default)(c,t,{get:function(){return n[t]}})};for(var l of t)u(l);return c}},47,[1,42]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.unstable_hasComponent=function(t){var o=n.get(t);if(null==o){if(!g.__nativeComponentRegistry__hasComponent)throw`unstable_hasComponent('${t}'): Global function is not registered`;o=g.__nativeComponentRegistry__hasComponent(t),n.set(t,o)}return o};var n=new Map},48,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),n=e(r(d[1])),t=e(r(d[2])),o={},f=new Set,u={},c=!1;function l(){return c||(u=n.default.getConstants(),c=!0),u}function s(e){if(void 0===o[e]&&g.nativeCallSyncHook&&n.default.getConstantsForViewManager)try{o[e]=n.default.getConstantsForViewManager(e)}catch(n){console.error("NativeUIManager.getConstantsForViewManager('"+e+"') threw an exception.",n),o[e]=null}var u=o[e];if(u)return u;if(!g.nativeCallSyncHook)return u;if(n.default.lazilyLoadView&&!f.has(e)){var c=(0,t.default)(n.default.lazilyLoadView)(e);f.add(e),null!=c&&null!=c.viewConfig&&(l()[e]=c.viewConfig,C(e))}return o[e]}var w=Object.assign({},n.default,{createView:function(e,t,o,f){n.default.createView(e,t,o,f)},getConstants:function(){return l()},getViewManagerConfig:function(e){return s(e)},hasViewManagerConfig:function(e){return null!=s(e)}});function C(e){var n=l()[e];o[e]=n,n.Manager&&(r(d[3])(n,'Constants',{get:function(){var e=r(d[4])[n.Manager],t={};return e&&Object.keys(e).forEach(function(n){var o=e[n];'function'!=typeof o&&(t[n]=o)}),t}}),r(d[3])(n,'Commands',{get:function(){var e=r(d[4])[n.Manager],t={},o=0;return e&&Object.keys(e).forEach(function(n){'function'==typeof e[n]&&(t[n]=o++)}),t}}))}n.default.getViewManagerConfig=w.getViewManagerConfig,l().ViewManagerNames&&n.default.getConstants().ViewManagerNames.forEach(function(e){r(d[3])(n.default,e,{get:function(){return(0,t.default)(n.default.getConstantsForViewManager)(e)}})}),g.nativeCallSyncHook||Object.keys(l()).forEach(function(e){r(d[5]).includes(e)||(o[e]||(o[e]=l()[e]),r(d[3])(n.default,e,{get:function(){return console.warn(`Accessing view manager configs directly off UIManager via UIManager['${e}'] is no longer supported. Use UIManager.getViewManagerConfig('${e}') instead.`),w.getViewManagerConfig(e)}}))}),m.exports=w},49,[1,50,45,42,37,52]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},50,[51]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('UIManager')},51,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=['clearJSResponder','configureNextLayoutAnimation','createView','dispatchViewManagerCommand','findSubviewIn','getConstantsForViewManager','getDefaultEventTypes','manageChildren','measure','measureInWindow','measureLayout','measureLayoutRelativeToParent','removeRootView','sendAccessibilityEvent','setChildren','setJSResponder','setLayoutAnimationEnabledExperimental','updateView','viewIsDescendantOf','LazyViewManagersEnabled','ViewManagerNames','StyleConstants','AccessibilityEventTypes','UIView','getViewManagerConfig','hasViewManagerConfig','blur','focus','genericBubblingEventTypes','genericDirectEventTypes','lazilyLoadView']},52,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},53,[54]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('AccessibilityInfo')},54,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},55,[56]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('AccessibilityManager')},56,[36]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))})},57,[58]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.dispatchCommand=function(n,t,o){return!0===g.RN$Bridgeless?r(d[0]).default.dispatchCommand(n,t,o):r(d[2]).default.dispatchCommand(n,t,o)},e.findHostInstance_DEPRECATED=function(n){return r(d[2]).default.findHostInstance_DEPRECATED(n)},e.findNodeHandle=function(n){return r(d[2]).default.findNodeHandle(n)},e.getNodeFromInternalInstanceHandle=function(n){return r(d[0]).default.getNodeFromInternalInstanceHandle(n)},e.getPublicInstanceFromInternalInstanceHandle=function(n){return r(d[0]).default.getPublicInstanceFromInternalInstanceHandle(n)},e.isChildPublicInstance=function(n,t){return r(d[2]).default.isChildPublicInstance(n,t)},e.isProfilingRenderer=function(){return Boolean(!1)},e.renderElement=function(n){var t=n.element,o=n.rootTag,u=n.useFabric,c=n.useConcurrentRoot;u?r(d[0]).default.render(t,o,null,c,{onCaughtError:r(d[1]).onCaughtError,onUncaughtError:r(d[1]).onUncaughtError,onRecoverableError:r(d[1]).onRecoverableError}):r(d[2]).default.render(t,o,void 0,{onCaughtError:r(d[1]).onCaughtError,onUncaughtError:r(d[1]).onUncaughtError,onRecoverableError:r(d[1]).onRecoverableError})},e.sendAccessibilityEvent=function(n,t){return r(d[2]).default.sendAccessibilityEvent(n,t)},e.unmountComponentAtNodeAndRemoveContainer=function(n){var t=n;r(d[2]).default.unmountComponentAtNodeAndRemoveContainer(t)},e.unstable_batchedUpdates=function(n,t){return r(d[2]).default.unstable_batchedUpdates(n,t)}},58,[59,254,255]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=r(d[0]),g.RN$stopSurface=t.stopSurface,!0!==g.RN$Bridgeless&&r(d[1]).BatchedBridge.registerCallableModule('ReactFabric',t);e.default=t},59,[60,230]);
__d(function(e,n,t,l,r,a,i){"use strict";n(i[0]);var u=n(i[1]),o=Array.isArray,s=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var E=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var z=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var _,T,x=Object.assign;function N(e){if(void 0===_)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||"",T=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_+e+T}var L=!1;function I(e,n){if(!e||L)return"";L=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var l=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){l=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){l=e}(t=e())&&"function"==typeof t.catch&&t.catch(function(){})}}catch(e){if(e&&l&&"string"==typeof e.stack)return[e.stack,l.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=l.DetermineComponentFrameRoot(),i=a[0],u=a[1];if(i&&u){var o=i.split("\n"),s=u.split("\n");for(r=l=0;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;for(;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;if(l===o.length||r===s.length)for(l=o.length-1,r=s.length-1;1<=l&&0<=r&&o[l]!==s[r];)r--;for(;1<=l&&0<=r;l--,r--)if(o[l]!==s[r]){if(1!==l||1!==r)do{if(l--,0>--r||o[l]!==s[r]){var c="\n"+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=l&&0<=r);break}}}finally{L=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?N(t):""}function F(e){switch(e.tag){case 26:case 27:case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function U(e){try{var n="";do{n+=F(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var D=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case d:return"Portal";case m:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case b:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case y:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(n=e.displayName||null)?n:j(e.type)||"Memo";case P:n=e._payload,e=e._init;try{return j(e(n))}catch(e){}}return null}var A=!1,M=null,Q=null,H=null,O=null;function B(e,n,t){e.currentTarget=O(t);try{n(e)}catch(e){A||(A=!0,M=e)}e.currentTarget=null}function V(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(o(n))throw Error("Invalid `event`.");return e.currentTarget=n?O(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function W(){return!0}function $(){return!1}function q(e,n,t,l){for(var r in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(r)&&((n=e[r])?this[r]=n(t):"target"===r?this.target=l:this[r]=t[r]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?W:$,this.isPropagationStopped=$,this}function Y(e,n,t,l){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,n,t,l),r}return new this(e,n,t,l)}function X(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function G(e){e.getPooled=Y,e.eventPool=[],e.release=X}x(q.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){this.isPersistent=W},isPersistent:$,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$,this._dispatchInstances=this._dispatchListeners=null}}),q.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},q.extend=function(e){function n(){}function t(){return l.apply(this,arguments)}var l=this;n.prototype=l.prototype;var r=new n;return x(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=x({},l.Interface,e),t.extend=l.extend,G(t),t},G(q);var J=q.extend({touchHistory:function(){return null}});function K(e){return"topTouchStart"===e}function Z(e){return"topTouchMove"===e}var ee=["topTouchStart"],ne=["topTouchMove"],te=["topTouchCancel","topTouchEnd"],le=[],re={touchBank:le,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function ae(e){return e.timeStamp||e.timestamp}function ie(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function ue(e){var n=ie(e),t=le[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=ae(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=ae(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=ae(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:ae(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:ae(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:ae(e)},le[n]=t),re.mostRecentTimeStamp=ae(e)}function oe(e){var n=le[ie(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=ae(e),re.mostRecentTimeStamp=ae(e))}function se(e){var n=le[ie(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=ae(e),re.mostRecentTimeStamp=ae(e))}var ce,fe={instrument:function(e){ce=e},recordTouchTrack:function(e,n){if(null!=ce&&ce(e,n),Z(e))n.changedTouches.forEach(oe);else if(K(e))n.changedTouches.forEach(ue),re.numberActiveTouches=n.touches.length,1===re.numberActiveTouches&&(re.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(se),re.numberActiveTouches=n.touches.length,1===re.numberActiveTouches))for(e=0;e<le.length;e++)if(null!=(n=le[e])&&n.touchActive){re.indexOfSingleActiveTouch=e;break}},touchHistory:re};function de(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:o(e)?e.concat(n):o(n)?[e].concat(n):[e,n]}function pe(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:o(e)?o(n)?(e.push.apply(e,n),e):(e.push(n),e):o(n)?[e].concat(n):[e,n]}function he(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var me=null,ge=0;function ve(e,n){var t=me;me=e,null!==Re.GlobalResponderHandler&&Re.GlobalResponderHandler.onChange(t,e,n)}var be={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:ee},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:ne},responderStart:{registrationName:"onResponderStart",dependencies:ee},responderMove:{registrationName:"onResponderMove",dependencies:ne},responderEnd:{registrationName:"onResponderEnd",dependencies:te},responderRelease:{registrationName:"onResponderRelease",dependencies:te},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function ye(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Se(e,n,t){for(var l=[];e;)l.push(e),e=ye(e);for(e=l.length;0<e--;)n(l[e],"captured",t);for(e=0;e<l.length;e++)n(l[e],"bubbled",t)}function ke(e,n){if(null===(e=e.stateNode))return null;if(null===(e=Q(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function we(e,n,t){(n=ke(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=pe(t._dispatchListeners,n),t._dispatchInstances=pe(t._dispatchInstances,e))}function Pe(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=ke(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=pe(e._dispatchListeners,t),e._dispatchInstances=pe(e._dispatchInstances,n))}}}function Ee(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;Se(n=n?ye(n):null,we,e)}}function ze(e){e&&e.dispatchConfig.phasedRegistrationNames&&Se(e._targetInst,we,e)}var Re={_getResponder:function(){return me},eventTypes:be,extractEvents:function(e,n,t,l){if(K(e))ge+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=ge))return null;--ge}if(fe.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<ge&&"topSelectionChange"===e||K(e)||Z(e))){var r=K(e)?be.startShouldSetResponder:Z(e)?be.moveShouldSetResponder:"topSelectionChange"===e?be.selectionChangeShouldSetResponder:be.scrollShouldSetResponder;if(me)e:{for(var a=me,i=0,u=a;u;u=ye(u))i++;u=0;for(var s=n;s;s=ye(s))u++;for(;0<i-u;)a=ye(a),i--;for(;0<u-i;)n=ye(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=ye(a),n=ye(n)}a=null}else a=n;a=(n=a)===me,(r=J.getPooled(r,n,t,l)).touchHistory=fe.touchHistory,he(r,a?Ee:ze);e:{if(a=r._dispatchListeners,n=r._dispatchInstances,o(a)){for(i=0;i<a.length&&!r.isPropagationStopped();i++)if(a[i](r,n[i])){a=n[i];break e}}else if(a&&a(r,n)){a=n;break e}a=null}if(r._dispatchInstances=null,r._dispatchListeners=null,r.isPersistent()||r.constructor.release(r),a&&a!==me)if((r=J.getPooled(be.responderGrant,a,t,l)).touchHistory=fe.touchHistory,he(r,Pe),n=!0===V(r),me)if((i=J.getPooled(be.responderTerminationRequest,me,t,l)).touchHistory=fe.touchHistory,he(i,Pe),u=!i._dispatchListeners||V(i),i.isPersistent()||i.constructor.release(i),u){(i=J.getPooled(be.responderTerminate,me,t,l)).touchHistory=fe.touchHistory,he(i,Pe);var c=de(c,[r,i]);ve(a,n)}else(r=J.getPooled(be.responderReject,a,t,l)).touchHistory=fe.touchHistory,he(r,Pe),c=de(c,r);else c=de(c,r),ve(a,n);else c=null}else c=null;if(r=me&&K(e),a=me&&Z(e),n=me&&("topTouchEnd"===e||"topTouchCancel"===e),(r=r?be.responderStart:a?be.responderMove:n?be.responderEnd:null)&&((r=J.getPooled(r,me,t,l)).touchHistory=fe.touchHistory,he(r,Pe),c=de(c,r)),r=me&&"topTouchCancel"===e,e=me&&!r&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!=(n=e[a].target)&&0!==n){i=H(n);n:{for(n=me;i;){if(n===i||n===i.alternate){n=!0;break n}i=ye(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=r?be.responderTerminate:e?be.responderRelease:null)&&((t=J.getPooled(e,me,t,l)).touchHistory=fe.touchHistory,he(t,Pe),c=de(c,t),ve(null)),c},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){Re.GlobalResponderHandler=e}}},Ce=null,_e={};function Te(){if(Ce)for(var e in _e){var n=_e[e],t=Ce.indexOf(e);if(-1>=t)throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!Ne[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var l in Ne[t]=n,t=n.eventTypes){var r=void 0,a=t[l];if(Le.hasOwnProperty(l))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+l+"`.");Le[l]=a;var i=a.phasedRegistrationNames;if(i){for(r in i)i.hasOwnProperty(r)&&xe(i[r],n);r=!0}else a.registrationName?(xe(a.registrationName,n),r=!0):r=!1;if(!r)throw Error("EventPluginRegistry: Failed to publish event `"+l+"` for plugin `"+e+"`.")}}}}function xe(e,n){if(Ie[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");Ie[e]=n}var Ne=[],Le={},Ie={};function Fe(e,n){if(null===(e=e.stateNode))return null;if(null===(e=Q(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var Ue=n(i[2]).ReactNativeViewConfigRegistry.customBubblingEventTypes,De=n(i[2]).ReactNativeViewConfigRegistry.customDirectEventTypes;function je(e,n,t){(n=Fe(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=pe(t._dispatchListeners,n),t._dispatchInstances=pe(t._dispatchInstances,e))}function Ae(e,n,t,l){for(var r=[];e;){r.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=r.length;0<e--;)n(r[e],"captured",t);if(l)n(r[0],"bubbled",t);else for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function Me(e){e&&e.dispatchConfig.phasedRegistrationNames&&Ae(e._targetInst,je,e,!1)}function Qe(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Fe(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=pe(e._dispatchListeners,t),e._dispatchInstances=pe(e._dispatchInstances,n))}}}if(Ce)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");Ce=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),Te();var He,Oe={ResponderEventPlugin:Re,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,l){if(null==n)return null;var r=Ue[e],a=De[e];if(!r&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=q.getPooled(r||a,n,t,l),r)null!=e&&null!=e.dispatchConfig.phasedRegistrationNames&&e.dispatchConfig.phasedRegistrationNames.skipBubbling?e&&e.dispatchConfig.phasedRegistrationNames&&Ae(e._targetInst,je,e,!0):he(e,Me);else{if(!a)return null;he(e,Qe)}return e}}},Be=!1;for(He in Oe)if(Oe.hasOwnProperty(He)){var Ve=Oe[He];if(!_e.hasOwnProperty(He)||_e[He]!==Ve){if(_e[He])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+He+"`.");_e[He]=Ve,Be=!0}}Be&&Te();var We={},$e=null,qe=0,Ye={unsafelyIgnoreFunctions:!0};function Xe(e,t){return"object"!=typeof t||null===t||n(i[2]).deepDiffer(e,t,Ye)}function Ge(e,n,t){if(o(n))for(var l=n.length;l--&&0<qe;)Ge(e,n[l],t);else if(n&&0<qe)for(l in $e)if($e[l]){var r=n[l];if(void 0!==r){var a=t[l];a&&("function"==typeof r&&(r=!0),void 0===r&&(r=null),"object"!=typeof a?e[l]=r:"function"!=typeof a.diff&&"function"!=typeof a.process||(r="function"==typeof a.process?a.process(r):r,e[l]=r),$e[l]=!1,qe--)}}}function Je(e,t,l,r){if(!e&&t===l)return e;if(!t||!l)return l?Ke(e,l,r):t?Ze(e,t,r):e;if(!o(t)&&!o(l))return en(e,t,l,r);if(o(t)&&o(l)){var a,u=t.length<l.length?t.length:l.length;for(a=0;a<u;a++)e=Je(e,t[a],l[a],r);for(;a<t.length;a++)e=Ze(e,t[a],r);for(;a<l.length;a++)e=Ke(e,l[a],r);return e}return o(t)?en(e,n(i[2]).flattenStyle(t),l,r):en(e,t,n(i[2]).flattenStyle(l),r)}function Ke(e,n,t){if(!n)return e;if(!o(n))return en(e,We,n,t);for(var l=0;l<n.length;l++)e=Ke(e,n[l],t);return e}function Ze(e,n,t){if(!n)return e;if(!o(n))return en(e,n,We,t);for(var l=0;l<n.length;l++)e=Ze(e,n[l],t);return e}function en(e,n,t,l){var r,a;for(a in t)if(r=l[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),$e&&($e[a]=!1),e&&void 0!==e[a]?"object"!=typeof r?e[a]=u:"function"!=typeof r.diff&&"function"!=typeof r.process||(r="function"==typeof r.process?r.process(u):u,e[a]=r):i!==u&&("object"!=typeof r?Xe(i,u)&&((e||(e={}))[a]=u):"function"==typeof r.diff||"function"==typeof r.process?(void 0===i||("function"==typeof r.diff?r.diff(i,u):Xe(i,u)))&&(r="function"==typeof r.process?r.process(u):u,(e||(e={}))[a]=r):($e=null,qe=0,e=Je(e,i,u,r),0<qe&&e&&(Ge(e,u,r),$e=null)))}for(var o in n)void 0===t[o]&&(!(r=l[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof r||"function"==typeof r.diff||"function"==typeof r.process?((e||(e={}))[o]=null,$e||($e={}),$e[o]||($e[o]=!0,qe++)):e=Ze(e,i,r)));return e}function nn(e,n,t){if(o(n)){for(var l=0;l<n.length;l++)e=nn(e,n[l],t);return e}for(l in n){var r=n[l],a=t[l];if(null!=a){var i=void 0;if(void 0===r){if(!e||void 0===e[l])continue;i=null}else"function"==typeof r?i=!0:"object"!=typeof a?i=r:"function"==typeof a.process?i=a.process(r):"function"==typeof a.diff&&(i=r);void 0!==i?(e||(e={}),e[l]=i):e=nn(e,r,a)}}return e}function tn(e,n){return e(n)}var ln=!1;function rn(e,n){if(ln)return e(n);ln=!0;try{return tn(e,n)}finally{ln=!1}}var an=null;function un(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(o(n))for(var l=0;l<n.length&&!e.isPropagationStopped();l++)B(e,n[l],t[l]);else n&&B(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var on=null,sn=null;function cn(e){if(sn&&"function"==typeof sn.onCommitFiberRoot)try{sn.onCommitFiberRoot(on,e,void 0,!(128&~e.current.flags))}catch(e){}}function fn(e){if("function"==typeof n(i[3]).log&&n(i[3]).unstable_setDisableYieldValue(e),sn&&"function"==typeof sn.setStrictMode)try{sn.setStrictMode(on,e)}catch(e){}}var dn=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pn(e)/hn|0)|0},pn=Math.log,hn=Math.LN2;var mn=128,gn=4194304;function vn(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bn(e,n){var t=e.pendingLanes;if(0===t)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var u=134217727&t;return 0!==u?0!==(t=u&~r)?l=vn(t):0!==(a&=u)?l=vn(a):e||0!==(i=u&~i)&&(l=vn(i)):0!==(u=t&~r)?l=vn(u):0!==a?l=vn(a):e||0!==(i=t&~i)&&(l=vn(i)),0===l?0:0!==n&&n!==l&&0===(n&r)&&((r=l&-l)>=(i=n&-n)||32===r&&4194176&i)?n:l}function yn(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function Sn(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function kn(){var e=mn;return!(4194176&(mn<<=1))&&(mn=128),e}function wn(){var e=gn;return!(62914560&(gn<<=1))&&(gn=4194304),e}function Pn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function En(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zn(e,n,t,l,r,a){var i=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var u=e.entanglements,o=e.expirationTimes,s=e.hiddenUpdates;for(t=i&~t;0<t;){var c=31-dn(t),f=1<<c;u[c]=0,o[c]=-1;var d=s[c];if(null!==d)for(s[c]=null,c=0;c<d.length;c++){var p=d[c];null!==p&&(p.lane&=-536870913)}t&=~f}0!==l&&Rn(e,l,0),0!==a&&0===r&&(e.suspendedLanes|=a&~(i&~n))}function Rn(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-dn(n);e.entangledLanes|=n,e.entanglements[l]=1073741824|e.entanglements[l]|4194218&t}function Cn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var l=31-dn(t),r=1<<l;r&n|e[l]&n&&(e[l]|=n),t&=~r}}function _n(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Tn(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function xn(e){if(Tn(e)!==e)throw Error("Unable to find node on an unmounted component.")}function Nn(e){var n=e.alternate;if(!n){if(null===(n=Tn(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,l=n;;){var r=t.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(l=r.return)){t=l;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===t)return xn(r),e;if(a===l)return xn(r),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==l.return)t=r,l=a;else{for(var i=!1,u=r.child;u;){if(u===t){i=!0,t=r,l=a;break}if(u===l){i=!0,l=r,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,l=r;break}if(u===l){i=!0,l=a,t=r;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==l)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function Ln(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=Ln(e)))return n;e=e.sibling}return null}var In=[],Fn=-1;function Un(e){return{current:e}}function Dn(e){0>Fn||(e.current=In[Fn],In[Fn]=null,Fn--)}function jn(e,n){Fn++,In[Fn]=e.current,e.current=n}var An={};var Mn="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},Qn=new WeakMap;function Hn(e,n){if("object"==typeof e&&null!==e){var t=Qn.get(e);return void 0!==t?t:(n={value:e,source:n,stack:U(n)},Qn.set(e,n),n)}return{value:e,source:n,stack:U(n)}}var On=Un(null),Bn=Un(null),Vn=Un(null),Wn=Un(null);function $n(e,n){jn(Vn,n),jn(Bn,e),jn(On,null),e=Uo,Dn(On),jn(On,e)}function qn(){Dn(On),Dn(Bn),Dn(Vn)}function Yn(e){null!==e.memoizedState&&jn(Wn,e);var n=On.current;n!=n&&(jn(Bn,e),jn(On,n))}function Xn(e){Bn.current===e&&(Dn(On),Dn(Bn)),Wn.current===e&&(Dn(Wn),Bo._currentValue2=null)}var Gn=null,Jn=[],Kn=0,Zn=0;function et(){for(var e=Kn,n=Zn=Kn=0;n<e;){var t=Jn[n];Jn[n++]=null;var l=Jn[n];Jn[n++]=null;var r=Jn[n];Jn[n++]=null;var a=Jn[n];if(Jn[n++]=null,null!==l&&null!==r){var i=l.pending;null===i?r.next=r:(r.next=i.next,i.next=r),l.pending=r}0!==a&&rt(t,r,a)}}function nt(e,n,t,l){Jn[Kn++]=e,Jn[Kn++]=n,Jn[Kn++]=t,Jn[Kn++]=l,Zn|=l,e.lanes|=l,null!==(e=e.alternate)&&(e.lanes|=l)}function tt(e,n,t,l){return nt(e,n,t,l),at(e)}function lt(e,n){return nt(e,null,null,n),at(e)}function rt(e,n,t){e.lanes|=t;var l=e.alternate;null!==l&&(l.lanes|=t);for(var r=!1,a=e.return;null!==a;)a.childLanes|=t,null!==(l=a.alternate)&&(l.childLanes|=t),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;r&&null!==n&&3===e.tag&&(a=e.stateNode,r=31-dn(t),null===(e=(a=a.hiddenUpdates)[r])?a[r]=[n]:e.push(n),n.lane=536870912|t)}function at(e){if(50<ku)throw ku=0,wu=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var it=null,ut=null,ot=!1,st=!1,ct=!1,ft=0;function dt(e){var t;e!==ut&&null===e.next&&(null===ut?it=ut=e:ut=ut.next=e),st=!0,ot||(ot=!0,t=ht,Vo?Wo(function(){6&qi?n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,t):t()}):n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,t))}function pt(e,n){if(!ct&&st){ct=!0;do{for(var t=!1,l=it;null!==l;){if(!n||0===l.tag)if(0!==e){var r=l.pendingLanes;if(0===r)var a=0;else{var i=l.suspendedLanes,u=l.pingedLanes;a=(1<<31-dn(42|e)+1)-1,a=201326677&(a&=r&~(i&~u))?201326677&a|1:a?2|a:0}0!==a&&(t=!0,vt(l,a))}else a=Gi,!(3&(a=bn(l,l===Yi?a:0)))||yn(l,a)||(t=!0,vt(l,a));l=l.next}}while(t);ct=!1}}function ht(){st=ot=!1,0!==ft&&(ft=0);for(var e=n(i[3]).unstable_now(),t=null,l=it;null!==l;){var r=l.next,a=mt(l,e);0===a?(l.next=null,null===t?it=r:t.next=r,null===r&&(ut=t)):(t=l,3&a&&(st=!0)),l=r}pt(0,!1)}function mt(e,t){for(var l=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,u=-62914561&e.pendingLanes;0<u;){var o=31-dn(u),s=1<<o,c=a[o];-1===c?0!==(s&l)&&0===(s&r)||(a[o]=Sn(s,t)):c<=t&&(e.expiredLanes|=s),u&=~s}if(l=Gi,l=bn(e,e===(t=Yi)?l:0),r=e.callbackNode,0===l||e===t&&2===Ji||null!==e.cancelPendingCommit)return null!==r&&null!==r&&n(i[3]).unstable_cancelCallback(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&l)||yn(e,l)){if((t=l&-l)===e.callbackPriority)return t;switch(null!==r&&n(i[3]).unstable_cancelCallback(r),_n(l)){case 2:case 8:l=n(i[3]).unstable_UserBlockingPriority;break;case 32:default:l=n(i[3]).unstable_NormalPriority;break;case 268435456:l=n(i[3]).unstable_IdlePriority}return r=gt.bind(null,e),l=n(i[3]).unstable_scheduleCallback(l,r),e.callbackPriority=t,e.callbackNode=l,t}return null!==r&&null!==r&&n(i[3]).unstable_cancelCallback(r),e.callbackPriority=2,e.callbackNode=null,2}function gt(e,t){var l=e.callbackNode;if(Yu()&&e.callbackNode!==l)return null;var r=Gi;return 0===(r=bn(e,e===Yi?r:0))?null:(Ru(e,r,t),mt(e,n(i[3]).unstable_now()),null!=e.callbackNode&&e.callbackNode===l?gt.bind(null,e):null)}function vt(e,n){if(Yu())return null;Ru(e,n,!0)}function bt(){return 0===ft&&(ft=kn()),ft}var yt=null,St=0,kt=0,wt=null;function Pt(e,n){if(null===yt){var t=yt=[];St=0,kt=bt(),wt={status:"pending",value:void 0,then:function(e){t.push(e)}}}return St++,n.then(Et,Et),n}function Et(){if(0===--St&&null!==yt){null!==wt&&(wt.status="fulfilled");var e=yt;yt=null,kt=0,wt=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var zt=!1;function Rt(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ct(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _t(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tt(e,n,t){var l=e.updateQueue;if(null===l)return null;if(l=l.shared,2&qi){var r=l.pending;return null===r?n.next=n:(n.next=r.next,r.next=n),l.pending=n,n=at(e),rt(e,null,t),n}return nt(e,l,n,t),at(e)}function xt(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194176&t)){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,Cn(e,t)}}function Nt(e,n){var t=e.updateQueue,l=e.alternate;if(null!==l&&t===(l=l.updateQueue)){var r=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===a?r=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?r=a=n:a=a.next=n}else r=a=n;return t={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,callbacks:l.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var Lt=!1;function It(){if(Lt){if(null!==wt)throw wt}}function Ft(e,n,t,l){Lt=!1;var r=e.updateQueue;zt=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,u=r.shared.pending;if(null!==u){r.shared.pending=null;var o=u,s=o.next;o.next=null,null===i?a=s:i.next=s,i=o;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===u?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=o))}if(null!==a){var f=r.baseState;for(i=0,c=s=o=null,u=a;;){var d=-536870913&u.lane,p=d!==u.lane;if(p?(Gi&d)===d:(l&d)===d){0!==d&&d===kt&&(Lt=!0),null!==c&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var h=e,m=u;d=n;var g=t;switch(m.tag){case 1:if("function"==typeof(h=m.payload)){f=h.call(g,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=m.payload)?h.call(g,f,d):h))break e;f=x({},f,d);break e;case 2:zt=!0}}null!==(d=u.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[d]:p.push(d))}else p={lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(s=c=p,o=f):c=c.next=p,i|=d;if(null===(u=u.next)){if(null===(u=r.shared.pending))break;u=(p=u).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===c&&(o=f),r.baseState=o,r.firstBaseUpdate=s,r.lastBaseUpdate=c,null===a&&(r.shared.lanes=0),ru|=i,e.lanes=i,e.memoizedState=f}}function Ut(e,n){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(n)}function Dt(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)Ut(t[e],n)}var jt=Object.prototype.hasOwnProperty;function At(e,n){if(Mn(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),l=Object.keys(n);if(t.length!==l.length)return!1;for(l=0;l<t.length;l++){var r=t[l];if(!jt.call(n,r)||!Mn(e[r],n[r]))return!1}return!0}var Mt=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`"),Qt=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),Ht={then:function(){}};function Ot(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Bt(){}function Vt(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(Bt,Bt),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw qt(e=n.reason),e;default:if("string"==typeof n.status)n.then(Bt,Bt);else{if(null!==(e=Yi)&&100<e.shellSuspendCounter)throw Error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw qt(e=n.reason),e}throw Wt=n,Mt}}var Wt=null;function $t(){if(null===Wt)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=Wt;return Wt=null,e}function qt(e){if(e===Mt)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}var Yt=null,Xt=0;function Gt(e){var n=Xt;return Xt+=1,null===Yt&&(Yt=[]),Vt(Yt,e,n)}function Jt(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function Kt(e,n){if(n.$$typeof===c)throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.');throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function Zt(e){return(0,e._init)(e._payload)}function el(e){function n(n,t){if(e){var l=n.deletions;null===l?(n.deletions=[t],n.flags|=16):l.push(t)}}function t(t,l){if(!e)return null;for(;null!==l;)n(t,l),l=l.sibling;return null}function l(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function r(e,n){return(e=ao(e,n)).index=0,e.sibling=null,e}function a(n,t,l){return n.index=l,e?null!==(l=n.alternate)?(l=l.index)<t?(n.flags|=33554434,t):l:(n.flags|=33554434,t):(n.flags|=1048576,t)}function i(n){return e&&null===n.alternate&&(n.flags|=33554434),n}function u(e,n,t,l){return null===n||6!==n.tag?((n=co(t,e.mode,l)).return=e,n):((n=r(n,t)).return=e,n)}function s(e,n,t,l){var a=t.type;return a===p?h(e,n,t.props.children,l,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===P&&Zt(a)===n.type)?(Jt(n=r(n,t.props),t),n.return=e,n):(Jt(n=uo(t.type,t.key,t.props,null,e.mode,l),t),n.return=e,n)}function c(e,n,t,l){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=fo(t,e.mode,l)).return=e,n):((n=r(n,t.children||[])).return=e,n)}function h(e,n,t,l,a){return null===n||7!==n.tag?((n=oo(t,e.mode,l,a)).return=e,n):((n=r(n,t)).return=e,n)}function m(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return(n=co(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return Jt(t=uo(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case d:return(n=fo(n,e.mode,t)).return=e,n;case P:return m(e,n=(0,n._init)(n._payload),t)}if(o(n)||C(n))return(n=oo(n,e.mode,t,null)).return=e,n;if("function"==typeof n.then)return m(e,Gt(n),t);if(n.$$typeof===b)return m(e,Ma(e,n),t);Kt(e,n)}return null}function g(e,n,t,l){var r=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return null!==r?null:u(e,n,""+t,l);if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return t.key===r?s(e,n,t,l):null;case d:return t.key===r?c(e,n,t,l):null;case P:return g(e,n,t=(r=t._init)(t._payload),l)}if(o(t)||C(t))return null!==r?null:h(e,n,t,l,null);if("function"==typeof t.then)return g(e,n,Gt(t),l);if(t.$$typeof===b)return g(e,n,Ma(e,t),l);Kt(e,t)}return null}function v(e,n,t,l,r){if("string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l)return u(n,e=e.get(t)||null,""+l,r);if("object"==typeof l&&null!==l){switch(l.$$typeof){case f:return s(n,e=e.get(null===l.key?t:l.key)||null,l,r);case d:return c(n,e=e.get(null===l.key?t:l.key)||null,l,r);case P:return v(e,n,t,l=(0,l._init)(l._payload),r)}if(o(l)||C(l))return h(n,e=e.get(t)||null,l,r,null);if("function"==typeof l.then)return v(e,n,t,Gt(l),r);if(l.$$typeof===b)return v(e,n,t,Ma(n,l),r);Kt(n,l)}return null}function y(r,i,u,o){for(var s=null,c=null,f=i,d=i=0,p=null;null!==f&&d<u.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var h=g(r,f,u[d],o);if(null===h){null===f&&(f=p);break}e&&f&&null===h.alternate&&n(r,f),i=a(h,i,d),null===c?s=h:c.sibling=h,c=h,f=p}if(d===u.length)return t(r,f),s;if(null===f){for(;d<u.length;d++)null!==(f=m(r,u[d],o))&&(i=a(f,i,d),null===c?s=f:c.sibling=f,c=f);return s}for(f=l(f);d<u.length;d++)null!==(p=v(f,r,d,u[d],o))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),i=a(p,i,d),null===c?s=p:c.sibling=p,c=p);return e&&f.forEach(function(e){return n(r,e)}),s}function S(r,i,u,o){if(null==u)throw Error("An iterable object provided no iterator.");for(var s=null,c=null,f=i,d=i=0,p=null,h=u.next();null!==f&&!h.done;d++,h=u.next()){f.index>d?(p=f,f=null):p=f.sibling;var b=g(r,f,h.value,o);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&n(r,f),i=a(b,i,d),null===c?s=b:c.sibling=b,c=b,f=p}if(h.done)return t(r,f),s;if(null===f){for(;!h.done;d++,h=u.next())null!==(h=m(r,h.value,o))&&(i=a(h,i,d),null===c?s=h:c.sibling=h,c=h);return s}for(f=l(f);!h.done;d++,h=u.next())null!==(h=v(f,r,d,h.value,o))&&(e&&null!==h.alternate&&f.delete(null===h.key?d:h.key),i=a(h,i,d),null===c?s=h:c.sibling=h,c=h);return e&&f.forEach(function(e){return n(r,e)}),s}function k(e,l,a,u){if("object"==typeof a&&null!==a&&a.type===p&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case f:e:{for(var s=a.key;null!==l;){if(l.key===s){if((s=a.type)===p){if(7===l.tag){t(e,l.sibling),(u=r(l,a.props.children)).return=e,e=u;break e}}else if(l.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===P&&Zt(s)===l.type){t(e,l.sibling),Jt(u=r(l,a.props),a),u.return=e,e=u;break e}t(e,l);break}n(e,l),l=l.sibling}a.type===p?((u=oo(a.props.children,e.mode,u,a.key)).return=e,e=u):(Jt(u=uo(a.type,a.key,a.props,null,e.mode,u),a),u.return=e,e=u)}return i(e);case d:e:{for(s=a.key;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===a.containerInfo&&l.stateNode.implementation===a.implementation){t(e,l.sibling),(u=r(l,a.children||[])).return=e,e=u;break e}t(e,l);break}n(e,l),l=l.sibling}(u=fo(a,e.mode,u)).return=e,e=u}return i(e);case P:return k(e,l,a=(s=a._init)(a._payload),u)}if(o(a))return y(e,l,a,u);if(C(a)){if("function"!=typeof(s=C(a)))throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");return S(e,l,a=s.call(a),u)}if("function"==typeof a.then)return k(e,l,Gt(a),u);if(a.$$typeof===b)return k(e,l,Ma(e,a),u);Kt(e,a)}return"string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a?(a=""+a,null!==l&&6===l.tag?(t(e,l.sibling),(u=r(l,a)).return=e,e=u):(t(e,l),(u=co(a,e.mode,u)).return=e,e=u),i(e)):t(e,l)}return function(e,n,t,l){try{Xt=0;var r=k(e,n,t,l);return Yt=null,r}catch(n){if(n===Mt||!(1&e.mode)&&"object"==typeof n&&null!==n&&"function"==typeof n.then)throw n;var a=lo(29,n,null,e.mode);return a.lanes=l,a.return=e,a}}}var nl=el(!0),tl=el(!1),ll=Un(null),rl=Un(0);function al(e,n){jn(rl,e=tu),jn(ll,n),tu=e|n.baseLanes}function il(){jn(rl,tu),jn(ll,ll.current)}function ul(){tu=rl.current,Dn(ll),Dn(rl)}var ol=Un(null),sl=null;function cl(e){var n=e.alternate;jn(hl,1&hl.current),jn(ol,e),null===sl&&(null===n||null!==ll.current||null!==n.memoizedState)&&(sl=e)}function fl(e){if(22===e.tag){if(jn(hl,hl.current),jn(ol,e),null===sl){var n=e.alternate;null!==n&&null!==n.memoizedState&&(sl=e)}}else dl()}function dl(){jn(hl,hl.current),jn(ol,ol.current)}function pl(e){Dn(ol),sl===e&&(sl=null),Dn(hl)}var hl=Un(0);function ml(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||bo()||bo()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gl=0,vl=null,bl=null,yl=null,Sl=!1,kl=!1,wl=!1,Pl=0,El=null,zl=0;function Rl(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.")}function Cl(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Mn(e[t],n[t]))return!1;return!0}function _l(e,n,t,l,r,a){return gl=a,vl=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,s.H=null===e||null===e.memoizedState?jr:Ar,wl=!1,a=t(l,r),wl=!1,kl&&(a=xl(n,t,l,r)),Tl(e),a}function Tl(e){s.H=Dr;var n=null!==bl&&null!==bl.next;if(gl=0,yl=bl=vl=null,Sl=!1,Pl=0,El=null,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");null===e||ta||null!==(e=e.dependencies)&&Da(e)&&(ta=!0)}function xl(e,n,t,l){vl=e;var r=0;do{if(kl&&(El=null),Pl=0,kl=!1,25<=r)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(r+=1,yl=bl=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}s.H=Mr,a=n(t,l)}while(kl);return a}function Nl(){var e=s.H,n=e.useState()[0];return n="function"==typeof n.then?Dl(n):n,e=e.useState()[0],(null!==bl?bl.memoizedState:null)!==e&&(vl.flags|=1024),n}function Ll(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function Il(e){if(Sl){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Sl=!1}gl=0,yl=bl=vl=null,kl=!1,Pl=0,El=null}function Fl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yl?vl.memoizedState=yl=e:yl=yl.next=e,yl}function Ul(){if(null===bl){var e=vl.alternate;e=null!==e?e.memoizedState:null}else e=bl.next;var n=null===yl?vl.memoizedState:yl.next;if(null!==n)yl=n,bl=e;else{if(null===e){if(null===vl.alternate)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}e={memoizedState:(bl=e).memoizedState,baseState:bl.baseState,baseQueue:bl.baseQueue,queue:bl.queue,next:null},null===yl?vl.memoizedState=yl=e:yl=yl.next=e}return yl}function Dl(e){var n=Pl;return Pl+=1,null===El&&(El=[]),e=Vt(El,e,n),n=vl,null===(null===yl?n.memoizedState:yl.next)&&(n=n.alternate,s.H=null===n||null===n.memoizedState?jr:Ar),e}function jl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Dl(e);if(e.$$typeof===b)return Aa(e)}throw Error("An unsupported type was passed to use(): "+String(e))}function Al(e){var n=null,t=vl.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var l=vl.alternate;null!==l&&(null!==(l=l.updateQueue)&&(null!=(l=l.memoCache)&&(n={data:l.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},vl.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),l=0;l<e;l++)t[l]=z;return n.index++,t}function Ml(e,n){return"function"==typeof n?n(e):n}function Ql(e){return Hl(Ul(),bl,e)}function Hl(e,n,t){var l=e.queue;if(null===l)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");l.lastRenderedReducer=t;var r=e.baseQueue,a=l.pending;if(null!==a){if(null!==r){var i=r.next;r.next=a.next,a.next=i}n.baseQueue=r=a,l.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var u=i=null,o=null,s=n=r.next,c=!1;do{var f=-536870913&s.lane;if(f!==s.lane?(Gi&f)===f:(gl&f)===f){var d=s.revertLane;if(0===d)null!==o&&(o=o.next={lane:0,revertLane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),f===kt&&(c=!0);else{if((gl&d)===d){s=s.next,d===kt&&(c=!0);continue}f={lane:0,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(u=o=f,i=a):o=o.next=f,vl.lanes|=d,ru|=d}f=s.action,wl&&t(a,f),a=s.hasEagerState?s.eagerState:t(a,f)}else d={lane:f,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(u=o=d,i=a):o=o.next=d,vl.lanes|=f,ru|=f;s=s.next}while(null!==s&&s!==n);if(null===o?i=a:o.next=u,!Mn(a,e.memoizedState)&&(ta=!0,c&&null!==(t=wt)))throw t;e.memoizedState=a,e.baseState=i,e.baseQueue=o,l.lastRenderedState=a}return null===r&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ol(e){var n=Ul(),t=n.queue;if(null===t)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");t.lastRenderedReducer=e;var l=t.dispatch,r=t.pending,a=n.memoizedState;if(null!==r){t.pending=null;var i=r=r.next;do{a=e(a,i.action),i=i.next}while(i!==r);Mn(a,n.memoizedState)||(ta=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,l]}function Bl(e,n){var t=vl,l=Ul(),r=n(),a=!Mn((bl||l).memoizedState,r);if(a&&(l.memoizedState=r,ta=!0),l=l.queue,hr($l.bind(null,t,l,e),[e]),l.getSnapshot!==n||a||null!==yl&&1&yl.memoizedState.tag){if(t.flags|=2048,sr(9,Wl.bind(null,t,l,r,n),{destroy:void 0},null),null===Yi)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");60&gl||Vl(t,n,r)}return r}function Vl(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=vl.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},vl.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Wl(e,n,t,l){n.value=t,n.getSnapshot=l,ql(n)&&Yl(e)}function $l(e,n,t){return t(function(){ql(n)&&Yl(e)})}function ql(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Mn(e,t)}catch(e){return!0}}function Yl(e){var n=lt(e,2);null!==n&&zu(n,e,2)}function Xl(e){var n=Fl();if("function"==typeof e){var t=e;if(e=t(),wl){fn(!0);try{t()}finally{fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:e},n}function Gl(e,n,t,l){return e.baseState=t,Hl(e,bl,"function"==typeof l?l:Ml)}function Jl(e,n,t,l,r){if(Ir(e))throw Error("Cannot update form state while rendering.");if(null!==(e=n.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==s.T?t(!0):a.isTransition=!1,l(a),null===(t=n.pending)?(a.next=n.pending=a,Kl(n,a)):(a.next=t.next,n.pending=t.next=a)}}function Kl(e,n){var t=n.action,l=n.payload,r=e.state;if(n.isTransition){var a=s.T,i={};s.T=i;try{var u=t(r,l),o=s.S;null!==o&&o(i,u),Zl(e,n,u)}catch(t){nr(e,n,t)}finally{s.T=a}}else try{Zl(e,n,a=t(r,l))}catch(t){nr(e,n,t)}}function Zl(e,n,t){null!==t&&"object"==typeof t&&"function"==typeof t.then?t.then(function(t){er(e,n,t)},function(t){return nr(e,n,t)}):er(e,n,t)}function er(e,n,t){n.status="fulfilled",n.value=t,tr(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,Kl(e,t)))}function nr(e,n,t){var l=e.pending;if(e.pending=null,null!==l){l=l.next;do{n.status="rejected",n.reason=t,tr(n),n=n.next}while(n!==l)}e.action=null}function tr(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lr(e,n){return n}function rr(e,n){var t=Fl();t.memoizedState=t.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n};t.queue=l,t=xr.bind(null,vl,l),l.dispatch=t,l=Xl(!1);var r=Lr.bind(null,vl,!1,l.queue),a={state:n,dispatch:null,action:e,pending:null};return(l=Fl()).queue=a,t=Jl.bind(null,vl,a,r,t),a.dispatch=t,l.memoizedState=e,[n,t,!1]}function ar(e){return ir(Ul(),bl,e)}function ir(e,n,t){n=Hl(e,n,lr)[0],e=Ql(Ml)[0],n="object"==typeof n&&null!==n&&"function"==typeof n.then?Dl(n):n;var l=Ul(),r=l.queue,a=r.dispatch;return t!==l.memoizedState&&(vl.flags|=2048,sr(9,ur.bind(null,r,t),{destroy:void 0},null)),[n,a,e]}function ur(e,n){e.action=n}function or(e){var n=Ul(),t=bl;if(null!==t)return ir(n,t,e);Ul(),n=n.memoizedState;var l=(t=Ul()).queue.dispatch;return t.memoizedState=e,[n,l,!1]}function sr(e,n,t,l){return e={tag:e,create:n,inst:t,deps:l,next:null},null===(n=vl.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},vl.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(l=t.next,t.next=e,e.next=l,n.lastEffect=e),e}function cr(){return Ul().memoizedState}function fr(e,n,t,l){var r=Fl();vl.flags|=e,r.memoizedState=sr(1|n,t,{destroy:void 0},void 0===l?null:l)}function dr(e,n,t,l){var r=Ul();l=void 0===l?null:l;var a=r.memoizedState.inst;null!==bl&&null!==l&&Cl(l,bl.memoizedState.deps)?r.memoizedState=sr(n,t,a,l):(vl.flags|=e,r.memoizedState=sr(1|n,t,a,l))}function pr(e,n){fr(8390656,8,e,n)}function hr(e,n){dr(2048,8,e,n)}function mr(e,n){return dr(4,2,e,n)}function gr(e,n){return dr(4,4,e,n)}function vr(e,n){if("function"==typeof n){e=e();var t=n(e);return function(){"function"==typeof t?t():n(null)}}if(null!=n)return e=e(),n.current=e,function(){n.current=null}}function br(e,n,t){t=null!=t?t.concat([e]):null,dr(4,4,vr.bind(null,n,e),t)}function yr(){}function Sr(e,n){var t=Ul();n=void 0===n?null:n;var l=t.memoizedState;return null!==n&&Cl(n,l[1])?l[0]:(t.memoizedState=[e,n],e)}function kr(e,n){var t=Ul();n=void 0===n?null:n;var l=t.memoizedState;if(null!==n&&Cl(n,l[1]))return l[0];if(l=e(),wl){fn(!0);try{e()}finally{fn(!1)}}return t.memoizedState=[l,n],l}function wr(e,n,t){return void 0===t||1073741824&gl?e.memoizedState=n:(e.memoizedState=t,e=Eu(),vl.lanes|=e,ru|=e,t)}function Pr(e,n,t,l){return Mn(t,n)?t:null!==ll.current?(e=wr(e,t,l),Mn(e,n)||(ta=!0),e):42&gl?(e=Eu(),vl.lanes|=e,ru|=e,n):(ta=!0,e.memoizedState=t)}function Er(e,n,t,l,r){var a=Ao;Ao=0!==a&&8>a?a:8;var i,u,o,c=s.T,f={};s.T=f,Lr(e,!1,n,t);try{var d=r(),p=s.S;if(null!==p&&p(f,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Nr(e,n,(i=l,u=[],o={status:"pending",value:null,reason:null,then:function(e){u.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<u.length;e++)(0,u[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<u.length;e++)(0,u[e])(void 0)}),o),Pu(e));else Nr(e,n,l,Pu(e))}catch(t){Nr(e,n,{then:function(){},status:"rejected",reason:t},Pu(e))}finally{Ao=a,s.T=c}}function zr(){return Aa(Bo)}function Rr(){return Ul().memoizedState}function Cr(){return Ul().memoizedState}function _r(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Pu(n),l=Tt(n,e=_t(t),t);return null!==l&&(zu(l,n,t),xt(l,n,t)),n={cache:Ba()},void(e.payload=n)}n=n.return}}function Tr(e,n,t){var l=Pu(e);t={lane:l,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Ir(e)?Fr(n,t):null!==(t=tt(e,n,t,l))&&(zu(t,e,l),Ur(t,n,l))}function xr(e,n,t){Nr(e,n,t,Pu(e))}function Nr(e,n,t,l){var r={lane:l,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ir(e))Fr(n,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,u=a(i,t);if(r.hasEagerState=!0,r.eagerState=u,Mn(u,i))return nt(e,n,r,0),null===Yi&&et(),!1}catch(e){}if(null!==(t=tt(e,n,r,l)))return zu(t,e,l),Ur(t,n,l),!0}return!1}function Lr(e,n,t,l){if(l={lane:2,revertLane:bt(),action:l,hasEagerState:!1,eagerState:null,next:null},Ir(e)){if(n)throw Error("Cannot update optimistic state while rendering.")}else null!==(n=tt(e,t,l,2))&&zu(n,e,2)}function Ir(e){var n=e.alternate;return e===vl||null!==n&&n===vl}function Fr(e,n){kl=Sl=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Ur(e,n,t){if(4194176&t){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,Cn(e,t)}}var Dr={readContext:Aa,use:jl,useCallback:Rl,useContext:Rl,useEffect:Rl,useImperativeHandle:Rl,useLayoutEffect:Rl,useInsertionEffect:Rl,useMemo:Rl,useReducer:Rl,useRef:Rl,useState:Rl,useDebugValue:Rl,useDeferredValue:Rl,useTransition:Rl,useSyncExternalStore:Rl,useId:Rl};Dr.useCacheRefresh=Rl,Dr.useMemoCache=Rl,Dr.useHostTransitionStatus=Rl,Dr.useFormState=Rl,Dr.useActionState=Rl,Dr.useOptimistic=Rl;var jr={readContext:Aa,use:jl,useCallback:function(e,n){return Fl().memoizedState=[e,void 0===n?null:n],e},useContext:Aa,useEffect:pr,useImperativeHandle:function(e,n,t){t=null!=t?t.concat([e]):null,fr(4194308,4,vr.bind(null,n,e),t)},useLayoutEffect:function(e,n){return fr(4194308,4,e,n)},useInsertionEffect:function(e,n){fr(4,2,e,n)},useMemo:function(e,n){var t=Fl();n=void 0===n?null:n;var l=e();if(wl){fn(!0);try{e()}finally{fn(!1)}}return t.memoizedState=[l,n],l},useReducer:function(e,n,t){var l=Fl();if(void 0!==t){var r=t(n);if(wl){fn(!0);try{t(n)}finally{fn(!1)}}}else r=n;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Tr.bind(null,vl,e),[l.memoizedState,e]},useRef:function(e){return e={current:e},Fl().memoizedState=e},useState:function(e){var n=(e=Xl(e)).queue,t=xr.bind(null,vl,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:yr,useDeferredValue:function(e,n){return wr(Fl(),e,n)},useTransition:function(){var e=Xl(!1);return e=Er.bind(null,vl,e.queue,!0,!1),Fl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n){var t=vl,l=Fl(),r=n();if(null===Yi)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");60&Gi||Vl(t,n,r),l.memoizedState=r;var a={value:r,getSnapshot:n};return l.queue=a,pr($l.bind(null,t,a,e),[e]),t.flags|=2048,sr(9,Wl.bind(null,t,a,r,n),{destroy:void 0},null),r},useId:function(){var e=Fl(),n=Yi.identifierPrefix;return n=":"+n+"r"+(zl++).toString(32)+":",e.memoizedState=n},useCacheRefresh:function(){return Fl().memoizedState=_r.bind(null,vl)}};jr.useMemoCache=Al,jr.useHostTransitionStatus=zr,jr.useFormState=rr,jr.useActionState=rr,jr.useOptimistic=function(e){var n=Fl();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=Lr.bind(null,vl,!0,t),t.dispatch=n,[e,n]};var Ar={readContext:Aa,use:jl,useCallback:Sr,useContext:Aa,useEffect:hr,useImperativeHandle:br,useInsertionEffect:mr,useLayoutEffect:gr,useMemo:kr,useReducer:Ql,useRef:cr,useState:function(){return Ql(Ml)},useDebugValue:yr,useDeferredValue:function(e,n){return Pr(Ul(),bl.memoizedState,e,n)},useTransition:function(){var e=Ql(Ml)[0],n=Ul().memoizedState;return["boolean"==typeof e?e:Dl(e),n]},useSyncExternalStore:Bl,useId:Rr};Ar.useCacheRefresh=Cr,Ar.useMemoCache=Al,Ar.useHostTransitionStatus=zr,Ar.useFormState=ar,Ar.useActionState=ar,Ar.useOptimistic=function(e,n){return Gl(Ul(),0,e,n)};var Mr={readContext:Aa,use:jl,useCallback:Sr,useContext:Aa,useEffect:hr,useImperativeHandle:br,useInsertionEffect:mr,useLayoutEffect:gr,useMemo:kr,useReducer:Ol,useRef:cr,useState:function(){return Ol(Ml)},useDebugValue:yr,useDeferredValue:function(e,n){var t=Ul();return null===bl?wr(t,e,n):Pr(t,bl.memoizedState,e,n)},useTransition:function(){var e=Ol(Ml)[0],n=Ul().memoizedState;return["boolean"==typeof e?e:Dl(e),n]},useSyncExternalStore:Bl,useId:Rr};function Qr(e,n,t,l){t=null==(t=t(l,n=e.memoizedState))?n:x({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}Mr.useCacheRefresh=Cr,Mr.useMemoCache=Al,Mr.useHostTransitionStatus=zr,Mr.useFormState=or,Mr.useActionState=or,Mr.useOptimistic=function(e,n){var t=Ul();return null!==bl?Gl(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])};var Hr={isMounted:function(e){return!!(e=e._reactInternals)&&Tn(e)===e},enqueueSetState:function(e,n,t){var l=Pu(e=e._reactInternals),r=_t(l);r.payload=n,null!=t&&(r.callback=t),null!==(n=Tt(e,r,l))&&(zu(n,e,l),xt(n,e,l))},enqueueReplaceState:function(e,n,t){var l=Pu(e=e._reactInternals),r=_t(l);r.tag=1,r.payload=n,null!=t&&(r.callback=t),null!==(n=Tt(e,r,l))&&(zu(n,e,l),xt(n,e,l))},enqueueForceUpdate:function(e,n){var t=Pu(e=e._reactInternals),l=_t(t);l.tag=2,null!=n&&(l.callback=n),null!==(n=Tt(e,l,t))&&(zu(n,e,t),xt(n,e,t))}};function Or(e,n,t,l,r,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(l,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!At(t,l)||!At(r,a))}function Br(e,n,t){var l=An,r=n.contextType;return"object"==typeof r&&null!==r&&(l=Aa(r)),n=new n(t,l),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Hr,e.stateNode=n,n._reactInternals=e,n}function Vr(e,n,t,l){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,l),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,l),n.state!==e&&Hr.enqueueReplaceState(n,n.state,null)}function Wr(e,n,t,l){var r=e.stateNode;r.props=t,r.state=e.memoizedState,r.refs={},Rt(e);var a=n.contextType;r.context="object"==typeof a&&null!==a?Aa(a):An,r.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(Qr(e,n,a,t),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&Hr.enqueueReplaceState(r,r.state,null),Ft(e,t,r,l),It(),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function $r(e,n){var t=n;if("ref"in n)for(var l in t={},n)"ref"!==l&&(t[l]=n[l]);if(e=e.defaultProps)for(var r in t===n&&(t=x({},t)),e)void 0===t[r]&&(t[r]=e[r]);return t}var qr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Yr(e){qr(e)}function Xr(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(e){setTimeout(function(){throw e})}}function Gr(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Jr(e,n,t){return(t=_t(t)).tag=3,t.payload={element:null},t.callback=function(){Xr(e,n)},t}function Kr(e){return(e=_t(e)).tag=3,e}function Zr(e,n,t,l){var r=t.type.getDerivedStateFromError;if("function"==typeof r){var a=l.value;e.payload=function(){return r(a)},e.callback=function(){Gr(n,t,l)}}var i=t.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Gr(n,t,l),"function"!=typeof r&&(null===mu?mu=new Set([this]):mu.add(this));var e=l.stack;this.componentDidCatch(l.value,{componentStack:null!==e?e:""})})}function ea(e,n,t,l,r){if(t.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var a=t.alternate;if(null!==a&&Ua(a,t,r,!0),a=t.tag,1&t.mode||0!==a&&11!==a&&15!==a||((a=t.alternate)?(t.updateQueue=a.updateQueue,t.memoizedState=a.memoizedState,t.lanes=a.lanes):(t.updateQueue=null,t.memoizedState=null)),null!==(a=ol.current)){switch(a.tag){case 13:return 1&t.mode&&(null===sl?Du():null===a.alternate&&0===lu&&(lu=3)),a.flags&=-257,1&a.mode?(a.flags|=65536,a.lanes=r):a===n?a.flags|=65536:(a.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag?null===t.alternate?t.tag=17:((n=_t(2)).tag=2,Tt(t,n,2)):0===t.tag&&null===t.alternate&&(t.tag=28),t.lanes|=2),l===Ht?a.flags|=16384:(null===(n=a.updateQueue)?a.updateQueue=new Set([l]):n.add(l),1&a.mode&&Ju(e,l,r)),!1;case 22:if(1&a.mode)return a.flags|=65536,l===Ht?a.flags|=16384:(null===(n=a.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([l]):t.add(l),Ju(e,l,r)),!1}throw Error("Unexpected Suspense handler tag ("+a.tag+"). This is a bug in React.")}if(1===e.tag)return Ju(e,l,r),Du(),!1;l=Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}if(a=Hn(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:l}),t),null===su?su=[a]:su.push(a),4!==lu&&(lu=2),null===n)return!0;l=Hn(l,t);do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,Nt(n,e=Jr(n.stateNode,l,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==mu&&mu.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,Zr(r=Kr(r),e,n,l),Nt(n,r),!1}n=n.return}while(null!==n);return!1}var na=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),ta=!1;function la(e,n,t,l){n.child=null===e?tl(n,null,t,l):nl(n,e.child,t,l)}function ra(e,n,t,l,r){t=t.render;var a=n.ref;if("ref"in l){var i={};for(var u in l)"ref"!==u&&(i[u]=l[u])}else i=l;return ja(n),l=_l(e,n,t,i,a,r),null===e||ta?(n.flags|=1,la(e,n,l,r),n.child):(Ll(e,n,r),Ea(e,n,r))}function aa(e,n,t,l,r){if(null===e){var a=t.type;return"function"!=typeof a||ro(a)||void 0!==a.defaultProps||null!==t.compare?((e=uo(t.type,null,l,n,n.mode,r)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,ia(e,n,a,l,r))}if(a=e.child,!za(e,r)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:At)(i,l)&&e.ref===n.ref)return Ea(e,n,r)}return n.flags|=1,(e=ao(a,l)).ref=n.ref,e.return=n,n.child=e}function ia(e,n,t,l,r){if(null!==e){var a=e.memoizedProps;if(At(a,l)&&e.ref===n.ref){if(ta=!1,n.pendingProps=l=a,!za(e,r))return n.lanes=e.lanes,Ea(e,n,r);131072&e.flags&&(ta=!0)}}return ca(e,n,t,l,r)}function ua(e,n,t){var l=n.pendingProps,r=l.children,a=!!(2&n.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(sa(e,n),"hidden"===l.mode||a){if(128&n.flags){if(l=null!==i?i.baseLanes|t:t,null!==e){for(r=n.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;n.childLanes=a&~l}else n.childLanes=0,n.child=null;return oa(e,n,l,t)}if(1&n.mode){if(!(536870912&t))return n.lanes=n.childLanes=536870912,oa(e,n,null!==i?i.baseLanes|t:t,t);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(n,null!==i?i.cachePool:null),null!==i?al(n,i):il(),fl(n)}else n.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(n,null),il(),fl(n)}else null!==i?(Ya(n,i.cachePool),al(n,i),dl(),n.memoizedState=null):(null!==e&&Ya(n,null),il(),dl());return la(e,n,r,t),n.child}function oa(e,n,t,l){var r=qa();return r=null===r?null:{parent:Oa._currentValue2,pool:r},n.memoizedState={baseLanes:t,cachePool:r},null!==e&&Ya(n,null),il(),fl(n),null!==e&&Ua(e,n,l,!0),null}function sa(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=2097664);else{if("function"!=typeof t&&"object"!=typeof t)throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");null!==e&&e.ref===t||(n.flags|=2097664)}}function ca(e,n,t,l,r){return ja(n),t=_l(e,n,t,l,void 0,r),null===e||ta?(n.flags|=1,la(e,n,t,r),n.child):(Ll(e,n,r),Ea(e,n,r))}function fa(e,n,t,l,r,a){return ja(n),n.updateQueue=null,t=xl(n,l,t,r),Tl(e),null===e||ta?(n.flags|=1,la(e,n,t,a),n.child):(Ll(e,n,a),Ea(e,n,a))}function da(e,n,t,l,r){if(ja(n),null===n.stateNode)Pa(e,n),Br(n,t,l),Wr(n,t,l,r),l=!0;else if(null===e){var a=n.stateNode,i=n.memoizedProps,u=$r(t,i);a.props=u;var o=a.context,s=t.contextType,c=An;"object"==typeof s&&null!==s&&(c=Aa(s));var f=t.getDerivedStateFromProps;s="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate,i=n.pendingProps!==i,s||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||o!==c)&&Vr(n,a,l,c),zt=!1;var d=n.memoizedState;a.state=d,Ft(n,l,a,r),It(),o=n.memoizedState,i||d!==o||zt?("function"==typeof f&&(Qr(n,t,f,l),o=n.memoizedState),(u=zt||Or(n,t,u,l,d,o,c))?(s||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=o),a.props=l,a.state=o,a.context=c,l=u):("function"==typeof a.componentDidMount&&(n.flags|=4194308),l=!1)}else{a=n.stateNode,Ct(e,n),s=$r(t,c=n.memoizedProps),a.props=s,f=n.pendingProps,d=a.context,o=t.contextType,u=An,"object"==typeof o&&null!==o&&(u=Aa(o)),(o="function"==typeof(i=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==f||d!==u)&&Vr(n,a,l,u),zt=!1,d=n.memoizedState,a.state=d,Ft(n,l,a,r),It();var p=n.memoizedState;c!==f||d!==p||zt||null!==e&&null!==e.dependencies&&Da(e.dependencies)?("function"==typeof i&&(Qr(n,t,i,l),p=n.memoizedState),(s=zt||Or(n,t,s,l,d,p,u)||null!==e&&null!==e.dependencies&&Da(e.dependencies))?(o||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(l,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(l,p,u)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=p),a.props=l,a.state=p,a.context=u,l=s):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),l=!1)}return pa(e,n,t,l,!1,r)}function pa(e,n,t,l,r,a){return sa(e,n),r=!!(128&n.flags),l||r?(l=n.stateNode,t=r&&"function"!=typeof t.getDerivedStateFromError?null:l.render(),n.flags|=1,null!==e&&r?(n.child=nl(n,e.child,null,a),n.child=nl(n,null,t,a)):la(e,n,t,a),n.memoizedState=l.state,n.child):Ea(e,n,a)}var ha={dehydrated:null,treeContext:null,retryLane:0};function ma(e){return{baseLanes:e,cachePool:Xa()}}function ga(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=uu),e}function va(e,n,t){var l,r=n.pendingProps,a=!1,i=!!(128&n.flags);if((l=i)||(l=(null===e||null!==e.memoizedState)&&!!(2&hl.current)),l&&(a=!0,n.flags&=-129),l=!!(32&n.flags),n.flags&=-33,null===e){var u=r.children;return r=r.fallback,a?(dl(),a=n.mode,i=n.child,u={mode:"hidden",children:u},1&a||null===i?i=so(u,a,0,null):(i.childLanes=0,i.pendingProps=u),r=oo(r,a,t,null),i.return=n,r.return=n,i.sibling=r,n.child=i,(u=n.child).memoizedState=ma(t),u.childLanes=ga(e,l,t),n.memoizedState=ha,r):(cl(n),ba(n,u))}if(null!==(u=e.memoizedState)&&null!==u.dehydrated){if(i)256&n.flags?(cl(n),n.flags&=-257,n=ya(e,n,t)):null!==n.memoizedState?(dl(),n.child=e.child,n.flags|=128,n=null):(dl(),u=r.fallback,a=n.mode,r=so({mode:"visible",children:r.children},a,0,null),(u=oo(u,a,t,null)).flags|=2,r.return=n,u.return=n,r.sibling=u,n.child=r,!!(1&n.mode)&&nl(n,e.child,null,t),(r=n.child).memoizedState=ma(t),r.childLanes=ga(e,l,t),n.memoizedState=ha,n=u);else if(cl(n),bo())l=bo().digest,(r=Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.")).stack="",r.digest=l,l={value:r,source:null,stack:null},null===Gn?Gn=[l]:Gn.push(l),n=ya(e,n,t);else if(ta||Ua(e,n,t,!1),l=0!==(t&e.childLanes),ta||l){if(null!==(l=Yi)){if(42&(r=t&-t))r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(0!==(r=0!==(r&(l.suspendedLanes|t))?0:r)&&r!==u.retryLane)throw u.retryLane=r,lt(e,r),zu(l,e,r),na}bo()||Du(),n=ya(e,n,t)}else bo()?(n.flags|=128,n.child=e.child,eo.bind(null,e),bo(),n=null):(n=ba(n,r.children)).flags|=4096;return n}if(a){dl(),u=r.fallback,a=n.mode;var o=(i=e.child).sibling,s={mode:"hidden",children:r.children};return 1&a||n.child===i?(r=ao(i,s)).subtreeFlags=31457280&i.subtreeFlags:((r=n.child).childLanes=0,r.pendingProps=s,n.deletions=null),null!==o?u=ao(o,u):(u=oo(u,a,t,null)).flags|=2,u.return=n,r.return=n,r.sibling=u,n.child=r,r=u,u=n.child,null===(a=e.child.memoizedState)?a=ma(t):(null!==(i=a.cachePool)?(o=Oa._currentValue2,i=i.parent!==o?{parent:o,pool:o}:i):i=Xa(),a={baseLanes:a.baseLanes|t,cachePool:i}),u.memoizedState=a,u.childLanes=ga(e,l,t),n.memoizedState=ha,r}return cl(n),e=(l=e.child).sibling,l=ao(l,{mode:"visible",children:r.children}),!(1&n.mode)&&(l.lanes=t),l.return=n,l.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=l,n.memoizedState=null,l}function ba(e,n){return(n=so({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function ya(e,n,t){return nl(n,e.child,null,t),(e=ba(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Sa(e,n,t){e.lanes|=n;var l=e.alternate;null!==l&&(l.lanes|=n),Ia(e.return,n,t)}function ka(e,n,t,l,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:t,tailMode:r}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=t,a.tailMode=r)}function wa(e,n,t){var l=n.pendingProps,r=l.revealOrder,a=l.tail;if(la(e,n,l.children,t),2&(l=hl.current))l=1&l|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Sa(e,t,n);else if(19===e.tag)Sa(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(jn(hl,l),1&n.mode)switch(r){case"forwards":for(t=n.child,r=null;null!==t;)null!==(e=t.alternate)&&null===ml(e)&&(r=t),t=t.sibling;null===(t=r)?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),ka(n,!1,r,t,a);break;case"backwards":for(t=null,r=n.child,n.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ml(e)){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}ka(n,!0,t,null,a);break;case"together":ka(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function Pa(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ea(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),ru|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(Ua(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=ao(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=ao(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function za(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!Da(e))}function Ra(e,n,t){switch(n.tag){case 3:$n(n,n.stateNode.containerInfo),Na(n,Oa,e.memoizedState.cache);break;case 27:case 5:Yn(n);break;case 4:$n(n,n.stateNode.containerInfo);break;case 10:Na(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(null!==l)return null!==l.dehydrated?(cl(n),n.flags|=128,null):0!==(t&n.child.childLanes)?va(e,n,t):(cl(n),null!==(e=Ea(e,n,t))?e.sibling:null);cl(n);break;case 19:var r=!!(128&e.flags);if((l=0!==(t&n.childLanes))||(Ua(e,n,t,!1),l=0!==(t&n.childLanes)),r){if(l)return wa(e,n,t);n.flags|=128}if(null!==(r=n.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),jn(hl,hl.current),l)break;return null;case 22:case 23:return n.lanes=0,ua(e,n,t);case 24:Na(n,Oa,e.memoizedState.cache)}return Ea(e,n,t)}function Ca(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)ta=!0;else{if(!(za(e,t)||128&n.flags))return ta=!1,Ra(e,n,t);ta=!!(131072&e.flags)}else ta=!1;switch(n.lanes=0,n.tag){case 16:var l=n.elementType;e:{Pa(e,n),e=n.pendingProps;var r=l._init;if(l=r(l._payload),n.type=l,"function"!=typeof l){if(null!=l){if((r=l.$$typeof)===y){n.tag=11,n=ra(null,n,l,e,t);break e}if(r===w){n.tag=14,n=aa(null,n,l,e,t);break e}}throw n=j(l)||l,Error("Element type is invalid. Received a promise that resolves to: "+n+". Lazy element type must resolve to a class or function.")}ro(l)?(e=$r(l,e),n.tag=1,n=da(null,n,l,e,t)):(n.tag=0,n=ca(null,n,l,e,t))}return n;case 0:return ca(e,n,n.type,n.pendingProps,t);case 1:return da(e,n,l=n.type,r=$r(l,n.pendingProps),t);case 3:if($n(n,n.stateNode.containerInfo),null===e)throw Error("Should have a current fiber. This is a bug in React.");var a=n.pendingProps;l=(r=n.memoizedState).element,Ct(e,n),Ft(n,a,null,t);var i=(a=n.memoizedState).cache;return Na(n,Oa,i),i!==r.cache&&Fa(n,[Oa],t,!0),It(),(r=a.element)===l?n=Ea(e,n,t):(la(e,n,r,t),n=n.child),n;case 26:case 27:case 5:return Yn(n),l=n.pendingProps.children,null!==n.memoizedState&&(r=_l(e,n,Nl,null,null,t),Bo._currentValue2=r),sa(e,n),la(e,n,l,t),n.child;case 6:return null;case 13:return va(e,n,t);case 4:return $n(n,n.stateNode.containerInfo),l=n.pendingProps,null===e?n.child=nl(n,null,l,t):la(e,n,l,t),n.child;case 11:return ra(e,n,n.type,n.pendingProps,t);case 7:return la(e,n,n.pendingProps,t),n.child;case 8:case 12:return la(e,n,n.pendingProps.children,t),n.child;case 10:return l=n.pendingProps,Na(n,n.type,l.value),la(e,n,l.children,t),n.child;case 9:return r=n.type._context,l=n.pendingProps.children,ja(n),l=l(r=Aa(r)),n.flags|=1,la(e,n,l,t),n.child;case 14:return aa(e,n,n.type,n.pendingProps,t);case 15:return ia(e,n,n.type,n.pendingProps,t);case 17:return r=$r(l=n.type,n.pendingProps),Pa(e,n),n.tag=1,ja(n),Br(n,l,r),Wr(n,l,r,t),pa(null,n,l,!0,!1,t);case 28:return r=$r(l=n.type,n.pendingProps),Pa(e,n),n.tag=0,ca(null,n,l,r,t);case 19:return wa(e,n,t);case 22:return ua(e,n,t);case 24:return ja(n),l=Aa(Oa),null===e?(null===(r=qa())&&(r=Yi,a=Ba(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=t),r=a),n.memoizedState={parent:l,cache:r},Rt(n),Na(n,Oa,r)):(0!==(e.lanes&t)&&(Ct(e,n),Ft(n,null,null,t),It()),r=e.memoizedState,a=n.memoizedState,r.parent!==l?(r={parent:l,cache:l},n.memoizedState=r,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=r),Na(n,Oa,l)):(l=a.cache,Na(n,Oa,l),l!==r.cache&&Fa(n,[Oa],t,!0))),la(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}var _a=Un(null),Ta=null,xa=null;function Na(e,n,t){jn(_a,n._currentValue2),n._currentValue2=t}function La(e){e._currentValue2=_a.current,Dn(_a)}function Ia(e,n,t){for(;null!==e;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==l&&(l.childLanes|=n)):null!==l&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===t)break;e=e.return}}function Fa(e,n,t,l){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var i=r.child;a=a.firstContext;e:for(;null!==a;){var u=a;a=r;for(var o=0;o<n.length;o++)if(u.context===n[o]){a.lanes|=t,null!==(u=a.alternate)&&(u.lanes|=t),Ia(a.return,t,e),l||(i=null);break e}a=u.next}}else if(18===r.tag){if(null===(i=r.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");i.lanes|=t,null!==(a=i.alternate)&&(a.lanes|=t),Ia(i,t,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function Ua(e,n,t,l){e=null;for(var r=n,a=!1;null!==r;){if(!a)if(524288&r.flags)a=!0;else if(262144&r.flags)break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error("Should have a current fiber. This is a bug in React.");if(null!==(i=i.memoizedProps)){var u=r.type;Mn(r.pendingProps.value,i.value)||(null!==e?e.push(u):e=[u])}}else if(r===Wn.current){if(null===(i=r.alternate))throw Error("Should have a current fiber. This is a bug in React.");i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Bo):e=[Bo])}r=r.return}null!==e&&Fa(n,e,t,l),n.flags|=262144}function Da(e){for(e=e.firstContext;null!==e;){if(!Mn(e.context._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function ja(e){Ta=e,xa=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Aa(e){return Qa(Ta,e)}function Ma(e,n){return null===Ta&&ja(e),Qa(e,n)}function Qa(e,n){var t=n._currentValue2;if(n={context:n,memoizedValue:t,next:null},null===xa){if(null===e)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");xa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xa=xa.next=n;return t}var Ha="undefined"!=typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},Oa={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ba(){return{controller:new Ha,data:new Map,refCount:0}}function Va(e){e.refCount--,0===e.refCount&&n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_NormalPriority,function(){e.controller.abort()})}var Wa=s.S;s.S=function(e,n){"object"==typeof n&&null!==n&&"function"==typeof n.then&&Pt(0,n),null!==Wa&&Wa(e,n)};var $a=Un(null);function qa(){var e=$a.current;return null!==e?e:Yi.pooledCache}function Ya(e,n){jn($a,null===n?$a.current:n.pool)}function Xa(){var e=qa();return null===e?null:{parent:Oa._currentValue2,pool:e}}function Ga(e,n){if(null!==e&&e.child===n.child)return!1;if(16&n.flags)return!0;for(e=n.child;null!==e;){if(13878&e.flags||13878&e.subtreeFlags)return!0;e=e.sibling}return!1}function Ja(e,n,t,l){for(var r=n.child;null!==r;){if(5===r.tag){var a=r.stateNode;t&&l&&(a=Oo(a)),Ro(e.node,a.node)}else if(6===r.tag){if(a=r.stateNode,t&&l)throw Error("Not yet implemented.");Ro(e.node,a.node)}else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),Ja(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Ka(e,n,t,l){for(var r=n.child;null!==r;){if(5===r.tag){var a=r.stateNode;t&&l&&(a=Oo(a)),Co(e,a.node)}else if(6===r.tag){if(a=r.stateNode,t&&l)throw Error("Not yet implemented.");Co(e,a.node)}else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),Ka(e,r,!(null!==r.memoizedProps&&"manual"===r.memoizedProps.mode),!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Za(e,n){if(Ga(e,n)){var t=(e=n.stateNode).containerInfo,l=zo();Ka(l,n,!1,!1),e.pendingChildren=l,n.flags|=4,_o(t,l)}}function ei(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?wn():536870912,e.lanes|=n,ou|=n)}function ni(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var l=null;null!==t;)null!==t.alternate&&(l=t),t=t.sibling;null===l?n||null===e.tail?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ti(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,l=0;if(n)for(var r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=31457280&r.subtreeFlags,l|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=t,n}function li(e,t,l){var r=t.pendingProps;switch(t.tag){case 28:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:case 17:return ti(t),null;case 3:return r=t.stateNode,l=null,null!==e&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),La(Oa),qn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Gn&&(Cu(Gn),Gn=null)),Za(e,t),ti(t),null;case 26:case 27:case 5:if(Xn(t),l=t.type,null!==e&&null!=t.stateNode){l=e.stateNode;var a=e.memoizedProps;if((e=Ga(e,t))||a!==r){e:{if(a=en(null,a,r,l.canonical.viewConfig.validAttributes),l.canonical.currentProps=r,r=l.node,e)r=null!==a?Po(r,a):wo(r);else{if(null===a){r=l;break e}r=Eo(r,a)}r={node:r,canonical:l.canonical}}r===l?t.stateNode=l:(t.stateNode=r,e?Ja(r,t,!1,!1):t.flags|=4)}else t.stateNode=l}else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return ti(t),null}a=Vn.current,e=Fo,Fo+=2;var u=nn(null,r,(l=Io(l)).validAttributes);Ja(e={node:a=ko(e,l.uiViewClassName,a,u,t),canonical:{nativeTag:e,viewConfig:l,currentProps:r,internalInstanceHandle:t,publicInstance:u=n(i[2]).createPublicInstance(e,l,t)}},t,!1,!1),t.stateNode=e}return ti(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r?(t.stateNode=Do(r,Vn.current,On.current,t),t.flags|=4):t.stateNode=e.stateNode;else{if("string"!=typeof r&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");t.stateNode=Do(r,Vn.current,On.current,t)}return ti(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(null!==r&&null!==r.dehydrated){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,ti(t),a=!1}else null!==Gn&&(Cu(Gn),Gn=null),a=!0;if(!a)return 256&t.flags?(pl(t),t):(pl(t),null)}return pl(t),128&t.flags?(t.lanes=l,t):(r=null!==r,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(l=t.child).alternate&&null!==l.alternate.memoizedState&&null!==l.alternate.memoizedState.cachePool&&(a=l.alternate.memoizedState.cachePool.pool),u=null,null!==l.memoizedState&&null!==l.memoizedState.cachePool&&(u=l.memoizedState.cachePool.pool),u!==a&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),ei(t,t.updateQueue),ti(t),null);case 4:return qn(),Za(e,t),ti(t),null;case 10:return La(t.type),ti(t),null;case 19:if(Dn(hl),null===(a=t.memoizedState))return ti(t),null;if(r=!!(128&t.flags),null===(u=a.rendering))if(r)ni(a,!1);else{if(0!==lu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(u=ml(e))){for(t.flags|=128,ni(a,!1),e=u.updateQueue,t.updateQueue=e,ei(t,e),t.subtreeFlags=0,e=l,r=t.child;null!==r;)io(r,e),r=r.sibling;return jn(hl,1&hl.current|2),t.child}e=e.sibling}null!==a.tail&&n(i[3]).unstable_now()>pu&&(t.flags|=128,r=!0,ni(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ml(u))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ei(t,e),ni(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate)return ti(t),null}else 2*n(i[3]).unstable_now()-a.renderingStartTime>pu&&536870912!==l&&(t.flags|=128,r=!0,ni(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(e=a.last)?e.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=n(i[3]).unstable_now(),t.sibling=null,e=hl.current,jn(hl,r?1&e|2:1&e),t):(ti(t),null);case 22:case 23:return pl(t),ul(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r&&1&t.mode?!!(536870912&l)&&!(128&t.flags)&&(ti(t),6&t.subtreeFlags&&(t.flags|=8192)):ti(t),null!==(r=t.updateQueue)&&ei(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),l=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),null!==e&&Dn($a),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),La(Oa),ti(t),null;case 25:case 29:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ri(e,n){switch(n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return La(Oa),qn(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return Xn(n),null;case 13:if(pl(n),null!==(e=n.memoizedState)&&null!==e.dehydrated&&null===n.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Dn(hl),null;case 4:return qn(),null;case 10:return La(n.type),null;case 22:case 23:return pl(n),ul(),null!==e&&Dn($a),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return La(Oa),null;default:return null}}function ai(e,n){switch(n.tag){case 3:La(Oa),qn();break;case 26:case 27:case 5:Xn(n);break;case 4:qn();break;case 13:pl(n);break;case 19:Dn(hl);break;case 10:La(n.type);break;case 22:case 23:pl(n),ul(),null!==e&&Dn($a);break;case 24:La(Oa)}}function ii(e,n){try{var t=n.updateQueue,l=null!==t?t.lastEffect:null;if(null!==l){var r=l.next;t=r;do{if((t.tag&e)===e){l=void 0;var a=t.create,i=t.inst;l=a(),i.destroy=l}t=t.next}while(t!==r)}}catch(e){Gu(n,n.return,e)}}function ui(e,n,t){try{var l=n.updateQueue,r=null!==l?l.lastEffect:null;if(null!==r){var a=r.next;l=a;do{if((l.tag&e)===e){var i=l.inst,u=i.destroy;if(void 0!==u){i.destroy=void 0,r=n;var o=t;try{u()}catch(e){Gu(r,o,e)}}}l=l.next}while(l!==a)}}catch(e){Gu(n,n.return,e)}}function oi(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{Dt(n,t)}catch(n){Gu(e,e.return,n)}}}function si(e,n,t){t.props=$r(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(t){Gu(e,n,t)}}function ci(e,n){try{var t=e.ref;if(null!==t){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=jo(l);break;default:r=l}"function"==typeof t?e.refCleanup=t(r):t.current=r}}catch(t){Gu(e,n,t)}}function fi(e,n){var t=e.ref,l=e.refCleanup;if(null!==t)if("function"==typeof l)try{l()}catch(t){Gu(e,n,t)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof t)try{t(null)}catch(t){Gu(e,n,t)}else t.current=null}function di(e){try{throw Error("The current renderer does not support mutation. This error is likely caused by a bug in React. Please file an issue.")}catch(n){Gu(e,e.return,n)}}var pi=!1,hi=!1,mi="function"==typeof WeakSet?WeakSet:Set,gi=null,vi=!1;function bi(e,n){for(gi=n;null!==gi;)if(n=(e=gi).child,1028&e.subtreeFlags&&null!==n)n.return=e,gi=n;else for(;null!==gi;){var t=(e=gi).alternate;switch(n=e.flags,e.tag){case 0:case 11:case 15:case 3:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&n&&null!==t){n=void 0;var l=e,r=t.memoizedProps;t=t.memoizedState;var a=l.stateNode;try{var i=$r(l.type,r,(l.elementType,l.type));n=a.getSnapshotBeforeUpdate(i,t),a.__reactInternalSnapshotBeforeUpdate=n}catch(e){Gu(l,l.return,e)}}break;default:if(1024&n)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(null!==(n=e.sibling)){n.return=e.return,gi=n;break}gi=e.return}return i=vi,vi=!1,i}function yi(e,n,t){var l=t.flags;switch(t.tag){case 0:case 11:case 15:_i(e,t),4&l&&ii(5,t);break;case 1:if(_i(e,t),4&l)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(e){Gu(t,t.return,e)}else{var r=$r(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(r,n,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Gu(t,t.return,e)}}64&l&&oi(t),512&l&&ci(t,t.return);break;case 3:if(_i(e,t),64&l&&null!==(l=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 27:case 5:e=jo(t.child.stateNode);break;case 1:e=t.child.stateNode}try{Dt(l,e)}catch(e){Gu(t,t.return,e)}}break;case 26:case 27:case 5:_i(e,t),null===n&&4&l&&di(t),512&l&&ci(t,t.return);break;case 12:case 13:default:_i(e,t);break;case 22:if(1&t.mode){if(!(r=null!==t.memoizedState||pi)){n=null!==n&&null!==n.memoizedState||hi;var a=pi,i=hi;pi=r,(hi=n)&&!i?xi(e,t,!!(8772&t.subtreeFlags)):_i(e,t),pi=a,hi=i}}else _i(e,t);512&l&&("manual"===t.memoizedProps.mode?ci(t,t.return):fi(t,t.return))}}function Si(e){var n=e.alternate;null!==n&&(e.alternate=null,Si(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ki(e,n,t){for(t=t.child;null!==t;)wi(e,n,t),t=t.sibling}function wi(e,n,t){if(sn&&"function"==typeof sn.onCommitFiberUnmount)try{sn.onCommitFiberUnmount(on,t)}catch(e){}switch(t.tag){case 26:case 27:case 5:hi||fi(t,n);case 6:ki(e,n,t);break;case 18:break;case 4:zo(),ki(e,n,t);break;case 0:case 11:case 14:case 15:hi||ui(2,t,n),hi||ui(4,t,n),ki(e,n,t);break;case 1:if(!hi){fi(t,n);var l=t.stateNode;"function"==typeof l.componentWillUnmount&&si(t,n,l)}ki(e,n,t);break;case 21:ki(e,n,t);break;case 22:hi||fi(t,n),1&t.mode?(hi=(l=hi)||null!==t.memoizedState,ki(e,n,t),hi=l):ki(e,n,t);break;default:ki(e,n,t)}}function Pi(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new mi),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new mi),n;default:throw Error("Unexpected Suspense handler tag ("+e.tag+"). This is a bug in React.")}}function Ei(e,n){var t=Pi(e);n.forEach(function(n){var l=no.bind(null,e,n);t.has(n)||(t.add(n),n.then(l,l))})}function zi(e,n){var t=n.deletions;if(null!==t)for(var l=0;l<t.length;l++){var r=t[l];wi(e,n,r);var a=r.alternate;null!==a&&(a.return=null),r.return=null}if(13878&n.subtreeFlags)for(n=n.child;null!==n;)Ri(n,e),n=n.sibling}function Ri(e,t){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zi(t,e),Ci(e),4&r&&(ui(3,e,e.return),ii(3,e),ui(5,e,e.return));break;case 1:zi(t,e),Ci(e),512&r&&(hi||null===l||fi(l,l.return)),64&r&&pi&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===l?r:l.concat(r))));break;case 26:case 27:case 5:zi(t,e),Ci(e),512&r&&(hi||null===l||fi(l,l.return));break;case 6:case 3:case 4:case 12:default:zi(t,e),Ci(e);break;case 13:zi(t,e),Ci(e),8192&e.child.flags&&(l=null!==l&&null!==l.memoizedState,null===e.memoizedState||l||(du=n(i[3]).unstable_now())),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ei(e,r)));break;case 22:512&r&&(hi||null===l||fi(l,l.return));var a=null!==e.memoizedState,u=null!==l&&null!==l.memoizedState;if(1&e.mode){var o=pi,s=hi;pi=o||a,hi=s||u,zi(t,e),hi=s,pi=o}else zi(t,e);Ci(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=a?-2&t._visibility:1|t._visibility,a&&(a=pi||hi,null===l||u||a||1&e.mode&&Ti(e))),4&r&&(null!==(r=e.updateQueue)&&(null!==(l=r.retryQueue)&&(r.retryQueue=null,Ei(e,l))));break;case 19:zi(t,e),Ci(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ei(e,r)));case 21:}}function Ci(e){var n=e.flags;2&n&&(e.flags&=-3),4096&n&&(e.flags&=-4097)}function _i(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)yi(e,n.alternate,n),n=n.sibling}function Ti(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ui(4,n,n.return),Ti(n);break;case 1:fi(n,n.return);var t=n.stateNode;"function"==typeof t.componentWillUnmount&&si(n,n.return,t),Ti(n);break;case 26:case 27:case 5:fi(n,n.return),Ti(n);break;case 22:fi(n,n.return),null===n.memoizedState&&Ti(n);break;default:Ti(n)}e=e.sibling}}function xi(e,n,t){for(t=t&&!!(8772&n.subtreeFlags),n=n.child;null!==n;){var l=n.alternate,r=e,a=n,i=a.flags;switch(a.tag){case 0:case 11:case 15:xi(r,a,t),ii(4,a);break;case 1:if(xi(r,a,t),"function"==typeof(r=(l=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){Gu(l,l.return,e)}if(null!==(r=(l=a).updateQueue)){var u=l.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Ut(o[r],u)}catch(e){Gu(l,l.return,e)}}t&&64&i&&oi(a),ci(a,a.return);break;case 26:case 27:case 5:xi(r,a,t),t&&null===l&&4&i&&di(a),ci(a,a.return);break;case 12:case 13:default:xi(r,a,t);break;case 22:null===a.memoizedState&&xi(r,a,t),ci(a,a.return)}n=n.sibling}}function Ni(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&Va(t))}function Li(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Va(e))}function Ii(e,n,t,l){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)Fi(e,n,t,l),n=n.sibling}function Fi(e,n,t,l){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ii(e,n,t,l),2048&r&&ii(9,n);break;case 3:Ii(e,n,t,l),2048&r&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Va(e)));break;case 12:if(2048&r){Ii(e,n,t,l),e=n.stateNode;try{var a=n.memoizedProps,i=a.id,u=a.onPostCommit;"function"==typeof u&&u(i,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){Gu(n,n.return,e)}}else Ii(e,n,t,l);break;case 23:break;case 22:a=n.stateNode,null!==n.memoizedState?4&a._visibility?Ii(e,n,t,l):1&n.mode?Di(e,n):(a._visibility|=4,Ii(e,n,t,l)):4&a._visibility?Ii(e,n,t,l):(a._visibility|=4,Ui(e,n,t,l,!!(10256&n.subtreeFlags))),2048&r&&Ni(n.alternate,n);break;case 24:Ii(e,n,t,l),2048&r&&Li(n.alternate,n);break;default:Ii(e,n,t,l)}}function Ui(e,n,t,l,r){for(r=r&&!!(10256&n.subtreeFlags),n=n.child;null!==n;){var a=e,i=n,u=t,o=l,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ui(a,i,u,o,r),ii(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?4&c._visibility?Ui(a,i,u,o,r):1&i.mode?Di(a,i):(c._visibility|=4,Ui(a,i,u,o,r)):(c._visibility|=4,Ui(a,i,u,o,r)),r&&2048&s&&Ni(i.alternate,i);break;case 24:Ui(a,i,u,o,r),r&&2048&s&&Li(i.alternate,i);break;default:Ui(a,i,u,o,r)}n=n.sibling}}function Di(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,l=n,r=l.flags;switch(l.tag){case 22:Di(t,l),2048&r&&Ni(l.alternate,l);break;case 24:Di(t,l),2048&r&&Li(l.alternate,l);break;default:Di(t,l)}n=n.sibling}}var ji=8192;function Ai(e){if(e.subtreeFlags&ji)for(e=e.child;null!==e;)Mi(e),e=e.sibling}function Mi(e){switch(e.tag){case 26:Ai(e),e.flags&ji&&null!==e.memoizedState&&yo();break;case 5:case 3:case 4:default:Ai(e);break;case 22:if(null===e.memoizedState){var n=e.alternate;null!==n&&null!==n.memoizedState?(n=ji,ji=16777216,Ai(e),ji=n):Ai(e)}}}function Qi(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function Hi(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];gi=l,Vi(l,e)}Qi(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Oi(e),e=e.sibling}function Oi(e){switch(e.tag){case 0:case 11:case 15:Hi(e),2048&e.flags&&ui(9,e,e.return);break;case 3:case 12:default:Hi(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&4&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-5,Bi(e)):Hi(e)}}function Bi(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];gi=l,Vi(l,e)}Qi(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:ui(8,n,n.return),Bi(n);break;case 22:4&(t=n.stateNode)._visibility&&(t._visibility&=-5,Bi(n));break;default:Bi(n)}e=e.sibling}}function Vi(e,n){for(;null!==gi;){var t=gi;switch(t.tag){case 0:case 11:case 15:ui(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var l=t.memoizedState.cachePool.pool;null!=l&&l.refCount++}break;case 24:Va(t.memoizedState.cache)}if(null!==(l=t.child))l.return=t,gi=l;else e:for(t=e;null!==gi;){var r=(l=gi).sibling,a=l.return;if(Si(l),l===t){gi=null;break e}if(null!==r){r.return=a,gi=r;break e}gi=a}}}var Wi={getCacheForType:function(e){var n=Aa(Oa),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t}},$i="function"==typeof WeakMap?WeakMap:Map,qi=0,Yi=null,Xi=null,Gi=0,Ji=0,Ki=null,Zi=!1,eu=!1,nu=!1,tu=0,lu=0,ru=0,au=0,iu=0,uu=0,ou=0,su=null,cu=null,fu=!1,du=0,pu=1/0,hu=null,mu=null,gu=!1,vu=null,bu=0,yu=0,Su=null,ku=0,wu=null;function Pu(e){return 1&e.mode?2&qi&&0!==Gi?Gi&-Gi:null!==s.T?0!==(e=kt)?e:bt():Mo():2}function Eu(){0===uu&&(uu=536870912&Gi?536870912:kn());var e=ol.current;return null!==e&&(e.flags|=32),uu}function zu(e,t,l){(e===Yi&&2===Ji||null!==e.cancelPendingCommit)&&(Lu(e,0),xu(e,Gi,uu,!1)),En(e,l),2&qi&&e===Yi||(e===Yi&&(!(2&qi)&&(au|=l),4===lu&&xu(e,Gi,uu,!1)),dt(e),2===l&&0===qi&&!(1&t.mode)&&(pu=n(i[3]).unstable_now()+500,pt(0,!0)))}function Ru(e,t,l){if(6&qi)throw Error("Should not already be working.");for(var r=!l&&!(60&t)&&0===(t&e.expiredLanes)||yn(e,t),a=r?Mu(e,t):ju(e,t,!0),u=r;;){if(0===a){eu&&!r&&xu(e,t,0,!1);break}if(6===a)xu(e,t,0,!Zi);else{if(l=e.current.alternate,u&&!Tu(l)){a=ju(e,t,!1),u=!1;continue}if(0!==e.tag&&2===a){if(u=t,e.errorRecoveryDisabledLanes&u)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=e;if(a=su,2!==(o=ju(s,o,!1))){if(nu){s.errorRecoveryDisabledLanes|=u,au|=u,a=4;break e}u=cu,cu=a,null!==u&&Cu(u)}a=o}if(u=!1,2!==a)continue}}if(1===a){Lu(e,0),xu(e,t,0,!0);break}e:{switch(r=e,u=a){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 4:if((4194176&t)===t){xu(r,t,uu,!Zi);break e}break;case 2:cu=null;break;case 3:case 5:break;default:throw Error("Unknown root exit status.")}if(r.finishedWork=l,r.finishedLanes=t,(62914560&t)===t&&3===u&&10<(u=du+300-n(i[3]).unstable_now())){if(xu(r,t,uu,!Zi),0!==bn(r,0))break e;r.timeoutHandle=Qo(_u.bind(null,r,l,cu,hu,fu,t,uu,au,ou,Zi,2,-0,0),u)}else _u(r,l,cu,hu,fu,t,uu,au,ou,Zi,0,-0,0)}}break}dt(e)}function Cu(e){null===cu?cu=e:cu.push.apply(cu,e)}function _u(e,n,t,l,r,a,i,u,o,c,f,d,p){(8192&(a=n.subtreeFlags)||!(16785408&~a))&&Mi(n),n=s.T,a=Ao;try{Ao=2,s.T=null,$u(e,t,l,r,a,i,u,o)}finally{s.T=n,Ao=a}}function Tu(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var l=0;l<t.length;l++){var r=t[l],a=r.getSnapshot;r=r.value;try{if(!Mn(a(),r))return!1}catch(e){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xu(e,n,t,l){n&=~iu,n&=~au,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var r=n;0<r;){var a=31-dn(r),i=1<<a;l[a]=-1,r&=~i}0!==t&&Rn(e,t,n)}function Nu(){if(null!==Xi){if(0===Ji)var e=Xi.return;else xa=Ta=null,Il(e=Xi),Yt=null,Xt=0,e=Xi;for(;null!==e;)ai(e.alternate,e),e=e.return;Xi=null}}function Lu(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,Ho(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),Nu(),Yi=e,Xi=t=ao(e.current,null),Gi=n,Ji=0,Ki=null,Zi=!1,eu=yn(e,n),nu=!1,ou=uu=iu=au=ru=lu=0,cu=su=null,fu=!1,8&n&&(n|=32&n);var l=e.entangledLanes;if(0!==l)for(e=e.entanglements,l&=n;0<l;){var r=31-dn(l),a=1<<r;n|=e[r],l&=~a}return tu=n,et(),t}function Iu(e,n){vl=null,s.H=Dr,n===Mt?(n=$t(),Ji=3):n===Qt?(n=$t(),Ji=4):Ji=n===na?8:null!==n&&"object"==typeof n&&"function"==typeof n.then?6:1,Ki=n,null===Xi&&(lu=1,Xr(e,Hn(n,e.current)))}function Fu(){var e=s.H;return s.H=Dr,null===e?Dr:e}function Uu(){var e=s.A;return s.A=Wi,e}function Du(){lu=4,Zi||(4194176&Gi)!==Gi&&null!==ol.current||(eu=!0),!(134217727&ru)&&!(134217727&au)||null===Yi||xu(Yi,Gi,uu,!1)}function ju(e,n,t){var l=qi;qi|=2;var r=Fu(),a=Uu();Yi===e&&Gi===n||(hu=null,Lu(e,n)),n=!1;var i=lu;e:for(;;)try{if(0!==Ji&&null!==Xi){var u=Xi,o=Ki;switch(Ji){case 8:Nu(),i=6;break e;case 3:case 2:case 6:null===ol.current&&(n=!0);var c=Ji;if(Ji=0,Ki=null,Bu(e,u,o,c),t&&eu){i=0;break e}break;default:c=Ji,Ji=0,Ki=null,Bu(e,u,o,c)}}Au(),i=lu;break}catch(n){Iu(e,n)}return n&&e.shellSuspendCounter++,xa=Ta=null,qi=l,s.H=r,s.A=a,null===Xi&&(Yi=null,Gi=0,et()),i}function Au(){for(;null!==Xi;)Hu(Xi)}function Mu(e,t){var l=qi;qi|=2;var r=Fu(),a=Uu();Yi!==e||Gi!==t?(hu=null,pu=n(i[3]).unstable_now()+500,Lu(e,t)):eu=yn(e,t);e:for(;;)try{if(0!==Ji&&null!==Xi){t=Xi;var u=Ki;n:switch(Ji){case 1:Ji=0,Ki=null,Bu(e,t,u,1);break;case 2:if(Ot(u)){Ji=0,Ki=null,Ou(t);break}t=function(){2===Ji&&Yi===e&&(Ji=7),dt(e)},u.then(t,t);break e;case 3:Ji=7;break e;case 4:Ji=5;break e;case 7:Ot(u)?(Ji=0,Ki=null,Ou(t)):(Ji=0,Ki=null,Bu(e,t,u,7));break;case 5:var o=null;switch(Xi.tag){case 26:o=Xi.memoizedState;case 5:case 27:var c=Xi;if(!o||yo()){Ji=0,Ki=null;var f=c.sibling;if(null!==f)Xi=f;else{var d=c.return;null!==d?(Xi=d,Vu(d)):Xi=null}break n}}Ji=0,Ki=null,Bu(e,t,u,5);break;case 6:Ji=0,Ki=null,Bu(e,t,u,6);break;case 8:Nu(),lu=6;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}}Qu();break}catch(n){Iu(e,n)}return xa=Ta=null,s.H=r,s.A=a,qi=l,null!==Xi?0:(Yi=null,Gi=0,et(),lu)}function Qu(){for(;null!==Xi&&!n(i[3]).unstable_shouldYield();)Hu(Xi)}function Hu(e){var n=Ca(e.alternate,e,tu);e.memoizedProps=e.pendingProps,null===n?Vu(e):Xi=n}function Ou(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=fa(t,n,n.pendingProps,n.type,void 0,Gi);break;case 11:n=fa(t,n,n.pendingProps,n.type.render,n.ref,Gi);break;case 5:Il(n);default:ai(t,n),n=Ca(t,n=Xi=io(n,tu),tu)}e.memoizedProps=e.pendingProps,null===n?Vu(e):Xi=n}function Bu(e,n,t,l){xa=Ta=null,Il(n),Yt=null,Xt=0;var r=n.return;try{if(ea(e,r,n,t,Gi))return lu=1,Xr(e,Hn(t,e.current)),void(Xi=null)}catch(n){if(null!==r)throw Xi=r,n;return lu=1,Xr(e,Hn(t,e.current)),void(Xi=null)}32768&n.flags?(1===l?e=!0:eu||536870912&Gi?e=!1:(Zi=e=!0,(2===l||3===l||6===l)&&(null!==(l=ol.current)&&13===l.tag&&(l.flags|=16384))),Wu(n,e)):Vu(n)}function Vu(e){var n=e;do{if(32768&n.flags)return void Wu(n,Zi);e=n.return;var t=li(n.alternate,n,tu);if(null!==t)return void(Xi=t);if(null!==(n=n.sibling))return void(Xi=n);Xi=n=e}while(null!==n);0===lu&&(lu=5)}function Wu(e,n){do{var t=ri(e.alternate,e);if(null!==t)return t.flags&=32767,void(Xi=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(Xi=e);Xi=e=t}while(null!==e);lu=6,Xi=null}function $u(e,t,l,r,a,u,o,c){do{Yu()}while(null!==vu);if(6&qi)throw Error("Should not already be working.");var f=e.finishedWork;if(r=e.finishedLanes,null===f)return null;if(e.finishedWork=null,e.finishedLanes=0,f===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d,p,h=f.lanes|f.childLanes;if(zn(e,r,h|=Zn,u,o,c),e===Yi&&(Xi=Yi=null,Gi=0),!(10256&f.subtreeFlags)&&!(10256&f.flags)||gu||(gu=!0,yu=h,Su=l,d=n(i[3]).unstable_NormalPriority,p=function(){return Yu(),null},n(i[3]).unstable_scheduleCallback(d,p)),l=!!(15990&f.flags),15990&f.subtreeFlags||l?(l=s.T,s.T=null,u=Ao,Ao=2,o=qi,qi|=4,bi(e,f),Ri(f,e),e.current=f,yi(e,f.alternate,f),n(i[3]).unstable_requestPaint(),qi=o,Ao=u,s.T=l):e.current=f,gu?(gu=!1,vu=e,bu=r):qu(e,h),0===(h=e.pendingLanes)&&(mu=null),cn(f.stateNode),dt(e),null!==t)for(a=e.onRecoverableError,f=0;f<t.length;f++)a((h=t[f]).value,{componentStack:h.stack});return 3&bu&&0!==e.tag&&Yu(),h=e.pendingLanes,4194218&r&&42&h?e===wu?ku++:(ku=0,wu=e):ku=0,pt(0,!1),null}function qu(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,Va(n)))}function Yu(){if(null!==vu){var e=vu,n=yu;yu=0;var t=_n(bu),l=s.T,r=Ao;try{if(Ao=32>t?32:t,s.T=null,null===vu)var a=!1;else{t=Su,Su=null;var i=vu,u=bu;if(vu=null,bu=0,6&qi)throw Error("Cannot flush passive effects while already rendering.");var o=qi;if(qi|=4,Oi(i.current),Fi(i,i.current,u,t),qi=o,pt(0,!1),sn&&"function"==typeof sn.onPostCommitFiberRoot)try{sn.onPostCommitFiberRoot(on,i)}catch(e){}a=!0}return a}finally{Ao=r,s.T=l,qu(e,n)}}return!1}function Xu(e,n,t){n=Hn(t,n),null!==(e=Tt(e,n=Jr(e.stateNode,n,2),2))&&(En(e,2),dt(e))}function Gu(e,n,t){if(3===e.tag)Xu(e,e,t);else for(;null!==n;){if(3===n.tag){Xu(n,e,t);break}if(1===n.tag){var l=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof l.componentDidCatch&&(null===mu||!mu.has(l))){e=Hn(t,e),null!==(l=Tt(n,t=Kr(2),2))&&(Zr(t,l,n,e),En(l,2),dt(l));break}}n=n.return}}function Ju(e,n,t){var l=e.pingCache;if(null===l){l=e.pingCache=new $i;var r=new Set;l.set(n,r)}else void 0===(r=l.get(n))&&(r=new Set,l.set(n,r));r.has(t)||(nu=!0,r.add(t),e=Ku.bind(null,e,n,t),n.then(e,e))}function Ku(e,t,l){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Yi===e&&(Gi&l)===l&&(4===lu||3===lu&&(62914560&Gi)===Gi&&300>n(i[3]).unstable_now()-du?!(2&qi)&&Lu(e,0):iu|=l,ou===Gi&&(ou=0)),dt(e)}function Zu(e,n){0===n&&(n=1&e.mode?wn():2),null!==(e=lt(e,n))&&(En(e,n),dt(e))}function eo(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Zu(e,t)}function no(e,n){var t=0;switch(e.tag){case 13:var l=e.stateNode,r=e.memoizedState;null!==r&&(t=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==l&&l.delete(n),Zu(e,t)}function to(e,n,t,l){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(e,n,t,l){return new to(e,n,t,l)}function ro(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ao(e,n){var t=e.alternate;return null===t?((t=lo(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=31457280&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function io(e,n){e.flags&=31457282;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function uo(e,n,t,l,r,a){var i=0;if(l=e,"function"==typeof e)ro(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case p:return oo(t.children,r,a,n);case h:i=8,1&(r|=8)&&(r|=16);break;case m:return(e=lo(12,t,n,2|r)).elementType=m,e.lanes=a,e;case S:return(e=lo(13,t,n,r)).elementType=S,e.lanes=a,e;case k:return(e=lo(19,t,n,r)).elementType=k,e.lanes=a,e;case E:return so(t,r,a,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case b:i=10;break e;case v:i=9;break e;case y:i=11;break e;case w:i=14;break e;case P:i=16,l=null;break e}i=29,t=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null===e?"null":typeof e)+"."),l=null}return(n=lo(i,t,n,r)).elementType=e,n.type=l,n.lanes=a,n}function oo(e,n,t,l){return(e=lo(7,e,l,n)).lanes=t,e}function so(e,n,t,l){(e=lo(22,e,l,n)).elementType=E,e.lanes=t;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=r._current;if(null===e)throw Error("Calling Offscreen.detach before instance handle has been set.");if(!(2&r._pendingVisibility)){var n=lt(e,2);null!==n&&(r._pendingVisibility|=2,zu(n,e,2))}},attach:function(){var e=r._current;if(null===e)throw Error("Calling Offscreen.detach before instance handle has been set.");if(2&r._pendingVisibility){var n=lt(e,2);null!==n&&(r._pendingVisibility&=-3,zu(n,e,2))}}};return e.stateNode=r,e}function co(e,n,t){return(e=lo(6,e,null,n)).lanes=t,e}function fo(e,n,t){return(n=lo(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function po(e,n,t,l,r,a,i,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.hiddenUpdates=Pn(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function ho(e,n,t){var l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:d,key:null==l?null:""+l,children:e,containerInfo:n,implementation:t}}function mo(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return null===(e=null!==(e=Nn(n))?Ln(e):null)?null:jo(e.stateNode)}function go(e,n,t,l){var r=Pu(t=n.current);return null===n.context?n.context=An:n.pendingContext=An,(n=_t(r)).payload={element:e},null!==(l=void 0===l?null:l)&&(n.callback=l),null!==(e=Tt(t,n,r))&&(zu(e,t,r),xt(e,t,r)),r}function vo(){throw Error("getInspectorDataForInstance() is not available in production")}function bo(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}function yo(){throw Error("The current renderer does not support Resources. This error is likely caused by a bug in React. Please file an issue.")}var So=nativeFabricUIManager,ko=So.createNode,wo=So.cloneNodeWithNewChildren,Po=So.cloneNodeWithNewChildrenAndProps,Eo=So.cloneNodeWithNewProps,zo=So.createChildSet,Ro=So.appendChild,Co=So.appendChildToSet,_o=So.completeRoot,To=So.registerEventHandler,xo=So.unstable_DiscreteEventPriority,No=So.unstable_getCurrentEventPriority,Lo={getInspectorDataForInstance:vo,getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}},Io=n(i[2]).ReactNativeViewConfigRegistry.get,Fo=2;To&&To(function(e,t,l){var r=null;if(null!=e){var a=e.stateNode;null!=a&&(r=jo(a))}rn(function(){var a={eventName:t,nativeEvent:l};n(i[2]).RawEventEmitter.emit(t,a),n(i[2]).RawEventEmitter.emit("*",a),a=r;for(var u=null,o=Ne,s=0;s<o.length;s++){var c=o[s];c&&(c=c.extractEvents(t,e,l,a))&&(u=pe(u,c))}if(null!==(a=u)&&(an=pe(an,a)),a=an,an=null,a){if(he(a,un),an)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(A)throw a=M,A=!1,M=null,a}})});var Uo={isInAParentText:!0};function Do(e,n,t,l){return t=Fo,Fo+=2,{node:ko(t,"RCTRawText",n,{text:e},l)}}function jo(e){return null!=e.canonical&&null!=e.canonical.publicInstance?e.canonical.publicInstance:null!=e._nativeTag?e:null}var Ao=0;function Mo(){if(0!==Ao)return Ao;var e=No?No():null;return null!=e&&e===xo?2:32}var Qo=setTimeout,Ho=clearTimeout;function Oo(e){var n=e.node,t=nn(null,{style:{display:"none"}},e.canonical.viewConfig.validAttributes);return{node:Eo(n,t),canonical:e.canonical}}var Bo={$$typeof:b,Provider:null,Consumer:null,_currentValue:null,_currentValue2:null,_threadCount:0},Vo="undefined"!=typeof RN$enableMicrotasksInReact&&!!RN$enableMicrotasksInReact,Wo="function"==typeof queueMicrotask?queueMicrotask:Qo;function $o(e){return null!=e.canonical&&null!=e.canonical.internalInstanceHandle?e.canonical.internalInstanceHandle:e}if(Q=function(e){return e.canonical.currentProps},H=$o,O=function(e){if(null==(e=jo(e.stateNode)))throw Error("Could not find host instance from fiber");return e},Re.injection.injectGlobalResponderHandler({onChange:function(e,n,t){e&&e.stateNode&&nativeFabricUIManager.setIsJSResponder(e.stateNode.node,!1,t||!1),n&&n.stateNode&&nativeFabricUIManager.setIsJSResponder(n.stateNode.node,!0,t||!1)}}),"function"!=typeof n(i[2]).ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function qo(e,t){!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:null,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&qr(e)}function Yo(e,t){!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:t.errorBoundary,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&console.error(e)}tn=function(e,t){var l=qi;qi|=1;try{return e(t)}finally{0===(qi=l)&&(pu=n(i[3]).unstable_now()+500,pt(0,!0))}};var Xo=new Map,Go={bundleType:0,version:"19.0.0",rendererPackageName:"react-native-renderer",currentDispatcherRef:s,findFiberByHostInstance:$o,reconcilerVersion:"19.0.0"};if(null!==Lo&&(Go.rendererConfig=Lo),"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{on=Jo.inject(Go),sn=Jo}catch(e){}}a.createPortal=function(e,n){return ho(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,t,l){var r=null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e);null!=r&&(null!=(e=n(i[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.dispatchCommand(e,t,l):n(i[2]).UIManager.dispatchViewManagerCommand(r,t,l))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e.canonical&&e.canonical.publicInstance?e.canonical.publicInstance:e._nativeTag?e:mo(e)},a.findNodeHandle=function(e){if(null==e)return null;if("number"==typeof e)return e;if(e._nativeTag)return e._nativeTag;if(null!=e.canonical&&null!=e.canonical.nativeTag)return e.canonical.nativeTag;var t=n(i[2]).getNativeTagFromPublicInstance(e);return t||(null==(e=mo(e))?e:null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e))},a.getInspectorDataForInstance=vo,a.getNodeFromInternalInstanceHandle=function(e){return e&&e.stateNode&&e.stateNode.node},a.getPublicInstanceFromInternalInstanceHandle=function(e){var t=e.stateNode;return null==t?null:6===e.tag?(null==t.publicInstance&&(t.publicInstance=n(i[2]).createPublicTextInstance(e)),t.publicInstance):jo(e.stateNode)},a.isChildPublicInstance=function(){throw Error("isChildPublicInstance() is not available in production.")},a.render=function(e,n,t,l,r){var a=Xo.get(n);if(!a){a=qo;var i=Yo,u=Yr;r&&void 0!==r.onUncaughtError&&(a=r.onUncaughtError),r&&void 0!==r.onCaughtError&&(i=r.onCaughtError),r&&void 0!==r.onRecoverableError&&(u=r.onRecoverableError),r=new po(n,l=l?1:0,!1,"",a,i,u,null),l=lo(3,null,null,1===l?1:0),r.current=l,l.stateNode=r,(a=Ba()).refCount++,r.pooledCache=a,a.refCount++,l.memoizedState={element:null,isDehydrated:!1,cache:a},Rt(l),a=r,Xo.set(n,a)}go(e,a,null,t);e:if(e=a.current,e.child)switch(e.child.tag){case 27:case 5:e=jo(e.child.stateNode);break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,t){var l=null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e);null!=l&&(null!=(e=n(i[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.sendAccessibilityEvent(e,t):n(i[2]).legacySendAccessibilityEvent(l,t))},a.stopSurface=function(e){var n=Xo.get(e);n&&go(null,n,null,function(){Xo.delete(e)})},a.unmountComponentAtNode=function(e){this.stopSurface(e)}},60,[61,174,230,252]);
__d(function(g,r,i,a,m,e,d){r(d[0])},61,[62]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Date.now();r(d[0]),r(d[1]).default(),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]),r(d[11]),r(d[12]),r(d[13]).markPoint('initializeCore_start',r(d[13]).currentTimestamp()-(Date.now()-t)),r(d[13]).markPoint('initializeCore_end')},62,[63,64,70,83,94,99,102,113,148,153,154,158,161,121]);
__d(function(g,r,i,a,m,e,d){'use strict';void 0===g.window&&(g.window=g),void 0===g.self&&(g.self=g),g.process=g.process||{},g.process.env=g.process.env||{},g.process.env.NODE_ENV||(g.process.env.NODE_ENV='production')},63,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(l)return;l=!0,(0,r(d[0]).polyfillGlobal)('DOMRect',function(){return r(d[1]).default}),(0,r(d[0]).polyfillGlobal)('DOMRectReadOnly',function(){return r(d[2]).default}),(0,r(d[0]).polyfillGlobal)('NodeList',function(){return r(d[3]).default})};var l=!1},64,[65,66,67,68]);
__d(function(g,r,i,a,m,e,d){'use strict';function l(l,o,t){var n=Object.getOwnPropertyDescriptor(l,o),c=n||{},b=c.enumerable,f=c.writable,u=c.configurable;!n||void 0!==u&&u?r(d[0])(l,o,{get:t,enumerable:!1!==b,writable:!1!==f}):console.error('Failed to set polyfill. '+o+' is not configurable.')}m.exports={polyfillObjectProperty:l,polyfillGlobal:function(o,t){l(g,o,t)}}},65,[42]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6]));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}_e.default=(function(t){function c(){return(0,e.default)(this,c),t=this,n=c,o=arguments,n=(0,f.default)(n),(0,u.default)(t,l()?Reflect.construct(n,o||[],(0,f.default)(t).constructor):n.apply(t,o));var t,n,o}return(0,o.default)(c,t),(0,n.default)(c,[{key:"x",get:function(){return this.__getInternalX()},set:function(t){this.__setInternalX(t)}},{key:"y",get:function(){return this.__getInternalY()},set:function(t){this.__setInternalY(t)}},{key:"width",get:function(){return this.__getInternalWidth()},set:function(t){this.__setInternalWidth(t)}},{key:"height",get:function(){return this.__getInternalHeight()},set:function(t){this.__setInternalHeight(t)}}],[{key:"fromRect",value:function(t){return t?new c(t.x,t.y,t.width,t.height):new c}}])})(c.default)},66,[1,12,13,23,25,28,67]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),h=t(r(d[4]));function f(t){return t?Number(t):0}var s=(0,h.default)("x"),o=(0,h.default)("y"),c=(0,h.default)("width"),y=(0,h.default)("height");e.default=(function(){function t(u,l,h,f){(0,n.default)(this,t),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),this.__setInternalX(u),this.__setInternalY(l),this.__setInternalWidth(h),this.__setInternalHeight(f)}return(0,u.default)(t,[{key:"x",get:function(){return(0,l.default)(this,s)[s]}},{key:"y",get:function(){return(0,l.default)(this,o)[o]}},{key:"width",get:function(){return(0,l.default)(this,c)[c]}},{key:"height",get:function(){return(0,l.default)(this,y)[y]}},{key:"top",get:function(){var t=(0,l.default)(this,y)[y],n=(0,l.default)(this,o)[o];return t<0?n+t:n}},{key:"right",get:function(){var t=(0,l.default)(this,c)[c],n=(0,l.default)(this,s)[s];return t<0?n:n+t}},{key:"bottom",get:function(){var t=(0,l.default)(this,y)[y],n=(0,l.default)(this,o)[o];return t<0?n:n+t}},{key:"left",get:function(){var t=(0,l.default)(this,c)[c],n=(0,l.default)(this,s)[s];return t<0?n+t:n}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,left:this.left,bottom:this.bottom,right:this.right}}},{key:"__getInternalX",value:function(){return(0,l.default)(this,s)[s]}},{key:"__getInternalY",value:function(){return(0,l.default)(this,o)[o]}},{key:"__getInternalWidth",value:function(){return(0,l.default)(this,c)[c]}},{key:"__getInternalHeight",value:function(){return(0,l.default)(this,y)[y]}},{key:"__setInternalX",value:function(t){(0,l.default)(this,s)[s]=f(t)}},{key:"__setInternalY",value:function(t){(0,l.default)(this,o)[o]=f(t)}},{key:"__setInternalWidth",value:function(t){(0,l.default)(this,c)[c]=f(t)}},{key:"__setInternalHeight",value:function(t){(0,l.default)(this,y)[y]=f(t)}}],[{key:"fromRect",value:function(n){return n?new t(n.x,n.y,n.width,n.height):new t}}])})()},67,[1,12,13,31,32]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createNodeList=function(t){return new f(t)},e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),i=t(r(d[3])),l=(0,t(r(d[4])).default)("length"),f=e.default=(function(){return(0,n.default)(function t(n){(0,u.default)(this,t),Object.defineProperty(this,l,{writable:!0,value:void 0});for(var f=0;f<n.length;f++)Object.defineProperty(this,f,{value:n[f],writable:!1});(0,i.default)(this,l)[l]=n.length},[{key:"length",get:function(){return(0,i.default)(this,l)[l]}},{key:"item",value:function(t){if(t<0||t>=(0,i.default)(this,l)[l])return null;return this[t]}},{key:"entries",value:function(){return(0,r(d[5]).createEntriesIterator)(this)}},{key:"forEach",value:function(t,u){for(var n=0;n<(0,i.default)(this,l)[l];n++)null==u?t(this[n],n,this):t.call(u,this[n],n,this)}},{key:"keys",value:function(){return(0,r(d[5]).createKeyIterator)(this)}},{key:"values",value:function(){return(0,r(d[5]).createValueIterator)(this)}},{key:Symbol.iterator,value:function(){return(0,r(d[5]).createValueIterator)(this)}}])})()},68,[1,12,13,31,32,69]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createEntriesIterator=function*(t){for(var n=0;n<t.length;n++)yield[n,t[n]]},e.createKeyIterator=function*(t){for(var n=0;n<t.length;n++)yield n},e.createValueIterator=function*(t){for(var n=0;n<t.length;n++)yield t[n]}},69,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),o=n(r(d[1]));n(r(d[2])).default?g.performance=new o.default:g.performance||(g.performance={mark:function(){},measure:function(){},now:function(){return(g.nativePerformanceNow||Date.now)()}})},70,[1,71,75]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t(r(d[1]));var n,u,l=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),s=t(r(d[5])),c=t(r(d[6])),v=t(r(d[7])),y=null!=(n=null!=(u=null==v.default?void 0:v.default.now)?u:g.nativePerformanceNow)?n:function(){return Date.now()},p=['mark','measure'];e.default=(function(){return(0,f.default)(function t(){(0,o.default)(this,t),this.eventCounts=new(r(d[8]).EventCounts)},[{key:"memory",get:function(){if(null!=v.default&&v.default.getSimpleMemoryInfo){var t=v.default.getSimpleMemoryInfo();if(t.hasOwnProperty('hermes_heapSize')){var n=t.hermes_heapSize,u=t.hermes_allocatedBytes;return new s.default({jsHeapSizeLimit:null,totalJSHeapSize:n,usedJSHeapSize:u})}return new s.default}return new s.default}},{key:"rnStartupTiming",get:function(){if(null!=v.default&&v.default.getReactNativeStartupTiming){var t=v.default.getReactNativeStartupTiming(),n=t.startTime,u=t.endTime,l=t.initializeRuntimeStart,o=t.initializeRuntimeEnd,f=t.executeJavaScriptBundleEntryPointStart,s=t.executeJavaScriptBundleEntryPointEnd;return new c.default({startTime:n,endTime:u,initializeRuntimeStart:l,initializeRuntimeEnd:o,executeJavaScriptBundleEntryPointStart:f,executeJavaScriptBundleEntryPointEnd:s})}return new c.default}},{key:"mark",value:function(t,n){var u;return null!=v.default&&v.default.markWithResult?u=v.default.markWithResult(t,null==n?void 0:n.startTime):((0,r(d[9]).warnNoNativePerformance)(),u=performance.now()),new(r(d[10]).PerformanceMark)(t,{startTime:u,detail:null==n?void 0:n.detail})}},{key:"clearMarks",value:function(t){null!=v.default&&v.default.clearMarks?v.default.clearMarks(t):(0,r(d[9]).warnNoNativePerformance)()}},{key:"measure",value:function(t,n,u){var o,f,s,c,y=u,p=0,w=0;if('string'==typeof n)s=n,f={};else if(void 0!==n){var E;if(f=n,void 0!==u)throw new TypeError("Performance.measure: Can't have both options and endMark");if(void 0===f.start&&void 0===f.end)throw new TypeError('Performance.measure: Must have at least one of start/end specified in options');if(void 0!==f.start&&void 0!==f.end&&void 0!==f.duration)throw new TypeError("Performance.measure: Can't have both start/end and duration explicitly in options");'number'==typeof f.start?p=f.start:s=f.start,'number'==typeof f.end?w=f.end:y=f.end,c=null!=(E=f.duration)?E:c}var P=p,T=c;if(null!=v.default&&v.default.measureWithResult){var h=v.default.measureWithResult(t,p,w,c,s,y),N=(0,l.default)(h,2);P=N[0],T=N[1]}else(0,r(d[9]).warnNoNativePerformance)();var S=new(r(d[10]).PerformanceMeasure)(t,{startTime:P,duration:null!=T?T:0,detail:null==(o=f)?void 0:o.detail});return S}},{key:"clearMeasures",value:function(t){null!=v.default&&v.default.clearMeasures?null==v.default||v.default.clearMeasures(t):(0,r(d[9]).warnNoNativePerformance)()}},{key:"now",value:function(){return y()}},{key:"getEntries",value:function(){return null!=v.default&&v.default.getEntries?v.default.getEntries().map(r(d[11]).rawToPerformanceEntry):((0,r(d[9]).warnNoNativePerformance)(),[])}},{key:"getEntriesByType",value:function(t){return null==t||p.includes(t)?null!=v.default&&v.default.getEntriesByType?v.default.getEntriesByType((0,r(d[11]).performanceEntryTypeToRaw)(t)).map(r(d[11]).rawToPerformanceEntry):((0,r(d[9]).warnNoNativePerformance)(),[]):(console.warn('Deprecated API for given entry type.'),[])}},{key:"getEntriesByName",value:function(t,n){return null==n||p.includes(n)?null!=v.default&&v.default.getEntriesByName?v.default.getEntriesByName(t,null!=n?(0,r(d[11]).performanceEntryTypeToRaw)(n):void 0).map(r(d[11]).rawToPerformanceEntry):((0,r(d[9]).warnNoNativePerformance)(),[]):(console.warn('Deprecated API for given entry type.'),[])}}])})()},71,[1,72,38,12,13,73,74,75,76,78,80,81]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(o){throw new TypeError('"'+o+'" is read-only')},m.exports.__esModule=!0,m.exports.default=m.exports},72,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),l=t(r(d[2])),f=t(r(d[3])),n=t(r(d[4])),o=(0,n.default)("jsHeapSizeLimit"),s=(0,n.default)("totalJSHeapSize"),S=(0,n.default)("usedJSHeapSize");e.default=(function(){return(0,l.default)(function t(l){(0,u.default)(this,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),null!=l&&((0,f.default)(this,o)[o]=l.jsHeapSizeLimit,(0,f.default)(this,s)[s]=l.totalJSHeapSize,(0,f.default)(this,S)[S]=l.usedJSHeapSize)},[{key:"jsHeapSizeLimit",get:function(){return(0,f.default)(this,o)[o]}},{key:"totalJSHeapSize",get:function(){return(0,f.default)(this,s)[s]}},{key:"usedJSHeapSize",get:function(){return(0,f.default)(this,S)[S]}}])})()},73,[1,12,13,31,32]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),f=t(r(d[4])),o=(0,f.default)("startTime"),c=(0,f.default)("endTime"),s=(0,f.default)("initializeRuntimeStart"),v=(0,f.default)("initializeRuntimeEnd"),h=(0,f.default)("executeJavaScriptBundleEntryPointStart"),y=(0,f.default)("executeJavaScriptBundleEntryPointEnd");e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),null!=u&&((0,l.default)(this,o)[o]=u.startTime,(0,l.default)(this,c)[c]=u.endTime,(0,l.default)(this,s)[s]=u.initializeRuntimeStart,(0,l.default)(this,v)[v]=u.initializeRuntimeEnd,(0,l.default)(this,h)[h]=u.executeJavaScriptBundleEntryPointStart,(0,l.default)(this,y)[y]=u.executeJavaScriptBundleEntryPointEnd)},[{key:"startTime",get:function(){return(0,l.default)(this,o)[o]}},{key:"endTime",get:function(){return(0,l.default)(this,c)[c]}},{key:"initializeRuntimeStart",get:function(){return(0,l.default)(this,s)[s]}},{key:"initializeRuntimeEnd",get:function(){return(0,l.default)(this,v)[v]}},{key:"executeJavaScriptBundleEntryPointStart",get:function(){return(0,l.default)(this,h)[h]}},{key:"executeJavaScriptBundleEntryPointEnd",get:function(){return(0,l.default)(this,y)[y]}}])})()},74,[1,12,13,31,32]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('NativePerformanceCxx')},75,[36]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PerformanceEventTiming=_e.EventCounts=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),u=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),f=e(_r(d[7])),c=e(_r(d[8])),s=e(_r(d[9]));function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var y,p=(0,c.default)("processingStart"),h=(0,c.default)("processingEnd"),k=(0,c.default)("interactionId");_e.PerformanceEventTiming=(function(e){function c(e){var n,o,l,s,y,E,b,O,P;return(0,t.default)(this,c),b=this,O=c,P=[{name:e.name,entryType:'event',startTime:null!=(n=e.startTime)?n:0,duration:null!=(o=e.duration)?o:0}],O=(0,r.default)(O),E=(0,u.default)(b,v()?Reflect.construct(O,P||[],(0,r.default)(b).constructor):O.apply(b,P)),Object.defineProperty(E,p,{writable:!0,value:void 0}),Object.defineProperty(E,h,{writable:!0,value:void 0}),Object.defineProperty(E,k,{writable:!0,value:void 0}),(0,f.default)(E,p)[p]=null!=(l=e.processingStart)?l:0,(0,f.default)(E,h)[h]=null!=(s=e.processingEnd)?s:0,(0,f.default)(E,k)[k]=null!=(y=e.interactionId)?y:0,E}return(0,l.default)(c,e),(0,n.default)(c,[{key:"processingStart",get:function(){return(0,f.default)(this,p)[p]}},{key:"processingEnd",get:function(){return(0,f.default)(this,h)[h]}},{key:"interactionId",get:function(){return(0,f.default)(this,k)[k]}},{key:"toJSON",value:function(){return Object.assign({},(e=c,t="toJSON",n=this,u=3,l=(0,o.default)((0,r.default)(1&u?e.prototype:e),t,n),2&u&&"function"==typeof l?function(e){return l.apply(n,e)}:l)([]),{processingStart:(0,f.default)(this,p)[p],processingEnd:(0,f.default)(this,h)[h],interactionId:(0,f.default)(this,k)[k]});var e,t,n,u,l}}])})(_r(d[10]).PerformanceEntry);function E(){var e;if(y)return y;if(!s.default||null==s.default||!s.default.getEventCounts)return(0,_r(d[11]).warnNoNativePerformance)(),y=new Map;var t=new Map(null!=(e=null==s.default.getEventCounts?void 0:s.default.getEventCounts())?e:[]);return y=t,g.queueMicrotask(function(){y=null}),t}_e.EventCounts=(function(){return(0,n.default)(function e(){(0,t.default)(this,e)},[{key:"size",get:function(){return E().size}},{key:"entries",value:function(){return E().entries()}},{key:"forEach",value:function(e){return E().forEach(e)}},{key:"get",value:function(e){return E().get(e)}},{key:"has",value:function(e){return E().has(e)}},{key:"keys",value:function(){return E().keys()}},{key:"values",value:function(){return E().values()}}])})()},76,[1,12,13,23,25,26,28,31,32,75,77,78]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceEntry=void 0;var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),l=t(r(d[4])),o=(0,l.default)("name"),s=(0,l.default)("entryType"),y=(0,l.default)("startTime"),h=(0,l.default)("duration");e.PerformanceEntry=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),(0,f.default)(this,o)[o]=u.name,(0,f.default)(this,s)[s]=u.entryType,(0,f.default)(this,y)[y]=u.startTime,(0,f.default)(this,h)[h]=u.duration},[{key:"name",get:function(){return(0,f.default)(this,o)[o]}},{key:"entryType",get:function(){return(0,f.default)(this,s)[s]}},{key:"startTime",get:function(){return(0,f.default)(this,y)[y]}},{key:"duration",get:function(){return(0,f.default)(this,h)[h]}},{key:"toJSON",value:function(){return{name:(0,f.default)(this,o)[o],entryType:(0,f.default)(this,s)[s],startTime:(0,f.default)(this,y)[y],duration:(0,f.default)(this,h)[h]}}}])})()},77,[1,12,13,31,32]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.warnNoNativePerformance=function(){(0,o.default)('missing-native-performance','Missing native implementation of Performance')};var o=n(r(d[1]))},78,[1,79]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={};m.exports=function(o,t){n[o]||(console.warn(t),n[o]=!0)}},79,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PerformanceMeasure=_e.PerformanceMark=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),o=e(r(d[4])),f=e(r(d[5])),l=e(r(d[6])),c=e(r(d[7]));function s(e,t,n){return t=(0,o.default)(t),(0,u.default)(e,v()?Reflect.construct(t,n||[],(0,o.default)(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var y=(0,c.default)("detail"),p=(_e.PerformanceMark=(function(e){function u(e,n){var o,f;return(0,t.default)(this,u),f=s(this,u,[{name:e,entryType:'mark',startTime:null!=(o=null==n?void 0:n.startTime)?o:performance.now(),duration:0}]),Object.defineProperty(f,y,{writable:!0,value:void 0}),n&&((0,l.default)(f,y)[y]=n.detail),f}return(0,f.default)(u,e),(0,n.default)(u,[{key:"detail",get:function(){return(0,l.default)(this,y)[y]}}])})(r(d[8]).PerformanceEntry),(0,c.default)("detail"));_e.PerformanceMeasure=(function(e){function u(e,n){var o;return(0,t.default)(this,u),o=s(this,u,[{name:e,entryType:'measure',startTime:n.startTime,duration:n.duration}]),Object.defineProperty(o,p,{writable:!0,value:void 0}),n&&((0,l.default)(o,p)[p]=n.detail),o}return(0,f.default)(u,e),(0,n.default)(u,[{key:"detail",get:function(){return(0,l.default)(this,p)[p]}}])})(r(d[8]).PerformanceEntry)},80,[1,12,13,23,25,28,31,32,77]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.RawPerformanceEntryTypeValues=void 0,e.performanceEntryTypeToRaw=function(t){switch(t){case'mark':return n.MARK;case'measure':return n.MEASURE;case'event':return n.EVENT;case'longtask':return n.LONGTASK;default:throw new TypeError(`performanceEntryTypeToRaw: unexpected performance entry type received: ${t}`)}},e.rawToPerformanceEntry=function(o){return o.entryType===n.EVENT?new(r(d[0]).PerformanceEventTiming)({name:o.name,startTime:o.startTime,duration:o.duration,processingStart:o.processingStart,processingEnd:o.processingEnd,interactionId:o.interactionId}):o.entryType===n.LONGTASK?new(r(d[1]).PerformanceLongTaskTiming)({name:o.name,entryType:t(o.entryType),startTime:o.startTime,duration:o.duration}):o.entryType===n.MARK?new(r(d[2]).PerformanceMark)(o.name,{startTime:o.startTime}):o.entryType===n.MEASURE?new(r(d[2]).PerformanceMeasure)(o.name,{startTime:o.startTime,duration:o.duration}):new(r(d[3]).PerformanceEntry)({name:o.name,entryType:t(o.entryType),startTime:o.startTime,duration:o.duration})},e.rawToPerformanceEntryType=t;var n=e.RawPerformanceEntryTypeValues={MARK:1,MEASURE:2,EVENT:3,LONGTASK:4};function t(t){switch(t){case n.MARK:return'mark';case n.MEASURE:return'measure';case n.EVENT:return'event';case n.LONGTASK:return'longtask';default:throw new TypeError(`rawToPerformanceEntryType: unexpected performance entry type received: ${t}`)}}},81,[76,82,80,77]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.TaskAttributionTiming=_e.PerformanceLongTaskTiming=void 0;var n=t(_r(d[1])),e=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),f=t(_r(d[6]));function c(t,n,e){return n=(0,o.default)(n),(0,u.default)(t,l()?Reflect.construct(n,e||[],(0,o.default)(t).constructor):n.apply(t,e))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}_e.TaskAttributionTiming=(function(t){function n(){return(0,r.default)(this,n),c(this,n,arguments)}return(0,f.default)(n,t),(0,e.default)(n)})(_r(d[7]).PerformanceEntry);var s=Object.preventExtensions([]);_e.PerformanceLongTaskTiming=(function(t){function u(){return(0,r.default)(this,u),c(this,u,arguments)}return(0,f.default)(u,t),(0,e.default)(u,[{key:"attribution",get:function(){return s}},{key:"toJSON",value:function(){return Object.assign({},(t=u,e="toJSON",r=this,f=3,c=(0,n.default)((0,o.default)(1&f?t.prototype:t),e,r),2&f&&"function"==typeof c?function(t){return c.apply(r,t)}:c)([]),{attribution:this.attribution});var t,e,r,f,c}}])})(_r(d[7]).PerformanceEntry)},82,[1,26,13,12,23,25,28,77]);
__d(function(g,r,i,a,m,_e,d){'use strict';if(!0!==g.RN$useAlwaysAvailableJSErrorHandling){var e=r(d[0]);if(e.installConsoleErrorReporter(),!g.__fbDisableExceptionsManager){r(d[1]).setGlobalHandler(function(o,l){try{e.handleException(o,l)}catch(e){throw console.log('Failed to print error: ',e.message),o}})}}},83,[84,18]);
__d(function(g,r,i,a,m,_e,d){'use strict';var n=r(d[0]),e=r(d[1]),t=r(d[2]),o=r(d[3]),c=r(d[4]);function s(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(s=function(){return!!n})()}var l,u=(function(l){function u(){var n,c,l,f;e(this,u);for(var p=arguments.length,E=new Array(p),v=0;v<p;v++)E[v]=arguments[v];return c=this,l=u,f=[].concat(E),l=o(l),(n=t(c,s()?Reflect.construct(l,f||[],o(c).constructor):l.apply(c,f))).name='',n}return c(u,l),n(u)})(r(d[5])(Error)),f=!1,p='RN$ErrorExtraDataKey';function E(n){if(l&&!f){f=!0;try{return l(n)}catch(n){}finally{f=!1}}return n}var v=0;function y(n,e,t){var o=r(d[6])(null==n?void 0:n.stack),c=++v,s=n.message||'',l=s;null!=n.componentStack&&(l+=`\n\nThis error is located at:${n.componentStack}`);var u=null==n.name||''===n.name?'':`${n.name}: `;l.startsWith(u)||(l=u+l),l=null==n.jsEngine?l:`${l}, js engine: ${n.jsEngine}`;var f=Object.assign({},n[p],{jsEngine:n.jsEngine,rawStack:n.stack});null!=n.cause&&'object'==typeof n.cause&&(f.stackSymbols=n.cause.stackSymbols,f.stackReturnAddresses=n.cause.stackReturnAddresses,f.stackElements=n.cause.stackElements);var y=E({message:l,originalMessage:l===s?null:s,name:null==n.name||''===n.name?null:n.name,componentStack:'string'==typeof n.componentStack?n.componentStack:null,stack:o,id:c,isFatal:e,extraData:f});if(t&&console.error(y.message),e||'warn'!==n.type){var x=r(d[7]).default;if(x){if(e){if(null!=g.RN$hasHandledFatalException&&g.RN$hasHandledFatalException())return;null==g.RN$notifyOfFatalException||g.RN$notifyOfFatalException()}x.reportException(y)}}}var x=!1;function h(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if((n=console)._errorOriginal.apply(n,t),console.reportErrorsAsExceptions&&!(x||null!=g.RN$inExceptionHandler&&g.RN$inExceptionHandler())){var c,s=t[0];if(null!=s&&s.stack)c=s;else{var l=r(d[8]).default;if('string'==typeof s&&s.startsWith('Warning: '))return;var f=t.map(function(n){return'string'==typeof n?n:l(n)}).join(' ');(c=new u(f)).name='console.error'}var p=!1,E=!1;g.RN$handleException&&g.RN$handleException(c,p,E)||y(c,p,E)}}m.exports={decoratedExtraDataKey:p,handleException:function(n,e){var t=!0;if(!g.RN$handleException||!g.RN$handleException(n,e,t)){var o;o=n instanceof Error?n:new u(n);try{x=!0,y(o,e,t)}finally{x=!1}}},installConsoleErrorReporter:function(){console._errorOriginal||(console._errorOriginal=console.error.bind(console),console.error=h,void 0===console.reportErrorsAsExceptions&&(console.reportErrorsAsExceptions=!0))},SyntheticError:u,unstable_setExceptionDecorator:function(n){l=n}}},84,[13,12,23,25,28,85,89,92,19]);
__d(function(g,_r,i,a,m,e,d){function t(r){var o="function"==typeof Map?new Map:void 0;return m.exports=t=function(t){if(null===t||!_r(d[0])(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,r)}function r(){return _r(d[1])(t,arguments,_r(d[2])(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_r(d[3])(r,t)},m.exports.__esModule=!0,m.exports.default=m.exports,t(r)}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},85,[86,87,25,29]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(n){return"function"==typeof t}},m.exports.__esModule=!0,m.exports.default=m.exports},86,[]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(t,e,p){if(_r(d[0])())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var n=new(t.bind.apply(t,r));return p&&_r(d[1])(n,p.prototype),n},m.exports.__esModule=!0,m.exports.default=m.exports},87,[88,29]);
__d(function(g,r,i,a,m,e,d){function t(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(o){}return(m.exports=t=function(){return!!o},m.exports.__esModule=!0,m.exports.default=m.exports)()}m.exports=t,m.exports.__esModule=!0,m.exports.default=m.exports},88,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){var t=[];for(var u of n.entries)if('FRAME'===u.type){var l=u.location,o=u.functionName;'NATIVE'!==l.type&&'INTERNAL_BYTECODE'!==l.type&&t.push({methodName:o,file:l.sourceUrl,lineNumber:l.line1Based,column:'SOURCE'===l.type?l.column1Based-1:l.virtualOffset0Based})}return t}m.exports=function(t){if(null==t)return[];var u=r(d[0]);return Array.isArray(t)?t:g.HermesInternal?n(r(d[1])(t)):u.parse(t).map(function(n){return Object.assign({},n,{column:null!=n.column?n.column-1:null})})}},89,[90,91]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var n='<unknown>';var l=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/;function t(t){var c=l.exec(t);if(!c)return null;var o=c[2]&&0===c[2].indexOf('native'),s=c[2]&&0===c[2].indexOf('eval'),v=u.exec(c[2]);return s&&null!=v&&(c[2]=v[1],c[3]=v[2],c[4]=v[3]),{file:o?null:c[2],methodName:c[1]||n,arguments:o?[c[2]]:[],lineNumber:c[3]?+c[3]:null,column:c[4]?+c[4]:null}}var c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function o(l){var u=c.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}var s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,v=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function f(l){var u=s.exec(l);if(!u)return null;var t=u[3]&&u[3].indexOf(' > eval')>-1,c=v.exec(u[3]);return t&&null!=c&&(u[3]=c[1],u[4]=c[2],u[5]=null),{file:u[3],methodName:u[1]||n,arguments:u[2]?u[2].split(','):[],lineNumber:u[4]?+u[4]:null,column:u[5]?+u[5]:null}}var b=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function p(l){var u=b.exec(l);return u?{file:u[3],methodName:u[1]||n,arguments:[],lineNumber:+u[4],column:u[5]?+u[5]:null}:null}var x=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function h(l){var u=x.exec(l);return u?{file:u[2],methodName:u[1]||n,arguments:[],lineNumber:+u[3],column:u[4]?+u[4]:null}:null}e.parse=function(n){return n.split('\n').reduce(function(n,l){var u=t(l)||o(l)||f(l)||h(l)||p(l);return u&&n.push(u),n},[])}},90,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,s=/^ {4}... skipping (\d+) frames$/,n=/^ {4}at .*$/;function u(n){var u,i=n.match(t);if(i)return{type:'FRAME',functionName:i[1],location:'native'===i[2]?{type:'NATIVE'}:'address at '===i[3]?(u=i[4],'InternalBytecode.js'===u?{type:'INTERNAL_BYTECODE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),virtualOffset0Based:Number.parseInt(i[6],10)}:{type:'BYTECODE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),virtualOffset0Based:Number.parseInt(i[6],10)}):{type:'SOURCE',sourceUrl:i[4],line1Based:Number.parseInt(i[5],10),column1Based:Number.parseInt(i[6],10)}};var p=n.match(s);return p?{type:'SKIPPED',count:Number.parseInt(p[1],10)}:void 0}m.exports=function(t){for(var s=t.split(/\n/),i=[],p=-1,o=0;o<s.length;++o){var c=s[o];if(c){var l=u(c);l?i.push(l):n.test(c)||(p=o,i=[])}}return{message:s.slice(0,p+1).join('\n'),entries:i}}},91,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},92,[93]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,p={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return p;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,p)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?n(p,c,i):p[c]=e[c]);return p})(e,t)})(_r(d[0])).getEnforcing('ExceptionsManager'),t={reportFatalException:function(t,o,r){e.reportFatalException(t,o,r)},reportSoftException:function(t,o,r){e.reportSoftException(t,o,r)},dismissRedbox:function(){e.dismissRedbox&&e.dismissRedbox()},reportException:function(o){e.reportException?e.reportException(o):o.isFatal?t.reportFatalException(o.message,o.stack,o.id):t.reportSoftException(o.message,o.stack,o.id)}};_e.default=t},93,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var l;if(null!=(l=g)&&null!=(l=l.HermesInternal)&&null!=l.hasPromise&&l.hasPromise())g.Promise;else r(d[0]).polyfillGlobal('Promise',function(){return r(d[1])})},94,[65,95]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports=r(d[1])},95,[96,98]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0]),r(d[0]).prototype.finally=function(n){return this.then(function(t){return r(d[0]).resolve(n()).then(function(){return t})},function(t){return r(d[0]).resolve(n()).then(function(){throw t})})}},96,[97]);
__d(function(g,r,_i,_a,m,e,d){'use strict';function n(){}var t=null,o={};function i(n){try{return n.then}catch(n){return t=n,o}}function u(n,i){try{return n(i)}catch(n){return t=n,o}}function f(n,i,u){try{n(i,u)}catch(n){return t=n,o}}function c(t){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof t)throw new TypeError('Promise constructor\'s argument is not a function');this._x=0,this._y=0,this._z=null,this._A=null,t!==n&&v(t,this)}function _(t,o,i){return new t.constructor(function(u,f){var _=new c(n);_.then(u,f),s(t,new a(o,i,_))})}function s(n,t){for(;3===n._y;)n=n._z;if(c._B&&c._B(n),0===n._y)return 0===n._x?(n._x=1,void(n._A=t)):1===n._x?(n._x=2,void(n._A=[n._A,t])):void n._A.push(t);l(n,t)}function l(n,i){setImmediate(function(){var f=1===n._y?i.onFulfilled:i.onRejected;if(null!==f){var c=u(f,n._z);c===o?y(i.promise,t):h(i.promise,c)}else 1===n._y?h(i.promise,n._z):y(i.promise,n._z)})}function h(n,u){if(u===n)return y(n,new TypeError('A promise cannot be resolved with itself.'));if(u&&('object'==typeof u||'function'==typeof u)){var f=i(u);if(f===o)return y(n,t);if(f===n.then&&u instanceof c)return n._y=3,n._z=u,void p(n);if('function'==typeof f)return void v(f.bind(u),n)}n._y=1,n._z=u,p(n)}function y(n,t){n._y=2,n._z=t,c._C&&c._C(n,t),p(n)}function p(n){if(1===n._x&&(s(n,n._A),n._A=null),2===n._x){for(var t=0;t<n._A.length;t++)s(n,n._A[t]);n._A=null}}function a(n,t,o){this.onFulfilled='function'==typeof n?n:null,this.onRejected='function'==typeof t?t:null,this.promise=o}function v(n,i){var u=!1,c=f(n,function(n){u||(u=!0,h(i,n))},function(n){u||(u=!0,y(i,n))});u||c!==o||(u=!0,y(i,t))}m.exports=c,c._B=null,c._C=null,c._D=n,c.prototype.then=function(t,o){if(this.constructor!==c)return _(this,t,o);var i=new c(n);return s(this,new a(t,o,i)),i}},97,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=r(d[0]);var n=c(!0),t=c(!1),o=c(null),f=c(void 0),u=c(0),i=c('');function c(n){var t=new(r(d[0]))(r(d[0])._D);return t._y=1,t._z=n,t}r(d[0]).resolve=function(l){if(l instanceof r(d[0]))return l;if(null===l)return o;if(void 0===l)return f;if(!0===l)return n;if(!1===l)return t;if(0===l)return u;if(''===l)return i;if('object'==typeof l||'function'==typeof l)try{var y=l.then;if('function'==typeof y)return new(r(d[0]))(y.bind(l))}catch(n){return new(r(d[0]))(function(t,o){o(n)})}return c(l)};var l=function(n){return'function'==typeof Array.from?(l=Array.from,Array.from(n)):(l=function(n){return Array.prototype.slice.call(n)},Array.prototype.slice.call(n))};function y(n){return{status:'fulfilled',value:n}}function h(n){return{status:'rejected',reason:n}}function p(n){if(n&&('object'==typeof n||'function'==typeof n)){if(n instanceof r(d[0])&&n.then===r(d[0]).prototype.then)return n.then(y,h);var t=n.then;if('function'==typeof t)return new(r(d[0]))(t.bind(n)).then(y,h)}return y(n)}function s(n){if('function'==typeof AggregateError)return new AggregateError(n,'All promises were rejected');var t=new Error('All promises were rejected');return t.name='AggregateError',t.errors=n,t}r(d[0]).all=function(n){var t=l(n);return new(r(d[0]))(function(n,o){if(0===t.length)return n([]);var f=t.length;function u(i,c){if(c&&('object'==typeof c||'function'==typeof c)){if(c instanceof r(d[0])&&c.then===r(d[0]).prototype.then){for(;3===c._y;)c=c._z;return 1===c._y?u(i,c._z):(2===c._y&&o(c._z),void c.then(function(n){u(i,n)},o))}var l=c.then;if('function'==typeof l)return void new(r(d[0]))(l.bind(c)).then(function(n){u(i,n)},o)}t[i]=c,0===--f&&n(t)}for(var i=0;i<t.length;i++)u(i,t[i])})},r(d[0]).allSettled=function(n){return r(d[0]).all(l(n).map(p))},r(d[0]).reject=function(n){return new(r(d[0]))(function(t,o){o(n)})},r(d[0]).race=function(n){return new(r(d[0]))(function(t,o){l(n).forEach(function(n){r(d[0]).resolve(n).then(t,o)})})},r(d[0]).prototype.catch=function(n){return this.then(null,n)},r(d[0]).any=function(n){return new(r(d[0]))(function(t,o){var f=l(n),u=!1,i=[];function c(n){u||(u=!0,t(n))}function y(n){i.push(n),i.length===f.length&&o(s(i))}0===f.length?o(s(i)):f.forEach(function(n){r(d[0]).resolve(n).then(c,y)})})}},98,[97]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;try{t=r(d[0]).hasNativeConstructor(function*(){},'GeneratorFunction')}catch(n){t=!1}t||r(d[1]).polyfillGlobal('regeneratorRuntime',function(){return delete g.regeneratorRuntime,r(d[2])})},99,[100,65,101]);
__d(function(g,r,i,a,m,e,d){function t(t){return'function'==typeof t&&t.toString().indexOf('[native code]')>-1}m.exports={isNativeFunction:t,hasNativeConstructor:function(n,o){var c=Object.getPrototypeOf(n).constructor;return c.name===o&&t(c)}}},100,[]);
__d(function(g,r,_i,a,m,e,d){var t=(function(t){"use strict";var n,o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(t,n,o){t[n]=o.value},u="function"==typeof Symbol?Symbol:{},h=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function s(t,n,o){return Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(t){s=function(t,n,o){return t[n]=o}}function p(t,n,o,i){var u=n&&n.prototype instanceof E?n:E,h=Object.create(u.prototype),f=new A(i||[]);return c(h,"_invoke",{value:F(t,o,f)}),h}function y(t,n,o){try{return{type:"normal",arg:t.call(n,o)}}catch(t){return{type:"throw",arg:t}}}t.wrap=p;var v="suspendedStart",w="suspendedYield",b="executing",L="completed",x={};function E(){}function _(){}function j(){}var O={};s(O,h,function(){return this});var k=Object.getPrototypeOf,G=k&&k(k(Y([])));G&&G!==o&&i.call(G,h)&&(O=G);var N=j.prototype=E.prototype=Object.create(O);function P(t){["next","throw","return"].forEach(function(n){s(t,n,function(t){return this._invoke(n,t)})})}function T(t,n){function o(c,u,h,f){var l=y(t[c],t,u);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==typeof p&&i.call(p,"__await")?n.resolve(p.__await).then(function(t){o("next",t,h,f)},function(t){o("throw",t,h,f)}):n.resolve(p).then(function(t){s.value=t,h(s)},function(t){return o("throw",t,h,f)})}f(l.arg)}var u;c(this,"_invoke",{value:function(t,i){function c(){return new n(function(n,c){o(t,i,n,c)})}return u=u?u.then(c,c):c()}})}function F(t,n,o){var i=v;return function(c,u){if(i===b)throw new Error("Generator is already running");if(i===L){if("throw"===c)throw u;return q()}for(o.method=c,o.arg=u;;){var h=o.delegate;if(h){var f=S(h,o);if(f){if(f===x)continue;return f}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===v)throw i=L,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=b;var l=y(t,n,o);if("normal"===l.type){if(i=o.done?L:w,l.arg===x)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=L,o.method="throw",o.arg=l.arg)}}}function S(t,o){var i=o.method,c=t.iterator[i];if(c===n)return o.delegate=null,"throw"===i&&t.iterator.return&&(o.method="return",o.arg=n,S(t,o),"throw"===o.method)||"return"!==i&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),x;var u=y(c,t.iterator,o.arg);if("throw"===u.type)return o.method="throw",o.arg=u.arg,o.delegate=null,x;var h=u.arg;return h?h.done?(o[t.resultName]=h.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=n),o.delegate=null,x):h:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,x)}function I(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function R(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function Y(t){if(t){var o=t[h];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var c=-1,u=function o(){for(;++c<t.length;)if(i.call(t,c))return o.value=t[c],o.done=!1,o;return o.value=n,o.done=!0,o};return u.next=u}}return{next:q}}function q(){return{value:n,done:!0}}return _.prototype=j,c(N,"constructor",{value:j,configurable:!0}),c(j,"constructor",{value:_,configurable:!0}),_.displayName=s(j,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,s(t,l,"GeneratorFunction")),t.prototype=Object.create(N),t},t.awrap=function(t){return{__await:t}},P(T.prototype),s(T.prototype,f,function(){return this}),t.AsyncIterator=T,t.async=function(o,i,c,u,h){h===n&&(h=Promise);var f=new T(p(o,i,c,u),h);return t.isGeneratorFunction(i)?f:f.next().then(function(t){return t.done?t.value:f.next()})},P(N),s(N,l,"Generator"),s(N,h,function(){return this}),s(N,"toString",function(){return"[object Generator]"}),t.keys=function(t){var n=Object(t),o=[];for(var i in n)o.push(i);return o.reverse(),function t(){for(;o.length;){var i=o.pop();if(i in n)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=Y,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!t)for(var o in this)"t"===o.charAt(0)&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function c(i,c){return f.type="throw",f.arg=t,o.next=i,c&&(o.method="next",o.arg=n),!!c}for(var u=this.tryEntries.length-1;u>=0;--u){var h=this.tryEntries[u],f=h.completion;if("root"===h.tryLoc)return c("end");if(h.tryLoc<=this.prev){var l=i.call(h,"catchLoc"),s=i.call(h,"finallyLoc");if(l&&s){if(this.prev<h.catchLoc)return c(h.catchLoc,!0);if(this.prev<h.finallyLoc)return c(h.finallyLoc)}else if(l){if(this.prev<h.catchLoc)return c(h.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<h.finallyLoc)return c(h.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc<=this.prev&&i.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var u=c;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var h=u?u.completion:{};return h.type=t,h.arg=n,u?(this.method="next",this.next=u.finallyLoc,x):this.complete(h)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),x},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),R(o),x}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc===t){var i=o.completion;if("throw"===i.type){var c=i.arg;R(o)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,i){return this.delegate={iterator:Y(t),resultName:o,nextLoc:i},"next"===this.method&&(this.arg=n),x}},t})("object"==typeof m?m.exports:{});try{regeneratorRuntime=t}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},101,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var l=null!=r(d[0]).default&&r(d[1]).enableBridgelessArchitecture()&&!r(d[1]).disableEventLoopOnBridgeless();if(!0!==g.RN$Bridgeless){var t=function(l){r(d[2]).polyfillGlobal(l,function(){return r(d[3])[l]})};t('setTimeout'),t('clearTimeout'),t('setInterval'),t('clearInterval'),t('requestAnimationFrame'),t('cancelAnimationFrame'),t('requestIdleCallback'),t('cancelIdleCallback')}else l&&(r(d[2]).polyfillGlobal('requestIdleCallback',function(){return r(d[4]).default.requestIdleCallback}),r(d[2]).polyfillGlobal('cancelIdleCallback',function(){return r(d[4]).default.cancelIdleCallback}));l?(g.RN$enableMicrotasksInReact=!0,r(d[2]).polyfillGlobal('queueMicrotask',function(){return r(d[5]).default.queueMicrotask}),r(d[2]).polyfillGlobal('setImmediate',function(){return r(d[6]).setImmediate}),r(d[2]).polyfillGlobal('clearImmediate',function(){return r(d[6]).clearImmediate})):(r(d[2]).polyfillGlobal('queueMicrotask',function(){return r(d[7]).default}),!0!==g.RN$Bridgeless&&(r(d[2]).polyfillGlobal('setImmediate',function(){return r(d[3]).queueReactNativeMicrotask}),r(d[2]).polyfillGlobal('clearImmediate',function(){return r(d[3]).clearReactNativeMicrotask})))},102,[103,104,65,106,109,110,111,112]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0])).get('NativeReactNativeFeatureFlagsCxx');_e.default=e},103,[36]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useTurboModules=e.useTurboModuleInterop=e.useRuntimeShadowNodeReferenceUpdate=e.useRefsForTextInputState=e.useRawPropsJsiValue=e.useOptimizedEventBatchingOnAndroid=e.useOptimisedViewPreallocationOnAndroid=e.useNativeViewConfigsInBridgelessMode=e.useInsertionEffectsForAnimations=e.useImmediateExecutorInAndroidBridgeless=e.useFabricInterop=e.useAlwaysAvailableJSErrorHandling=e.traceTurboModulePromiseRejectionsOnAndroid=e.shouldUseSetNativePropsInFabric=e.shouldUseRemoveClippedSubviewsAsDefaultOnIOS=e.shouldUseAnimatedObjectForTransform=e.shouldSkipStateUpdatesForLoopingAnimations=e.override=e.loadVectorDrawablesOnImages=e.lazyAnimationCallbacks=e.jsOnlyTestFlag=e.isLayoutAnimationEnabled=e.initEagerTurboModulesOnNativeModulesQueueAndroid=e.fuseboxEnabledRelease=e.fixVirtualizeListCollapseWindowSize=e.fixMountingCoordinatorReportedPendingTransactionsOnAndroid=e.fixMappingOfEventPrioritiesBetweenFabricAndReact=e.fixDifferentiatorEmittingUpdatesWithWrongParentTag=e.excludeYogaFromRawProps=e.enableViewRecycling=e.enableUIConsistency=e.enableSynchronousStateUpdates=e.enableReportEventPaintTime=e.enablePropsUpdateReconciliationAndroid=e.enablePreciseSchedulingForPremountItemsOnAndroid=e.enableNewBackgroundAndBorderDrawables=e.enableLongTaskAPI=e.enableLayoutAnimationsOnIOS=e.enableLayoutAnimationsOnAndroid=e.enableImagePrefetchingAndroid=e.enableIOSViewClipToPaddingBox=e.enableGranularShadowTreeStateReconciliation=e.enableFixForViewCommandRace=e.enableFabricRenderer=e.enableFabricLogs=e.enableEventEmitterRetentionDuringGesturesOnAndroid=e.enableEagerRootViewAttachment=e.enableDeletionOfUnmountedViews=e.enableCppPropsIteratorSetter=e.enableBridgelessArchitecture=e.enableAnimatedPropsMemo=e.enableAnimatedClearImmediateFix=e.enableAnimatedAllowlist=e.enableAccumulatedUpdatesInRawPropsAndroid=e.enableAccessToHostTreeInFabric=e.disableMountItemReorderingAndroid=e.disableInteractionManagerInBatchinator=e.disableInteractionManager=e.disableEventLoopOnBridgeless=e.completeReactInstanceCreationOnBgThreadOnAndroid=e.commonTestFlagWithoutNativeImplementation=e.commonTestFlag=e.animatedShouldUseSingleOp=e.animatedShouldDebounceQueueFlush=void 0;e.jsOnlyTestFlag=(0,r(d[0]).createJavaScriptFlagGetter)('jsOnlyTestFlag',!1),e.animatedShouldDebounceQueueFlush=(0,r(d[0]).createJavaScriptFlagGetter)('animatedShouldDebounceQueueFlush',!1),e.animatedShouldUseSingleOp=(0,r(d[0]).createJavaScriptFlagGetter)('animatedShouldUseSingleOp',!1),e.disableInteractionManager=(0,r(d[0]).createJavaScriptFlagGetter)('disableInteractionManager',!1),e.disableInteractionManagerInBatchinator=(0,r(d[0]).createJavaScriptFlagGetter)('disableInteractionManagerInBatchinator',!1),e.enableAccessToHostTreeInFabric=(0,r(d[0]).createJavaScriptFlagGetter)('enableAccessToHostTreeInFabric',!1),e.enableAnimatedAllowlist=(0,r(d[0]).createJavaScriptFlagGetter)('enableAnimatedAllowlist',!0),e.enableAnimatedClearImmediateFix=(0,r(d[0]).createJavaScriptFlagGetter)('enableAnimatedClearImmediateFix',!0),e.enableAnimatedPropsMemo=(0,r(d[0]).createJavaScriptFlagGetter)('enableAnimatedPropsMemo',!0),e.fixVirtualizeListCollapseWindowSize=(0,r(d[0]).createJavaScriptFlagGetter)('fixVirtualizeListCollapseWindowSize',!1),e.isLayoutAnimationEnabled=(0,r(d[0]).createJavaScriptFlagGetter)('isLayoutAnimationEnabled',!0),e.shouldSkipStateUpdatesForLoopingAnimations=(0,r(d[0]).createJavaScriptFlagGetter)('shouldSkipStateUpdatesForLoopingAnimations',!0),e.shouldUseAnimatedObjectForTransform=(0,r(d[0]).createJavaScriptFlagGetter)('shouldUseAnimatedObjectForTransform',!1),e.shouldUseRemoveClippedSubviewsAsDefaultOnIOS=(0,r(d[0]).createJavaScriptFlagGetter)('shouldUseRemoveClippedSubviewsAsDefaultOnIOS',!1),e.shouldUseSetNativePropsInFabric=(0,r(d[0]).createJavaScriptFlagGetter)('shouldUseSetNativePropsInFabric',!0),e.useInsertionEffectsForAnimations=(0,r(d[0]).createJavaScriptFlagGetter)('useInsertionEffectsForAnimations',!0),e.useRefsForTextInputState=(0,r(d[0]).createJavaScriptFlagGetter)('useRefsForTextInputState',!1),e.commonTestFlag=(0,r(d[0]).createNativeFlagGetter)('commonTestFlag',!1),e.commonTestFlagWithoutNativeImplementation=(0,r(d[0]).createNativeFlagGetter)('commonTestFlagWithoutNativeImplementation',!1),e.completeReactInstanceCreationOnBgThreadOnAndroid=(0,r(d[0]).createNativeFlagGetter)('completeReactInstanceCreationOnBgThreadOnAndroid',!0),e.disableEventLoopOnBridgeless=(0,r(d[0]).createNativeFlagGetter)('disableEventLoopOnBridgeless',!1),e.disableMountItemReorderingAndroid=(0,r(d[0]).createNativeFlagGetter)('disableMountItemReorderingAndroid',!1),e.enableAccumulatedUpdatesInRawPropsAndroid=(0,r(d[0]).createNativeFlagGetter)('enableAccumulatedUpdatesInRawPropsAndroid',!1),e.enableBridgelessArchitecture=(0,r(d[0]).createNativeFlagGetter)('enableBridgelessArchitecture',!1),e.enableCppPropsIteratorSetter=(0,r(d[0]).createNativeFlagGetter)('enableCppPropsIteratorSetter',!1),e.enableDeletionOfUnmountedViews=(0,r(d[0]).createNativeFlagGetter)('enableDeletionOfUnmountedViews',!1),e.enableEagerRootViewAttachment=(0,r(d[0]).createNativeFlagGetter)('enableEagerRootViewAttachment',!1),e.enableEventEmitterRetentionDuringGesturesOnAndroid=(0,r(d[0]).createNativeFlagGetter)('enableEventEmitterRetentionDuringGesturesOnAndroid',!1),e.enableFabricLogs=(0,r(d[0]).createNativeFlagGetter)('enableFabricLogs',!1),e.enableFabricRenderer=(0,r(d[0]).createNativeFlagGetter)('enableFabricRenderer',!1),e.enableFixForViewCommandRace=(0,r(d[0]).createNativeFlagGetter)('enableFixForViewCommandRace',!1),e.enableGranularShadowTreeStateReconciliation=(0,r(d[0]).createNativeFlagGetter)('enableGranularShadowTreeStateReconciliation',!1),e.enableIOSViewClipToPaddingBox=(0,r(d[0]).createNativeFlagGetter)('enableIOSViewClipToPaddingBox',!1),e.enableImagePrefetchingAndroid=(0,r(d[0]).createNativeFlagGetter)('enableImagePrefetchingAndroid',!1),e.enableLayoutAnimationsOnAndroid=(0,r(d[0]).createNativeFlagGetter)('enableLayoutAnimationsOnAndroid',!1),e.enableLayoutAnimationsOnIOS=(0,r(d[0]).createNativeFlagGetter)('enableLayoutAnimationsOnIOS',!0),e.enableLongTaskAPI=(0,r(d[0]).createNativeFlagGetter)('enableLongTaskAPI',!1),e.enableNewBackgroundAndBorderDrawables=(0,r(d[0]).createNativeFlagGetter)('enableNewBackgroundAndBorderDrawables',!1),e.enablePreciseSchedulingForPremountItemsOnAndroid=(0,r(d[0]).createNativeFlagGetter)('enablePreciseSchedulingForPremountItemsOnAndroid',!1),e.enablePropsUpdateReconciliationAndroid=(0,r(d[0]).createNativeFlagGetter)('enablePropsUpdateReconciliationAndroid',!1),e.enableReportEventPaintTime=(0,r(d[0]).createNativeFlagGetter)('enableReportEventPaintTime',!1),e.enableSynchronousStateUpdates=(0,r(d[0]).createNativeFlagGetter)('enableSynchronousStateUpdates',!1),e.enableUIConsistency=(0,r(d[0]).createNativeFlagGetter)('enableUIConsistency',!1),e.enableViewRecycling=(0,r(d[0]).createNativeFlagGetter)('enableViewRecycling',!1),e.excludeYogaFromRawProps=(0,r(d[0]).createNativeFlagGetter)('excludeYogaFromRawProps',!1),e.fixDifferentiatorEmittingUpdatesWithWrongParentTag=(0,r(d[0]).createNativeFlagGetter)('fixDifferentiatorEmittingUpdatesWithWrongParentTag',!0),e.fixMappingOfEventPrioritiesBetweenFabricAndReact=(0,r(d[0]).createNativeFlagGetter)('fixMappingOfEventPrioritiesBetweenFabricAndReact',!1),e.fixMountingCoordinatorReportedPendingTransactionsOnAndroid=(0,r(d[0]).createNativeFlagGetter)('fixMountingCoordinatorReportedPendingTransactionsOnAndroid',!1),e.fuseboxEnabledRelease=(0,r(d[0]).createNativeFlagGetter)('fuseboxEnabledRelease',!1),e.initEagerTurboModulesOnNativeModulesQueueAndroid=(0,r(d[0]).createNativeFlagGetter)('initEagerTurboModulesOnNativeModulesQueueAndroid',!0),e.lazyAnimationCallbacks=(0,r(d[0]).createNativeFlagGetter)('lazyAnimationCallbacks',!1),e.loadVectorDrawablesOnImages=(0,r(d[0]).createNativeFlagGetter)('loadVectorDrawablesOnImages',!0),e.traceTurboModulePromiseRejectionsOnAndroid=(0,r(d[0]).createNativeFlagGetter)('traceTurboModulePromiseRejectionsOnAndroid',!1),e.useAlwaysAvailableJSErrorHandling=(0,r(d[0]).createNativeFlagGetter)('useAlwaysAvailableJSErrorHandling',!1),e.useFabricInterop=(0,r(d[0]).createNativeFlagGetter)('useFabricInterop',!1),e.useImmediateExecutorInAndroidBridgeless=(0,r(d[0]).createNativeFlagGetter)('useImmediateExecutorInAndroidBridgeless',!0),e.useNativeViewConfigsInBridgelessMode=(0,r(d[0]).createNativeFlagGetter)('useNativeViewConfigsInBridgelessMode',!1),e.useOptimisedViewPreallocationOnAndroid=(0,r(d[0]).createNativeFlagGetter)('useOptimisedViewPreallocationOnAndroid',!1),e.useOptimizedEventBatchingOnAndroid=(0,r(d[0]).createNativeFlagGetter)('useOptimizedEventBatchingOnAndroid',!1),e.useRawPropsJsiValue=(0,r(d[0]).createNativeFlagGetter)('useRawPropsJsiValue',!1),e.useRuntimeShadowNodeReferenceUpdate=(0,r(d[0]).createNativeFlagGetter)('useRuntimeShadowNodeReferenceUpdate',!0),e.useTurboModuleInterop=(0,r(d[0]).createNativeFlagGetter)('useTurboModuleInterop',!1),e.useTurboModules=(0,r(d[0]).createNativeFlagGetter)('useTurboModules',!1),e.override=r(d[0]).setOverrides},104,[105]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createJavaScriptFlagGetter=function(n,u){return o(n,function(){var o,c;return l.add(n),null==(o=t)||null==(c=o[n])?void 0:c.call(o,u)},u)},e.createNativeFlagGetter=function(n,t){return o(n,function(){var t,l=null==u.default||null==(t=u.default[n])?void 0:t.call(u.default);return null==l&&f(n),l},t)},e.getOverrides=function(){return t},e.setOverrides=function(n){if(null!=t)throw new Error('Feature flags cannot be overridden more than once');if(l.size>0){var u=Array.from(l).join(', ');throw new Error(`Feature flags were accessed before being overridden: ${u}`)}t=n};var t,u=n(r(d[1])),l=new Set;function o(n,t,u){var l;return function(){var n;null==l&&(l=null!=(n=t())?n:u);return l}}var c=new Set;function f(n){c.has(n)||(c.add(n),console.error(`Could not access feature flag '${n}' because native module method was not available`))}},105,[1,103]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0])(r(d[1])),t=16.666666666666668,n=[],i=[],l=[],o=[],c=[],u={},f=1,s=[],v=!1;function h(){var e=l.indexOf(null);return-1===e&&(e=l.length),e}function T(e,t){var o=f++,c=h();return l[c]=o,n[c]=e,i[c]=t,o}function k(e,o,c){e>f&&console.warn('Tried to call timer with ID %s but no such timer exists.',e);var u=l.indexOf(e);if(-1!==u){var v=i[u],h=n[u];if(h&&v){'setInterval'!==v&&p(u);try{'setTimeout'===v||'setInterval'===v||'queueReactNativeMicrotask'===v?h():'requestAnimationFrame'===v?h(g.performance.now()):'requestIdleCallback'===v?h({timeRemaining:function(){return Math.max(0,t-(g.performance.now()-o))},didTimeout:!!c}):console.error('Tried to call a callback with invalid type: '+v)}catch(e){s.push(e)}}else console.error('No callback found for timerID '+e)}}function w(){if(0===o.length)return!1;var e=o;o=[];for(var t=0;t<e.length;++t)k(e[t],0);return o.length>0}function p(e){l[e]=null,n[e]=null,i[e]=null}function N(e){if(null!=e){var t=l.indexOf(e);if(-1!==t){var n=i[t];p(t),'queueReactNativeMicrotask'!==n&&'requestIdleCallback'!==n&&M(e)}}}var b,I={setTimeout:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=T(function(){return e.apply(void 0,i)},'setTimeout');return q(o,t||0,Date.now(),!1),o},setInterval:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];var o=T(function(){return e.apply(void 0,i)},'setInterval');return q(o,t||0,Date.now(),!0),o},queueReactNativeMicrotask:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l=T(function(){return e.apply(void 0,n)},'queueReactNativeMicrotask');return o.push(l),l},requestAnimationFrame:function(e){var t=T(e,'requestAnimationFrame');return q(t,1,Date.now(),!1),t},requestIdleCallback:function(e,t){0===c.length&&R(!0);var n=t&&t.timeout,i=T(null!=n?function(t){var n=u[i];return n&&(I.clearTimeout(n),delete u[i]),e(t)}:e,'requestIdleCallback');if(c.push(i),null!=n){var l=I.setTimeout(function(){var e=c.indexOf(i);e>-1&&(c.splice(e,1),k(i,g.performance.now(),!0)),delete u[i],0===c.length&&R(!1)},n);u[i]=l}return i},cancelIdleCallback:function(e){N(e);var t=c.indexOf(e);-1!==t&&c.splice(t,1);var n=u[e];n&&(I.clearTimeout(n),delete u[e]),0===c.length&&R(!1)},clearTimeout:function(e){N(e)},clearInterval:function(e){N(e)},clearReactNativeMicrotask:function(e){N(e);var t=o.indexOf(e);-1!==t&&o.splice(t,1)},cancelAnimationFrame:function(e){N(e)},callTimers:function(e){r(d[2])(0!==e.length,'Cannot call `callTimers` with an empty list of IDs.'),s.length=0;for(var t=0;t<e.length;t++)k(e[t],0);var n=s.length;if(n>0){if(n>1)for(var i=1;i<n;i++)I.setTimeout(function(e){throw e}.bind(null,s[i]),0);throw s[0]}},callIdleCallbacks:function(e){if(!(t-(Date.now()-e)<1)){if(s.length=0,c.length>0){var n=c;c=[];for(var i=0;i<n.length;++i)k(n[i],e)}0===c.length&&R(!1),s.forEach(function(e){return I.setTimeout(function(){throw e},0)})}},callReactNativeMicrotasks:function(){for(s.length=0;w(););s.forEach(function(e){return I.setTimeout(function(){throw e},0)})},emitTimeDriftWarning:function(e){v||(v=!0,console.warn(e))}};function q(t,n,i,l){r(d[2])(e.default,'NativeTiming is available'),e.default.createTimer(t,n,i,l)}function M(t){r(d[2])(e.default,'NativeTiming is available'),e.default.deleteTimer(t)}function R(t){r(d[2])(e.default,'NativeTiming is available'),e.default.setSendIdleEvents(t)}e.default?b=I:(console.warn("Timing native module is not available, can't set timers."),b={callReactNativeMicrotasks:I.callReactNativeMicrotasks,queueReactNativeMicrotask:I.queueReactNativeMicrotask}),r(d[3]).setReactNativeMicrotasksCallback(I.callReactNativeMicrotasks),m.exports=b},106,[1,107,20,4]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},107,[108]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('Timing')},108,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('NativeIdleCallbacksCxx')},109,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('NativeMicrotasksCxx')},110,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=1,n=new Set;var o={setImmediate:function(o){for(var u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];if(arguments.length<1)throw new TypeError('setImmediate must be called with at least one argument (a function to call)');if('function'!=typeof o)throw new TypeError('The first argument to setImmediate must be a function.');var f=t++;return n.has(f)&&n.delete(f),g.queueMicrotask(function(){n.has(f)?n.delete(f):o.apply(void 0,s)}),f},clearImmediate:function(t){n.add(t)}};m.exports=o},111,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){if(arguments.length<1)throw new TypeError('queueMicrotask must be called with at least one argument (a function to call)');if('function'!=typeof n)throw new TypeError('The argument to queueMicrotask must be a function.');(t||(t=Promise.resolve())).then(n).catch(function(t){return setTimeout(function(){throw t},0)})}},112,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]).polyfillGlobal('XMLHttpRequest',function(){return r(d[1])}),r(d[0]).polyfillGlobal('FormData',function(){return r(d[2])}),r(d[0]).polyfillGlobal('fetch',function(){return r(d[3]).fetch}),r(d[0]).polyfillGlobal('Headers',function(){return r(d[3]).Headers}),r(d[0]).polyfillGlobal('Request',function(){return r(d[3]).Request}),r(d[0]).polyfillGlobal('Response',function(){return r(d[3]).Response}),r(d[0]).polyfillGlobal('WebSocket',function(){return r(d[4])}),r(d[0]).polyfillGlobal('Blob',function(){return r(d[5])}),r(d[0]).polyfillGlobal('File',function(){return r(d[6])}),r(d[0]).polyfillGlobal('FileReader',function(){return r(d[7])}),r(d[0]).polyfillGlobal('URL',function(){return r(d[8]).URL}),r(d[0]).polyfillGlobal('URLSearchParams',function(){return r(d[8]).URLSearchParams}),r(d[0]).polyfillGlobal('AbortController',function(){return r(d[9]).AbortController}),r(d[0]).polyfillGlobal('AbortSignal',function(){return r(d[9]).AbortSignal})},113,[65,114,128,132,134,119,140,141,144,146]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var e=_r(d[0]),t=e(_r(d[1])),s=e(_r(d[2])),r=e(_r(d[3])),n=e(_r(d[4])),a=e(_r(d[5])),o=e(_r(d[6])),u=e(_r(d[7])),p=e(_r(d[8]));function h(e,t,s){return t=(0,o.default)(t),(0,a.default)(e,l()?Reflect.construct(t,s||[],(0,o.default)(e).constructor):t.apply(e,s))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}_r(d[9]).isAvailable&&_r(d[9]).addNetworkingHandler();var c={arraybuffer:'function'==typeof g.ArrayBuffer,blob:'function'==typeof g.Blob,document:!1,json:!0,text:!0,'':!0},_=['abort','error','load','loadstart','progress','timeout','loadend'],f=_.concat('readystatechange'),y=(function(e){function t(){return(0,n.default)(this,t),h(this,t,arguments)}return(0,u.default)(t,e),(0,r.default)(t)})(p.default.apply(void 0,_)),v=(function(e){function a(){var e;return(0,n.default)(this,a),(e=h(this,a)).UNSENT=0,e.OPENED=1,e.HEADERS_RECEIVED=2,e.LOADING=3,e.DONE=4,e.readyState=0,e.status=0,e.timeout=0,e.withCredentials=!0,e.upload=new y,e._aborted=!1,e._hasError=!1,e._method=null,e._perfKey=null,e._response='',e._url=null,e._timedOut=!1,e._trackingName='unknown',e._incrementalEvents=!1,e._startTime=null,e._performanceLogger=_r(d[10]),e._reset(),e}return(0,u.default)(a,e),(0,r.default)(a,[{key:"_reset",value:function(){this.readyState=this.UNSENT,this.responseHeaders=void 0,this.status=0,delete this.responseURL,this._requestId=null,this._cachedResponse=void 0,this._hasError=!1,this._headers={},this._response='',this._responseType='',this._sent=!1,this._lowerCaseResponseHeaders={},this._clearSubscriptions(),this._timedOut=!1}},{key:"responseType",get:function(){return this._responseType},set:function(e){if(this._sent)throw new Error("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set after the request has been sent.");c.hasOwnProperty(e)?(_r(d[11])(c[e]||'document'===e,`The provided value '${e}' is unsupported in this environment.`),'blob'===e&&_r(d[11])(_r(d[9]).isAvailable,'Native module BlobModule is required for blob support'),this._responseType=e):console.warn(`The provided value '${e}' is not a valid 'responseType'.`)}},{key:"responseText",get:function(){if(''!==this._responseType&&'text'!==this._responseType)throw new Error(`The 'responseText' property is only available if 'responseType' is set to '' or 'text', but it is '${this._responseType}'.`);return this.readyState<3?'':this._response}},{key:"response",get:function(){var e=this.responseType;if(''===e||'text'===e)return this.readyState<3||this._hasError?'':this._response;if(4!==this.readyState)return null;if(void 0!==this._cachedResponse)return this._cachedResponse;switch(e){case'document':default:this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=_r(d[12]).toByteArray(this._response).buffer;break;case'blob':if('object'==typeof this._response&&this._response)this._cachedResponse=_r(d[9]).createFromOptions(this._response);else{if(''!==this._response)throw new Error(`Invalid response for blob - expecting object, was ${typeof this._response}: ${this._response.trim()}`);this._cachedResponse=_r(d[9]).createFromParts([])}break;case'json':try{this._cachedResponse=JSON.parse(this._response)}catch(e){this._cachedResponse=null}}return this._cachedResponse}},{key:"__didCreateRequest",value:function(e){this._requestId=e,a._interceptor&&a._interceptor.requestSent(e,this._url||'',this._method||'GET',this._headers)}},{key:"__didUploadProgress",value:function(e,t,s){e===this._requestId&&this.upload.dispatchEvent({type:'progress',lengthComputable:!0,loaded:t,total:s})}},{key:"__didReceiveResponse",value:function(e,t,s,r){e===this._requestId&&(null!=this._perfKey&&this._performanceLogger.stopTimespan(this._perfKey),this.status=t,this.setResponseHeaders(s),this.setReadyState(this.HEADERS_RECEIVED),r||''===r?this.responseURL=r:delete this.responseURL,a._interceptor&&a._interceptor.responseReceived(e,r||this._url||'',t,s||{}))}},{key:"__didReceiveData",value:function(e,t){e===this._requestId&&(this._response=t,this._cachedResponse=void 0,this.setReadyState(this.LOADING),a._interceptor&&a._interceptor.dataReceived(e,t))}},{key:"__didReceiveIncrementalData",value:function(e,t,s,r){e===this._requestId&&(this._response?this._response+=t:this._response=t,a._profiling&&performance.mark('Track:XMLHttpRequest:Incremental Data: '+this._getMeasureURL()),a._interceptor&&a._interceptor.dataReceived(e,t),this.setReadyState(this.LOADING),this.__didReceiveDataProgress(e,s,r))}},{key:"__didReceiveDataProgress",value:function(e,t,s){e===this._requestId&&this.dispatchEvent({type:'progress',lengthComputable:s>=0,loaded:t,total:s})}},{key:"__didCompleteResponse",value:function(e,t,s){if(e===this._requestId){if(t&&(''!==this._responseType&&'text'!==this._responseType||(this._response=t),this._hasError=!0,s&&(this._timedOut=!0)),this._clearSubscriptions(),this._requestId=null,this.setReadyState(this.DONE),a._profiling&&null!=this._startTime){var r=this._startTime;performance.measure('Track:XMLHttpRequest:'+this._getMeasureURL(),{start:r,end:performance.now()})}t?a._interceptor&&a._interceptor.loadingFailed(e,t):a._interceptor&&a._interceptor.loadingFinished(e,this._response.length)}}},{key:"_clearSubscriptions",value:function(){(this._subscriptions||[]).forEach(function(e){e&&e.remove()}),this._subscriptions=[]}},{key:"getAllResponseHeaders",value:function(){if(!this.responseHeaders)return null;var e=this.responseHeaders,s=new Map;for(var r of Object.keys(e)){var n=e[r],a=r.toLowerCase(),o=s.get(a);o?(o.headerValue+=', '+n,s.set(a,o)):s.set(a,{lowerHeaderName:a,upperHeaderName:r.toUpperCase(),headerValue:n})}return(0,t.default)(s.values()).sort(function(e,t){return e.upperHeaderName<t.upperHeaderName?-1:e.upperHeaderName>t.upperHeaderName?1:0}).map(function(e){return e.lowerHeaderName+': '+e.headerValue}).join('\r\n')+'\r\n'}},{key:"getResponseHeader",value:function(e){var t=this._lowerCaseResponseHeaders[e.toLowerCase()];return void 0!==t?t:null}},{key:"setRequestHeader",value:function(e,t){if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');this._headers[e.toLowerCase()]=String(t)}},{key:"setTrackingName",value:function(e){return this._trackingName=e,this}},{key:"setPerformanceLogger",value:function(e){return this._performanceLogger=e,this}},{key:"open",value:function(e,t,s){if(this.readyState!==this.UNSENT)throw new Error('Cannot open, already sending');if(void 0!==s&&!s)throw new Error('Synchronous http requests are not supported');if(!t)throw new Error('Cannot load an empty url');this._method=e.toUpperCase(),this._url=t,this._aborted=!1,this.setReadyState(this.OPENED)}},{key:"send",value:function(e){var s=this;if(this.readyState!==this.OPENED)throw new Error('Request has not been opened');if(this._sent)throw new Error('Request has already been sent');this._sent=!0;var r=this._incrementalEvents||!!this.onreadystatechange||!!this.onprogress;this._subscriptions.push(_r(d[13]).default.addListener('didSendNetworkData',function(e){return s.__didUploadProgress.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[13]).default.addListener('didReceiveNetworkResponse',function(e){return s.__didReceiveResponse.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[13]).default.addListener('didReceiveNetworkData',function(e){return s.__didReceiveData.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[13]).default.addListener('didReceiveNetworkIncrementalData',function(e){return s.__didReceiveIncrementalData.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[13]).default.addListener('didReceiveNetworkDataProgress',function(e){return s.__didReceiveDataProgress.apply(s,(0,t.default)(e))})),this._subscriptions.push(_r(d[13]).default.addListener('didCompleteNetworkResponse',function(e){return s.__didCompleteResponse.apply(s,(0,t.default)(e))}));var n='text';'arraybuffer'===this._responseType&&(n='base64'),'blob'===this._responseType&&(n='blob');var a;a='unknown'!==s._trackingName?s._trackingName:s._url,s._perfKey='network_XMLHttpRequest_'+String(a),s._performanceLogger.startTimespan(s._perfKey),s._startTime=performance.now(),_r(d[11])(s._method,'XMLHttpRequest method needs to be defined (%s).',a),_r(d[11])(s._url,'XMLHttpRequest URL needs to be defined (%s).',a),_r(d[13]).default.sendRequest(s._method,s._trackingName,s._url,s._headers,e,n,r,s.timeout,s.__didCreateRequest.bind(s),s.withCredentials)}},{key:"abort",value:function(){this._aborted=!0,this._requestId&&_r(d[13]).default.abortRequest(this._requestId),this.readyState===this.UNSENT||this.readyState===this.OPENED&&!this._sent||this.readyState===this.DONE||(this._reset(),this.setReadyState(this.DONE)),this._reset()}},{key:"setResponseHeaders",value:function(e){this.responseHeaders=e||null;var t=e||{};this._lowerCaseResponseHeaders=Object.keys(t).reduce(function(e,s){return e[s.toLowerCase()]=t[s],e},{})}},{key:"setReadyState",value:function(e){this.readyState=e,this.dispatchEvent({type:'readystatechange'}),e===this.DONE&&(this._aborted?this.dispatchEvent({type:'abort'}):this._hasError?this._timedOut?this.dispatchEvent({type:'timeout'}):this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"addEventListener",value:function(e,t){var r,n,u,p,h;'readystatechange'!==e&&'progress'!==e||(this._incrementalEvents=!0),(r=a,n="addEventListener",u=this,p=3,h=(0,s.default)((0,o.default)(1&p?r.prototype:r),n,u),2&p&&"function"==typeof h?function(e){return h.apply(u,e)}:h)([e,t])}},{key:"_getMeasureURL",value:function(){var e,t;return null!=(e=null!=(t=this._trackingName)?t:this._url)?e:"Unknown URL"}}],[{key:"setInterceptor",value:function(e){a._interceptor=e}},{key:"enableProfiling",value:function(e){a._profiling=e}}])})(p.default.apply(void 0,(0,t.default)(f)));v.UNSENT=0,v.OPENED=1,v.HEADERS_RECEIVED=2,v.LOADING=3,v.DONE=4,v._interceptor=null,v._profiling=!1,m.exports=v},114,[1,6,26,13,12,23,25,28,115,116,121,20,124,125]);
__d(function(g,r,_i,a,m,e,d){
/**
   * @author Toru Nagashima <https://github.com/mysticatea>
   * @copyright 2015 Toru Nagashima. All rights reserved.
   * See LICENSE file in root directory for full license.
   */
'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function i(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function l(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var i=Object.keys(o),l=0;l<i.length;++l){var s=i[l];s in this||Object.defineProperty(this,s,u(s))}}function u(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function s(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function p(t,n){var o=Object.keys(n);if(0===o.length)return t;function i(n,o){t.call(this,n,o)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(var l=0;l<o.length;++l){var p=o[l];if(!(p in t.prototype)){var c="function"==typeof Object.getOwnPropertyDescriptor(n,p).value;Object.defineProperty(i.prototype,p,c?s(p):u(p))}}return i}function c(t){if(null==t||t===Object.prototype)return l;var o=n.get(t);return null==o&&(o=p(c(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function f(t,n){return new(c(Object.getPrototypeOf(n)))(t,n)}function v(t){return o(t).immediateStopped}function y(t,n){o(t).eventPhase=n}function b(t,n){o(t).currentTarget=n}function h(t,n){o(t).passiveListener=n}l.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){i(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||i(o(this))},initEvent:function(){}},Object.defineProperty(l.prototype,"constructor",{value:l,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(l.prototype,window.Event.prototype),n.set(window.Event.prototype,l));var w=new WeakMap;function T(t){return null!==t&&"object"==typeof t}function P(t){var n=w.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function x(t){return{get:function(){for(var n=P(this).get(t);null!=n;){if(3===n.listenerType)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||T(n)||(n=null);for(var o=P(this),i=null,l=o.get(t);null!=l;)3===l.listenerType?null!==i?i.next=l.next:null!==l.next?o.set(t,l.next):o.delete(t):i=l,l=l.next;if(null!==n){var u={listener:n,listenerType:3,passive:!1,once:!1,next:null};null===i?o.set(t,u):i.next=u}},configurable:!0,enumerable:!0}}function E(t,n){Object.defineProperty(t,`on${n}`,x(n))}function O(t){function n(){j.call(this)}n.prototype=Object.create(j.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)E(n.prototype,t[o]);return n}function j(){if(!(this instanceof j)){if(1===arguments.length&&Array.isArray(arguments[0]))return O(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return O(t)}throw new TypeError("Cannot call a class as a function")}w.set(this,new Map)}j.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!T(n))throw new TypeError("'listener' should be a function or an object.");var i=P(this),l=T(o),u=(l?Boolean(o.capture):Boolean(o))?1:2,s={listener:n,listenerType:u,passive:l&&Boolean(o.passive),once:l&&Boolean(o.once),next:null},p=i.get(t);if(void 0!==p){for(var c=null;null!=p;){if(p.listener===n&&p.listenerType===u)return;c=p,p=p.next}c.next=s}else i.set(t,s)}},removeEventListener:function(t,n,o){if(null!=n)for(var i=P(this),l=(T(o)?Boolean(o.capture):Boolean(o))?1:2,u=null,s=i.get(t);null!=s;){if(s.listener===n&&s.listenerType===l)return void(null!==u?u.next=s.next:null!==s.next?i.set(t,s.next):i.delete(t));u=s,s=s.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=P(this),o=t.type,i=n.get(o);if(null==i)return!0;for(var l=f(this,t),u=null;null!=i;){if(i.once?null!==u?u.next=i.next:null!==i.next?n.set(o,i.next):n.delete(o):u=i,h(l,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,l)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(l);if(v(l))break;i=i.next}return h(l,null),y(l,0),b(l,null),!l.defaultPrevented}},Object.defineProperty(j.prototype,"constructor",{value:j,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(j.prototype,window.EventTarget.prototype),e.defineEventAttribute=E,e.EventTarget=j,e.default=j,m.exports=j,m.exports.EventTarget=m.exports.default=j,m.exports.defineEventAttribute=E},115,[]);
__d(function(g,_r,i,a,m,e,d){var t=_r(d[0]),l=t(_r(d[1])),r=t(_r(d[2])),o=t(_r(d[3])),n=t(_r(d[4]));var u=(function(){function t(){(0,l.default)(this,t)}return(0,r.default)(t,null,[{key:"createFromParts",value:function(l,r){(0,n.default)(o.default,'NativeBlobModule is available.');var u='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(t){var l=16*Math.random()|0;return('x'==t?l:3&l|8).toString(16)}),f=l.map(function(t){if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))throw new Error("Creating blobs from 'ArrayBuffer' and 'ArrayBufferView' are not supported");return t instanceof _r(d[5])?{data:t.data,type:'blob'}:{data:String(t),type:'string'}}),c=f.reduce(function(t,l){return'string'===l.type?t+g.unescape(encodeURI(l.data)).length:t+l.data.size},0);return o.default.createFromParts(f,u),t.createFromOptions({blobId:u,offset:0,size:c,type:r?r.type:'',lastModified:r?r.lastModified:Date.now()})}},{key:"createFromOptions",value:function(t){return _r(d[6]).register(t.blobId),Object.assign(Object.create(_r(d[5]).prototype),{data:null==t.__collector?Object.assign({},t,{__collector:(l=t.blobId,null==g.__blobCollectorProvider?null:g.__blobCollectorProvider(l))}):t});var l}},{key:"release",value:function(t){(0,n.default)(o.default,'NativeBlobModule is available.'),_r(d[6]).unregister(t),_r(d[6]).has(t)||o.default.release(t)}},{key:"addNetworkingHandler",value:function(){(0,n.default)(o.default,'NativeBlobModule is available.'),o.default.addNetworkingHandler()}},{key:"addWebSocketHandler",value:function(t){(0,n.default)(o.default,'NativeBlobModule is available.'),o.default.addWebSocketHandler(t)}},{key:"removeWebSocketHandler",value:function(t){(0,n.default)(o.default,'NativeBlobModule is available.'),o.default.removeWebSocketHandler(t)}},{key:"sendOverSocket",value:function(t,l){(0,n.default)(o.default,'NativeBlobModule is available.'),o.default.sendOverSocket(t.data,l)}}])})();u.isAvailable=!!o.default,m.exports=u},116,[1,12,13,117,20,119,120]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},117,[118]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(l,f,u):l[f]=e[f]);return l})(e,t)})(_r(d[0])).get('BlobModule'),t=null,n=null;null!=e&&(n={getConstants:function(){return null==t&&(t=e.getConstants()),t},addNetworkingHandler:function(){e.addNetworkingHandler()},addWebSocketHandler:function(t){e.addWebSocketHandler(t)},removeWebSocketHandler:function(t){e.removeWebSocketHandler(t)},sendOverSocket:function(t,n){e.sendOverSocket(t,n)},createFromParts:function(t,n){e.createFromParts(t,n)},release:function(t){e.release(t)}});_e.default=n},118,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=(function(){return s(function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;t(this,s);var l=r(d[2]);this.data=l.createFromParts(n,o).data},[{key:"data",get:function(){if(!this._data)throw new Error('Blob has been closed and is no longer available');return this._data},set:function(t){this._data=t}},{key:"slice",value:function(t,s){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'',o=r(d[2]),l=this.data,h=l.offset,u=l.size;return'number'==typeof t&&(t>u&&(t=u),h+=t,u-=t,'number'==typeof s&&(s<0&&(s=this.size+s),s>this.size&&(s=this.size),u=s-t)),o.createFromOptions({blobId:this.data.blobId,offset:h,size:u,type:n,__collector:this.data.__collector})}},{key:"close",value:function(){r(d[2]).release(this.data.blobId),this.data=null}},{key:"size",get:function(){return this.data.size}},{key:"type",get:function(){return this.data.type||''}}])})();m.exports=n},119,[12,13,116]);
__d(function(g,r,i,a,m,e,d){var t=new Map;m.exports={register:function(n){var u=t.get(n);null!=u?t.set(n,u+1):t.set(n,1)},unregister:function(n){var u=t.get(n);null!=u&&(u<=1?t.delete(n):t.set(n,u-1))},has:function(n){return t.get(n)||!1}}},120,[]);
__d(function(g,r,i,a,m,e,d){var t=(0,r(d[0])(r(d[1])).default)();m.exports=t},121,[1,122]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new l},e.getCurrentTimestamp=void 0;var s,n=t(r(d[1])),o=t(r(d[2])),u=(t(r(d[3])),e.getCurrentTimestamp=null!=(s=g.nativeQPLTimestamp)?s:function(){return g.performance.now()}),l=(function(){return(0,o.default)(function t(){(0,n.default)(this,t),this._timespans={},this._extras={},this._points={},this._pointExtras={},this._closed=!1},[{key:"addTimespan",value:function(t,s,n,o,u){this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,endTime:n,totalTime:n-(s||0),startExtras:o,endExtras:u})}},{key:"append",value:function(t){this._timespans=Object.assign({},t.getTimespans(),this._timespans),this._extras=Object.assign({},t.getExtras(),this._extras),this._points=Object.assign({},t.getPoints(),this._points),this._pointExtras=Object.assign({},t.getPointExtras(),this._pointExtras)}},{key:"clear",value:function(){this._timespans={},this._extras={},this._points={}}},{key:"clearCompleted",value:function(){for(var t in this._timespans){var s;null!=(null==(s=this._timespans[t])?void 0:s.totalTime)&&delete this._timespans[t]}this._extras={},this._points={}}},{key:"close",value:function(){this._closed=!0}},{key:"currentTimestamp",value:function(){return u()}},{key:"getExtras",value:function(){return this._extras}},{key:"getPoints",value:function(){return this._points}},{key:"getPointExtras",value:function(){return this._pointExtras}},{key:"getTimespans",value:function(){return this._timespans}},{key:"hasTimespan",value:function(t){return!!this._timespans[t]}},{key:"isClosed",value:function(){return this._closed}},{key:"logEverything",value:function(){}},{key:"markPoint",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;this._closed||null==this._points[t]&&(this._points[t]=s,n&&(this._pointExtras[t]=n))}},{key:"removeExtra",value:function(t){var s=this._extras[t];return delete this._extras[t],s}},{key:"setExtra",value:function(t,s){this._closed||this._extras.hasOwnProperty(t)||(this._extras[t]=s)}},{key:"startTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;this._closed||this._timespans[t]||(this._timespans[t]={startTime:s,startExtras:n})}},{key:"stopTimespan",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0;if(!this._closed){var o=this._timespans[t];o&&null!=o.startTime&&null==o.endTime&&(o.endExtras=n,o.endTime=s,o.totalTime=o.endTime-(o.startTime||0))}}}])})()},122,[1,12,13,123]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){var n;return(n=console).log.apply(n,arguments)}},123,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';e.byteLength=function(t){var n=h(t),o=n[0],u=n[1];return 3*(o+u)/4-u},e.toByteArray=function(t){var u,c,f=h(t),A=f[0],C=f[1],y=new o(i(t,A,C)),s=0,v=C>0?A-4:A;for(c=0;c<v;c+=4)u=n[t.charCodeAt(c)]<<18|n[t.charCodeAt(c+1)]<<12|n[t.charCodeAt(c+2)]<<6|n[t.charCodeAt(c+3)],y[s++]=u>>16&255,y[s++]=u>>8&255,y[s++]=255&u;2===C&&(u=n[t.charCodeAt(c)]<<2|n[t.charCodeAt(c+1)]>>4,y[s++]=255&u);1===C&&(u=n[t.charCodeAt(c)]<<10|n[t.charCodeAt(c+1)]<<4|n[t.charCodeAt(c+2)]>>2,y[s++]=u>>8&255,y[s++]=255&u);return y},e.fromByteArray=function(n){for(var o,u=n.length,c=u%3,h=[],i=16383,f=0,C=u-c;f<C;f+=i)h.push(A(n,f,f+i>C?C:f+i));1===c?(o=n[u-1],h.push(t[o>>2]+t[o<<4&63]+'==')):2===c&&(o=(n[u-2]<<8)+n[u-1],h.push(t[o>>10]+t[o>>4&63]+t[o<<2&63]+'='));return h.join('')};for(var t=[],n=[],o='undefined'!=typeof Uint8Array?Uint8Array:Array,u='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',c=0;c<64;++c)t[c]=u[c],n[u.charCodeAt(c)]=c;function h(t){var n=t.length;if(n%4>0)throw new Error('Invalid string. Length must be a multiple of 4');var o=t.indexOf('=');return-1===o&&(o=n),[o,o===n?0:4-o%4]}function i(t,n,o){return 3*(n+o)/4-o}function f(n){return t[n>>18&63]+t[n>>12&63]+t[n>>6&63]+t[63&n]}function A(t,n,o){for(var u,c=[],h=n;h<o;h+=3)u=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(255&t[h+2]),c.push(f(u));return c.join('')}n['-'.charCodeAt(0)]=62,n['_'.charCodeAt(0)]=63},124,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4]));function s(t){var n=[];for(var u in t)n.push([u,t[u]]);return n}var l=1;var c=new n.default('ios'!==u.default.OS?null:o.default),v={addListener:function(t,n,u){return c.addListener(t,n,u)},sendRequest:function(t,n,u,c,v,b,q,O,R,_){var h=(0,f.default)(v);h&&h.formData&&(h.formData=h.formData.map(function(t){return Object.assign({},t,{headers:s(t.headers)})}));var j=l++;o.default.sendRequest(t,u,j,s(c),Object.assign({},h,{trackingName:n}),b,q,O,_),R(j)},abortRequest:function(t){o.default.abortRequest(t)},clearCookies:function(t){o.default.clearCookies(t)}};e.default=v},125,[1,126,33,127,130]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5]));e.default=(function(){return(0,l.default)(function t(l){(0,n.default)(this,t),'ios'===u.default.OS&&(0,s.default)(null!=l,'`new NativeEventEmitter()` requires a non-null argument.');var o=!!l&&'function'==typeof l.addListener,v=!!l&&'function'==typeof l.removeListeners;l&&o&&v?this._nativeModule=l:null!=l&&(o||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `addListener` method.'),v||console.warn('`new NativeEventEmitter()` was called with a non-null argument without the required `removeListeners` method.'))},[{key:"addListener",value:function(t,n,l){var u,s=this;null==(u=this._nativeModule)||u.addListener(t);var v=o.default.addListener(t,n,l);return{remove:function(){var t;null!=v&&(null==(t=s._nativeModule)||t.removeListeners(1),v.remove(),v=null)}}}},{key:"emit",value:function(t){for(var n=arguments.length,l=new Array(n>1?n-1:0),u=1;u<n;u++)l[u-1]=arguments[u];o.default.emit.apply(o.default,[t].concat(l))}},{key:"removeAllListeners",value:function(t){var n;(0,s.default)(null!=t,'`NativeEventEmitter.removeAllListener()` requires a non-null argument.'),null==(n=this._nativeModule)||n.removeListeners(this.listenerCount(t)),o.default.removeAllListeners(t)}},{key:"listenerCount",value:function(t){return o.default.listenerCount(t)}}])})()},126,[1,12,13,33,22,20]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return'string'==typeof t?{string:t}:t instanceof r(d[0])?{blob:t.data}:t instanceof r(d[1])?{formData:t.getParts()}:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?{base64:r(d[2])(t)}:t}},127,[119,128,129]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]);var o=(function(){return s(function t(){n(this,t),this._parts=[]},[{key:"append",value:function(t,n){this._parts.push([t,n])}},{key:"getAll",value:function(n){return this._parts.filter(function(s){return t(s,1)[0]===n}).map(function(n){return t(n,2)[1]})}},{key:"getParts",value:function(){return this._parts.map(function(n){var s,o=t(n,2),p=o[0],u=o[1],c={'content-disposition':'form-data; name="'+p+'"'};return'object'==typeof u&&!Array.isArray(u)&&u?('string'==typeof u.name&&(c['content-disposition']+=`; filename="${s=u.name,encodeURIComponent(s.replace(/\//g,'_'))}"`),'string'==typeof u.type&&(c['content-type']=u.type),Object.assign({},u,{headers:c,fieldName:p})):{string:String(u),headers:c,fieldName:p}})}}])})();m.exports=o},128,[38,12,13]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array)return r(d[0]).fromByteArray(t);if(!ArrayBuffer.isView(t))throw new Error('data must be ArrayBuffer or typed array');var f=t,n=f.buffer,y=f.byteOffset,o=f.byteLength;return r(d[0]).fromByteArray(new Uint8Array(n,y,o))}},129,[124]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},130,[131]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('Networking')},131,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports={fetch:fetch,Headers:Headers,Request:Request,Response:Response}},132,[133]);
__d(function(_g,r,_i,a,m,_e,d){var t,e;t=this,e=function(t){'use strict';var e='undefined'!=typeof globalThis&&globalThis||'undefined'!=typeof self&&self||void 0!==_g&&_g||{},o='URLSearchParams'in e,n='Symbol'in e&&'iterator'in Symbol,i='FileReader'in e&&'Blob'in e&&(function(){try{return new Blob,!0}catch(t){return!1}})(),s='FormData'in e,h='ArrayBuffer'in e;if(h)var u=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],f=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if('string'!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||''===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function y(t){return'string'!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){if(2!=t.length)throw new TypeError('Headers constructor: expected name/value pair to be length 2, found'+t.length);this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function b(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError('Already read')):void(t.bodyUsed=!0)}function w(t){return new Promise(function(e,o){t.onload=function(){e(t.result)},t.onerror=function(){o(t.error)}})}function v(t){var e=new FileReader,o=w(e);return e.readAsArrayBuffer(t),o}function E(t){for(var e=new Uint8Array(t),o=new Array(e.length),n=0;n<e.length;n++)o[n]=String.fromCharCode(e[n]);return o.join('')}function A(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?'string'==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():h&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=A(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h&&(ArrayBuffer.prototype.isPrototypeOf(t)||f(t))?this._bodyArrayBuffer=A(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=''),this.headers.get('content-type')||('string'==typeof t?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},i&&(this.blob=function(){var t=b(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=b(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i)return this.blob().then(v);throw new Error('could not read as ArrayBuffer')},this.text=function(){var t,e,o,n,i,s=b(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,o=w(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=n?n[1]:'utf-8',e.readAsText(t,i),o;if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=c(t),e=y(e);var o=this.map[t];this.map[t]=o?o+', '+e:e},p.prototype.delete=function(t){delete this.map[c(t)]},p.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},p.prototype.set=function(t,e){this.map[c(t)]=y(e)},p.prototype.forEach=function(t,e){for(var o in this.map)this.map.hasOwnProperty(o)&&t.call(e,this.map[o],o,this)},p.prototype.keys=function(){var t=[];return this.forEach(function(e,o){t.push(o)}),l(t)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},p.prototype.entries=function(){var t=[];return this.forEach(function(e,o){t.push([o,e])}),l(t)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var T=['CONNECT','DELETE','GET','HEAD','OPTIONS','PATCH','POST','PUT','TRACE'];function g(t,o){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,s=(o=o||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError('Already read');this.url=t.url,this.credentials=t.credentials,o.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=o.credentials||this.credentials||'same-origin',!o.headers&&this.headers||(this.headers=new p(o.headers)),this.method=(n=o.method||this.method||'GET',i=n.toUpperCase(),T.indexOf(i)>-1?i:n),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal||(function(){if('AbortController'in e)return(new AbortController).signal})(),this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&s)throw new TypeError('Body not allowed for GET or HEAD requests');if(this._initBody(s),!('GET'!==this.method&&'HEAD'!==this.method||'no-store'!==o.cache&&'no-cache'!==o.cache)){var h=/([?&])_=[^&]*/;h.test(this.url)?this.url=this.url.replace(h,'$1_='+(new Date).getTime()):this.url+=(/\?/.test(this.url)?'&':'?')+'_='+(new Date).getTime()}}function x(t){var e=new FormData;return t.trim().split('&').forEach(function(t){if(t){var o=t.split('='),n=o.shift().replace(/\+/g,' '),i=o.join('=').replace(/\+/g,' ');e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function B(t,e){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type='default',this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?'':''+e.statusText,this.headers=new p(e.headers),this.url=e.url||'',this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},_.call(g.prototype),_.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},B.error=function(){var t=new B(null,{status:200,statusText:''});return t.ok=!1,t.status=0,t.type='error',t};var O=[301,302,303,307,308];B.redirect=function(t,e){if(-1===O.indexOf(e))throw new RangeError('Invalid status code');return new B(null,{status:e,headers:{location:t}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var o=Error(t);this.stack=o.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function P(o,n){return new Promise(function(s,u){var f=new g(o,n);if(f.signal&&f.signal.aborted)return u(new t.DOMException('Aborted','AbortError'));var l=new XMLHttpRequest;function b(){l.abort()}if(l.onload=function(){var t,e,o={statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||'',e=new p,t.replace(/\r?\n[\t ]+/g,' ').split('\r').map(function(t){return 0===t.indexOf('\n')?t.substr(1,t.length):t}).forEach(function(t){var o=t.split(':'),n=o.shift().trim();if(n){var i=o.join(':').trim();try{e.append(n,i)}catch(t){console.warn('Response '+t.message)}}}),e)};0===f.url.indexOf('file://')&&(l.status<200||l.status>599)?o.status=200:o.status=l.status,o.url='responseURL'in l?l.responseURL:o.headers.get('X-Request-URL');var n='response'in l?l.response:l.responseText;setTimeout(function(){s(new B(n,o))},0)},l.onerror=function(){setTimeout(function(){u(new TypeError('Network request failed'))},0)},l.ontimeout=function(){setTimeout(function(){u(new TypeError('Network request timed out'))},0)},l.onabort=function(){setTimeout(function(){u(new t.DOMException('Aborted','AbortError'))},0)},l.open(f.method,(function(t){try{return''===t&&e.location.href?e.location.href:t}catch(e){return t}})(f.url),!0),'include'===f.credentials?l.withCredentials=!0:'omit'===f.credentials&&(l.withCredentials=!1),'responseType'in l&&(i?l.responseType='blob':h&&(l.responseType='arraybuffer')),n&&'object'==typeof n.headers&&!(n.headers instanceof p||e.Headers&&n.headers instanceof e.Headers)){var w=[];Object.getOwnPropertyNames(n.headers).forEach(function(t){w.push(c(t)),l.setRequestHeader(t,y(n.headers[t]))}),f.headers.forEach(function(t,e){-1===w.indexOf(e)&&l.setRequestHeader(e,t)})}else f.headers.forEach(function(t,e){l.setRequestHeader(e,t)});f.signal&&(f.signal.addEventListener('abort',b),l.onreadystatechange=function(){4===l.readyState&&f.signal.removeEventListener('abort',b)}),l.send(void 0===f._bodyInit?null:f._bodyInit)})}P.polyfill=!0,e.fetch||(e.fetch=P,e.Headers=p,e.Request=g,e.Response=B),t.Headers=p,t.Request=g,t.Response=B,t.fetch=P,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof _e&&void 0!==m?e(_e):'function'==typeof define&&define.amd?define(['exports'],e):e(t.WHATWGFetch={})},133,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]),t=e(r(d[1])),o=e(r(d[2])),n=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),c=e(r(d[6])),l=e(r(d[7])),f=e(r(d[8])),h=e(r(d[9])),y=e(r(d[10])),b=e(r(d[11])),p=e(r(d[12])),v=e(r(d[13])),_=e(r(d[14])),E=e(r(d[15])),k=e(r(d[16])),S=["headers"];function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(I=function(){return!!e})()}var N=0,O=(function(e){function E(e,n,c){var l,f,y,v;(0,o.default)(this,E),f=this,y=E,y=(0,u.default)(y),(l=(0,s.default)(f,I()?Reflect.construct(y,v||[],(0,u.default)(f).constructor):y.apply(f,v))).CONNECTING=0,l.OPEN=1,l.CLOSING=2,l.CLOSED=3,l.readyState=0,l.url=e,'string'==typeof n&&(n=[n]);var _=c||{},k=_.headers,O=void 0===k?{}:k,w=(0,t.default)(_,S);return w&&'string'==typeof w.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),O.origin=w.origin,delete w.origin),Object.keys(w).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(w).join('`, `')+"`. Did you mean to put these under `headers`?"),Array.isArray(n)||(n=null),l._eventEmitter=new h.default('ios'!==b.default.OS?null:p.default),l._socketId=N++,l._registerEvents(),p.default.connect(e,n,{headers:O},l._socketId),l}return(0,c.default)(E,e),(0,n.default)(E,[{key:"binaryType",get:function(){return this._binaryType},set:function(e){if('blob'!==e&&'arraybuffer'!==e)throw new Error("binaryType must be either 'blob' or 'arraybuffer'");'blob'!==this._binaryType&&'blob'!==e||((0,k.default)(f.default.isAvailable,'Native module BlobModule is required for blob support'),'blob'===e?f.default.addWebSocketHandler(this._socketId):f.default.removeWebSocketHandler(this._socketId)),this._binaryType=e}},{key:"close",value:function(e,t){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(e,t))}},{key:"send",value:function(e){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(e instanceof l.default)return(0,k.default)(f.default.isAvailable,'Native module BlobModule is required for blob support'),void f.default.sendOverSocket(e,this._socketId);if('string'!=typeof e){if(!(e instanceof ArrayBuffer||ArrayBuffer.isView(e)))throw new Error('Unsupported data type');p.default.sendBinary((0,y.default)(e),this._socketId)}else p.default.send(e,this._socketId)}},{key:"ping",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');p.default.ping(this._socketId)}},{key:"_close",value:function(e,t){var o='number'==typeof e?e:1e3,n='string'==typeof t?t:'';p.default.close(o,n,this._socketId),f.default.isAvailable&&'blob'===this._binaryType&&f.default.removeWebSocketHandler(this._socketId)}},{key:"_unregisterEvents",value:function(){this._subscriptions.forEach(function(e){return e.remove()}),this._subscriptions=[]}},{key:"_registerEvents",value:function(){var e=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(t){if(t.id===e._socketId){var o=t.data;switch(t.type){case'binary':o=_.default.toByteArray(t.data).buffer;break;case'blob':o=f.default.createFromOptions(t.data)}e.dispatchEvent(new v.default('message',{data:o}))}}),this._eventEmitter.addListener('websocketOpen',function(t){t.id===e._socketId&&(e.readyState=e.OPEN,e.protocol=t.protocol,e.dispatchEvent(new v.default('open')))}),this._eventEmitter.addListener('websocketClosed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new v.default('close',{code:t.code,reason:t.reason})),e._unregisterEvents(),e.close())}),this._eventEmitter.addListener('websocketFailed',function(t){t.id===e._socketId&&(e.readyState=e.CLOSED,e.dispatchEvent(new v.default('error',{message:t.message})),e.dispatchEvent(new v.default('close',{code:1006,reason:t.message})),e._unregisterEvents(),e.close())})]}}])})(E.default.apply(void 0,['close','error','message','open']));O.CONNECTING=0,O.OPEN=1,O.CLOSING=2,O.CLOSED=3,m.exports=O},134,[1,135,12,13,23,25,28,119,116,126,129,33,137,139,124,115,20]);
__d(function(g,_r,_i,a,m,_e,d){m.exports=function(e,r){if(null==e)return{};var t,o,n=_r(d[0])(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n},m.exports.__esModule=!0,m.exports.default=m.exports},135,[136]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(-1!==e.indexOf(t))continue;n[t]=r[t]}return n},m.exports.__esModule=!0,m.exports.default=m.exports},136,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},137,[138]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('WebSocketModule')},138,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=t(function t(n,c){s(this,t),this.type=n.toString(),Object.assign(this,c)});m.exports=n},139,[13,12]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),n=r(d[1]),e=r(d[2]),u=r(d[3]),o=r(d[4]);function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}var s=(function(s){function l(n,o,s){var f,h,p,v;return t(this,l),r(d[5])(null!=n&&null!=o,'Failed to construct `File`: Must pass both `parts` and `name` arguments.'),h=this,v=[n,s],p=u(p=l),(f=e(h,c()?Reflect.construct(p,v||[],u(h).constructor):p.apply(h,v))).data.name=o,f}return o(l,s),n(l,[{key:"name",get:function(){return r(d[5])(null!=this.data.name,'Files must have a name set.'),this.data.name}},{key:"lastModified",get:function(){return this.data.lastModified||0}}])})(r(d[6]));m.exports=s},140,[12,13,23,25,28,20,119]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]),e=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),s=t(r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=t(r(d[7]));function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}var h=(function(t){function f(){var t,o,u,l;return(0,e.default)(this,f),o=this,u=f,u=(0,s.default)(u),(t=(0,n.default)(o,y()?Reflect.construct(u,l||[],(0,s.default)(o).constructor):u.apply(o,l))).EMPTY=0,t.LOADING=1,t.DONE=2,t._aborted=!1,t._reset(),t}return(0,u.default)(f,t),(0,o.default)(f,[{key:"_reset",value:function(){this._readyState=0,this._error=null,this._result=null}},{key:"_setReadyState",value:function(t){this._readyState=t,this.dispatchEvent({type:'readystatechange'}),2===t&&(this._aborted?this.dispatchEvent({type:'abort'}):this._error?this.dispatchEvent({type:'error'}):this.dispatchEvent({type:'load'}),this.dispatchEvent({type:'loadend'}))}},{key:"readAsArrayBuffer",value:function(t){var e=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsArrayBuffer' on 'FileReader': parameter 1 is not of type 'Blob'");l.default.readAsDataURL(t.data).then(function(t){if(!e._aborted){var o=t.split(',')[1],n=(0,r(d[8]).toByteArray)(o);e._result=n.buffer,e._setReadyState(2)}},function(t){e._aborted||(e._error=t,e._setReadyState(2))})}},{key:"readAsDataURL",value:function(t){var e=this;if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsDataURL' on 'FileReader': parameter 1 is not of type 'Blob'");l.default.readAsDataURL(t.data).then(function(t){e._aborted||(e._result=t,e._setReadyState(2))},function(t){e._aborted||(e._error=t,e._setReadyState(2))})}},{key:"readAsText",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'UTF-8';if(this._aborted=!1,null==t)throw new TypeError("Failed to execute 'readAsText' on 'FileReader': parameter 1 is not of type 'Blob'");l.default.readAsText(t.data,o).then(function(t){e._aborted||(e._result=t,e._setReadyState(2))},function(t){e._aborted||(e._error=t,e._setReadyState(2))})}},{key:"abort",value:function(){this._aborted=!0,0!==this._readyState&&2!==this._readyState&&(this._reset(),this._setReadyState(2)),this._reset()}},{key:"readyState",get:function(){return this._readyState}},{key:"error",get:function(){return this._error}},{key:"result",get:function(){return this._result}}])})(f.default.apply(void 0,['abort','error','load','loadstart','loadend','progress']));h.EMPTY=0,h.LOADING=1,h.DONE=2,m.exports=h},141,[1,12,13,23,25,28,142,115,124]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},142,[143]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('FileReaderModule')},143,[36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0,Object.defineProperty(e,"URLSearchParams",{enumerable:!0,get:function(){return r(d[1]).URLSearchParams}});var n=t(r(d[2])),o=t(r(d[3])),s=t(r(d[4])),u=null;if(s.default&&'string'==typeof s.default.getConstants().BLOB_URI_SCHEME){var f=s.default.getConstants();u=f.BLOB_URI_SCHEME+':','string'==typeof f.BLOB_URI_HOST&&(u+=`//${f.BLOB_URI_HOST}/`)}function h(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)*(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/.test(t)}e.URL=(function(){return(0,o.default)(function t(o,s){(0,n.default)(this,t),this._searchParamsInstance=null;var u=null;if(!s||h(o))this._url=o,this._url.endsWith('/')||(this._url+='/');else{if('string'==typeof s){if(!h(u=s))throw new TypeError(`Invalid base URL: ${u}`)}else u=s.toString();u.endsWith('/')&&(u=u.slice(0,u.length-1)),o.startsWith('/')||(o=`/${o}`),u.endsWith(o)&&(o=''),this._url=`${u}${o}`}},[{key:"hash",get:function(){throw new Error('URL.hash is not implemented')}},{key:"host",get:function(){throw new Error('URL.host is not implemented')}},{key:"hostname",get:function(){throw new Error('URL.hostname is not implemented')}},{key:"href",get:function(){return this.toString()}},{key:"origin",get:function(){throw new Error('URL.origin is not implemented')}},{key:"password",get:function(){throw new Error('URL.password is not implemented')}},{key:"pathname",get:function(){throw new Error('URL.pathname not implemented')}},{key:"port",get:function(){throw new Error('URL.port is not implemented')}},{key:"protocol",get:function(){throw new Error('URL.protocol is not implemented')}},{key:"search",get:function(){throw new Error('URL.search is not implemented')}},{key:"searchParams",get:function(){return null==this._searchParamsInstance&&(this._searchParamsInstance=new URLSearchParams),this._searchParamsInstance}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){if(null===this._searchParamsInstance)return this._url;var t=this._searchParamsInstance.toString(),n=this._url.indexOf('?')>-1?'&':'?';return this._url+n+t}},{key:"username",get:function(){throw new Error('URL.username is not implemented')}}],[{key:"createObjectURL",value:function(t){if(null===u)throw new Error('Cannot create URL for blob!');return`${u}${t.data.blobId}?offset=${t.data.offset}&size=${t.size}`}},{key:"revokeObjectURL",value:function(t){}}])})()},144,[1,145,12,13,117]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.URLSearchParams=void 0;var n=t(r(d[1])),o=t(r(d[2]));e.URLSearchParams=(function(){return(0,o.default)(function t(o){var s=this;(0,n.default)(this,t),this._searchParams=[],'object'==typeof o&&Object.keys(o).forEach(function(t){return s.append(t,o[t])})},[{key:"append",value:function(t,n){this._searchParams.push([t,n])}},{key:"delete",value:function(t){throw new Error('URLSearchParams.delete is not implemented')}},{key:"get",value:function(t){throw new Error('URLSearchParams.get is not implemented')}},{key:"getAll",value:function(t){throw new Error('URLSearchParams.getAll is not implemented')}},{key:"has",value:function(t){throw new Error('URLSearchParams.has is not implemented')}},{key:"set",value:function(t,n){throw new Error('URLSearchParams.set is not implemented')}},{key:"sort",value:function(){throw new Error('URLSearchParams.sort is not implemented')}},{key:Symbol.iterator,value:function(){return this._searchParams[Symbol.iterator]()}},{key:"toString",value:function(){if(0===this._searchParams.length)return'';var t=this._searchParams.length-1;return this._searchParams.reduce(function(n,o,s){return n+encodeURIComponent(o[0])+'='+encodeURIComponent(o[1])+(s===t?'':'&')},'')}}])})()},145,[1,12,13]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]),e=r(d[1]),o=r(d[2]),n=r(d[3]),l=r(d[4]);function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}Object.defineProperty(_e,'__esModule',{value:!0});var c=(function(c){function p(){var e,l,c;throw t(this,p),e=this,l=n(l=p),o(e,u()?Reflect.construct(l,c||[],n(e).constructor):l.apply(e,c)),new TypeError("AbortSignal cannot be constructed directly")}return l(p,c),e(p,[{key:"aborted",get:function(){var t=b.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}])})(r(d[5]).EventTarget);r(d[5]).defineEventAttribute(c.prototype,"abort");var b=new WeakMap;Object.defineProperties(c.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(c.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var p=(function(){return e(function e(){var o;t(this,e),f.set(this,(o=Object.create(c.prototype),r(d[5]).EventTarget.call(o),b.set(o,!1),o))},[{key:"signal",get:function(){return y(this)}},{key:"abort",value:function(){var t;t=y(this),!1===b.get(t)&&(b.set(t,!0),t.dispatchEvent({type:"abort"}))}}])})(),f=new WeakMap;function y(t){var e=f.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(p.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(p.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),_e.AbortController=p,_e.AbortSignal=c,_e.default=p,m.exports=p,m.exports.AbortController=m.exports.default=p,m.exports.AbortSignal=c},146,[12,13,23,25,28,147]);
__d(function(g,r,_i,a,m,e,d){
/**
   * @author Toru Nagashima <https://github.com/mysticatea>
   * @copyright 2015 Toru Nagashima. All rights reserved.
   * See LICENSE file in root directory for full license.
   */
'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=new WeakMap,n=new WeakMap;function o(n){var o=t.get(n);return console.assert(null!=o,"'this' is expected an Event object, but got",n),o}function i(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function l(n,o){t.set(this,{eventTarget:n,event:o,eventPhase:2,currentTarget:n,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:o.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});for(var i=Object.keys(o),l=0;l<i.length;++l){var s=i[l];s in this||Object.defineProperty(this,s,u(s))}}function u(t){return{get:function(){return o(this).event[t]},set:function(n){o(this).event[t]=n},configurable:!0,enumerable:!0}}function s(t){return{value:function(){var n=o(this).event;return n[t].apply(n,arguments)},configurable:!0,enumerable:!0}}function p(t,n){var o=Object.keys(n);if(0===o.length)return t;function i(n,o){t.call(this,n,o)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(var l=0;l<o.length;++l){var p=o[l];if(!(p in t.prototype)){var c="function"==typeof Object.getOwnPropertyDescriptor(n,p).value;Object.defineProperty(i.prototype,p,c?s(p):u(p))}}return i}function c(t){if(null==t||t===Object.prototype)return l;var o=n.get(t);return null==o&&(o=p(c(Object.getPrototypeOf(t)),t),n.set(t,o)),o}function f(t,n){return new(c(Object.getPrototypeOf(n)))(t,n)}function v(t){return o(t).immediateStopped}function y(t,n){o(t).eventPhase=n}function b(t,n){o(t).currentTarget=n}function h(t,n){o(t).passiveListener=n}l.prototype={get type(){return o(this).event.type},get target(){return o(this).eventTarget},get currentTarget(){return o(this).currentTarget},composedPath:function(){var t=o(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return o(this).eventPhase},stopPropagation:function(){var t=o(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation:function(){var t=o(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(o(this).event.bubbles)},get cancelable(){return Boolean(o(this).event.cancelable)},preventDefault:function(){i(o(this))},get defaultPrevented(){return o(this).canceled},get composed(){return Boolean(o(this).event.composed)},get timeStamp(){return o(this).timeStamp},get srcElement(){return o(this).eventTarget},get cancelBubble(){return o(this).stopped},set cancelBubble(t){if(t){var n=o(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)}},get returnValue(){return!o(this).canceled},set returnValue(t){t||i(o(this))},initEvent:function(){}},Object.defineProperty(l.prototype,"constructor",{value:l,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(l.prototype,window.Event.prototype),n.set(window.Event.prototype,l));var w=new WeakMap;function T(t){return null!==t&&"object"==typeof t}function P(t){var n=w.get(t);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function x(t){return{get:function(){for(var n=P(this).get(t);null!=n;){if(3===n.listenerType)return n.listener;n=n.next}return null},set:function(n){"function"==typeof n||T(n)||(n=null);for(var o=P(this),i=null,l=o.get(t);null!=l;)3===l.listenerType?null!==i?i.next=l.next:null!==l.next?o.set(t,l.next):o.delete(t):i=l,l=l.next;if(null!==n){var u={listener:n,listenerType:3,passive:!1,once:!1,next:null};null===i?o.set(t,u):i.next=u}},configurable:!0,enumerable:!0}}function E(t,n){Object.defineProperty(t,`on${n}`,x(n))}function O(t){function n(){j.call(this)}n.prototype=Object.create(j.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(var o=0;o<t.length;++o)E(n.prototype,t[o]);return n}function j(){if(!(this instanceof j)){if(1===arguments.length&&Array.isArray(arguments[0]))return O(arguments[0]);if(arguments.length>0){for(var t=new Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return O(t)}throw new TypeError("Cannot call a class as a function")}w.set(this,new Map)}j.prototype={addEventListener:function(t,n,o){if(null!=n){if("function"!=typeof n&&!T(n))throw new TypeError("'listener' should be a function or an object.");var i=P(this),l=T(o),u=(l?Boolean(o.capture):Boolean(o))?1:2,s={listener:n,listenerType:u,passive:l&&Boolean(o.passive),once:l&&Boolean(o.once),next:null},p=i.get(t);if(void 0!==p){for(var c=null;null!=p;){if(p.listener===n&&p.listenerType===u)return;c=p,p=p.next}c.next=s}else i.set(t,s)}},removeEventListener:function(t,n,o){if(null!=n)for(var i=P(this),l=(T(o)?Boolean(o.capture):Boolean(o))?1:2,u=null,s=i.get(t);null!=s;){if(s.listener===n&&s.listenerType===l)return void(null!==u?u.next=s.next:null!==s.next?i.set(t,s.next):i.delete(t));u=s,s=s.next}},dispatchEvent:function(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');var n=P(this),o=t.type,i=n.get(o);if(null==i)return!0;for(var l=f(this,t),u=null;null!=i;){if(i.once?null!==u?u.next=i.next:null!==i.next?n.set(o,i.next):n.delete(o):u=i,h(l,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,l)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(l);if(v(l))break;i=i.next}return h(l,null),y(l,0),b(l,null),!l.defaultPrevented}},Object.defineProperty(j.prototype,"constructor",{value:j,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(j.prototype,window.EventTarget.prototype),e.defineEventAttribute=E,e.EventTarget=j,e.default=j,m.exports=j,m.exports.EventTarget=m.exports.default=j,m.exports.defineEventAttribute=E},147,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.alert||(g.alert=function(t){r(d[0]).alert('Alert',''+t)})},148,[149]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),u=(function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"alert",value:function(n,o,l,u){if('ios'===s.default.OS)t.prompt(n,o,l,'default',void 0,void 0,u);else if('android'===s.default.OS){var c=r(d[5]).default;if(!c)return;var f=c.getConstants(),v={title:n||'',message:o||'',cancelable:!1};u&&u.cancelable&&(v.cancelable=u.cancelable);var p=l?l.slice(0,3):[{text:"OK"}],y=p.pop(),b=p.pop(),h=p.pop();h&&(v.buttonNeutral=h.text||''),b&&(v.buttonNegative=b.text||''),y&&(v.buttonPositive=y.text||"OK");c.showAlert(v,function(t){return console.warn(t)},function(t,n){t===f.buttonClicked?n===f.buttonNeutral?h.onPress&&h.onPress():n===f.buttonNegative?b.onPress&&b.onPress():n===f.buttonPositive&&y.onPress&&y.onPress():t===f.dismissed&&u&&u.onDismiss&&u.onDismiss()})}}},{key:"prompt",value:function(t,n,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:'plain-text',c=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0,v=arguments.length>6?arguments[6]:void 0;if('ios'===s.default.OS){var p,y,b,h=[],P=[];'function'==typeof o?h=[o]:Array.isArray(o)&&o.forEach(function(t,n){if(h[n]=t.onPress,'cancel'===t.style?p=String(n):'destructive'===t.style&&(y=String(n)),t.isPreferred&&(b=String(n)),t.text||n<(o||[]).length-1){var s={};s[n]=t.text||'',P.push(s)}}),l.default.alertWithArgs({title:t||'',message:n||void 0,buttons:P,type:u||void 0,defaultValue:c,cancelButtonKey:p,destructiveButtonKey:y,preferredButtonKey:b,keyboardType:f,userInterfaceStyle:(null==v?void 0:v.userInterfaceStyle)||void 0},function(t,n){var o=h[t];o&&o(n)})}}}])})();m.exports=u},149,[1,12,13,33,150,151]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));function n(){}m.exports={alertWithArgs:function(f,o){t.default&&t.default.showAlert(f,n,o||n)}}},150,[1,151]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},151,[152]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('DialogManagerAndroid')},152,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=g.navigator;void 0===t?g.navigator={product:'ReactNative'}:r(d[0]).polyfillObjectProperty(t,'product',function(){return'ReactNative'})},153,[65]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]));(0,t.default)('Systrace',function(){return r(d[2])}),!0!==g.RN$Bridgeless&&(0,t.default)('JSTimers',function(){return r(d[3])}),(0,t.default)('RCTLog',function(){return r(d[4])}),(0,t.default)('RCTDeviceEventEmitter',function(){return r(d[5]).default}),(0,t.default)('RCTNativeAppEventEmitter',function(){return r(d[6])}),(0,t.default)('GlobalPerformanceLogger',function(){return r(d[7])}),(0,t.default)('HMRClient',function(){return r(d[8])})},154,[1,3,17,106,155,22,156,121,157]);
__d(function(g,r,i,a,m,e,d){'use strict';var o={log:'log',info:'info',warn:'warn',error:'error',fatal:'error'},n=null,l={logIfNoNativeHook:function(o){for(var t=arguments.length,f=new Array(t>1?t-1:0),c=1;c<t;c++)f[c-1]=arguments[c];void 0===g.nativeLoggingHook?l.logToConsole.apply(l,[o].concat(f)):n&&'warn'===o&&n.apply(void 0,f)},logToConsole:function(n){var l,t=o[n];r(d[0])(t,'Level "'+n+'" not one of '+Object.keys(o).toString());for(var f=arguments.length,c=new Array(f>1?f-1:0),v=1;v<f;v++)c[v-1]=arguments[v];(l=console)[t].apply(l,c)},setWarningHandler:function(o){n=o}};m.exports=l},155,[20]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])).default;m.exports=t},156,[1,22]);
__d(function(g,r,i,a,m,e,d){'use strict';var n={setup:function(){},enable:function(){console.error("Fast Refresh is disabled in JavaScript bundles built in production mode. Did you forget to run Metro?")},disable:function(){},registerBundle:function(){},log:function(){}};m.exports=n},157,[]);
__d(function(g,r,i,a,m,e,d){'use strict';g.__fetchSegment=function(n,t,c){r(d[0]).default.fetchSegment(n,t,function(n){if(n){var t=new Error(n.message);return t.code=n.code,void c(t)}c(null)})}},158,[159]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},159,[160]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('SegmentFetcher')},160,[36]);
__d(function(g,r,i,a,m,e,d){var n,t,o=r(d[0]),s=o(r(d[1])),u=o(r(d[2])),c=o(r(d[3])),f=o(r(d[4])),l=o(r(d[5])),p=o(r(d[6])),y=o(r(d[7])),h=o(r(d[8])),k=o(r(d[9])),R={},A=1,C={},v=new Map,S=new Map,b=function(n){return n()},T={setWrapperComponentProvider:function(t){n=t},setRootViewStyleProvider:function(n){t=n},registerConfig:function(n){n.forEach(function(n){n.run?T.registerRunnable(n.appKey,n.run):((0,k.default)(null!=n.component,"AppRegistry.registerConfig(...): Every config is expected to set either `run` or `component`, but `%s` has neither.",n.appKey),T.registerComponent(n.appKey,n.component,n.section))})},registerComponent:function(o,s,u){var f=(0,c.default)();return R[o]=function(u,c){(0,h.default)(b(s,f),u.initialProps,u.rootTag,n&&n(u),t&&t(u),u.fabric,f,'LogBox'===o,o,c)},u&&(C[o]=R[o]),o},registerRunnable:function(n,t){return R[n]=t,n},registerSection:function(n,t){T.registerComponent(n,t,!0)},getAppKeys:function(){return Object.keys(R)},getSectionKeys:function(){return Object.keys(C)},getSections:function(){return Object.assign({},C)},getRunnable:function(n){return R[n]},getRegistry:function(){return{sections:T.getSectionKeys(),runnables:Object.assign({},R)}},setComponentProviderInstrumentationHook:function(n){b=n},runApplication:function(n,t,o){if('LogBox'!==n){var u=`Running "${n}"`;(0,f.default)(u),s.default.addSource('AppRegistry.runApplication'+A++,function(){return u})}(0,k.default)(R[n],`"${n}" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and \`AppRegistry.registerComponent\` wasn't called.`),l.default.setActiveScene({name:n}),R[n](t,(0,r(d[10]).coerceDisplayMode)(o))},setSurfaceProps:function(n,t,o){if('LogBox'!==n){var u='Updating props for Surface "'+n+'" with '+JSON.stringify(t);(0,f.default)(u),s.default.addSource('AppRegistry.setSurfaceProps'+A++,function(){return u})}(0,k.default)(R[n],`"${n}" has not been registered. This can happen if:\n* Metro (the local dev server) is run from the wrong folder. Check if Metro is running, stop it and restart it in the current project.\n* A module failed to load due to an error and \`AppRegistry.registerComponent\` wasn't called.`),R[n](t,(0,r(d[10]).coerceDisplayMode)(o))},unmountApplicationComponentAtRootTag:function(n){(0,r(d[11]).unmountComponentAtNodeAndRemoveContainer)(n)},registerHeadlessTask:function(n,t){this.registerCancellableHeadlessTask(n,t,function(){return function(){}})},registerCancellableHeadlessTask:function(n,t,o){v.has(n)&&console.warn(`registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '${n}'`),v.set(n,t),S.set(n,o)},startHeadlessTask:function(n,t,o){var s=v.get(t);if(!s)return console.warn(`No task registered for key ${t}`),void(y.default&&y.default.notifyTaskFinished(n));s()(o).then(function(){y.default&&y.default.notifyTaskFinished(n)}).catch(function(t){console.error(t),y.default&&t instanceof p.default&&y.default.notifyTaskRetry(n).then(function(t){t||y.default.notifyTaskFinished(n)})})},cancelHeadlessTask:function(n,t){var o=S.get(t);if(!o)throw new Error(`No task canceller registered for key '${t}'`);o()()}};T.registerComponent('LogBox',function(){return function(){return null}}),g.RN$AppRegistry=T,g.RN$SurfaceRegistry={renderSurface:T.runApplication,setSurfaceProps:T.setSurfaceProps},(0,u.default)('AppRegistry',T),m.exports=T},161,[1,162,3,122,123,168,169,170,172,20,225,57]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),u=t(r(d[1])),l=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6]));function f(){_.addFileSource('react_hierarchy.txt',function(){return r(d[7])()})}var _=(function(){function t(){(0,l.default)(this,t)}return(0,n.default)(t,null,[{key:"_maybeInit",value:function(){t._subscription||(t._subscription=o.default.addListener('collectBugExtraData',t.collectExtraData,null),f()),t._redboxSubscription||(t._redboxSubscription=o.default.addListener('collectRedBoxExtraData',t.collectExtraData,null))}},{key:"addSource",value:function(u,l){return this._addSource(u,l,t._extraSources)}},{key:"addFileSource",value:function(u,l){return this._addSource(u,l,t._fileSources)}},{key:"_addSource",value:function(u,l,n){return t._maybeInit(),n.has(u)&&console.warn(`BugReporting.add* called multiple times for same key '${u}'`),n.set(u,l),{remove:function(){n.delete(u)}}}},{key:"collectExtraData",value:function(){var l={};for(var n of t._extraSources){var o=(0,u.default)(n,2),f=o[0],_=o[1];l[f]=_()}var x={};for(var S of t._fileSources){var v=(0,u.default)(S,2),p=v[0],b=v[1];x[p]=b()}return null!=s.default&&null!=s.default.setExtraData&&s.default.setExtraData(l,x),null!=c.default&&null!=c.default.setExtraData&&c.default.setExtraData(l,'From BugReporting.js'),{extras:l,files:x}}}])})();_._extraSources=new Map,_._fileSources=new Map,_._subscription=null,_._redboxSubscription=null,m.exports=_},162,[1,38,12,13,22,163,165,167]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},163,[164]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('RedBox')},164,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},165,[166]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('BugReporting')},166,[36]);
__d(function(g,r,i,a,m,_e,d){'use strict';m.exports=function(){try{return"React tree dumps have been temporarily disabled while React is upgraded to Fiber."}catch(e){return'Failed to dump react tree: '+e}}},167,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=[],t={name:'default'},c={setActiveScene:function(c){t=c,n.forEach(function(n){return n(t)})},getActiveScene:function(){return t},addActiveSceneChangedListener:function(t){return n.push(t),{remove:function(){n=n.filter(function(n){return t!==n})}}}};m.exports=c},168,[]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),l=t(r(d[6]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}_e.default=(function(t){function l(){return(0,u.default)(this,l),t=this,e=l,f=arguments,e=(0,o.default)(e),(0,n.default)(t,c()?Reflect.construct(e,f||[],(0,o.default)(t).constructor):e.apply(t,f));var t,e,f}return(0,f.default)(l,t),(0,e.default)(l)})((0,l.default)(Error))},169,[1,13,12,23,25,28,85]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},170,[171]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('HeadlessJsTaskSupport')},171,[36]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,f,s,p,v,_,b,j,x,y,P){(0,l.default)(s,'Expect to have a valid rootTag, instead got ',s);var R=null!=b?b:t.default,h=(0,c.jsx)(r.default.Provider,{value:R,children:(0,c.jsx)(n.default,{rootTag:s,fabric:_,WrapperComponent:p,rootViewStyle:v,initialProps:null!=f?f:Object.freeze({}),internal_excludeLogBox:j,children:(0,c.jsx)(e,Object.assign({},f,{rootTag:s}))})});if(P&&null!=y){var O=u.unstable_Activity;h=(0,c.jsx)(O,{mode:y===o.default.VISIBLE?'visible':'hidden',children:h})}var E=Boolean(_);R.startTimespan('renderApplication_React_render'),R.setExtra('usedReactConcurrentRoot',E?'1':'0'),R.setExtra('usedReactFabric',_?'1':'0'),R.setExtra('usedReactProfiler',i.isProfilingRenderer()),i.renderElement({element:h,rootTag:s,useFabric:Boolean(_),useConcurrentRoot:E}),R.stopTimespan('renderApplication_React_render')};var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),i=(e(_r(d[5])),f(_r(d[6]))),l=e(_r(d[7])),u=f(_r(d[8]));_r(d[9]);var c=_r(d[10]);function f(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(f=function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(l,u,i):l[u]=e[u]);return l})(e,t)}},172,[1,121,173,176,225,226,57,20,174,227,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.usePerformanceLogger=function(){return(0,r.useContext)(n)};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[2]));var n=r.createContext(t.default);_e.default=n},173,[1,121,174]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},174,[175]);
__d(function(g,r,_i,a,m,e,d){
/**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),s=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),h=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function S(t,n,o){this.props=t,this.context=n,this.refs=b,this.updater=o||v}function E(){}function w(t,n,o){this.props=t,this.context=n,this.refs=b,this.updater=o||v}S.prototype.isReactComponent={},S.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")},S.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},E.prototype=S.prototype;var j=w.prototype=new E;j.constructor=w,_(j,S.prototype),j.isPureReactComponent=!0;var H=Array.isArray,k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function $(n,o,u,i,c,s){return u=s.ref,{$$typeof:t,type:n,key:o,ref:void 0!==u?u:null,props:s}}function C(n){return"object"==typeof n&&null!==n&&n.$$typeof===t}var T=/\/+/g;function x(t,n){return"object"==typeof t&&null!==t&&null!=t.key?(o=""+t.key,u={"=":"=0",":":"=2"},"$"+o.replace(/[=:]/g,function(t){return u[t]})):n.toString(36);var o,u}function A(){}function O(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(A,A):(t.status="pending",t.then(function(n){"pending"===t.status&&(t.status="fulfilled",t.value=n)},function(n){"pending"===t.status&&(t.status="rejected",t.reason=n)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function I(o,u,i,c,s){var f=typeof o;"undefined"!==f&&"boolean"!==f||(o=null);var l,p,v=!1;if(null===o)v=!0;else switch(f){case"bigint":case"string":case"number":v=!0;break;case"object":switch(o.$$typeof){case t:case n:v=!0;break;case y:return I((v=o._init)(o._payload),u,i,c,s)}}if(v)return s=s(o),v=""===c?"."+x(o,0):c,H(s)?(i="",null!=v&&(i=v.replace(T,"$&/")+"/"),I(s,u,i,"",function(t){return t})):null!=s&&(C(s)&&(l=s,p=i+(null==s.key||o&&o.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+v,s=$(l.type,p,void 0,0,0,l.props)),u.push(s)),1;v=0;var _,b=""===c?".":c+":";if(H(o))for(var S=0;S<o.length;S++)v+=I(c=o[S],u,i,f=b+x(c,S),s);else if("function"==typeof(S=null===(_=o)||"object"!=typeof _?null:"function"==typeof(_=h&&_[h]||_["@@iterator"])?_:null))for(o=S.call(o),S=0;!(c=o.next()).done;)v+=I(c=c.value,u,i,f=b+x(c,S++),s);else if("object"===f){if("function"==typeof o.then)return I(O(o),u,i,c,s);throw u=String(o),Error("Objects are not valid as a React child (found: "+("[object Object]"===u?"object with keys {"+Object.keys(o).join(", ")+"}":u)+"). If you meant to render a collection of children, use an array instead.")}return v}function P(t,n,o){if(null==t)return t;var u=[],i=0;return I(t,u,"","",function(t){return n.call(o,t,i++)}),u}function N(t){if(-1===t._status){var n=t._result;(n=n()).then(function(n){0!==t._status&&-1!==t._status||(t._status=1,t._result=n)},function(n){0!==t._status&&-1!==t._status||(t._status=2,t._result=n)}),-1===t._status&&(t._status=0,t._result=n)}if(1===t._status)return t._result.default;throw t._result}var U="function"==typeof reportError?reportError:function(t){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof t&&null!==t&&"string"==typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function V(){}e.Children={map:P,forEach:function(t,n,o){P(t,function(){n.apply(this,arguments)},o)},count:function(t){var n=0;return P(t,function(){n++}),n},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=S,e.Fragment=o,e.Profiler=i,e.PureComponent=w,e.StrictMode=u,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,e.act=function(){throw Error("act(...) is not supported in production builds of React.")},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,n,o){if(null==t)throw Error("The argument must be a React element, but you passed "+t+".");var u=_({},t.props),i=t.key;if(null!=n)for(c in void 0!==n.ref&&void 0,void 0!==n.key&&(i=""+n.key),n)!R.call(n,c)||"key"===c||"__self"===c||"__source"===c||"ref"===c&&void 0===n.ref||(u[c]=n[c]);var c=arguments.length-2;if(1===c)u.children=o;else if(1<c){for(var s=Array(c),f=0;f<c;f++)s[f]=arguments[f+2];u.children=s}return $(t.type,i,void 0,0,0,u)},e.createContext=function(t){return(t={$$typeof:s,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:c,_context:t},t},e.createElement=function(t,n,o){var u,i={},c=null;if(null!=n)for(u in void 0!==n.key&&(c=""+n.key),n)R.call(n,u)&&"key"!==u&&"__self"!==u&&"__source"!==u&&(i[u]=n[u]);var s=arguments.length-2;if(1===s)i.children=o;else if(1<s){for(var f=Array(s),l=0;l<s;l++)f[l]=arguments[l+2];i.children=f}if(t&&t.defaultProps)for(u in s=t.defaultProps)void 0===i[u]&&(i[u]=s[u]);return $(t,c,void 0,0,0,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:y,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,n){return{$$typeof:p,type:t,compare:void 0===n?null:n}},e.startTransition=function(t){var n=k.T,o={};k.T=o;try{var u=t(),i=k.S;null!==i&&i(o,u),"object"==typeof u&&null!==u&&"function"==typeof u.then&&u.then(V,U)}catch(t){U(t)}finally{k.T=n}},e.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},e.use=function(t){return k.H.use(t)},e.useActionState=function(t,n,o){return k.H.useActionState(t,n,o)},e.useCallback=function(t,n){return k.H.useCallback(t,n)},e.useContext=function(t){return k.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,n){return k.H.useDeferredValue(t,n)},e.useEffect=function(t,n){return k.H.useEffect(t,n)},e.useId=function(){return k.H.useId()},e.useImperativeHandle=function(t,n,o){return k.H.useImperativeHandle(t,n,o)},e.useInsertionEffect=function(t,n){return k.H.useInsertionEffect(t,n)},e.useLayoutEffect=function(t,n){return k.H.useLayoutEffect(t,n)},e.useMemo=function(t,n){return k.H.useMemo(t,n)},e.useOptimistic=function(t,n){return k.H.useOptimistic(t,n)},e.useReducer=function(t,n,o){return k.H.useReducer(t,n,o)},e.useRef=function(t){return k.H.useRef(t)},e.useState=function(t){return k.H.useState(t)},e.useSyncExternalStore=function(t,n,o){return k.H.useSyncExternalStore(t,n,o)},e.useTransition=function(){return k.H.useTransition()},e.version="19.0.0"},175,[]);
__d(function(g,_r,_i,a,m,_e,d){!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i])})(e,t)})(_r(d[0]));var e=_r(d[1]).default;m.exports=e},176,[174,177]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?n(l,f,i):l[f]=e[f])})(e,t)})(_r(d[3])),_r(d[4]));var n=r.default.create({root:{flex:1}});_e.default=function(e){var r=e.children,i=e.fabric,l=e.initialProps,f=e.rootTag,u=e.WrapperComponent,c=e.rootViewStyle,p=r;return null!=u&&(p=(0,o.jsx)(u,{initialProps:l,fabric:!0===i,children:p})),(0,o.jsx)(_r(d[5]).RootTagContext.Provider,{value:(0,_r(d[5]).createRootTag)(f),children:(0,o.jsx)(t.default,{style:c||n.root,pointerEvents:"box-none",children:p})})}},177,[1,178,221,174,219,224]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),l=e(_r(d[1])),i=e(_r(d[2])),n=e(_r(d[3])),t=(function(e,l){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(e,l){if(!l&&e&&e.__esModule)return e;var t,s,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(t=l?n:i){if(t.has(e))return t.get(e);t.set(e,u)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((s=(t=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(s.get||s.set)?t(u,c,s):u[c]=e[c]);return u})(e,l)})(_r(d[4])),s=_r(d[5]),u=["accessibilityElementsHidden","accessibilityLabel","accessibilityLabelledBy","accessibilityLiveRegion","accessibilityState","accessibilityValue","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-hidden","aria-label","aria-labelledby","aria-live","aria-selected","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","focusable","id","importantForAccessibility","nativeID","tabIndex"];var c=t.forwardRef(function(e,c){var r,o,b,y=e.accessibilityElementsHidden,v=e.accessibilityLabel,f=e.accessibilityLabelledBy,p=e.accessibilityLiveRegion,x=e.accessibilityState,h=e.accessibilityValue,w=e['aria-busy'],L=e['aria-checked'],_=e['aria-disabled'],k=e['aria-expanded'],j=e['aria-hidden'],I=e['aria-label'],O=e['aria-labelledby'],D=e['aria-live'],M=e['aria-selected'],P=e['aria-valuemax'],R=e['aria-valuemin'],V=e['aria-valuenow'],A=e['aria-valuetext'],B=e.focusable,E=e.id,F=e.importantForAccessibility,H=e.nativeID,S=e.tabIndex,W=(0,l.default)(e,u),C=t.useContext(i.default),N=null!=(r=null==O?void 0:O.split(/\s*,\s*/g))?r:f;null==x&&null==w&&null==L&&null==_&&null==k&&null==M||(o={busy:null!=w?w:null==x?void 0:x.busy,checked:null!=L?L:null==x?void 0:x.checked,disabled:null!=_?_:null==x?void 0:x.disabled,expanded:null!=k?k:null==x?void 0:x.expanded,selected:null!=M?M:null==x?void 0:x.selected}),null==h&&null==P&&null==R&&null==V&&null==A||(b={max:null!=P?P:null==h?void 0:h.max,min:null!=R?R:null==h?void 0:h.min,now:null!=V?V:null==h?void 0:h.now,text:null!=A?A:null==h?void 0:h.text});var q=(0,s.jsx)(n.default,Object.assign({},W,{accessibilityLiveRegion:'off'===D?'none':null!=D?D:p,accessibilityLabel:null!=I?I:v,focusable:void 0!==S?!S:B,accessibilityState:o,accessibilityElementsHidden:null!=j?j:y,accessibilityLabelledBy:N,accessibilityValue:b,importantForAccessibility:!0===j?'no-hide-descendants':F,nativeID:null!=E?E:H,ref:c}));return C?(0,s.jsx)(i.default.Provider,{value:!1,children:q}):q});c.displayName='View',m.exports=c},178,[1,135,179,180,174,219]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).createContext(!1);m.exports=t},179,[174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[1])),r=e(_r(d[2]));var n=t.get('RCTView',function(){return{uiViewClassName:'RCTView'}});_e.Commands=(0,r.default)({supportedCommands:['hotspotUpdate','setPressed']}),_e.default=n},180,[1,181,218]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.get=f,_e.getWithFallback_DEPRECATED=function(e,t){if(null==n){if(c(e))return f(e,t)}else if(null!=n(e))return f(e,t);var i=function(e){return null};return i.displayName=`Fallback(${e})`,i},_e.setRuntimeConfigProvider=function(e){void 0===n&&(n=e)},_e.unstable_hasStaticViewConfig=function(e){var t;return!(null!=(t=null==n?void 0:n(e))?t:{native:!0}).native};var n,t=e(_r(d[1])),i=e(_r(d[2])),r=o(_r(d[3])),l=o(_r(d[4])),u=e(_r(d[5]));o(_r(d[6]));function o(e,n){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(o=function(e,n){if(!n&&e&&e.__esModule)return e;var r,l,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=n?i:t){if(r.has(e))return r.get(e);r.set(e,u)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(l.get||l.set)?r(u,o,l):u[o]=e[o]);return u})(e,n)}function f(e,i){return r.register(e,function(){var r,o,f,c,v=null!=(r=null==n?void 0:n(e))?r:{native:!g.RN$Bridgeless,verify:!1},s=v.native,p=v.verify;s?o=null!=(f=(0,t.default)(e))?f:(0,_r(d[7]).createViewConfig)(i()):o=null!=(c=(0,_r(d[7]).createViewConfig)(i()))?c:(0,t.default)(e);if((0,u.default)(null!=o,'NativeComponentRegistry.get: both static and native view config are missing for native component "%s".',e),p){var y=s?o:(0,t.default)(e);if(null==y)return o;var _=s?(0,_r(d[7]).createViewConfig)(i()):o,w=l.validate(e,y,_);'invalid'===w.type&&console.error(l.stringifyValidationResult(e,w))}return o}),e}function c(e){return(0,u.default)(null==n,'Unexpected invocation!'),null!=i.default.getViewManagerConfig(e)}},181,[1,182,44,212,213,20,174,214]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1]));function t(n){var t=r(d[2]).getConstants();t.ViewManagerNames||t.LazyViewManagersEnabled?n=s(n,r(d[4])(r(d[2]).getDefaultEventTypes)()):(n.bubblingEventTypes=s(n.bubblingEventTypes,t.genericBubblingEventTypes),n.directEventTypes=s(n.directEventTypes,t.genericDirectEventTypes))}function s(n,t){if(!t)return n;if(!n)return t;for(var u in t)if(t.hasOwnProperty(u)){var c=t[u];if(n.hasOwnProperty(u)){var o=n[u];'object'==typeof c&&'object'==typeof o&&(c=s(o,c))}n[u]=c}return n}function u(n){switch(n){case'CATransform3D':return r(d[5]);case'CGPoint':case'Point':return r(d[6]);case'CGSize':return r(d[7]);case'UIEdgeInsets':case'EdgeInsets':return r(d[8])}return null}function c(t){switch(t){case'CGColor':case'UIColor':case'Color':return r(d[9]).default;case'CGColorArray':case'UIColorArray':case'ColorArray':return r(d[10]);case'CGImage':case'UIImage':case'RCTImageSource':case'ImageSource':return r(d[11]);case'BoxShadowArray':case'BoxShadow':return n.default;case'FilterArray':case'Filter':return r(d[12]).default;case'BackgroundImage':return r(d[13]).default}return null}m.exports=function(n){var s=r(d[2]).getViewManagerConfig(n);if(null==s)return null;var o=s.baseModuleName,l=s.bubblingEventTypes,f=s.directEventTypes,b=s.NativeProps;for(l=null!=l?l:{},f=null!=f?f:{};o;){var v=r(d[2]).getViewManagerConfig(o);v?(l=Object.assign({},v.bubblingEventTypes,l),f=Object.assign({},v.directEventTypes,f),b=Object.assign({},v.NativeProps,b),o=v.baseModuleName):o=null}var y={};for(var p in b){var C=b[p],E=u(C),T=c(C);y[p]=null==E?null==T||{process:T}:null==T?{diff:E}:{diff:E,process:T}}return y.style=r(d[3]),Object.assign(s,{uiViewClassName:n,validAttributes:y,bubblingEventTypes:l,directEventTypes:f}),t(s),s}},182,[1,183,44,188,45,197,198,196,199,184,200,201,191,190]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=[];if(null==t)return u;var l='string'==typeof t?s(t.replace(/\n/g,' ')):t;for(var o of l){var c={offsetX:0,offsetY:0},p=void 0;for(var b in o)switch(b){case'offsetX':if(null==(p='string'==typeof o.offsetX?n(o.offsetX):o.offsetX))return[];c.offsetX=p;break;case'offsetY':if(null==(p='string'==typeof o.offsetY?n(o.offsetY):o.offsetY))return[];c.offsetY=p;break;case'spreadDistance':if(null==(p='string'==typeof o.spreadDistance?n(o.spreadDistance):o.spreadDistance))return[];c.spreadDistance=p;break;case'blurRadius':if(null==(p='string'==typeof o.blurRadius?n(o.blurRadius):o.blurRadius)||p<0)return[];c.blurRadius=p;break;case'color':var v=(0,f.default)(o.color);if(null==v)return[];c.color=v;break;case'inset':c.inset=o.inset}u.push(c)}return u};var f=t(r(d[1]));function s(t){var s=[];for(var n of t.split(/,(?![^()]*\))/).map(function(t){return t.trim()}).filter(function(t){return''!==t})){var u={offsetX:0,offsetY:0},l=void 0,o=void 0,c=!1,p=0,b=n.split(/\s+(?![^(]*\))/);for(var v of b){if(null==(0,f.default)(v))if('inset'!==v)switch(p){case 0:l=v,p++;break;case 1:if(c)return[];o=v,p++;break;case 2:if(c)return[];u.blurRadius=v,p++;break;case 3:if(c)return[];u.spreadDistance=v,p++;break;default:return[]}else{if(null!=u.inset)return[];null!=l&&(c=!0),u.inset=!0}else{if(null!=u.color)return[];null!=l&&(c=!0),u.color=v}}if(null==l||null==o)return[];u.offsetX=l,u.offsetY=o,s.push(u)}return s}function n(t){var f=/([+-]?\d*(\.\d+)?)([\w\W]+)?/g.exec(t);return!f||Number.isNaN(f[1])||null!=f[3]&&'px'!==f[3]?null:Number(f[1])}},183,[1,184]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){if(null==t)return t;var u=r(d[0])(t);if(null!=u){if('object'==typeof u){var l=(0,r(d[1]).processColorObject)(u);if(null!=l)return l}return'number'!=typeof u?null:(u=(u<<24|u>>>8)>>>0,u|=0)}}},184,[185,187]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(n){if('object'==typeof n&&null!=n){var o=(0,r(d[2]).normalizeColorObject)(n);if(null!=o)return o}if('string'==typeof n||'number'==typeof n)return(0,t.default)(n)}},185,[1,186,187]);
__d(function(_g,_r,i,a,m,e,d){'use strict';function r(r,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?r+6*(n-r)*t:t<.5?n:t<.6666666666666666?r+(n-r)*(.6666666666666666-t)*6:r}function n(n,t,u){var s=u<.5?u*(1+t):u+t-u*t,c=2*u-s,l=r(c,s,n+.3333333333333333),o=r(c,s,n),g=r(c,s,n-.3333333333333333);return Math.round(255*l)<<24|Math.round(255*o)<<16|Math.round(255*g)<<8}function t(n,t,u){if(t+u>=1){var s=Math.round(255*t/(t+u));return s<<24|s<<16|s<<8}var c=r(0,1,n+.3333333333333333)*(1-t-u)+t,l=r(0,1,n)*(1-t-u)+t,o=r(0,1,n-.3333333333333333)*(1-t-u)+t;return Math.round(255*c)<<24|Math.round(255*l)<<16|Math.round(255*o)<<8}var u,s='[-+]?\\d*\\.?\\d+',c="[-+]?\\d*\\.?\\d+%";function l(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*,?\\s*(')+')\\s*\\)'}function o(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.slice(0,n.length-1).join(')\\s*,?\\s*(')+')\\s*/\\s*('+n[n.length-1]+')\\s*\\)'}function g(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return'\\(\\s*('+n.join(')\\s*,\\s*(')+')\\s*\\)'}function h(){return void 0===u&&(u={rgb:new RegExp('rgb'+l(s,s,s)),rgba:new RegExp('rgba('+g(s,s,s,s)+'|'+o(s,s,s,s)+')'),hsl:new RegExp('hsl'+l(s,c,c)),hsla:new RegExp('hsla('+g(s,c,c,s)+'|'+o(s,c,c,s)+')'),hwb:new RegExp('hwb'+l(s,c,c)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),u}function b(r){var n=parseInt(r,10);return n<0?0:n>255?255:n}function f(r){return(parseFloat(r)%360+360)%360/360}function p(r){var n=parseFloat(r);return n<0?0:n>1?255:Math.round(255*n)}function y(r){var n=parseFloat(r);return n<0?0:n>100?1:n/100}function w(r){switch(r){case'transparent':return 0;case'aliceblue':return 4042850303;case'antiquewhite':return 4209760255;case'aqua':case'cyan':return 16777215;case'aquamarine':return 2147472639;case'azure':return 4043309055;case'beige':return 4126530815;case'bisque':return 4293182719;case'black':return 255;case'blanchedalmond':return 4293643775;case'blue':return 65535;case'blueviolet':return 2318131967;case'brown':return 2771004159;case'burlywood':return 3736635391;case'burntsienna':return 3934150143;case'cadetblue':return 1604231423;case'chartreuse':return 2147418367;case'chocolate':return 3530104575;case'coral':return 4286533887;case'cornflowerblue':return 1687547391;case'cornsilk':return 4294499583;case'crimson':return 3692313855;case'darkblue':return 35839;case'darkcyan':return 9145343;case'darkgoldenrod':return 3095792639;case'darkgray':case'darkgrey':return 2846468607;case'darkgreen':return 6553855;case'darkkhaki':return 3182914559;case'darkmagenta':return 2332068863;case'darkolivegreen':return 1433087999;case'darkorange':return 4287365375;case'darkorchid':return 2570243327;case'darkred':return 2332033279;case'darksalmon':return 3918953215;case'darkseagreen':return 2411499519;case'darkslateblue':return 1211993087;case'darkslategray':case'darkslategrey':return 793726975;case'darkturquoise':return 13554175;case'darkviolet':return 2483082239;case'deeppink':return 4279538687;case'deepskyblue':return 12582911;case'dimgray':case'dimgrey':return 1768516095;case'dodgerblue':return 512819199;case'firebrick':return 2988581631;case'floralwhite':return 4294635775;case'forestgreen':return 579543807;case'fuchsia':case'magenta':return 4278255615;case'gainsboro':return 3705462015;case'ghostwhite':return 4177068031;case'gold':return 4292280575;case'goldenrod':return 3668254975;case'gray':case'grey':return 2155905279;case'green':return 8388863;case'greenyellow':return 2919182335;case'honeydew':return 4043305215;case'hotpink':return 4285117695;case'indianred':return 3445382399;case'indigo':return 1258324735;case'ivory':return 4294963455;case'khaki':return 4041641215;case'lavender':return 3873897215;case'lavenderblush':return 4293981695;case'lawngreen':return 2096890111;case'lemonchiffon':return 4294626815;case'lightblue':return 2916673279;case'lightcoral':return 4034953471;case'lightcyan':return 3774873599;case'lightgoldenrodyellow':return 4210742015;case'lightgray':case'lightgrey':return 3553874943;case'lightgreen':return 2431553791;case'lightpink':return 4290167295;case'lightsalmon':return 4288707327;case'lightseagreen':return 548580095;case'lightskyblue':return 2278488831;case'lightslategray':case'lightslategrey':return 2005441023;case'lightsteelblue':return 2965692159;case'lightyellow':return 4294959359;case'lime':return 16711935;case'limegreen':return 852308735;case'linen':return 4210091775;case'maroon':return 2147483903;case'mediumaquamarine':return 1724754687;case'mediumblue':return 52735;case'mediumorchid':return 3126187007;case'mediumpurple':return 2473647103;case'mediumseagreen':return 1018393087;case'mediumslateblue':return 2070474495;case'mediumspringgreen':return 16423679;case'mediumturquoise':return 1221709055;case'mediumvioletred':return 3340076543;case'midnightblue':return 421097727;case'mintcream':return 4127193855;case'mistyrose':return 4293190143;case'moccasin':return 4293178879;case'navajowhite':return 4292783615;case'navy':return 33023;case'oldlace':return 4260751103;case'olive':return 2155872511;case'olivedrab':return 1804477439;case'orange':return 4289003775;case'orangered':return 4282712319;case'orchid':return 3664828159;case'palegoldenrod':return 4008225535;case'palegreen':return 2566625535;case'paleturquoise':return 2951671551;case'palevioletred':return 3681588223;case'papayawhip':return 4293907967;case'peachpuff':return 4292524543;case'peru':return 3448061951;case'pink':return 4290825215;case'plum':return 3718307327;case'powderblue':return 2967529215;case'purple':return 2147516671;case'rebeccapurple':return 1714657791;case'red':return 4278190335;case'rosybrown':return 3163525119;case'royalblue':return 1097458175;case'saddlebrown':return 2336560127;case'salmon':return 4202722047;case'sandybrown':return 4104413439;case'seagreen':return 780883967;case'seashell':return 4294307583;case'sienna':return 2689740287;case'silver':return 3233857791;case'skyblue':return 2278484991;case'slateblue':return 1784335871;case'slategray':case'slategrey':return 1887473919;case'snow':return 4294638335;case'springgreen':return 16744447;case'steelblue':return 1182971135;case'tan':return 3535047935;case'teal':return 8421631;case'thistle':return 3636451583;case'tomato':return 4284696575;case'turquoise':return 1088475391;case'violet':return 4001558271;case'wheat':return 4125012991;case'white':return 4294967295;case'whitesmoke':return 4126537215;case'yellow':return 4294902015;case'yellowgreen':return 2597139199}return null}m.exports=function(r){if('number'==typeof r)return r>>>0===r&&r>=0&&r<=4294967295?r:null;if('string'!=typeof r)return null;var u,s=h();if(u=s.hex6.exec(r))return parseInt(u[1]+'ff',16)>>>0;var c=w(r);return null!=c?c:(u=s.rgb.exec(r))?(b(u[1])<<24|b(u[2])<<16|b(u[3])<<8|255)>>>0:(u=s.rgba.exec(r))?void 0!==u[6]?(b(u[6])<<24|b(u[7])<<16|b(u[8])<<8|p(u[9]))>>>0:(b(u[2])<<24|b(u[3])<<16|b(u[4])<<8|p(u[5]))>>>0:(u=s.hex3.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+'ff',16)>>>0:(u=s.hex8.exec(r))?parseInt(u[1],16)>>>0:(u=s.hex4.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+u[4]+u[4],16)>>>0:(u=s.hsl.exec(r))?(255|n(f(u[1]),y(u[2]),y(u[3])))>>>0:(u=s.hsla.exec(r))?void 0!==u[6]?(n(f(u[6]),y(u[7]),y(u[8]))|p(u[9]))>>>0:(n(f(u[2]),y(u[3]),y(u[4]))|p(u[5]))>>>0:(u=s.hwb.exec(r))?(255|t(f(u[1]),y(u[2]),y(u[3])))>>>0:null}},186,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.processColorObject=e.normalizeColorObject=e.PlatformColor=void 0;e.PlatformColor=function(){for(var o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return{resource_paths:n}},e.normalizeColorObject=function(o){return'resource_paths'in o?o:null},e.processColorObject=function(o){return o}},187,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),s=t(r(d[4])),c=t(r(d[5])),p=t(r(d[6])),f=t(r(d[7])),b=t(r(d[8])),u=t(r(d[9])),h={process:s.default},S={alignContent:!0,alignItems:!0,alignSelf:!0,aspectRatio:{process:o.default},borderBottomWidth:!0,borderEndWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,borderStartWidth:!0,borderTopWidth:!0,boxSizing:!0,columnGap:!0,borderWidth:!0,bottom:!0,direction:!0,display:!0,end:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexShrink:!0,flexWrap:!0,gap:!0,height:!0,inset:!0,insetBlock:!0,insetBlockEnd:!0,insetBlockStart:!0,insetInline:!0,insetInlineEnd:!0,insetInlineStart:!0,justifyContent:!0,left:!0,margin:!0,marginBlock:!0,marginBlockEnd:!0,marginBlockStart:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginInline:!0,marginInlineEnd:!0,marginInlineStart:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,overflow:!0,padding:!0,paddingBlock:!0,paddingBlockEnd:!0,paddingBlockStart:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingInline:!0,paddingInlineEnd:!0,paddingInlineStart:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,position:!0,right:!0,rowGap:!0,start:!0,top:!0,width:!0,zIndex:!0,elevation:!0,shadowColor:h,shadowOffset:{diff:u.default},shadowOpacity:!0,shadowRadius:!0,transform:{process:f.default},transformOrigin:{process:b.default},filter:{process:c.default},mixBlendMode:!0,isolation:!0,boxShadow:{process:l.default},experimental_backgroundImage:{process:n.default},backfaceVisibility:!0,backgroundColor:h,borderBlockColor:h,borderBlockEndColor:h,borderBlockStartColor:h,borderBottomColor:h,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderColor:h,borderCurve:!0,borderEndColor:h,borderEndEndRadius:!0,borderEndStartRadius:!0,borderLeftColor:h,borderRadius:!0,borderRightColor:h,borderStartColor:h,borderStartEndRadius:!0,borderStartStartRadius:!0,borderStyle:!0,borderTopColor:h,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,cursor:!0,opacity:!0,outlineColor:h,outlineOffset:!0,outlineStyle:!0,outlineWidth:!0,pointerEvents:!0,color:h,fontFamily:!0,fontSize:!0,fontStyle:!0,fontVariant:{process:p.default},fontWeight:!0,includeFontPadding:!0,letterSpacing:!0,lineHeight:!0,textAlign:!0,textAlignVertical:!0,textDecorationColor:h,textDecorationLine:!0,textDecorationStyle:!0,textShadowColor:h,textShadowOffset:!0,textShadowRadius:!0,textTransform:!0,userSelect:!0,verticalAlign:!0,writingDirection:!0,overlayColor:h,resizeMode:!0,tintColor:h,objectFit:!0};m.exports=S},188,[1,189,190,183,184,191,192,193,195,196]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){if('number'==typeof t)return t;if('string'==typeof t){var u=t.split('/').map(function(t){return t.trim()});if(!u.includes('auto'))if(!u.some(function(t){return Number.isNaN(Number(t))}))return 2===u.length?Number(u[0])/Number(u[1]):Number(u[0])}}},189,[]);
__d(function(g,r,_i2,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var o=[];if(null==t)return o;if('string'==typeof t)o=u(t.replace(/\n/g,' '));else if(Array.isArray(t))for(var c of t){for(var v=[],h=0;h<c.colorStops.length;h++){var y=c.colorStops[h],b=r(d[2]).default(y.color);if(null==b)return[];if(null!=y.positions&&y.positions.length>0)for(var w of y.positions){if(!w.endsWith('%'))return[];v.push({color:b,position:parseFloat(w)/100})}else v.push({color:b,position:null})}var F=i,k=null!=c.direction?c.direction.toLowerCase():null;if(null!=k)if(n.test(k)){var x=f(k);if(null==x)return[];F={type:'angle',value:x}}else{if(!l.test(k))return[];var A=s(k);if(null==A)return[];F=A}var C=p(v);o=o.concat({type:'linearGradient',direction:F,colorStops:C})}return o};var o=t(r(d[1])),l=/^to\s+(?:top|bottom|left|right)(?:\s+(?:top|bottom|left|right))?/i,n=/^([+-]?\d*\.?\d+)(deg|grad|rad|turn)$/i,i={type:'angle',value:180};function u(t){for(var u,c=[],v=/linear-gradient\s*\(((?:\([^)]*\)|[^())])*)\)/gi;u=v.exec(t);){var h=u[1].split(','),y=i,b=h[0].trim().toLowerCase(),w=/\s*((?:(?:rgba?|hsla?)\s*\([^)]+\))|#[0-9a-fA-F]+|[a-zA-Z]+)(?:\s+(-?[0-9.]+%?)(?:\s+(-?[0-9.]+%?))?)?\s*/gi;if(n.test(b)){var F=f(b);if(null==F)return[];y={type:'angle',value:F},h.shift()}else if(l.test(b)){var k=s(b);if(null==k)return[];y=k,h.shift()}else if(!w.test(b))return[];w.lastIndex=0;for(var x=[],A=h.join(','),C=void 0;C=w.exec(A);){var L=C,S=(0,o.default)(L,4),_=S[1],M=S[2],W=S[3],j=r(d[2]).default(_.trim().toLowerCase());if(null==j)return[];if(void 0!==M){if(!M.endsWith('%'))return[];x.push({color:j,position:parseFloat(M)/100})}else x.push({color:j,position:null});if(void 0!==W){if(!W.endsWith('%'))return[];x.push({color:j,position:parseFloat(W)/100})}}var G=p(x);c.push({type:'linearGradient',direction:y,colorStops:G})}return c}function s(t){if(null==t)return null;switch(t.replace(/\s+/g,' ').toLowerCase()){case'to top':return{type:'angle',value:0};case'to right':return{type:'angle',value:90};case'to bottom':return{type:'angle',value:180};case'to left':return{type:'angle',value:270};case'to top right':case'to right top':return{type:'keyword',value:'to top right'};case'to bottom right':case'to right bottom':return{type:'keyword',value:'to bottom right'};case'to top left':case'to left top':return{type:'keyword',value:'to top left'};case'to bottom left':case'to left bottom':return{type:'keyword',value:'to bottom left'};default:return null}}function f(t){if(null==t)return null;var l=t.match(n);if(!l)return null;var i=(0,o.default)(l,3),u=i[1],s=i[2],f=parseFloat(u);switch(s){case'deg':return f;case'grad':return.9*f;case'rad':return 180*f/Math.PI;case'turn':return 360*f;default:return null}}function p(t){for(var o,l=[],n=!1,i=null!=(o=t[0].position)?o:0,u=0;u<t.length;u++){var s=t[u],f=s.position;null===f&&(0===u?f=0:u===t.length-1&&(f=1)),null!==f?(f=Math.max(f,i),l[u]={color:s.color,position:f},i=f):n=!0}if(n)for(var p=0,c=1;c<l.length;c++)if(void 0!==l[c]){var v=c-p-1;if(v>0)for(var h=l[p].position,y=(l[c].position-h)/(v+1),b=1;b<=v;b++)l[p+b]={color:t[p+b].color,position:h+y*b};p=c}return l}},190,[1,38,184]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=[];if(null==t)return u;if('string'==typeof t){t=t.replace(/\n/g,' ');for(var o,s=/([\w-]+)\(([^()]*|\([^()]*\)|[^()]*\([^()]*\)[^()]*)\)/g;o=s.exec(t);){var c=o[1].toLowerCase();if('drop-shadow'===c){var v=l(o[2]);if(null==v)return[];u.push({dropShadow:v})}else{var p='drop-shadow'===c?'dropShadow':'hue-rotate'===c?'hueRotate':c,h=f(p,o[2]);if(null==h)return[];var b={};b[p]=h,u.push(b)}}}else{if(!Array.isArray(t))throw new TypeError(typeof t+" filter is not a string or array");for(var w of t){var y=(0,n.default)(Object.entries(w)[0],2),N=y[0],X=y[1];if('dropShadow'===N){var Y=l(X);if(null==Y)return[];u.push({dropShadow:Y})}else{var k=f(N,X);if(null==k)return[];var x={};x[N]=k,u.push(x)}}}return u};var n=t(r(d[1])),u=t(r(d[2]));function f(t,n){var u,f;if('string'==typeof n){var l=new RegExp(/([+-]?\d*(\.\d+)?)([a-zA-Z%]+)?/g).exec(n);if(!l||isNaN(Number(l[1])))return;u=Number(l[1]),f=l[3]}else{if('number'!=typeof n)return;u=n}switch(t){case'hueRotate':if(0===u)return 0;if('deg'!==f&&'rad'!==f)return;return'rad'===f?180*u/Math.PI:u;case'blur':if(f&&'px'!==f||u<0)return;return u;case'brightness':case'contrast':case'grayscale':case'invert':case'opacity':case'saturate':case'sepia':if(f&&'%'!==f&&'px'!==f||u<0)return;return'%'===f&&(u/=100),u;default:return}}function l(t){var n,f,l='string'==typeof t?o(t):t,c={offsetX:0,offsetY:0};for(var v in l){var p=void 0;switch(v){case'offsetX':if(null==(p='string'==typeof l.offsetX?s(l.offsetX):l.offsetX))return null;n=p;break;case'offsetY':if(null==(p='string'==typeof l.offsetY?s(l.offsetY):l.offsetY))return null;f=p;break;case'standardDeviation':if(null==(p='string'==typeof l.standardDeviation?s(l.standardDeviation):l.standardDeviation)||p<0)return null;c.standardDeviation=p;break;case'color':var h=(0,u.default)(l.color);if(null==h)return null;c.color=h;break;default:return null}}return null==n||null==f?null:(c.offsetX=n,c.offsetY=f,c)}function o(t){var n,f,l={offsetX:0,offsetY:0},o=0,s=!1;for(var c of t.split(/\s+(?![^(]*\))/)){if(null==(0,u.default)(c))switch(o){case 0:n=c,o++;break;case 1:if(s)return null;f=c,o++;break;case 2:if(s)return null;l.standardDeviation=c,o++;break;default:return null}else{if(null!=l.color)return null;null!=n&&(s=!0),l.color=c}}return null==n||null==f?null:(l.offsetX=n,l.offsetY=f,l)}function s(t){var n=/([+-]?\d*(\.\d+)?)([\w\W]+)?/g.exec(t);return!n||Number.isNaN(n[1])||null!=n[3]&&'px'!==n[3]?null:Number(n[1])}},191,[1,38,184]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return Array.isArray(t)?t:t.split(' ').filter(Boolean)}},192,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);var u=function(t,u){var n,s=new RegExp(/([+-]?\d+(\.\d+)?)([a-zA-Z]+|%)?/g);switch(t){case'matrix':return{key:t,value:null==(n=u.match(/[+-]?\d+(\.\d+)?/g))?void 0:n.map(Number)};case'translate':case'translate3d':for(var l,v=[];l=s.exec(u);){var c=Number(l[1]),o=l[3];0===c||o||!0,'%'===o?v.push(`${c}%`):v.push(c)}return 1===(null==v?void 0:v.length)&&v.push(0),{key:'translate',value:v};case'translateX':case'translateY':case'perspective':var p=s.exec(u);if(null==p||!p.length)return{key:t,value:void 0};var f=Number(p[1]);p[3];return{key:t,value:f};default:return{key:t,value:isNaN(u)?u:Number(u)}}};m.exports=function(n){if('string'==typeof n){for(var s,l=new RegExp(/(\w+)\(([^)]+)\)/g),v=[];s=l.exec(n);){var c=u(s[1],s[2]),o=c.key,p=c.value;void 0!==p&&v.push(t({},o,p))}n=v}return n}},193,[194]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(e,r,t){return(r=_r(d[0])(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e},m.exports.__esModule=!0,m.exports.default=m.exports},194,[14]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if('string'==typeof t){var c,l=t,u=/(top|bottom|left|right|center|\d+(?:%|px)|0)/gi,b=['50%','50%',0],p=s;e:for(;c=u.exec(l);){var k=p+1,v=c[0],h=v.toLowerCase();switch(h){case'left':case'right':(0,o.default)(p===s,'Transform-origin %s can only be used for x-position',v),b[s]='left'===h?0:'100%';break;case'top':case'bottom':if((0,o.default)(p!==f,'Transform-origin %s can only be used for y-position',v),b[n]='top'===h?0:'100%',p===s){var y=u.exec(l);if(null==y)break e;switch(y[0].toLowerCase()){case'left':b[s]=0;break;case'right':b[s]='100%';break;case'center':b[s]='50%';break;default:(0,o.default)(!1,'Could not parse transform-origin: %s',l)}k=f}break;case'center':(0,o.default)(p!==f,'Transform-origin value %s cannot be used for z-position',v),b[p]='50%';break;default:v.endsWith('%')?b[p]=v:b[p]=parseFloat(v)}p=k}t=b}return t};t(r(d[1]));var o=t(r(d[2])),s=0,n=1,f=2},195,[1,38,20]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={width:void 0,height:void 0};m.exports=function(h,n){var o=h||t,u=n||t;return o!==u&&(o.width!==u.width||o.height!==u.height)}},196,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return t!==n&&(!t||!n||t[12]!==n[12]||t[13]!==n[13]||t[14]!==n[14]||t[5]!==n[5]||t[10]!==n[10]||t[0]!==n[0]||t[1]!==n[1]||t[2]!==n[2]||t[3]!==n[3]||t[4]!==n[4]||t[6]!==n[6]||t[7]!==n[7]||t[8]!==n[8]||t[9]!==n[9]||t[11]!==n[11]||t[15]!==n[15])}},197,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={x:void 0,y:void 0};m.exports=function(n,o){return(n=n||t)!==(o=o||t)&&(n.x!==o.x||n.y!==o.y)}},198,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={top:void 0,left:void 0,right:void 0,bottom:void 0};m.exports=function(o,f){return(o=o||t)!==(f=f||t)&&(o.top!==f.top||o.left!==f.left||o.right!==f.right||o.bottom!==f.bottom)}},199,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1]));function l(l){var u=(0,n.default)(l);return null==u?(console.error('Invalid value in color array:',l),0):u}m.exports=function(n){return null==n?null:n.map(l)}},200,[1,184]);
__d(function(g,r,i,a,m,e,d){var t,n,u,s=r(d[0])(r(d[1])),f=[];function l(){return null!=u?u:u=s.default.getConstants().scriptURL}function o(){if(void 0===t){var n=l(),u=null==n?void 0:n.match(/^https?:\/\/.*?\//);t=u?u[0]:null}return t}function c(t){var n=t;if(null!=n){if(n.startsWith('assets://'))return null;(n=n.substring(0,n.lastIndexOf('/')+1)).includes('://')||(n='file://'+n)}return n}function v(t){if(null==t||'object'==typeof t)return t;var u=r(d[2]).getAssetByID(t);if(!u)return null;var s=new(r(d[3]))(o(),(void 0===n&&(n=c(l())),n),u);if(f)for(var v of f){var p=v(s);if(null!=p)return p}return s.defaultAsset()}v.pickScale=r(d[4]).pickScale,v.setCustomSourceTransformer=function(t){f=[t]},v.addCustomSourceTransformer=function(t){f.push(t)},m.exports=v},201,[1,202,204,205,206]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},202,[203]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0])).getEnforcing('SourceCode'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t}};_e.default=n},203,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=[];m.exports={registerAsset:function(s){return t.push(s)},getAssetByID:function(s){return t[s-1]}}},204,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]),t=r(d[1]);function l(s){var t=r(d[2]).pickScale(s.scales,r(d[3]).default.get()),l=1===t?'':'@'+t+'x';return r(d[4]).getBasePath(s)+'/'+s.name+l+'.'+s.type}var n=(function(){return t(function t(l,n,o){s(this,t),this.serverUrl=l,this.jsbundleUrl=n,this.asset=o},[{key:"isLoadedFromServer",value:function(){return null!=this.serverUrl&&''!==this.serverUrl&&!('xml'===this.asset.type)}},{key:"isLoadedFromFileSystem",value:function(){var s;return null!=this.jsbundleUrl&&(null==(s=this.jsbundleUrl)?void 0:s.startsWith('file://'))}},{key:"defaultAsset",value:function(){return this.isLoadedFromServer()?this.assetServerURL():null!=this.asset.resolver?this.getAssetUsingResolver(this.asset.resolver):this.isLoadedFromFileSystem()?this.drawableFolderInBundle():this.resourceIdentifierWithoutScale()}},{key:"getAssetUsingResolver",value:function(s){switch(s){case'android':return this.isLoadedFromFileSystem()?this.drawableFolderInBundle():this.resourceIdentifierWithoutScale();case'generic':return this.scaledAssetURLNearBundle();default:throw new Error("Don't know how to get asset via provided resolver: "+s+'\nAsset: '+JSON.stringify(this.asset,null,'\t')+'\nPossible resolvers are:'+JSON.stringify(['android','generic'],null,'\t'))}}},{key:"assetServerURL",value:function(){return r(d[5])(null!=this.serverUrl,'need server to load from'),this.fromSource(this.serverUrl+l(this.asset)+"?platform=android&hash="+this.asset.hash)}},{key:"scaledAssetPath",value:function(){return this.fromSource(l(this.asset))}},{key:"scaledAssetURLNearBundle",value:function(){var s,t=null!=(s=this.jsbundleUrl)?s:'file://';return this.fromSource(t+l(this.asset).replace(/\.\.\//g,'_'))}},{key:"resourceIdentifierWithoutScale",value:function(){return r(d[5])(!0,'resource identifiers work on Android'),this.fromSource(r(d[4]).getAndroidResourceIdentifier(this.asset))}},{key:"drawableFolderInBundle",value:function(){var s,t,l,n=null!=(s=this.jsbundleUrl)?s:'file://';return this.fromSource(n+(t=this.asset,l=r(d[2]).pickScale(t.scales,r(d[3]).default.get()),r(d[4]).getAndroidResourceFolderName(t,l)+'/'+r(d[4]).getAndroidResourceIdentifier(t)+'.'+t.type))}},{key:"fromSource",value:function(s){return{__packager_asset:!0,width:this.asset.width,height:this.asset.height,uri:s,scale:r(d[2]).pickScale(this.asset.scales,r(d[3]).default.get())}}}])})();n.pickScale=r(d[2]).pickScale,m.exports=n},205,[12,13,206,207,211,20]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlCacheBreaker=function(){if(null==t)return'';return t},e.pickScale=function(n,t){for(var l=null!=t?t:u.default.get(),c=0;c<n.length;c++)if(n[c]>=l)return n[c];return n[n.length-1]||1},e.setUrlCacheBreaker=function(n){t=n};var t,u=n(r(d[1]))},206,[1,207]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2])),o=(function(){function t(){(0,u.default)(this,t)}return(0,n.default)(t,null,[{key:"get",value:function(){return r(d[3]).default.get('window').scale}},{key:"getFontScale",value:function(){return r(d[3]).default.get('window').fontScale||t.get()}},{key:"getPixelSizeForLayoutSize",value:function(u){return Math.round(u*t.get())}},{key:"roundToNearestPixel",value:function(u){var n=t.get();return Math.round(u*n)/n}},{key:"startDetecting",value:function(){}}])})();e.default=o},207,[1,12,13,208]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=t(r(d[1])),s=t(r(d[2])),c=t(r(d[3])),u=t(r(d[4])),o=t(r(d[5])),f=t(r(d[6])),h=new u.default,w=!1,v=(function(){return(0,s.default)(function t(){(0,l.default)(this,t)},null,[{key:"get",value:function(t){return(0,f.default)(n[t],'No dimension set for key '+t),n[t]}},{key:"set",value:function(t){var l=t.screen,s=t.window,c=t.windowPhysicalPixels;c&&(s={width:c.width/c.scale,height:c.height/c.scale,scale:c.scale,fontScale:c.fontScale});var u=t.screenPhysicalPixels;u?l={width:u.width/u.scale,height:u.height/u.scale,scale:u.scale,fontScale:u.fontScale}:null==l&&(l=s),n={window:s,screen:l},w?h.emit('change',n):w=!0}},{key:"addEventListener",value:function(t,n){return(0,f.default)('change'===t,'Trying to subscribe to unknown event: "%s"',t),h.addListener(t,n)}}])})();c.default.addListener('didUpdateDimensions',function(t){v.set(t)}),v.set(o.default.getConstants().Dimensions);e.default=v},208,[1,12,13,22,30,209,20]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},209,[210]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0])).getEnforcing('DeviceInfo'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t}};_e.default=n},210,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={.75:'ldpi',1:'mdpi',1.5:'hdpi',2:'xhdpi',3:'xxhdpi',4:'xxxhdpi'};function n(n){if(n.toString()in t)return t[n.toString()];if(Number.isFinite(n)&&n>0)return Math.round(160*n)+'dpi';throw new Error('no such scale '+n.toString())}var s=new Set(['gif','jpeg','jpg','ktx','png','svg','webp','xml']);function o(t){var n=t.httpServerLocation;return n.startsWith('/')?n.slice(1):n}m.exports={getAndroidResourceFolderName:function(o,u){if(!s.has(o.type))return'raw';var c=n(u);if(!c)throw new Error("Don't know which android drawable suffix to use for scale: "+u+'\nAsset: '+JSON.stringify(o,null,'\t')+'\nPossible scales are:'+JSON.stringify(t,null,'\t'));return'drawable-'+c},getAndroidResourceIdentifier:function(t){return(o(t)+'/'+t.name).toLowerCase().replace(/\//g,'_').replace(/([^a-z0-9_])/g,'').replace(/^(?:assets|assetsunstable_path)_/,'')},getBasePath:o}},211,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.customDirectEventTypes=e.customBubblingEventTypes=void 0,e.get=function(t){var o=s.get(t);if(null==o){var u=l.get(t);'function'!=typeof u&&(0,n.default)(!1,'View config getter callback for component `%s` must be a function (received `%s`).%s',t,null===u?'null':typeof u,'string'==typeof t[0]&&/[a-z]/.test(t[0])?' Make sure to start component names with a capital letter.':''),o=u(),(0,n.default)(o,'View config not found for component `%s`',t),c(o),s.set(t,o),l.set(t,null)}return o},e.register=function(t,o){return(0,n.default)(!l.has(t),'Tried to register two views with the same name %s',t),(0,n.default)('function'==typeof o,'View config getter callback for component `%s` must be a function (received `%s`)',t,null===o?'null':typeof o),l.set(t,o),t};var n=t(r(d[1])),o=e.customBubblingEventTypes={},u=e.customDirectEventTypes={},l=new Map,s=new Map;function c(t){var n=t.bubblingEventTypes,l=t.directEventTypes;if(null!=n)for(var s in n)null==o[s]&&(o[s]=n[s]);if(null!=l)for(var c in l)null==u[c]&&(u[c]=l[c])}},212,[1,20]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.stringifyValidationResult=function(t,u){var s=u.differences;return[`StaticViewConfigValidator: Invalid static view config for '${t}'.`,''].concat((0,n.default)(s.map(function(t){var n=t.type,u=t.path;switch(n){case'missing':return`- '${u.join('.')}' is missing.`;case'unequal':return`- '${u.join('.')}' is the wrong value.`}})),['']).join('\n')},e.validate=function(t,n,s){var l=[];if(u(l,[],{bubblingEventTypes:n.bubblingEventTypes,directEventTypes:n.directEventTypes,uiViewClassName:n.uiViewClassName,validAttributes:n.validAttributes},{bubblingEventTypes:s.bubblingEventTypes,directEventTypes:s.directEventTypes,uiViewClassName:s.uiViewClassName,validAttributes:s.validAttributes}),0===l.length)return{type:'valid'};return{type:'invalid',differences:l}};var n=t(r(d[1]));function u(t,l,v,c){for(var o in v){var p=v[o];if(c.hasOwnProperty(o)){var f=c[o],y=s(p);if(null!=y){var b=s(f);if(null!=b){l.push(o),u(t,l,y,b),l.pop();continue}}p!==f&&t.push({path:[].concat((0,n.default)(l),[o]),type:'unequal',nativeValue:p,staticValue:f})}else t.push({path:[].concat((0,n.default)(l),[o]),type:'missing',nativeValue:p})}}function s(t){return'object'!=typeof t||Array.isArray(t)?null:t}},213,[1,6]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createViewConfig=function(t){return{uiViewClassName:t.uiViewClassName,Commands:{},bubblingEventTypes:u(n.default.bubblingEventTypes,t.bubblingEventTypes),directEventTypes:u(n.default.directEventTypes,t.directEventTypes),validAttributes:u(n.default.validAttributes,t.validAttributes)}};var n=t(r(d[1]));function u(t,n){var u;return null==t||null==n?null!=(u=null!=t?t:n)?u:{}:Object.assign({},t,n)}},214,[1,215]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])).default;e.default=u},215,[1,216]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),n={topAccessibilityAction:{registrationName:'onAccessibilityAction'},onGestureHandlerEvent:(0,r(d[2]).DynamicallyInjectedByGestureHandler)({registrationName:'onGestureHandlerEvent'}),onGestureHandlerStateChange:(0,r(d[2]).DynamicallyInjectedByGestureHandler)({registrationName:'onGestureHandlerStateChange'}),topContentSizeChange:{registrationName:'onContentSizeChange'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topMessage:{registrationName:'onMessage'},topSelectionChange:{registrationName:'onSelectionChange'},topLoadingFinish:{registrationName:'onLoadingFinish'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topLoadingStart:{registrationName:'onLoadingStart'},topLoadingError:{registrationName:'onLoadingError'},topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topScroll:{registrationName:'onScroll'},topLayout:{registrationName:'onLayout'}},s={backgroundColor:{process:r(d[3]).default},transform:!0,transformOrigin:!0,experimental_backgroundImage:{process:r(d[4]).default},boxShadow:{process:r(d[5]).default},filter:{process:r(d[6]).default},mixBlendMode:!0,isolation:!0,opacity:!0,elevation:!0,shadowColor:{process:r(d[3]).default},zIndex:!0,renderToHardwareTextureAndroid:!0,testID:!0,nativeID:!0,accessibilityLabelledBy:!0,accessibilityLabel:!0,accessibilityHint:!0,accessibilityRole:!0,accessibilityCollection:!0,accessibilityCollectionItem:!0,accessibilityState:!0,accessibilityActions:!0,accessibilityValue:!0,importantForAccessibility:!0,role:!0,rotation:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0,accessibilityLiveRegion:!0,width:!0,minWidth:!0,collapsable:!0,collapsableChildren:!0,maxWidth:!0,height:!0,minHeight:!0,maxHeight:!0,flex:!0,flexGrow:!0,rowGap:!0,columnGap:!0,gap:!0,flexShrink:!0,flexBasis:!0,aspectRatio:!0,flexDirection:!0,flexWrap:!0,alignSelf:!0,alignItems:!0,alignContent:!0,justifyContent:!0,overflow:!0,display:!0,boxSizing:!0,margin:!0,marginBlock:!0,marginBlockEnd:!0,marginBlockStart:!0,marginBottom:!0,marginEnd:!0,marginHorizontal:!0,marginInline:!0,marginInlineEnd:!0,marginInlineStart:!0,marginLeft:!0,marginRight:!0,marginStart:!0,marginTop:!0,marginVertical:!0,padding:!0,paddingBlock:!0,paddingBlockEnd:!0,paddingBlockStart:!0,paddingBottom:!0,paddingEnd:!0,paddingHorizontal:!0,paddingInline:!0,paddingInlineEnd:!0,paddingInlineStart:!0,paddingLeft:!0,paddingRight:!0,paddingStart:!0,paddingTop:!0,paddingVertical:!0,borderWidth:!0,borderStartWidth:!0,borderEndWidth:!0,borderTopWidth:!0,borderBottomWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,outlineColor:{process:r(d[3]).default},outlineOffset:!0,outlineStyle:!0,outlineWidth:!0,start:!0,end:!0,left:!0,right:!0,top:!0,bottom:!0,inset:!0,insetBlock:!0,insetBlockEnd:!0,insetBlockStart:!0,insetInline:!0,insetInlineEnd:!0,insetInlineStart:!0,position:!0,style:t.default,removeClippedSubviews:!0,accessible:!0,hasTVPreferredFocus:!0,nextFocusDown:!0,nextFocusForward:!0,nextFocusLeft:!0,nextFocusRight:!0,nextFocusUp:!0,borderRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderBottomRightRadius:!0,borderBottomLeftRadius:!0,borderTopStartRadius:!0,borderTopEndRadius:!0,borderBottomStartRadius:!0,borderBottomEndRadius:!0,borderEndEndRadius:!0,borderEndStartRadius:!0,borderStartEndRadius:!0,borderStartStartRadius:!0,borderStyle:!0,hitSlop:!0,pointerEvents:!0,nativeBackgroundAndroid:!0,nativeForegroundAndroid:!0,needsOffscreenAlphaCompositing:!0,borderColor:{process:r(d[3]).default},borderLeftColor:{process:r(d[3]).default},borderRightColor:{process:r(d[3]).default},borderTopColor:{process:r(d[3]).default},borderBottomColor:{process:r(d[3]).default},borderStartColor:{process:r(d[3]).default},borderEndColor:{process:r(d[3]).default},borderBlockColor:{process:r(d[3]).default},borderBlockEndColor:{process:r(d[3]).default},borderBlockStartColor:{process:r(d[3]).default},focusable:!0,backfaceVisibility:!0},l={directEventTypes:n,bubblingEventTypes:{topChange:{phasedRegistrationNames:{captured:'onChangeCapture',bubbled:'onChange'}},topSelect:{phasedRegistrationNames:{captured:'onSelectCapture',bubbled:'onSelect'}},topTouchEnd:{phasedRegistrationNames:{captured:'onTouchEndCapture',bubbled:'onTouchEnd'}},topTouchCancel:{phasedRegistrationNames:{captured:'onTouchCancelCapture',bubbled:'onTouchCancel'}},topTouchStart:{phasedRegistrationNames:{captured:'onTouchStartCapture',bubbled:'onTouchStart'}},topTouchMove:{phasedRegistrationNames:{captured:'onTouchMoveCapture',bubbled:'onTouchMove'}},topPointerCancel:{phasedRegistrationNames:{captured:'onPointerCancelCapture',bubbled:'onPointerCancel'}},topPointerDown:{phasedRegistrationNames:{captured:'onPointerDownCapture',bubbled:'onPointerDown'}},topPointerEnter:{phasedRegistrationNames:{captured:'onPointerEnterCapture',bubbled:'onPointerEnter',skipBubbling:!0}},topPointerLeave:{phasedRegistrationNames:{captured:'onPointerLeaveCapture',bubbled:'onPointerLeave',skipBubbling:!0}},topPointerMove:{phasedRegistrationNames:{captured:'onPointerMoveCapture',bubbled:'onPointerMove'}},topPointerUp:{phasedRegistrationNames:{captured:'onPointerUpCapture',bubbled:'onPointerUp'}},topPointerOut:{phasedRegistrationNames:{captured:'onPointerOutCapture',bubbled:'onPointerOut'}},topPointerOver:{phasedRegistrationNames:{captured:'onPointerOverCapture',bubbled:'onPointerOver'}},topClick:{phasedRegistrationNames:{captured:'onClickCapture',bubbled:'onClick'}}},validAttributes:Object.assign({},s,{onLayout:!0,onMoveShouldSetResponder:!0,onMoveShouldSetResponderCapture:!0,onStartShouldSetResponder:!0,onStartShouldSetResponderCapture:!0,onResponderGrant:!0,onResponderReject:!0,onResponderStart:!0,onResponderEnd:!0,onResponderRelease:!0,onResponderMove:!0,onResponderTerminate:!0,onResponderTerminationRequest:!0,onShouldBlockNativeResponder:!0,onTouchStart:!0,onTouchMove:!0,onTouchEnd:!0,onTouchCancel:!0,onClick:!0,onClickCapture:!0,onPointerEnter:!0,onPointerEnterCapture:!0,onPointerLeave:!0,onPointerLeaveCapture:!0,onPointerMove:!0,onPointerMoveCapture:!0,onPointerOut:!0,onPointerOutCapture:!0,onPointerOver:!0,onPointerOverCapture:!0})};e.default=l},216,[1,188,217,184,190,183,191]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ConditionallyIgnoredEventHandlers=function(n){if('ios'===t.default.OS)return n;return},e.DynamicallyInjectedByGestureHandler=function(n){return u.add(n),n},e.isIgnored=function(n){if('object'==typeof n&&null!=n)return u.has(n);return!1};var t=n(r(d[1])),u=new WeakSet},217,[1,33]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(n){var o={};return n.supportedCommands.forEach(function(n){o[n]=function(o){for(var t=arguments.length,u=new Array(t>1?t-1:0),f=1;f<t;f++)u[f-1]=arguments[f];r(d[0]).dispatchCommand(o,n,u)}}),o}},218,[57]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},219,[220]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(t,o,f){var l=null;if(void 0!==f&&(l=""+f),void 0!==o.key&&(l=""+o.key),"key"in o)for(var y in f={},o)"key"!==y&&(f[y]=o[y]);else f=o;return o=f.ref,{$$typeof:n,type:t,key:l,ref:void 0!==o?o:null,props:f}}e.Fragment=t,e.jsx=o,e.jsxs=o},220,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=r(d[2]).default.roundToNearestPixel(.4);0===o&&(o=1/r(d[2]).default.get());var s={position:'absolute',left:0,right:0,top:0,bottom:0};m.exports={hairlineWidth:o,absoluteFill:s,absoluteFillObject:s,compose:t.default,flatten:r(d[3]),setStyleAttributePreprocessor:function(t,o){var s;if(!0===r(d[4])[t])s={process:o};else{if('object'!=typeof r(d[4])[t])return void console.error(`${t} is not a valid style attribute`);s=Object.assign({},r(d[4])[t],{process:o})}r(d[4])[t]=s},create:function(t){return t}}},221,[1,222,207,223,188]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u){if(null==n)return u;if(null==u)return n;return[n,u]}},222,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=function t(n){if(null!==n&&'object'==typeof n){if(!Array.isArray(n))return n;for(var f={},i=0,o=n.length;i<o;++i){var u=t(n[i]);if(u)for(var c in u)f[c]=u[c]}return f}}},223,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.RootTagContext=void 0,_e.createRootTag=function(e){return e};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?r(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.RootTagContext=e.createContext(0)},224,[174]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.coerceDisplayMode=function(t){switch(t){case D.SUSPENDED:return D.SUSPENDED;case D.HIDDEN:return D.HIDDEN;default:return D.VISIBLE}},e.default=void 0;var D=Object.freeze({VISIBLE:1,SUSPENDED:2,HIDDEN:3});e.default=D},225,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(t){var n=e.get(t);n||((n=function(e){return e.children}).displayName=t,e.set(t,n));return n};!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i])})(e,t)})(_r(d[0]));var e=new Map},226,[174]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]),t=n(r(d[1])),i=n(r(d[2])),f=[];i.default.addListener('hardwareBackPress',function(){for(var n=f.length-1;n>=0;n--){var t;if(null!=(t=f[n])&&t.call(f))return}u.exitApp()});var u={exitApp:function(){t.default&&t.default.invokeDefaultBackPressHandler()},addEventListener:function(n,t){return-1===f.indexOf(t)&&f.push(t),{remove:function(){var n=f.indexOf(t);-1!==n&&f.splice(n,1)}}}};m.exports=u},227,[1,228,22]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},228,[229]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('DeviceEventManager')},229,[36]);
__d(function(g,r,i,a,m,e,d){m.exports={get BatchedBridge(){return r(d[0])},get ExceptionsManager(){return r(d[1])},get Platform(){return r(d[2])},get RCTEventEmitter(){return r(d[3])},get ReactNativeViewConfigRegistry(){return r(d[4])},get TextInputState(){return r(d[5])},get UIManager(){return r(d[6])},get deepDiffer(){return r(d[7])},get deepFreezeAndThrowOnMutationInDev(){return r(d[8])},get flattenStyle(){return r(d[9])},get ReactFiberErrorDialog(){return r(d[10]).default},get legacySendAccessibilityEvent(){return r(d[11])},get RawEventEmitter(){return r(d[12]).default},get CustomEvent(){return r(d[13]).default},get createAttributePayload(){return r(d[14]).create},get diffAttributePayloads(){return r(d[14]).diff},get createPublicInstance(){return r(d[15]).createPublicInstance},get createPublicTextInstance(){return r(d[15]).createPublicTextInstance},get getNativeTagFromPublicInstance(){return r(d[15]).getNativeTagFromPublicInstance},get getNodeFromPublicInstance(){return r(d[15]).getNodeFromPublicInstance},get getInternalInstanceHandleFromPublicInstance(){return r(d[15]).getInternalInstanceHandleFromPublicInstance}}},230,[4,84,33,231,212,232,44,234,235,223,236,43,237,238,240,241]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),n={register:function(n){(0,t.default)('RCTEventEmitter',n)}};m.exports=n},231,[1,3]);
__d(function(g,r,i,a,m,e,d){var n=null,u=new Set;function t(u){n!==u&&null!=u&&(n=u)}function o(u){n===u&&null!=u&&(n=null)}m.exports={currentlyFocusedInput:function(){return n},focusInput:t,blurInput:o,currentlyFocusedField:function(){return r(d[0]).findNodeHandle(n)},focusField:function(n){},blurField:function(n){},focusTextInput:function(u){if('number'!=typeof u&&null!=u){var o;if(!(n!==u&&!1!==(null==(o=u.currentProps)?void 0:o.editable)))return;t(u),r(d[1]).Commands.focus(u)}},blurTextInput:function(u){'number'!=typeof u&&n===u&&null!=u&&(o(u),r(d[1]).Commands.blur(u))},registerInput:function(n){'number'!=typeof n&&u.add(n)},unregisterInput:function(n){'number'!=typeof n&&u.delete(n)},isTextInput:function(n){return'number'!=typeof n&&u.has(n)}}},232,[57,233]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?n(u,l,i):u[l]=e[l]);return u})(e,t)})(_r(d[1])),o=e(_r(d[2]));_e.Commands=(0,o.default)({supportedCommands:['focus','blur','setTextAndSelection']});var r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'AndroidTextInput',bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}}},directEventTypes:{topScroll:{registrationName:'onScroll'}},validAttributes:{maxFontSizeMultiplier:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,autoFocus:!0,placeholder:!0,inlineImagePadding:!0,contextMenuHidden:!0,textShadowColor:{process:_r(d[3]).default},maxLength:!0,selectTextOnFocus:!0,textShadowRadius:!0,underlineColorAndroid:{process:_r(d[3]).default},textDecorationLine:!0,submitBehavior:!0,textAlignVertical:!0,fontStyle:!0,textShadowOffset:!0,selectionColor:{process:_r(d[3]).default},selectionHandleColor:{process:_r(d[3]).default},placeholderTextColor:{process:_r(d[3]).default},importantForAutofill:!0,lineHeight:!0,textTransform:!0,returnKeyType:!0,keyboardType:!0,multiline:!0,color:{process:_r(d[3]).default},autoComplete:!0,numberOfLines:!0,letterSpacing:!0,returnKeyLabel:!0,fontSize:!0,onKeyPress:!0,cursorColor:{process:_r(d[3]).default},text:!0,showSoftInputOnFocus:!0,textAlign:!0,autoCapitalize:!0,autoCorrect:!0,caretHidden:!0,secureTextEntry:!0,textBreakStrategy:!0,onScroll:!0,onContentSizeChange:!0,disableFullscreenUI:!0,includeFontPadding:!0,fontWeight:!0,fontFamily:!0,allowFontScaling:!0,onSelectionChange:!0,mostRecentEventCount:!0,inlineImageLeft:!0,editable:!0,fontVariant:!0,borderBottomRightRadius:!0,borderBottomColor:{process:_r(d[3]).default},borderRadius:!0,borderRightColor:{process:_r(d[3]).default},borderColor:{process:_r(d[3]).default},borderTopRightRadius:!0,borderStyle:!0,borderBottomLeftRadius:!0,borderLeftColor:{process:_r(d[3]).default},borderTopLeftRadius:!0,borderTopColor:{process:_r(d[3]).default}}},n=t.get('AndroidTextInput',function(){return r});_e.default=n},233,[1,181,218,184]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;var t=function(o,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s='number'==typeof f?arguments.length>3?arguments[3]:void 0:f,c='number'==typeof f?f:-1;if(0===c)return!0;if(o===u)return!1;if('function'==typeof o&&'function'==typeof u){var l=null==s?void 0:s.unsafelyIgnoreFunctions;return null==l&&(!n||!n.onDifferentFunctionsIgnored||s&&'unsafelyIgnoreFunctions'in s||n.onDifferentFunctionsIgnored(o.name,u.name),l=!0),!l}if('object'!=typeof o||null===o)return o!==u;if('object'!=typeof u||null===u)return!0;if(o.constructor!==u.constructor)return!0;if(Array.isArray(o)){var v=o.length;if(u.length!==v)return!0;for(var y=0;y<v;y++)if(t(o[y],u[y],c-1,s))return!0}else{for(var p in o)if(t(o[p],u[p],c-1,s))return!0;for(var b in u)if(void 0===o[b]&&void 0!==u[b])return!0}return!1};t.unstable_setLogListeners=function(t){n=t},m.exports=t},234,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return t}},235,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={showErrorDialog:function(o){var n,t=o.componentStack,c=o.error;n=c instanceof Error?c:'string'==typeof c?new(r(d[0]).SyntheticError)(c):new(r(d[0]).SyntheticError)('Unspecified error');try{n.componentStack=t,n.isComponentError=!0}catch(o){}return(0,r(d[0]).handleException)(n,!1),!1}};e.default=o},236,[84]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=new(t(r(d[1])).default);e.default=u},237,[1,30]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),l=e(r(d[2])),u=e(r(d[3])),c=e(r(d[4])),n=e(r(d[5]));function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}var f=(function(e){function f(e,t){var n;(0,l.default)(this,f);var s,b,v,p=t.bubbles,y=t.cancelable,_=t.composed;return s=this,b=f,v=[e,{bubbles:p,cancelable:y,composed:_}],b=(0,c.default)(b),(n=(0,u.default)(s,o()?Reflect.construct(b,v||[],(0,c.default)(s).constructor):b.apply(s,v))).detail=t.detail,n}return(0,n.default)(f,e),(0,t.default)(f)})(e(r(d[6])).default);_e.default=f},238,[1,13,12,23,25,28,239]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),l=(function(){return(0,s.default)(function t(s,l){(0,n.default)(this,t),this.type=s,this.bubbles=!(null==l||!l.bubbles),this.cancelable=!(null==l||!l.cancelable),this.composed=!(null==l||!l.composed),this.scoped=!(null==l||!l.scoped),this.isTrusted=!1,this.timeStamp=Date.now(),this.defaultPrevented=!1,this.NONE=0,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.eventPhase=this.NONE,this.currentTarget=null,this.target=null,this.srcElement=null},[{key:"composedPath",value:function(){throw new Error('TODO: not yet implemented')}},{key:"preventDefault",value:function(){this.defaultPrevented=!0,null!=this._syntheticEvent&&this._syntheticEvent.preventDefault()}},{key:"initEvent",value:function(t,n,s){throw new Error('TODO: not yet implemented. This method is also deprecated.')}},{key:"stopImmediatePropagation",value:function(){throw new Error('TODO: not yet implemented')}},{key:"stopPropagation",value:function(){null!=this._syntheticEvent&&this._syntheticEvent.stopPropagation()}},{key:"setSyntheticEvent",value:function(t){this._syntheticEvent=t}}])})();g.Event=l;e.default=l},239,[1,12,13]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(n,f){return b(null,n,f)},e.diff=function(n,f,o){return h(null,n,f,o)};var f=n(r(d[1])),o=n(r(d[2])),t={},i=null,u=0,c={unsafelyIgnoreFunctions:!0};function l(n,f){return'object'!=typeof f||null===f||(0,o.default)(n,f,c)}function y(n,f,o){if(Array.isArray(f))for(var t=f.length;t--&&u>0;)y(n,f[t],o);else if(f&&u>0){var c=f;for(var l in i)if(i[l]){var s=c[l];if(void 0!==s){var p=o[l];if(p){if('function'==typeof s&&(s=!0),void 0===s&&(s=null),'object'!=typeof p)n[l]=s;else if('function'==typeof p.diff||'function'==typeof p.process){var v='function'==typeof p.process?p.process(s):s;n[l]=v}i[l]=!1,u--}}}}}function s(n,f,o,t){var i,u=f.length<o.length?f.length:o.length;for(i=0;i<u;i++)n=p(n,f[i],o[i],t);for(;i<f.length;i++)n=A(n,f[i],t);for(;i<o.length;i++)n=v(n,o[i],t);return n}function p(n,o,t,i){return n||o!==t?o&&t?Array.isArray(o)||Array.isArray(t)?Array.isArray(o)&&Array.isArray(t)?s(n,o,t,i):Array.isArray(o)?h(n,(0,f.default)(o),t,i):h(n,o,(0,f.default)(t),i):h(n,o,t,i):t?v(n,t,i):o?A(n,o,i):n:n}function v(n,f,o){if(!f)return n;if(!Array.isArray(f))return b(n,f,o);for(var t=0;t<f.length;t++)n=v(n,f[t],o);return n}function A(n,f,o){if(!f)return n;if(!Array.isArray(f))return j(n,f,o);for(var t=0;t<f.length;t++)n=A(n,f[t],o);return n}function h(n,f,o,t){var c,s,v;for(var h in o)if(c=t[h])if(v=f[h],'function'==typeof(s=o[h])&&(s=!0,'function'==typeof v&&(v=!0)),void 0===s&&(s=null,void 0===v&&(v=null)),i&&(i[h]=!1),n&&void 0!==n[h]){if('object'!=typeof c)n[h]=s;else if('function'==typeof c.diff||'function'==typeof c.process){var b='function'==typeof c.process?c.process(s):s;n[h]=b}}else if(v!==s)if('object'!=typeof c)l(v,s)&&((n||(n={}))[h]=s);else if('function'==typeof c.diff||'function'==typeof c.process){if(void 0===v||('function'==typeof c.diff?c.diff(v,s):l(v,s))){var j='function'==typeof c.process?c.process(s):s;(n||(n={}))[h]=j}}else i=null,u=0,n=p(n,v,s,c),u>0&&n&&(y(n,s,c),i=null);for(var _ in f)void 0===o[_]&&(c=t[_])&&(n&&void 0!==n[_]||void 0!==(v=f[_])&&('object'!=typeof c||'function'==typeof c.diff||'function'==typeof c.process?((n||(n={}))[_]=null,i||(i={}),i[_]||(i[_]=!0,u++)):n=A(n,v,c)));return n}function b(n,f,o){return h(n,t,f,o)}function j(n,f,o){return h(n,f,t,o)}},240,[1,223,234]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.createPublicInstance=function(e,t,l){null==n&&(n=r.enableAccessToHostTreeInFabric()?_r(d[1]).default:_r(d[2]).default);return new n(e,t,l)},_e.createPublicTextInstance=function(n){null==e&&(e=_r(d[3]).default);return new e(n)},_e.getInternalInstanceHandleFromPublicInstance=function(n){if(null!=n._internalInstanceHandle)return n._internalInstanceHandle;return n.__internalInstanceHandle},_e.getNativeTagFromPublicInstance=function(n){return n.__nativeTag},_e.getNodeFromPublicInstance=function(n){if(null==n.__internalInstanceHandle)return null;null==t&&(t=_r(d[4]));return t.getNodeFromInternalInstanceHandle(n.__internalInstanceHandle)};var n,e,t,r=(function(n,e){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(n,e){if(!e&&n&&n.__esModule)return n;var l,u,c={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return c;if(l=e?r:t){if(l.has(n))return l.get(n);l.set(n,c)}for(var i in n)"default"!==i&&{}.hasOwnProperty.call(n,i)&&((u=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,i))&&(u.get||u.set)?l(c,i,u):c[i]=n[i]);return c})(n,e)})(_r(d[0]))},241,[104,242,249,250,57]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),u=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),f=e(_r(d[6])),i=(e(_r(d[7])),h(_r(d[8]))),l=h(_r(d[9])),c=e(_r(d[10])),s=e(_r(d[11]));function h(e,t){if("function"==typeof WeakMap)var n=new WeakMap,u=new WeakMap;return(h=function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(r=t?u:n){if(r.has(e))return r.get(e);r.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?r(f,i,o):f[i]=e[i]);return f})(e,t)}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var p=function(){},y=(function(e){function h(e,n,o){var f,i,l,c;return(0,t.default)(this,h),i=this,l=h,c=[o],l=(0,r.default)(l),(f=(0,u.default)(i,v()?Reflect.construct(l,c||[],(0,r.default)(i).constructor):l.apply(i,c))).__nativeTag=e,f.__internalInstanceHandle=o,f.__viewConfig=n,f}return(0,o.default)(h,e),(0,n.default)(h,[{key:"offsetHeight",get:function(){return Math.round((0,i.getBoundingClientRect)(this,{includeTransform:!1}).height)}},{key:"offsetLeft",get:function(){var e=(0,l.getShadowNode)(this);if(null!=e){var t=c.default.getOffset(e);return Math.round(t[2])}return 0}},{key:"offsetParent",get:function(){var e=(0,l.getShadowNode)(this);if(null!=e){var t=c.default.getOffset(e);if(null!=t[0]){var n=t[0];return(0,l.getPublicInstanceFromInternalInstanceHandle)(n)}}return null}},{key:"offsetTop",get:function(){var e=(0,l.getShadowNode)(this);if(null!=e){var t=c.default.getOffset(e);return Math.round(t[1])}return 0}},{key:"offsetWidth",get:function(){return Math.round((0,i.getBoundingClientRect)(this,{includeTransform:!1}).width)}},{key:"blur",value:function(){f.default.blurTextInput(this)}},{key:"focus",value:function(){f.default.focusTextInput(this)}},{key:"measure",value:function(e){var t=(0,l.getShadowNode)(this);null!=t&&(0,s.default)((0,_r(d[12]).getFabricUIManager)()).measure(t,e)}},{key:"measureInWindow",value:function(e){var t=(0,l.getShadowNode)(this);null!=t&&(0,s.default)((0,_r(d[12]).getFabricUIManager)()).measureInWindow(t,e)}},{key:"measureLayout",value:function(e,t,n){if(e instanceof l.default){var u=(0,l.getShadowNode)(this),r=(0,l.getShadowNode)(e);null!=u&&null!=r&&(0,s.default)((0,_r(d[12]).getFabricUIManager)()).measureLayout(u,r,null!=n?n:p,null!=t?t:p)}}},{key:"setNativeProps",value:function(e){var t=(0,_r(d[13]).create)(e,this.__viewConfig.validAttributes),n=(0,l.getShadowNode)(this);null!=n&&null!=t&&(0,s.default)((0,_r(d[12]).getFabricUIManager)()).setNativeProps(n,t)}}])})(i.default);function _(e,t,n){this.__nativeTag=e,this.__internalInstanceHandle=n,this.__viewConfig=t,(0,l.setInstanceHandle)(this,n)}_.prototype=Object.create(y.prototype);_e.default=_},242,[1,12,13,23,25,28,232,243,244,245,246,45,47,240]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t){}},243,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.getBoundingClientRect=v;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),u=e(_r(d[4])),l=e(_r(d[5])),o=e(_r(d[6])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?u(o,i,l):o[i]=e[i]);return o})(e,t)})(_r(d[7])),f=e(_r(d[8]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}var h=_e.default=(function(e){function o(){return(0,t.default)(this,o),e=this,n=o,l=arguments,n=(0,u.default)(n),(0,r.default)(e,c()?Reflect.construct(n,l||[],(0,u.default)(e).constructor):n.apply(e,l));var e,n,l}return(0,l.default)(o,e),(0,n.default)(o,[{key:"childElementCount",get:function(){return s(this).length}},{key:"children",get:function(){return(0,_r(d[9]).createHTMLCollection)(s(this))}},{key:"clientHeight",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getInnerSize(e)[1]:0}},{key:"clientLeft",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getBorderWidth(e)[3]:0}},{key:"clientTop",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getBorderWidth(e)[0]:0}},{key:"clientWidth",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getInnerSize(e)[0]:0}},{key:"firstElementChild",get:function(){var e=s(this);return 0===e.length?null:e[0]}},{key:"id",get:function(){var e,t,n,r=(0,i.getInstanceHandle)(this),u=null==r||null==(e=r.stateNode)||null==(e=e.canonical)?void 0:e.currentProps;return null!=(t=null!=(n=null==u?void 0:u.id)?n:null==u?void 0:u.nativeID)?t:''}},{key:"lastElementChild",get:function(){var e=s(this);return 0===e.length?null:e[e.length-1]}},{key:"nextElementSibling",get:function(){return(0,_r(d[10]).getElementSibling)(this,'next')}},{key:"nodeName",get:function(){return this.tagName}},{key:"nodeType",get:function(){return i.default.ELEMENT_NODE}},{key:"nodeValue",get:function(){return null},set:function(e){}},{key:"previousElementSibling",get:function(){return(0,_r(d[10]).getElementSibling)(this,'previous')}},{key:"scrollHeight",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getScrollSize(e)[1]:0}},{key:"scrollLeft",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getScrollPosition(e)[0]:0}},{key:"scrollTop",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getScrollPosition(e)[1]:0}},{key:"scrollWidth",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getScrollSize(e)[0]:0}},{key:"tagName",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getTagName(e):''}},{key:"textContent",get:function(){var e=(0,i.getShadowNode)(this);return null!=e?f.default.getTextContent(e):''}},{key:"getBoundingClientRect",value:function(){return v(this,{includeTransform:!0})}},{key:"hasPointerCapture",value:function(e){var t=(0,i.getShadowNode)(this);return null!=t&&f.default.hasPointerCapture(t,e)}},{key:"setPointerCapture",value:function(e){var t=(0,i.getShadowNode)(this);null!=t&&f.default.setPointerCapture(t,e)}},{key:"releasePointerCapture",value:function(e){var t=(0,i.getShadowNode)(this);null!=t&&f.default.releasePointerCapture(t,e)}}])})(i.default);function s(e){return(0,i.getChildNodes)(e).filter(function(e){return e instanceof h})}function v(e,t){var n=t.includeTransform,r=(0,i.getShadowNode)(e);if(null!=r){var u=f.default.getBoundingClientRect(r,n);return new o.default(u[0],u[1],u[2],u[3])}return new o.default(0,0,0,0)}},244,[1,12,13,23,25,28,66,245,246,247,248]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.getChildNodes=_,e.getInstanceHandle=E,e.getPublicInstanceFromInternalInstanceHandle=C,e.getShadowNode=I,e.setInstanceHandle=f;var t,u=n(r(d[1])),l=n(r(d[2])),o=n(r(d[3])),N=n(r(d[4])),s=e.default=(function(){function n(t){(0,l.default)(this,n),f(this,t)}return(0,o.default)(n,[{key:"childNodes",get:function(){var n=_(this);return(0,r(d[5]).createNodeList)(n)}},{key:"firstChild",get:function(){var n=_(this);return 0===n.length?null:n[0]}},{key:"isConnected",get:function(){var n=I(this);return null!=n&&N.default.isConnected(n)}},{key:"lastChild",get:function(){var n=_(this);return 0===n.length?null:n[n.length-1]}},{key:"nextSibling",get:function(){var n=h(this),t=(0,u.default)(n,2),l=t[0],o=t[1];return o===l.length-1?null:l[o+1]}},{key:"nodeName",get:function(){throw new TypeError('`nodeName` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"nodeType",get:function(){throw new TypeError('`nodeType` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"nodeValue",get:function(){throw new TypeError('`nodeValue` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"parentElement",get:function(){var n=this.parentNode;return null==t&&(t=r(d[6]).default),n instanceof t?n:null}},{key:"parentNode",get:function(){var n,t=I(this);if(null==t)return null;var u=N.default.getParentNode(t);return null==u?null:null!=(n=C(u))?n:null}},{key:"previousSibling",get:function(){var n=h(this),t=(0,u.default)(n,2),l=t[0],o=t[1];return 0===o?null:l[o-1]}},{key:"textContent",get:function(){throw new TypeError('`textContent` is abstract and must be implemented in a subclass of `ReadOnlyNode`')}},{key:"compareDocumentPosition",value:function(t){if(t===this)return 0;var u=I(this),l=I(t);return null==u||null==l?n.DOCUMENT_POSITION_DISCONNECTED:N.default.compareDocumentPosition(u,l)}},{key:"contains",value:function(t){return t===this||0!==(this.compareDocumentPosition(t)&n.DOCUMENT_POSITION_CONTAINED_BY)}},{key:"getRootNode",value:function(){for(var n=this,t=this.parentNode;null!=t;)n=t,t=t.parentNode;return n}},{key:"hasChildNodes",value:function(){return _(this).length>0}}])})();s.ELEMENT_NODE=1,s.ATTRIBUTE_NODE=2,s.TEXT_NODE=3,s.CDATA_SECTION_NODE=4,s.ENTITY_REFERENCE_NODE=5,s.ENTITY_NODE=6,s.PROCESSING_INSTRUCTION_NODE=7,s.COMMENT_NODE=8,s.DOCUMENT_NODE=9,s.DOCUMENT_TYPE_NODE=10,s.DOCUMENT_FRAGMENT_NODE=11,s.NOTATION_NODE=12,s.DOCUMENT_POSITION_DISCONNECTED=1,s.DOCUMENT_POSITION_PRECEDING=2,s.DOCUMENT_POSITION_FOLLOWING=4,s.DOCUMENT_POSITION_CONTAINS=8,s.DOCUMENT_POSITION_CONTAINED_BY=16,s.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var c,O=Symbol('internalInstanceHandle');function E(n){return n[O]}function f(n,t){n[O]=t}function T(){return null==c&&(c=r(d[7])),c}function I(n){return T().getNodeFromInternalInstanceHandle(E(n))}function _(n){var t=I(n);return null==t?[]:N.default.getChildNodes(t).map(function(n){return C(n)}).filter(Boolean)}function h(n){var t=n.parentNode;if(null==t)return[[n],0];var u=_(t),l=u.indexOf(n);if(-1===l)throw new TypeError("Missing node in parent's child node list");return[u,l]}function C(n){return T().getPublicInstanceFromInternalInstanceHandle(n)}},245,[1,38,12,13,246,68,244,57]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[1])),n=e(_r(d[2]));var r=t.get('NativeDOMCxx'),u={getParentNode:function(e){return(0,n.default)(r).getParentNode(e)},getChildNodes:function(e){return(0,n.default)(r).getChildNodes(e)},isConnected:function(e){return(0,n.default)(r).isConnected(e)},compareDocumentPosition:function(e,t){return(0,n.default)(r).compareDocumentPosition(e,t)},getTextContent:function(e){return(0,n.default)(r).getTextContent(e)},getBoundingClientRect:function(e,t){return(0,n.default)(r).getBoundingClientRect(e,t)},getOffset:function(e){return(0,n.default)(r).getOffset(e)},getScrollPosition:function(e){return(0,n.default)(r).getScrollPosition(e)},getScrollSize:function(e){return(0,n.default)(r).getScrollSize(e)},getInnerSize:function(e){return(0,n.default)(r).getInnerSize(e)},getBorderWidth:function(e){return(0,n.default)(r).getBorderWidth(e)},getTagName:function(e){return(0,n.default)(r).getTagName(e)},hasPointerCapture:function(e,t){return(0,n.default)(r).hasPointerCapture(e,t)},setPointerCapture:function(e,t){return(0,n.default)(r).setPointerCapture(e,t)},releasePointerCapture:function(e,t){return(0,n.default)(r).releasePointerCapture(e,t)},measure:function(e,t){return(0,n.default)(r).measure(e,t)},measureInWindow:function(e,t){return(0,n.default)(r).measureInWindow(e,t)},measureLayout:function(e,t,u,o){return(0,n.default)(r).measureLayout(e,t,u,o)}};_e.default=u},246,[1,36,45]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createHTMLCollection=function(t){return new f(t)},e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),i=(0,t(r(d[4])).default)("length"),f=e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t),Object.defineProperty(this,i,{writable:!0,value:void 0});for(var f=0;f<u.length;f++)Object.defineProperty(this,f,{value:u[f],enumerable:!0,configurable:!1,writable:!1});(0,l.default)(this,i)[i]=u.length},[{key:"length",get:function(){return(0,l.default)(this,i)[i]}},{key:"item",value:function(t){if(t<0||t>=(0,l.default)(this,i)[i])return null;return this[t]}},{key:"namedItem",value:function(t){return null}},{key:Symbol.iterator,value:function(){return(0,r(d[5]).createValueIterator)(this)}}])})()},247,[1,12,13,31,32,69]);
__d(function(g,r,i,a,m,e,d){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.getElementSibling=function(l,u){var t,f=l.parentNode;if(null==f)return null;var o=(0,r(d[0]).getChildNodes)(f),v=o.indexOf(l);if(-1===v)return null;var c='next'===u?1:-1,_=v+c;null==n&&(n=r(d[1]).default);for(;null!=o[_]&&!(o[_]instanceof n);)_+=c;return null!=(t=o[_])?t:null}},248,[245,244]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),l=n(r(d[2])),u=n(r(d[3])),s=(n(r(d[4])),(0,n(r(d[5])).default)((0,r(d[6]).getFabricUIManager)())),o=s.measure,c=s.measureInWindow,f=s.measureLayout,I=s.getBoundingClientRect,v=s.setNativeProps,_=function(){};e.default=(function(){function n(l,u,s){(0,t.default)(this,n),this.__nativeTag=l,this._viewConfig=u,this.__internalInstanceHandle=s}return(0,l.default)(n,[{key:"blur",value:function(){u.default.blurTextInput(this)}},{key:"focus",value:function(){u.default.focusTextInput(this)}},{key:"measure",value:function(n){var t=(0,r(d[7]).getNodeFromInternalInstanceHandle)(this.__internalInstanceHandle);null!=t&&o(t,n)}},{key:"measureInWindow",value:function(n){var t=(0,r(d[7]).getNodeFromInternalInstanceHandle)(this.__internalInstanceHandle);null!=t&&c(t,n)}},{key:"measureLayout",value:function(t,l,u){if('number'!=typeof t&&t instanceof n){var s=(0,r(d[7]).getNodeFromInternalInstanceHandle)(this.__internalInstanceHandle),o=(0,r(d[7]).getNodeFromInternalInstanceHandle)(t.__internalInstanceHandle);null!=s&&null!=o&&f(s,o,null!=u?u:_,null!=l?l:_)}}},{key:"unstable_getBoundingClientRect",value:function(){var n=(0,r(d[7]).getNodeFromInternalInstanceHandle)(this.__internalInstanceHandle);if(null!=n){var t=I(n,!0);if(t)return new DOMRect(t[0],t[1],t[2],t[3])}return new DOMRect(0,0,0,0)}},{key:"setNativeProps",value:function(n){var t=(0,r(d[8]).create)(n,this._viewConfig.validAttributes),l=(0,r(d[7]).getNodeFromInternalInstanceHandle)(this.__internalInstanceHandle);null!=l&&null!=t&&v(l,t)}}])})()},249,[1,12,13,232,243,45,47,57,240]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),o=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),l=t(r(d[7]));function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}_e.default=(function(t){function c(){return(0,e.default)(this,c),t=this,n=c,f=arguments,n=(0,o.default)(n),(0,u.default)(t,v()?Reflect.construct(n,f||[],(0,o.default)(t).constructor):n.apply(t,f));var t,n,f}return(0,f.default)(c,t),(0,n.default)(c,[{key:"nodeName",get:function(){return'#text'}},{key:"nodeType",get:function(){return l.default.TEXT_NODE}}])})(c.default)},250,[1,12,13,23,25,28,251,245]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),i=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var u,o,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(u=e?r:n){if(u.has(t))return u.get(t);u.set(t,i)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(o.get||o.set)?u(i,l,o):i[l]=t[l]);return i})(t,e)})(_r(d[6])),l=t(_r(d[7]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}_e.default=(function(t){function c(){return(0,e.default)(this,c),t=this,n=c,o=arguments,n=(0,u.default)(n),(0,r.default)(t,f()?Reflect.construct(n,o||[],(0,u.default)(t).constructor):n.apply(t,o));var t,n,o}return(0,o.default)(c,t),(0,n.default)(c,[{key:"nextElementSibling",get:function(){return(0,_r(d[8]).getElementSibling)(this,'next')}},{key:"previousElementSibling",get:function(){return(0,_r(d[8]).getElementSibling)(this,'previous')}},{key:"data",get:function(){var t=(0,i.getShadowNode)(this);return null!=t?l.default.getTextContent(t):''}},{key:"length",get:function(){return this.data.length}},{key:"textContent",get:function(){return this.data}},{key:"nodeValue",get:function(){return this.data}},{key:"substringData",value:function(t,e){var n=this.data;if(t<0)throw new TypeError(`Failed to execute 'substringData' on 'CharacterData': The offset ${t} is negative.`);if(t>n.length)throw new TypeError(`Failed to execute 'substringData' on 'CharacterData': The offset ${t} is greater than the node's length (${n.length}).`);var r=e<0||e>n.length?n.length:e;return n.slice(t,t+r)}}])})(i.default)},251,[1,12,13,23,25,28,245,246,248]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},252,[253]);
__d(function(g,r,i,_a,m,e,d){
/**
   * @license React
   * scheduler.native.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function n(n,t){var u=n.length;n.push(t);e:for(;0<u;){var a=u-1>>>1,o=n[a];if(!(0<l(o,t)))break e;n[a]=t,n[u]=o,u=a}}function t(n){return 0===n.length?null:n[0]}function u(n){if(0===n.length)return null;var t=n[0],u=n.pop();if(u!==t){n[0]=u;e:for(var a=0,o=n.length,c=o>>>1;a<c;){var f=2*(a+1)-1,s=n[f],b=f+1,v=n[b];if(0>l(s,u))b<o&&0>l(v,s)?(n[a]=v,n[b]=u,a=b):(n[a]=s,n[f]=u,a=f);else{if(!(b<o&&0>l(v,u)))break e;n[a]=v,n[b]=u,a=b}}}return t}function l(n,t){var u=n.sortIndex-t.sortIndex;return 0!==u?u:n.id-t.id}var a;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;a=function(){return o.now()}}else{var c=Date,f=c.now();a=function(){return c.now()-f}}var s=[],b=[],v=1,y=null,p=3,h=!1,_=!1,k=!1,R="function"==typeof setTimeout?setTimeout:null,S="function"==typeof clearTimeout?clearTimeout:null,P="undefined"!=typeof setImmediate?setImmediate:null;function x(l){for(var a=t(b);null!==a;){if(null===a.callback)u(b);else{if(!(a.startTime<=l))break;u(b),a.sortIndex=a.expirationTime,n(s,a)}a=t(b)}}function w(n){if(k=!1,x(n),!_)if(null!==t(s))_=!0,T||(T=!0,I());else{var u=t(b);null!==u&&q(w,u.startTime-n)}}var I,T=!1,C=-1,L=-1;function N(){return!(5>a()-L)}function E(){if(T){var n=a();L=n;var l=!0;try{e:{_=!1,k&&(k=!1,S(C),C=-1),h=!0;var o=p;try{n:{for(x(n),y=t(s);null!==y&&!(y.expirationTime>n&&N());){var c=y.callback;if("function"==typeof c){y.callback=null,p=y.priorityLevel;var f=c(y.expirationTime<=n);if(n=a(),"function"==typeof f){y.callback=f,x(n),l=!0;break n}y===t(s)&&u(s),x(n)}else u(s);y=t(s)}if(null!==y)l=!0;else{var v=t(b);null!==v&&q(w,v.startTime-n),l=!1}}break e}finally{y=null,p=o,h=!1}l=void 0}}finally{l?I():T=!1}}}if("function"==typeof P)I=function(){P(E)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,j=M.port2;M.port1.onmessage=E,I=function(){j.postMessage(null)}}else I=function(){R(E,0)};function q(n,t){C=R(function(){n(a())},t)}var B="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_UserBlockingPriority:2,F="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_NormalPriority:3,U="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_LowPriority:4,Y="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_ImmediatePriority:1,D="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_scheduleCallback:function(u,l,o){var c=a();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?c+o:c:o=c,u){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return u={id:v++,callback:l,priorityLevel:u,startTime:o,expirationTime:f=o+f,sortIndex:-1},o>c?(u.sortIndex=o,n(b,u),null===t(s)&&u===t(b)&&(k?(S(C),C=-1):k=!0,q(w,o-c))):(u.sortIndex=f,n(s,u),_||h||(_=!0,T||(T=!0,I()))),u},W="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_cancelCallback:function(n){n.callback=null},z="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_getCurrentPriorityLevel:function(){return p},A="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_shouldYield:N,G="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_requestPaint:function(){},H="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_now:a;function J(){throw Error("Not implemented.")}e.unstable_IdlePriority="undefined"!=typeof nativeRuntimeScheduler?nativeRuntimeScheduler.unstable_IdlePriority:5,e.unstable_ImmediatePriority=Y,e.unstable_LowPriority=U,e.unstable_NormalPriority=F,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=B,e.unstable_cancelCallback=W,e.unstable_continueExecution=J,e.unstable_forceFrameRate=J,e.unstable_getCurrentPriorityLevel=z,e.unstable_getFirstCallbackNode=J,e.unstable_next=J,e.unstable_now=H,e.unstable_pauseExecution=J,e.unstable_requestPaint=G,e.unstable_runWithPriority=J,e.unstable_scheduleCallback=D,e.unstable_shouldYield=A,e.unstable_wrapCallback=J},253,[]);
__d(function(g,r,i,a,m,e,d){function n(n,o){var t;t=n instanceof Error?n:'string'==typeof n?new(r(d[0]).SyntheticError)(n):new(r(d[0]).SyntheticError)('Unspecified error');try{t.componentStack=o.componentStack,t.isComponentError=!0}catch(n){}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.onCaughtError=function(o,t){var c=n(o,t);(0,r(d[0]).handleException)(c,!1)},e.onRecoverableError=function(o,t){var c=n(o,t);console.warn(c)},e.onUncaughtError=function(o,t){var c=n(o,t);(0,r(d[0]).handleException)(c,!0)}},254,[84]);
__d(function(g,r,i,a,m,e,d){'use strict';var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=r(d[0]);e.default=t},255,[256]);
__d(function(e,n,t,r,l,a,i){"use strict";n(i[0]);var u=n(i[1]),o=Array.isArray,s=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}var C,x,R=Object.assign;function N(e){if(void 0===C)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||"",x=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+C+e+x}var L=!1;function I(e,n){if(!e||L)return"";L=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}(t=e())&&"function"==typeof t.catch&&t.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],u=a[1];if(i&&u){var o=i.split("\n"),s=u.split("\n");for(l=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;l<s.length&&!s[l].includes("DetermineComponentFrameRoot");)l++;if(r===o.length||l===s.length)for(r=o.length-1,l=s.length-1;1<=r&&0<=l&&o[r]!==s[l];)l--;for(;1<=r&&0<=l;r--,l--)if(o[r]!==s[l]){if(1!==r||1!==l)do{if(r--,0>--l||o[r]!==s[l]){var c="\n"+o[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=l);break}}}finally{L=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?N(t):""}function U(e){switch(e.tag){case 26:case 27:case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function F(e){try{var n="";do{n+=U(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var M=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===M?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case d:return"Portal";case m:return"Profiler";case h:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case b:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case y:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(n=e.displayName||null)?n:D(e.type)||"Memo";case E:n=e._payload,e=e._init;try{return D(e(n))}catch(e){}}return null}var A=!1,j=null,Q=null,V=null,H=null;function O(e,n,t){e.currentTarget=H(t);try{n(e)}catch(e){A||(A=!0,j=e)}e.currentTarget=null}function B(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(o(n))throw Error("Invalid `event`.");return e.currentTarget=n?H(t):null,n=n?n(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function W(){return!0}function $(){return!1}function q(e,n,t,r){for(var l in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,this._dispatchInstances=this._dispatchListeners=null,e=this.constructor.Interface)e.hasOwnProperty(l)&&((n=e[l])?this[l]=n(t):"target"===l?this.target=r:this[l]=t[l]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?W:$,this.isPropagationStopped=$,this}function Y(e,n,t,r){if(this.eventPool.length){var l=this.eventPool.pop();return this.call(l,e,n,t,r),l}return new this(e,n,t,r)}function X(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function G(e){e.getPooled=Y,e.eventPool=[],e.release=X}R(q.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){this.isPersistent=W},isPersistent:$,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$,this._dispatchInstances=this._dispatchListeners=null}}),q.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},q.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var l=new n;return R(l,t.prototype),t.prototype=l,t.prototype.constructor=t,t.Interface=R({},r.Interface,e),t.extend=r.extend,G(t),t},G(q);var J=q.extend({touchHistory:function(){return null}});function K(e){return"topTouchStart"===e}function Z(e){return"topTouchMove"===e}var ee=["topTouchStart"],ne=["topTouchMove"],te=["topTouchCancel","topTouchEnd"],re=[],le={touchBank:re,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function ae(e){return e.timeStamp||e.timestamp}function ie(e){if(null==(e=e.identifier))throw Error("Touch object is missing identifier.");return e}function ue(e){var n=ie(e),t=re[n];t?(t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=ae(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=ae(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=ae(e)):(t={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:ae(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:ae(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:ae(e)},re[n]=t),le.mostRecentTimeStamp=ae(e)}function oe(e){var n=re[ie(e)];n&&(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=ae(e),le.mostRecentTimeStamp=ae(e))}function se(e){var n=re[ie(e)];n&&(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=ae(e),le.mostRecentTimeStamp=ae(e))}var ce,fe={instrument:function(e){ce=e},recordTouchTrack:function(e,n){if(null!=ce&&ce(e,n),Z(e))n.changedTouches.forEach(oe);else if(K(e))n.changedTouches.forEach(ue),le.numberActiveTouches=n.touches.length,1===le.numberActiveTouches&&(le.indexOfSingleActiveTouch=n.touches[0].identifier);else if(("topTouchEnd"===e||"topTouchCancel"===e)&&(n.changedTouches.forEach(se),le.numberActiveTouches=n.touches.length,1===le.numberActiveTouches))for(e=0;e<re.length;e++)if(null!=(n=re[e])&&n.touchActive){le.indexOfSingleActiveTouch=e;break}},touchHistory:le};function de(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:o(e)?e.concat(n):o(n)?[e].concat(n):[e,n]}function pe(e,n){if(null==n)throw Error("Accumulated items must not be null or undefined.");return null==e?n:o(e)?o(n)?(e.push.apply(e,n),e):(e.push(n),e):o(n)?[e].concat(n):[e,n]}function he(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var me=null,ge=0;function ve(e,n){var t=me;me=e,null!==_e.GlobalResponderHandler&&_e.GlobalResponderHandler.onChange(t,e,n)}var be={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:ee},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["topScroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["topSelectionChange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:ne},responderStart:{registrationName:"onResponderStart",dependencies:ee},responderMove:{registrationName:"onResponderMove",dependencies:ne},responderEnd:{registrationName:"onResponderEnd",dependencies:te},responderRelease:{registrationName:"onResponderRelease",dependencies:te},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}};function ye(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Se(e,n,t){for(var r=[];e;)r.push(e),e=ye(e);for(e=r.length;0<e--;)n(r[e],"captured",t);for(e=0;e<r.length;e++)n(r[e],"bubbled",t)}function ke(e,n){if(null===(e=e.stateNode))return null;if(null===(e=Q(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}function we(e,n,t){(n=ke(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=pe(t._dispatchListeners,n),t._dispatchInstances=pe(t._dispatchInstances,e))}function Ee(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=ke(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=pe(e._dispatchListeners,t),e._dispatchInstances=pe(e._dispatchInstances,n))}}}function Pe(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var n=e._targetInst;Se(n=n?ye(n):null,we,e)}}function Te(e){e&&e.dispatchConfig.phasedRegistrationNames&&Se(e._targetInst,we,e)}var _e={_getResponder:function(){return me},eventTypes:be,extractEvents:function(e,n,t,r){if(K(e))ge+=1;else if("topTouchEnd"===e||"topTouchCancel"===e){if(!(0<=ge))return null;--ge}if(fe.recordTouchTrack(e,t),n&&("topScroll"===e&&!t.responderIgnoreScroll||0<ge&&"topSelectionChange"===e||K(e)||Z(e))){var l=K(e)?be.startShouldSetResponder:Z(e)?be.moveShouldSetResponder:"topSelectionChange"===e?be.selectionChangeShouldSetResponder:be.scrollShouldSetResponder;if(me)e:{for(var a=me,i=0,u=a;u;u=ye(u))i++;u=0;for(var s=n;s;s=ye(s))u++;for(;0<i-u;)a=ye(a),i--;for(;0<u-i;)n=ye(n),u--;for(;i--;){if(a===n||a===n.alternate)break e;a=ye(a),n=ye(n)}a=null}else a=n;a=(n=a)===me,(l=J.getPooled(l,n,t,r)).touchHistory=fe.touchHistory,he(l,a?Pe:Te);e:{if(a=l._dispatchListeners,n=l._dispatchInstances,o(a)){for(i=0;i<a.length&&!l.isPropagationStopped();i++)if(a[i](l,n[i])){a=n[i];break e}}else if(a&&a(l,n)){a=n;break e}a=null}if(l._dispatchInstances=null,l._dispatchListeners=null,l.isPersistent()||l.constructor.release(l),a&&a!==me)if((l=J.getPooled(be.responderGrant,a,t,r)).touchHistory=fe.touchHistory,he(l,Ee),n=!0===B(l),me)if((i=J.getPooled(be.responderTerminationRequest,me,t,r)).touchHistory=fe.touchHistory,he(i,Ee),u=!i._dispatchListeners||B(i),i.isPersistent()||i.constructor.release(i),u){(i=J.getPooled(be.responderTerminate,me,t,r)).touchHistory=fe.touchHistory,he(i,Ee);var c=de(c,[l,i]);ve(a,n)}else(l=J.getPooled(be.responderReject,a,t,r)).touchHistory=fe.touchHistory,he(l,Ee),c=de(c,l);else c=de(c,l),ve(a,n);else c=null}else c=null;if(l=me&&K(e),a=me&&Z(e),n=me&&("topTouchEnd"===e||"topTouchCancel"===e),(l=l?be.responderStart:a?be.responderMove:n?be.responderEnd:null)&&((l=J.getPooled(l,me,t,r)).touchHistory=fe.touchHistory,he(l,Ee),c=de(c,l)),l=me&&"topTouchCancel"===e,e=me&&!l&&("topTouchEnd"===e||"topTouchCancel"===e))e:{if((e=t.touches)&&0!==e.length)for(a=0;a<e.length;a++)if(null!=(n=e[a].target)&&0!==n){i=V(n);n:{for(n=me;i;){if(n===i||n===i.alternate){n=!0;break n}i=ye(i)}n=!1}if(n){e=!1;break e}}e=!0}return(e=l?be.responderTerminate:e?be.responderRelease:null)&&((t=J.getPooled(e,me,t,r)).touchHistory=fe.touchHistory,he(t,Ee),c=de(c,t),ve(null)),c},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){_e.GlobalResponderHandler=e}}},ze=null,Ce={};function xe(){if(ze)for(var e in Ce){var n=Ce[e],t=ze.indexOf(e);if(-1>=t)throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!Ne[t]){if(!n.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");for(var r in Ne[t]=n,t=n.eventTypes){var l=void 0,a=t[r];if(Le.hasOwnProperty(r))throw Error("EventPluginRegistry: More than one plugin attempted to publish the same event name, `"+r+"`.");Le[r]=a;var i=a.phasedRegistrationNames;if(i){for(l in i)i.hasOwnProperty(l)&&Re(i[l],n);l=!0}else a.registrationName?(Re(a.registrationName,n),l=!0):l=!1;if(!l)throw Error("EventPluginRegistry: Failed to publish event `"+r+"` for plugin `"+e+"`.")}}}}function Re(e,n){if(Ie[e])throw Error("EventPluginRegistry: More than one plugin attempted to publish the same registration name, `"+e+"`.");Ie[e]=n}var Ne=[],Le={},Ie={};function Ue(e,n){if(null===(e=e.stateNode))return null;if(null===(e=Q(e)))return null;if((e=e[n])&&"function"!=typeof e)throw Error("Expected `"+n+"` listener to be a function, instead got a value of `"+typeof e+"` type.");return e}var Fe=n(i[2]).ReactNativeViewConfigRegistry.customBubblingEventTypes,Me=n(i[2]).ReactNativeViewConfigRegistry.customDirectEventTypes;function De(e,n,t){(n=Ue(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=pe(t._dispatchListeners,n),t._dispatchInstances=pe(t._dispatchInstances,e))}function Ae(e,n,t,r){for(var l=[];e;){l.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=l.length;0<e--;)n(l[e],"captured",t);if(r)n(l[0],"bubbled",t);else for(e=0;e<l.length;e++)n(l[e],"bubbled",t)}function je(e){e&&e.dispatchConfig.phasedRegistrationNames&&Ae(e._targetInst,De,e,!1)}function Qe(e){if(e&&e.dispatchConfig.registrationName){var n=e._targetInst;if(n&&e&&e.dispatchConfig.registrationName){var t=Ue(n,e.dispatchConfig.registrationName);t&&(e._dispatchListeners=pe(e._dispatchListeners,t),e._dispatchInstances=pe(e._dispatchInstances,n))}}}if(ze)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");ze=Array.prototype.slice.call(["ResponderEventPlugin","ReactNativeBridgeEventPlugin"]),xe();var Ve,He={ResponderEventPlugin:_e,ReactNativeBridgeEventPlugin:{eventTypes:{},extractEvents:function(e,n,t,r){if(null==n)return null;var l=Fe[e],a=Me[e];if(!l&&!a)throw Error('Unsupported top level event type "'+e+'" dispatched');if(e=q.getPooled(l||a,n,t,r),l)null!=e&&null!=e.dispatchConfig.phasedRegistrationNames&&e.dispatchConfig.phasedRegistrationNames.skipBubbling?e&&e.dispatchConfig.phasedRegistrationNames&&Ae(e._targetInst,De,e,!0):he(e,je);else{if(!a)return null;he(e,Qe)}return e}}},Oe=!1;for(Ve in He)if(He.hasOwnProperty(Ve)){var Be=He[Ve];if(!Ce.hasOwnProperty(Ve)||Ce[Ve]!==Be){if(Ce[Ve])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+Ve+"`.");Ce[Ve]=Be,Oe=!0}}Oe&&xe();var We=new Map,$e=new Map;function qe(e){return We.get(e)||null}function Ye(e,n){return e(n)}var Xe=!1;function Ge(e,n){if(Xe)return e(n);Xe=!0;try{return Ye(e,n)}finally{Xe=!1}}var Je=null;function Ke(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(o(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)O(e,n[r],t[r]);else n&&O(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var Ze={};function en(e,n,t){var r=t||Ze,l=qe(e),a=null;null!=l&&(a=l.stateNode),Ge(function(){for(var e=a,t=null,i=Ne,u=0;u<i.length;u++){var o=i[u];o&&(o=o.extractEvents(n,l,r,e))&&(t=pe(t,o))}if(null!==(e=t)&&(Je=pe(Je,e)),e=Je,Je=null,e){if(he(e,Ke),Je)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");if(A)throw e=j,A=!1,j=null,e}})}function nn(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function tn(e){if(nn(e)!==e)throw Error("Unable to find node on an unmounted component.")}function rn(e){var n=e.alternate;if(!n){if(null===(n=nn(e)))throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return tn(l),e;if(a===r)return tn(l),n;a=a.sibling}throw Error("Unable to find node on an unmounted component.")}if(t.return!==r.return)t=l,r=a;else{for(var i=!1,u=l.child;u;){if(u===t){i=!0,t=l,r=a;break}if(u===r){i=!0,r=l,t=a;break}u=u.sibling}if(!i){for(u=a.child;u;){if(u===t){i=!0,t=a,r=l;break}if(u===r){i=!0,r=a,t=l;break}u=u.sibling}if(!i)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(t.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==t.tag)throw Error("Unable to find node on an unmounted component.");return t.stateNode.current===t?e:n}function ln(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=ln(e)))return n;e=e.sibling}return null}n(i[2]).RCTEventEmitter.register({receiveEvent:function(e,n,t){en(e,n,t)},receiveTouches:function(e,n,t){if("topTouchEnd"===e||"topTouchCancel"===e){for(var r=[],l=0;l<t.length;l++){var a=t[l];r.push(n[a]),n[a]=null}for(l=t=0;l<n.length;l++)null!==(a=n[l])&&(n[t++]=a);n.length=t}else for(r=[],l=0;l<t.length;l++)r.push(n[t[l]]);for(t=0;t<r.length;t++){(l=r[t]).changedTouches=r,l.touches=n,a=null;var i=l.target;null==i||1>i||(a=i),en(a,e,l)}}}),Q=function(e){return $e.get(e._nativeTag)||null},V=qe,H=function(e){var n=(e=e.stateNode)._nativeTag;if(void 0===n&&null!=e.canonical&&(n=e.canonical.nativeTag,e=e.canonical.publicInstance),!n)throw Error("All native instances should have a tag.");return e},_e.injection.injectGlobalResponderHandler({onChange:function(e,t,r){null!==t?n(i[2]).UIManager.setJSResponder(t.stateNode._nativeTag,r):n(i[2]).UIManager.clearJSResponder()}});var an={},un=null,on=0,sn={unsafelyIgnoreFunctions:!0};function cn(e,t){return"object"!=typeof t||null===t||n(i[2]).deepDiffer(e,t,sn)}function fn(e,n,t){if(o(n))for(var r=n.length;r--&&0<on;)fn(e,n[r],t);else if(n&&0<on)for(r in un)if(un[r]){var l=n[r];if(void 0!==l){var a=t[r];a&&("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof a?e[r]=l:"function"!=typeof a.diff&&"function"!=typeof a.process||(l="function"==typeof a.process?a.process(l):l,e[r]=l),un[r]=!1,on--)}}}function dn(e,t,r,l){if(!e&&t===r)return e;if(!t||!r)return r?pn(e,r,l):t?hn(e,t,l):e;if(!o(t)&&!o(r))return mn(e,t,r,l);if(o(t)&&o(r)){var a,u=t.length<r.length?t.length:r.length;for(a=0;a<u;a++)e=dn(e,t[a],r[a],l);for(;a<t.length;a++)e=hn(e,t[a],l);for(;a<r.length;a++)e=pn(e,r[a],l);return e}return o(t)?mn(e,n(i[2]).flattenStyle(t),r,l):mn(e,t,n(i[2]).flattenStyle(r),l)}function pn(e,n,t){if(!n)return e;if(!o(n))return mn(e,an,n,t);for(var r=0;r<n.length;r++)e=pn(e,n[r],t);return e}function hn(e,n,t){if(!n)return e;if(!o(n))return mn(e,n,an,t);for(var r=0;r<n.length;r++)e=hn(e,n[r],t);return e}function mn(e,n,t,r){var l,a;for(a in t)if(l=r[a]){var i=n[a],u=t[a];"function"==typeof u&&(u=!0,"function"==typeof i&&(i=!0)),void 0===u&&(u=null,void 0===i&&(i=null)),un&&(un[a]=!1),e&&void 0!==e[a]?"object"!=typeof l?e[a]=u:"function"!=typeof l.diff&&"function"!=typeof l.process||(l="function"==typeof l.process?l.process(u):u,e[a]=l):i!==u&&("object"!=typeof l?cn(i,u)&&((e||(e={}))[a]=u):"function"==typeof l.diff||"function"==typeof l.process?(void 0===i||("function"==typeof l.diff?l.diff(i,u):cn(i,u)))&&(l="function"==typeof l.process?l.process(u):u,(e||(e={}))[a]=l):(un=null,on=0,e=dn(e,i,u,l),0<on&&e&&(fn(e,u,l),un=null)))}for(var o in n)void 0===t[o]&&(!(l=r[o])||e&&void 0!==e[o]||void 0!==(i=n[o])&&("object"!=typeof l||"function"==typeof l.diff||"function"==typeof l.process?((e||(e={}))[o]=null,un||(un={}),un[o]||(un[o]=!0,on++)):e=hn(e,i,l)));return e}function gn(e,n){return function(){if(n&&("boolean"!=typeof e.__isMounted||e.__isMounted))return n.apply(e,arguments)}}var vn=(function(){function e(e,n){this.viewConfig=this._internalFiberInstanceHandleDEV=void 0,this._nativeTag=e,this._children=[],this.viewConfig=n}var t=e.prototype;return t.blur=function(){n(i[2]).TextInputState.blurTextInput(this)},t.focus=function(){n(i[2]).TextInputState.focusTextInput(this)},t.measure=function(e){n(i[2]).UIManager.measure(this._nativeTag,gn(this,e))},t.measureInWindow=function(e){n(i[2]).UIManager.measureInWindow(this._nativeTag,gn(this,e))},t.measureLayout=function(e,t,r){if("number"==typeof e)var l=e;else e._nativeTag&&(l=e._nativeTag);null!=l&&n(i[2]).UIManager.measureLayout(this._nativeTag,l,gn(this,r),gn(this,t))},t.setNativeProps=function(e){null!=(e=mn(null,an,e,this.viewConfig.validAttributes))&&n(i[2]).UIManager.updateView(this._nativeTag,this.viewConfig.uiViewClassName,e)},e})(),bn=null,yn=null;function Sn(e){if(yn&&"function"==typeof yn.onCommitFiberRoot)try{yn.onCommitFiberRoot(bn,e,void 0,!(128&~e.current.flags))}catch(e){}}function kn(e){if("function"==typeof n(i[3]).log&&n(i[3]).unstable_setDisableYieldValue(e),yn&&"function"==typeof yn.setStrictMode)try{yn.setStrictMode(bn,e)}catch(e){}}var wn=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(En(e)/Pn|0)|0},En=Math.log,Pn=Math.LN2;var Tn=128,_n=4194304;function zn(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var u=134217727&t;return 0!==u?0!==(t=u&~l)?r=zn(t):0!==(a&=u)?r=zn(a):e||0!==(i=u&~i)&&(r=zn(i)):0!==(u=t&~l)?r=zn(u):0!==a?r=zn(a):e||0!==(i=t&~i)&&(r=zn(i)),0===r?0:0!==n&&n!==r&&0===(n&l)&&((l=r&-r)>=(i=n&-n)||32===l&&4194176&i)?n:r}function xn(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function Rn(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function Nn(){var e=Tn;return!(4194176&(Tn<<=1))&&(Tn=128),e}function Ln(){var e=_n;return!(62914560&(_n<<=1))&&(_n=4194304),e}function In(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Un(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fn(e,n,t,r,l,a){var i=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var u=e.entanglements,o=e.expirationTimes,s=e.hiddenUpdates;for(t=i&~t;0<t;){var c=31-wn(t),f=1<<c;u[c]=0,o[c]=-1;var d=s[c];if(null!==d)for(s[c]=null,c=0;c<d.length;c++){var p=d[c];null!==p&&(p.lane&=-536870913)}t&=~f}0!==r&&Mn(e,r,0),0!==a&&0===l&&(e.suspendedLanes|=a&~(i&~n))}function Mn(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-wn(n);e.entangledLanes|=n,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&t}function Dn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-wn(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}function An(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function jn(){throw Error("getInspectorDataForInstance() is not available in production")}function Qn(){throw Error("The current renderer does not support hydration. This error is likely caused by a bug in React. Please file an issue.")}function Vn(){throw Error("The current renderer does not support Resources. This error is likely caused by a bug in React. Please file an issue.")}var Hn={getInspectorDataForInstance:jn,getInspectorDataForViewTag:function(){throw Error("getInspectorDataForViewTag() is not available in production")},getInspectorDataForViewAtPoint:function(){throw Error("getInspectorDataForViewAtPoint() is not available in production.")}},On=n(i[2]).ReactNativeViewConfigRegistry.get,Bn=3;function Wn(){var e=Bn;return 1==e%10&&(e+=2),Bn=e+2,e}function $n(e){if("number"==typeof e)We.delete(e),$e.delete(e);else{var n=e._nativeTag;We.delete(n),$e.delete(n),e._children.forEach($n)}}function qn(e){if(0===e._children.length)return!1;var t=e._children.map(function(e){return"number"==typeof e?e:e._nativeTag});return n(i[2]).UIManager.setChildren(e._nativeTag,t),!1}function Yn(e){return null!=e.canonical&&null!=e.canonical.publicInstance?e.canonical.publicInstance:e}var Xn=setTimeout,Gn=clearTimeout,Jn=0,Kn={$$typeof:b,Provider:null,Consumer:null,_currentValue:null,_currentValue2:null,_threadCount:0},Zn=[],et=-1;function nt(e){return{current:e}}function tt(e){0>et||(e.current=Zn[et],Zn[et]=null,et--)}function rt(e,n){et++,Zn[et]=e.current,e.current=n}var lt={};var at="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},it=new WeakMap;function ut(e,n){if("object"==typeof e&&null!==e){var t=it.get(e);return void 0!==t?t:(n={value:e,source:n,stack:F(n)},it.set(e,n),n)}return{value:e,source:n,stack:F(n)}}var ot=nt(null),st=nt(null),ct=nt(null),ft=nt(null);function dt(e,n){rt(ct,n),rt(st,e),rt(ot,null),tt(ot),rt(ot,{isInAParentText:!1})}function pt(){tt(ot),tt(st),tt(ct)}function ht(e){null!==e.memoizedState&&rt(ft,e);var n=ot.current,t=e.type;t="AndroidTextInput"===t||"RCTMultilineTextInputView"===t||"RCTSinglelineTextInputView"===t||"RCTText"===t||"RCTVirtualText"===t,n!==(t=n.isInAParentText!==t?{isInAParentText:t}:n)&&(rt(st,e),rt(ot,t))}function mt(e){st.current===e&&(tt(ot),tt(st)),ft.current===e&&(tt(ft),Kn._currentValue=null)}var gt=null,vt=[],bt=0,yt=0;function St(){for(var e=bt,n=yt=bt=0;n<e;){var t=vt[n];vt[n++]=null;var r=vt[n];vt[n++]=null;var l=vt[n];vt[n++]=null;var a=vt[n];if(vt[n++]=null,null!==r&&null!==l){var i=r.pending;null===i?l.next=l:(l.next=i.next,i.next=l),r.pending=l}0!==a&&Pt(t,l,a)}}function kt(e,n,t,r){vt[bt++]=e,vt[bt++]=n,vt[bt++]=t,vt[bt++]=r,yt|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function wt(e,n,t,r){return kt(e,n,t,r),Tt(e)}function Et(e,n){return kt(e,null,null,n),Tt(e)}function Pt(e,n,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);for(var l=!1,a=e.return;null!==a;)a.childLanes|=t,null!==(r=a.alternate)&&(r.childLanes|=t),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(l=!0)),e=a,a=a.return;l&&null!==n&&3===e.tag&&(a=e.stateNode,l=31-wn(t),null===(e=(a=a.hiddenUpdates)[l])?a[l]=[n]:e.push(n),n.lane=536870912|t)}function Tt(e){if(50<Hu)throw Hu=0,Ou=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var _t=null,zt=null,Ct=!1,xt=!1,Rt=!1,Nt=0;function Lt(e){e!==zt&&null===e.next&&(null===zt?_t=zt=e:zt=zt.next=e),xt=!0,Ct||(Ct=!0,n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_ImmediatePriority,Ut))}function It(e,n){if(!Rt&&xt){Rt=!0;do{for(var t=!1,r=_t;null!==r;){if(!n||0===r.tag)if(0!==e){var l=r.pendingLanes;if(0===l)var a=0;else{var i=r.suspendedLanes,u=r.pingedLanes;a=(1<<31-wn(42|e)+1)-1,a=201326677&(a&=l&~(i&~u))?201326677&a|1:a?2|a:0}0!==a&&(t=!0,Dt(r,a))}else a=vu,!(3&(a=Cn(r,r===mu?a:0)))||xn(r,a)||(t=!0,Dt(r,a));r=r.next}}while(t);Rt=!1}}function Ut(){xt=Ct=!1,0!==Nt&&(Nt=0);for(var e=n(i[3]).unstable_now(),t=null,r=_t;null!==r;){var l=r.next,a=Ft(r,e);0===a?(r.next=null,null===t?_t=l:t.next=l,null===l&&(zt=t)):(t=r,3&a&&(xt=!0)),r=l}It(0,!1)}function Ft(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,u=-62914561&e.pendingLanes;0<u;){var o=31-wn(u),s=1<<o,c=a[o];-1===c?0!==(s&r)&&0===(s&l)||(a[o]=Rn(s,t)):c<=t&&(e.expiredLanes|=s),u&=~s}if(r=vu,r=Cn(e,e===(t=mu)?r:0),l=e.callbackNode,0===r||e===t&&2===bu||null!==e.cancelPendingCommit)return null!==l&&null!==l&&n(i[3]).unstable_cancelCallback(l),e.callbackNode=null,e.callbackPriority=0;if(!(3&r)||xn(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==l&&n(i[3]).unstable_cancelCallback(l),An(r)){case 2:case 8:r=n(i[3]).unstable_UserBlockingPriority;break;case 32:default:r=n(i[3]).unstable_NormalPriority;break;case 268435456:r=n(i[3]).unstable_IdlePriority}return l=Mt.bind(null,e),r=n(i[3]).unstable_scheduleCallback(r,l),e.callbackPriority=t,e.callbackNode=r,t}return null!==l&&null!==l&&n(i[3]).unstable_cancelCallback(l),e.callbackPriority=2,e.callbackNode=null,2}function Mt(e,t){var r=e.callbackNode;if(go()&&e.callbackNode!==r)return null;var l=vu;return 0===(l=Cn(e,e===mu?l:0))?null:(qu(e,l,t),Ft(e,n(i[3]).unstable_now()),null!=e.callbackNode&&e.callbackNode===r?Mt.bind(null,e):null)}function Dt(e,n){if(go())return null;qu(e,n,!0)}function At(){return 0===Nt&&(Nt=Nn()),Nt}var jt=null,Qt=0,Vt=0,Ht=null;function Ot(e,n){if(null===jt){var t=jt=[];Qt=0,Vt=At(),Ht={status:"pending",value:void 0,then:function(e){t.push(e)}}}return Qt++,n.then(Bt,Bt),n}function Bt(){if(0===--Qt&&null!==jt){null!==Ht&&(Ht.status="fulfilled");var e=jt;jt=null,Vt=0,Ht=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var Wt=!1;function $t(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qt(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yt(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xt(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&hu){var l=r.pending;return null===l?n.next=n:(n.next=l.next,l.next=n),r.pending=n,n=Tt(e),Pt(e,null,t),n}return kt(e,r,n,t),Tt(e)}function Gt(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194176&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Dn(e,t)}}function Jt(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var i={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===a?l=a=i:a=a.next=i,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var Kt=!1;function Zt(){if(Kt){if(null!==Ht)throw Ht}}function er(e,n,t,r){Kt=!1;var l=e.updateQueue;Wt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,u=l.shared.pending;if(null!==u){l.shared.pending=null;var o=u,s=o.next;o.next=null,null===i?a=s:i.next=s,i=o;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===u?c.firstBaseUpdate=s:u.next=s,c.lastBaseUpdate=o))}if(null!==a){var f=l.baseState;for(i=0,c=s=o=null,u=a;;){var d=-536870913&u.lane,p=d!==u.lane;if(p?(vu&d)===d:(r&d)===d){0!==d&&d===Vt&&(Kt=!0),null!==c&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var h=e,m=u;d=n;var g=t;switch(m.tag){case 1:if("function"==typeof(h=m.payload)){f=h.call(g,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=m.payload)?h.call(g,f,d):h))break e;f=R({},f,d);break e;case 2:Wt=!0}}null!==(d=u.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=l.callbacks)?l.callbacks=[d]:p.push(d))}else p={lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(s=c=p,o=f):c=c.next=p,i|=d;if(null===(u=u.next)){if(null===(u=l.shared.pending))break;u=(p=u).next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}null===c&&(o=f),l.baseState=o,l.firstBaseUpdate=s,l.lastBaseUpdate=c,null===a&&(l.shared.lanes=0),Tu|=i,e.lanes=i,e.memoizedState=f}}function nr(e,n){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(n)}function tr(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)nr(t[e],n)}var rr=Object.prototype.hasOwnProperty;function lr(e,n){if(at(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var l=t[r];if(!rr.call(n,l)||!at(e[l],n[l]))return!1}return!0}var ar=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`"),ir=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),ur={then:function(){}};function or(e){return"fulfilled"===(e=e.status)||"rejected"===e}function sr(){}function cr(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(sr,sr),n=t),n.status){case"fulfilled":return n.value;case"rejected":throw pr(e=n.reason),e;default:if("string"==typeof n.status)n.then(sr,sr);else{if(null!==(e=mu)&&100<e.shellSuspendCounter)throw Error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw pr(e=n.reason),e}throw fr=n,ar}}var fr=null;function dr(){if(null===fr)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=fr;return fr=null,e}function pr(e){if(e===ar)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}var hr=null,mr=0;function gr(e){var n=mr;return mr+=1,null===hr&&(hr=[]),cr(hr,e,n)}function vr(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function br(e,n){if(n.$$typeof===c)throw Error('A React Element from an older version of React was rendered. This is not supported. It can happen if:\n- Multiple copies of the "react" package is used.\n- A library pre-bundled an old copy of "react" or "react/jsx-runtime".\n- A compiler tries to "inline" JSX instead of using the runtime.');throw e=Object.prototype.toString.call(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}function yr(e){return(0,e._init)(e._payload)}function Sr(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function l(e,n){return(e=zo(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=33554434,t):r:(n.flags|=33554434,t):(n.flags|=1048576,t)}function i(n){return e&&null===n.alternate&&(n.flags|=33554434),n}function u(e,n,t,r){return null===n||6!==n.tag?((n=Lo(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function s(e,n,t,r){var a=t.type;return a===p?h(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===E&&yr(a)===n.type)?(vr(n=l(n,t.props),t),n.return=e,n):(vr(n=xo(t.type,t.key,t.props,null,e.mode,r),t),n.return=e,n)}function c(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Io(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function h(e,n,t,r,a){return null===n||7!==n.tag?((n=Ro(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function m(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return(n=Lo(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return vr(t=xo(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case d:return(n=Io(n,e.mode,t)).return=e,n;case E:return m(e,n=(0,n._init)(n._payload),t)}if(o(n)||z(n))return(n=Ro(n,e.mode,t,null)).return=e,n;if("function"==typeof n.then)return m(e,gr(n),t);if(n.$$typeof===b)return m(e,ai(e,n),t);br(e,n)}return null}function g(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return null!==l?null:u(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return t.key===l?s(e,n,t,r):null;case d:return t.key===l?c(e,n,t,r):null;case E:return g(e,n,t=(l=t._init)(t._payload),r)}if(o(t)||z(t))return null!==l?null:h(e,n,t,r,null);if("function"==typeof t.then)return g(e,n,gr(t),r);if(t.$$typeof===b)return g(e,n,ai(e,t),r);br(e,t)}return null}function v(e,n,t,r,l){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return u(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l);case d:return c(n,e=e.get(null===r.key?t:r.key)||null,r,l);case E:return v(e,n,t,r=(0,r._init)(r._payload),l)}if(o(r)||z(r))return h(n,e=e.get(t)||null,r,l,null);if("function"==typeof r.then)return v(e,n,t,gr(r),l);if(r.$$typeof===b)return v(e,n,t,ai(n,r),l);br(n,r)}return null}function y(l,i,u,o){for(var s=null,c=null,f=i,d=i=0,p=null;null!==f&&d<u.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var h=g(l,f,u[d],o);if(null===h){null===f&&(f=p);break}e&&f&&null===h.alternate&&n(l,f),i=a(h,i,d),null===c?s=h:c.sibling=h,c=h,f=p}if(d===u.length)return t(l,f),s;if(null===f){for(;d<u.length;d++)null!==(f=m(l,u[d],o))&&(i=a(f,i,d),null===c?s=f:c.sibling=f,c=f);return s}for(f=r(f);d<u.length;d++)null!==(p=v(f,l,d,u[d],o))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),i=a(p,i,d),null===c?s=p:c.sibling=p,c=p);return e&&f.forEach(function(e){return n(l,e)}),s}function S(l,i,u,o){if(null==u)throw Error("An iterable object provided no iterator.");for(var s=null,c=null,f=i,d=i=0,p=null,h=u.next();null!==f&&!h.done;d++,h=u.next()){f.index>d?(p=f,f=null):p=f.sibling;var b=g(l,f,h.value,o);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&n(l,f),i=a(b,i,d),null===c?s=b:c.sibling=b,c=b,f=p}if(h.done)return t(l,f),s;if(null===f){for(;!h.done;d++,h=u.next())null!==(h=m(l,h.value,o))&&(i=a(h,i,d),null===c?s=h:c.sibling=h,c=h);return s}for(f=r(f);!h.done;d++,h=u.next())null!==(h=v(f,l,d,h.value,o))&&(e&&null!==h.alternate&&f.delete(null===h.key?d:h.key),i=a(h,i,d),null===c?s=h:c.sibling=h,c=h);return e&&f.forEach(function(e){return n(l,e)}),s}function k(e,r,a,u){if("object"==typeof a&&null!==a&&a.type===p&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case f:e:{for(var s=a.key;null!==r;){if(r.key===s){if((s=a.type)===p){if(7===r.tag){t(e,r.sibling),(u=l(r,a.props.children)).return=e,e=u;break e}}else if(r.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===E&&yr(s)===r.type){t(e,r.sibling),vr(u=l(r,a.props),a),u.return=e,e=u;break e}t(e,r);break}n(e,r),r=r.sibling}a.type===p?((u=Ro(a.props.children,e.mode,u,a.key)).return=e,e=u):(vr(u=xo(a.type,a.key,a.props,null,e.mode,u),a),u.return=e,e=u)}return i(e);case d:e:{for(s=a.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(u=l(r,a.children||[])).return=e,e=u;break e}t(e,r);break}n(e,r),r=r.sibling}(u=Io(a,e.mode,u)).return=e,e=u}return i(e);case E:return k(e,r,a=(s=a._init)(a._payload),u)}if(o(a))return y(e,r,a,u);if(z(a)){if("function"!=typeof(s=z(a)))throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");return S(e,r,a=s.call(a),u)}if("function"==typeof a.then)return k(e,r,gr(a),u);if(a.$$typeof===b)return k(e,r,ai(e,a),u);br(e,a)}return"string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a?(a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(u=l(r,a)).return=e,e=u):(t(e,r),(u=Lo(a,e.mode,u)).return=e,e=u),i(e)):t(e,r)}return function(e,n,t,r){try{mr=0;var l=k(e,n,t,r);return hr=null,l}catch(n){if(n===ar||!(1&e.mode)&&"object"==typeof n&&null!==n&&"function"==typeof n.then)throw n;var a=To(29,n,null,e.mode);return a.lanes=r,a.return=e,a}}}var kr=Sr(!0),wr=Sr(!1),Er=nt(null),Pr=nt(0);function Tr(e,n){rt(Pr,e=Eu),rt(Er,n),Eu=e|n.baseLanes}function _r(){rt(Pr,Eu),rt(Er,Er.current)}function zr(){Eu=Pr.current,tt(Er),tt(Pr)}var Cr=nt(null),xr=null;function Rr(e){var n=e.alternate;rt(Ur,1&Ur.current),rt(Cr,e),null===xr&&(null===n||null!==Er.current||null!==n.memoizedState)&&(xr=e)}function Nr(e){if(22===e.tag){if(rt(Ur,Ur.current),rt(Cr,e),null===xr){var n=e.alternate;null!==n&&null!==n.memoizedState&&(xr=e)}}else Lr()}function Lr(){rt(Ur,Ur.current),rt(Cr,Cr.current)}function Ir(e){tt(Cr),xr===e&&(xr=null),tt(Ur)}var Ur=nt(0);function Fr(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===t.dehydrated||Qn()||Qn()))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mr=0,Dr=null,Ar=null,jr=null,Qr=!1,Vr=!1,Hr=!1,Or=0,Br=null,Wr=0;function $r(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.")}function qr(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!at(e[t],n[t]))return!1;return!0}function Yr(e,n,t,r,l,a){return Mr=a,Dr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,s.H=null===e||null===e.memoizedState?ra:la,Hr=!1,a=t(r,l),Hr=!1,Vr&&(a=Gr(n,t,r,l)),Xr(e),a}function Xr(e){s.H=ta;var n=null!==Ar&&null!==Ar.next;if(Mr=0,jr=Ar=Dr=null,Qr=!1,Or=0,Br=null,n)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");null===e||wa||null!==(e=e.dependencies)&&ti(e)&&(wa=!0)}function Gr(e,n,t,r){Dr=e;var l=0;do{if(Vr&&(Br=null),Or=0,Vr=!1,25<=l)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(l+=1,jr=Ar=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}s.H=aa,a=n(t,r)}while(Vr);return a}function Jr(){var e=s.H,n=e.useState()[0];return n="function"==typeof n.then?tl(n):n,e=e.useState()[0],(null!==Ar?Ar.memoizedState:null)!==e&&(Dr.flags|=1024),n}function Kr(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function Zr(e){if(Qr){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Qr=!1}Mr=0,jr=Ar=Dr=null,Vr=!1,Or=0,Br=null}function el(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===jr?Dr.memoizedState=jr=e:jr=jr.next=e,jr}function nl(){if(null===Ar){var e=Dr.alternate;e=null!==e?e.memoizedState:null}else e=Ar.next;var n=null===jr?Dr.memoizedState:jr.next;if(null!==n)jr=n,Ar=e;else{if(null===e){if(null===Dr.alternate)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}e={memoizedState:(Ar=e).memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},null===jr?Dr.memoizedState=jr=e:jr=jr.next=e}return jr}function tl(e){var n=Or;return Or+=1,null===Br&&(Br=[]),e=cr(Br,e,n),n=Dr,null===(null===jr?n.memoizedState:jr.next)&&(n=n.alternate,s.H=null===n||null===n.memoizedState?ra:la),e}function rl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return tl(e);if(e.$$typeof===b)return li(e)}throw Error("An unsupported type was passed to use(): "+String(e))}function ll(e){var n=null,t=Dr.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var r=Dr.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(n={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Dr.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),r=0;r<e;r++)t[r]=T;return n.index++,t}function al(e,n){return"function"==typeof n?n(e):n}function il(e){return ul(nl(),Ar,e)}function ul(e,n,t){var r=e.queue;if(null===r)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");r.lastRenderedReducer=t;var l=e.baseQueue,a=r.pending;if(null!==a){if(null!==l){var i=l.next;l.next=a.next,a.next=i}n.baseQueue=l=a,r.pending=null}if(a=e.baseState,null===l)e.memoizedState=a;else{var u=i=null,o=null,s=n=l.next,c=!1;do{var f=-536870913&s.lane;if(f!==s.lane?(vu&f)===f:(Mr&f)===f){var d=s.revertLane;if(0===d)null!==o&&(o=o.next={lane:0,revertLane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),f===Vt&&(c=!0);else{if((Mr&d)===d){s=s.next,d===Vt&&(c=!0);continue}f={lane:0,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(u=o=f,i=a):o=o.next=f,Dr.lanes|=d,Tu|=d}f=s.action,Hr&&t(a,f),a=s.hasEagerState?s.eagerState:t(a,f)}else d={lane:f,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===o?(u=o=d,i=a):o=o.next=d,Dr.lanes|=f,Tu|=f;s=s.next}while(null!==s&&s!==n);if(null===o?i=a:o.next=u,!at(a,e.memoizedState)&&(wa=!0,c&&null!==(t=Ht)))throw t;e.memoizedState=a,e.baseState=i,e.baseQueue=o,r.lastRenderedState=a}return null===l&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ol(e){var n=nl(),t=n.queue;if(null===t)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var i=l=l.next;do{a=e(a,i.action),i=i.next}while(i!==l);at(a,n.memoizedState)||(wa=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function sl(e,n){var t=Dr,r=nl(),l=n(),a=!at((Ar||r).memoizedState,l);if(a&&(r.memoizedState=l,wa=!0),r=r.queue,Ul(dl.bind(null,t,r,e),[e]),r.getSnapshot!==n||a||null!==jr&&1&jr.memoizedState.tag){if(t.flags|=2048,xl(9,fl.bind(null,t,r,l,n),{destroy:void 0},null),null===mu)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");60&Mr||cl(t,n,l)}return l}function cl(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=Dr.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},Dr.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function fl(e,n,t,r){n.value=t,n.getSnapshot=r,pl(n)&&hl(e)}function dl(e,n,t){return t(function(){pl(n)&&hl(e)})}function pl(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!at(e,t)}catch(e){return!0}}function hl(e){var n=Et(e,2);null!==n&&$u(n,e,2)}function ml(e){var n=el();if("function"==typeof e){var t=e;if(e=t(),Hr){kn(!0);try{t()}finally{kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},n}function gl(e,n,t,r){return e.baseState=t,ul(e,Ar,"function"==typeof r?r:al)}function vl(e,n,t,r,l){if(Zl(e))throw Error("Cannot update form state while rendering.");if(null!==(e=n.action)){var a={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==s.T?t(!0):a.isTransition=!1,r(a),null===(t=n.pending)?(a.next=n.pending=a,bl(n,a)):(a.next=t.next,n.pending=t.next=a)}}function bl(e,n){var t=n.action,r=n.payload,l=e.state;if(n.isTransition){var a=s.T,i={};s.T=i;try{var u=t(l,r),o=s.S;null!==o&&o(i,u),yl(e,n,u)}catch(t){kl(e,n,t)}finally{s.T=a}}else try{yl(e,n,a=t(l,r))}catch(t){kl(e,n,t)}}function yl(e,n,t){null!==t&&"object"==typeof t&&"function"==typeof t.then?t.then(function(t){Sl(e,n,t)},function(t){return kl(e,n,t)}):Sl(e,n,t)}function Sl(e,n,t){n.status="fulfilled",n.value=t,wl(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,bl(e,t)))}function kl(e,n,t){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{n.status="rejected",n.reason=t,wl(n),n=n.next}while(n!==r)}e.action=null}function wl(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function El(e,n){return n}function Pl(e,n){var t=el();t.memoizedState=t.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:n};t.queue=r,t=Gl.bind(null,Dr,r),r.dispatch=t,r=ml(!1);var l=Kl.bind(null,Dr,!1,r.queue),a={state:n,dispatch:null,action:e,pending:null};return(r=el()).queue=a,t=vl.bind(null,Dr,a,l,t),a.dispatch=t,r.memoizedState=e,[n,t,!1]}function Tl(e){return _l(nl(),Ar,e)}function _l(e,n,t){n=ul(e,n,El)[0],e=il(al)[0],n="object"==typeof n&&null!==n&&"function"==typeof n.then?tl(n):n;var r=nl(),l=r.queue,a=l.dispatch;return t!==r.memoizedState&&(Dr.flags|=2048,xl(9,zl.bind(null,l,t),{destroy:void 0},null)),[n,a,e]}function zl(e,n){e.action=n}function Cl(e){var n=nl(),t=Ar;if(null!==t)return _l(n,t,e);nl(),n=n.memoizedState;var r=(t=nl()).queue.dispatch;return t.memoizedState=e,[n,r,!1]}function xl(e,n,t,r){return e={tag:e,create:n,inst:t,deps:r,next:null},null===(n=Dr.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Dr.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Rl(){return nl().memoizedState}function Nl(e,n,t,r){var l=el();Dr.flags|=e,l.memoizedState=xl(1|n,t,{destroy:void 0},void 0===r?null:r)}function Ll(e,n,t,r){var l=nl();r=void 0===r?null:r;var a=l.memoizedState.inst;null!==Ar&&null!==r&&qr(r,Ar.memoizedState.deps)?l.memoizedState=xl(n,t,a,r):(Dr.flags|=e,l.memoizedState=xl(1|n,t,a,r))}function Il(e,n){Nl(8390656,8,e,n)}function Ul(e,n){Ll(2048,8,e,n)}function Fl(e,n){return Ll(4,2,e,n)}function Ml(e,n){return Ll(4,4,e,n)}function Dl(e,n){if("function"==typeof n){e=e();var t=n(e);return function(){"function"==typeof t?t():n(null)}}if(null!=n)return e=e(),n.current=e,function(){n.current=null}}function Al(e,n,t){t=null!=t?t.concat([e]):null,Ll(4,4,Dl.bind(null,n,e),t)}function jl(){}function Ql(e,n){var t=nl();n=void 0===n?null:n;var r=t.memoizedState;return null!==n&&qr(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Vl(e,n){var t=nl();n=void 0===n?null:n;var r=t.memoizedState;if(null!==n&&qr(n,r[1]))return r[0];if(r=e(),Hr){kn(!0);try{e()}finally{kn(!1)}}return t.memoizedState=[r,n],r}function Hl(e,n,t){return void 0===t||1073741824&Mr?e.memoizedState=n:(e.memoizedState=t,e=Wu(),Dr.lanes|=e,Tu|=e,t)}function Ol(e,n,t,r){return at(t,n)?t:null!==Er.current?(e=Hl(e,t,r),at(e,n)||(wa=!0),e):42&Mr?(e=Wu(),Dr.lanes|=e,Tu|=e,n):(wa=!0,e.memoizedState=t)}function Bl(e,n,t,r,l){var a=Jn;Jn=0!==a&&8>a?a:8;var i,u,o,c=s.T,f={};s.T=f,Kl(e,!1,n,t);try{var d=l(),p=s.S;if(null!==p&&p(f,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Jl(e,n,(i=r,u=[],o={status:"pending",value:null,reason:null,then:function(e){u.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<u.length;e++)(0,u[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<u.length;e++)(0,u[e])(void 0)}),o),Bu(e));else Jl(e,n,r,Bu(e))}catch(t){Jl(e,n,{then:function(){},status:"rejected",reason:t},Bu(e))}finally{Jn=a,s.T=c}}function Wl(){return li(Kn)}function $l(){return nl().memoizedState}function ql(){return nl().memoizedState}function Yl(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Bu(n),r=Xt(n,e=Yt(t),t);return null!==r&&($u(r,n,t),Gt(r,n,t)),n={cache:si()},void(e.payload=n)}n=n.return}}function Xl(e,n,t){var r=Bu(e);t={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Zl(e)?ea(n,t):null!==(t=wt(e,n,t,r))&&($u(t,e,r),na(t,n,r))}function Gl(e,n,t){Jl(e,n,t,Bu(e))}function Jl(e,n,t,r){var l={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Zl(e))ea(n,l);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,u=a(i,t);if(l.hasEagerState=!0,l.eagerState=u,at(u,i))return kt(e,n,l,0),null===mu&&St(),!1}catch(e){}if(null!==(t=wt(e,n,l,r)))return $u(t,e,r),na(t,n,r),!0}return!1}function Kl(e,n,t,r){if(r={lane:2,revertLane:At(),action:r,hasEagerState:!1,eagerState:null,next:null},Zl(e)){if(n)throw Error("Cannot update optimistic state while rendering.")}else null!==(n=wt(e,t,r,2))&&$u(n,e,2)}function Zl(e){var n=e.alternate;return e===Dr||null!==n&&n===Dr}function ea(e,n){Vr=Qr=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function na(e,n,t){if(4194176&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,Dn(e,t)}}var ta={readContext:li,use:rl,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useInsertionEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useSyncExternalStore:$r,useId:$r};ta.useCacheRefresh=$r,ta.useMemoCache=$r,ta.useHostTransitionStatus=$r,ta.useFormState=$r,ta.useActionState=$r,ta.useOptimistic=$r;var ra={readContext:li,use:rl,useCallback:function(e,n){return el().memoizedState=[e,void 0===n?null:n],e},useContext:li,useEffect:Il,useImperativeHandle:function(e,n,t){t=null!=t?t.concat([e]):null,Nl(4194308,4,Dl.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Nl(4194308,4,e,n)},useInsertionEffect:function(e,n){Nl(4,2,e,n)},useMemo:function(e,n){var t=el();n=void 0===n?null:n;var r=e();if(Hr){kn(!0);try{e()}finally{kn(!1)}}return t.memoizedState=[r,n],r},useReducer:function(e,n,t){var r=el();if(void 0!==t){var l=t(n);if(Hr){kn(!0);try{t(n)}finally{kn(!1)}}}else l=n;return r.memoizedState=r.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},r.queue=e,e=e.dispatch=Xl.bind(null,Dr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},el().memoizedState=e},useState:function(e){var n=(e=ml(e)).queue,t=Gl.bind(null,Dr,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:jl,useDeferredValue:function(e,n){return Hl(el(),e,n)},useTransition:function(){var e=ml(!1);return e=Bl.bind(null,Dr,e.queue,!0,!1),el().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n){var t=Dr,r=el(),l=n();if(null===mu)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");60&vu||cl(t,n,l),r.memoizedState=l;var a={value:l,getSnapshot:n};return r.queue=a,Il(dl.bind(null,t,a,e),[e]),t.flags|=2048,xl(9,fl.bind(null,t,a,l,n),{destroy:void 0},null),l},useId:function(){var e=el(),n=mu.identifierPrefix;return n=":"+n+"r"+(Wr++).toString(32)+":",e.memoizedState=n},useCacheRefresh:function(){return el().memoizedState=Yl.bind(null,Dr)}};ra.useMemoCache=ll,ra.useHostTransitionStatus=Wl,ra.useFormState=Pl,ra.useActionState=Pl,ra.useOptimistic=function(e){var n=el();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=Kl.bind(null,Dr,!0,t),t.dispatch=n,[e,n]};var la={readContext:li,use:rl,useCallback:Ql,useContext:li,useEffect:Ul,useImperativeHandle:Al,useInsertionEffect:Fl,useLayoutEffect:Ml,useMemo:Vl,useReducer:il,useRef:Rl,useState:function(){return il(al)},useDebugValue:jl,useDeferredValue:function(e,n){return Ol(nl(),Ar.memoizedState,e,n)},useTransition:function(){var e=il(al)[0],n=nl().memoizedState;return["boolean"==typeof e?e:tl(e),n]},useSyncExternalStore:sl,useId:$l};la.useCacheRefresh=ql,la.useMemoCache=ll,la.useHostTransitionStatus=Wl,la.useFormState=Tl,la.useActionState=Tl,la.useOptimistic=function(e,n){return gl(nl(),0,e,n)};var aa={readContext:li,use:rl,useCallback:Ql,useContext:li,useEffect:Ul,useImperativeHandle:Al,useInsertionEffect:Fl,useLayoutEffect:Ml,useMemo:Vl,useReducer:ol,useRef:Rl,useState:function(){return ol(al)},useDebugValue:jl,useDeferredValue:function(e,n){var t=nl();return null===Ar?Hl(t,e,n):Ol(t,Ar.memoizedState,e,n)},useTransition:function(){var e=ol(al)[0],n=nl().memoizedState;return["boolean"==typeof e?e:tl(e),n]},useSyncExternalStore:sl,useId:$l};function ia(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:R({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}aa.useCacheRefresh=ql,aa.useMemoCache=ll,aa.useHostTransitionStatus=Wl,aa.useFormState=Cl,aa.useActionState=Cl,aa.useOptimistic=function(e,n){var t=nl();return null!==Ar?gl(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])};var ua={isMounted:function(e){return!!(e=e._reactInternals)&&nn(e)===e},enqueueSetState:function(e,n,t){var r=Bu(e=e._reactInternals),l=Yt(r);l.payload=n,null!=t&&(l.callback=t),null!==(n=Xt(e,l,r))&&($u(n,e,r),Gt(n,e,r))},enqueueReplaceState:function(e,n,t){var r=Bu(e=e._reactInternals),l=Yt(r);l.tag=1,l.payload=n,null!=t&&(l.callback=t),null!==(n=Xt(e,l,r))&&($u(n,e,r),Gt(n,e,r))},enqueueForceUpdate:function(e,n){var t=Bu(e=e._reactInternals),r=Yt(t);r.tag=2,null!=n&&(r.callback=n),null!==(n=Xt(e,r,t))&&($u(n,e,t),Gt(n,e,t))}};function oa(e,n,t,r,l,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!lr(t,r)||!lr(l,a))}function sa(e,n,t){var r=lt,l=n.contextType;return"object"==typeof l&&null!==l&&(r=li(l)),n=new n(t,r),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=ua,e.stateNode=n,n._reactInternals=e,n}function ca(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&ua.enqueueReplaceState(n,n.state,null)}function fa(e,n,t,r){var l=e.stateNode;l.props=t,l.state=e.memoizedState,l.refs={},$t(e);var a=n.contextType;l.context="object"==typeof a&&null!==a?li(a):lt,l.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(ia(e,n,a,t),l.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(n=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),n!==l.state&&ua.enqueueReplaceState(l,l.state,null),er(e,t,l,r),Zt(),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4194308)}function da(e,n){var t=n;if("ref"in n)for(var r in t={},n)"ref"!==r&&(t[r]=n[r]);if(e=e.defaultProps)for(var l in t===n&&(t=R({},t)),e)void 0===t[l]&&(t[l]=e[l]);return t}var pa="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ha(e){pa(e)}function ma(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(e){setTimeout(function(){throw e})}}function ga(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function va(e,n,t){return(t=Yt(t)).tag=3,t.payload={element:null},t.callback=function(){ma(e,n)},t}function ba(e){return(e=Yt(e)).tag=3,e}function ya(e,n,t,r){var l=t.type.getDerivedStateFromError;if("function"==typeof l){var a=r.value;e.payload=function(){return l(a)},e.callback=function(){ga(n,t,r)}}var i=t.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){ga(n,t,r),"function"!=typeof l&&(null===Mu?Mu=new Set([this]):Mu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}function Sa(e,n,t,r,l){if(t.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){var a=t.alternate;if(null!==a&&ni(a,t,l,!0),a=t.tag,1&t.mode||0!==a&&11!==a&&15!==a||((a=t.alternate)?(t.updateQueue=a.updateQueue,t.memoizedState=a.memoizedState,t.lanes=a.lanes):(t.updateQueue=null,t.memoizedState=null)),null!==(a=Cr.current)){switch(a.tag){case 13:return 1&t.mode&&(null===xr?ro():null===a.alternate&&0===Pu&&(Pu=3)),a.flags&=-257,1&a.mode?(a.flags|=65536,a.lanes=l):a===n?a.flags|=65536:(a.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag?null===t.alternate?t.tag=17:((n=Yt(2)).tag=2,Xt(t,n,2)):0===t.tag&&null===t.alternate&&(t.tag=28),t.lanes|=2),r===ur?a.flags|=16384:(null===(n=a.updateQueue)?a.updateQueue=new Set([r]):n.add(r),1&a.mode&&yo(e,r,l)),!1;case 22:if(1&a.mode)return a.flags|=65536,r===ur?a.flags|=16384:(null===(n=a.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([r]):t.add(r),yo(e,r,l)),!1}throw Error("Unexpected Suspense handler tag ("+a.tag+"). This is a bug in React.")}if(1===e.tag)return yo(e,r,l),ro(),!1;r=Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}if(a=ut(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:r}),t),null===Ru?Ru=[a]:Ru.push(a),4!==Pu&&(Pu=2),null===n)return!0;r=ut(r,t);do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,Jt(n,e=va(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Mu&&Mu.has(a))))return n.flags|=65536,l&=-l,n.lanes|=l,ya(l=ba(l),e,n,r),Jt(n,l),!1}n=n.return}while(null!==n);return!1}var ka=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),wa=!1;function Ea(e,n,t,r){n.child=null===e?wr(n,null,t,r):kr(n,e.child,t,r)}function Pa(e,n,t,r,l){t=t.render;var a=n.ref;if("ref"in r){var i={};for(var u in r)"ref"!==u&&(i[u]=r[u])}else i=r;return ri(n),r=Yr(e,n,t,i,a,l),null===e||wa?(n.flags|=1,Ea(e,n,r,l),n.child):(Kr(e,n,l),Ba(e,n,l))}function Ta(e,n,t,r,l){if(null===e){var a=t.type;return"function"!=typeof a||_o(a)||void 0!==a.defaultProps||null!==t.compare?((e=xo(t.type,null,r,n,n.mode,l)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,_a(e,n,a,r,l))}if(a=e.child,!Wa(e,l)){var i=a.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(i,r)&&e.ref===n.ref)return Ba(e,n,l)}return n.flags|=1,(e=zo(a,r)).ref=n.ref,e.return=n,n.child=e}function _a(e,n,t,r,l){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===n.ref){if(wa=!1,n.pendingProps=r=a,!Wa(e,l))return n.lanes=e.lanes,Ba(e,n,l);131072&e.flags&&(wa=!0)}}return Ra(e,n,t,r,l)}function za(e,n,t){var r=n.pendingProps,l=r.children,a=!!(2&n.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(xa(e,n),"hidden"===r.mode||a){if(128&n.flags){if(r=null!==i?i.baseLanes|t:t,null!==e){for(l=n.child=e.child,a=0;null!==l;)a=a|l.lanes|l.childLanes,l=l.sibling;n.childLanes=a&~r}else n.childLanes=0,n.child=null;return Ca(e,n,r,t)}if(1&n.mode){if(!(536870912&t))return n.lanes=n.childLanes=536870912,Ca(e,n,null!==i?i.baseLanes|t:t,t);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&hi(n,null!==i?i.cachePool:null),null!==i?Tr(n,i):_r(),Nr(n)}else n.memoizedState={baseLanes:0,cachePool:null},null!==e&&hi(n,null),_r(),Nr(n)}else null!==i?(hi(n,i.cachePool),Tr(n,i),Lr(),n.memoizedState=null):(null!==e&&hi(n,null),_r(),Lr());return Ea(e,n,l,t),n.child}function Ca(e,n,t,r){var l=pi();return l=null===l?null:{parent:oi._currentValue,pool:l},n.memoizedState={baseLanes:t,cachePool:l},null!==e&&hi(n,null),_r(),Nr(n),null!==e&&ni(e,n,r,!0),null}function xa(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=2097664);else{if("function"!=typeof t&&"object"!=typeof t)throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");null!==e&&e.ref===t||(n.flags|=2097664)}}function Ra(e,n,t,r,l){return ri(n),t=Yr(e,n,t,r,void 0,l),null===e||wa?(n.flags|=1,Ea(e,n,t,l),n.child):(Kr(e,n,l),Ba(e,n,l))}function Na(e,n,t,r,l,a){return ri(n),n.updateQueue=null,t=Gr(n,r,t,l),Xr(e),null===e||wa?(n.flags|=1,Ea(e,n,t,a),n.child):(Kr(e,n,a),Ba(e,n,a))}function La(e,n,t,r,l){if(ri(n),null===n.stateNode)Oa(e,n),sa(n,t,r),fa(n,t,r,l),r=!0;else if(null===e){var a=n.stateNode,i=n.memoizedProps,u=da(t,i);a.props=u;var o=a.context,s=t.contextType,c=lt;"object"==typeof s&&null!==s&&(c=li(s));var f=t.getDerivedStateFromProps;s="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate,i=n.pendingProps!==i,s||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||o!==c)&&ca(n,a,r,c),Wt=!1;var d=n.memoizedState;a.state=d,er(n,r,a,l),Zt(),o=n.memoizedState,i||d!==o||Wt?("function"==typeof f&&(ia(n,t,f,r),o=n.memoizedState),(u=Wt||oa(n,t,u,r,d,o,c))?(s||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=o),a.props=r,a.state=o,a.context=c,r=u):("function"==typeof a.componentDidMount&&(n.flags|=4194308),r=!1)}else{a=n.stateNode,qt(e,n),s=da(t,c=n.memoizedProps),a.props=s,f=n.pendingProps,d=a.context,o=t.contextType,u=lt,"object"==typeof o&&null!==o&&(u=li(o)),(o="function"==typeof(i=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==f||d!==u)&&ca(n,a,r,u),Wt=!1,d=n.memoizedState,a.state=d,er(n,r,a,l),Zt();var p=n.memoizedState;c!==f||d!==p||Wt||null!==e&&null!==e.dependencies&&ti(e.dependencies)?("function"==typeof i&&(ia(n,t,i,r),p=n.memoizedState),(s=Wt||oa(n,t,s,r,d,p,u)||null!==e&&null!==e.dependencies&&ti(e.dependencies))?(o||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=p),a.props=r,a.state=p,a.context=u,r=s):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),r=!1)}return Ia(e,n,t,r,!1,l)}function Ia(e,n,t,r,l,a){return xa(e,n),l=!!(128&n.flags),r||l?(r=n.stateNode,t=l&&"function"!=typeof t.getDerivedStateFromError?null:r.render(),n.flags|=1,null!==e&&l?(n.child=kr(n,e.child,null,a),n.child=kr(n,null,t,a)):Ea(e,n,t,a),n.memoizedState=r.state,n.child):Ba(e,n,a)}var Ua={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:mi()}}function Ma(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=Cu),e}function Da(e,n,t){var r,l=n.pendingProps,a=!1,i=!!(128&n.flags);if((r=i)||(r=(null===e||null!==e.memoizedState)&&!!(2&Ur.current)),r&&(a=!0,n.flags&=-129),r=!!(32&n.flags),n.flags&=-33,null===e){var u=l.children;return l=l.fallback,a?(Lr(),a=n.mode,i=n.child,u={mode:"hidden",children:u},1&a||null===i?i=No(u,a,0,null):(i.childLanes=0,i.pendingProps=u),l=Ro(l,a,t,null),i.return=n,l.return=n,i.sibling=l,n.child=i,(u=n.child).memoizedState=Fa(t),u.childLanes=Ma(e,r,t),n.memoizedState=Ua,l):(Rr(n),Aa(n,u))}if(null!==(u=e.memoizedState)&&null!==u.dehydrated){if(i)256&n.flags?(Rr(n),n.flags&=-257,n=ja(e,n,t)):null!==n.memoizedState?(Lr(),n.child=e.child,n.flags|=128,n=null):(Lr(),u=l.fallback,a=n.mode,l=No({mode:"visible",children:l.children},a,0,null),(u=Ro(u,a,t,null)).flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,!!(1&n.mode)&&kr(n,e.child,null,t),(l=n.child).memoizedState=Fa(t),l.childLanes=Ma(e,r,t),n.memoizedState=Ua,n=u);else if(Rr(n),Qn())r=Qn().digest,(l=Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.")).stack="",l.digest=r,r={value:l,source:null,stack:null},null===gt?gt=[r]:gt.push(r),n=ja(e,n,t);else if(wa||ni(e,n,t,!1),r=0!==(t&e.childLanes),wa||r){if(null!==(r=mu)){if(42&(l=t&-t))l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(0!==(l=0!==(l&(r.suspendedLanes|t))?0:l)&&l!==u.retryLane)throw u.retryLane=l,Et(e,l),$u(r,e,l),ka}Qn()||ro(),n=ja(e,n,t)}else Qn()?(n.flags|=128,n.child=e.child,wo.bind(null,e),Qn(),n=null):(n=Aa(n,l.children)).flags|=4096;return n}if(a){Lr(),u=l.fallback,a=n.mode;var o=(i=e.child).sibling,s={mode:"hidden",children:l.children};return 1&a||n.child===i?(l=zo(i,s)).subtreeFlags=31457280&i.subtreeFlags:((l=n.child).childLanes=0,l.pendingProps=s,n.deletions=null),null!==o?u=zo(o,u):(u=Ro(u,a,t,null)).flags|=2,u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,null===(a=e.child.memoizedState)?a=Fa(t):(null!==(i=a.cachePool)?(o=oi._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=mi(),a={baseLanes:a.baseLanes|t,cachePool:i}),u.memoizedState=a,u.childLanes=Ma(e,r,t),n.memoizedState=Ua,l}return Rr(n),e=(r=e.child).sibling,r=zo(r,{mode:"visible",children:l.children}),!(1&n.mode)&&(r.lanes=t),r.return=n,r.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function Aa(e,n){return(n=No({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function ja(e,n,t){return kr(n,e.child,null,t),(e=Aa(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Qa(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Za(e.return,n,t)}function Va(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function Ha(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(Ea(e,n,r.children,t),2&(r=Ur.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,t,n);else if(19===e.tag)Qa(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rt(Ur,r),1&n.mode)switch(l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===Fr(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Va(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===Fr(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Va(n,!0,t,null,a);break;case"together":Va(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function Oa(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ba(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Tu|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(ni(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==n.child){for(t=zo(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=zo(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Wa(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!ti(e))}function $a(e,n,t){switch(n.tag){case 3:dt(n,n.stateNode.containerInfo),Ja(n,oi,e.memoizedState.cache);break;case 27:case 5:ht(n);break;case 4:dt(n,n.stateNode.containerInfo);break;case 10:Ja(n,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(null!==r)return null!==r.dehydrated?(Rr(n),n.flags|=128,null):0!==(t&n.child.childLanes)?Da(e,n,t):(Rr(n),null!==(e=Ba(e,n,t))?e.sibling:null);Rr(n);break;case 19:var l=!!(128&e.flags);if((r=0!==(t&n.childLanes))||(ni(e,n,t,!1),r=0!==(t&n.childLanes)),l){if(r)return Ha(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),rt(Ur,Ur.current),r)break;return null;case 22:case 23:return n.lanes=0,za(e,n,t);case 24:Ja(n,oi,e.memoizedState.cache)}return Ba(e,n,t)}function qa(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)wa=!0;else{if(!(Wa(e,t)||128&n.flags))return wa=!1,$a(e,n,t);wa=!!(131072&e.flags)}else wa=!1;switch(n.lanes=0,n.tag){case 16:var r=n.elementType;e:{Oa(e,n),e=n.pendingProps;var l=r._init;if(r=l(r._payload),n.type=r,"function"!=typeof r){if(null!=r){if((l=r.$$typeof)===y){n.tag=11,n=Pa(null,n,r,e,t);break e}if(l===w){n.tag=14,n=Ta(null,n,r,e,t);break e}}throw n=D(r)||r,Error("Element type is invalid. Received a promise that resolves to: "+n+". Lazy element type must resolve to a class or function.")}_o(r)?(e=da(r,e),n.tag=1,n=La(null,n,r,e,t)):(n.tag=0,n=Ra(null,n,r,e,t))}return n;case 0:return Ra(e,n,n.type,n.pendingProps,t);case 1:return La(e,n,r=n.type,l=da(r,n.pendingProps),t);case 3:if(dt(n,n.stateNode.containerInfo),null===e)throw Error("Should have a current fiber. This is a bug in React.");var a=n.pendingProps;r=(l=n.memoizedState).element,qt(e,n),er(n,a,null,t);var i=(a=n.memoizedState).cache;return Ja(n,oi,i),i!==l.cache&&ei(n,[oi],t,!0),Zt(),(l=a.element)===r?n=Ba(e,n,t):(Ea(e,n,l,t),n=n.child),n;case 26:case 27:case 5:return ht(n),r=n.pendingProps.children,null!==n.memoizedState&&(l=Yr(e,n,Jr,null,null,t),Kn._currentValue=l),xa(e,n),Ea(e,n,r,t),n.child;case 6:return null;case 13:return Da(e,n,t);case 4:return dt(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=kr(n,null,r,t):Ea(e,n,r,t),n.child;case 11:return Pa(e,n,n.type,n.pendingProps,t);case 7:return Ea(e,n,n.pendingProps,t),n.child;case 8:case 12:return Ea(e,n,n.pendingProps.children,t),n.child;case 10:return r=n.pendingProps,Ja(n,n.type,r.value),Ea(e,n,r.children,t),n.child;case 9:return l=n.type._context,r=n.pendingProps.children,ri(n),r=r(l=li(l)),n.flags|=1,Ea(e,n,r,t),n.child;case 14:return Ta(e,n,n.type,n.pendingProps,t);case 15:return _a(e,n,n.type,n.pendingProps,t);case 17:return l=da(r=n.type,n.pendingProps),Oa(e,n),n.tag=1,ri(n),sa(n,r,l),fa(n,r,l,t),Ia(null,n,r,!0,!1,t);case 28:return l=da(r=n.type,n.pendingProps),Oa(e,n),n.tag=0,Ra(null,n,r,l,t);case 19:return Ha(e,n,t);case 22:return za(e,n,t);case 24:return ri(n),r=li(oi),null===e?(null===(l=pi())&&(l=mu,a=si(),l.pooledCache=a,a.refCount++,null!==a&&(l.pooledCacheLanes|=t),l=a),n.memoizedState={parent:r,cache:l},$t(n),Ja(n,oi,l)):(0!==(e.lanes&t)&&(qt(e,n),er(n,null,null,t),Zt()),l=e.memoizedState,a=n.memoizedState,l.parent!==r?(l={parent:r,cache:r},n.memoizedState=l,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=l),Ja(n,oi,r)):(r=a.cache,Ja(n,oi,r),r!==l.cache&&ei(n,[oi],t,!0))),Ea(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error("Unknown unit of work tag ("+n.tag+"). This error is likely caused by a bug in React. Please file an issue.")}var Ya=nt(null),Xa=null,Ga=null;function Ja(e,n,t){rt(Ya,n._currentValue),n._currentValue=t}function Ka(e){e._currentValue=Ya.current,tt(Ya)}function Za(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function ei(e,n,t,r){var l=e.child;for(null!==l&&(l.return=e);null!==l;){var a=l.dependencies;if(null!==a){var i=l.child;a=a.firstContext;e:for(;null!==a;){var u=a;a=l;for(var o=0;o<n.length;o++)if(u.context===n[o]){a.lanes|=t,null!==(u=a.alternate)&&(u.lanes|=t),Za(a.return,t,e),r||(i=null);break e}a=u.next}}else if(18===l.tag){if(null===(i=l.return))throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");i.lanes|=t,null!==(a=i.alternate)&&(a.lanes|=t),Za(i,t,e),i=null}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===e){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}}function ni(e,n,t,r){e=null;for(var l=n,a=!1;null!==l;){if(!a)if(524288&l.flags)a=!0;else if(262144&l.flags)break;if(10===l.tag){var i=l.alternate;if(null===i)throw Error("Should have a current fiber. This is a bug in React.");if(null!==(i=i.memoizedProps)){var u=l.type;at(l.pendingProps.value,i.value)||(null!==e?e.push(u):e=[u])}}else if(l===ft.current){if(null===(i=l.alternate))throw Error("Should have a current fiber. This is a bug in React.");i.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(null!==e?e.push(Kn):e=[Kn])}l=l.return}null!==e&&ei(n,e,t,r),n.flags|=262144}function ti(e){for(e=e.firstContext;null!==e;){if(!at(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ri(e){Xa=e,Ga=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function li(e){return ii(Xa,e)}function ai(e,n){return null===Xa&&ri(e),ii(e,n)}function ii(e,n){var t=n._currentValue;if(n={context:n,memoizedValue:t,next:null},null===Ga){if(null===e)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Ga=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ga=Ga.next=n;return t}var ui="undefined"!=typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},oi={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function si(){return{controller:new ui,data:new Map,refCount:0}}function ci(e){e.refCount--,0===e.refCount&&n(i[3]).unstable_scheduleCallback(n(i[3]).unstable_NormalPriority,function(){e.controller.abort()})}var fi=s.S;s.S=function(e,n){"object"==typeof n&&null!==n&&"function"==typeof n.then&&Ot(0,n),null!==fi&&fi(e,n)};var di=nt(null);function pi(){var e=di.current;return null!==e?e:mu.pooledCache}function hi(e,n){rt(di,null===n?di.current:n.pool)}function mi(){var e=pi();return null===e?null:{parent:oi._currentValue,pool:e}}function gi(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?Ln():536870912,e.lanes|=n,xu|=n)}function vi(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bi(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=31457280&l.subtreeFlags,r|=31457280&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function yi(e,t,r){var l=t.pendingProps;switch(t.tag){case 28:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:case 17:return bi(t),null;case 3:return r=t.stateNode,l=null,null!==e&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ka(oi),pt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==gt&&(Yu(gt),gt=null)),bi(t),null;case 26:case 27:case 5:mt(t);var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==l&&(t.flags|=4);else{if(!l){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return bi(t),null}r=ct.current,e=Wn(),a=On(a);var u=mn(null,an,l,a.validAttributes);n(i[2]).UIManager.createView(e,a.uiViewClassName,r,u),r=new vn(e,a,t),We.set(e,t),$e.set(e,l);e:for(e=t.child;null!==e;){if(5===e.tag||6===e.tag)r._children.push(e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}t.stateNode=r,qn(r)&&(t.flags|=4)}return bi(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==l&&(t.flags|=4);else{if("string"!=typeof l&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(e=ct.current,!ot.current.isInAParentText)throw Error("Text strings must be rendered within a <Text> component.");r=Wn(),n(i[2]).UIManager.createView(r,"RCTRawText",e,{text:l}),We.set(r,t),t.stateNode=r}return bi(t),null;case 13:if(l=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(null!==l&&null!==l.dehydrated){if(null===e)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");!(128&t.flags)&&(t.memoizedState=null),t.flags|=4,bi(t),a=!1}else null!==gt&&(Yu(gt),gt=null),a=!0;if(!a)return 256&t.flags?(Ir(t),t):(Ir(t),null)}return Ir(t),128&t.flags?(t.lanes=r,t):(r=null!==l,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(l=t.child).alternate&&null!==l.alternate.memoizedState&&null!==l.alternate.memoizedState.cachePool&&(a=l.alternate.memoizedState.cachePool.pool),u=null,null!==l.memoizedState&&null!==l.memoizedState.cachePool&&(u=l.memoizedState.cachePool.pool),u!==a&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),gi(t,t.updateQueue),bi(t),null);case 4:return pt(),bi(t),null;case 10:return Ka(t.type),bi(t),null;case 19:if(tt(Ur),null===(a=t.memoizedState))return bi(t),null;if(l=!!(128&t.flags),null===(u=a.rendering))if(l)vi(a,!1);else{if(0!==Pu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(u=Fr(e))){for(t.flags|=128,vi(a,!1),e=u.updateQueue,t.updateQueue=e,gi(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Co(r,e),r=r.sibling;return rt(Ur,1&Ur.current|2),t.child}e=e.sibling}null!==a.tail&&n(i[3]).unstable_now()>Uu&&(t.flags|=128,l=!0,vi(a,!1),t.lanes=4194304)}else{if(!l)if(null!==(e=Fr(u))){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,gi(t,e),vi(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate)return bi(t),null}else 2*n(i[3]).unstable_now()-a.renderingStartTime>Uu&&536870912!==r&&(t.flags|=128,l=!0,vi(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(e=a.last)?e.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=n(i[3]).unstable_now(),t.sibling=null,e=Ur.current,rt(Ur,l?1&e|2:1&e),t):(bi(t),null);case 22:case 23:return Ir(t),zr(),l=null!==t.memoizedState,null!==e?null!==e.memoizedState!==l&&(t.flags|=8192):l&&(t.flags|=8192),l&&1&t.mode?!!(536870912&r)&&!(128&t.flags)&&(bi(t),6&t.subtreeFlags&&(t.flags|=8192)):bi(t),null!==(r=t.updateQueue)&&gi(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),l=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),null!==e&&tt(di),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ka(oi),bi(t),null;case 25:case 29:return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Si(e,n){switch(n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Ka(oi),pt(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return mt(n),null;case 13:if(Ir(n),null!==(e=n.memoizedState)&&null!==e.dehydrated&&null===n.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return tt(Ur),null;case 4:return pt(),null;case 10:return Ka(n.type),null;case 22:case 23:return Ir(n),zr(),null!==e&&tt(di),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return Ka(oi),null;default:return null}}function ki(e,n){switch(n.tag){case 3:Ka(oi),pt();break;case 26:case 27:case 5:mt(n);break;case 4:pt();break;case 13:Ir(n);break;case 19:tt(Ur);break;case 10:Ka(n.type);break;case 22:case 23:Ir(n),zr(),null!==e&&tt(di);break;case 24:Ka(oi)}}function wi(e,n){try{var t=n.updateQueue,r=null!==t?t.lastEffect:null;if(null!==r){var l=r.next;t=l;do{if((t.tag&e)===e){r=void 0;var a=t.create,i=t.inst;r=a(),i.destroy=r}t=t.next}while(t!==l)}}catch(e){bo(n,n.return,e)}}function Ei(e,n,t){try{var r=n.updateQueue,l=null!==r?r.lastEffect:null;if(null!==l){var a=l.next;r=a;do{if((r.tag&e)===e){var i=r.inst,u=i.destroy;if(void 0!==u){i.destroy=void 0,l=n;var o=t;try{u()}catch(e){bo(l,o,e)}}}r=r.next}while(r!==a)}}catch(e){bo(n,n.return,e)}}function Pi(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{tr(n,t)}catch(n){bo(e,e.return,n)}}}function Ti(e,n,t){t.props=da(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(t){bo(e,n,t)}}function _i(e,n){try{var t=e.ref;if(null!==t){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var l=Yn(r);break;default:l=r}"function"==typeof t?e.refCleanup=t(l):t.current=l}}catch(t){bo(e,n,t)}}function zi(e,n){var t=e.ref,r=e.refCleanup;if(null!==t)if("function"==typeof r)try{r()}catch(t){bo(e,n,t)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof t)try{t(null)}catch(t){bo(e,n,t)}else t.current=null}function Ci(e){return 5===e.tag||3===e.tag||4===e.tag}function xi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ci(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ri(e,t,r){var l=e.tag;if(5===l||6===l)if(e=e.stateNode,t){if("number"==typeof r)throw Error("Container does not support insertBefore operation")}else n(i[2]).UIManager.setChildren(r,["number"==typeof e?e:e._nativeTag]);else if(4!==l&&null!==(e=e.child))for(Ri(e,t,r),e=e.sibling;null!==e;)Ri(e,t,r),e=e.sibling}function Ni(e,t,r){var l=e.tag;if(5===l||6===l)if(e=e.stateNode,t){var a=(l=r._children).indexOf(e);0<=a?(l.splice(a,1),t=l.indexOf(t),l.splice(t,0,e),n(i[2]).UIManager.manageChildren(r._nativeTag,[a],[t],[],[],[])):(t=l.indexOf(t),l.splice(t,0,e),n(i[2]).UIManager.manageChildren(r._nativeTag,[],[],["number"==typeof e?e:e._nativeTag],[t],[]))}else t="number"==typeof e?e:e._nativeTag,0<=(a=(l=r._children).indexOf(e))?(l.splice(a,1),l.push(e),n(i[2]).UIManager.manageChildren(r._nativeTag,[a],[l.length-1],[],[],[])):(l.push(e),n(i[2]).UIManager.manageChildren(r._nativeTag,[],[],[t],[l.length-1],[]));else if(4!==l&&null!==(e=e.child))for(Ni(e,t,r),e=e.sibling;null!==e;)Ni(e,t,r),e=e.sibling}var Li=!1,Ii=!1,Ui="function"==typeof WeakSet?WeakSet:Set,Fi=null,Mi=!1;function Di(e,n){for(Fi=n;null!==Fi;)if(n=(e=Fi).child,1028&e.subtreeFlags&&null!==n)n.return=e,Fi=n;else for(;null!==Fi;){var t=(e=Fi).alternate;switch(n=e.flags,e.tag){case 0:case 11:case 15:case 3:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&n&&null!==t){n=void 0;var r=e,l=t.memoizedProps;t=t.memoizedState;var a=r.stateNode;try{var i=da(r.type,l,(r.elementType,r.type));n=a.getSnapshotBeforeUpdate(i,t),a.__reactInternalSnapshotBeforeUpdate=n}catch(e){bo(r,r.return,e)}}break;default:if(1024&n)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(null!==(n=e.sibling)){n.return=e.return,Fi=n;break}Fi=e.return}return i=Mi,Mi=!1,i}function Ai(e,n,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Xi(e,t),4&r&&wi(5,t);break;case 1:if(Xi(e,t),4&r)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(e){bo(t,t.return,e)}else{var l=da(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(l,n,e.__reactInternalSnapshotBeforeUpdate)}catch(e){bo(t,t.return,e)}}64&r&&Pi(t),512&r&&_i(t,t.return);break;case 3:if(Xi(e,t),64&r&&null!==(r=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 27:case 5:e=Yn(t.child.stateNode);break;case 1:e=t.child.stateNode}try{tr(r,e)}catch(e){bo(t,t.return,e)}}break;case 26:case 27:case 5:Xi(e,t),512&r&&_i(t,t.return);break;case 12:case 13:default:Xi(e,t);break;case 22:if(1&t.mode){if(!(l=null!==t.memoizedState||Li)){n=null!==n&&null!==n.memoizedState||Ii;var a=Li,i=Ii;Li=l,(Ii=n)&&!i?Ji(e,t,!!(8772&t.subtreeFlags)):Xi(e,t),Li=a,Ii=i}}else Xi(e,t);512&r&&("manual"===t.memoizedProps.mode?_i(t,t.return):zi(t,t.return))}}function ji(e){var n=e.alternate;null!==n&&(e.alternate=null,ji(n)),e.child=null,e.deletions=null,e.sibling=null,e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qi=null,Vi=!1;function Hi(e,n,t){for(t=t.child;null!==t;)Oi(e,n,t),t=t.sibling}function Oi(e,t,r){if(yn&&"function"==typeof yn.onCommitFiberUnmount)try{yn.onCommitFiberUnmount(bn,r)}catch(e){}switch(r.tag){case 26:case 27:case 5:Ii||zi(r,t);case 6:var l=Qi,a=Vi;if(Qi=null,Hi(e,t,r),Vi=a,null!==(Qi=l))if(Vi)try{e=Qi,$n(r.stateNode),n(i[2]).UIManager.manageChildren(e,[],[],[],[],[0])}catch(e){bo(r,t,e)}else try{e=Qi;var u=r.stateNode;$n(u);var o=e._children,s=o.indexOf(u);o.splice(s,1),n(i[2]).UIManager.manageChildren(e._nativeTag,[],[],[],[],[s])}catch(e){bo(r,t,e)}break;case 18:null!==Qi&&Qn();break;case 4:u=Qi,o=Vi,Qi=r.stateNode.containerInfo,Vi=!0,Hi(e,t,r),Qi=u,Vi=o;break;case 0:case 11:case 14:case 15:Ii||Ei(2,r,t),Ii||Ei(4,r,t),Hi(e,t,r);break;case 1:Ii||(zi(r,t),"function"==typeof(u=r.stateNode).componentWillUnmount&&Ti(r,t,u)),Hi(e,t,r);break;case 21:Hi(e,t,r);break;case 22:Ii||zi(r,t),1&r.mode?(Ii=(u=Ii)||null!==r.memoizedState,Hi(e,t,r),Ii=u):Hi(e,t,r);break;default:Hi(e,t,r)}}function Bi(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new Ui),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new Ui),n;default:throw Error("Unexpected Suspense handler tag ("+e.tag+"). This is a bug in React.")}}function Wi(e,n){var t=Bi(e);n.forEach(function(n){var r=Eo.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}function $i(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var l=t[r],a=e,i=n,u=i;e:for(;null!==u;){switch(u.tag){case 27:case 5:Qi=u.stateNode,Vi=!1;break e;case 3:case 4:Qi=u.stateNode.containerInfo,Vi=!0;break e}u=u.return}if(null===Qi)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");Oi(a,i,l),Qi=null,Vi=!1,null!==(a=l.alternate)&&(a.return=null),l.return=null}if(13878&n.subtreeFlags)for(n=n.child;null!==n;)qi(n,e),n=n.sibling}function qi(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$i(t,e),Yi(e),4&l&&(Ei(3,e,e.return),wi(3,e),Ei(5,e,e.return));break;case 1:if($i(t,e),Yi(e),512&l&&(Ii||null===r||zi(r,r.return)),64&l&&Li&&(null!==(e=e.updateQueue)&&null!==(l=e.callbacks))){var a=e.shared.hiddenCallbacks;e.shared.hiddenCallbacks=null===a?l:a.concat(l)}break;case 26:case 27:case 5:if($i(t,e),Yi(e),512&l&&(Ii||null===r||zi(r,r.return)),4&l&&null!=e.stateNode){l=e.memoizedProps,a=null!==r?r.memoizedProps:l;try{var u=e.stateNode,o=u.viewConfig;$e.set(u._nativeTag,l);var s=mn(null,a,l,o.validAttributes);null!=s&&n(i[2]).UIManager.updateView(u._nativeTag,o.uiViewClassName,s)}catch(n){bo(e,e.return,n)}}break;case 6:if($i(t,e),Yi(e),4&l){if(null===e.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");l=e.memoizedProps,a=e.stateNode;try{n(i[2]).UIManager.updateView(a,"RCTRawText",{text:l})}catch(n){bo(e,e.return,n)}}break;case 3:case 4:case 12:default:$i(t,e),Yi(e);break;case 13:$i(t,e),Yi(e),8192&e.child.flags&&(a=null!==r&&null!==r.memoizedState,null===e.memoizedState||a||(Iu=n(i[3]).unstable_now())),4&l&&(null!==(l=e.updateQueue)&&(e.updateQueue=null,Wi(e,l)));break;case 22:if(512&l&&(Ii||null===r||zi(r,r.return)),u=null!==e.memoizedState,o=null!==r&&null!==r.memoizedState,1&e.mode){var c=Ii;Li=(s=Li)||u,Ii=c||o,$i(t,e),Ii=c,Li=s}else $i(t,e);if(Yi(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&l&&(t._visibility=u?-2&t._visibility:1|t._visibility,u&&(t=Li||Ii,null===r||o||t||!!(1&e.mode)&&Gi(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(r=null,t=e;;){if(5===t.tag){if(null===r){o=r=t;try{if(a=o.stateNode,u){var f=(s=a).viewConfig,d=mn(null,an,{style:{display:"none"}},f.validAttributes);n(i[2]).UIManager.updateView(s._nativeTag,f.uiViewClassName,d)}else{var p=o.stateNode,h=o.memoizedProps,m=p.viewConfig,g=mn(null,R({},h,{style:[h.style,{display:"none"}]}),h,m.validAttributes);n(i[2]).UIManager.updateView(p._nativeTag,m.uiViewClassName,g)}}catch(e){bo(o,o.return,e)}}}else if(6===t.tag){if(null===r){o=t;try{throw Error("Not yet implemented.")}catch(e){bo(o,o.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&l&&(null!==(l=e.updateQueue)&&(null!==(a=l.retryQueue)&&(l.retryQueue=null,Wi(e,a))));break;case 19:$i(t,e),Yi(e),4&l&&(null!==(l=e.updateQueue)&&(e.updateQueue=null,Wi(e,l)));case 21:}}function Yi(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(Ci(t)){var r=t;break e}t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(r.tag){case 27:case 5:var l=r.stateNode;32&r.flags&&(r.flags&=-33),Ni(e,xi(e),l);break;case 3:case 4:var a=r.stateNode.containerInfo;Ri(e,xi(e),a);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}catch(n){bo(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Xi(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)Ai(e,n.alternate,n),n=n.sibling}function Gi(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ei(4,n,n.return),Gi(n);break;case 1:zi(n,n.return);var t=n.stateNode;"function"==typeof t.componentWillUnmount&&Ti(n,n.return,t),Gi(n);break;case 26:case 27:case 5:zi(n,n.return),Gi(n);break;case 22:zi(n,n.return),null===n.memoizedState&&Gi(n);break;default:Gi(n)}e=e.sibling}}function Ji(e,n,t){for(t=t&&!!(8772&n.subtreeFlags),n=n.child;null!==n;){var r=e,l=n,a=l.flags;switch(l.tag){case 0:case 11:case 15:Ji(r,l,t),wi(4,l);break;case 1:Ji(r,l,t);var i=(r=l).stateNode;if("function"==typeof i.componentDidMount)try{i.componentDidMount()}catch(e){bo(r,r.return,e)}if(null!==(i=(r=l).updateQueue)){var u=r.stateNode;try{var o=i.shared.hiddenCallbacks;if(null!==o)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)nr(o[i],u)}catch(e){bo(r,r.return,e)}}t&&64&a&&Pi(l),_i(l,l.return);break;case 26:case 27:case 5:Ji(r,l,t),_i(l,l.return);break;case 12:case 13:default:Ji(r,l,t);break;case 22:null===l.memoizedState&&Ji(r,l,t),_i(l,l.return)}n=n.sibling}}function Ki(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&ci(t))}function Zi(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&ci(e))}function eu(e,n,t,r){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)nu(e,n,t,r),n=n.sibling}function nu(e,n,t,r){var l=n.flags;switch(n.tag){case 0:case 11:case 15:eu(e,n,t,r),2048&l&&wi(9,n);break;case 3:eu(e,n,t,r),2048&l&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&ci(e)));break;case 12:if(2048&l){eu(e,n,t,r),e=n.stateNode;try{var a=n.memoizedProps,i=a.id,u=a.onPostCommit;"function"==typeof u&&u(i,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){bo(n,n.return,e)}}else eu(e,n,t,r);break;case 23:break;case 22:a=n.stateNode,null!==n.memoizedState?4&a._visibility?eu(e,n,t,r):1&n.mode?ru(e,n):(a._visibility|=4,eu(e,n,t,r)):4&a._visibility?eu(e,n,t,r):(a._visibility|=4,tu(e,n,t,r,!!(10256&n.subtreeFlags))),2048&l&&Ki(n.alternate,n);break;case 24:eu(e,n,t,r),2048&l&&Zi(n.alternate,n);break;default:eu(e,n,t,r)}}function tu(e,n,t,r,l){for(l=l&&!!(10256&n.subtreeFlags),n=n.child;null!==n;){var a=e,i=n,u=t,o=r,s=i.flags;switch(i.tag){case 0:case 11:case 15:tu(a,i,u,o,l),wi(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?4&c._visibility?tu(a,i,u,o,l):1&i.mode?ru(a,i):(c._visibility|=4,tu(a,i,u,o,l)):(c._visibility|=4,tu(a,i,u,o,l)),l&&2048&s&&Ki(i.alternate,i);break;case 24:tu(a,i,u,o,l),l&&2048&s&&Zi(i.alternate,i);break;default:tu(a,i,u,o,l)}n=n.sibling}}function ru(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,r=n,l=r.flags;switch(r.tag){case 22:ru(t,r),2048&l&&Ki(r.alternate,r);break;case 24:ru(t,r),2048&l&&Zi(r.alternate,r);break;default:ru(t,r)}n=n.sibling}}var lu=8192;function au(e){if(e.subtreeFlags&lu)for(e=e.child;null!==e;)iu(e),e=e.sibling}function iu(e){switch(e.tag){case 26:au(e),e.flags&lu&&null!==e.memoizedState&&Vn();break;case 5:case 3:case 4:default:au(e);break;case 22:if(null===e.memoizedState){var n=e.alternate;null!==n&&null!==n.memoizedState?(n=lu,lu=16777216,au(e),lu=n):au(e)}}}function uu(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function ou(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];Fi=r,fu(r,e)}uu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)su(e),e=e.sibling}function su(e){switch(e.tag){case 0:case 11:case 15:ou(e),2048&e.flags&&Ei(9,e,e.return);break;case 3:case 12:default:ou(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&4&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-5,cu(e)):ou(e)}}function cu(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];Fi=r,fu(r,e)}uu(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:Ei(8,n,n.return),cu(n);break;case 22:4&(t=n.stateNode)._visibility&&(t._visibility&=-5,cu(n));break;default:cu(n)}e=e.sibling}}function fu(e,n){for(;null!==Fi;){var t=Fi;switch(t.tag){case 0:case 11:case 15:Ei(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var r=t.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ci(t.memoizedState.cache)}if(null!==(r=t.child))r.return=t,Fi=r;else e:for(t=e;null!==Fi;){var l=(r=Fi).sibling,a=r.return;if(ji(r),r===t){Fi=null;break e}if(null!==l){l.return=a,Fi=l;break e}Fi=a}}}var du={getCacheForType:function(e){var n=li(oi),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t}},pu="function"==typeof WeakMap?WeakMap:Map,hu=0,mu=null,gu=null,vu=0,bu=0,yu=null,Su=!1,ku=!1,wu=!1,Eu=0,Pu=0,Tu=0,_u=0,zu=0,Cu=0,xu=0,Ru=null,Nu=null,Lu=!1,Iu=0,Uu=1/0,Fu=null,Mu=null,Du=!1,Au=null,ju=0,Qu=0,Vu=null,Hu=0,Ou=null;function Bu(e){return 1&e.mode?2&hu&&0!==vu?vu&-vu:null!==s.T?0!==(e=Vt)?e:At():e=0!==Jn?Jn:32:2}function Wu(){0===Cu&&(Cu=536870912&vu?536870912:Nn());var e=Cr.current;return null!==e&&(e.flags|=32),Cu}function $u(e,t,r){(e===mu&&2===bu||null!==e.cancelPendingCommit)&&(Zu(e,0),Ju(e,vu,Cu,!1)),Un(e,r),2&hu&&e===mu||(e===mu&&(!(2&hu)&&(_u|=r),4===Pu&&Ju(e,vu,Cu,!1)),Lt(e),2===r&&0===hu&&!(1&t.mode)&&(Uu=n(i[3]).unstable_now()+500,It(0,!0)))}function qu(e,t,r){if(6&hu)throw Error("Should not already be working.");for(var l=!r&&!(60&t)&&0===(t&e.expiredLanes)||xn(e,t),a=l?io(e,t):lo(e,t,!0),u=l;;){if(0===a){ku&&!l&&Ju(e,t,0,!1);break}if(6===a)Ju(e,t,0,!Su);else{if(r=e.current.alternate,u&&!Gu(r)){a=lo(e,t,!1),u=!1;continue}if(0!==e.tag&&2===a){if(u=t,e.errorRecoveryDisabledLanes&u)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=e;if(a=Ru,2!==(o=lo(s,o,!1))){if(wu){s.errorRecoveryDisabledLanes|=u,_u|=u,a=4;break e}u=Nu,Nu=a,null!==u&&Yu(u)}a=o}if(u=!1,2!==a)continue}}if(1===a){Zu(e,0),Ju(e,t,0,!0);break}e:{switch(l=e,u=a){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 4:if((4194176&t)===t){Ju(l,t,Cu,!Su);break e}break;case 2:Nu=null;break;case 3:case 5:break;default:throw Error("Unknown root exit status.")}if(l.finishedWork=r,l.finishedLanes=t,(62914560&t)===t&&3===u&&10<(u=Iu+300-n(i[3]).unstable_now())){if(Ju(l,t,Cu,!Su),0!==Cn(l,0))break e;l.timeoutHandle=Xn(Xu.bind(null,l,r,Nu,Fu,Lu,t,Cu,_u,xu,Su,2,-0,0),u)}else Xu(l,r,Nu,Fu,Lu,t,Cu,_u,xu,Su,0,-0,0)}}break}Lt(e)}function Yu(e){null===Nu?Nu=e:Nu.push.apply(Nu,e)}function Xu(e,n,t,r,l,a,i,u,o,c,f,d,p){(8192&(a=n.subtreeFlags)||!(16785408&~a))&&iu(n),n=s.T,a=Jn;try{Jn=2,s.T=null,ho(e,t,r,l,a,i,u,o)}finally{s.T=n,Jn=a}}function Gu(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var r=0;r<t.length;r++){var l=t[r],a=l.getSnapshot;l=l.value;try{if(!at(a(),l))return!1}catch(e){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ju(e,n,t,r){n&=~zu,n&=~_u,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var l=n;0<l;){var a=31-wn(l),i=1<<a;r[a]=-1,l&=~i}0!==t&&Mn(e,t,n)}function Ku(){if(null!==gu){if(0===bu)var e=gu.return;else Ga=Xa=null,Zr(e=gu),hr=null,mr=0,e=gu;for(;null!==e;)ki(e.alternate,e),e=e.return;gu=null}}function Zu(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,Gn(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),Ku(),mu=e,gu=t=zo(e.current,null),vu=n,bu=0,yu=null,Su=!1,ku=xn(e,n),wu=!1,xu=Cu=zu=_u=Tu=Pu=0,Nu=Ru=null,Lu=!1,8&n&&(n|=32&n);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=n;0<r;){var l=31-wn(r),a=1<<l;n|=e[l],r&=~a}return Eu=n,St(),t}function eo(e,n){Dr=null,s.H=ta,n===ar?(n=dr(),bu=3):n===ir?(n=dr(),bu=4):bu=n===ka?8:null!==n&&"object"==typeof n&&"function"==typeof n.then?6:1,yu=n,null===gu&&(Pu=1,ma(e,ut(n,e.current)))}function no(){var e=s.H;return s.H=ta,null===e?ta:e}function to(){var e=s.A;return s.A=du,e}function ro(){Pu=4,Su||(4194176&vu)!==vu&&null!==Cr.current||(ku=!0),!(134217727&Tu)&&!(134217727&_u)||null===mu||Ju(mu,vu,Cu,!1)}function lo(e,n,t){var r=hu;hu|=2;var l=no(),a=to();mu===e&&vu===n||(Fu=null,Zu(e,n)),n=!1;var i=Pu;e:for(;;)try{if(0!==bu&&null!==gu){var u=gu,o=yu;switch(bu){case 8:Ku(),i=6;break e;case 3:case 2:case 6:null===Cr.current&&(n=!0);var c=bu;if(bu=0,yu=null,co(e,u,o,c),t&&ku){i=0;break e}break;default:c=bu,bu=0,yu=null,co(e,u,o,c)}}ao(),i=Pu;break}catch(n){eo(e,n)}return n&&e.shellSuspendCounter++,Ga=Xa=null,hu=r,s.H=l,s.A=a,null===gu&&(mu=null,vu=0,St()),i}function ao(){for(;null!==gu;)oo(gu)}function io(e,t){var r=hu;hu|=2;var l=no(),a=to();mu!==e||vu!==t?(Fu=null,Uu=n(i[3]).unstable_now()+500,Zu(e,t)):ku=xn(e,t);e:for(;;)try{if(0!==bu&&null!==gu){t=gu;var u=yu;n:switch(bu){case 1:bu=0,yu=null,co(e,t,u,1);break;case 2:if(or(u)){bu=0,yu=null,so(t);break}t=function(){2===bu&&mu===e&&(bu=7),Lt(e)},u.then(t,t);break e;case 3:bu=7;break e;case 4:bu=5;break e;case 7:or(u)?(bu=0,yu=null,so(t)):(bu=0,yu=null,co(e,t,u,7));break;case 5:var o=null;switch(gu.tag){case 26:o=gu.memoizedState;case 5:case 27:var c=gu;if(!o||Vn()){bu=0,yu=null;var f=c.sibling;if(null!==f)gu=f;else{var d=c.return;null!==d?(gu=d,fo(d)):gu=null}break n}}bu=0,yu=null,co(e,t,u,5);break;case 6:bu=0,yu=null,co(e,t,u,6);break;case 8:Ku(),Pu=6;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}}uo();break}catch(n){eo(e,n)}return Ga=Xa=null,s.H=l,s.A=a,hu=r,null!==gu?0:(mu=null,vu=0,St(),Pu)}function uo(){for(;null!==gu&&!n(i[3]).unstable_shouldYield();)oo(gu)}function oo(e){var n=qa(e.alternate,e,Eu);e.memoizedProps=e.pendingProps,null===n?fo(e):gu=n}function so(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=Na(t,n,n.pendingProps,n.type,void 0,vu);break;case 11:n=Na(t,n,n.pendingProps,n.type.render,n.ref,vu);break;case 5:Zr(n);default:ki(t,n),n=qa(t,n=gu=Co(n,Eu),Eu)}e.memoizedProps=e.pendingProps,null===n?fo(e):gu=n}function co(e,n,t,r){Ga=Xa=null,Zr(n),hr=null,mr=0;var l=n.return;try{if(Sa(e,l,n,t,vu))return Pu=1,ma(e,ut(t,e.current)),void(gu=null)}catch(n){if(null!==l)throw gu=l,n;return Pu=1,ma(e,ut(t,e.current)),void(gu=null)}32768&n.flags?(1===r?e=!0:ku||536870912&vu?e=!1:(Su=e=!0,(2===r||3===r||6===r)&&(null!==(r=Cr.current)&&13===r.tag&&(r.flags|=16384))),po(n,e)):fo(n)}function fo(e){var n=e;do{if(32768&n.flags)return void po(n,Su);e=n.return;var t=yi(n.alternate,n,Eu);if(null!==t)return void(gu=t);if(null!==(n=n.sibling))return void(gu=n);gu=n=e}while(null!==n);0===Pu&&(Pu=5)}function po(e,n){do{var t=Si(e.alternate,e);if(null!==t)return t.flags&=32767,void(gu=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(gu=e);gu=e=t}while(null!==e);Pu=6,gu=null}function ho(e,t,r,l,a,u,o,c){do{go()}while(null!==Au);if(6&hu)throw Error("Should not already be working.");var f=e.finishedWork;if(l=e.finishedLanes,null===f)return null;if(e.finishedWork=null,e.finishedLanes=0,f===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d,p,h=f.lanes|f.childLanes;if(Fn(e,l,h|=yt,u,o,c),e===mu&&(gu=mu=null,vu=0),!(10256&f.subtreeFlags)&&!(10256&f.flags)||Du||(Du=!0,Qu=h,Vu=r,d=n(i[3]).unstable_NormalPriority,p=function(){return go(),null},n(i[3]).unstable_scheduleCallback(d,p)),r=!!(15990&f.flags),15990&f.subtreeFlags||r?(r=s.T,s.T=null,u=Jn,Jn=2,o=hu,hu|=4,Di(e,f),qi(f,e),e.current=f,Ai(e,f.alternate,f),n(i[3]).unstable_requestPaint(),hu=o,Jn=u,s.T=r):e.current=f,Du?(Du=!1,Au=e,ju=l):mo(e,h),0===(h=e.pendingLanes)&&(Mu=null),Sn(f.stateNode),Lt(e),null!==t)for(a=e.onRecoverableError,f=0;f<t.length;f++)a((h=t[f]).value,{componentStack:h.stack});return 3&ju&&0!==e.tag&&go(),h=e.pendingLanes,4194218&l&&42&h?e===Ou?Hu++:(Hu=0,Ou=e):Hu=0,It(0,!1),null}function mo(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,ci(n)))}function go(){if(null!==Au){var e=Au,n=Qu;Qu=0;var t=An(ju),r=s.T,l=Jn;try{if(Jn=32>t?32:t,s.T=null,null===Au)var a=!1;else{t=Vu,Vu=null;var i=Au,u=ju;if(Au=null,ju=0,6&hu)throw Error("Cannot flush passive effects while already rendering.");var o=hu;if(hu|=4,su(i.current),nu(i,i.current,u,t),hu=o,It(0,!1),yn&&"function"==typeof yn.onPostCommitFiberRoot)try{yn.onPostCommitFiberRoot(bn,i)}catch(e){}a=!0}return a}finally{Jn=l,s.T=r,mo(e,n)}}return!1}function vo(e,n,t){n=ut(t,n),null!==(e=Xt(e,n=va(e.stateNode,n,2),2))&&(Un(e,2),Lt(e))}function bo(e,n,t){if(3===e.tag)vo(e,e,t);else for(;null!==n;){if(3===n.tag){vo(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Mu||!Mu.has(r))){e=ut(t,e),null!==(r=Xt(n,t=ba(2),2))&&(ya(t,r,n,e),Un(r,2),Lt(r));break}}n=n.return}}function yo(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var l=new Set;r.set(n,l)}else void 0===(l=r.get(n))&&(l=new Set,r.set(n,l));l.has(t)||(wu=!0,l.add(t),e=So.bind(null,e,n,t),n.then(e,e))}function So(e,t,r){var l=e.pingCache;null!==l&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,mu===e&&(vu&r)===r&&(4===Pu||3===Pu&&(62914560&vu)===vu&&300>n(i[3]).unstable_now()-Iu?!(2&hu)&&Zu(e,0):zu|=r,xu===vu&&(xu=0)),Lt(e)}function ko(e,n){0===n&&(n=1&e.mode?Ln():2),null!==(e=Et(e,n))&&(Un(e,n),Lt(e))}function wo(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),ko(e,t)}function Eo(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;null!==l&&(t=l.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==r&&r.delete(n),ko(e,t)}function Po(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function To(e,n,t,r){return new Po(e,n,t,r)}function _o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zo(e,n){var t=e.alternate;return null===t?((t=To(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=31457280&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function Co(e,n){e.flags&=31457282;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xo(e,n,t,r,l,a){var i=0;if(r=e,"function"==typeof e)_o(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case p:return Ro(t.children,l,a,n);case h:i=8,1&(l|=8)&&(l|=16);break;case m:return(e=To(12,t,n,2|l)).elementType=m,e.lanes=a,e;case S:return(e=To(13,t,n,l)).elementType=S,e.lanes=a,e;case k:return(e=To(19,t,n,l)).elementType=k,e.lanes=a,e;case P:return No(t,l,a,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case b:i=10;break e;case v:i=9;break e;case y:i=11;break e;case w:i=14;break e;case E:i=16,r=null;break e}i=29,t=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null===e?"null":typeof e)+"."),r=null}return(n=To(i,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function Ro(e,n,t,r){return(e=To(7,e,r,n)).lanes=t,e}function No(e,n,t,r){(e=To(22,e,r,n)).elementType=P,e.lanes=t;var l={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=l._current;if(null===e)throw Error("Calling Offscreen.detach before instance handle has been set.");if(!(2&l._pendingVisibility)){var n=Et(e,2);null!==n&&(l._pendingVisibility|=2,$u(n,e,2))}},attach:function(){var e=l._current;if(null===e)throw Error("Calling Offscreen.detach before instance handle has been set.");if(2&l._pendingVisibility){var n=Et(e,2);null!==n&&(l._pendingVisibility&=-3,$u(n,e,2))}}};return e.stateNode=l,e}function Lo(e,n,t){return(e=To(6,e,null,n)).lanes=t,e}function Io(e,n,t){return(n=To(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Uo(e,n,t,r,l,a,i,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=r,this.onUncaughtError=l,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Fo(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:d,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Mo(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error("Unable to find node on an unmounted component.");throw e=Object.keys(e).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+e)}return null===(e=null!==(e=rn(n))?ln(e):null)?null:Yn(e.stateNode)}function Do(e,n,t,r){var l=Bu(t=n.current);return null===n.context?n.context=lt:n.pendingContext=lt,(n=Yt(l)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Xt(t,n,l))&&($u(e,t,l),Gt(e,t,l)),l}var Ao=u.version;if("19.0.0"!==Ao)throw Error('Incompatible React versions: The "react" and "react-native-renderer" packages must have the exact same version. Instead got:\n  - react:                  '+Ao+"\n  - react-native-renderer:  19.0.0\nLearn more: https://react.dev/warnings/version-mismatch");if("function"!=typeof n(i[2]).ReactFiberErrorDialog.showErrorDialog)throw Error("Expected ReactFiberErrorDialog.showErrorDialog to be a function.");function jo(e,t){!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:null,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&pa(e)}function Qo(e,t){!1!==n(i[2]).ReactFiberErrorDialog.showErrorDialog({errorBoundary:t.errorBoundary,error:e,componentStack:null!=t.componentStack?t.componentStack:""})&&console.error(e)}function Vo(e){var n=Ho.get(e);n&&Do(null,n,null,function(){Ho.delete(e)})}Ye=function(e,t){var r=hu;hu|=1;try{return e(t)}finally{0===(hu=r)&&(Uu=n(i[3]).unstable_now()+500,It(0,!0))}};var Ho=new Map,Oo={bundleType:0,version:"19.0.0",rendererPackageName:"react-native-renderer",currentDispatcherRef:s,findFiberByHostInstance:qe,reconcilerVersion:"19.0.0"};if(null!==Hn&&(Oo.rendererConfig=Hn),"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{bn=Bo.inject(Oo),yn=Bo}catch(e){}}a.createPortal=function(e,n){return Fo(e,n,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},a.dispatchCommand=function(e,t,r){var l=null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e);null!=l&&(null!=(e=n(i[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.dispatchCommand(e,t,r):n(i[2]).UIManager.dispatchViewManagerCommand(l,t,r))},a.findHostInstance_DEPRECATED=function(e){return null==e?null:e.canonical&&e.canonical.publicInstance?e.canonical.publicInstance:e._nativeTag?e:Mo(e)},a.findNodeHandle=function(e){if(null==e)return null;if("number"==typeof e)return e;if(e._nativeTag)return e._nativeTag;if(null!=e.canonical&&null!=e.canonical.nativeTag)return e.canonical.nativeTag;var t=n(i[2]).getNativeTagFromPublicInstance(e);return t||(null==(e=Mo(e))?e:null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e))},a.getInspectorDataForInstance=jn,a.isChildPublicInstance=function(){throw Error("isChildPublicInstance() is not available in production.")},a.render=function(e,n,t,r){var l=Ho.get(n);if(!l){l=jo;var a=Qo,i=ha;r&&void 0!==r.onUncaughtError&&(l=r.onUncaughtError),r&&void 0!==r.onCaughtError&&(a=r.onCaughtError),r&&void 0!==r.onRecoverableError&&(i=r.onRecoverableError),r=new Uo(n,0,!1,"",l,a,i,null),l=To(3,null,null,0),r.current=l,l.stateNode=r,(a=si()).refCount++,r.pooledCache=a,a.refCount++,l.memoizedState={element:null,isDehydrated:!1,cache:a},$t(l),l=r,Ho.set(n,l)}Do(e,l,null,t);e:if(e=l.current,e.child)switch(e.child.tag){case 27:case 5:e=Yn(e.child.stateNode);break e;default:e=e.child.stateNode}else e=null;return e},a.sendAccessibilityEvent=function(e,t){var r=null!=e._nativeTag?e._nativeTag:n(i[2]).getNativeTagFromPublicInstance(e);null!=r&&(null!=(e=n(i[2]).getNodeFromPublicInstance(e))?nativeFabricUIManager.sendAccessibilityEvent(e,t):n(i[2]).legacySendAccessibilityEvent(r,t))},a.unmountComponentAtNode=Vo,a.unmountComponentAtNodeAndRemoveContainer=function(e){Vo(e),n(i[2]).UIManager.removeRootView(e)},a.unstable_batchedUpdates=Ge},256,[61,174,230,252]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),o=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?r(l,s,o):l[s]=e[s]);return l})(e,t)})(_r(d[5])),l=_r(d[6]),s=["animating","color","hidesWhenStopped","onLayout","size","style"];var u='android'===n.default.OS?_r(d[7]):_r(d[8]).default,f=o.forwardRef(function(e,o){var f,p,h=e.animating,y=void 0===h||h,v=e.color,j=void 0===v?'ios'===n.default.OS?"#999999":null:v,O=e.hidesWhenStopped,_=void 0===O||O,b=e.onLayout,w=e.size,S=void 0===w?'small':w,z=e.style,W=(0,t.default)(e,s);switch(S){case'small':f=c.sizeSmall,p='small';break;case'large':f=c.sizeLarge,p='large';break;default:f={height:S,width:S}}var k=Object.assign({animating:y,color:j,hidesWhenStopped:_},W,{ref:o,style:f,size:p});return(0,l.jsx)(r.default,{onLayout:b,style:i.default.compose(c.container,z),children:'android'===n.default.OS?(0,l.jsx)(u,Object.assign({},k,{styleAttr:'Normal',indeterminate:!0})):(0,l.jsx)(u,Object.assign({},k))})});f.displayName='ActivityIndicator';var c=i.default.create({container:{alignItems:'center',justifyContent:'center'},sizeSmall:{width:20,height:20},sizeLarge:{width:36,height:36}});_e.default=f},257,[1,135,221,33,178,174,219,258,264]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),o=t(r(d[2])),f=r(d[3]),s=["styleAttr","indeterminate","animating"],l=r(d[4]).forwardRef(function(t,l){var u=t.styleAttr,v=void 0===u?'Normal':u,c=t.indeterminate,y=void 0===c||c,A=t.animating,j=void 0===A||A,x=(0,n.default)(t,s);return(0,f.jsx)(o.default,Object.assign({styleAttr:v,indeterminate:y,animating:j},x,{ref:l}))});m.exports=l},258,[1,135,259,219,174]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},259,[260]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var s=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidProgressBar",validAttributes:{styleAttr:!0,typeAttr:!0,indeterminate:!0,progress:!0,animating:!0,color:{process:r(d[2]).default},testID:!0}};e.default=r(d[3]).get('AndroidProgressBar',function(){return s})},260,[1,261,184,181]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(d[1])),p=n(r(d[2]));e.default=function(n,t){g.RN$Bridgeless;var l=t&&null!=t.paperComponentName?t.paperComponentName:n;if(null!=t&&null!=t.paperComponentNameDeprecated)if(p.default.hasViewManagerConfig(n))l=n;else{var u;if(null==t.paperComponentNameDeprecated||!p.default.hasViewManagerConfig(t.paperComponentNameDeprecated))throw new Error(`Failed to find native component for either ${n} or ${null!=(u=t.paperComponentNameDeprecated)?u:'(unknown)'}`);l=t.paperComponentNameDeprecated}return(0,o.default)(l)}},261,[1,262,44]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return r(d[0]).default(t,function(){return r(d[1])(t)})}},262,[263,182]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]).ReactNativeViewConfigRegistry.register;e.default=function(u,n){return t(u,n)}},263,[230]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},264,[265]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var _=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTActivityIndicatorView",validAttributes:{hidesWhenStopped:!0,animating:!0,color:{process:r(d[2]).default},size:!0}};e.default=r(d[3]).get('RCTActivityIndicatorView',function(){return _})},265,[1,261,184,181]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),l=e(_r(d[3])),s=e(_r(d[4])),o=e(_r(d[5])),n=e(_r(d[6])),c=e(_r(d[7])),r=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var s,o,n={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return n;if(s=t?l:i){if(s.has(e))return s.get(e);s.set(e,n)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?s(n,c,o):n[c]=e[c]);return n})(e,t)})(_r(d[8])),u=_r(d[9]);var b='android'===l.default.OS?s.default:o.default,f=r.forwardRef(function(e,t){var s,o,r=e.accessibilityLabel,f=e.accessibilityState,y=e['aria-busy'],h=e['aria-checked'],v=e['aria-disabled'],x=e['aria-expanded'],F=e['aria-label'],D=e['aria-selected'],w=e.importantForAccessibility,A=e.color,O=e.onPress,_=e.touchSoundDisabled,j=e.title,k=e.hasTVPreferredFocus,P=e.nextFocusDown,S=e.nextFocusForward,L=e.nextFocusLeft,M=e.nextFocusRight,R=e.nextFocusUp,C=e.testID,W=e.accessible,T=e.accessibilityActions,U=e.accessibilityHint,B=e.accessibilityLanguage,H=e.onAccessibilityAction,I=[p.button],V=[p.text];A&&('ios'===l.default.OS?V.push({color:A}):I.push({backgroundColor:A}));var z={busy:null!=y?y:null==f?void 0:f.busy,checked:null!=h?h:null==f?void 0:f.checked,disabled:null!=v?v:null==f?void 0:f.disabled,expanded:null!=x?x:null==f?void 0:f.expanded,selected:null!=D?D:null==f?void 0:f.selected},N=null!=e.disabled?e.disabled:null==(s=z)?void 0:s.disabled;z=N!==(null==(o=z)?void 0:o.disabled)?Object.assign({},z,{disabled:N}):z,N&&(I.push(p.buttonDisabled),V.push(p.textDisabled)),(0,c.default)('string'==typeof j,'The title prop of a Button must be a string');var q='android'===l.default.OS?j.toUpperCase():j,E='no'===w?'no-hide-descendants':w;return(0,u.jsx)(b,{accessible:W,accessibilityActions:T,onAccessibilityAction:H,accessibilityLabel:F||r,accessibilityHint:U,accessibilityLanguage:B,accessibilityRole:"button",accessibilityState:z,importantForAccessibility:E,hasTVPreferredFocus:k,nextFocusDown:P,nextFocusForward:S,nextFocusLeft:L,nextFocusRight:M,nextFocusUp:R,testID:C,disabled:N,onPress:O,touchSoundDisabled:_,ref:t,children:(0,u.jsx)(n.default,{style:I,children:(0,u.jsx)(i.default,{style:V,disabled:N,children:q})})})});f.displayName='Button';var p=t.default.create({button:l.default.select({ios:{},android:{elevation:4,backgroundColor:'#2196F3',borderRadius:2}}),text:Object.assign({textAlign:'center',margin:8},l.default.select({ios:{color:'#007AFF',fontSize:18},android:{color:'white',fontWeight:'500'}})),buttonDisabled:l.default.select({ios:{},android:{elevation:0,backgroundColor:'#dfdfdf'}}),textDisabled:l.default.select({ios:{color:'#cdcdcd'},android:{color:'#a1a1a1'}})});_e.default=f},266,[1,221,267,33,279,280,178,20,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),n=e(_r(d[1])),s=e(_r(d[2])),t=(b(_r(d[3])),e(_r(d[4]))),l=e(_r(d[5])),o=e(_r(d[6])),r=e(_r(d[7])),i=e(_r(d[8])),u=b(_r(d[9])),c=u,p=_r(d[10]),f=["accessible","accessibilityLabel","accessibilityState","allowFontScaling","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-label","aria-selected","children","ellipsizeMode","disabled","id","nativeID","numberOfLines","onLongPress","onPress","onPressIn","onPressOut","onResponderGrant","onResponderMove","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","onStartShouldSetResponder","pressRetentionOffset","selectable","selectionColor","suppressHighlighting","style"];function b(e,n){if("function"==typeof WeakMap)var s=new WeakMap,t=new WeakMap;return(b=function(e,n){if(!n&&e&&e.__esModule)return e;var l,o,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(l=n?t:s){if(l.has(e))return l.get(e);l.set(e,r)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?l(r,i,o):r[i]=e[i]);return r})(e,n)}var R=c.forwardRef(function(e,n){var t,c=e.accessible,b=e.accessibilityLabel,R=e.accessibilityState,v=e.allowFontScaling,O=e['aria-busy'],x=e['aria-checked'],j=e['aria-disabled'],T=e['aria-expanded'],L=e['aria-label'],M=e['aria-selected'],I=e.children,k=e.ellipsizeMode,w=e.disabled,C=e.id,_=e.nativeID,q=e.numberOfLines,D=e.onLongPress,G=e.onPress,H=e.onPressIn,A=e.onPressOut,W=e.onResponderGrant,N=e.onResponderMove,z=e.onResponderRelease,F=e.onResponderTerminate,V=e.onResponderTerminationRequest,B=e.onStartShouldSetResponder,E=e.pressRetentionOffset,J=e.selectable,K=e.selectionColor,Q=e.suppressHighlighting,U=e.style,X=(0,s.default)(e,f),Y=null!=L?L:b,Z=R;null==O&&null==x&&null==j&&null==T&&null==M||(Z=null!=Z?{busy:null!=O?O:Z.busy,checked:null!=x?x:Z.checked,disabled:null!=j?j:Z.disabled,expanded:null!=T?T:Z.expanded,selected:null!=M?M:Z.selected}:{busy:O,checked:x,disabled:j,expanded:T,selected:M});var $=null==(t=Z)?void 0:t.disabled,ee=null!=w?w:$,ne=(null!=G||null!=D||null!=B)&&!0!==ee,se=null!=K?(0,o.default)(K):void 0,te=U,le=q;null==le||le>=0||(le=0);var oe=J,re=(0,l.default)(te);if(null!=re){var ie=null;'number'==typeof re.fontWeight&&((ie=ie||{}).fontWeight=re.fontWeight.toString()),null!=re.userSelect&&(oe=y[re.userSelect],(ie=ie||{}).userSelect=void 0),null!=re.verticalAlign&&((ie=ie||{}).textAlignVertical=S[re.verticalAlign],ie.verticalAlign=void 0),null!=ie&&(te=[te,ie])}var ae=null!=C?C:_;if((0,u.useContext)(i.default))return ne?(0,p.jsx)(P,{ref:n,textProps:Object.assign({},X,{accessibilityLabel:Y,accessibilityState:Z,nativeID:ae,numberOfLines:le,selectable:oe,selectionColor:se,style:te,disabled:w,children:I}),textPressabilityProps:{onLongPress:D,onPress:G,onPressIn:H,onPressOut:A,onResponderGrant:W,onResponderMove:N,onResponderRelease:z,onResponderTerminate:F,onResponderTerminationRequest:V,onStartShouldSetResponder:B,pressRetentionOffset:E,suppressHighlighting:Q}}):(0,p.jsx)(_r(d[11]).NativeVirtualText,Object.assign({},X,{accessibilityLabel:Y,accessibilityState:Z,nativeID:ae,numberOfLines:le,ref:n,selectable:oe,selectionColor:se,style:te,disabled:w,children:I}));ee!==$&&(null!=ee&&!1!==ee||null!=$&&!1!==$)&&(Z=Object.assign({},Z,{disabled:ee}));var ue=r.default.select({ios:!1!==c,android:null==c?null!=G||null!=D:c,default:c}),de=null;if(de=ne?(0,p.jsx)(h,{ref:n,textProps:Object.assign({},X,{accessibilityLabel:Y,accessibilityState:Z,accessible:ue,allowFontScaling:!1!==v,disabled:ee,ellipsizeMode:null!=k?k:'tail',nativeID:ae,numberOfLines:le,selectable:oe,selectionColor:se,style:te,children:I}),textPressabilityProps:{onLongPress:D,onPress:G,onPressIn:H,onPressOut:A,onResponderGrant:W,onResponderMove:N,onResponderRelease:z,onResponderTerminate:F,onResponderTerminationRequest:V,onStartShouldSetResponder:B,pressRetentionOffset:E,suppressHighlighting:Q}}):(0,p.jsx)(_r(d[11]).NativeText,Object.assign({},X,{accessibilityLabel:Y,accessibilityState:Z,accessible:ue,allowFontScaling:!1!==v,disabled:ee,ellipsizeMode:null!=k?k:'tail',nativeID:ae,numberOfLines:le,ref:n,selectable:oe,selectionColor:se,style:te,children:I})),null==I)return de;if(Array.isArray(I)&&I.length<=3){var ce=!1;for(var pe of I)if(null!=pe&&'object'==typeof pe){ce=!0;break}if(!ce)return de}else if('object'!=typeof I)return de;return(0,p.jsx)(i.default.Provider,{value:!0,children:de})});function v(e){var s=e.onLongPress,l=e.onPress,o=e.onPressIn,i=e.onPressOut,c=e.onResponderGrant,p=e.onResponderMove,f=e.onResponderRelease,b=e.onResponderTerminate,R=e.onResponderTerminationRequest,v=e.onStartShouldSetResponder,P=e.pressRetentionOffset,h=e.suppressHighlighting,y=(0,u.useState)(!1),S=(0,n.default)(y,2),O=S[0],x=S[1],j=(0,u.useMemo)(function(){var e=o,n=i;return'ios'===r.default.OS&&(e=function(e){x(null==h||!h),null==o||o(e)},n=function(e){x(!1),null==i||i(e)}),{disabled:!1,pressRectOffset:P,onLongPress:s,onPress:l,onPressIn:e,onPressOut:n}},[P,s,l,o,i,h]),T=(0,t.default)(j),L=(0,u.useMemo)(function(){return null==T?null:{onResponderGrant:function(e){T.onResponderGrant(e),null!=c&&c(e)},onResponderMove:function(e){T.onResponderMove(e),null!=p&&p(e)},onResponderRelease:function(e){T.onResponderRelease(e),null!=f&&f(e)},onResponderTerminate:function(e){T.onResponderTerminate(e),null!=b&&b(e)},onClick:T.onClick,onResponderTerminationRequest:null!=R?R:T.onResponderTerminationRequest,onStartShouldSetResponder:null!=v?v:T.onStartShouldSetResponder}},[T,c,p,f,b,R,v]);return(0,u.useMemo)(function(){return[O,L]},[O,L])}R.displayName='Text';var P=c.forwardRef(function(e,s){var t=e.textProps,l=v(e.textPressabilityProps),o=(0,n.default)(l,2),r=o[0],i=o[1];return(0,p.jsx)(_r(d[11]).NativeVirtualText,Object.assign({},t,i,{isHighlighted:r,isPressable:!0,ref:s}))}),h=c.forwardRef(function(e,s){var t=e.textProps,l=v(e.textPressabilityProps),o=(0,n.default)(l,2),r=o[0],i=o[1];return(0,p.jsx)(_r(d[11]).NativeText,Object.assign({},t,i,{isHighlighted:r,isPressable:!0,ref:s}))}),y={auto:!0,text:!0,none:!1,contain:!0,all:!0},S={auto:'auto',top:'top',bottom:'bottom',middle:'center'};m.exports=R},267,[1,38,135,268,269,223,184,33,179,174,219,278]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PressabilityDebugView=function(e){return null},_e.isEnabled=function(){return!1},_e.setEnabled=function(e){};e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i])})(e,t)})(_r(d[3])),_r(d[4])},268,[1,178,185,174,219]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var t=(0,l.useRef)(null);null!=n&&null==t.current&&(t.current=new u.default(n));var f=t.current;return(0,l.useEffect)(function(){null!=n&&null!=f&&f.configure(n)},[n,f]),(0,l.useEffect)(function(){if(null!=f)return function(){f.reset()}},[f]),null==f?null:f.getEventHandlers()};var u=n(r(d[1])),l=r(d[2])},269,[1,270,174]);
__d(function(g,r,i,a,m,e,d){var E=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=E(r(d[1])),n=E(r(d[2])),R=E(r(d[3])),_=E(r(d[4])),o=E(r(d[5])),l=E(r(d[6])),u=E(r(d[7])),s=E(r(d[8])),S=Object.freeze({NOT_RESPONDER:{DELAY:'ERROR',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'ERROR',RESPONDER_TERMINATED:'ERROR',ENTER_PRESS_RECT:'ERROR',LEAVE_PRESS_RECT:'ERROR',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_IN:{DELAY:'RESPONDER_ACTIVE_PRESS_IN',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:'RESPONDER_ACTIVE_PRESS_OUT',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_INACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'RESPONDER_ACTIVE_LONG_PRESS_IN'},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:'ERROR',RESPONDER_GRANT:'ERROR',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_IN',LEAVE_PRESS_RECT:'RESPONDER_ACTIVE_LONG_PRESS_OUT',LONG_PRESS_DETECTED:'ERROR'},ERROR:{DELAY:'NOT_RESPONDER',RESPONDER_GRANT:'RESPONDER_INACTIVE_PRESS_IN',RESPONDER_RELEASE:'NOT_RESPONDER',RESPONDER_TERMINATED:'NOT_RESPONDER',ENTER_PRESS_RECT:'NOT_RESPONDER',LEAVE_PRESS_RECT:'NOT_RESPONDER',LONG_PRESS_DETECTED:'NOT_RESPONDER'}}),T=function(E){return'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},O=function(E){return'RESPONDER_ACTIVE_PRESS_OUT'===E||'RESPONDER_ACTIVE_PRESS_IN'===E},P=function(E){return'RESPONDER_INACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_PRESS_IN'===E||'RESPONDER_ACTIVE_LONG_PRESS_IN'===E},c=function(E){return'RESPONDER_TERMINATED'===E||'RESPONDER_RELEASE'===E},N=30,D=20,v=20,h=20,f=10;e.default=(function(){return(0,n.default)(function E(n){var R=this;(0,t.default)(this,E),this._eventHandlers=null,this._hoverInDelayTimeout=null,this._hoverOutDelayTimeout=null,this._isHovered=!1,this._longPressDelayTimeout=null,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._responderID=null,this._responderRegion=null,this._touchState='NOT_RESPONDER',this._measureCallback=function(E,t,n,_,o,l){(E||t||n||_||o||l)&&(R._responderRegion={bottom:l+_,left:o,right:o+n,top:l})},this.configure(n)},[{key:"configure",value:function(E){this._config=E}},{key:"reset",value:function(){this._cancelHoverInDelayTimeout(),this._cancelHoverOutDelayTimeout(),this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout(),this._config=Object.freeze({})}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var E=this,t={onBlur:function(t){var n=E._config.onBlur;null!=n&&n(t)},onFocus:function(t){var n=E._config.onFocus;null!=n&&n(t)}},n={onStartShouldSetResponder:function(){var t;return null==(t=!E._config.disabled)||t},onResponderGrant:function(t){t.persist(),E._cancelPressOutDelayTimeout(),E._responderID=t.currentTarget,E._touchState='NOT_RESPONDER',E._receiveSignal('RESPONDER_GRANT',t);var n=I(E._config.delayPressIn);n>0?E._pressDelayTimeout=setTimeout(function(){E._receiveSignal('DELAY',t)},n):E._receiveSignal('DELAY',t);var R=I(E._config.delayLongPress,10,500-n);return E._longPressDelayTimeout=setTimeout(function(){E._handleLongPress(t)},R+n),!0===E._config.blockNativeResponder},onResponderMove:function(t){var n=E._config.onPressMove;null!=n&&n(t);var R=E._responderRegion;if(null!=R){var _=A(t);if(null==_)return E._cancelLongPressDelayTimeout(),void E._receiveSignal('LEAVE_PRESS_RECT',t);if(null!=E._touchActivatePosition){var o=E._touchActivatePosition.pageX-_.pageX,l=E._touchActivatePosition.pageY-_.pageY;Math.hypot(o,l)>f&&E._cancelLongPressDelayTimeout()}E._isTouchWithinResponderRegion(_,R)?E._receiveSignal('ENTER_PRESS_RECT',t):(E._cancelLongPressDelayTimeout(),E._receiveSignal('LEAVE_PRESS_RECT',t))}},onResponderRelease:function(t){E._receiveSignal('RESPONDER_RELEASE',t)},onResponderTerminate:function(t){E._receiveSignal('RESPONDER_TERMINATED',t)},onResponderTerminationRequest:function(){var t=E._config.cancelable;return null==t||t},onClick:function(t){var n;if(null==t||null==(n=t.nativeEvent)||null==n.hasOwnProperty||!n.hasOwnProperty('pointerType'))if((null==t?void 0:t.currentTarget)===(null==t?void 0:t.target)){var R=E._config,_=R.onPress,o=R.disabled;null!=_&&!0!==o&&_(t)}else null==t||t.stopPropagation()}};if(_.default.shouldPressibilityUseW3CPointerEventsForHover()){var R={onPointerEnter:void 0,onPointerLeave:void 0},o=this._config,u=o.onHoverIn,s=o.onHoverOut;return null!=u&&(R.onPointerEnter=function(t){if(E._isHovered=!0,E._cancelHoverOutDelayTimeout(),null!=u){var n=I(E._config.delayHoverIn);n>0?(t.persist(),E._hoverInDelayTimeout=setTimeout(function(){u(y(t))},n)):u(y(t))}}),null!=s&&(R.onPointerLeave=function(t){if(E._isHovered&&(E._isHovered=!1,E._cancelHoverInDelayTimeout(),null!=s)){var n=I(E._config.delayHoverOut);n>0?(t.persist(),E._hoverOutDelayTimeout=setTimeout(function(){s(y(t))},n)):s(y(t))}}),Object.assign({},t,n,R)}var S='ios'===l.default.OS||'android'===l.default.OS?null:{onMouseEnter:function(t){if((0,r(d[9]).isHoverEnabled)()){E._isHovered=!0,E._cancelHoverOutDelayTimeout();var n=E._config.onHoverIn;if(null!=n){var R=I(E._config.delayHoverIn);R>0?(t.persist(),E._hoverInDelayTimeout=setTimeout(function(){n(t)},R)):n(t)}}},onMouseLeave:function(t){if(E._isHovered){E._isHovered=!1,E._cancelHoverInDelayTimeout();var n=E._config.onHoverOut;if(null!=n){var R=I(E._config.delayHoverOut);R>0?(t.persist(),E._hoverInDelayTimeout=setTimeout(function(){n(t)},R)):n(t)}}}};return Object.assign({},t,n,S)}},{key:"_receiveSignal",value:function(E,t){var n;null!=t.nativeEvent.timestamp&&u.default.emitEvent(function(){return{signal:E,nativeTimestamp:t.nativeEvent.timestamp}});var R=this._touchState,_=null==(n=S[R])?void 0:n[E];null==this._responderID&&'RESPONDER_RELEASE'===E||((0,s.default)(null!=_&&'ERROR'!==_,'Pressability: Invalid signal `%s` for state `%s` on responder: %s',E,R,'number'==typeof this._responderID?this._responderID:'<<host component>>'),R!==_&&(this._performTransitionSideEffects(R,_,E,t),this._touchState=_))}},{key:"_performTransitionSideEffects",value:function(E,t,n,_){c(n)&&(this._touchActivatePosition=null,this._cancelLongPressDelayTimeout());var o='NOT_RESPONDER'===E&&'RESPONDER_INACTIVE_PRESS_IN'===t,u=!O(E)&&O(t);if((o||u)&&this._measureResponderRegion(),P(E)&&'LONG_PRESS_DETECTED'===n){var s=this._config.onLongPress;null!=s&&s(_)}var S=T(E),N=T(t);if(!S&&N?this._activate(_):S&&!N&&this._deactivate(_),P(E)&&'RESPONDER_RELEASE'===n){N||S||(this._activate(_),this._deactivate(_));var D=this._config,v=D.onLongPress,h=D.onPress,f=D.android_disableSound;if(null!=h)null!=v&&'RESPONDER_ACTIVE_LONG_PRESS_IN'===E||('android'===l.default.OS&&!0!==f&&R.default.playTouchSound(),h(_))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(E){var t=this._config.onPressIn,n=A(E),R=n.pageX,_=n.pageY;this._touchActivatePosition={pageX:R,pageY:_},this._touchActivateTime=Date.now(),null!=t&&t(E)}},{key:"_deactivate",value:function(E){var t=this._config.onPressOut;if(null!=t){var n,R=I(this._config.minPressDuration,0,130),_=Date.now()-(null!=(n=this._touchActivateTime)?n:0),o=Math.max(R-_,I(this._config.delayPressOut));o>0?(E.persist(),this._pressOutDelayTimeout=setTimeout(function(){t(E)},o)):t(E)}this._touchActivateTime=null}},{key:"_measureResponderRegion",value:function(){null!=this._responderID&&('number'==typeof this._responderID?o.default.measure(this._responderID,this._measureCallback):this._responderID.measure(this._measureCallback))}},{key:"_isTouchWithinResponderRegion",value:function(E,t){var n,R,_,o,l=(0,r(d[10]).normalizeRect)(this._config.hitSlop),u=(0,r(d[10]).normalizeRect)(this._config.pressRectOffset),s=t.bottom,S=t.left,T=t.right,O=t.top;return null!=l&&(null!=l.bottom&&(s+=l.bottom),null!=l.left&&(S-=l.left),null!=l.right&&(T+=l.right),null!=l.top&&(O-=l.top)),s+=null!=(n=null==u?void 0:u.bottom)?n:N,S-=null!=(R=null==u?void 0:u.left)?R:D,T+=null!=(_=null==u?void 0:u.right)?_:v,O-=null!=(o=null==u?void 0:u.top)?o:h,E.pageX>S&&E.pageX<T&&E.pageY>O&&E.pageY<s}},{key:"_handleLongPress",value:function(E){'RESPONDER_ACTIVE_PRESS_IN'!==this._touchState&&'RESPONDER_ACTIVE_LONG_PRESS_IN'!==this._touchState||this._receiveSignal('LONG_PRESS_DETECTED',E)}},{key:"_cancelHoverInDelayTimeout",value:function(){null!=this._hoverInDelayTimeout&&(clearTimeout(this._hoverInDelayTimeout),this._hoverInDelayTimeout=null)}},{key:"_cancelHoverOutDelayTimeout",value:function(){null!=this._hoverOutDelayTimeout&&(clearTimeout(this._hoverOutDelayTimeout),this._hoverOutDelayTimeout=null)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}],[{key:"setLongPressDeactivationDistance",value:function(E){f=E}}])})();function I(E){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(t,null!=E?E:n)}var A=function(E){var t=E.nativeEvent,n=t.changedTouches,R=t.touches;return null!=R&&R.length>0?R[0]:null!=n&&n.length>0?n[0]:E.nativeEvent};function y(E){var t=E.nativeEvent,n=t.clientX,R=t.clientY;return Object.assign({},E,{nativeEvent:{clientX:n,clientY:R,pageX:n,pageY:R,timestamp:E.timeStamp}})}},270,[1,12,13,271,274,44,33,275,20,276,277]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0])(r(d[1])),o={playTouchSound:function(){u.default&&u.default.playTouchSound()}};m.exports=o},271,[1,272]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},272,[273]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('SoundManager')},273,[36]);
__d(function(g,r,i,a,m,e,d){m.exports={shouldEmitW3CPointerEvents:function(){return!1},shouldPressibilityUseW3CPointerEventsForHover:function(){return!1}}},274,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=new((function(){return(0,s.default)(function t(){(0,n.default)(this,t),this._listeners=[]},[{key:"addListener",value:function(t){this._listeners.push(t)}},{key:"removeListener",value:function(t){var n=this._listeners.indexOf(t);n>-1&&this._listeners.splice(n,1)}},{key:"emitEvent",value:function(t){if(0!==this._listeners.length){var n=t();this._listeners.forEach(function(t){return t(n)})}}}])})());e.default=u},275,[1,12,13]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.isHoverEnabled=function(){return o};var t=n(r(d[1])),o=!1;if('web'===t.default.OS&&Boolean('undefined'!=typeof window&&window.document&&window.document.createElement)){var u=0,c=function(){u=Date.now(),o&&(o=!1)};document.addEventListener('touchstart',c,!0),document.addEventListener('touchmove',c,!0),document.addEventListener('mousemove',function(){o||Date.now()-u<1e3||(o=!0)},!0)}},276,[1,33]);
__d(function(g,r,i,a,m,e,d){function t(t){return{bottom:t,left:t,right:t,top:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createSquare=t,e.normalizeRect=function(n){return'number'==typeof n?t(n):n}},277,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NativeVirtualText=e.NativeText=void 0;var n=t(r(d[1])),l=t(r(d[2])),o={validAttributes:{isHighlighted:!0,isPressable:!0,numberOfLines:!0,ellipsizeMode:!0,allowFontScaling:!0,dynamicTypeRamp:!0,maxFontSizeMultiplier:!0,disabled:!0,selectable:!0,selectionColor:!0,adjustsFontSizeToFit:!0,minimumFontScale:!0,textBreakStrategy:!0,onTextLayout:!0,onInlineViewLayout:!0,dataDetectorType:!0,android_hyphenationFrequency:!0,lineBreakStrategyIOS:!0},directEventTypes:{topTextLayout:{registrationName:'onTextLayout'},topInlineViewLayout:{registrationName:'onInlineViewLayout'}},uiViewClassName:'RCTText'},u={validAttributes:{isHighlighted:!0,isPressable:!0,maxFontSizeMultiplier:!0},uiViewClassName:'RCTVirtualText'},s=e.NativeText=(0,l.default)('RCTText',function(){return(0,r(d[3]).createViewConfig)(o)});e.NativeVirtualText=g.RN$Bridgeless||n.default.hasViewManagerConfig('RCTVirtualText')?(0,l.default)('RCTVirtualText',function(){return(0,r(d[3]).createViewConfig)(u)}):s},278,[1,44,263,214]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),s=e(_r(d[1])),t=e(_r(d[2])),i=e(_r(d[3])),o=e(_r(d[4])),n=e(_r(d[5])),r=e(_r(d[6])),l=(e(_r(d[7])),e(_r(d[8]))),p=e(_r(d[9])),c=e(_r(d[10])),u=e(_r(d[11])),h=(function(e,s){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(e,s){if(!s&&e&&e.__esModule)return e;var o,n,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(o=s?i:t){if(o.has(e))return o.get(e);o.set(e,r)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(n.get||n.set)?o(r,l,n):r[l]=e[l]);return r})(e,s)})(_r(d[12])),b=(_r(d[13]),["onBlur","onFocus"]);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var y=(function(e){function p(){var e,s,i,r;(0,t.default)(this,p);for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];return s=this,i=p,r=[].concat(u),i=(0,n.default)(i),(e=(0,o.default)(s,f()?Reflect.construct(i,r||[],(0,n.default)(s).constructor):i.apply(s,r))).state={pressability:new l.default(e._createPressabilityConfig())},e}return(0,r.default)(p,e),(0,i.default)(p,[{key:"_createPressabilityConfig",value:function(){var e,s,t=this,i=null!=(e=this.props['aria-disabled'])?e:null==(s=this.props.accessibilityState)?void 0:s.disabled;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:i,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(e){'android'===c.default.OS&&(t._dispatchHotspotUpdate(e),t._dispatchPressedStateChange(!0)),null!=t.props.onPressIn&&t.props.onPressIn(e)},onPressMove:function(e){'android'===c.default.OS&&t._dispatchHotspotUpdate(e)},onPressOut:function(e){'android'===c.default.OS&&t._dispatchPressedStateChange(!1),null!=t.props.onPressOut&&t.props.onPressOut(e)}}}},{key:"_dispatchPressedStateChange",value:function(e){if('android'===c.default.OS){var s=(0,_r(d[14]).findHostInstance_DEPRECATED)(this);null==s?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):_r(d[15]).Commands.setPressed(s,e)}}},{key:"_dispatchHotspotUpdate",value:function(e){if('android'===c.default.OS){var s=e.nativeEvent,t=s.locationX,i=s.locationY,o=(0,_r(d[14]).findHostInstance_DEPRECATED)(this);null==o?console.warn("Touchable: Unable to find HostComponent instance. Has your Touchable component been unmounted?"):_r(d[15]).Commands.hotspotUpdate(o,null!=t?t:0,null!=i?i:0)}}},{key:"render",value:function(){var e,t,i,o,n,r,l,c,u,f,y,P,S,F,k,x,O,_,R,A,w,C,D,I=h.Children.only(this.props.children),H=[I.props.children],L=this.state.pressability.getEventHandlers(),U=(L.onBlur,L.onFocus,(0,s.default)(L,b)),B={busy:null!=(e=this.props['aria-busy'])?e:null==(t=this.props.accessibilityState)?void 0:t.busy,checked:null!=(i=this.props['aria-checked'])?i:null==(o=this.props.accessibilityState)?void 0:o.checked,disabled:null!=(n=this.props['aria-disabled'])?n:null==(r=this.props.accessibilityState)?void 0:r.disabled,expanded:null!=(l=this.props['aria-expanded'])?l:null==(c=this.props.accessibilityState)?void 0:c.expanded,selected:null!=(u=this.props['aria-selected'])?u:null==(f=this.props.accessibilityState)?void 0:f.selected};B=null!=this.props.disabled?Object.assign({},B,{disabled:this.props.disabled}):B;var T={max:null!=(y=this.props['aria-valuemax'])?y:null==(P=this.props.accessibilityValue)?void 0:P.max,min:null!=(S=this.props['aria-valuemin'])?S:null==(F=this.props.accessibilityValue)?void 0:F.min,now:null!=(k=this.props['aria-valuenow'])?k:null==(x=this.props.accessibilityValue)?void 0:x.now,text:null!=(O=this.props['aria-valuetext'])?O:null==(_=this.props.accessibilityValue)?void 0:_.text},E='off'===this.props['aria-live']?'none':null!=(R=this.props['aria-live'])?R:this.props.accessibilityLiveRegion,V=null!=(A=this.props['aria-label'])?A:this.props.accessibilityLabel;return h.cloneElement.apply(h,[I,Object.assign({},U,v(void 0===this.props.background?p.SelectableBackground():this.props.background,!0===this.props.useForeground),{accessible:!1!==this.props.accessible,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityLabel:V,accessibilityRole:this.props.accessibilityRole,accessibilityState:B,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:T,importantForAccessibility:!0===this.props['aria-hidden']?'no-hide-descendants':this.props.importantForAccessibility,accessibilityViewIsModal:null!=(w=this.props['aria-modal'])?w:this.props.accessibilityViewIsModal,accessibilityLiveRegion:E,accessibilityElementsHidden:null!=(C=this.props['aria-hidden'])?C:this.props.accessibilityElementsHidden,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:null!=(D=this.props.id)?D:this.props.nativeID,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,onLayout:this.props.onLayout,testID:this.props.testID})].concat(H))}},{key:"componentDidUpdate",value:function(e,s){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentDidMount",value:function(){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset()}}])})(h.Component);y.SelectableBackground=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackground',rippleRadius:e}},y.SelectableBackgroundBorderless=function(e){return{type:'ThemeAttrAndroid',attribute:'selectableItemBackgroundBorderless',rippleRadius:e}},y.Ripple=function(e,s,t){var i=(0,p.default)(e);return(0,u.default)(null==i||'number'==typeof i,'Unexpected color given for Ripple color'),{type:'RippleAndroid',color:i,borderless:s,rippleRadius:t}},y.canUseNativeForeground=function(){return'android'===c.default.OS};var v='android'===c.default.OS?function(e,s){return s&&y.canUseNativeForeground()?{nativeForegroundAndroid:e}:{nativeBackgroundAndroid:e}}:function(e,s){return null};y.displayName='TouchableNativeFeedback',m.exports=y},279,[1,135,12,13,23,25,28,178,270,184,33,20,174,219,57,180]);
__d(function(g,_r,_i,a,m,_e,d){var s=_r(d[0]),t=s(_r(d[1])),i=s(_r(d[2])),e=s(_r(d[3])),o=s(_r(d[4])),n=s(_r(d[5])),l=s(_r(d[6])),r=s(_r(d[7])),p=s(_r(d[8])),c=s(_r(d[9])),u=s(_r(d[10])),h=s(_r(d[11])),y=(function(s,t){if("function"==typeof WeakMap)var i=new WeakMap,e=new WeakMap;return(function(s,t){if(!t&&s&&s.__esModule)return s;var o,n,l={__proto__:null,default:s};if(null===s||"object"!=typeof s&&"function"!=typeof s)return l;if(o=t?e:i){if(o.has(s))return o.get(s);o.set(s,l)}for(var r in s)"default"!==r&&{}.hasOwnProperty.call(s,r)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,r))&&(n.get||n.set)?o(l,r,n):l[r]=s[r]);return l})(s,t)})(_r(d[12])),f=_r(d[13]),b=["onBlur","onFocus"];function v(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(v=function(){return!!s})()}var P=(function(s){function y(){var s,t,e,l;(0,i.default)(this,y);for(var p=arguments.length,u=new Array(p),h=0;h<p;h++)u[h]=arguments[h];return t=this,e=y,l=[].concat(u),e=(0,n.default)(e),(s=(0,o.default)(t,v()?Reflect.construct(e,l||[],(0,n.default)(t).constructor):e.apply(t,l))).state={anim:new r.default.Value(s._getChildStyleOpacityWithDefault()),pressability:new c.default(s._createPressabilityConfig())},s}return(0,l.default)(y,s),(0,e.default)(y,[{key:"_createPressabilityConfig",value:function(){var s,t,i,e=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=(s=null!=(t=this.props.disabled)?t:this.props['aria-disabled'])?s:null==(i=this.props.accessibilityState)?void 0:i.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,onBlur:function(s){h.default.isTV&&e._opacityInactive(250),null!=e.props.onBlur&&e.props.onBlur(s)},onFocus:function(s){h.default.isTV&&e._opacityActive(150),null!=e.props.onFocus&&e.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:this.props.onPress,onPressIn:function(s){e._opacityActive('onResponderGrant'===s.dispatchConfig.registrationName?0:150),null!=e.props.onPressIn&&e.props.onPressIn(s)},onPressOut:function(s){e._opacityInactive(250),null!=e.props.onPressOut&&e.props.onPressOut(s)}}}},{key:"_setOpacityTo",value:function(s,t){r.default.timing(this.state.anim,{toValue:s,duration:t,easing:p.default.inOut(p.default.quad),useNativeDriver:!0}).start()}},{key:"_opacityActive",value:function(s){var t;this._setOpacityTo(null!=(t=this.props.activeOpacity)?t:.2,s)}},{key:"_opacityInactive",value:function(s){this._setOpacityTo(this._getChildStyleOpacityWithDefault(),s)}},{key:"_getChildStyleOpacityWithDefault",value:function(){var s,t=null==(s=(0,u.default)(this.props.style))?void 0:s.opacity;return'number'==typeof t?t:1}},{key:"render",value:function(){var s,i,e,o,n,l,p,c,u,h,y,v,P,_,O,x,F,w,k,I,R,D,L,S=this.state.pressability.getEventHandlers(),V=(S.onBlur,S.onFocus,(0,t.default)(S,b)),A={busy:null!=(s=this.props['aria-busy'])?s:null==(i=this.props.accessibilityState)?void 0:i.busy,checked:null!=(e=this.props['aria-checked'])?e:null==(o=this.props.accessibilityState)?void 0:o.checked,disabled:null!=(n=this.props['aria-disabled'])?n:null==(l=this.props.accessibilityState)?void 0:l.disabled,expanded:null!=(p=this.props['aria-expanded'])?p:null==(c=this.props.accessibilityState)?void 0:c.expanded,selected:null!=(u=this.props['aria-selected'])?u:null==(h=this.props.accessibilityState)?void 0:h.selected};A=null!=this.props.disabled?Object.assign({},A,{disabled:this.props.disabled}):A;var j={max:null!=(y=this.props['aria-valuemax'])?y:null==(v=this.props.accessibilityValue)?void 0:v.max,min:null!=(P=this.props['aria-valuemin'])?P:null==(_=this.props.accessibilityValue)?void 0:_.min,now:null!=(O=this.props['aria-valuenow'])?O:null==(x=this.props.accessibilityValue)?void 0:x.now,text:null!=(F=this.props['aria-valuetext'])?F:null==(w=this.props.accessibilityValue)?void 0:w.text},C='off'===this.props['aria-live']?'none':null!=(k=this.props['aria-live'])?k:this.props.accessibilityLiveRegion,T=null!=(I=this.props['aria-label'])?I:this.props.accessibilityLabel;return(0,f.jsxs)(r.default.View,Object.assign({accessible:!1!==this.props.accessible,accessibilityLabel:T,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityRole:this.props.accessibilityRole,accessibilityState:A,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,accessibilityValue:j,importantForAccessibility:!0===this.props['aria-hidden']?'no-hide-descendants':this.props.importantForAccessibility,accessibilityViewIsModal:null!=(R=this.props['aria-modal'])?R:this.props.accessibilityViewIsModal,accessibilityLiveRegion:C,accessibilityElementsHidden:null!=(D=this.props['aria-hidden'])?D:this.props.accessibilityElementsHidden,style:[this.props.style,{opacity:this.state.anim}],nativeID:null!=(L=this.props.id)?L:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,hasTVPreferredFocus:this.props.hasTVPreferredFocus,hitSlop:this.props.hitSlop,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,ref:this.props.hostRef},V,{children:[this.props.children,null]}))}},{key:"componentDidUpdate",value:function(s,t){var i,e;this.state.pressability.configure(this._createPressabilityConfig()),this.props.disabled===s.disabled&&(null==(i=(0,u.default)(s.style))?void 0:i.opacity)===(null==(e=(0,u.default)(this.props.style))?void 0:e.opacity)||this._opacityInactive(250)}},{key:"componentDidMount",value:function(){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this.state.pressability.reset(),this.state.anim.resetAnimation()}}])})(y.Component),_=y.forwardRef(function(s,t){return(0,f.jsx)(P,Object.assign({},s,{hostRef:t}))});_.displayName='TouchableOpacity',m.exports=_},280,[1,135,12,13,23,25,28,281,303,270,223,33,174,219]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),l=t(r(d[2])),f=t(r(d[3])),n=u.default.isDisableAnimations?f.default:l.default;e.default=Object.assign({get FlatList(){return r(d[4]).default},get Image(){return r(d[5]).default},get ScrollView(){return r(d[6]).default},get SectionList(){return r(d[7]).default},get Text(){return r(d[8]).default},get View(){return r(d[9]).default}},n)},281,[1,33,282,323,324,343,354,380,382,383]);
__d(function(_g,_r,_i,_a,m,e,d){'use strict';var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(_r(d[1])),i=t(_r(d[2])),r=t(_r(d[3])),o=t(_r(d[4])),a=t(_r(d[5])),u=t(_r(d[6])),s=t(_r(d[7])),f=t(_r(d[8])),c=t(_r(d[9])),v=t(_r(d[10])),l=t(_r(d[11])),p=t(_r(d[12])),g=t(_r(d[13])),h=t(_r(d[14])),_=t(_r(d[15])),N=t(_r(d[16])),w=function(t,n){return t&&n.onComplete?function(){n.onComplete&&n.onComplete.apply(n,arguments),t&&t.apply(void 0,arguments)}:t||n.onComplete},E=function(t,n,i){if(t instanceof N.default){var r=Object.assign({},n),o=Object.assign({},n);for(var a in n){var s=n[a],f=s.x,c=s.y;void 0!==f&&void 0!==c&&(r[a]=f,o[a]=c)}var v=i(t.x,r),l=i(t.y,o);return D([v,l],{stopTogether:!1})}if(t instanceof u.default){var p=Object.assign({},n),g=Object.assign({},n),h=Object.assign({},n),_=Object.assign({},n);for(var w in n){var E=n[w],b=E.r,A=E.g,L=E.b,y=E.a;void 0!==b&&void 0!==A&&void 0!==L&&void 0!==y&&(p[w]=b,g[w]=A,h[w]=L,_[w]=y)}var j=i(t.r,p),O=i(t.g,g),U=i(t.b,h),k=i(t.a,_);return D([j,O,U,k],{stopTogether:!1})}return null},b=function(t,n){var r=function(t,n,r){r=w(r,n);var o=t,a=n;o.stopTracking(),n.toValue instanceof p.default?o.track(new h.default(o,n.toValue,i.default,a,r)):o.animate(new i.default(a),r)};return E(t,n,b)||{start:function(i){r(t,n,i)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(i){var o=Object.assign({},n,{iterations:i});r(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},A=function(t,n){var i=function(t,n,i){i=w(i,n);var o=t,a=n;o.stopTracking(),n.toValue instanceof p.default?o.track(new h.default(o,n.toValue,r.default,a,i)):o.animate(new r.default(a),i)};return E(t,n,A)||{start:function(r,o){i(t,Object.assign({},n,{isLooping:o}),r)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(r){var o=Object.assign({},n,{iterations:r});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},L=function(t,i){var r=function(t,i,r){r=w(r,i);var o=t,a=i;o.stopTracking(),o.animate(new n.default(a),r)};return E(t,i,L)||{start:function(n){r(t,i,n)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(n){var o=Object.assign({},i,{iterations:n});r(t,o)},_isUsingNativeDriver:function(){return i.useNativeDriver||!1}}},y=function(t){var n=0;return{start:function(i,r){var o=function(a){if(a.finished){if(++n===t.length)return n=0,void(i&&i(a));t[n].start(o,r)}else i&&i(a)};0===t.length?i&&i({finished:!0}):t[n].start(o,r)},stop:function(){n<t.length&&t[n].stop()},reset:function(){t.forEach(function(t,i){i<=n&&t.reset()}),n=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},D=function(t,n){var i=0,r={},o=!(n&&!1===n.stopTogether),a={start:function(n,u){i!==t.length?t.forEach(function(s,f){var c=function(u){if(r[f]=!0,++i===t.length)return i=0,void(n&&n(u));!u.finished&&o&&a.stop()};s?s.start(c,u):c({finished:!0})}):n&&n({finished:!0})},stop:function(){t.forEach(function(t,n){!r[n]&&t.stop(),r[n]=!0})},reset:function(){t.forEach(function(t,n){t.reset(),r[n]=!1,i=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return a},j=function(t){return A(new _.default(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})};e.default={Value:_.default,ValueXY:N.default,Color:u.default,Interpolation:c.default,Node:p.default,decay:L,timing:A,spring:b,add:function(t,n){return new a.default(t,n)},subtract:function(t,n){return new g.default(t,n)},divide:function(t,n){return new f.default(t,n)},multiply:function(t,n){return new l.default(t,n)},modulo:function(t,n){return new v.default(t,n)},diffClamp:function(t,n,i){return new s.default(t,n,i)},delay:j,sequence:y,parallel:D,stagger:function(t,n){return D(n.map(function(n,i){return y([j(t*i),n])}))},loop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.iterations,r=void 0===i?-1:i,o=n.resetBeforeIteration,a=void 0===o||o,u=!1,s=0;return{start:function(n){var i=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{finished:!0};u||s===r||!1===o.finished?n&&n(o):(s++,a&&t.reset(),t.start(i,-1===r))};t&&0!==r?t._isUsingNativeDriver()?t._startNativeLoop(r):i():n&&n({finished:!0})},stop:function(){u=!0,t.stop()},reset:function(){s=0,u=!1,t.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,n){var i=new(_r(d[17]).AnimatedEvent)(t,n);return i.__isNative?i:i.__getHandler()},createAnimatedComponent:o.default,attachNativeEvent:_r(d[17]).attachNativeEvent,forkEvent:function(t,n){return t?t instanceof _r(d[17]).AnimatedEvent?(t.__addListener(n),t):function(){'function'==typeof t&&t.apply(void 0,arguments),n.apply(void 0,arguments)}:n},unforkEvent:function(t,n){t&&t instanceof _r(d[17]).AnimatedEvent&&t.__removeListener(n)},Event:_r(d[17]).AnimatedEvent}},282,[1,283,306,309,310,316,307,317,318,302,319,320,292,321,322,298,305,297]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),o=t(_r(d[3])),r=t(_r(d[4])),l=t(_r(d[5])),u=t(_r(d[6])),s=t(_r(d[7]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function c(t,e,n,o){var u=(0,l.default)((0,r.default)(1&o?t.prototype:t),e,n);return 2&o&&"function"==typeof u?function(t){return u.apply(n,t)}:u}_e.default=(function(t){function l(t){var n,u,s,c,_;return(0,e.default)(this,l),s=this,c=l,_=[t],c=(0,r.default)(c),(u=(0,o.default)(s,f()?Reflect.construct(c,_||[],(0,r.default)(s).constructor):c.apply(s,_)))._deceleration=null!=(n=t.deceleration)?n:.998,u._velocity=t.velocity,u._platformConfig=t.platformConfig,u}return(0,u.default)(l,t),(0,n.default)(l,[{key:"__getNativeAnimationConfig",value:function(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations,platformConfig:this._platformConfig,debugID:this.__getDebugID()}}},{key:"start",value:function(t,e,n,o,r){var u=this;c(l,"start",this,3)([t,e,n,o,r]),this._lastValue=t,this._fromValue=t,this._onUpdate=e,this._startTime=Date.now(),this.__startAnimationIfNative(r)||(this._animationFrame=requestAnimationFrame(function(){return u.onUpdate()}))}},{key:"onUpdate",value:function(){var t=Date.now(),e=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(e),Math.abs(this._lastValue-e)<.1?this.__notifyAnimationEnd({finished:!0}):(this._lastValue=e,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){c(l,"stop",this,3)([]),null!=this._animationFrame&&g.cancelAnimationFrame(this._animationFrame),this.__notifyAnimationEnd({finished:!1})}}])})(s.default)},283,[1,12,13,23,25,26,28,284]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),i=t(_r(d[2])),n=t(_r(d[3])),r=t(_r(d[4])),o=t(_r(d[5])),u=t(_r(d[6])),f=(function(t,e){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,o,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(r=e?n:i){if(r.has(t))return r.get(t);r.set(t,u)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(o.get||o.set)?r(u,f,o):u[f]=t[f]);return u})(t,e)})(_r(d[7])),l=t(_r(d[8]));var s=1,v=(0,o.default)("nativeID"),_=(0,o.default)("onEnd"),h=(0,o.default)("useNativeDriver");_e.default=(function(){return(0,n.default)(function t(e){var n,o;(0,i.default)(this,t),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),(0,r.default)(this,h)[h]=u.default.shouldUseNativeDriver(e),this.__active=!1,this.__isInteraction=null!=(n=e.isInteraction)?n:!(0,r.default)(this,h)[h],this.__isLooping=e.isLooping,this.__iterations=null!=(o=e.iterations)?o:1},[{key:"start",value:function(t,e,i,n,o){if(!(0,r.default)(this,h)[h]&&!0===o.__isNative)throw new Error("Attempting to run JS driven animation on animated node that has been moved to \"native\" earlier by starting an animation with `useNativeDriver: true`");(0,r.default)(this,_)[_]=i,this.__active=!0}},{key:"stop",value:function(){if(null!=(0,r.default)(this,v)[v]){var t=(0,r.default)(this,v)[v],e=`${t}:stopAnimation`;try{u.default.API.setWaitingForIdentifier(e),u.default.API.stopAnimation(t)}finally{u.default.API.unsetWaitingForIdentifier(e)}}this.__active=!1}},{key:"__getNativeAnimationConfig",value:function(){throw new Error('This animation type cannot be offloaded to native')}},{key:"__findAnimatedPropsNodes",value:function(t){var i=[];if(t instanceof l.default)return i.push(t),i;for(var n of t.__getChildren())i.push.apply(i,(0,e.default)(this.__findAnimatedPropsNodes(n)));return i}},{key:"__startAnimationIfNative",value:function(t){var e=this;if(!(0,r.default)(this,h)[h])return!1;var i=`${s}:startAnimation`;s+=1,u.default.API.setWaitingForIdentifier(i);try{var n=this.__getNativeAnimationConfig();return t.__makeNative(n.platformConfig),(0,r.default)(this,v)[v]=u.default.generateNewAnimationId(),u.default.API.startAnimatingNode((0,r.default)(this,v)[v],t.__getNativeTag(),n,function(i){e.__notifyAnimationEnd(i);var n=i.value;if(null!=n){if(t.__onAnimatedValueUpdateReceived(n),f.shouldSkipStateUpdatesForLoopingAnimations()&&!0===e.__isLooping)return;e.__findAnimatedPropsNodes(t).forEach(function(t){return t.update()})}}),!0}catch(t){throw t}finally{u.default.API.unsetWaitingForIdentifier(i)}}},{key:"__notifyAnimationEnd",value:function(t){var e=(0,r.default)(this,_)[_];null!=e&&((0,r.default)(this,_)[_]=null,e(t))}},{key:"__getDebugID",value:function(){}}])})()},284,[1,6,12,13,31,32,285,104,291]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),o=e(_r(d[4])),u=e(_r(d[5])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(o=t?i:n){if(o.has(e))return o.get(e);o.set(e,r)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?o(r,l,u):r[l]=e[l]);return r})(e,t)})(_r(d[6])),l=e(_r(d[7])),s=e(_r(d[8]));var f,c=null!=t.default?t.default:n.default,A=1,v=1,N=new Set,p=!1,h=[],V=[],O='android'===u.default.OS&&null!=(null==c?void 0:c.queueAndExecuteBatchedOperations)&&r.animatedShouldUseSingleOp(),w=null,b={},y={},T=null,D=null;var F=(function(){var e=['createAnimatedNode','updateAnimatedNodeConfig','getValue','startListeningToAnimatedNodeValue','stopListeningToAnimatedNodeValue','connectAnimatedNodes','disconnectAnimatedNodes','startAnimatingNode','stopAnimation','setAnimatedNodeValue','setAnimatedNodeOffset','flattenAnimatedNodeOffset','extractAnimatedNodeOffset','connectAnimatedNodeToView','disconnectAnimatedNodeFromView','restoreDefaultValues','dropAnimatedNode','addAnimatedEventToView','removeAnimatedEventFromView','addListener','removeListener'],t={};if(O)for(var n=function(){var n=i+1;t[e[i]]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];V.push.apply(V,[n].concat(t))}},i=0,o=e.length;i<o;i++)n();else for(var u=function(){var n=e[r];t[n]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=(0,s.default)(c)[n];p||0!==h.length?h.push(function(){return o.apply(void 0,t)}):o.apply(void 0,t)}},r=0,l=e.length;r<l;r++)u();return t})(),E={getValue:O?function(e,t){t&&(b[e]=t),F.getValue(e)}:function(e,t){F.getValue(e,t)},setWaitingForIdentifier:function(e){N.add(e),p=!0,r.animatedShouldDebounceQueueFlush()&&w&&(r.enableAnimatedClearImmediateFix()?clearImmediate(w):clearTimeout(w))},unsetWaitingForIdentifier:function(e){N.delete(e),0===N.size&&(p=!1,E.disableQueue())},disableQueue:function(){((0,l.default)(c,'Native animated module is not available'),r.animatedShouldDebounceQueueFlush())?(clearImmediate(w),w=setImmediate(E.flushQueue)):E.flushQueue()},flushQueue:O?function(){(0,l.default)(c,'Native animated module is not available'),w=null,0!==V.length&&(I(),null==c||null==c.queueAndExecuteBatchedOperations||c.queueAndExecuteBatchedOperations(V),V.length=0)}:function(){if((0,l.default)(c,'Native animated module is not available'),w=null,0!==h.length){'android'===u.default.OS&&(null==c||null==c.startOperationBatch||c.startOperationBatch());for(var e=0,t=h.length;e<t;e++)h[e]();h.length=0,'android'===u.default.OS&&(null==c||null==c.finishOperationBatch||c.finishOperationBatch())}},createAnimatedNode:function(e,t){F.createAnimatedNode(e,t)},updateAnimatedNodeConfig:function(e,t){null==F.updateAnimatedNodeConfig||F.updateAnimatedNodeConfig(e,t)},startListeningToAnimatedNodeValue:function(e){F.startListeningToAnimatedNodeValue(e)},stopListeningToAnimatedNodeValue:function(e){F.stopListeningToAnimatedNodeValue(e)},connectAnimatedNodes:function(e,t){F.connectAnimatedNodes(e,t)},disconnectAnimatedNodes:function(e,t){F.disconnectAnimatedNodes(e,t)},startAnimatingNode:O?function(e,t,n,i){i&&(y[e]=i),F.startAnimatingNode(e,t,n)}:function(e,t,n,i){F.startAnimatingNode(e,t,n,i)},stopAnimation:function(e){F.stopAnimation(e)},setAnimatedNodeValue:function(e,t){F.setAnimatedNodeValue(e,t)},setAnimatedNodeOffset:function(e,t){F.setAnimatedNodeOffset(e,t)},flattenAnimatedNodeOffset:function(e){F.flattenAnimatedNodeOffset(e)},extractAnimatedNodeOffset:function(e){F.extractAnimatedNodeOffset(e)},connectAnimatedNodeToView:function(e,t){F.connectAnimatedNodeToView(e,t)},disconnectAnimatedNodeFromView:function(e,t){F.disconnectAnimatedNodeFromView(e,t)},restoreDefaultValues:function(e){null==F.restoreDefaultValues||F.restoreDefaultValues(e)},dropAnimatedNode:function(e){F.dropAnimatedNode(e)},addAnimatedEventToView:function(e,t,n){F.addAnimatedEventToView(e,t,n)},removeAnimatedEventFromView:function(e,t,n){F.removeAnimatedEventFromView(e,t,n)}};function I(){T&&D||(T=o.default.addListener('onNativeAnimatedModuleGetValue',function(e){var t=e.tag,n=b[t];n&&(n(e.value),delete b[t])}),D=o.default.addListener('onNativeAnimatedModuleAnimationFinished',function(e){var t=Array.isArray(e)?e:[e];for(var n of t){var i=n.animationId,o=y[i];o&&(o(n),delete y[i])}}))}var L=!1;_e.default={API:E,generateNewNodeTag:function(){return A++},generateNewAnimationId:function(){return v++},assertNativeAnimatedModule:function(){(0,l.default)(c,'Native animated module is not available')},shouldUseNativeDriver:function(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||c?e.useNativeDriver||!1:(L||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),L=!0),!1)},transformDataType:function(e){return'string'!=typeof e?e:e.endsWith('deg')?(parseFloat(e)||0)*Math.PI/180:e.endsWith('rad')?parseFloat(e)||0:e},get nativeEventEmitter(){return f||(f=new i.default('ios'!==u.default.OS?null:c)),f}}},285,[1,286,289,126,22,33,104,20,45]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},286,[287]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?u(o,i,f):o[i]=e[i]);return o})(e,t)})(_r(d[2]));var n=(0,t.default)()?null:r.get('NativeAnimatedModule');_e.default=n},287,[1,288,36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=function(){return'ios'===u.default.OS&&!0===g.RN$Bridgeless}},288,[1,33]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},289,[290]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[2]));var n=(0,t.default)()?r.get('NativeAnimatedTurboModule'):null;_e.default=n},290,[1,288,36]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,n=e(_r(d[1])),l=e(_r(d[2])),u=e(_r(d[3])),f=e(_r(d[4])),r=e(_r(d[5])),o=e(_r(d[6])),s=e(_r(d[7])),_=e(_r(d[8])),c=e(_r(d[9])),v=e(_r(d[10])),h=e(_r(d[11])),y=e(_r(d[12])),p=e(_r(d[13])),b=e(_r(d[14]));function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(w=function(){return!!e})()}function k(e,t,n,l){var u=(0,o.default)((0,r.default)(1&l?e.prototype:e),t,n);return 2&l&&"function"==typeof u?function(e){return u.apply(n,e)}:u}function N(e,t){for(var n=[],l=[],u={},f=Object.keys(e),r=0,o=f.length;r<o;r++){var s=f[r],_=e[s];if(null==t||C(t,s)){var c=void 0;null==(c='style'===s?p.default.from(_,null==t?void 0:t.style):_ instanceof h.default?_:y.default.from(_))?u[s]=_:(n.push(s),l.push(c),u[s]=c)}else u[s]=_}return[n,l,u]}var V=(0,c.default)("animatedView"),O=(0,c.default)("callback"),A=(0,c.default)("nodeKeys"),P=(0,c.default)("nodes"),j=(0,c.default)("props"),E=(_e.default=(function(e){function t(e,u,o,s){var c,v,h,y;(0,l.default)(this,t),v=this,h=t,y=[s],h=(0,r.default)(h),c=(0,f.default)(v,w()?Reflect.construct(h,y||[],(0,r.default)(v).constructor):h.apply(v,y)),Object.defineProperty(c,V,{writable:!0,value:null}),Object.defineProperty(c,O,{writable:!0,value:void 0}),Object.defineProperty(c,A,{writable:!0,value:void 0}),Object.defineProperty(c,P,{writable:!0,value:void 0}),Object.defineProperty(c,j,{writable:!0,value:void 0});var p=N(e,o),b=(0,n.default)(p,3),k=b[0],E=b[1],C=b[2];return(0,_.default)(c,A)[A]=k,(0,_.default)(c,P)[P]=E,(0,_.default)(c,j)[j]=C,(0,_.default)(c,O)[O]=u,c}return(0,s.default)(t,e),(0,u.default)(t,[{key:"__getValue",value:function(){for(var e={},t=Object.keys((0,_.default)(this,j)[j]),n=0,l=t.length;n<l;n++){var u=t[n],f=(0,_.default)(this,j)[j][u];f instanceof h.default?e[u]=f.__getValue():f instanceof _r(d[15]).AnimatedEvent?e[u]=f.__getHandler():e[u]=f}return e}},{key:"__getValueWithStaticProps",value:function(e){for(var t=Object.assign({},e),n=Object.keys(e),l=0,u=n.length;l<u;l++){var f=n[l],r=(0,_.default)(this,j)[j][f];'style'===f&&r instanceof p.default?t[f]=r.__getValueWithStaticStyle(e.style):r instanceof h.default?t[f]=r.__getValue():r instanceof _r(d[15]).AnimatedEvent&&(t[f]=r.__getHandler())}return t}},{key:"__getAnimatedValue",value:function(){for(var e={},t=(0,_.default)(this,A)[A],n=(0,_.default)(this,P)[P],l=0,u=n.length;l<u;l++){var f=t[l],r=n[l];e[f]=r.__getAnimatedValue()}return e}},{key:"__attach",value:function(){for(var e=(0,_.default)(this,P)[P],n=0,l=e.length;n<l;n++){e[n].__addChild(this)}k(t,"__attach",this,3)([])}},{key:"__detach",value:function(){this.__isNative&&(0,_.default)(this,V)[V]&&this.__disconnectAnimatedView(),(0,_.default)(this,V)[V]=null;for(var e=(0,_.default)(this,P)[P],n=0,l=e.length;n<l;n++){e[n].__removeChild(this)}k(t,"__detach",this,3)([])}},{key:"update",value:function(){(0,_.default)(this,O)[O]()}},{key:"__makeNative",value:function(e){for(var n=(0,_.default)(this,P)[P],l=0,u=n.length;l<u;l++){n[l].__makeNative(e)}this.__isNative||(this.__isNative=!0,k(t,"__setPlatformConfig",this,3)([e]),(0,_.default)(this,V)[V]&&this.__connectAnimatedView())}},{key:"setNativeView",value:function(e){(0,_.default)(this,V)[V]!==e&&((0,_.default)(this,V)[V]=e,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){(0,b.default)(this.__isNative,'Expected node to be marked as "native"');var e=(0,_r(d[16]).findNodeHandle)((0,_.default)(this,V)[V]);if(null==e)throw new Error('Unable to locate attached view in the native tree');v.default.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}},{key:"__disconnectAnimatedView",value:function(){(0,b.default)(this.__isNative,'Expected node to be marked as "native"');var e=(0,_r(d[16]).findNodeHandle)((0,_.default)(this,V)[V]);if(null==e)throw new Error('Unable to locate attached view in the native tree');v.default.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&v.default.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){for(var e=this.__getPlatformConfig(),t={},n=(0,_.default)(this,A)[A],l=(0,_.default)(this,P)[P],u=0,f=l.length;u<f;u++){var r=n[u],o=l[u];o.__makeNative(e),t[r]=o.__getNativeTag()}return{type:'props',props:t,debugID:this.__getDebugID()}}}])})(h.default),Object.prototype.hasOwnProperty),C=null!=(t=Object.hasOwn)?t:function(e,t){return E.call(e,t)}},291,[1,38,12,13,23,25,26,28,31,32,285,292,293,295,20,297,57]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),_=t(r(d[5])),f=t(r(d[6])),s=1,v=function(){_.default.assertNativeAnimatedModule(),v=null},h=(0,o.default)("listeners");e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t),Object.defineProperty(this,h,{writable:!0,value:new Map}),this._platformConfig=void 0,this.__isNative=!1,this.__nativeTag=void 0,this.__debugID=void 0},[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.removeAllListeners(),this.__isNative&&null!=this.__nativeTag&&(_.default.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(t){}},{key:"__removeChild",value:function(t){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(t){(0,f.default)(this.__isNative,'This node cannot be made a "native" animated node'),this._platformConfig=t}},{key:"addListener",value:function(t){var n=String(s++);return(0,l.default)(this,h)[h].set(n,t),n}},{key:"removeListener",value:function(t){(0,l.default)(this,h)[h].delete(t)}},{key:"removeAllListeners",value:function(){(0,l.default)(this,h)[h].clear()}},{key:"hasListeners",value:function(){return(0,l.default)(this,h)[h].size>0}},{key:"__onAnimatedValueUpdateReceived",value:function(t){this.__callListeners(t)}},{key:"__callListeners",value:function(t){var n={value:t};(0,l.default)(this,h)[h].forEach(function(t){t(n)})}},{key:"__getNativeTag",value:function(){var t=this.__nativeTag;if(null==t){null==v||v(),(0,f.default)(this.__isNative,'Attempt to get native tag from node not marked as "native"'),t=_.default.generateNewNodeTag(),this.__nativeTag=t;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),_.default.API.createAnimatedNode(t,n)}return t}},{key:"__getNativeConfig",value:function(){throw new Error('This JS animated node type cannot be used as native animated node')}},{key:"__getPlatformConfig",value:function(){return this._platformConfig}},{key:"__setPlatformConfig",value:function(t){this._platformConfig=t}},{key:"toJSON",value:function(){return this.__getValue()}},{key:"__getDebugID",value:function(){}}])})()},292,[1,12,13,31,32,285,20]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.isPlainObject=y;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),u=e(_r(d[4])),i=e(_r(d[5])),f=e(_r(d[6])),o=e(_r(d[7])),l=e(_r(d[8])),c=e(_r(d[9])),_=e(_r(d[10])),v=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(i.get||i.set)?u(f,o,i):f[o]=e[o]);return f})(e,t)})(_r(d[11]));function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function h(e,t,n,r){var f=(0,i.default)((0,u.default)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof f?function(e){return f.apply(n,e)}:f}function y(e){return null!==e&&'object'==typeof e&&Object.getPrototypeOf(e).isPrototypeOf(Object)&&!v.isValidElement(e)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>=5)return t;if(e instanceof c.default)t.push(e);else if(Array.isArray(e))for(var r=0,u=e.length;r<u;r++){p(e[r],t,n+1)}else if(y(e))for(var i=Object.keys(e),f=0,o=i.length;f<o;f++){p(e[i[f]],t,n+1)}return t}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>=5)return e;if(e instanceof c.default)return t(e);if(Array.isArray(e))return e.map(function(e){return b(e,t,n+1)});if(y(e)){for(var r={},u=Object.keys(e),i=0,f=u.length;i<f;i++){var o=u[i];r[o]=b(e[o],t,n+1)}return r}return e}var k=(0,l.default)("nodes");_e.default=(function(e){function i(e,n,f){var l,c,_,v;return(0,t.default)(this,i),c=this,_=i,v=[f],_=(0,u.default)(_),l=(0,r.default)(c,s()?Reflect.construct(_,v||[],(0,u.default)(c).constructor):_.apply(c,v)),Object.defineProperty(l,k,{writable:!0,value:void 0}),(0,o.default)(l,k)[k]=e,l._value=n,l}return(0,f.default)(i,e),(0,n.default)(i,[{key:"__getValue",value:function(){return b(this._value,function(e){return e.__getValue()})}},{key:"__getValueWithStaticObject",value:function(e){var t=(0,o.default)(this,k)[k],n=0;return b(e,function(){return t[n++].__getValue()})}},{key:"__getAnimatedValue",value:function(){return b(this._value,function(e){return e.__getAnimatedValue()})}},{key:"__attach",value:function(){for(var e=(0,o.default)(this,k)[k],t=0,n=e.length;t<n;t++){e[t].__addChild(this)}h(i,"__attach",this,3)([])}},{key:"__detach",value:function(){for(var e=(0,o.default)(this,k)[k],t=0,n=e.length;t<n;t++){e[t].__removeChild(this)}h(i,"__detach",this,3)([])}},{key:"__makeNative",value:function(e){for(var t=(0,o.default)(this,k)[k],n=0,r=t.length;n<r;n++){t[n].__makeNative(e)}h(i,"__makeNative",this,3)([e])}},{key:"__getNativeConfig",value:function(){return{type:'object',value:b(this._value,function(e){return{nodeTag:e.__getNativeTag()}}),debugID:this.__getDebugID()}}}],[{key:"from",value:function(e){var t=p(e);return 0===t.length?null:new i(t,e)}}])})(_.default)},293,[1,12,13,23,25,26,28,31,32,292,294,174]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),_=t(_r(d[3])),r=t(_r(d[4])),l=t(_r(d[5])),c=t(_r(d[6])),s=t(_r(d[7])),u=t(_r(d[8]));function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}function o(t,e,n,_){var c=(0,l.default)((0,r.default)(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof c?function(t){return c.apply(n,t)}:c}var f=s.default.API,v=f.connectAnimatedNodes,N=f.disconnectAnimatedNodes;_e.default=(function(t){function l(){var t,n,c,s;(0,e.default)(this,l);for(var u=arguments.length,o=new Array(u),f=0;f<u;f++)o[f]=arguments[f];return n=this,c=l,s=[].concat(o),c=(0,r.default)(c),(t=(0,_.default)(n,h()?Reflect.construct(c,s||[],(0,r.default)(n).constructor):c.apply(n,s)))._children=[],t}return(0,c.default)(l,t),(0,n.default)(l,[{key:"__makeNative",value:function(t){if(!this.__isNative){this.__isNative=!0;var e=this._children,n=e.length;if(n>0)for(var _=0;_<n;_++){var r=e[_];r.__makeNative(t),v(this.__getNativeTag(),r.__getNativeTag())}}o(l,"__makeNative",this,3)([t])}},{key:"__addChild",value:function(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(this.__getPlatformConfig()),v(this.__getNativeTag(),t.__getNativeTag()))}},{key:"__removeChild",value:function(t){var e=this._children.indexOf(t);-1!==e?(this.__isNative&&t.__isNative&&N(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(e,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(t){if(o(l,"__callListeners",this,3)([t]),!this.__isNative)for(var e=this._children,n=0,_=e.length;n<_;n++){var r=e[n];r.__getValue&&r.__callListeners(r.__getValue())}}}])})(u.default)},294,[1,12,13,23,25,26,28,285,292]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,u=e(_r(d[1])),l=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),f=e(_r(d[5])),i=e(_r(d[6])),o=e(_r(d[7])),c=e(_r(d[8])),s=e(_r(d[9])),_=(function(e,t){if("function"==typeof WeakMap)var u=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,r,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(n=t?l:u){if(n.has(e))return n.get(e);n.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(r.get||r.set)?n(f,i,r):f[i]=e[i]);return f})(e,t)})(_r(d[10])),v=e(_r(d[11])),h=e(_r(d[12])),y=e(_r(d[13])),p=e(_r(d[14])),b=e(_r(d[15])),O=e(_r(d[16]));function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(k=function(){return!!e})()}function j(e,t,u,l){var n=(0,i.default)((0,f.default)(1&l?e.prototype:e),t,u);return 2&l&&"function"==typeof n?function(e){return n.apply(u,e)}:n}function w(e,t,u){for(var l=[],n=[],r={},f=Object.keys(e),i=0,o=f.length;i<o;i++){var c=f[i],s=e[c];if(null==t||A(t,c)){var v=void 0;null==(v=null!=s&&'transform'===c?_.shouldUseAnimatedObjectForTransform()?p.default.from(s):b.default.from(s):s instanceof y.default?s:p.default.from(s))?u&&(r[c]=s):(l.push(c),n.push(v),r[c]=v)}else u&&(r[c]=s)}return[l,n,r]}var P=(0,s.default)("inputStyle"),S=(0,s.default)("nodeKeys"),V=(0,s.default)("nodes"),N=(0,s.default)("style"),W=(_e.default=(function(e){function t(e,u,n,i,o){var s,_,v,h;return(0,l.default)(this,t),_=this,v=t,h=[o],v=(0,f.default)(v),s=(0,r.default)(_,k()?Reflect.construct(v,h||[],(0,f.default)(_).constructor):v.apply(_,h)),Object.defineProperty(s,P,{writable:!0,value:void 0}),Object.defineProperty(s,S,{writable:!0,value:void 0}),Object.defineProperty(s,V,{writable:!0,value:void 0}),Object.defineProperty(s,N,{writable:!0,value:void 0}),(0,c.default)(s,S)[S]=e,(0,c.default)(s,V)[V]=u,(0,c.default)(s,N)[N]=n,(0,c.default)(s,P)[P]=i,s}return(0,o.default)(t,e),(0,n.default)(t,[{key:"__getValue",value:function(){for(var e={},t=Object.keys((0,c.default)(this,N)[N]),u=0,l=t.length;u<l;u++){var n=t[u],r=(0,c.default)(this,N)[N][n];r instanceof y.default?e[n]=r.__getValue():e[n]=r}return'web'===h.default.OS?[(0,c.default)(this,P)[P],e]:e}},{key:"__getValueWithStaticStyle",value:function(e){for(var t=(0,v.default)(e),u=null==t?{}:t===e?Object.assign({},t):t,l=Object.keys(u),n=0,r=l.length;n<r;n++){var f=l[n],i=(0,c.default)(this,N)[N][f];'transform'===f&&i instanceof b.default?u[f]=i.__getValueWithStaticTransforms(Array.isArray(u[f])?u[f]:[]):i instanceof p.default?u[f]=i.__getValueWithStaticObject(u[f]):i instanceof y.default&&(u[f]=i.__getValue())}return'web'===h.default.OS?[(0,c.default)(this,P)[P],u]:u}},{key:"__getAnimatedValue",value:function(){for(var e={},t=(0,c.default)(this,S)[S],u=(0,c.default)(this,V)[V],l=0,n=u.length;l<n;l++){var r=t[l],f=u[l];e[r]=f.__getAnimatedValue()}return e}},{key:"__attach",value:function(){for(var e=(0,c.default)(this,V)[V],u=0,l=e.length;u<l;u++){e[u].__addChild(this)}j(t,"__attach",this,3)([])}},{key:"__detach",value:function(){for(var e=(0,c.default)(this,V)[V],u=0,l=e.length;u<l;u++){e[u].__removeChild(this)}j(t,"__detach",this,3)([])}},{key:"__makeNative",value:function(e){for(var u=(0,c.default)(this,V)[V],l=0,n=u.length;l<n;l++){u[l].__makeNative(e)}j(t,"__makeNative",this,3)([e])}},{key:"__getNativeConfig",value:function(){for(var e=this.__getPlatformConfig(),t={},u=(0,c.default)(this,S)[S],l=(0,c.default)(this,V)[V],n=0,r=l.length;n<r;n++){var f=u[n],i=l[n];i.__makeNative(e),t[f]=i.__getNativeTag()}return{type:'style',style:t,debugID:this.__getDebugID()}}}],[{key:"from",value:function(e,l){var n=(0,v.default)(e);if(null==n)return null;var r=w(n,l,'web'!==h.default.OS),f=(0,u.default)(r,3),i=f[0],o=f[1],c=f[2];return 0===o.length?null:new t(i,o,c,e)}}])})(O.default),Object.prototype.hasOwnProperty),A=null!=(t=Object.hasOwn)?t:function(e,t){return W.call(e,t)}},295,[1,38,12,13,23,25,26,28,31,32,104,223,33,292,293,296,294]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),r=t(_r(d[2])),n=t(_r(d[3])),u=t(_r(d[4])),f=t(_r(d[5])),o=t(_r(d[6])),l=t(_r(d[7])),s=t(_r(d[8])),c=t(_r(d[9])),v=t(_r(d[10])),_=t(_r(d[11]));function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}function y(t,e,r,n){var o=(0,f.default)((0,u.default)(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function p(t){for(var e=[],r=0,n=t.length;r<n;r++){var u=t[r];for(var f in u){var o=u[f];o instanceof v.default&&e.push(o)}}return e}var k=(0,s.default)("nodes");_e.default=(function(t){function f(t,r,o){var s,c,v,_;return(0,e.default)(this,f),c=this,v=f,_=[o],v=(0,u.default)(v),s=(0,n.default)(c,h()?Reflect.construct(v,_||[],(0,u.default)(c).constructor):v.apply(c,_)),Object.defineProperty(s,k,{writable:!0,value:void 0}),(0,l.default)(s,k)[k]=t,s._transforms=r,s}return(0,o.default)(f,t),(0,r.default)(f,[{key:"__makeNative",value:function(t){for(var e=(0,l.default)(this,k)[k],r=0,n=e.length;r<n;r++){e[r].__makeNative(t)}y(f,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return b(this._transforms,function(t){return t.__getValue()})}},{key:"__getValueWithStaticTransforms",value:function(t){var e=[];return b(this._transforms,function(t){e.push(t.__getValue())}),b(t,function(){return e.shift()})}},{key:"__getAnimatedValue",value:function(){return b(this._transforms,function(t){return t.__getAnimatedValue()})}},{key:"__attach",value:function(){for(var t=(0,l.default)(this,k)[k],e=0,r=t.length;e<r;e++){t[e].__addChild(this)}y(f,"__attach",this,3)([])}},{key:"__detach",value:function(){for(var t=(0,l.default)(this,k)[k],e=0,r=t.length;e<r;e++){t[e].__removeChild(this)}y(f,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){for(var t=[],e=this._transforms,r=0,n=e.length;r<n;r++){var u=e[r];for(var f in u){var o=u[f];o instanceof v.default?t.push({type:'animated',property:f,nodeTag:o.__getNativeTag()}):t.push({type:'static',property:f,value:c.default.transformDataType(o)})}}return{type:'transform',transforms:t,debugID:this.__getDebugID()}}}],[{key:"from",value:function(t){var e=p(Array.isArray(t)?t:[]);return 0===e.length?null:new f(e,t)}}])})(_.default);function b(t,e){return t.map(function(t){var r={};for(var n in t){var u=t[n];if(u instanceof v.default)r[n]=e(u);else if(Array.isArray(u))r[n]=u.map(function(t){return t instanceof v.default?e(t):t});else if('object'==typeof u){var f={};for(var o in u){var l=u[o];f[o]=l instanceof v.default?e(l):l}r[n]=f}else r[n]=u}return r})}},296,[1,12,13,23,25,26,28,31,32,285,292,294]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.AnimatedEvent=void 0,e.attachNativeEvent=v;var n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5])),u=t(r(d[6]));function v(t,n,s,v){var c=[],_=function(t,n){if(t instanceof f.default)t.__makeNative(v),c.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if(t instanceof l.default)_(t.x,n.concat('x')),_(t.y,n.concat('y'));else if('object'==typeof t)for(var s in t)_(t[s],n.concat(s))};(0,u.default)(s[0]&&s[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),_(s[0].nativeEvent,[]);var h=(0,r(d[7]).findNodeHandle)(t);return null!=h&&c.forEach(function(t){o.default.API.addAnimatedEventToView(h,n,t)}),{detach:function(){null!=h&&c.forEach(function(t){o.default.API.removeAnimatedEventFromView(h,n,t.animatedValueTag)})}}}e.AnimatedEvent=(function(){return(0,s.default)(function t(s,f){var l=this;(0,n.default)(this,t),this._listeners=[],this._callListeners=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];l._listeners.forEach(function(t){return t.apply(void 0,n)})},this._argMapping=s,null==f&&(console.warn('Animated.event now requires a second argument for options'),f={useNativeDriver:!1}),f.listener&&this.__addListener(f.listener),this._attachedEvent=null,this.__isNative=o.default.shouldUseNativeDriver(f),this.__platformConfig=f.platformConfig},[{key:"__addListener",value:function(t){this._listeners.push(t)}},{key:"__removeListener",value:function(t){this._listeners=this._listeners.filter(function(n){return n!==t})}},{key:"__attach",value:function(t,n){(0,u.default)(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=v(t,n,this._argMapping,this.__platformConfig)}},{key:"__detach",value:function(t,n){(0,u.default)(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var t=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var u=function(t,n){if(t instanceof f.default)'number'==typeof n&&t.setValue(n);else if(t instanceof l.default)'object'==typeof n&&(u(t.x,n.x),u(t.y,n.y));else if('object'==typeof t)for(var s in t)u(t[s],n[s])};t._argMapping.forEach(function(t,n){u(t,s[n])}),t._callListeners.apply(t,s)}}}])})()},297,[1,12,13,285,298,305,20,57]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0,_e.flushValue=N;var e=t(_r(d[1])),n=t(_r(d[2])),u=t(_r(d[3])),s=t(_r(d[4])),l=t(_r(d[5])),o=t(_r(d[6])),f=t(_r(d[7])),_=t(_r(d[8])),r=t(_r(d[9])),h=t(_r(d[10])),v=t(_r(d[11])),c=t(_r(d[12]));function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function k(t,e,n,u){var o=(0,l.default)((0,s.default)(1&u?t.prototype:t),e,n);return 2&u&&"function"==typeof o?function(t){return o.apply(n,t)}:o}var y=r.default.API;function N(t){var e=new Set;!(function t(n){'function'==typeof n.update?e.add(n):n.__getChildren().forEach(t)})(t),e.forEach(function(t){return t.update()})}var V=(0,_.default)("attached"),A=(0,_.default)("updateSubscription"),T=(0,_.default)("ensureUpdateSubscriptionExists");_e.default=(function(t){function l(t,n){var o,f,_,r;if((0,e.default)(this,l),f=this,_=l,r=[n],_=(0,s.default)(_),o=(0,u.default)(f,p()?Reflect.construct(_,r||[],(0,s.default)(f).constructor):_.apply(f,r)),Object.defineProperty(o,T,{value:b}),Object.defineProperty(o,V,{writable:!0,value:!1}),Object.defineProperty(o,A,{writable:!0,value:null}),'number'!=typeof t)throw new Error('AnimatedValue: Attempting to set value to undefined');return o._startingValue=o._value=t,o._offset=0,o._animation=null,n&&n.useNativeDriver&&o.__makeNative(),o}return(0,o.default)(l,t),(0,n.default)(l,[{key:"__attach",value:function(){(0,f.default)(this,V)[V]=!0,(0,f.default)(this,T)[T]()}},{key:"__detach",value:function(){var t,e=this;this.__isNative&&(null==(t=(0,f.default)(this,A)[A])||t.remove(),y.getValue(this.__getNativeTag(),function(t){e._value=t-e._offset}));this.stopAnimation(),k(l,"__detach",this,3)([]),(0,f.default)(this,V)[V]=!1}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"__makeNative",value:function(t){k(l,"__makeNative",this,3)([t]),(0,f.default)(this,T)[T]()}},{key:"setValue",value:function(t){var e,n,u=this;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&(e=this.__getNativeTag().toString(),n=function(){return y.setAnimatedNodeValue(u.__getNativeTag(),t)},y.setWaitingForIdentifier(e),n(),y.unsetWaitingForIdentifier(e))}},{key:"setOffset",value:function(t){this._offset=t,this.__isNative&&y.setAnimatedNodeOffset(this.__getNativeTag(),t)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&y.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&y.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&(this.__isNative?y.getValue(this.__getNativeTag(),t):t(this.__getValue()))}},{key:"resetAnimation",value:function(t){this.stopAnimation(t),this._value=this._startingValue,this.__isNative&&y.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}},{key:"__onAnimatedValueUpdateReceived",value:function(t){this._updateValue(t,!1)}},{key:"interpolate",value:function(t){return new v.default(this,t)}},{key:"animate",value:function(t,e){var n=this,u=null;t.__isInteraction&&(u=h.default.createInteractionHandle());var s=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,function(t){n._updateValue(t,!0)},function(t){n._animation=null,null!==u&&h.default.clearInteractionHandle(u),e&&e(t)},s,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(t){this.stopTracking(),this._tracking=t,this._tracking&&this._tracking.update()}},{key:"_updateValue",value:function(t,e){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._value=t,e&&N(this),this.__callListeners(this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:'value',value:this._value,offset:this._offset,debugID:this.__getDebugID()}}}])})(c.default);function b(){var t=this;if(null==(0,f.default)(this,A)[A]&&(0,f.default)(this,V)[V]&&this.__isNative){var e=this.__getNativeTag();y.startListeningToAnimatedNodeValue(e);var n=r.default.nativeEventEmitter.addListener('onAnimatedValueUpdate',function(n){n.tag===e&&t.__onAnimatedValueUpdateReceived(n.value)});(0,f.default)(this,A)[A]={remove:function(){null!=(0,f.default)(t,A)[A]&&((0,f.default)(t,A)[A]=null,n.remove(),y.stopListeningToAnimatedNodeValue(e))}}}}},298,[1,12,13,23,25,26,28,31,32,285,299,302,294]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),n=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var i,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(i=n?r:t){if(i.has(e))return i.get(e);i.set(e,c)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(c,u,o):c[u]=e[u]);return c})(e,n)})(_r(d[1]));var t=new(e(_r(d[2])).default),r={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions:function(e){var n=[],t=new Promise(function(t){p(),e&&n.push(e),n.push({run:t,name:'resolve '+(e&&e.name||'?')}),u.enqueueTasks(n)});return{then:t.then.bind(t),cancel:function(){u.cancelTasks(n)}}},createInteractionHandle:function(){p();var e=++f;return o.add(e),e},clearInteractionHandle:function(e){_r(d[3])(!!e,'InteractionManager: Must provide a handle to clear.'),p(),o.delete(e),c.add(e)},addListener:t.addListener.bind(t),setDeadline:function(e){l=e}},i=new Set,o=new Set,c=new Set,u=new(_r(d[4]))({onMoreTasks:p}),s=0,f=0,l=-1;function p(){s||(s=l>0?setTimeout(v,0):setImmediate(v))}function v(){s=0;var e=i.size;o.forEach(function(e){return i.add(e)}),c.forEach(function(e){return i.delete(e)});var n=i.size;if(0!==e&&0===n?t.emit(r.Events.interactionComplete):0===e&&0!==n&&t.emit(r.Events.interactionStart),0===n)for(;u.hasTasksToProcess();)if(u.processNext(),l>0&&_r(d[5]).getEventLoopRunningTime()>=l){p();break}o.clear(),c.clear()}m.exports=n.disableInteractionManager()?_r(d[6]):r},299,[1,104,30,20,300,4,301]);
__d(function(g,r,i,a,m,_e,d){'use strict';var e=r(d[0]),t=r(d[1]),u=(function(){return t(function t(u){var s=u.onMoreTasks;e(this,t),this._onMoreTasks=s,this._queueStack=[{tasks:[],popable:!1}]},[{key:"enqueue",value:function(e){this._getCurrentQueue().push(e)}},{key:"enqueueTasks",value:function(e){var t=this;e.forEach(function(e){return t.enqueue(e)})}},{key:"cancelTasks",value:function(e){this._queueStack=this._queueStack.map(function(t){return Object.assign({},t,{tasks:t.tasks.filter(function(t){return-1===e.indexOf(t)})})}).filter(function(e,t){return e.tasks.length>0||0===t})}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():(r(d[2])('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}},{key:"_getCurrentQueue",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&this._queueStack.length>1?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:"_genPromise",value:function(e){var t=this;this._queueStack.push({tasks:[],popable:!1});var u=this._queueStack.length-1,s=this._queueStack[u];e.gen().then(function(){s.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()}).catch(function(t){setTimeout(function(){throw t.message=`TaskQueue: Error resolving Promise in task ${e.name}: ${t.message}`,t},0)})}}])})();m.exports=u},300,[12,13,20]);
__d(function(g,r,i,a,m,e,d){var n={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions:function(n){var t,o=new Promise(function(o,c){t=setImmediate(function(){if('object'==typeof n&&null!==n)if('function'==typeof n.gen)n.gen().then(o,c);else if('function'==typeof n.run)try{n.run(),o()}catch(n){c(n)}else c(new TypeError(`Task "${n.name}" missing gen or run.`));else if('function'==typeof n)try{n(),o()}catch(n){c(n)}else c(new TypeError('Invalid task of type: '+typeof n))})});return{then:o.then.bind(o),cancel:function(){clearImmediate(t)}}},createInteractionHandle:function(){return-1},clearInteractionHandle:function(n){r(d[0])(!!n,'InteractionManager: Must provide a handle to clear.')},addListener:function(){return{remove:function(){}}},setDeadline:function(n){}};m.exports=n},301,[20]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),a=t(_r(d[3])),o=t(_r(d[4])),r=t(_r(d[5])),u=t(_r(d[6])),i=t(_r(d[7])),l=t(_r(d[8])),f=t(_r(d[9])),p=t(_r(d[10])),c=t(_r(d[11])),s=t(_r(d[12]));function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(h=function(){return!!t})()}function _(t,e,n,a){var u=(0,r.default)((0,o.default)(1&a?t.prototype:t),e,n);return 2&a&&"function"==typeof u?function(t){return u.apply(n,t)}:u}function g(t){var e=t.outputRange,n=t.inputRange,a=t.easing||p.default.linear,o='extend';void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var r='extend';return void 0!==t.extrapolateRight?r=t.extrapolateRight:void 0!==t.extrapolate&&(r=t.extrapolate),function(t){(0,s.default)('number'==typeof t,'Cannot interpolation an input which is not a number');var u=b(t,n);return v(t,n[u],n[u+1],e[u],e[u+1],a,o,r)}}function v(t,e,n,a,o,r,u,i){var l=t;if(l<e){if('identity'===u)return l;'clamp'===u&&(l=e)}if(l>n){if('identity'===i)return l;'clamp'===i&&(l=n)}return a===o?a:e===n?t<=e?a:o:(e===-1/0?l=-l:n===1/0?l-=e:l=(l-e)/(n-e),l=r(l),a===-1/0?l=-l:o===1/0?l+=a:l=l*(o-a)+a,l)}var y=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function x(t){var e=(0,l.default)(t);if((0,s.default)(null==e||'object'!=typeof e,'PlatformColors are not supported'),'number'==typeof e)return{isColor:!0,components:[(4278190080&(e=e||0))>>>24,(16711680&e)>>>16,(65280&e)>>>8,(255&e)/255]};for(var n,a=[],o=0;null!=(n=y.exec(t));)n.index>o&&a.push(t.substring(o,n.index)),a.push(parseFloat(n[0])),o=n.index+n[0].length;return(0,s.default)(a.length>0,'outputRange must contain color or value with numeric component'),o<t.length&&a.push(t.substring(o,t.length)),{isColor:!1,components:a}}function R(t){(0,s.default)(t.outputRange.length>=2,'Bad output range');var e=t.outputRange.map(x),n=e[0].isColor,a=e.map(function(t){return n?t.components:t.components.filter(function(t){return'number'==typeof t})}),o=a[0].map(function(e,n){return g(Object.assign({},t,{outputRange:a.map(function(t){return t[n]})}))});return n?function(t){var e=o.map(function(e,n){var a=e(t);return n<3?Math.round(a):Math.round(1e3*a)/1e3});return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}:function(t){var n=o.map(function(e){return e(t)}),a=0;return e[0].components.map(function(t){return'number'==typeof t?n[a++]:t}).join('')}}function b(t,e){var n;for(n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}_e.default=(function(t){function r(t,n){var u,i,l,f;return(0,e.default)(this,r),i=this,l=r,f=[n],l=(0,o.default)(l),(u=(0,a.default)(i,h()?Reflect.construct(l,f||[],(0,o.default)(i).constructor):l.apply(i,f)))._parent=t,u._config=n,u}return(0,u.default)(r,t),(0,n.default)(r,[{key:"_getInterpolation",value:function(){if(!this._interpolation){var t=this._config;t.outputRange&&'string'==typeof t.outputRange[0]?this._interpolation=R(t):this._interpolation=g(t)}return this._interpolation}},{key:"__makeNative",value:function(t){this._parent.__makeNative(t),_(r,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){var t=this._parent.__getValue();return(0,s.default)('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._getInterpolation()(t)}},{key:"interpolate",value:function(t){return new r(this,t)}},{key:"__attach",value:function(){this._parent.__addChild(this),_(r,"__attach",this,3)([])}},{key:"__detach",value:function(){this._parent.__removeChild(this),_(r,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){var t=this._config.outputRange,e=null;return'string'==typeof t[0]&&(t=t.map(function(t){var n=(0,f.default)(t);return'number'==typeof n?(e='color',n):i.default.transformDataType(t)})),{inputRange:this._config.inputRange,outputRange:t,outputType:e,extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation',debugID:this.__getDebugID()}}}])})(c.default)},302,[1,12,13,23,25,26,28,285,185,184,303,294,20]);
__d(function(g,r,i,a,m,e,d){'use strict';var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={step0:function(n){return n>0?1:0},step1:function(n){return n>=1?1:0},linear:function(n){return n},ease:function(u){return n||(n=t.bezier(.42,0,1,1)),n(u)},quad:function(n){return n*n},cubic:function(n){return n*n*n},poly:function(n){return function(t){return Math.pow(t,n)}},sin:function(n){return 1-Math.cos(n*Math.PI/2)},circle:function(n){return 1-Math.sqrt(1-n*n)},exp:function(n){return Math.pow(2,10*(n-1))},elastic:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*Math.PI;return function(t){return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*n)}},back:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(t){return t*t*((n+1)*t-n)}},bounce:function(n){if(n<.36363636363636365)return 7.5625*n*n;if(n<.7272727272727273){var t=n-.5454545454545454;return 7.5625*t*t+.75}if(n<.9090909090909091){var u=n-.8181818181818182;return 7.5625*u*u+.9375}var o=n-.9545454545454546;return 7.5625*o*o+.984375},bezier:function(n,t,u,o){return(0,r(d[0]).default)(n,t,u,o)},in:function(n){return n},out:function(n){return function(t){return 1-n(1-t)}},inOut:function(n){return function(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2}}};e.default=t},303,[304]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u,o,v){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var l=c?new Float32Array(f):new Array(f);if(n!==u||o!==v)for(var s=0;s<f;++s)l[s]=w(s*i,n,o);function h(u){for(var f=0,c=1;10!==c&&l[c]<=u;++c)f+=i;--c;var v=f+(u-l[c])/(l[c+1]-l[c])*i,s=y(v,n,o);return s>=t?_(u,v,n,o):0===s?v:b(u,f,f+i,n,o)}return function(t){return n===u&&o===v?t:0===t?0:1===t?1:w(h(t),u,v)}};var n=4,t=.001,u=1e-7,o=10,f=11,i=.1,c='function'==typeof Float32Array;function v(n,t){return 1-3*t+3*n}function l(n,t){return 3*t-6*n}function s(n){return 3*n}function w(n,t,u){return((v(t,u)*n+l(t,u))*n+s(t))*n}function y(n,t,u){return 3*v(t,u)*n*n+2*l(t,u)*n+s(t)}function b(n,t,f,i,c){var v,l,s=0,y=t,b=f;do{(v=w(l=y+(b-y)/2,i,c)-n)>0?b=l:y=l}while(Math.abs(v)>u&&++s<o);return l}function _(t,u,o,f){for(var i=u,c=0;c<n;++c){var v=y(i,o,f);if(0===v)return i;i-=(w(i,o,f)-t)/v}return i}},304,[]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),s=t(_r(d[3])),u=t(_r(d[4])),l=t(_r(d[5])),r=t(_r(d[6])),f=t(_r(d[7])),o=t(_r(d[8])),h=t(_r(d[9]));function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y=function(){return!!t})()}function c(t,e,n,s){var r=(0,l.default)((0,u.default)(1&s?t.prototype:t),e,n);return 2&s&&"function"==typeof r?function(t){return r.apply(n,t)}:r}var _=1;_e.default=(function(t){function l(t,n){var r,o,c,_;(0,e.default)(this,l),o=this,c=l,_=[n],c=(0,u.default)(c),r=(0,s.default)(o,y()?Reflect.construct(c,_||[],(0,u.default)(o).constructor):c.apply(o,_));var v=t||{x:0,y:0};return'number'==typeof v.x&&'number'==typeof v.y?(r.x=new f.default(v.x),r.y=new f.default(v.y)):((0,h.default)(v.x instanceof f.default&&v.y instanceof f.default,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),r.x=v.x,r.y=v.y),r._listeners={},n&&n.useNativeDriver&&r.__makeNative(),r}return(0,r.default)(l,t),(0,n.default)(l,[{key:"setValue",value:function(t){this.x.setValue(t.x),this.y.setValue(t.y)}},{key:"setOffset",value:function(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}},{key:"stopAnimation",value:function(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}},{key:"addListener",value:function(t){var e=this,n=String(_++),s=function(n){n.value;t(e.__getValue())};return this._listeners[n]={x:this.x.addListener(s),y:this.y.addListener(s)},n}},{key:"removeListener",value:function(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}},{key:"__attach",value:function(){this.x.__addChild(this),this.y.__addChild(this),c(l,"__attach",this,3)([])}},{key:"__detach",value:function(){this.x.__removeChild(this),this.y.__removeChild(this),c(l,"__detach",this,3)([])}},{key:"__makeNative",value:function(t){this.x.__makeNative(t),this.y.__makeNative(t),c(l,"__makeNative",this,3)([t])}}])})(o.default)},305,[1,12,13,23,25,26,28,298,294,20]);
__d(function(g,_r,_i,a,_m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;t(_r(d[1]));var i=t(_r(d[2])),e=t(_r(d[3])),s=t(_r(d[4])),n=t(_r(d[5])),o=t(_r(d[6])),l=t(_r(d[7])),r=(t(_r(d[8])),(function(t,i){if("function"==typeof WeakMap)var e=new WeakMap,s=new WeakMap;return(function(t,i){if(!i&&t&&t.__esModule)return t;var n,o,l={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return l;if(n=i?s:e){if(n.has(t))return n.get(t);n.set(t,l)}for(var r in t)"default"!==r&&{}.hasOwnProperty.call(t,r)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,r))&&(o.get||o.set)?n(l,r,o):l[r]=t[r]);return l})(t,i)})(_r(d[9]))),h=t(_r(d[10])),f=t(_r(d[11]));function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}function _(t,i,e,s){var l=(0,o.default)((0,n.default)(1&s?t.prototype:t),i,e);return 2&s&&"function"==typeof l?function(t){return l.apply(e,t)}:l}_e.default=(function(t){function o(t){var e,l,h,_,m,c,p,v,y,V,T,b,M;if((0,i.default)(this,o),v=this,y=o,V=[t],y=(0,n.default)(y),(p=(0,s.default)(v,u()?Reflect.construct(y,V||[],(0,n.default)(v).constructor):y.apply(v,V)))._overshootClamping=null!=(e=t.overshootClamping)&&e,p._restDisplacementThreshold=null!=(l=t.restDisplacementThreshold)?l:.001,p._restSpeedThreshold=null!=(h=t.restSpeedThreshold)?h:.001,p._initialVelocity=null!=(_=t.velocity)?_:0,p._lastVelocity=null!=(m=t.velocity)?m:0,p._toValue=t.toValue,p._delay=null!=(c=t.delay)?c:0,p._platformConfig=t.platformConfig,void 0!==t.stiffness||void 0!==t.damping||void 0!==t.mass)(0,f.default)(void 0===t.bounciness&&void 0===t.speed&&void 0===t.tension&&void 0===t.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),p._stiffness=null!=(T=t.stiffness)?T:100,p._damping=null!=(b=t.damping)?b:10,p._mass=null!=(M=t.mass)?M:1;else if(void 0!==t.bounciness||void 0!==t.speed){var P,D;(0,f.default)(void 0===t.tension&&void 0===t.friction&&void 0===t.stiffness&&void 0===t.damping&&void 0===t.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var C=r.fromBouncinessAndSpeed(null!=(P=t.bounciness)?P:8,null!=(D=t.speed)?D:12);p._stiffness=C.stiffness,p._damping=C.damping,p._mass=1}else{var S,k,A=r.fromOrigamiTensionAndFriction(null!=(S=t.tension)?S:40,null!=(k=t.friction)?k:7);p._stiffness=A.stiffness,p._damping=A.damping,p._mass=1}return(0,f.default)(p._stiffness>0,'Stiffness value must be greater than 0'),(0,f.default)(p._damping>0,'Damping value must be greater than 0'),(0,f.default)(p._mass>0,'Mass value must be greater than 0'),p}return(0,l.default)(o,t),(0,e.default)(o,[{key:"__getNativeAnimationConfig",value:function(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!=(t=this._initialVelocity)?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig,debugID:this.__getDebugID()}}},{key:"start",value:function(t,i,e,s,n){var l=this;if(_(o,"start",this,3)([t,i,e,s,n]),this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=i,this._lastTime=Date.now(),this._frameTime=0,s instanceof o){var r=s.getInternalState();this._lastPosition=r.lastPosition,this._lastVelocity=r.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=r.lastTime}var h=function(){l.__startAnimationIfNative(n)||l.onUpdate()};this._delay?this._timeout=setTimeout(h,this._delay):h()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var i=(t-this._lastTime)/1e3;this._frameTime+=i;var e=this._damping,s=this._mass,n=this._stiffness,o=-this._initialVelocity,l=e/(2*Math.sqrt(n*s)),r=Math.sqrt(n/s),h=r*Math.sqrt(1-l*l),f=this._toValue-this._startPosition,u=0,_=0,m=this._frameTime;if(l<1){var c=Math.exp(-l*r*m);u=this._toValue-c*((o+l*r*f)/h*Math.sin(h*m)+f*Math.cos(h*m)),_=l*r*c*(Math.sin(h*m)*(o+l*r*f)/h+f*Math.cos(h*m))-c*(Math.cos(h*m)*(o+l*r*f)-h*f*Math.sin(h*m))}else{var p=Math.exp(-r*m);u=this._toValue-p*(f+(o+r*f)*m),_=p*(o*(m*r-1)+m*f*(r*r))}if(this._lastTime=t,this._lastPosition=u,this._lastVelocity=_,this._onUpdate(u),this.__active){var v=!1;this._overshootClamping&&0!==this._stiffness&&(v=this._startPosition<this._toValue?u>this._toValue:u<this._toValue);var y=Math.abs(_)<=this._restSpeedThreshold,V=!0;if(0!==this._stiffness&&(V=Math.abs(this._toValue-u)<=this._restDisplacementThreshold),v||y&&V)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__notifyAnimationEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){_(o,"stop",this,3)([]),clearTimeout(this._timeout),null!=this._animationFrame&&g.cancelAnimationFrame(this._animationFrame),this.__notifyAnimationEnd({finished:!1})}}])})(h.default)},306,[1,72,12,13,23,25,26,28,307,308,284,20]);
__d(function(_g,_r,_i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),i=t(_r(d[2])),a=t(_r(d[3])),n=t(_r(d[4])),s=t(_r(d[5])),r=t(_r(d[6])),l=t(_r(d[7])),u=t(_r(d[8])),f=(function(t,e){if("function"==typeof WeakMap)var i=new WeakMap,a=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var n,s,r={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return r;if(n=e?a:i){if(n.has(t))return n.get(t);n.set(t,r)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((s=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(s.get||s.set)?n(r,l,s):r[l]=t[l]);return r})(t,e)})(_r(d[9])),o=t(_r(d[10]));function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_=function(){return!!t})()}function h(t,e,i,a){var r=(0,s.default)((0,n.default)(1&a?t.prototype:t),e,i);return 2&a&&"function"==typeof r?function(t){return r.apply(i,t)}:r}var c=l.default.API,v={r:0,g:0,b:0,a:1};function g(t){if(null==t)return null;if(b(t))return t;var e=(0,u.default)(t);if(null==e)return null;if('object'==typeof e){var i=(0,_r(d[11]).processColorObject)(e);if(null!=i)return i}else if('number'==typeof e){return{r:(4278190080&e)>>>24,g:(16711680&e)>>>16,b:(65280&e)>>>8,a:(255&e)/255}}return null}function b(t){return t&&'number'==typeof t.r&&'number'==typeof t.g&&'number'==typeof t.b&&'number'==typeof t.a}function p(t){return t&&t.r instanceof f.default&&t.g instanceof f.default&&t.b instanceof f.default&&t.a instanceof f.default}_e.default=(function(t){function s(t,i){var r,l,u,o;(0,e.default)(this,s),l=this,u=s,o=[i],u=(0,n.default)(u),(r=(0,a.default)(l,_()?Reflect.construct(u,o||[],(0,n.default)(l).constructor):u.apply(l,o)))._suspendCallbacks=0;var h=null!=t?t:v;if(p(h)){var c=h;r.r=c.r,r.g=c.g,r.b=c.b,r.a=c.a}else{var y,k=null!=(y=g(h))?y:v,C=v;b(k)?C=k:r.nativeColor=k,r.r=new f.default(C.r),r.g=new f.default(C.g),r.b=new f.default(C.b),r.a=new f.default(C.a)}return null!=i&&i.useNativeDriver&&r.__makeNative(),r}return(0,r.default)(s,t),(0,i.default)(s,[{key:"setValue",value:function(t){var e,i=this,a=!1;if(this.__isNative){var n=this.__getNativeTag();c.setWaitingForIdentifier(n.toString())}var s=null!=(e=g(t))?e:v;if(this._withSuspendedCallbacks(function(){if(b(s)){var t=s;i.r.setValue(t.r),i.g.setValue(t.g),i.b.setValue(t.b),i.a.setValue(t.a),null!=i.nativeColor&&(i.nativeColor=null,a=!0)}else{var e=s;i.nativeColor!==e&&(i.nativeColor=e,a=!0)}}),this.__isNative){var r=this.__getNativeTag();a&&c.updateAnimatedNodeConfig(r,this.__getNativeConfig()),c.unsetWaitingForIdentifier(r.toString())}else(0,f.flushValue)(this);this.__callListeners(this.__getValue())}},{key:"setOffset",value:function(t){this.r.setOffset(t.r),this.g.setOffset(t.g),this.b.setOffset(t.b),this.a.setOffset(t.a)}},{key:"flattenOffset",value:function(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}},{key:"extractOffset",value:function(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}},{key:"stopAnimation",value:function(t){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),t&&t(this.__getValue())}},{key:"resetAnimation",value:function(t){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),t&&t(this.__getValue())}},{key:"__getValue",value:function(){return null!=this.nativeColor?this.nativeColor:`rgba(${this.r.__getValue()}, ${this.g.__getValue()}, ${this.b.__getValue()}, ${this.a.__getValue()})`}},{key:"__attach",value:function(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),h(s,"__attach",this,3)([])}},{key:"__detach",value:function(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),h(s,"__detach",this,3)([])}},{key:"_withSuspendedCallbacks",value:function(t){this._suspendCallbacks++,t(),this._suspendCallbacks--}},{key:"__callListeners",value:function(t){0===this._suspendCallbacks&&h(s,"__callListeners",this,3)([t])}},{key:"__makeNative",value:function(t){this.r.__makeNative(t),this.g.__makeNative(t),this.b.__makeNative(t),this.a.__makeNative(t),h(s,"__makeNative",this,3)([t])}},{key:"__getNativeConfig",value:function(){return{type:'color',r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor,debugID:this.__getDebugID()}}}])})(o.default)},307,[1,12,13,23,25,26,28,285,185,298,294,187]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}Object.defineProperty(e,"__esModule",{value:!0}),e.fromBouncinessAndSpeed=function(o,u){function f(n,t,o){return(n-t)/(o-t)}function c(n,t,o){return t+n*(o-t)}function s(n,t,o){return n*o+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function M(n){return 45e-8*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var h=f(o/1.7,0,20);h=c(h,0,.8);var w=c(f(u/1.7,0,20),.5,200),v=(_=h,O=w,l=O<=18?(b=O,7e-4*Math.pow(b,3)-.031*Math.pow(b,2)+.64*b+1.28):O>18&&O<=44?p(O):M(O),A=.01,s(2*_-_*_,l,A));var _,l,A;var O,b;return{stiffness:n(w),damping:t(v)}},e.fromOrigamiTensionAndFriction=function(o,u){return{stiffness:n(o),damping:t(u)}}},308,[]);
__d(function(g,_r,i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;t(_r(d[1]));var n,e=t(_r(d[2])),o=t(_r(d[3])),u=t(_r(d[4])),r=t(_r(d[5])),s=t(_r(d[6])),_=t(_r(d[7])),f=(t(_r(d[8])),t(_r(d[9])));function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function h(t,n,e,o){var u=(0,s.default)((0,r.default)(1&o?t.prototype:t),n,e);return 2&o&&"function"==typeof u?function(t){return u.apply(e,t)}:u}function c(){if(!n){var t=_r(d[10]).default;n=t.inOut(t.ease)}return n}_e.default=(function(t){function n(t){var o,s,_,f,h,p,v;return(0,e.default)(this,n),h=this,p=n,v=[t],p=(0,r.default)(p),(f=(0,u.default)(h,l()?Reflect.construct(p,v||[],(0,r.default)(h).constructor):p.apply(h,v)))._toValue=t.toValue,f._easing=null!=(o=t.easing)?o:c(),f._duration=null!=(s=t.duration)?s:500,f._delay=null!=(_=t.delay)?_:0,f._platformConfig=t.platformConfig,f}return(0,_.default)(n,t),(0,o.default)(n,[{key:"__getNativeAnimationConfig",value:function(){for(var t=[],n=Math.round(this._duration/16.666666666666668),e=0;e<n;e++)t.push(this._easing(e/n));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig,debugID:this.__getDebugID()}}},{key:"start",value:function(t,e,o,u,r){var s=this;h(n,"start",this,3)([t,e,o,u,r]),this._fromValue=t,this._onUpdate=e;var _=function(){s._startTime=Date.now(),s.__startAnimationIfNative(r)||(0===s._duration?(s._onUpdate(s._toValue),s.__notifyAnimationEnd({finished:!0})):s._animationFrame=requestAnimationFrame(function(){return s.onUpdate()}))};this._delay?this._timeout=setTimeout(_,this._delay):_()}},{key:"onUpdate",value:function(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__notifyAnimationEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){h(n,"stop",this,3)([]),clearTimeout(this._timeout),null!=this._animationFrame&&g.cancelAnimationFrame(this._animationFrame),this.__notifyAnimationEnd({finished:!1})}}])})(f.default)},309,[1,72,12,13,23,25,26,28,307,284,303]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){return i(e,null)},_e.unstable_createAnimatedComponentWithAllowlist=i;var t=e(_r(d[1])),n=e(_r(d[2])),r=(e(_r(d[3])),e(_r(d[4]))),u=e(_r(d[5])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(l,f,o):l[f]=e[f]);return l})(e,t)})(_r(d[6])),l=o,f=_r(d[7]);function i(e,i){var s=l.forwardRef(function(l,s){var c=(0,u.default)(l,i),p=(0,t.default)(c,2),y=p[0],_=p[1],v=(0,r.default)(_,s),b=y.passthroughAnimatedPropExplicitValues,j=y.style,w=null==b?void 0:b.style,M=(0,o.useMemo)(function(){return(0,n.default)(j,w)},[w,j]);return(0,f.jsx)(e,Object.assign({},y,b,{style:M,ref:v}))});return s.displayName=`Animated(${e.displayName||'Anonymous'})`,s}},310,[1,38,222,178,311,313,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var n=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];var f=(0,t.useCallback)(function(n){var e=r.map(function(e){if(null!=e){if('function'==typeof e){var t=e(n);return'function'==typeof t?t:function(){e(null)}}return e.current=n,function(){e.current=null}}});return function(){for(var n of e)null==n||n()}},[].concat(r));return(0,e.default)(f)};var e=n(_r(d[1])),t=(function(n,e){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(n,e){if(!e&&n&&n.__esModule)return n;var u,f,o={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return o;if(u=e?r:t){if(u.has(n))return u.get(n);u.set(n,o)}for(var c in n)"default"!==c&&{}.hasOwnProperty.call(n,c)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,c))&&(f.get||f.set)?u(o,c,f):o[c]=n[c]);return o})(n,e)})(_r(d[2]))},311,[1,312,174]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var t=(0,u.useRef)(void 0);return(0,u.useCallback)(function(u){t.current&&(t.current(),t.current=void 0),null!=u&&(t.current=n(u))},[n])};var u=r(d[0])},312,[174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,n){var p=(0,i.useReducer)(function(e){return e+1},0),b=(0,t.default)(p,2)[1],P=(0,i.useRef)(null),h=(0,i.useRef)(null),N=r.enableAnimatedAllowlist()?n:null,E=o(function(){return new l.default(e,function(){return null==P.current?void 0:P.current()},N)},[N,e]),y=r.shouldUseSetNativePropsInFabric();(r.useInsertionEffectsForAnimations()?s:f)(E);var A=(0,i.useCallback)(function(n){E.setNativeView(n),P.current=function(){var e=_(n);if(E.__isNative)e&&b();else{if('object'!=typeof n||'function'!=typeof(null==n?void 0:n.setNativeProps))return b();if(!e)return n.setNativeProps(E.__getAnimatedValue());if(!y)return b();n.setNativeProps(E.__getAnimatedValue()),null!=h.current&&clearTimeout(h.current),h.current=setTimeout(function(){h.current=null,b()},48)}};var r=v(n),u=[];for(var l in e){var i=e[l];i instanceof _r(d[8]).AnimatedEvent&&i.__isNative&&(i.__attach(r,l),u.push([l,i]))}return function(){for(var e of(P.current=null,u)){var n=(0,t.default)(e,2),l=n[0];n[1].__detach(r,l)}}},[E,y,e]),R=(0,u.default)(A);return[c(E,e),R]};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((l=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(l.get||l.set)?u(i,o,l):i[o]=e[o]);return i})(e,t)})(_r(d[3])),u=e(_r(d[4])),l=e(_r(d[5])),i=_r(d[6]);var o=r.enableAnimatedPropsMemo()?_r(d[7]).useAnimatedPropsMemo:i.useMemo;function c(e,t){return Object.assign({},r.enableAnimatedPropsMemo()?e.__getValueWithStaticProps(t):e.__getValue(),{collapsable:!1})}function f(e){var t=(0,i.useRef)(null),r=(0,i.useRef)(!1);(0,i.useEffect)(function(){n.default.API.flushQueue();var t=null;return e.__isNative&&(t=n.default.nativeEventEmitter.addListener('onUserDrivenAnimationEnded',function(t){e.update()})),function(){var e;null==(e=t)||e.remove()}}),(0,i.useLayoutEffect)(function(){return r.current=!1,function(){r.current=!0}},[]),(0,i.useLayoutEffect)(function(){if(e.__attach(),null!=t.current){var n=t.current;n.__restoreDefaultValues(),n.__detach(),t.current=null}return function(){r.current?e.__detach():t.current=e}},[e])}function s(e){var t=(0,i.useRef)(null),r=(0,i.useRef)(!1);(0,i.useEffect)(function(){n.default.API.flushQueue();var t=null;return e.__isNative&&(t=n.default.nativeEventEmitter.addListener('onUserDrivenAnimationEnded',function(t){e.update()})),function(){var e;null==(e=t)||e.remove()}}),(0,i.useInsertionEffect)(function(){return r.current=!1,function(){r.current=!0}},[]),(0,i.useInsertionEffect)(function(){if(e.__attach(),null!=t.current){var n=t.current;n.__restoreDefaultValues(),n.__detach(),t.current=null}return function(){r.current?e.__detach():t.current=e}},[e])}function v(e){return'object'==typeof e&&'function'==typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}function _(e){var t;return(0,_r(d[9]).isPublicInstance)(e)||(0,_r(d[9]).isPublicInstance)(null==e||null==e.getNativeScrollRef?void 0:e.getNativeScrollRef())||(0,_r(d[9]).isPublicInstance)(null==e||null==e.getScrollResponder||null==(t=e.getScrollResponder())||null==t.getNativeScrollRef?void 0:t.getNativeScrollRef())}},313,[1,38,285,104,312,291,174,314,297,315]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.areCompositeKeysEqual=O,e.createCompositeKeyForProps=c,e.useAnimatedPropsMemo=function(n,t){var u=(0,l.default)(t,2),f=u[0],o=u[1],v=(0,s.useMemo)(function(){return c(o,f)},[f,o]),y=(0,s.useState)(function(){return{allowlist:f,compositeKey:v,value:n()}}),b=(0,l.default)(y,2),j=b[0],A=b[1];j.allowlist===f&&O(j.compositeKey,v)||A({allowlist:f,compositeKey:v,value:n()});return j.value};var t,l=n(r(d[1])),u=n(r(d[2])),f=n(r(d[3])),o=n(r(d[4])),s=r(d[5]);function c(n,t){for(var l=null,o=Object.keys(n),s=0,c=o.length;s<c;s++){var O=o[s],b=n[O];if(null==t||A(t,O)){var j=void 0;if('style'===O){var h=(0,f.default)(b);null!=h&&(j=y(h,null==t?void 0:t.style))}else b instanceof u.default||b instanceof r(d[6]).AnimatedEvent?j=b:Array.isArray(b)?j=null==t?b:v(b):(0,r(d[7]).isPlainObject)(b)&&(j=null==t?b:y(b));null!=j&&(null==l&&(l={}),l[O]=j)}}return l}function v(n){for(var t=null,l=0,f=n.length;l<f;l++){var o=n[l],s=void 0;o instanceof u.default?s=o:Array.isArray(o)?s=v(o):(0,r(d[7]).isPlainObject)(o)&&(s=y(o)),null!=s&&(null==t&&(t=new Array(n.length).fill(null)),t[l]=s)}return t}function y(n,t){for(var l=null,f=Object.keys(n),o=0,s=f.length;o<s;o++){var c=f[o];if(null==t||A(t,c)){var O=n[c],b=void 0;O instanceof u.default?b=O:Array.isArray(O)?b=v(O):(0,r(d[7]).isPlainObject)(O)&&(b=y(O)),null!=b&&(null==l&&(l={}),l[c]=b)}}return l}function O(n,t,l){if(n===t)return!0;if(null===n||null===t)return!1;var f=n,o=t,s=Object.keys(f),c=s.length;if(c!==Object.keys(o).length)return!1;for(var v=0;v<c;v++){var y=s[v];if(!A(o,y))return!1;var O=f[y],j=o[y];if('style'===y){if(!b(O,j))return!1}else if(O instanceof u.default||O instanceof r(d[6]).AnimatedEvent){if(O!==j)return!1}else if(null==l){if(O!==j)return!1}else if(!b(O,j))return!1}return!0}function b(n,t){if(n===t)return!0;if(n instanceof u.default)return n===t;if(Array.isArray(n)){if(!Array.isArray(t))return!1;var l=n.length;if(l!==t.length)return!1;for(var f=0;f<l;f++)if(!b(n[f],t[f]))return!1;return!0}if((0,r(d[7]).isPlainObject)(n)){if(!(0,r(d[7]).isPlainObject)(t))return!1;var s=Object.keys(n),c=s.length;if(c!==Object.keys(t).length)return!1;for(var v=0;v<c;v++){var y=s[v];if(!A((0,o.default)(t),y)||!b(n[y],t[y]))return!1}return!0}return!1}var j=Object.prototype.hasOwnProperty,A=null!=(t=Object.hasOwn)?t:function(n,t){return j.call(n,t)}},314,[1,38,292,223,45,174,297,293]);
__d(function(g,r,i,a,m,e,d){function n(n){return null!=n&&null!=n._internalInstanceHandle&&null!=n._internalInstanceHandle.stateNode&&null!=n._internalInstanceHandle.stateNode.canonical}Object.defineProperty(e,"__esModule",{value:!0}),e.isPublicInstance=function(l){return null!=l&&(null!=l.__nativeTag||n(l))}},315,[]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),o=t(_r(d[7])),r=t(_r(d[8])),f=t(_r(d[9]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function h(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l){var o,f,h,s;return(0,e.default)(this,_),f=this,h=_,s=[l],h=(0,n.default)(h),(o=(0,u.default)(f,c()?Reflect.construct(h,s||[],(0,n.default)(f).constructor):h.apply(f,s)))._a='number'==typeof t?new r.default(t):t,o._b='number'==typeof a?new r.default(a):a,o}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),h(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(t){return new o.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(f.default)},316,[1,12,13,23,25,26,28,302,298,294]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),r=t(_r(d[7])),f=t(_r(d[8]));function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}function c(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l,r){var f,c,h,s;return(0,e.default)(this,_),c=this,h=_,s=[r],h=(0,n.default)(h),(f=(0,u.default)(c,o()?Reflect.construct(h,s||[],(0,n.default)(c).constructor):h.apply(c,s)))._a=t,f._min=a,f._max=l,f._value=f._lastValue=f._a.__getValue(),f}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),c(_,"__makeNative",this,3)([t])}},{key:"interpolate",value:function(t){return new r.default(this,t)}},{key:"__getValue",value:function(){var t=this._a.__getValue(),e=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+e,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this),c(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),c(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max,debugID:this.__getDebugID()}}}])})(f.default)},317,[1,12,13,23,25,26,28,302,294]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),a=e(_r(d[2])),n=e(_r(d[3])),u=e(_r(d[4])),o=e(_r(d[5])),_=e(_r(d[6])),r=e(_r(d[7])),l=e(_r(d[8])),f=e(_r(d[9])),s=e(_r(d[10]));function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function h(e,t,a,n){var _=(0,o.default)((0,u.default)(1&n?e.prototype:e),t,a);return 2&n&&"function"==typeof _?function(e){return _.apply(a,e)}:_}_e.default=(function(e){function o(e,a,_){var r,s,h,v;return(0,t.default)(this,o),s=this,h=o,v=[_],h=(0,u.default)(h),(r=(0,n.default)(s,c()?Reflect.construct(h,v||[],(0,u.default)(s).constructor):h.apply(s,v)))._warnedAboutDivideByZero=!1,(0===a||a instanceof l.default&&0===a.__getValue())&&console.error('Detected potential division by zero in AnimatedDivision'),r._a='number'==typeof e?new f.default(e):e,r._b='number'==typeof a?new f.default(a):a,r}return(0,_.default)(o,e),(0,a.default)(o,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),h(o,"__makeNative",this,3)([e])}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error('Detected division by zero in AnimatedDivision'),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}},{key:"interpolate",value:function(e){return new r.default(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(o,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(o,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(s.default)},318,[1,12,13,23,25,26,28,302,292,298,294]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),u=t(_r(d[2])),a=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),o=t(_r(d[7])),r=t(_r(d[8]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function c(t,e,u,a){var l=(0,_.default)((0,n.default)(1&a?t.prototype:t),e,u);return 2&a&&"function"==typeof l?function(t){return l.apply(u,t)}:l}_e.default=(function(t){function _(t,u,l){var o,r,c,s;return(0,e.default)(this,_),r=this,c=_,s=[l],c=(0,n.default)(c),(o=(0,a.default)(r,f()?Reflect.construct(c,s||[],(0,n.default)(r).constructor):c.apply(r,s)))._a=t,o._modulus=u,o}return(0,l.default)(_,t),(0,u.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),c(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(t){return new o.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),c(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),c(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus,debugID:this.__getDebugID()}}}])})(r.default)},319,[1,12,13,23,25,26,28,302,294]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),o=t(_r(d[7])),r=t(_r(d[8])),f=t(_r(d[9]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function h(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l){var o,f,h,s;return(0,e.default)(this,_),f=this,h=_,s=[l],h=(0,n.default)(h),(o=(0,u.default)(f,c()?Reflect.construct(h,s||[],(0,n.default)(f).constructor):h.apply(f,s)))._a='number'==typeof t?new r.default(t):t,o._b='number'==typeof a?new r.default(a):a,o}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),h(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(t){return new o.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(f.default)},320,[1,12,13,23,25,26,28,302,298,294]);
__d(function(g,_r,i,_a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),a=t(_r(d[2])),u=t(_r(d[3])),n=t(_r(d[4])),_=t(_r(d[5])),l=t(_r(d[6])),r=t(_r(d[7])),o=t(_r(d[8])),f=t(_r(d[9]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function h(t,e,a,u){var l=(0,_.default)((0,n.default)(1&u?t.prototype:t),e,a);return 2&u&&"function"==typeof l?function(t){return l.apply(a,t)}:l}_e.default=(function(t){function _(t,a,l){var r,f,h,s;return(0,e.default)(this,_),f=this,h=_,s=[l],h=(0,n.default)(h),(r=(0,u.default)(f,c()?Reflect.construct(h,s||[],(0,n.default)(f).constructor):h.apply(f,s)))._a='number'==typeof t?new o.default(t):t,r._b='number'==typeof a?new o.default(a):a,r}return(0,l.default)(_,t),(0,a.default)(_,[{key:"__makeNative",value:function(t){this._a.__makeNative(t),this._b.__makeNative(t),h(_,"__makeNative",this,3)([t])}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(t){return new r.default(this,t)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this),h(_,"__attach",this,3)([])}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),h(_,"__detach",this,3)([])}},{key:"__getNativeConfig",value:function(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()],debugID:this.__getDebugID()}}}])})(f.default)},321,[1,12,13,23,25,26,28,302,298,294]);
__d(function(g,_r,i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),_=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),l=t(_r(d[6])),r=t(_r(d[7])),s=t(_r(d[8]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function c(t,e,n,_){var l=(0,o.default)((0,u.default)(1&_?t.prototype:t),e,n);return 2&_&&"function"==typeof l?function(t){return l.apply(n,t)}:l}_e.default=(function(t){function o(t,n,l,s,c,v){var h,p,k,y;return(0,e.default)(this,o),p=this,k=o,y=[v],k=(0,u.default)(k),(h=(0,_.default)(p,f()?Reflect.construct(k,y||[],(0,u.default)(p).constructor):k.apply(p,y)))._value=t,h._parent=n,h._animationClass=l,h._animationConfig=s,h._useNativeDriver=r.default.shouldUseNativeDriver(s),h._callback=c,h.__attach(),h}return(0,l.default)(o,t),(0,n.default)(o,[{key:"__makeNative",value:function(t){this.__isNative=!0,this._parent.__makeNative(t),c(o,"__makeNative",this,3)([t]),this._value.__makeNative(t)}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){if(this._parent.__addChild(this),this._useNativeDriver){var t=this._animationConfig.platformConfig;this.__makeNative(t)}c(o,"__attach",this,3)([])}},{key:"__detach",value:function(){this._parent.__removeChild(this),c(o,"__detach",this,3)([])}},{key:"update",value:function(){this._value.animate(new this._animationClass(Object.assign({},this._animationConfig,{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var t=new this._animationClass(Object.assign({},this._animationConfig,{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:r.default.generateNewAnimationId(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag(),debugID:this.__getDebugID()}}}])})(s.default)},322,[1,12,13,23,25,26,28,285,292]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),l=t(r(d[4])),f=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),v=!1;function p(t){return function(n){var u=null==n?n:function(){if(v)console.warn('Ignoring recursive animation callback when running mock animations');else{v=!0;try{n.apply(void 0,arguments)}finally{v=!1}}};t(u)}}var E={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}},h=function(t){return Object.assign({},E,{start:p(function(n){t.forEach(function(t){return t.start()}),null==n||n({finished:!0})})})};e.default={Value:c.default,ValueXY:s.default,Color:o.default,Interpolation:l.default,Node:f.default,decay:function(t,n){return E},timing:function(t,n){var u=t;return Object.assign({},E,{start:p(function(t){u.setValue(n.toValue),null==t||t({finished:!0})})})},spring:function(t,n){var u=t;return Object.assign({},E,{start:p(function(t){u.setValue(n.toValue),null==t||t({finished:!0})})})},add:n.default.add,subtract:n.default.subtract,divide:n.default.divide,multiply:n.default.multiply,modulo:n.default.modulo,diffClamp:n.default.diffClamp,delay:function(t){return E},sequence:function(t){return h(t)},parallel:function(t,n){return h(t)},stagger:function(t,n){return h(n)},loop:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).iterations;return E},event:n.default.event,createAnimatedComponent:u.default,attachNativeEvent:r(d[8]).attachNativeEvent,forkEvent:n.default.forkEvent,unforkEvent:n.default.unforkEvent,Event:r(d[8]).AnimatedEvent}},323,[1,282,310,307,302,292,298,305,297]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},324,[1,325,310,174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),s=e(_r(d[6])),l=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?r(s,l,o):s[l]=e[l]);return s})(e,t)})(_r(d[7])),u=e(_r(d[8])),c=_r(d[9]),f=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var h=_r(d[10]);function v(e){return null!=e?e:1}function C(e){return'number'==typeof Object(e).length}var y=(function(e){function y(e){var t,i,s,l;return(0,n.default)(this,y),i=this,s=y,l=[e],s=(0,o.default)(s),(t=(0,r.default)(i,p()?Reflect.construct(s,l||[],(0,o.default)(i).constructor):s.apply(i,l)))._virtualizedListPairs=[],t._captureRef=function(e){t._listRef=e},t._getItem=function(e,n){var i=v(t.props.numColumns);if(i>1){for(var r=[],o=0;o<i;o++){var s=n*i+o;if(s<e.length){var l=e[s];r.push(l)}}return r}return e[n]},t._getItemCount=function(e){if(null!=e&&C(e)){var n=v(t.props.numColumns);return n>1?Math.ceil(e.length/n):e.length}return 0},t._keyExtractor=function(e,n){var i,r=v(t.props.numColumns),o=null!=(i=t.props.keyExtractor)?i:_r(d[11]).keyExtractor;return r>1?(_r(d[12])(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",r),e.map(function(e,t){return o(e,n*r+t)}).join(':')):o(e,n)},t._renderer=function(e,t,n,i,r){var o=v(i),s=function(n){return e?(0,c.jsx)(e,Object.assign({},n)):t?t(n):null},l=function(e){if(o>1){var t=e.item,i=e.index;return _r(d[12])(Array.isArray(t),'Expected array of items with numColumns > 1'),(0,c.jsx)(_r(d[13]),{style:_r(d[14]).compose(b.row,n),children:t.map(function(t,n){var r=s({item:t,index:i*o+n,separators:e.separators});return null!=r?(0,c.jsx)(h.Fragment,{children:r},n):null})})}return s(e)};return e?{ListItemComponent:l}:{renderItem:l}},t._memoizedRenderer=(0,u.default)(t._renderer),t._checkProps(t.props),t.props.viewabilityConfigCallbackPairs?t._virtualizedListPairs=t.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:t._createOnViewableItemsChanged(e.onViewableItemsChanged)}}):t.props.onViewableItemsChanged&&t._virtualizedListPairs.push({viewabilityConfig:t.props.viewabilityConfig,onViewableItemsChanged:t._createOnViewableItemsChanged(function(){var e;return _r(d[12])(t.props.onViewableItemsChanged,"Changing the nullability of onViewableItemsChanged is not supported. Once a function or null is supplied that cannot be changed."),(e=t.props).onViewableItemsChanged.apply(e,arguments)})}),t}return(0,s.default)(y,e),(0,i.default)(y,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"setNativeProps",value:function(e){this._listRef&&this._listRef.setNativeProps(e)}},{key:"componentDidUpdate",value:function(e){_r(d[12])(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),_r(d[12])(null==e.onViewableItemsChanged==(null==this.props.onViewableItemsChanged),'Changing onViewableItemsChanged nullability on the fly is not supported'),_r(d[12])(!_r(d[15])(e.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),_r(d[12])(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,i=e.horizontal,r=e.columnWrapperStyle,o=e.onViewableItemsChanged,s=e.viewabilityConfigCallbackPairs,l=v(this.props.numColumns);_r(d[12])(!t&&!n,'FlatList does not support custom data formats.'),l>1?_r(d[12])(!i,'numColumns does not support horizontal.'):_r(d[12])(!r,'columnWrapperStyle not supported for single column lists'),_r(d[12])(!(o&&s),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,i=v(this.props.numColumns),r=null!=(n=this.props.keyExtractor)?n:_r(d[11]).keyExtractor;t.item.forEach(function(n,o){_r(d[12])(null!=t.index,'Missing index!');var s=t.index*i+o;e.push(Object.assign({},t,{item:n,key:r(n,s),index:s}))})}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var i=v(t.props.numColumns);if(e)if(i>1){var r=[],o=[];n.viewableItems.forEach(function(e){return t._pushMultiColumnViewable(o,e)}),n.changed.forEach(function(e){return t._pushMultiColumnViewable(r,e)}),e({viewableItems:o,changed:r})}else e(n)}}},{key:"render",value:function(){var e,n=this.props,i=n.numColumns,r=n.columnWrapperStyle,o=n.removeClippedSubviews,s=n.strictMode,u=void 0!==s&&s,p=(0,t.default)(n,f),h=u?this._memoizedRenderer:this._renderer;return(0,c.jsx)(_r(d[11]).VirtualizedList,Object.assign({},p,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=o,l.shouldUseRemoveClippedSubviewsAsDefaultOnIOS(),null==e||e)},h(this.props.ListItemComponent,this.props.renderItem,r,i,this.props.extraData)))}}])})(h.PureComponent),b=_r(d[14]).create({row:{flexDirection:'row'}});m.exports=y},325,[1,135,12,13,23,25,28,104,326,219,174,327,20,178,221,234]);
__d(function(g,r,_i2,a,m,e,d){'use strict';var n=Number.isNaN||function(n){return'number'==typeof n&&n!=n};function t(t,u){return t===u||!(!n(t)||!n(u))}function u(n,u){if(n.length!==u.length)return!1;for(var i=0;i<n.length;i++)if(!t(n[i],u[i]))return!1;return!0}m.exports=function(n,t){var i;void 0===t&&(t=u);var f,o=[],c=!1;return function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return c&&i===this&&t(u,o)||(f=n.apply(this,u),c=!0,i=this,o=u),f}}},326,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={keyExtractor:r(d[0]).keyExtractor,get VirtualizedList(){return r(d[1])},get VirtualizedSectionList(){return r(d[2])},get VirtualizedListContextResetter(){return r(d[3]).VirtualizedListContextResetter},get ViewabilityHelper(){return r(d[4])},get FillRateHelper(){return r(d[5])}}},327,[328,329,342,339,337,334]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.computeWindowedRenderLimits=function(t,f,o,l,s,u){var c=t.getItemCount(t.data);if(0===c)return{first:0,last:-1};var v=u.offset,p=u.velocity,h=u.visibleLength,M=u.zoomScale,y=void 0===M?1:M,b=Math.max(0,v),w=b+h,x=(o-1)*h,_=p>1?'after':p<-1?'before':'none',k=Math.max(0,b-.5*x),O=Math.max(0,w+.5*x);if(s.getCellMetricsApprox(c-1,t).offset*y<k)return{first:Math.max(0,c-1-f),last:c-1};var C=n([k,b,w,O],t,s,y),j=(0,e.default)(C,4),W=j[0],L=j[1],P=j[2],S=j[3];W=null==W?0:W,L=null==L?Math.max(0,W):L,S=null==S?c-1:S,P=null==P?Math.min(S,L+f-1):P;var z={first:L,last:P},A=i(l,z);for(;!(L<=W&&P>=S);){var E=A>=f,I=void 0,R=void 0;r.fixVirtualizeListCollapseWindowSize()?(I=L<=l.first,R=P>=l.last):(I=L<=l.first||L>l.last,R=P>=l.last||P<l.first);var B=L>W&&(!E||!I),D=P<S&&(!E||!R);if(E&&!B&&!D)break;!B||'after'===_&&D&&R||(I&&A++,L--),!D||'before'===_&&B&&I||(R&&A++,P++)}if(!(P>=L&&L>=0&&P<c&&L>=W&&P<=S&&L<=z.first&&P>=z.last))throw new Error('Bad window calculation '+JSON.stringify({first:L,last:P,itemCount:c,overscanFirst:W,overscanLast:S,visible:z}));return{first:L,last:P}},_e.elementsThatOverlapOffsets=n,_e.keyExtractor=function(t,e){if('object'==typeof t&&null!=(null==t?void 0:t.key))return t.key;if('object'==typeof t&&null!=(null==t?void 0:t.id))return t.id;return String(e)},_e.newRangeCount=i;var e=t(_r(d[1])),r=(function(t,e){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,f,o={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return o;if(i=e?n:r){if(i.has(t))return i.get(t);i.set(t,o)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((f=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(f.get||f.set)?i(o,l,f):o[l]=t[l]);return o})(t,e)})(_r(d[2]));function n(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e.getItemCount(e.data),f=[],o=0;o<t.length;o++)for(var l=t[o],s=0,u=i-1;s<=u;){var c=s+Math.floor((u-s)/2),v=r.getCellMetricsApprox(c,e),p=v.offset*n,h=(v.offset+v.length)*n;if(0===c&&l<p||0!==c&&l<=p)u=c-1;else{if(!(l>h)){f[o]=c;break}s=c+1}}return f}function i(t,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,t.last)-Math.max(e.first,t.first))}},328,[1,38,104]);
__d(function(g,_r,_i2,a,m,_e,d){var e=_r(d[0]),t=e(_r(d[1])),i=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),s=e(_r(d[6])),l=e(_r(d[7])),c=e(_r(d[8])),u=e(_r(d[9])),h=e(_r(d[10])),f=e(_r(d[11])),p=e(_r(d[12])),_=e(_r(d[13])),v=e(_r(d[14])),y=e(_r(d[15])),C=e(_r(d[16])),S=e(_r(d[17])),L=e(_r(d[18])),M=e(_r(d[19])),b=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?n:i){if(r.has(e))return r.get(e);r.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?r(s,l,o):s[l]=e[l]);return s})(e,t)})(_r(d[20])),I=_r(d[21]),w=_r(d[22]),R=["onContentSizeChange"];function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}var k=!1,T='';function V(e,t){return e*t/2}var O=(function(e){function y(e){var t,i,o,c,h,S,M;if((0,r.default)(this,y),h=this,S=y,M=[e],S=(0,l.default)(S),(c=(0,s.default)(h,x()?Reflect.construct(S,M||[],(0,l.default)(h).constructor):S.apply(h,M)))._getScrollMetrics=function(){return c._scrollMetrics},c._getOutermostParentListRef=function(){return c._isNestedWithSameOrientation()?c.context.getOutermostParentListRef():c},c._registerAsNestedChild=function(e){c._nestedChildLists.add(e.ref,e.cellKey),c._hasInteracted&&e.ref.recordInteraction()},c._unregisterAsNestedChild=function(e){c._nestedChildLists.remove(e.ref)},c._onUpdateSeparators=function(e,t){e.forEach(function(e){var i=null!=e&&c._cellRefs[e];i&&i.updateSeparatorProps(t)})},c._getSpacerKey=function(e){return e?'height':'width'},c._cellRefs={},c._listMetrics=new v.default,c._footerLength=0,c._hasTriggeredInitialScrollToIndex=!1,c._hasInteracted=!1,c._hasMore=!1,c._hasWarned={},c._headerLength=0,c._hiPriInProgress=!1,c._indicesToKeys=new Map,c._lastFocusedCellKey=null,c._nestedChildLists=new p.default,c._offsetFromParentVirtualizedList=0,c._pendingViewabilityUpdate=!1,c._prevParentOffset=0,c._scrollMetrics={dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},c._scrollRef=null,c._sentStartForContentLength=0,c._sentEndForContentLength=0,c._viewabilityTuples=[],c._captureScrollRef=function(e){c._scrollRef=e},c._defaultRenderScrollComponent=function(e){var t,i=e.onRefresh;if(c._isNestedWithSameOrientation()){e.onContentSizeChange;var r=(0,n.default)(e,R);return(0,w.jsx)(I.View,Object.assign({},r))}return i?((0,L.default)('boolean'==typeof e.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(null!=(t=e.refreshing)?t:'undefined')+'`'),(0,w.jsx)(I.ScrollView,Object.assign({},e,{refreshControl:null==e.refreshControl?(0,w.jsx)(I.RefreshControl,{refreshing:e.refreshing,onRefresh:i,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):(0,w.jsx)(I.ScrollView,Object.assign({},e))},c._onCellLayout=function(e,t,i){c._listMetrics.notifyCellLayout({cellIndex:i,cellKey:t,layout:e.nativeEvent.layout,orientation:c._orientation()})&&c._scheduleCellsToRenderUpdate(),c._triggerRemeasureForChildListsInCell(t),c._computeBlankness(),c._updateViewableItems(c.props,c.state.cellsAroundViewport)},c._onCellFocusCapture=function(e){c._lastFocusedCellKey=e,c._updateCellsToRender()},c._onCellUnmount=function(e){delete c._cellRefs[e],c._listMetrics.notifyCellUnmounted(e)},c._onLayout=function(e){c._isNestedWithSameOrientation()?c.measureLayoutRelativeToContainingList():c._scrollMetrics.visibleLength=c._selectLength(e.nativeEvent.layout),c.props.onLayout&&c.props.onLayout(e),c._scheduleCellsToRenderUpdate(),c._maybeCallOnEdgeReached()},c._onLayoutEmpty=function(e){c.props.onLayout&&c.props.onLayout(e)},c._onLayoutFooter=function(e){c._triggerRemeasureForChildListsInCell(c._getFooterCellKey()),c._footerLength=c._selectLength(e.nativeEvent.layout)},c._onLayoutHeader=function(e){c._headerLength=c._selectLength(e.nativeEvent.layout)},c._onContentSizeChange=function(e,t){c._listMetrics.notifyListContentLayout({layout:{width:e,height:t},orientation:c._orientation()}),c._maybeScrollToInitialScrollIndex(e,t),c.props.onContentSizeChange&&c.props.onContentSizeChange(e,t),c._scheduleCellsToRenderUpdate(),c._maybeCallOnEdgeReached()},c._convertParentScrollMetrics=function(e){var t=e.offset-c._offsetFromParentVirtualizedList,i=e.visibleLength,n=t-c._scrollMetrics.offset;return{visibleLength:i,contentLength:c._listMetrics.getContentLength(),offset:t,dOffset:n}},c._onScroll=function(e){c._nestedChildLists.forEach(function(t){t._onScroll(e)}),c.props.onScroll&&c.props.onScroll(e);var t=e.timeStamp,i=c._selectLength(e.nativeEvent.layoutMeasurement),n=c._selectLength(e.nativeEvent.contentSize),r=c._offsetFromScrollEvent(e),o=r-c._scrollMetrics.offset;if(c._isNestedWithSameOrientation()){if(0===c._listMetrics.getContentLength())return;var s=c._convertParentScrollMetrics({visibleLength:i,offset:r});i=s.visibleLength,n=s.contentLength,r=s.offset,o=s.dOffset}var l=c._scrollMetrics.timestamp?Math.max(1,t-c._scrollMetrics.timestamp):1,u=o/l;l>500&&c._scrollMetrics.dt>500&&n>5*i&&!c._hasWarned.perf&&((0,f.default)("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:l,prevDt:c._scrollMetrics.dt,contentLength:n}),c._hasWarned.perf=!0);var h=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;c._scrollMetrics={dt:l,dOffset:o,offset:r,timestamp:t,velocity:u,visibleLength:i,zoomScale:h},c.state.pendingScrollUpdateCount>0&&c.setState(function(e){return{pendingScrollUpdateCount:e.pendingScrollUpdateCount-1}}),c._updateViewableItems(c.props,c.state.cellsAroundViewport),c.props&&(c._maybeCallOnEdgeReached(),0!==u&&c._fillRateHelper.activate(),c._computeBlankness(),c._scheduleCellsToRenderUpdate())},c._onScrollBeginDrag=function(e){c._nestedChildLists.forEach(function(t){t._onScrollBeginDrag(e)}),c._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),c._hasInteracted=!0,c.props.onScrollBeginDrag&&c.props.onScrollBeginDrag(e)},c._onScrollEndDrag=function(e){c._nestedChildLists.forEach(function(t){t._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(c._scrollMetrics.velocity=c._selectOffset(t)),c._computeBlankness(),c.props.onScrollEndDrag&&c.props.onScrollEndDrag(e)},c._onMomentumScrollBegin=function(e){c._nestedChildLists.forEach(function(t){t._onMomentumScrollBegin(e)}),c.props.onMomentumScrollBegin&&c.props.onMomentumScrollBegin(e)},c._onMomentumScrollEnd=function(e){c._nestedChildLists.forEach(function(t){t._onMomentumScrollEnd(e)}),c._scrollMetrics.velocity=0,c._computeBlankness(),c.props.onMomentumScrollEnd&&c.props.onMomentumScrollEnd(e)},c._updateCellsToRender=function(){c._updateViewableItems(c.props,c.state.cellsAroundViewport),c.setState(function(e,t){var i=c._adjustCellsAroundViewport(t,e.cellsAroundViewport,e.pendingScrollUpdateCount),n=y._createRenderMask(t,i,c._getNonViewportRenderRegions(t));return i.first===e.cellsAroundViewport.first&&i.last===e.cellsAroundViewport.last&&n.equals(e.renderMask)?null:{cellsAroundViewport:i,renderMask:n}})},c._createViewToken=function(e,t,i){var n=i.data,r=(0,i.getItem)(n,e);return{index:e,item:r,key:y._keyExtractor(r,e,i),isViewable:t}},c._getNonViewportRenderRegions=function(e){if(!c._lastFocusedCellKey||!c._cellRefs[c._lastFocusedCellKey])return[];var t=c._cellRefs[c._lastFocusedCellKey].props.index,i=e.getItemCount(e.data);if(t>=i||y._getItemKey(e,t)!==c._lastFocusedCellKey)return[];for(var n=t,r=0,o=n-1;o>=0&&r<c._scrollMetrics.visibleLength;o--)n--,r+=c._listMetrics.getCellMetricsApprox(o,e).length;for(var s=t,l=0,u=s+1;u<i&&l<c._scrollMetrics.visibleLength;u++)s++,l+=c._listMetrics.getCellMetricsApprox(u,e).length;return[{first:n,last:s}]},c._checkProps(e),c._fillRateHelper=new _.default(c._listMetrics),c._updateCellsToRenderBatcher=new u.default(c._updateCellsToRender,null!=(t=c.props.updateCellsBatchingPeriod)?t:50),c.props.viewabilityConfigCallbackPairs)c._viewabilityTuples=c.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityHelper:new C.default(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}});else{var b=c.props,k=b.onViewableItemsChanged,T=b.viewabilityConfig;k&&c._viewabilityTuples.push({viewabilityHelper:new C.default(T),onViewableItemsChanged:k})}var V=y._initialRenderRegion(e),O=null!=(i=null==(o=c.props.maintainVisibleContentPosition)?void 0:o.minIndexForVisible)?i:0;return c.state={cellsAroundViewport:V,renderMask:y._createRenderMask(e,V),firstVisibleItemKey:c.props.getItemCount(c.props.data)>O?y._getItemKey(c.props,O):null,pendingScrollUpdateCount:null!=c.props.initialScrollIndex&&c.props.initialScrollIndex>0?1:0},c}return(0,c.default)(y,e),(0,o.default)(y,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,i=this.props.getItemCount(this.props.data)-1;if(!(i<0)){var n=this._listMetrics.getCellMetricsApprox(i,this.props),r=Math.max(0,n.offset+n.length+this._footerLength-this._scrollMetrics.visibleLength);this.scrollToOffset({animated:t,offset:r})}}},{key:"scrollToIndex",value:function(e){var t=this.props,i=t.data,n=t.getItemCount,r=t.getItemLayout,o=t.onScrollToIndexFailed,s=e.animated,l=e.index,c=e.viewOffset,u=e.viewPosition;if((0,L.default)(l>=0,`scrollToIndex out of range: requested index ${l} but minimum is 0`),(0,L.default)(n(i)>=1,`scrollToIndex out of range: item length ${n(i)} but minimum is 1`),(0,L.default)(l<n(i),`scrollToIndex out of range: requested index ${l} is out of 0 to ${n(i)-1}`),!r&&l>this._listMetrics.getHighestMeasuredCellIndex())return(0,L.default)(!!o,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void o({averageItemLength:this._listMetrics.getAverageCellLength(),highestMeasuredFrameIndex:this._listMetrics.getHighestMeasuredCellIndex(),index:l});var h=this._listMetrics.getCellMetricsApprox(Math.floor(l),this.props),f=Math.max(0,this._listMetrics.getCellOffsetApprox(l,this.props)-(u||0)*(this._scrollMetrics.visibleLength-h.length))-(c||0);this.scrollToOffset({offset:f,animated:s})}},{key:"scrollToItem",value:function(e){for(var t=e.item,i=this.props,n=i.data,r=i.getItem,o=(0,i.getItemCount)(n),s=0;s<o;s++)if(r(n,s)===t){this.scrollToIndex(Object.assign({},e,{index:s}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,i=e.offset,n=this._scrollRef;if(null!=n)if(null!=n.scrollTo){var r=this._orientation(),o=r.horizontal,s=r.rtl;o&&s&&!this._listMetrics.hasContentLength()?console.warn('scrollToOffset may not be called in RTL before content is laid out'):n.scrollTo(Object.assign({animated:t},this._scrollToParamsFromOffset(i)))}else console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.")}},{key:"_scrollToParamsFromOffset",value:function(e){var t=this._orientation(),i=t.horizontal,n=t.rtl;if(i&&n){var r=this._listMetrics.cartesianOffset(e+this._scrollMetrics.visibleLength);return i?{x:r}:{y:r}}return i?{x:e}:{y:e}}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach(function(e){e.recordInteraction()}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():(0,I.findNodeHandle)(this._scrollRef)}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"setNativeProps",value:function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||'rootList'}},{key:"hasMore",value:function(){return this._hasMore}},{key:"_checkProps",value:function(e){var t=e.onScroll,i=e.windowSize,n=e.getItemCount,r=e.data,o=e.initialScrollIndex;(0,L.default)(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),(0,L.default)((0,_r(d[23]).windowSizeOrDefault)(i)>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),(0,L.default)(n,'VirtualizedList: The "getItemCount" prop must be provided');var s=n(r);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||s>0&&o>=s)||this._hasWarned.initialScrollIndex||(console.warn(`initialScrollIndex "${o}" is not valid (list has ${s} items)`),this._hasWarned.initialScrollIndex=!0)}},{key:"_adjustCellsAroundViewport",value:function(e,t,i){var n,r=e.data,o=e.getItemCount,s=(0,_r(d[23]).onEndReachedThresholdOrDefault)(e.onEndReachedThreshold),l=this._scrollMetrics,c=l.offset,u=l.visibleLength,h=this._listMetrics.getContentLength(),f=h-u-c;if(u<=0||h<=0)return t.last>=o(r)?y._constrainToItemCount(t,e):t;if(e.disableVirtualization){var p=f<s*u?(0,_r(d[23]).maxToRenderPerBatchOrDefault)(e.maxToRenderPerBatch):0;n={first:0,last:Math.min(t.last+p,o(r)-1)}}else{if(i>0)return t.last>=o(r)?y._constrainToItemCount(t,e):t;n=(0,_r(d[24]).computeWindowedRenderLimits)(e,(0,_r(d[23]).maxToRenderPerBatchOrDefault)(e.maxToRenderPerBatch),(0,_r(d[23]).windowSizeOrDefault)(e.windowSize),t,this._listMetrics,this._scrollMetrics),(0,L.default)(n.last<o(r),'computeWindowedRenderLimits() should return range in-bounds')}if(this._nestedChildLists.size()>0){var _=this._findFirstChildWithMore(n.first,n.last);n.last=null!=_?_:n.last}return n}},{key:"_findFirstChildWithMore",value:function(e,t){for(var i=e;i<=t;i++){var n=this._indicesToKeys.get(i);if(null!=n&&this._nestedChildLists.anyInCell(n,function(e){return e.hasMore()}))return i}return null}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey})}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose(),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()}},{key:"_pushCells",value:function(e,t,i,n,r,o){var s,l=this,c=this.props,u=c.CellRendererComponent,h=c.ItemSeparatorComponent,f=c.ListHeaderComponent,p=c.ListItemComponent,_=c.data,v=c.debug,C=c.getItem,L=c.getItemCount,M=c.getItemLayout,b=c.horizontal,I=c.renderItem,R=f?1:0,x=L(_)-1;r=Math.min(x,r);for(var k=function(){var n=C(_,T),r=y._keyExtractor(n,T,l.props);l._indicesToKeys.set(T,r),i.has(T+R)&&t.push(e.length);var c=null==M||v||l._fillRateHelper.enabled();e.push((0,w.jsx)(S.default,Object.assign({CellRendererComponent:u,ItemSeparatorComponent:T<x?h:void 0,ListItemComponent:p,cellKey:r,horizontal:b,index:T,inversionStyle:o,item:n,prevCellKey:s,onUpdateSeparators:l._onUpdateSeparators,onCellFocusCapture:l._onCellFocusCapture,onUnmount:l._onCellUnmount,ref:function(e){l._cellRefs[r]=e},renderItem:I},c&&{onCellLayout:l._onCellLayout}),r)),s=r},T=n;T<=r;T++)k()}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal))}},{key:"render",value:function(){var e,t=this;this._checkProps(this.props);var n=this.props,r=n.ListEmptyComponent,o=n.ListFooterComponent,s=n.ListHeaderComponent,l=this.props,c=l.data,u=l.horizontal,f=this.props.inverted?(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal)?E.horizontallyInverted:E.verticallyInverted:null,p=[],_=new Set(this.props.stickyHeaderIndices),v=[];if(s){_.has(0)&&v.push(0);var y=b.isValidElement(s)?s:(0,w.jsx)(s,{});p.push((0,w.jsx)(_r(d[25]).VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',children:(0,w.jsx)(I.View,{collapsable:!1,onLayout:this._onLayoutHeader,style:I.StyleSheet.compose(f,this.props.ListHeaderComponentStyle),children:y})},"$header"))}var C=this.props.getItemCount(c);if(0===C&&r){var S=b.isValidElement(r)?r:(0,w.jsx)(r,{});p.push((0,w.jsx)(_r(d[25]).VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-empty',children:b.cloneElement(S,{onLayout:function(e){t._onLayoutEmpty(e),S.props.onLayout&&S.props.onLayout(e)},style:I.StyleSheet.compose(f,S.props.style)})},"$empty"))}if(C>0){k=!1,T='';var L=this._getSpacerKey(!u),M=this.state.renderMask.enumerateRegions(),R=M[M.length-1],x=null!=R&&R.isSpacer?R:null;for(var V of M)if(V.isSpacer){if(this.props.disableVirtualization)continue;var O=V===x&&!this.props.getItemLayout?(0,h.default)(V.first-1,V.last,this._listMetrics.getHighestMeasuredCellIndex()):V.last,z=this._listMetrics.getCellMetricsApprox(V.first,this.props),P=this._listMetrics.getCellMetricsApprox(O,this.props),F=P.offset+P.length-z.offset;p.push((0,w.jsx)(I.View,{style:(0,i.default)({},L,F)},`$spacer-${V.first}`))}else this._pushCells(p,v,_,V.first,V.last,f);!this._hasWarned.keys&&k&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",T),this._hasWarned.keys=!0)}if(o){var A=b.isValidElement(o)?o:(0,w.jsx)(o,{});p.push((0,w.jsx)(_r(d[25]).VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),children:(0,w.jsx)(I.View,{onLayout:this._onLayoutFooter,style:I.StyleSheet.compose(f,this.props.ListFooterComponentStyle),children:A})},"$footer"))}var B=Object.assign({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:null!=(e=this.props.scrollEventThrottle)?e:1e-4,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:v,style:f?[f,this.props.style]:this.props.style,isInvertedVirtualizedList:this.props.inverted,maintainVisibleContentPosition:null!=this.props.maintainVisibleContentPosition?Object.assign({},this.props.maintainVisibleContentPosition,{minIndexForVisible:this.props.maintainVisibleContentPosition.minIndexForVisible+(this.props.ListHeaderComponent?1:0)}):void 0});this._hasMore=this.state.cellsAroundViewport.last<C-1;var D=(0,w.jsx)(_r(d[25]).VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild},children:b.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(B),{ref:this._captureScrollRef},p)});return this.props.debug?(0,w.jsxs)(I.View,{style:E.debug,children:[D,this._renderDebugOverlay()]}):D}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.data,n=t.extraData,r=t.getItemLayout;i===e.data&&n===e.extraData||this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.resetViewableIndices()});var o=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),o&&(this._hiPriInProgress=!1),null!=r&&this._maybeCallOnEdgeReached()}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){this._nestedChildLists.forEachInCell(e,function(e){e.measureLayoutRelativeToContainingList()})}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),function(t,i,n,r){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:i}),e._listMetrics.notifyListContentLayout({layout:{width:n,height:r},orientation:e._orientation()});var o=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==o.visibleLength||e._scrollMetrics.offset!==o.offset)&&(e._scrollMetrics.visibleLength=o.visibleLength,e._scrollMetrics.offset=o.offset,e._nestedChildLists.forEach(function(e){e.measureLayoutRelativeToContainingList()}))},function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn('measureLayoutRelativeToContainingList threw an error',e.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+'-footer'}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._listMetrics.getContentLength()||1),t=[],i=this.props.getItemCount(this.props.data),n=0;n<i;n++){var r=this._listMetrics.getCellMetricsApprox(n,this.props);r.isMounted&&t.push(r)}var o=this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,s=this._listMetrics.getCellMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=s.offset+s.length-o,c=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return(0,w.jsxs)(I.View,{style:[E.debugOverlayBase,E.debugOverlay],children:[t.map(function(t,i){return(0,w.jsx)(I.View,{style:[E.debugOverlayBase,E.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]},'f'+i)}),(0,w.jsx)(I.View,{style:[E.debugOverlayBase,E.debugOverlayFrameLast,{top:o*e,height:l*e}]}),(0,w.jsx)(I.View,{style:[E.debugOverlayBase,E.debugOverlayFrameVis,{top:c*e,height:u*e}]})]})}},{key:"_selectLength",value:function(e){return(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){var t=e.x,i=e.y;return this._orientation().horizontal?t:i}},{key:"_orientation",value:function(){return{horizontal:(0,_r(d[23]).horizontalOrDefault)(this.props.horizontal),rtl:I.I18nManager.isRTL}}},{key:"_maybeCallOnEdgeReached",value:function(){var e=this.props,t=e.data,i=e.getItemCount,n=e.onStartReached,r=e.onStartReachedThreshold,o=e.onEndReached,s=e.onEndReachedThreshold;if(this._listMetrics.hasContentLength()&&0!==this._scrollMetrics.visibleLength&&!(this.state.pendingScrollUpdateCount>0)){var l=this._scrollMetrics,c=l.visibleLength,u=l.offset,h=u,f=this._listMetrics.getContentLength()-c-u;h<.001&&(h=0),f<.001&&(f=0);var p=h<=(null!=r?r*c:2),_=f<=(null!=s?s*c:2);o&&this.state.cellsAroundViewport.last===i(t)-1&&_&&this._listMetrics.getContentLength()!==this._sentEndForContentLength&&(this._sentEndForContentLength=this._listMetrics.getContentLength(),o({distanceFromEnd:f})),null!=n&&0===this.state.cellsAroundViewport.first&&p&&this._listMetrics.getContentLength()!==this._sentStartForContentLength&&(this._sentStartForContentLength=this._listMetrics.getContentLength(),n({distanceFromStart:h})),p||(this._sentStartForContentLength=0),_||(this._sentEndForContentLength=0)}}},{key:"_maybeScrollToInitialScrollIndex",value:function(e,t){e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:(0,M.default)(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0)}},{key:"unstable_onScroll",value:function(e){this._onScroll(e)}},{key:"_offsetFromScrollEvent",value:function(e){var t=e.nativeEvent,i=t.contentOffset,n=t.contentSize,r=t.layoutMeasurement,o=this._orientation(),s=o.horizontal,l=o.rtl;return s&&l?this._selectLength(n)-(this._selectOffset(i)+this._selectLength(r)):this._selectOffset(i)}},{key:"_scheduleCellsToRenderUpdate",value:function(){if((this._listMetrics.getAverageCellLength()>0||null!=this.props.getItemLayout)&&this._shouldRenderWithPriority()&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose(),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_shouldRenderWithPriority",value:function(){var e=this.state.cellsAroundViewport,t=e.first,i=e.last,n=this._scrollMetrics,r=n.offset,o=n.visibleLength,s=n.velocity,l=this.props.getItemCount(this.props.data),c=!1,u=(0,_r(d[23]).onStartReachedThresholdOrDefault)(this.props.onStartReachedThreshold),h=(0,_r(d[23]).onEndReachedThresholdOrDefault)(this.props.onEndReachedThreshold);if(t>0){var f=r-this._listMetrics.getCellMetricsApprox(t,this.props).offset;c=f<0||s<-2&&f<V(u,o)}if(!c&&i>=0&&i<l-1){var p=this._listMetrics.getCellMetricsApprox(i,this.props).offset-(r+o);c=p<0||s>2&&p<V(h,o)}return c}},{key:"unstable_onScrollBeginDrag",value:function(e){this._onScrollBeginDrag(e)}},{key:"unstable_onScrollEndDrag",value:function(e){this._onScrollEndDrag(e)}},{key:"unstable_onMomentumScrollBegin",value:function(e){this._onMomentumScrollBegin(e)}},{key:"unstable_onMomentumScrollEnd",value:function(e){this._onMomentumScrollEnd(e)}},{key:"__getListMetrics",value:function(){return this._listMetrics}},{key:"_updateViewableItems",value:function(e,t){var i=this;this.state.pendingScrollUpdateCount>0||this._viewabilityTuples.forEach(function(n){n.viewabilityHelper.onUpdate(e,i._scrollMetrics.offset,i._scrollMetrics.visibleLength,i._listMetrics,i._createViewToken,n.onViewableItemsChanged,t)})}}],[{key:"_findItemIndexWithKey",value:function(e,t,i){var n=e.getItemCount(e.data);if(null!=i&&i>=0&&i<n&&y._getItemKey(e,i)===t)return i;for(var r=0;r<n;r++){if(y._getItemKey(e,r)===t)return r}return null}},{key:"_getItemKey",value:function(e,t){var i=e.getItem(e.data,t);return y._keyExtractor(i,t,e)}},{key:"_createRenderMask",value:function(e,i,n){var r=e.getItemCount(e.data);(0,L.default)(i.first>=0&&i.last>=i.first-1&&i.last<r,`Invalid cells around viewport "[${i.first}, ${i.last}]" was passed to VirtualizedList._createRenderMask`);var o=new(_r(d[26]).CellRenderMask)(r);if(r>0){var s=[i].concat((0,t.default)(null!=n?n:[]));for(var l of s)o.addCells(l);if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var c=y._initialRenderRegion(e);o.addCells(c)}var u=new Set(e.stickyHeaderIndices);y._ensureClosestStickyHeader(e,u,o,i.first)}return o}},{key:"_initialRenderRegion",value:function(e){var t,i=e.getItemCount(e.data),n=Math.max(0,Math.min(i-1,Math.floor(null!=(t=e.initialScrollIndex)?t:0)));return{first:n,last:Math.min(i,n+(0,_r(d[23]).initialNumToRenderOrDefault)(e.initialNumToRender))-1}}},{key:"_ensureClosestStickyHeader",value:function(e,t,i,n){for(var r=e.ListHeaderComponent?1:0,o=n-1;o>=0;o--)if(t.has(o+r)){i.addCells({first:o,last:o});break}}},{key:"getDerivedStateFromProps",value:function(e,t){var i,n,r=e.getItemCount(e.data);if(r===t.renderMask.numCells())return t;var o=null,s=t.firstVisibleItemKey,l=null!=(i=null==(n=e.maintainVisibleContentPosition)?void 0:n.minIndexForVisible)?i:0,c=e.getItemCount(e.data)>l?y._getItemKey(e,l):null;if(null!=e.maintainVisibleContentPosition&&null!=s&&null!=c)if(c!==s){var u=r-t.renderMask.numCells()+l,h=y._findItemIndexWithKey(e,s,u);o=null!=h?h-l:null}else o=null;var f=y._constrainToItemCount(null!=o?{first:t.cellsAroundViewport.first+o,last:t.cellsAroundViewport.last+o}:t.cellsAroundViewport,e);return{cellsAroundViewport:f,renderMask:y._createRenderMask(e,f),firstVisibleItemKey:c,pendingScrollUpdateCount:null!=o?t.pendingScrollUpdateCount+1:t.pendingScrollUpdateCount}}},{key:"_constrainToItemCount",value:function(e,t){var i=t.getItemCount(t.data)-1,n=(0,_r(d[23]).maxToRenderPerBatchOrDefault)(t.maxToRenderPerBatch),r=Math.max(0,i-n);return{first:(0,h.default)(0,e.first,r),last:Math.min(i,e.last)}}},{key:"_keyExtractor",value:function(e,t,i){if(null!=i.keyExtractor)return i.keyExtractor(e,t);var n=(0,_r(d[24]).keyExtractor)(e,t);return n===String(t)&&(k=!0,e.type&&e.type.displayName&&(T=e.type.displayName)),n}}])})(y.default);O.contextType=_r(d[25]).VirtualizedListContext;var E=I.StyleSheet.create({verticallyInverted:'android'===I.Platform.OS?{transform:[{scale:-1}]}:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});m.exports=O},329,[1,6,194,135,12,13,23,25,28,330,331,332,333,334,335,336,337,338,20,45,174,2,219,340,328,339,341]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]),e=t(_r(d[1])),n=t(_r(d[2])),r=_r(d[3]),i=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,l,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(i=e?r:n){if(i.has(t))return i.get(t);i.set(t,u)}for(var o in t)"default"!==o&&{}.hasOwnProperty.call(t,o)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,o))&&(l.get||l.set)?i(u,o,l):u[o]=t[o]);return u})(t,e)})(_r(d[4]));var l=(function(){return(0,n.default)(function t(n,r){(0,e.default)(this,t),this._delay=r,this._callback=n},[{key:"dispose",value:function(){this._taskHandle&&(this._taskHandle.cancel(),this._taskHandle=null)}},{key:"schedule",value:function(){var t=this;if(!this._taskHandle){var e=function(){t._taskHandle=null,t._callback()},n=setTimeout(i.disableInteractionManagerInBatchinator()?e:function(){t._taskHandle=r.InteractionManager.runAfterInteractions(e)},this._delay);this._taskHandle={cancel:function(){return clearTimeout(n)}}}}}])})();m.exports=l},330,[1,12,13,2,104]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){return n<t?t:n>u?u:n}},331,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){var n;return(n=console).log.apply(n,arguments)}},332,[]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=l(r(d[1])),t=l(r(d[2])),o=l(r(d[3]));e.default=(function(){return(0,t.default)(function l(){(0,n.default)(this,l),this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map},[{key:"add",value:function(l,n){var t;(0,o.default)(!this._childrenToCellKey.has(l),'Trying to add already present child list');var h=null!=(t=this._cellKeyToChildren.get(n))?t:new Set;h.add(l),this._cellKeyToChildren.set(n,h),this._childrenToCellKey.set(l,n)}},{key:"remove",value:function(l){var n=this._childrenToCellKey.get(l);(0,o.default)(null!=n,'Trying to remove non-present child list'),this._childrenToCellKey.delete(l);var t=this._cellKeyToChildren.get(n);(0,o.default)(t,'_cellKeyToChildren should contain cellKey'),t.delete(l),0===t.size&&this._cellKeyToChildren.delete(n)}},{key:"forEach",value:function(l){for(var n of this._cellKeyToChildren.values())for(var t of n)l(t)}},{key:"forEachInCell",value:function(l,n){var t,o=null!=(t=this._cellKeyToChildren.get(l))?t:[];for(var h of o)n(h)}},{key:"anyInCell",value:function(l,n){var t,o=null!=(t=this._cellKeyToChildren.get(l))?t:[];for(var h of o)if(n(h))return!0;return!1}},{key:"size",value:function(){return this._childrenToCellKey.size}}])})()},333,[1,12,13,20]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),l=(t(r(d[3])),(0,s.default)(function t(){(0,n.default)(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0})),_=[],o=10,h=null,u=(function(){return(0,s.default)(function t(s){(0,n.default)(this,t),this._anyBlankStartTime=null,this._enabled=!1,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._listMetrics=s,this._enabled=(h||0)>Math.random(),this._resetData()},[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<o)this._resetData();else{var s=g.performance.now()-t,n=Object.assign({},this._info,{total_time_spent:s});_.forEach(function(t){return t(n)}),this._resetData()}}}},{key:"computeBlankness",value:function(t,s,n){if(!this._enabled||0===t.getItemCount(t.data)||s.last<s.first||null==this._samplesStartTime)return 0;var l=n.dOffset,_=n.offset,o=n.velocity,h=n.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(l));var u=Math.round(1e3*Math.abs(o)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,k=s.first,p=this._listMetrics.getCellMetrics(k,t);k<=s.last&&(!p||!p.isMounted);)p=this._listMetrics.getCellMetrics(k,t),k++;p&&k>0&&(c=Math.min(h,Math.max(0,p.offset-_)));for(var y=0,b=s.last,M=this._listMetrics.getCellMetrics(b,t);b>=s.first&&(!M||!M.isMounted);)M=this._listMetrics.getCellMetrics(b,t),b--;if(M&&b<t.getItemCount(t.data)-1){var v=M.offset+M.length;y=Math.min(h,Math.max(0,_+h-v))}var S=Math.round(c+y),T=S/h;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=S,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),_.push(t),{remove:function(){_=_.filter(function(s){return t!==s})}}}},{key:"setSampleRate",value:function(t){h=t}},{key:"setMinSampleCount",value:function(t){o=t}}])})();m.exports=u},334,[1,13,12,335]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2])),s=t(r(d[3]));e.default=(function(){return(0,l.default)(function t(){(0,n.default)(this,t),this._averageCellLength=0,this._cellMetrics=new Map,this._highestMeasuredCellIndex=0,this._measuredCellsLength=0,this._measuredCellsCount=0,this._orientation={horizontal:!1,rtl:!1}},[{key:"notifyCellLayout",value:function(t){var n=t.cellIndex,l=t.cellKey,s=t.orientation,o=t.layout;this._invalidateIfOrientationChanged(s);var h={index:n,length:this._selectLength(o),isMounted:!0,offset:this.flowRelativeOffset(o)},u=this._cellMetrics.get(l);if(u&&h.offset===u.offset&&h.length===u.length)return u.isMounted=!0,!1;if(u){var f=h.length-u.length;this._measuredCellsLength+=f}else this._measuredCellsLength+=h.length,this._measuredCellsCount+=1;return this._averageCellLength=this._measuredCellsLength/this._measuredCellsCount,this._cellMetrics.set(l,h),this._highestMeasuredCellIndex=Math.max(this._highestMeasuredCellIndex,n),!0}},{key:"notifyCellUnmounted",value:function(t){var n=this._cellMetrics.get(t);n&&(n.isMounted=!1)}},{key:"notifyListContentLayout",value:function(t){var n=t.orientation,l=t.layout;this._invalidateIfOrientationChanged(n),this._contentLength=this._selectLength(l)}},{key:"getAverageCellLength",value:function(){return this._averageCellLength}},{key:"getHighestMeasuredCellIndex",value:function(){return this._highestMeasuredCellIndex}},{key:"getCellMetricsApprox",value:function(t,n){var l=this.getCellMetrics(t,n);if(l&&l.index===t)return l;var o,h=this.getHighestMeasuredCellIndex();if(h<t){var u=this.getCellMetrics(h,n);u&&(o=u.offset+u.length+this._averageCellLength*(t-h-1))}null==o&&(o=this._averageCellLength*t);var f=n.data,c=n.getItemCount;return(0,s.default)(t>=0&&t<c(f),'Tried to get frame for out of range index '+t),{length:this._averageCellLength,offset:o,index:t,isMounted:!1}}},{key:"getCellMetrics",value:function(t,n){var l,o=n.data,h=n.getItem,u=n.getItemCount,f=n.getItemLayout;(0,s.default)(t>=0&&t<u(o),'Tried to get metrics for out of range cell index '+t);var c=null!=(l=n.keyExtractor)?l:r(d[4]).keyExtractor,_=this._cellMetrics.get(c(h(o,t),t));if(_&&_.index===t)return _;if(f){var v=f(o,t);return{index:t,length:v.length,offset:v.offset,isMounted:!0}}return null}},{key:"getCellOffsetApprox",value:function(t,n){if(Number.isInteger(t))return this.getCellMetricsApprox(t,n).offset;var l=this.getCellMetricsApprox(Math.floor(t),n),s=t-Math.floor(t);return l.offset+s*l.length}},{key:"getContentLength",value:function(){var t;return null!=(t=this._contentLength)?t:0}},{key:"hasContentLength",value:function(){return null!=this._contentLength}},{key:"flowRelativeOffset",value:function(t,n){var l=this._orientation,o=l.horizontal,h=l.rtl;if(o&&h){var u=null!=n?n:this._contentLength;return(0,s.default)(null!=u,'ListMetricsAggregator must be notified of list content layout before resolving offsets'),u-(this._selectOffset(t)+this._selectLength(t))}return this._selectOffset(t)}},{key:"cartesianOffset",value:function(t){var n=this._orientation,l=n.horizontal,o=n.rtl;return l&&o?((0,s.default)(null!=this._contentLength,'ListMetricsAggregator must be notified of list content layout before resolving offsets'),this._contentLength-t):t}},{key:"_invalidateIfOrientationChanged",value:function(t){t.rtl!==this._orientation.rtl&&this._cellMetrics.clear(),t.horizontal!==this._orientation.horizontal&&(this._averageCellLength=0,this._highestMeasuredCellIndex=0,this._measuredCellsLength=0,this._measuredCellsCount=0),this._orientation=t}},{key:"_selectLength",value:function(t){var n=t.width,l=t.height;return this._orientation.horizontal?n:l}},{key:"_selectOffset",value:function(t){var n=t.x,l=t.y;return this._orientation.horizontal?n:l}}])})()},335,[1,12,13,20,328]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),n=t(_r(d[2])),r=t(_r(d[3])),u=t(_r(d[4])),o=t(_r(d[5])),i=t(_r(d[6])),f=t(_r(d[7])),s=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var u,o,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(u=e?r:n){if(u.has(t))return u.get(t);u.set(t,i)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(o.get||o.set)?u(i,f,o):i[f]=t[f]);return i})(t,e)})(_r(d[8]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t,e,n,r){var i=(0,o.default)((0,u.default)(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}_e.default=(function(t){function o(t){var n,i,f,s;return(0,e.default)(this,o),i=this,f=o,s=[t],f=(0,u.default)(f),(n=(0,r.default)(i,c()?Reflect.construct(f,s||[],(0,u.default)(i).constructor):f.apply(i,s)))._inAsyncStateUpdate=!1,n._installSetStateHooks(),n}return(0,i.default)(o,t),(0,n.default)(o,[{key:"setState",value:function(t,e){var n=this;'function'==typeof t?l(o,"setState",this,3)([function(e,r){var u;n._inAsyncStateUpdate=!0;try{u=t(e,r)}catch(t){throw t}finally{n._inAsyncStateUpdate=!1}return u},e]):l(o,"setState",this,3)([t,e])}},{key:"_installSetStateHooks",value:function(){var t=this,e=this.props,n=this.state;Object.defineProperty(this,'props',{get:function(){return(0,f.default)(!t._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),e},set:function(t){e=t}}),Object.defineProperty(this,'state',{get:function(){return(0,f.default)(!t._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n},set:function(t){n=t}})}}])})(s.PureComponent)},336,[1,12,13,23,25,26,28,20,174]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=t(r(d[1])),s=t(r(d[2])),o=t(r(d[3])),l=(t(r(d[4])),(function(){return(0,o.default)(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};(0,s.default)(this,t),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=n},[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(t,n,s,o,l){var c=t.getItemCount(t.data),h=this._config,f=h.itemVisiblePercentThreshold,v=h.viewAreaCoveragePercentThreshold,_=null!=v,w=_?v:f;r(d[5])(null!=w&&null!=f!=(null!=v),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var I=[];if(0===c)return I;var b=-1,y=l||{first:0,last:c-1},p=y.first,M=y.last;if(M>=c)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:l,itemCount:c})),[];for(var C=p;C<=M;C++){var T=o.getCellMetrics(C,t);if(T){var k=Math.floor(T.offset-n),V=Math.floor(k+T.length);if(k<s&&V>0)b=C,u(_,w,k,V,s,T.length)&&I.push(C);else if(b>=0)break}}return I}},{key:"onUpdate",value:function(t,n,s,o,l,u,c){var h=this,f=t.getItemCount(t.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==f&&o.getCellMetrics(0,t)){var v=[];if(f&&(v=this.computeViewableItems(t,n,s,o,c)),this._viewableIndices.length!==v.length||!this._viewableIndices.every(function(t,n){return t===v[n]}))if(this._viewableIndices=v,this._config.minimumViewTime){var _=setTimeout(function(){h._timers.delete(_),h._onUpdateSync(t,v,u,l)},this._config.minimumViewTime);this._timers.add(_)}else this._onUpdateSync(t,v,u,l)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(t,s,o,l){var u=this;s=s.filter(function(t){return u._viewableIndices.includes(t)});var c=this._viewableItems,h=new Map(s.map(function(n){var s=l(n,!0,t);return[s.key,s]})),f=[];for(var v of h){var _=(0,n.default)(v,2),w=_[0],I=_[1];c.has(w)||f.push(I)}for(var b of c){var y=(0,n.default)(b,2),p=y[0],M=y[1];h.has(p)||f.push(Object.assign({},M,{isViewable:!1}))}f.length>0&&(this._viewableItems=h,o({viewableItems:Array.from(h.values()),changed:f,viewabilityConfig:this._config}))}}])})());function u(t,n,s,o,l,u){if(h(s,o,l))return!0;var f=c(s,o,l);return 100*(t?f/l:f/u)>=n}function c(t,n,s){var o=Math.min(n,s)-Math.max(t,0);return Math.max(0,o)}function h(t,n,s){return t>=0&&n<=s&&n>t}m.exports=l},337,[1,38,12,13,335,20]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4])),l=e(_r(d[5])),s=e(_r(d[6])),i=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,s)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?n(s,i,l):s[i]=e[i]);return s})(e,t)})(_r(d[7])),p=_r(d[8]),u=_r(d[9]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}_e.default=(function(e){function h(){var e,r,l,s;(0,t.default)(this,h);for(var i=arguments.length,p=new Array(i),u=0;u<i;u++)p[u]=arguments[u];return r=this,l=h,s=[].concat(p),l=(0,n.default)(l),(e=(0,o.default)(r,c()?Reflect.construct(l,s||[],(0,n.default)(r).constructor):l.apply(r,s))).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,r=t.cellKey,o=t.prevCellKey;e.props.onUpdateSeparators([r,o],{highlighted:!0})},unhighlight:function(){var t=e.props,r=t.cellKey,o=t.prevCellKey;e.props.onUpdateSeparators([r,o],{highlighted:!1})},updateProps:function(t,r){var o=e.props,n=o.cellKey,l=o.prevCellKey;e.props.onUpdateSeparators(['leading'===t?l:n],r)}},e._onLayout=function(t){null==e.props.onCellLayout||e.props.onCellLayout(t,e.props.cellKey,e.props.index)},e._onCellFocusCapture=function(t){null==e.props.onCellFocusCapture||e.props.onCellFocusCapture(e.props.cellKey)},e}return(0,l.default)(h,e),(0,r.default)(h,[{key:"updateSeparatorProps",value:function(e){this.setState(function(t){return{separatorProps:Object.assign({},t.separatorProps,e)}})}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,r,o){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?(0,u.jsx)(t,{item:r,index:o,separators:this._separators}):e?e({item:r,index:o,separators:this._separators}):void(0,s.default)(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}},{key:"render",value:function(){var e=this.props,t=e.CellRendererComponent,r=e.ItemSeparatorComponent,o=e.ListItemComponent,n=e.cellKey,l=e.horizontal,s=e.item,c=e.index,h=e.inversionStyle,y=e.onCellLayout,v=e.renderItem,C=this._renderElement(v,o,s,c),_=i.isValidElement(r)?r:r&&(0,u.jsx)(r,Object.assign({},this.state.separatorProps)),P=h?l?[f.rowReverse,h]:[f.columnReverse,h]:l?[f.row,h]:h,w=t?(0,u.jsxs)(t,Object.assign({cellKey:n,index:c,item:s,style:P,onFocusCapture:this._onCellFocusCapture},y&&{onLayout:this._onLayout},{children:[C,_]})):(0,u.jsxs)(p.View,Object.assign({style:P,onFocusCapture:this._onCellFocusCapture},y&&{onLayout:this._onLayout},{children:[C,_]}));return(0,u.jsx)(_r(d[10]).VirtualizedListCellContextProvider,{cellKey:this.props.cellKey,children:w})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.item!==t.separatorProps.leadingItem?{separatorProps:Object.assign({},t.separatorProps,{leadingItem:e.item})}:null}}])})(i.PureComponent);var f=p.StyleSheet.create({row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'}})},338,[1,12,13,23,25,28,20,174,2,219,339]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.VirtualizedListCellContextProvider=function(t){var n=t.cellKey,l=t.children,o=(0,e.useContext)(i),u=(0,e.useMemo)(function(){return null==o?null:Object.assign({},o,{cellKey:n})},[o,n]);return(0,r.jsx)(i.Provider,{value:u,children:l})},_e.VirtualizedListContext=void 0,_e.VirtualizedListContextProvider=function(t){var n=t.children,l=t.value,o=(0,e.useMemo)(function(){return{cellKey:null,getScrollMetrics:l.getScrollMetrics,horizontal:l.horizontal,getOutermostParentListRef:l.getOutermostParentListRef,registerAsNestedChild:l.registerAsNestedChild,unregisterAsNestedChild:l.unregisterAsNestedChild}},[l.getScrollMetrics,l.horizontal,l.getOutermostParentListRef,l.registerAsNestedChild,l.unregisterAsNestedChild]);return(0,r.jsx)(i.Provider,{value:o,children:n})},_e.VirtualizedListContextResetter=function(e){var t=e.children;return(0,r.jsx)(i.Provider,{value:null,children:t})};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(n=t?i:r){if(n.has(e))return n.get(e);n.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?n(o,u,l):o[u]=e[u]);return o})(e,t)})(_r(d[0])),t=e,r=_r(d[1]);var i=_e.VirtualizedListContext=t.createContext(null)},339,[174,219]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.horizontalOrDefault=function(e){return null!=e&&e},_e.initialNumToRenderOrDefault=function(e){return null!=e?e:10},_e.maxToRenderPerBatchOrDefault=function(e){return null!=e?e:10},_e.onEndReachedThresholdOrDefault=function(e){return null!=e?e:2},_e.onStartReachedThresholdOrDefault=function(e){return null!=e?e:2},_e.windowSizeOrDefault=function(e){return null!=e?e:21};!(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;(function(e,n){if(!n&&e&&e.__esModule)return e;var u,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(u=n?r:t){if(u.has(e))return u.get(e);u.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(l,f,o):l[f]=e[f])})(e,n)})(_r(d[0]))},340,[174]);
__d(function(g,r,_i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.CellRenderMask=void 0;var t=s(r(d[1])),i=s(r(d[2])),l=s(r(d[3])),n=s(r(d[4])),f=s(r(d[5]));e.CellRenderMask=(function(){return(0,n.default)(function s(t){(0,l.default)(this,s),(0,f.default)(t>=0,'CellRenderMask must contain a non-negative number os cells'),this._numCells=t,this._regions=0===t?[]:[{first:0,last:t-1,isSpacer:!0}]},[{key:"enumerateRegions",value:function(){return this._regions}},{key:"addCells",value:function(s){var l;if((0,f.default)(s.first>=0&&s.first<this._numCells&&s.last>=-1&&s.last<this._numCells&&s.last>=s.first-1,'CellRenderMask.addCells called with invalid cell range'),!(s.last<s.first)){var n=this._findRegion(s.first),u=(0,i.default)(n,2),o=u[0],c=u[1],_=this._findRegion(s.last),h=(0,i.default)(_,2),v=h[0],p=h[1];if(c!==p||o.isSpacer){var C=[],k=[],S=Object.assign({},s,{isSpacer:!1});o.first<S.first&&(o.isSpacer?C.push({first:o.first,last:S.first-1,isSpacer:!0}):S.first=o.first),v.last>S.last&&(v.isSpacer?k.push({first:S.last+1,last:v.last,isSpacer:!0}):S.last=v.last);var y=[].concat(C,[S],k),R=p-c+1;(l=this._regions).splice.apply(l,[c,R].concat((0,t.default)(y)))}}}},{key:"numCells",value:function(){return this._numCells}},{key:"equals",value:function(s){return this._numCells===s._numCells&&this._regions.length===s._regions.length&&this._regions.every(function(t,i){return t.first===s._regions[i].first&&t.last===s._regions[i].last&&t.isSpacer===s._regions[i].isSpacer})}},{key:"_findRegion",value:function(s){for(var t=0,i=this._regions.length-1;t<=i;){var l=Math.floor((t+i)/2),n=this._regions[l];if(s>=n.first&&s<=n.last)return[n,l];s<n.first?i=l-1:s>n.last&&(t=l+1)}(0,f.default)(!1,`A region was not found containing cellIdx ${s}`)}}])})()},341,[1,6,38,12,13,20]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),s=e(_r(d[7])),u=e(_r(d[8])),c=e(_r(d[9])),p=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?i(l,s,o):l[s]=e[s]);return l})(e,t)})(_r(d[10])),f=_r(d[11]),h=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var S=(function(e){function t(){var e,n,i,s;(0,r.default)(this,t);for(var u=arguments.length,p=new Array(u),h=0;h<u;h++)p[h]=arguments[h];return n=this,i=t,s=[].concat(p),i=(0,l.default)(i),(e=(0,o.default)(n,v()?Reflect.construct(i,s||[],(0,l.default)(n).constructor):i.apply(n,s)))._keyExtractor=function(t,n){var r=e._subExtractor(n);return r&&r.key||String(n)},e._convertViewable=function(t){var n;(0,c.default)(null!=t.index,'Received a broken ViewToken');var r=e._subExtractor(t.index);if(!r)return null;var i=r.section.keyExtractor,o=e.props.keyExtractor||_r(d[12]).keyExtractor,l=null!=i?i(t.item,r.index):o(t.item,null!=(n=r.index)?n:0);return Object.assign({},t,{index:r.index,key:l,section:r.section})},e._onViewableItemsChanged=function(t){var n=t.viewableItems,r=t.changed,i=e.props.onViewableItemsChanged;null!=i&&i({viewableItems:n.map(e._convertViewable,e).filter(Boolean),changed:r.map(e._convertViewable,e).filter(Boolean)})},e._renderItem=function(t){return function(n){var r=n.item,i=n.index,o=e._subExtractor(i);if(!o)return null;var l=o.index;if(null==l){var s=o.section;if(!0===o.header){var u=e.props.renderSectionHeader;return u?u({section:s}):null}var p=e.props.renderSectionFooter;return p?p({section:s}):null}var h=o.section.renderItem||e.props.renderItem,v=e._getSeparatorComponent(i,o,t);return(0,c.default)(h,'no renderItem!'),(0,f.jsx)(_,{SeparatorComponent:v,LeadingSeparatorComponent:0===l?e.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:l,item:r,leadingItem:o.leadingItem,leadingSection:o.leadingSection,prevCellKey:(e._subExtractor(i-1)||{}).key,setSelfHighlightCallback:e._setUpdateHighlightFor,setSelfUpdatePropsCallback:e._setUpdatePropsFor,updateHighlightFor:e._updateHighlightFor,updatePropsFor:e._updatePropsFor,renderItem:h,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection,inverted:!!e.props.inverted})}},e._updatePropsFor=function(t,n){var r=e._updatePropsMap[t];null!=r&&r(n)},e._updateHighlightFor=function(t,n){var r=e._updateHighlightMap[t];null!=r&&r(n)},e._setUpdateHighlightFor=function(t,n){null!=n?e._updateHighlightMap[t]=n:delete e._updateHighlightFor[t]},e._setUpdatePropsFor=function(t,n){null!=n?e._updatePropsMap[t]=n:delete e._updatePropsMap[t]},e._updateHighlightMap={},e._updatePropsMap={},e._captureRef=function(t){e._listRef=t},e}return(0,s.default)(t,e),(0,i.default)(t,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){var i=this._listRef;if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)r+=i.__getListMetrics().getCellMetricsApprox(t-e.itemIndex,i.props).length;var o=Object.assign({},e,{viewOffset:r,index:t});this._listRef.scrollToIndex(o)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){var e=this,t=this.props,r=(t.ItemSeparatorComponent,t.SectionSeparatorComponent,t.renderItem,t.renderSectionFooter,t.renderSectionHeader,t.sections,t.stickySectionHeadersEnabled,(0,n.default)(t,h)),i=this.props.ListHeaderComponent?1:0,o=this.props.stickySectionHeadersEnabled?[]:void 0,l=0;for(var s of this.props.sections)null!=o&&o.push(l+i),l+=2,l+=this.props.getItemCount(s.data);var c=this._renderItem(l);return(0,f.jsx)(u.default,Object.assign({},r,{keyExtractor:this._keyExtractor,stickyHeaderIndices:o,renderItem:c,data:this.props.sections,getItem:function(t,n){return e._getItem(e.props,t,n)},getItemCount:function(){return l},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],l=o.data,s=e.getItemCount(l);if(-1===r||r===s)return o;if(r<s)return e.getItem(l,r);r-=s+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,l=n.sections,s=0;s<l.length;s++){var u=l[s],c=u.data,p=u.key||String(s);if(!((t-=1)>=i(c)+1))return-1===t?{section:u,key:p+':header',index:null,header:!0,trailingSection:l[s+1]}:t===i(c)?{section:u,key:p+':footer',index:null,header:!1,trailingSection:l[s+1]}:{section:u,key:p+':'+(u.keyExtractor||o||_r(d[12]).keyExtractor)(r(c,t),t),index:t,leadingItem:r(c,t-1),leadingSection:l[s-1],trailingItem:r(c,t+1),trailingSection:l[s+1]};t-=i(c)+1}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,o=e===n-1,l=t.index===this.props.getItemCount(t.section.data)-1;return i&&l?i:!r||l||o?null:r}}])})(p.PureComponent);function _(e){var n=e.LeadingSeparatorComponent,r=e.SeparatorComponent,i=e.cellKey,o=e.prevCellKey,l=e.setSelfHighlightCallback,s=e.updateHighlightFor,u=e.setSelfUpdatePropsCallback,c=e.updatePropsFor,h=e.item,v=e.index,S=e.section,_=e.inverted,I=p.useState(!1),x=(0,t.default)(I,2),y=x[0],k=x[1],b=p.useState(!1),C=(0,t.default)(b,2),H=C[0],E=C[1],w=p.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),F=(0,t.default)(w,2),P=F[0],j=F[1],O=p.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),M=(0,t.default)(O,2),R=M[0],V=M[1];p.useEffect(function(){return l(i,E),u(i,V),function(){u(i,null),l(i,null)}},[i,l,V,u]);var L={highlight:function(){k(!0),E(!0),null!=o&&s(o,!0)},unhighlight:function(){k(!1),E(!1),null!=o&&s(o,!1)},updateProps:function(e,t){'leading'===e?null!=n?j(Object.assign({},P,t)):null!=o&&c(o,Object.assign({},P,t)):'trailing'===e&&null!=r&&V(Object.assign({},R,t))}},U=e.renderItem({item:h,index:v,section:S,separators:L}),B=null!=n&&(0,f.jsx)(n,Object.assign({highlighted:y},P)),K=null!=r&&(0,f.jsx)(r,Object.assign({highlighted:H},R)),T=B||K,W=!1===_?B:K,A=!1===_?K:B;return(0,f.jsxs)(f.Fragment,{children:[T?W:null,U,T?A:null]})}m.exports=S},342,[1,38,135,12,13,23,25,28,329,20,174,219,328]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},343,[1,344,310,174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),t=e(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),u=e(_r(d[7])),c=e(_r(d[8])),s=e(_r(d[9])),f=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?r(l,u,o):l[u]=e[u]);return l})(e,t)})(_r(d[10])),h=_r(d[11]);var b=1;function y(e,t){var n=b++;return t&&t(n),u.default.prefetchImage(e,n)}function v(){return(v=(0,t.default)(function*(e){return u.default.queryCache(e)})).apply(this,arguments)}var p=f.forwardRef(function(e,t){var i,u,f,b,y,v,p,S,w,j,z,M,_,k,x,L,O=(0,_r(d[12]).getImageSourcesFromImageProps)(e)||{uri:void 0,width:void 0,height:void 0},W=(0,c.default)(e.loadingIndicatorSource);if(e.children)throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');if(null!=e.defaultSource&&null!=e.loadingIndicatorSource)throw new Error('The <Image> component cannot have defaultSource and loadingIndicatorSource at the same time. Please use either defaultSource or loadingIndicatorSource.');if(Array.isArray(O))x=[I.base,e.style],L=O;else{var C,P;''===O.uri&&console.warn('source.uri should not be an empty string');var E=null!=(C=O.width)?C:e.width,F=null!=(P=O.height)?P:e.height;x=[{width:E,height:F},I.base,e.style],L=[O]}var A=e.onLoadStart,R=e.onLoad,T=e.onLoadEnd,q=e.onError,B=Object.assign({},e,{style:x,shouldNotifyLoadEvents:!!(A||R||T||q),src:L,source:L,headers:(null==O||null==(i=O[0])?void 0:i.headers)||(null==O?void 0:O.headers),loadingIndicatorSrc:W?W.uri:null,accessibilityLabel:null!=(u=null!=(f=e['aria-label'])?f:e.accessibilityLabel)?u:e.alt,accessibilityLabelledBy:null!=(b=null==e?void 0:e['aria-labelledby'])?b:null==e?void 0:e.accessibilityLabelledBy,accessible:void 0!==e.alt||e.accessible,accessibilityState:{busy:null!=(y=e['aria-busy'])?y:null==(v=e.accessibilityState)?void 0:v.busy,checked:null!=(p=e['aria-checked'])?p:null==(S=e.accessibilityState)?void 0:S.checked,disabled:null!=(w=e['aria-disabled'])?w:null==(j=e.accessibilityState)?void 0:j.disabled,expanded:null!=(z=e['aria-expanded'])?z:null==(M=e.accessibilityState)?void 0:M.expanded,selected:null!=(_=e['aria-selected'])?_:null==(k=e.accessibilityState)?void 0:k.selected}}),D=(0,n.default)(x),H=(0,_r(d[13]).convertObjectFitToResizeMode)(null==D?void 0:D.objectFit)||e.resizeMode||(null==D?void 0:D.resizeMode)||'cover',N=(0,_r(d[14]).useWrapRefWithImageAttachedCallbacks)(t);return(0,h.jsx)(o.default.Consumer,{children:function(e){var t=null!==e?Object.assign({},B,{internal_analyticTag:e}):B;return(0,h.jsx)(r.default.Consumer,{children:function(e){return e?(0,h.jsx)(s.default,{style:x,resizeMode:H,headers:B.headers,src:L,ref:N}):(0,h.jsx)(l.default,Object.assign({},t,{resizeMode:H,ref:N}))}})}})}),S=(0,_r(d[14]).unstable_getImageComponentDecorator)();null!=S&&(p=S(p));var w=p;w.displayName='Image',w.getSize=function(e,t,n){var i=u.default.getSize(e);if('function'!=typeof t)return i;i.then(function(e){return t(e.width,e.height)}).catch(n||function(){console.warn('Failed to get size for image: '+e)})},w.getSizeWithHeaders=function(e,t,n,i){var r=u.default.getSizeWithHeaders(e,t);if('function'!=typeof n)return r;r.then(function(e){return n(e.width,e.height)}).catch(i||function(){console.warn('Failed to get size for image: '+e)})},w.prefetch=y,w.prefetchWithMetadata=function(e,t,n,i){return y(e,i)},w.abortPrefetch=function(e){u.default.abortRequest(e)},w.queryCache=function(e){return v.apply(this,arguments)},w.resolveAssetSource=c.default;var I=i.default.create({base:{overflow:'hidden'}});m.exports=w},344,[1,345,223,221,179,346,347,348,201,350,174,219,351,352,353]);
__d(function(g,_r,_i,_a,m,_e,d){function n(n,t,e,o,r,u,i){try{var c=n[u](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(o,r)}m.exports=function(t){return function(){var e=this,o=arguments;return new Promise(function(r,u){var i=t.apply(e,o);function c(t){n(i,r,u,c,s,"next",t)}function s(t){n(i,r,u,c,s,"throw",t)}c(void 0)})}},m.exports.__esModule=!0,m.exports.default=m.exports},345,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0])).createContext(null);_e.default=e},346,[174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var o=(function(e,o){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,o){if(!o&&e&&e.__esModule)return e;var n,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=o?t:r){if(n.has(e))return n.get(e);n.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?n(s,u,i):s[u]=e[u]);return s})(e,o)})(_r(d[1])),r=e(_r(d[2])),t=e(_r(d[3]));_e.Commands=(0,r.default)({supportedCommands:['setIsVisible_EXPERIMENTAL']});var n=_e.__INTERNAL_VIEW_CONFIG='android'===t.default.OS?{uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:{blurRadius:!0,defaultSource:{process:_r(d[4])},internal_analyticTag:!0,resizeMethod:!0,resizeMode:!0,resizeMultiplier:!0,tintColor:{process:_r(d[5]).default},borderBottomLeftRadius:!0,borderTopLeftRadius:!0,src:!0,source:!0,borderRadius:!0,headers:!0,shouldNotifyLoadEvents:!0,overlayColor:{process:_r(d[5]).default},borderColor:{process:_r(d[5]).default},accessible:!0,progressiveRenderingEnabled:!0,fadeDuration:!0,borderBottomRightRadius:!0,borderTopRightRadius:!0,loadingIndicatorSrc:!0}}:{uiViewClassName:'RCTImageView',bubblingEventTypes:{},directEventTypes:{topLoadStart:{registrationName:'onLoadStart'},topProgress:{registrationName:'onProgress'},topError:{registrationName:'onError'},topPartialLoad:{registrationName:'onPartialLoad'},topLoad:{registrationName:'onLoad'},topLoadEnd:{registrationName:'onLoadEnd'}},validAttributes:Object.assign({blurRadius:!0,capInsets:{diff:_r(d[6])},defaultSource:{process:_r(d[4])},internal_analyticTag:!0,resizeMode:!0,source:!0,tintColor:{process:_r(d[5]).default}},(0,_r(d[7]).ConditionallyIgnoredEventHandlers)({onLoadStart:!0,onLoad:!0,onLoadEnd:!0,onProgress:!0,onError:!0,onPartialLoad:!0}))},i=o.get('RCTImageView',function(){return n});_e.default=i},347,[1,181,218,33,201,184,199,217]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},348,[349]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('ImageLoader')},349,[36]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,u,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,o)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?i(o,f,u):o[f]=e[f]);return o})(e,t)})(_r(d[0]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'RCTTextInlineImage',bubblingEventTypes:{},directEventTypes:{},validAttributes:{resizeMode:!0,src:!0,tintColor:{process:_r(d[1]).default},headers:!0}},r=e.get('RCTTextInlineImage',function(){return t});_e.default=r},350,[181,184]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getImageSourcesFromImageProps=function(s){var o,n=(0,l.default)(s.source),u=s.crossOrigin,c=s.referrerPolicy,h=s.src,f=s.srcSet,p=s.width,v=s.height,w={};'use-credentials'===u&&(w['Access-Control-Allow-Credentials']='true');null!=c&&(w['Referrer-Policy']=c);if(null!=f){var x=[],P=f.split(', '),y=!0;P.forEach(function(s){var l=s.split(' '),o=(0,t.default)(l,2),n=o[0],u=o[1],c=void 0===u?'1x':u;if(c.endsWith('x')){var h=parseInt(c.split('x')[0],10);isNaN(h)||(y=1!==h&&y,x.push({headers:w,scale:h,uri:n,width:p,height:v}))}else console.warn('The provided format for scale is not supported yet. Please use scales like 1x, 2x, etc.')}),y&&null!=h&&x.push({headers:w,scale:1,uri:h,width:p,height:v}),0===x.length&&console.warn('The provided value for srcSet is not valid.'),o=x}else o=null!=h?[{uri:h,headers:w,width:p,height:v}]:n;return o};var t=s(r(d[1])),l=s(r(d[2]))},351,[1,38,201]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.convertObjectFitToResizeMode=function(o){return null!=o?n[o]:void 0};var n={contain:'contain',cover:'cover',fill:'stretch','scale-down':'contain',none:'none'}},352,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.unstable_getImageComponentDecorator=function(){return t},_e.unstable_registerImageAttachedCallback=function(e){u.add(e)},_e.unstable_setImageComponentDecorator=function(e){t=e},_e.unstable_unregisterImageAttachedCallback=function(e){u.delete(e)},_e.useWrapRefWithImageAttachedCallbacks=function(e){var t=(0,r.useRef)([]),o=(0,r.useRef)(null);null==o.current&&(o.current=function(e){null==e?t.current.length>0&&(t.current.forEach(function(e){return e()}),t.current=[]):u.forEach(function(n){var r=n(e);null!=r&&t.current.push(r)})});return(0,n.default)(e,o.current)};var t,n=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,c)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(c,f,o):c[f]=e[f]);return c})(e,t)})(_r(d[2]));var u=new Set},353,[1,311,174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(e(_r(d[2])),e(_r(d[3]))),o=e(_r(d[4])),n=e(_r(d[5])),l=e(_r(d[6])),f=e(_r(d[7])),s=e(_r(d[8])),u=e(_r(d[9])),i=e(_r(d[10])),c=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,f)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(l.get||l.set)?n(f,s,l):f[s]=e[s]);return f})(e,t)})(_r(d[11])),p=c,y=_r(d[12]);var j=p.forwardRef(function(e,t){return'android'===f.default.OS&&null!=e.refreshControl&&null!=e.style?(0,y.jsx)(v,Object.assign({scrollEventThrottle:1e-4},e,{ref:t,refreshControl:e.refreshControl})):(0,y.jsx)(h,Object.assign({scrollEventThrottle:1e-4},e,{ref:t}))}),v=p.forwardRef(function(e,f){var u=(0,c.useMemo)(function(){var t=(0,n.default)((0,o.default)(e.style)),r=t.outer,l=t.inner;return{intermediatePropsForRefreshControl:{style:r},intermediatePropsForScrollView:Object.assign({},e,{style:l})}},[e]),j=u.intermediatePropsForRefreshControl,v=u.intermediatePropsForScrollView,h=(0,i.default)(j),O=(0,t.default)(h,2),_=O[0],b=O[1],w=p.cloneElement(e.refreshControl,Object.assign({},_,{ref:b})),P=(0,i.default)(v),C=(0,t.default)(P,2),M=C[0],F=C[1],R=(0,s.default)(F,f);return(0,y.jsx)(r.default,Object.assign({},M,{ref:R,refreshControl:w,style:l.default.compose(M.style,_.style)}))}),h=(0,u.default)(r.default);_e.default=j},354,[1,38,355,360,223,364,221,33,311,310,313,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),s=e(_r(d[6])),f=h(_r(d[7])),u=(h(_r(d[8])),_r(d[9])),l=["tintColor","titleColor","title"];function h(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(h=function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,s)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?i(s,f,o):s[f]=e[f]);return s})(e,t)}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var c=(function(e){function h(){var e,t,n,s;(0,r.default)(this,h);for(var f=arguments.length,u=new Array(f),l=0;l<f;l++)u[l]=arguments[l];return t=this,n=h,s=[].concat(u),n=(0,o.default)(n),(e=(0,i.default)(t,p()?Reflect.construct(n,s||[],(0,o.default)(t).constructor):n.apply(t,s)))._lastNativeRefreshing=!1,e._onRefresh=function(){e._lastNativeRefreshing=!0,e.props.onRefresh&&e.props.onRefresh(),e.forceUpdate()},e._setNativeRef=function(t){e._nativeRef=t},e}return(0,s.default)(h,e),(0,n.default)(h,[{key:"componentDidMount",value:function(){this._lastNativeRefreshing=this.props.refreshing}},{key:"componentDidUpdate",value:function(e){this.props.refreshing!==e.refreshing?this._lastNativeRefreshing=this.props.refreshing:this.props.refreshing!==this._lastNativeRefreshing&&this._nativeRef&&(f.Commands.setNativeRefreshing(this._nativeRef,this.props.refreshing),this._lastNativeRefreshing=this.props.refreshing)}},{key:"render",value:function(){var e=this.props,r=(e.tintColor,e.titleColor,e.title,(0,t.default)(e,l));return(0,u.jsx)(f.default,Object.assign({},r,{ref:this._setNativeRef,onRefresh:this._onRefresh}))}}])})(_r(d[10]).Component);m.exports=c},355,[1,135,12,13,23,25,28,356,358,219,174]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},356,[357]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,s)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(s,f,i):s[f]=e[f])})(e,t)})(_r(d[3]));var t,r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidSwipeRefreshLayout",directEventTypes:{topRefresh:{registrationName:"onRefresh"}},validAttributes:Object.assign({enabled:!0,colors:{process:(t=_r(d[4]),'default'in t?t.default:t)},progressBackgroundColor:{process:_r(d[5]).default},size:!0,progressViewOffset:!0,refreshing:!0},_r(d[6]).ConditionallyIgnoredEventHandlers({onRefresh:!0}))};_e.default=_r(d[7]).get('AndroidSwipeRefreshLayout',function(){return r}),_e.Commands={setNativeRefreshing:function(e,t){_r(d[8]).dispatchCommand(e,"setNativeRefreshing",[t])}}},357,[1,218,261,174,200,184,217,181,57]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},358,[359]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,s)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(s,f,i):s[f]=e[f])})(e,t)})(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTRefreshControl",directEventTypes:{topRefresh:{registrationName:"onRefresh"}},validAttributes:Object.assign({tintColor:{process:_r(d[4]).default},titleColor:{process:_r(d[4]).default},title:!0,progressViewOffset:!0,refreshing:!0},_r(d[5]).ConditionallyIgnoredEventHandlers({onRefresh:!0}))};_e.default=_r(d[6]).get('RCTRefreshControl',function(){return t}),_e.Commands={setNativeRefreshing:function(e,t){_r(d[7]).dispatchCommand(e,"setNativeRefreshing",[t])}}},359,[1,218,261,174,184,217,181,57]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),n=e(_r(d[1])),o=e(_r(d[2])),t=e(_r(d[3])),r=e(_r(d[4])),l=e(_r(d[5])),i=e(_r(d[6])),s=e(_r(d[7])),c=e(_r(d[8])),u=e(_r(d[9])),p=e(_r(d[10])),h=e(_r(d[11])),f=e(_r(d[12])),S=e(_r(d[13])),y=e(_r(d[14])),_=e(_r(d[15])),b=e(_r(d[16])),v=e(_r(d[17])),R=e(_r(d[18])),T=e(_r(d[19])),w=K(_r(d[20])),k=e(_r(d[21])),H=e(_r(d[22])),I=e(_r(d[23])),M=e(_r(d[24])),V=K(_r(d[25])),E=_r(d[26]),D=["experimental_endDraggingSensitivityMultiplier"];function K(e,n){if("function"==typeof WeakMap)var o=new WeakMap,t=new WeakMap;return(K=function(e,n){if(!n&&e&&e.__esModule)return e;var r,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=n?t:o){if(r.has(e))return r.get(e);r.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(l.get||l.set)?r(i,s,l):i[s]=e[s]);return i})(e,n)}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}var A=(function(e){function I(e){var n,t,i,p,h,f,b,R;return(0,o.default)(this,I),f=this,b=I,R=[e],b=(0,l.default)(b),(h=(0,r.default)(f,x()?Reflect.construct(b,R||[],(0,l.default)(f).constructor):b.apply(f,R)))._scrollAnimatedValueAttachment=null,h._stickyHeaderRefs=new Map,h._headerLayoutYs=new Map,h._keyboardMetrics=null,h._additionalScrollOffset=0,h._isTouching=!1,h._lastMomentumScrollBeginTime=0,h._lastMomentumScrollEndTime=0,h._observedScrollSinceBecomingResponder=!1,h._becameResponderWhileAnimating=!1,h._preventNegativeScrollOffset=null,h._animated=null,h._subscriptionKeyboardWillShow=null,h._subscriptionKeyboardWillHide=null,h._subscriptionKeyboardDidShow=null,h._subscriptionKeyboardDidHide=null,h.state={layoutHeight:null},h.getScrollResponder=function(){return h},h.getScrollableNode=function(){return(0,_r(d[27]).findNodeHandle)(h.getNativeScrollRef())},h.getInnerViewNode=function(){return(0,_r(d[27]).findNodeHandle)(h._innerView.nativeInstance)},h.getInnerViewRef=function(){return h._innerView.nativeInstance},h.getNativeScrollRef=function(){return h._scrollView.nativeInstance},h.scrollTo=function(e,n,o){var t,r,l;'number'==typeof e?(console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead."),r=e,t=n,l=o):e&&(r=e.y,t=e.x,l=e.animated);var i=h.getNativeScrollRef();null!=i&&T.default.scrollTo(i,t||0,r||0,!1!==l)},h.scrollToEnd=function(e){var n=!1!==(e&&e.animated),o=h.getNativeScrollRef();null!=o&&T.default.scrollToEnd(o,n)},h.flashScrollIndicators=function(){var e=h.getNativeScrollRef();null!=e&&T.default.flashScrollIndicators(e)},h.scrollResponderScrollNativeHandleToKeyboard=function(e,n,o){h._additionalScrollOffset=n||0,h._preventNegativeScrollOffset=!!o,null!=h._innerView.nativeInstance&&('number'==typeof e?u.default.measureLayout(e,(0,M.default)((0,_r(d[27]).findNodeHandle)(h)),h._textInputFocusError,h._inputMeasureAndScrollToKeyboard):e.measureLayout(h._innerView.nativeInstance,h._inputMeasureAndScrollToKeyboard,h._textInputFocusError))},h.scrollResponderZoomTo=function(e,n){(0,H.default)('ios'===_.default.OS,'zoomToRect is not implemented'),'animated'in e?(h._animated=e.animated,delete e.animated):void 0!==n&&console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');var o=h.getNativeScrollRef();null!=o&&T.default.zoomToRect(o,e,!1!==n)},h._inputMeasureAndScrollToKeyboard=function(e,n,o,t){var r=S.default.get('window').height,l=function(){null!=h._keyboardMetrics&&(r=h._keyboardMetrics.screenY);var e=n-r+t+h._additionalScrollOffset;!0===h._preventNegativeScrollOffset&&(e=Math.max(0,e)),h.scrollTo({x:0,y:e,animated:!0}),h._additionalScrollOffset=0,h._preventNegativeScrollOffset=!1};null==h._keyboardMetrics?setTimeout(function(){l()},0):l()},h._handleScroll=function(e){h._observedScrollSinceBecomingResponder=!0,h.props.onScroll&&h.props.onScroll(e)},h._handleLayout=function(e){!0===h.props.invertStickyHeaders&&h.setState({layoutHeight:e.nativeEvent.layout.height}),h.props.onLayout&&h.props.onLayout(e)},h._handleContentOnLayout=function(e){var n=e.nativeEvent.layout,o=n.width,t=n.height;h.props.onContentSizeChange&&h.props.onContentSizeChange(o,t)},h._innerView=C(function(e){return e}),h._scrollView=C(function(e){return Object.assign(e,{getScrollResponder:h.getScrollResponder,getScrollableNode:h.getScrollableNode,getInnerViewNode:h.getInnerViewNode,getInnerViewRef:h.getInnerViewRef,getNativeScrollRef:h.getNativeScrollRef,scrollTo:h.scrollTo,scrollToEnd:h.scrollToEnd,flashScrollIndicators:h.flashScrollIndicators,scrollResponderZoomTo:h.scrollResponderZoomTo,scrollResponderScrollNativeHandleToKeyboard:h.scrollResponderScrollNativeHandleToKeyboard})}),h.scrollResponderKeyboardWillShow=function(e){h._keyboardMetrics=e.endCoordinates,h.props.onKeyboardWillShow&&h.props.onKeyboardWillShow(e)},h.scrollResponderKeyboardWillHide=function(e){h._keyboardMetrics=null,h.props.onKeyboardWillHide&&h.props.onKeyboardWillHide(e)},h.scrollResponderKeyboardDidShow=function(e){h._keyboardMetrics=e.endCoordinates,h.props.onKeyboardDidShow&&h.props.onKeyboardDidShow(e)},h.scrollResponderKeyboardDidHide=function(e){h._keyboardMetrics=null,h.props.onKeyboardDidHide&&h.props.onKeyboardDidHide(e)},h._handleMomentumScrollBegin=function(e){h._lastMomentumScrollBeginTime=g.performance.now(),h.props.onMomentumScrollBegin&&h.props.onMomentumScrollBegin(e)},h._handleMomentumScrollEnd=function(e){c.default.endScroll(),h._lastMomentumScrollEndTime=g.performance.now(),h.props.onMomentumScrollEnd&&h.props.onMomentumScrollEnd(e)},h._handleScrollBeginDrag=function(e){c.default.beginScroll(),'android'===_.default.OS&&'on-drag'===h.props.keyboardDismissMode&&(0,y.default)(),h.props.onScrollBeginDrag&&h.props.onScrollBeginDrag(e)},h._handleScrollEndDrag=function(e){var n=e.nativeEvent.velocity;h._isAnimating()||n&&(0!==n.x||0!==n.y)||c.default.endScroll(),h.props.onScrollEndDrag&&h.props.onScrollEndDrag(e)},h._isAnimating=function(){return g.performance.now()-h._lastMomentumScrollEndTime<16||h._lastMomentumScrollEndTime<h._lastMomentumScrollBeginTime},h._handleResponderGrant=function(e){h._observedScrollSinceBecomingResponder=!1,h.props.onResponderGrant&&h.props.onResponderGrant(e),h._becameResponderWhileAnimating=h._isAnimating()},h._handleResponderReject=function(){},h._handleResponderRelease=function(e){if(h._isTouching=0!==e.nativeEvent.touches.length,h.props.onResponderRelease&&h.props.onResponderRelease(e),'number'!=typeof e.target){var n=v.default.currentlyFocusedInput();null==n||!0===h.props.keyboardShouldPersistTaps||'always'===h.props.keyboardShouldPersistTaps||!h._keyboardIsDismissible()||e.target===n||h._observedScrollSinceBecomingResponder||h._becameResponderWhileAnimating||v.default.blurTextInput(n)}},h._handleResponderTerminationRequest=function(){return!h._observedScrollSinceBecomingResponder},h._handleScrollShouldSetResponder=function(){return!0!==h.props.disableScrollViewPanResponder&&h._isTouching},h._handleStartShouldSetResponder=function(e){if(!0===h.props.disableScrollViewPanResponder)return!1;var n=v.default.currentlyFocusedInput();return!('handled'!==h.props.keyboardShouldPersistTaps||!h._keyboardIsDismissible()||e.target===n)},h._handleStartShouldSetResponderCapture=function(e){if(h._isAnimating())return!0;if(!0===h.props.disableScrollViewPanResponder)return!1;var n=h.props.keyboardShouldPersistTaps,o=!n||'never'===n;return'number'!=typeof e.target&&(!h._softKeyboardIsDetached()&&!(!o||!h._keyboardIsDismissible()||null==e.target||v.default.isTextInput(e.target)))},h._keyboardIsDismissible=function(){var e=v.default.currentlyFocusedInput(),n=null!=e&&v.default.isTextInput(e),o=null!=h._keyboardMetrics||h._keyboardEventsAreUnreliable();return n&&o},h._softKeyboardIsDetached=function(){return null!=h._keyboardMetrics&&0===h._keyboardMetrics.height},h._keyboardEventsAreUnreliable=function(){return'android'===_.default.OS&&_.default.Version<30},h._handleTouchEnd=function(e){var n=e.nativeEvent;h._isTouching=0!==n.touches.length;var o=h.props.keyboardShouldPersistTaps,t=!o||'never'===o,r=v.default.currentlyFocusedInput();null!=r&&e.target!==r&&h._softKeyboardIsDetached()&&h._keyboardIsDismissible()&&t&&v.default.blurTextInput(r),h.props.onTouchEnd&&h.props.onTouchEnd(e)},h._handleTouchCancel=function(e){h._isTouching=!1,h.props.onTouchCancel&&h.props.onTouchCancel(e)},h._handleTouchStart=function(e){h._isTouching=!0,h.props.onTouchStart&&h.props.onTouchStart(e)},h._handleTouchMove=function(e){h.props.onTouchMove&&h.props.onTouchMove(e)},h._scrollAnimatedValue=new s.default.Value(null!=(n=null==(t=h.props.contentOffset)?void 0:t.y)?n:0),h._scrollAnimatedValue.setOffset(null!=(i=null==(p=h.props.contentInset)?void 0:p.top)?i:0),h}return(0,i.default)(I,e),(0,t.default)(I,[{key:"componentDidMount",value:function(){'boolean'==typeof this.props.keyboardShouldPersistTaps&&console.warn(`'keyboardShouldPersistTaps={${!0===this.props.keyboardShouldPersistTaps?'true':'false'}}' is deprecated. Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps?'always':'never'}"' instead`),this._keyboardMetrics=b.default.metrics(),this._additionalScrollOffset=0,this._subscriptionKeyboardWillShow=b.default.addListener('keyboardWillShow',this.scrollResponderKeyboardWillShow),this._subscriptionKeyboardWillHide=b.default.addListener('keyboardWillHide',this.scrollResponderKeyboardWillHide),this._subscriptionKeyboardDidShow=b.default.addListener('keyboardDidShow',this.scrollResponderKeyboardDidShow),this._subscriptionKeyboardDidHide=b.default.addListener('keyboardDidHide',this.scrollResponderKeyboardDidHide),this._updateAnimatedNodeAttachment()}},{key:"componentDidUpdate",value:function(e){var n=e.contentInset?e.contentInset.top:0,o=this.props.contentInset?this.props.contentInset.top:0;n!==o&&this._scrollAnimatedValue.setOffset(o||0),this._updateAnimatedNodeAttachment()}},{key:"componentWillUnmount",value:function(){null!=this._subscriptionKeyboardWillShow&&this._subscriptionKeyboardWillShow.remove(),null!=this._subscriptionKeyboardWillHide&&this._subscriptionKeyboardWillHide.remove(),null!=this._subscriptionKeyboardDidShow&&this._subscriptionKeyboardDidShow.remove(),null!=this._subscriptionKeyboardDidHide&&this._subscriptionKeyboardDidHide.remove(),this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach()}},{key:"_textInputFocusError",value:function(){console.warn('Error measuring text field.')}},{key:"_getKeyForIndex",value:function(e,n){var o=n[e];return o&&o.key}},{key:"_updateAnimatedNodeAttachment",value:function(){this._scrollAnimatedValueAttachment&&this._scrollAnimatedValueAttachment.detach(),this.props.stickyHeaderIndices&&this.props.stickyHeaderIndices.length>0&&(this._scrollAnimatedValueAttachment=s.default.attachNativeEvent(this.getNativeScrollRef(),'onScroll',[{nativeEvent:{contentOffset:{y:this._scrollAnimatedValue}}}]))}},{key:"_setStickyHeaderRef",value:function(e,n){n?this._stickyHeaderRefs.set(e,n):this._stickyHeaderRefs.delete(e)}},{key:"_onStickyHeaderLayout",value:function(e,n,o){var t=this.props.stickyHeaderIndices;if(t){var r=V.Children.toArray(this.props.children);if(o===this._getKeyForIndex(e,r)){var l=n.nativeEvent.layout.y;this._headerLayoutYs.set(o,l);var i=t.indexOf(e),s=t[i-1];if(null!=s){var c=this._stickyHeaderRefs.get(this._getKeyForIndex(s,r));c&&c.setNextHeaderY&&c.setNextHeaderY(l)}}}}},{key:"render",value:function(){var e=this,o=!0===this.props.horizontal,t=o?_r(d[28]).HScrollViewNativeComponent:_r(d[29]).VScrollViewNativeComponent,r=o?_r(d[28]).HScrollContentViewNativeComponent:_r(d[29]).VScrollContentViewNativeComponent,l=[o&&O.contentContainerHorizontal,this.props.contentContainerStyle],i=null==this.props.onContentSizeChange?null:{onLayout:this._handleContentOnLayout},s=this.props.stickyHeaderIndices,c=this.props.children;c=V.Children.toArray(c),null!=s&&s.length>0&&(c=c.map(function(n,o){var t=n?s.indexOf(o):-1;if(t>-1){var r=n.key,l=s[t+1],i=e.props.StickyHeaderComponent||k.default;return(0,E.jsx)(i,{ref:function(n){return e._setStickyHeaderRef(r,n)},nextHeaderLayoutY:e._headerLayoutYs.get(e._getKeyForIndex(l,c)),onLayout:function(n){return e._onStickyHeaderLayout(o,n,r)},scrollAnimatedValue:e._scrollAnimatedValue,inverted:e.props.invertStickyHeaders,hiddenOnScroll:e.props.stickyHeaderHiddenOnScroll,scrollViewHeight:e.state.layoutHeight,children:n},r)}return n})),c=(0,E.jsx)(w.default.Provider,{value:o?w.HORIZONTAL:w.VERTICAL,children:c});var u=Array.isArray(s)&&s.length>0,S=null!=this.props.maintainVisibleContentPosition||'android'===_.default.OS&&null!=this.props.snapToAlignment,y=(0,E.jsx)(r,Object.assign({},i,{ref:this._innerView.getForwardingRef(this.props.innerViewRef),style:l,removeClippedSubviews:('android'!==_.default.OS||!u)&&this.props.removeClippedSubviews,collapsable:!1,collapsableChildren:!S,children:c})),b=void 0!==this.props.alwaysBounceHorizontal?this.props.alwaysBounceHorizontal:this.props.horizontal,v=void 0!==this.props.alwaysBounceVertical?this.props.alwaysBounceVertical:!this.props.horizontal,T=o?O.baseHorizontal:O.baseVertical,H=this.props,I=H.experimental_endDraggingSensitivityMultiplier,M=(0,n.default)(H,D),K=Object.assign({},M,{alwaysBounceHorizontal:b,alwaysBounceVertical:v,style:f.default.compose(T,this.props.style),onContentSizeChange:null,onLayout:this._handleLayout,onMomentumScrollBegin:this._handleMomentumScrollBegin,onMomentumScrollEnd:this._handleMomentumScrollEnd,onResponderGrant:this._handleResponderGrant,onResponderReject:this._handleResponderReject,onResponderRelease:this._handleResponderRelease,onResponderTerminationRequest:this._handleResponderTerminationRequest,onScrollBeginDrag:this._handleScrollBeginDrag,onScrollEndDrag:this._handleScrollEndDrag,onScrollShouldSetResponder:this._handleScrollShouldSetResponder,onStartShouldSetResponder:this._handleStartShouldSetResponder,onStartShouldSetResponderCapture:this._handleStartShouldSetResponderCapture,onTouchEnd:this._handleTouchEnd,onTouchMove:this._handleTouchMove,onTouchStart:this._handleTouchStart,onTouchCancel:this._handleTouchCancel,onScroll:this._handleScroll,endDraggingSensitivityMultiplier:I,scrollEventThrottle:u?1:this.props.scrollEventThrottle,sendMomentumEvents:!(!this.props.onMomentumScrollBegin&&!this.props.onMomentumScrollEnd),snapToStart:!1!==this.props.snapToStart,snapToEnd:!1!==this.props.snapToEnd,pagingEnabled:_.default.select({ios:!0===this.props.pagingEnabled&&null==this.props.snapToInterval&&null==this.props.snapToOffsets,android:!0===this.props.pagingEnabled||null!=this.props.snapToInterval||null!=this.props.snapToOffsets})}),x=this.props.decelerationRate;null!=x&&(K.decelerationRate=(0,R.default)(x));var A=this.props.refreshControl,C=this._scrollView.getForwardingRef(this.props.scrollViewRef);if(A){if('ios'===_.default.OS)return(0,E.jsxs)(t,Object.assign({},K,{ref:C,children:[A,y]}));if('android'===_.default.OS){var N=(0,h.default)((0,p.default)(K.style)),B=N.outer,W=N.inner;return V.cloneElement(A,{style:f.default.compose(T,B)},(0,E.jsx)(t,Object.assign({},K,{style:f.default.compose(T,W),ref:C,children:y})))}}return(0,E.jsx)(t,Object.assign({},K,{ref:C,children:y}))}}])})(V.Component);A.Context=w.default;var O=f.default.create({baseVertical:{flexGrow:1,flexShrink:1,flexDirection:'column',overflow:'scroll'},baseHorizontal:{flexGrow:1,flexShrink:1,flexDirection:'row',overflow:'scroll'},contentContainerHorizontal:{flexDirection:'row'}});function C(e){var n={getForwardingRef:(0,I.default)(function(o){return function(t){var r=null==t?null:e(t);n.nativeInstance=t,n.publicInstance=r,null!=o&&('function'==typeof o?o(r):o.current=r)}}),nativeInstance:null,publicInstance:null};return n}var N=V.forwardRef(function(e,n){return null==n?(0,E.jsx)(A,Object.assign({},e)):(0,E.jsx)(A,Object.assign({},e,{scrollViewRef:n}))});N.displayName='ScrollView',N.Context=w.default,m.exports=N},360,[1,135,12,13,23,25,28,282,361,44,223,364,221,208,365,33,366,232,370,371,372,373,20,326,45,174,219,57,374,379]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),l={setGlobalOptions:function(l){void 0!==l.debug&&r(d[2])(t.default,'Trying to debug FrameRateLogger without the native module!'),null==t.default||t.default.setGlobalOptions({debug:!!l.debug})},setContext:function(l){null==t.default||t.default.setContext(l)},beginScroll:function(){null==t.default||t.default.beginScroll()},endScroll:function(){null==t.default||t.default.endScroll()}};m.exports=l},361,[1,362,20]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},362,[363]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('FrameRateLogger')},363,[36]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){var c=null,t=null;if(null!=s)for(var n of(c={},t={},Object.keys(s)))switch(n){case'margin':case'marginHorizontal':case'marginVertical':case'marginBottom':case'marginTop':case'marginLeft':case'marginRight':case'flex':case'flexGrow':case'flexShrink':case'flexBasis':case'alignSelf':case'height':case'minHeight':case'maxHeight':case'width':case'minWidth':case'maxWidth':case'position':case'left':case'right':case'bottom':case'top':case'transform':case'transformOrigin':case'rowGap':case'columnGap':case'gap':c[n]=s[n];break;default:t[n]=s[n]}return{outer:c,inner:t}}},364,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){r(d[0]).blurTextInput(r(d[0]).currentlyFocusedInput())}},365,[232]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o=t(r(d[4])),s=t(r(d[5])),f=t(r(d[6])),c=t(r(d[7])),y=(function(){return(0,u.default)(function t(){var u=this;(0,n.default)(this,t),this._emitter=new l.default('ios'!==f.default.OS?null:c.default),this.addListener('keyboardDidShow',function(t){u._currentlyShowing=t}),this.addListener('keyboardDidHide',function(t){u._currentlyShowing=null})},[{key:"addListener",value:function(t,n,u){return this._emitter.addListener(t,n)}},{key:"removeAllListeners",value:function(t){this._emitter.removeAllListeners(t)}},{key:"dismiss",value:function(){(0,s.default)()}},{key:"isVisible",value:function(){return!!this._currentlyShowing}},{key:"metrics",value:function(){var t;return null==(t=this._currentlyShowing)?void 0:t.endCoordinates}},{key:"scheduleLayoutAnimation",value:function(t){var n=t.duration,u=t.easing;null!=n&&0!==n&&o.default.configureNext({duration:n,update:{duration:n,type:null!=u&&o.default.Types[u]||'keyboard'}})}}])})();m.exports=new y},366,[1,12,13,126,367,365,33,368]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]),n=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=n?i:t){if(r.has(e))return r.get(e);r.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?r(u,l,o):u[l]=e[l]);return u})(e,n)})(_r(d[1])),t=e(_r(d[2]));var i=n.isLayoutAnimationEnabled();function r(e,n,r){var o;if(!t.default.isDisableAnimations&&i){var u,l=!1,s=function(){l||(l=!0,clearTimeout(c),null==n||n())},c=setTimeout(s,(null!=(o=e.duration)?o:0)+17),p=(0,_r(d[3]).getFabricUIManager)();if(null!=p&&p.configureNextLayoutAnimation)null==(u=g)||null==(u=u.nativeFabricUIManager)||u.configureNextLayoutAnimation(e,s,null!=r?r:function(){});else null!=_r(d[4])&&_r(d[4]).configureNextLayoutAnimation&&_r(d[4]).configureNextLayoutAnimation(e,null!=s?s:function(){},null!=r?r:function(){})}}function o(e,n,t){return{duration:e,create:{type:n,property:t},update:{type:n},delete:{type:n,property:t}}}var u={easeInEaseOut:o(300,'easeInEaseOut','opacity'),linear:o(500,'linear','opacity'),spring:{duration:700,create:{type:'linear',property:'opacity'},update:{type:'spring',springDamping:.4},delete:{type:'linear',property:'opacity'}}},l={configureNext:r,create:o,Types:Object.freeze({spring:'spring',linear:'linear',easeInEaseOut:'easeInEaseOut',easeIn:'easeIn',easeOut:'easeOut',keyboard:'keyboard'}),Properties:Object.freeze({opacity:'opacity',scaleX:'scaleX',scaleY:'scaleY',scaleXY:'scaleXY'}),checkConfig:function(){console.error('LayoutAnimation.checkConfig(...) has been disabled.')},Presets:u,easeInEaseOut:r.bind(null,u.easeInEaseOut),linear:r.bind(null,u.linear),spring:r.bind(null,u.spring),setEnabled:function(e){}};m.exports=l},367,[1,104,33,47,44]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},368,[369]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('KeyboardObserver')},369,[36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=function(n){return'normal'===n?t.default.select({ios:.998,android:.985}):'fast'===n?t.default.select({ios:.99,android:.9}):n}},370,[1,33]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1]));!(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,f,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((f=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(f.get||f.set)?n(l,u,f):l[u]=e[u])})(e,t)})(_r(d[2]));_e.default=(0,t.default)({supportedCommands:['flashScrollIndicators','scrollTo','scrollToEnd','zoomToRect']})},371,[1,218,174]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.VERTICAL=_e.HORIZONTAL=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0])).createContext(null);_e.default=e,_e.HORIZONTAL=Object.freeze({horizontal:!0}),_e.VERTICAL=Object.freeze({horizontal:!1})},372,[174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),u=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),l=e(_r(d[5])),o=(function(e,t){if("function"==typeof WeakMap)var u=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?n:u){if(r.has(e))return r.get(e);r.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?r(o,i,l):o[i]=e[i]);return o})(e,t)})(_r(d[6])),i=o,f=_r(d[7]);var s=i.forwardRef(function(e,n){var s=e.inverted,c=e.scrollViewHeight,v=e.hiddenOnScroll,h=e.scrollAnimatedValue,y=e.nextHeaderLayoutY,R=(0,o.useState)(!1),_=(0,t.default)(R,2),L=_[0],S=_[1],b=(0,o.useState)(0),w=(0,t.default)(b,2),x=w[0],O=w[1],E=(0,o.useState)(0),M=(0,t.default)(E,2),P=M[0],j=M[1],k=(0,o.useState)(null),C=(0,t.default)(k,2),I=C[0],V=C[1],Y=(0,o.useState)(y),D=(0,t.default)(Y,2),H=D[0],T=D[1],W=(0,o.useState)(!1),A=(0,t.default)(W,2),z=A[0],N=A[1],q=(0,o.useCallback)(function(e){null!=e&&(e.setNextHeaderY=T,N((0,_r(d[8]).isPublicInstance)(e)))},[]),B=(0,l.default)(q,n),F=(0,o.useMemo)(function(){return!0===v?u.default.diffClamp(h.interpolate({extrapolateLeft:'clamp',inputRange:[x,x+1],outputRange:[0,1]}).interpolate({inputRange:[0,1],outputRange:[0,-1]}),-P,0):null},[h,P,x,v]),G=(0,o.useState)(function(){var e=h.interpolate({inputRange:[-1,0],outputRange:[0,0]});return null!=F?u.default.add(e,F):e}),J=(0,t.default)(G,2),K=J[0],Q=J[1],U=(0,o.useRef)(!0),X=(0,o.useRef)(null);(0,o.useEffect)(function(){0!==I&&null!=I&&(U.current=!1)},[I]);var Z=(0,o.useCallback)(function(e){var t=e.value,u='android'===r.default.OS?15:64;0!==t||U.current?(null!=X.current&&clearTimeout(X.current),X.current=setTimeout(function(){return V(t)},u)):U.current=!0},[]);(0,o.useEffect)(function(){var e=[-1,0],t=[0,0];if(L)if(!0===s){if(null!=c){var n=x+P-c;if(n>0){e.push(n),t.push(0),e.push(n+1),t.push(1);var r=(H||0)-P-c;r>n&&(e.push(r,r+1),t.push(r-n,r-n))}}}else{e.push(x),t.push(0);var l=(H||0)-P;l>=x?(e.push(l,l+1),t.push(l-x,l-x)):(e.push(x+1),t.push(1))}var o,i=h.interpolate({inputRange:e,outputRange:t});return null!=F&&(i=u.default.add(i,F)),z&&(o=i.addListener(Z)),Q(i),function(){o&&i.removeListener(o),null!=X.current&&clearTimeout(X.current)}},[H,L,P,x,c,h,s,F,Z,z]);var $=i.Children.only(e.children),ee=z&&null!=I?{style:{transform:[{translateY:I}]}}:null;return(0,f.jsx)(u.default.View,{collapsable:!1,nativeID:e.nativeID,onLayout:function(t){O(t.nativeEvent.layout.y),j(t.nativeEvent.layout.height),S(!0),e.onLayout(t);var u=i.Children.only(e.children);u.props.onLayout&&u.props.onLayout(t)},ref:B,style:[$.props.style,p.header,{transform:[{translateY:K}]}],passthroughAnimatedPropExplicitValues:ee,children:i.cloneElement($,{style:p.fill,onLayout:void 0})})}),p=n.default.create({header:{zIndex:10},fill:{flex:1}});_e.default=s},373,[1,38,281,221,33,311,174,219,315]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.HScrollViewNativeComponent=e.HScrollContentViewNativeComponent=void 0;var o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),f=t(r(d[5]));e.HScrollViewNativeComponent='android'===u.default.OS?o.default:l.default,e.HScrollContentViewNativeComponent='android'===u.default.OS?f.default:n.default},374,[1,375,376,377,33,378]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,o){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,o){if(!o&&e&&e.__esModule)return e;var n,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=o?t:r){if(n.has(e))return n.get(e);n.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(l.get||l.set)?n(i,s,l):i[s]=e[s]);return i})(e,o)})(_r(d[0]));var o=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'AndroidHorizontalScrollView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{decelerationRate:!0,disableIntervalMomentum:!0,maintainVisibleContentPosition:!0,endFillColor:{process:_r(d[1]).default},fadingEdgeLength:!0,nestedScrollEnabled:!0,overScrollMode:!0,pagingEnabled:!0,persistentScrollbar:!0,horizontal:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollPerfTag:!0,sendMomentumEvents:!0,showsHorizontalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToStart:!0,snapToOffsets:!0,contentOffset:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderRadius:!0,borderStyle:!0,borderRightColor:{process:_r(d[1]).default},borderColor:{process:_r(d[1]).default},borderBottomColor:{process:_r(d[1]).default},borderTopLeftRadius:!0,borderTopColor:{process:_r(d[1]).default},removeClippedSubviews:!0,borderTopRightRadius:!0,borderLeftColor:{process:_r(d[1]).default},pointerEvents:!0}},r=e.get('AndroidHorizontalScrollView',function(){return o});_e.default=r},375,[181,184]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:'RCTScrollContentView',bubblingEventTypes:{},directEventTypes:{},validAttributes:{}},n=e.get('RCTScrollContentView',function(){return t});_e.default=n},376,[181]);
__d(function(g,_r,_i,a,m,_e,d){var o=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=void 0;var e=(function(o,e){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(o,e){if(!e&&o&&o.__esModule)return o;var r,l,i={__proto__:null,default:o};if(null===o||"object"!=typeof o&&"function"!=typeof o)return i;if(r=e?n:t){if(r.has(o))return r.get(o);r.set(o,i)}for(var s in o)"default"!==s&&{}.hasOwnProperty.call(o,s)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,s))&&(l.get||l.set)?r(i,s,l):i[s]=o[s]);return i})(o,e)})(_r(d[1])),t=o(_r(d[2]));var n=_e.__INTERNAL_VIEW_CONFIG='android'===t.default.OS?{uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'}},validAttributes:{contentOffset:{diff:_r(d[3])},decelerationRate:!0,disableIntervalMomentum:!0,maintainVisibleContentPosition:!0,pagingEnabled:!0,scrollEnabled:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,sendMomentumEvents:!0,borderRadius:!0,nestedScrollEnabled:!0,scrollEventThrottle:!0,borderStyle:!0,borderRightColor:{process:_r(d[4]).default},borderColor:{process:_r(d[4]).default},borderBottomColor:{process:_r(d[4]).default},persistentScrollbar:!0,horizontal:!0,endFillColor:{process:_r(d[4]).default},fadingEdgeLength:!0,overScrollMode:!0,borderTopLeftRadius:!0,scrollPerfTag:!0,borderTopColor:{process:_r(d[4]).default},removeClippedSubviews:!0,borderTopRightRadius:!0,borderLeftColor:{process:_r(d[4]).default},pointerEvents:!0,isInvertedVirtualizedList:!0}}:{uiViewClassName:'RCTScrollView',bubblingEventTypes:{},directEventTypes:{topMomentumScrollBegin:{registrationName:'onMomentumScrollBegin'},topMomentumScrollEnd:{registrationName:'onMomentumScrollEnd'},topScroll:{registrationName:'onScroll'},topScrollBeginDrag:{registrationName:'onScrollBeginDrag'},topScrollEndDrag:{registrationName:'onScrollEndDrag'},topScrollToTop:{registrationName:'onScrollToTop'}},validAttributes:Object.assign({alwaysBounceHorizontal:!0,alwaysBounceVertical:!0,automaticallyAdjustContentInsets:!0,automaticallyAdjustKeyboardInsets:!0,automaticallyAdjustsScrollIndicatorInsets:!0,bounces:!0,bouncesZoom:!0,canCancelContentTouches:!0,centerContent:!0,contentInset:{diff:_r(d[5])},contentOffset:{diff:_r(d[3])},contentInsetAdjustmentBehavior:!0,decelerationRate:!0,endDraggingSensitivityMultiplier:!0,directionalLockEnabled:!0,disableIntervalMomentum:!0,indicatorStyle:!0,inverted:!0,keyboardDismissMode:!0,maintainVisibleContentPosition:!0,maximumZoomScale:!0,minimumZoomScale:!0,pagingEnabled:!0,pinchGestureEnabled:!0,scrollEnabled:!0,scrollEventThrottle:!0,scrollIndicatorInsets:{diff:_r(d[5])},scrollToOverflowEnabled:!0,scrollsToTop:!0,showsHorizontalScrollIndicator:!0,showsVerticalScrollIndicator:!0,snapToAlignment:!0,snapToEnd:!0,snapToInterval:!0,snapToOffsets:!0,snapToStart:!0,verticalScrollIndicatorInsets:{diff:_r(d[5])},zoomScale:!0},(0,_r(d[6]).ConditionallyIgnoredEventHandlers)({onScrollBeginDrag:!0,onMomentumScrollEnd:!0,onScrollEndDrag:!0,onMomentumScrollBegin:!0,onScrollToTop:!0,onScroll:!0}))},r=e.get('RCTScrollView',function(){return n});_e.default=r},377,[1,181,33,198,184,199,217]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var o=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidHorizontalScrollContentView",validAttributes:{removeClippedSubviews:!0}};e.default=r(d[2]).get('AndroidHorizontalScrollContentView',function(){return o})},378,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.VScrollViewNativeComponent=e.VScrollContentViewNativeComponent=void 0;var t=o(r(d[1])),n=o(r(d[2])),l=o(r(d[3])),v=o(r(d[4]));e.VScrollViewNativeComponent=n.default,e.VScrollContentViewNativeComponent='android'===v.default.OS?l.default:t.default},379,[1,376,377,178,33]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},380,[1,381,310,174]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),f=e(_r(d[6])),s=e(_r(d[7])),u=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,f)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?i(f,s,o):f[s]=e[s]);return f})(e,t)})(_r(d[8])),c=_r(d[9]),l=["stickySectionHeadersEnabled"];function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}_e.default=(function(e){function u(){var e,t,n,f;(0,r.default)(this,u);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return t=this,n=u,f=[].concat(c),n=(0,o.default)(n),(e=(0,i.default)(t,p()?Reflect.construct(n,f||[],(0,o.default)(t).constructor):n.apply(t,f)))._captureRef=function(t){e._wrapperListRef=t},e}return(0,f.default)(u,e),(0,n.default)(u,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"setNativeProps",value:function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)}},{key:"render",value:function(){var e=this.props,r=e.stickySectionHeadersEnabled,n=(0,t.default)(e,l),i=null!=r?r:'ios'===s.default.OS;return(0,c.jsx)(_r(d[10]).VirtualizedSectionList,Object.assign({},n,{stickySectionHeadersEnabled:i,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}])})(u.PureComponent)},381,[1,135,12,13,23,25,28,33,174,219,327]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},382,[1,267,310,174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?n(u,i,o):u[i]=e[i])})(e,t)})(_r(d[3]));_e.default=(0,r.default)(t.default)},383,[1,178,310,174]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),r=e(_r(d[1])),t=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),s=e(_r(d[5])),i=e(_r(d[6])),u=e(_r(d[7])),l=e(_r(d[8])),f=e(_r(d[9])),p=e(_r(d[10])),c=y(_r(d[11])),w=e(_r(d[12])),h=y(_r(d[13])),v=_r(d[14]),D=["drawerBackgroundColor","onDrawerStateChanged","renderNavigationView","onDrawerOpen","onDrawerClose"];function y(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(y=function(e,r){if(!r&&e&&e.__esModule)return e;var o,s,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(s.get||s.set)?o(i,u,s):i[u]=e[u]);return i})(e,r)}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}var k=['Idle','Dragging','Settling'],_=(function(e){function u(){var e,r,n,i;(0,t.default)(this,u);for(var f=arguments.length,p=new Array(f),c=0;c<f;c++)p[c]=arguments[c];return r=this,n=u,i=[].concat(p),n=(0,s.default)(n),(e=(0,o.default)(r,C()?Reflect.construct(n,i||[],(0,s.default)(r).constructor):n.apply(r,i)))._nativeRef=h.createRef(),e.state={drawerOpened:!1},e._onDrawerSlide=function(r){e.props.onDrawerSlide&&e.props.onDrawerSlide(r),'on-drag'===e.props.keyboardDismissMode&&(0,l.default)()},e._onDrawerOpen=function(){e.setState({drawerOpened:!0}),e.props.onDrawerOpen&&e.props.onDrawerOpen()},e._onDrawerClose=function(){e.setState({drawerOpened:!1}),e.props.onDrawerClose&&e.props.onDrawerClose()},e._onDrawerStateChanged=function(r){e.props.onDrawerStateChanged&&e.props.onDrawerStateChanged(k[r.nativeEvent.drawerState])},e}return(0,i.default)(u,e),(0,n.default)(u,[{key:"render",value:function(){var e=this.props,t=e.drawerBackgroundColor,n=void 0===t?'white':t,o=(e.onDrawerStateChanged,e.renderNavigationView),s=(e.onDrawerOpen,e.onDrawerClose,(0,r.default)(e,D)),i=null!=this.props.statusBarBackgroundColor,u=(0,v.jsxs)(p.default,{style:[b.drawerSubview,{width:this.props.drawerWidth,backgroundColor:n}],pointerEvents:this.state.drawerOpened?'auto':'none',collapsable:!1,children:[o(),i&&(0,v.jsx)(p.default,{style:b.drawerStatusBar})]}),l=(0,v.jsxs)(p.default,{style:b.mainSubview,collapsable:!1,children:[i&&(0,v.jsx)(f.default,{translucent:!0,backgroundColor:this.props.statusBarBackgroundColor}),i&&(0,v.jsx)(p.default,{style:[b.statusBar,{backgroundColor:this.props.statusBarBackgroundColor}]}),this.props.children]});return(0,v.jsxs)(c.default,Object.assign({},s,{ref:this._nativeRef,drawerBackgroundColor:n,drawerWidth:this.props.drawerWidth,drawerPosition:this.props.drawerPosition,drawerLockMode:this.props.drawerLockMode,style:[b.base,this.props.style],onDrawerSlide:this._onDrawerSlide,onDrawerOpen:this._onDrawerOpen,onDrawerClose:this._onDrawerClose,onDrawerStateChanged:this._onDrawerStateChanged,children:[l,u]}))}},{key:"openDrawer",value:function(){c.Commands.openDrawer((0,w.default)(this._nativeRef.current))}},{key:"closeDrawer",value:function(){c.Commands.closeDrawer((0,w.default)(this._nativeRef.current))}},{key:"blur",value:function(){(0,w.default)(this._nativeRef.current).blur()}},{key:"focus",value:function(){(0,w.default)(this._nativeRef.current).focus()}},{key:"measure",value:function(e){(0,w.default)(this._nativeRef.current).measure(e)}},{key:"measureInWindow",value:function(e){(0,w.default)(this._nativeRef.current).measureInWindow(e)}},{key:"measureLayout",value:function(e,r,t){(0,w.default)(this._nativeRef.current).measureLayout(e,r,t)}},{key:"setNativeProps",value:function(e){(0,w.default)(this._nativeRef.current).setNativeProps(e)}}],[{key:"positions",get:function(){return console.warn('Setting DrawerLayoutAndroid drawerPosition using `DrawerLayoutAndroid.positions` is deprecated. Instead pass the string value "left" or "right"'),{Left:'left',Right:'right'}}}])})(h.Component),b=u.default.create({base:{flex:1,elevation:16},mainSubview:{position:'absolute',top:0,left:0,right:0,bottom:0},drawerSubview:{position:'absolute',top:0,bottom:0},statusBar:{height:f.default.currentHeight},drawerStatusBar:{position:'absolute',top:0,left:0,right:0,height:f.default.currentHeight,backgroundColor:'rgba(0, 0, 0, 0.251)'}});m.exports=_},384,[1,135,12,13,23,25,28,221,365,385,178,390,45,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var t,e,n=_r(d[0]),r=n(_r(d[1])),l=n(_r(d[2])),o=n(_r(d[3])),u=n(_r(d[4])),i=n(_r(d[5])),c=n(_r(d[6])),s=n(_r(d[7])),f=n(_r(d[8])),p=n(_r(d[9])),y=n(_r(d[10]));function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(k=function(){return!!t})()}function v(t){var e,n,r=null!=(e=t.animated)&&e,l=null!=(n=t.showHideTransition)?n:'fade';return{backgroundColor:null!=t.backgroundColor?{value:t.backgroundColor,animated:r}:null,barStyle:null!=t.barStyle?{value:t.barStyle,animated:r}:null,translucent:t.translucent,hidden:null!=t.hidden?{value:t.hidden,animated:r,transition:l}:null,networkActivityIndicatorVisible:t.networkActivityIndicatorVisible}}var S=(function(t){function e(){var t,n,l,i;(0,r.default)(this,e);for(var c=arguments.length,s=new Array(c),f=0;f<c;f++)s[f]=arguments[f];return n=this,l=e,i=[].concat(s),l=(0,u.default)(l),(t=(0,o.default)(n,k()?Reflect.construct(l,i||[],(0,u.default)(n).constructor):l.apply(n,i)))._stackEntry=null,t}return(0,i.default)(e,t),(0,l.default)(e,[{key:"componentDidMount",value:function(){this._stackEntry=e.pushStackEntry(this.props)}},{key:"componentWillUnmount",value:function(){e.popStackEntry(this._stackEntry)}},{key:"componentDidUpdate",value:function(){this._stackEntry=e.replaceStackEntry(this._stackEntry,this.props)}},{key:"render",value:function(){return null}}],[{key:"setHidden",value:function(t,n){n=n||'none',e._defaultProps.hidden.value=t,'ios'===s.default.OS?p.default.setHidden(t,n):'android'===s.default.OS&&f.default.setHidden(t)}},{key:"setBarStyle",value:function(t,n){n=n||!1,e._defaultProps.barStyle.value=t,'ios'===s.default.OS?p.default.setStyle(t,n):'android'===s.default.OS&&f.default.setStyle(t)}},{key:"setNetworkActivityIndicatorVisible",value:function(t){'ios'===s.default.OS?(e._defaultProps.networkActivityIndicatorVisible=t,p.default.setNetworkActivityIndicatorVisible(t)):console.warn('`setNetworkActivityIndicatorVisible` is only available on iOS')}},{key:"setBackgroundColor",value:function(t,n){if('android'===s.default.OS){n=n||!1,e._defaultProps.backgroundColor.value=t;var r=(0,c.default)(t);null!=r?((0,y.default)('number'==typeof r,'Unexpected color given for StatusBar.setBackgroundColor'),f.default.setColor(r,n)):console.warn(`\`StatusBar.setBackgroundColor\`: Color ${t} parsed to null or undefined`)}else console.warn('`setBackgroundColor` is only available on Android')}},{key:"setTranslucent",value:function(t){'android'===s.default.OS?(e._defaultProps.translucent=t,f.default.setTranslucent(t)):console.warn('`setTranslucent` is only available on Android')}},{key:"pushStackEntry",value:function(t){var n=v(t);return e._propsStack.push(n),e._updatePropsStack(),n}},{key:"popStackEntry",value:function(t){var n=e._propsStack.indexOf(t);-1!==n&&e._propsStack.splice(n,1),e._updatePropsStack()}},{key:"replaceStackEntry",value:function(t,n){var r=v(n),l=e._propsStack.indexOf(t);return-1!==l&&(e._propsStack[l]=r),e._updatePropsStack(),r}}])})((function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var l,o,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(l=e?r:n){if(l.has(t))return l.get(t);l.set(t,u)}for(var i in t)"default"!==i&&{}.hasOwnProperty.call(t,i)&&((o=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,i))&&(o.get||o.set)?l(u,i,o):u[i]=t[i]);return u})(t,e)})(_r(d[11])).Component);t=S,S._propsStack=[],S._defaultProps=v({backgroundColor:'android'===s.default.OS&&null!=(e=f.default.getConstants().DEFAULT_BACKGROUND_COLOR)?e:'black',barStyle:'default',translucent:!1,hidden:!1,networkActivityIndicatorVisible:!1}),S._updateImmediate=null,S._currentValues=null,S.currentHeight='android'===s.default.OS?f.default.getConstants().HEIGHT:null,S._updatePropsStack=function(){clearImmediate(t._updateImmediate),t._updateImmediate=setImmediate(function(){var e,n,r=t._currentValues,l=(e=t._propsStack,n=t._defaultProps,e.reduce(function(t,e){for(var n in e)null!=e[n]&&(t[n]=e[n]);return t},Object.assign({},n)));if('ios'===s.default.OS)r&&r.barStyle.value===l.barStyle.value||p.default.setStyle(l.barStyle.value,l.barStyle.animated||!1),r&&r.hidden.value===l.hidden.value||p.default.setHidden(l.hidden.value,l.hidden.animated?l.hidden.transition:'none'),r&&r.networkActivityIndicatorVisible===l.networkActivityIndicatorVisible||p.default.setNetworkActivityIndicatorVisible(l.networkActivityIndicatorVisible);else if('android'===s.default.OS){f.default.setStyle(l.barStyle.value);var o=(0,c.default)(l.backgroundColor.value);null==o?console.warn(`\`StatusBar._updatePropsStack\`: Color ${l.backgroundColor.value} parsed to null or undefined`):((0,y.default)('number'==typeof o,'Unexpected color given in StatusBar._updatePropsStack'),f.default.setColor(o,l.backgroundColor.animated)),r&&r.hidden.value===l.hidden.value||f.default.setHidden(l.hidden.value),r&&r.translucent===l.translucent&&!l.translucent||f.default.setTranslucent(l.translucent)}t._currentValues=l})},m.exports=S},385,[1,12,13,23,25,28,184,33,386,388,20,174]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},386,[387]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0])).getEnforcing('StatusBarManager'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t},setColor:function(t,n){e.setColor(t,n)},setTranslucent:function(t){e.setTranslucent(t)},setStyle:function(t){e.setStyle(t)},setHidden:function(t){e.setHidden(t)}};_e.default=n},387,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},388,[389]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?r(u,f,o):u[f]=e[f]);return u})(e,t)})(_r(d[0])).getEnforcing('StatusBarManager'),t=null,n={getConstants:function(){return null==t&&(t=e.getConstants()),t},getHeight:function(t){e.getHeight(t)},setNetworkActivityIndicatorVisible:function(t){e.setNetworkActivityIndicatorVisible(t)},addListener:function(t){e.addListener(t)},removeListeners:function(t){e.removeListeners(t)},setStyle:function(t,n){e.setStyle(t,n)},setHidden:function(t,n){e.setHidden(t,n)}};_e.default=n},389,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},390,[391]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,r){if("function"==typeof WeakMap)var o=new WeakMap,t=new WeakMap;(function(e,r){if(!r&&e&&e.__esModule)return e;var n,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=r?t:o){if(n.has(e))return n.get(e);n.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?n(s,l,i):s[l]=e[l])})(e,r)})(_r(d[3]));var r=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidDrawerLayout",directEventTypes:{topDrawerSlide:{registrationName:"onDrawerSlide"},topDrawerStateChanged:{registrationName:"onDrawerStateChanged"},topDrawerOpen:{registrationName:"onDrawerOpen"},topDrawerClose:{registrationName:"onDrawerClose"}},validAttributes:Object.assign({keyboardDismissMode:!0,drawerBackgroundColor:{process:_r(d[4]).default},drawerPosition:!0,drawerWidth:!0,drawerLockMode:!0,statusBarBackgroundColor:{process:_r(d[4]).default}},_r(d[5]).ConditionallyIgnoredEventHandlers({onDrawerSlide:!0,onDrawerStateChanged:!0,onDrawerOpen:!0,onDrawerClose:!0}))};_e.default=_r(d[6]).get('AndroidDrawerLayout',function(){return r}),_e.Commands={openDrawer:function(e){_r(d[7]).dispatchCommand(e,"openDrawer",[])},closeDrawer:function(e){_r(d[7]).dispatchCommand(e,"closeDrawer",[])}}},391,[1,218,261,174,184,217,181,57]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),u=e(_r(d[7])),f=e(_r(d[8])),c=e(_r(d[9])),s=e(_r(d[10])),p=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(l,u,o):l[u]=e[u]);return l})(e,t)})(_r(d[11])),y=_r(d[12]),v=["children","style","imageStyle","imageRef","importantForAccessibility"];function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}var _=(function(e){function p(){var e,t,n,l;(0,r.default)(this,p);for(var u=arguments.length,f=new Array(u),c=0;c<u;c++)f[c]=arguments[c];return t=this,n=p,l=[].concat(f),n=(0,o.default)(n),(e=(0,i.default)(t,h()?Reflect.construct(n,l||[],(0,o.default)(t).constructor):n.apply(t,l)))._viewRef=null,e._captureRef=function(t){e._viewRef=t},e}return(0,l.default)(p,e),(0,n.default)(p,[{key:"setNativeProps",value:function(e){var t=this._viewRef;t&&t.setNativeProps(e)}},{key:"render",value:function(){var e=this.props,r=e.children,n=e.style,i=e.imageStyle,o=e.imageRef,l=e.importantForAccessibility,p=(0,t.default)(e,v),h=(0,f.default)(n);return(0,y.jsxs)(u.default,{accessibilityIgnoresInvertColors:!0,importantForAccessibility:l,style:n,ref:this._captureRef,children:[(0,y.jsx)(s.default,Object.assign({},p,{importantForAccessibility:l,style:[c.default.absoluteFill,{width:null==h?void 0:h.width,height:null==h?void 0:h.height},i],ref:o})),r]})}}])})(p.Component);m.exports=_},392,[1,135,12,13,23,25,28,178,223,221,344,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),l=e(_r(d[5])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?o(i,u,l):i[u]=e[u]);return i})(e,t)})(_r(d[6])),u=_r(d[7]);var f=n.default.create({container:{position:'absolute'},safeAreaView:{flex:1}});_e.default=function(e){var n=(0,o.default)().width;return'ios'===r.default.OS?0===i.Children.count(e.children)?null:(0,u.jsx)(l.default,{style:[e.style,f.container],nativeID:e.nativeID,backgroundColor:e.backgroundColor,children:(0,u.jsx)(t.default,{style:[f.safeAreaView,{width:n}],children:e.children})}):(console.warn('<InputAccessoryView> is only supported on iOS.'),null)}},393,[1,394,221,33,397,398,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),f=e(_r(d[2]));!(function(e,t){if("function"==typeof WeakMap)var f=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?r:f){if(n.has(e))return n.get(e);n.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?n(u,l,o):u[l]=e[l])})(e,t)})(_r(d[3]));var r=t.default.select({ios:_r(d[4]).default,default:f.default});_e.default=r},394,[1,33,178,174,395]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},395,[396]);
__d(function(g,r,i,a,m,e,d){var _=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;_(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTSafeAreaView",validAttributes:{}};e.default=r(d[2]).get('RCTSafeAreaView',function(){return t})},396,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,f.useState)(function(){return u.default.get('window')}),o=(0,n.default)(t,2),c=o[0],l=o[1];return(0,f.useEffect)(function(){function t(t){var n=t.window;c.width===n.width&&c.height===n.height&&c.scale===n.scale&&c.fontScale===n.fontScale||l(n)}var n=u.default.addEventListener('change',t);return t({window:u.default.get('window')}),function(){n.remove()}},[c]),c};var n=t(r(d[1])),u=t(r(d[2])),f=r(d[3])},397,[1,38,208,174]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},398,[399]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var u=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTInputAccessoryView",validAttributes:{backgroundColor:{process:r(d[2]).default}}};e.default=r(d[3]).get('RCTInputAccessoryView',function(){return u})},399,[1,261,184,181]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t,n=e(_r(d[1])),r=e(_r(d[2])),o=((function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f])})(e,t)})(_r(d[3])),_r(d[4]));var i=null!=(null==(t=g)?void 0:t.nativeFabricUIManager);_e.default=i?function(e){return(0,o.jsx)(r.default,Object.assign({},e,{style:u.container}))}:function(e){return e.children};var u=n.default.create({container:{display:'contents'}})},400,[1,221,401,174,219]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0])).get('LayoutConformance',function(){return{uiViewClassName:'LayoutConformance',validAttributes:{mode:!0}}});_e.default=e},401,[181]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),o=t(_r(d[2])),n=t(_r(d[3])),i=t(_r(d[4])),r=t(_r(d[5])),s=t(_r(d[6])),u=t(_r(d[7])),l=t(_r(d[8])),f=t(_r(d[9])),h=t(_r(d[10])),c=t(_r(d[11])),y=t(_r(d[12])),_=t(_r(d[13])),p=t(_r(d[14])),b=(function(t,e){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,r,s={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return s;if(i=e?n:o){if(i.has(t))return i.get(t);i.set(t,s)}for(var u in t)"default"!==u&&{}.hasOwnProperty.call(t,u)&&((r=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,u))&&(r.get||r.set)?i(s,u,r):s[u]=t[u]);return s})(t,e)})(_r(d[15])),v=_r(d[16]),w=["behavior","children","contentContainerStyle","enabled","keyboardVerticalOffset","style","onLayout"];function k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(k=function(){return!!t})()}var L=(function(t){function L(t){var e,i,u,f;return(0,n.default)(this,L),i=this,u=L,f=[t],u=(0,s.default)(u),(e=(0,r.default)(i,k()?Reflect.construct(u,f||[],(0,s.default)(i).constructor):u.apply(i,f)))._frame=null,e._keyboardEvent=null,e._subscriptions=[],e._initialFrameHeight=0,e._bottom=0,e._windowWidth=h.default.get('window').width,e._onKeyboardChange=function(t){e._keyboardEvent=t,e._updateBottomIfNecessary()},e._onLayout=(function(){var t=(0,o.default)(function*(t){t.persist();var o=e._frame;e._frame=t.nativeEvent.layout,e._initialFrameHeight||(e._initialFrameHeight=e._frame.height),o&&o.height===e._frame.height||(yield e._updateBottomIfNecessary()),e.props.onLayout&&e.props.onLayout(t)});return function(e){return t.apply(this,arguments)}})(),e._onDimensionsChange=function(t){var o,n=t.window;e._windowWidth=null!=(o=null==n?void 0:n.width)?o:0},e._setBottom=function(t){var o,n=null==(o=e.props.enabled)||o;e._bottom=t,n&&e.setState({bottom:t})},e._updateBottomIfNecessary=(0,o.default)(function*(){var t;if(null!=e._keyboardEvent)if('ios'!==c.default.OS||e._windowWidth===e._keyboardEvent.endCoordinates.width){var o=e._keyboardEvent,n=o.duration,i=o.easing,r=o.endCoordinates,s=yield e._relativeKeyboardHeight(r);if(e._bottom!==s)e._setBottom(s),(null==(t=e.props.enabled)||t)&&n&&i&&l.default.configureNext({duration:n>10?n:10,update:{duration:n>10?n:10,type:l.default.Types[i]||'keyboard'}})}else e._setBottom(0);else e._setBottom(0)}),e.state={bottom:0},e.viewRef=b.createRef(),e}return(0,u.default)(L,t),(0,i.default)(L,[{key:"_relativeKeyboardHeight",value:(O=(0,o.default)(function*(t){var e,o=this._frame;if(!o||!t)return 0;if('ios'===c.default.OS&&0===t.screenY&&(yield y.default.prefersCrossFadeTransitions()))return 0;var n=t.screenY-(null!=(e=this.props.keyboardVerticalOffset)?e:0);return'height'===this.props.behavior?Math.max(this.state.bottom+o.y+o.height-n,0):Math.max(o.y+o.height-n,0)}),function(t){return O.apply(this,arguments)})},{key:"componentDidUpdate",value:function(t,e){var o;(null==(o=this.props.enabled)||o)&&this._bottom!==e.bottom&&this.setState({bottom:this._bottom})}},{key:"componentDidMount",value:function(){p.default.isVisible()||(this._keyboardEvent=null,this._setBottom(0)),'ios'===c.default.OS?this._subscriptions=[p.default.addListener('keyboardWillChangeFrame',this._onKeyboardChange),h.default.addEventListener('change',this._onDimensionsChange)]:this._subscriptions=[p.default.addListener('keyboardDidHide',this._onKeyboardChange),p.default.addListener('keyboardDidShow',this._onKeyboardChange)]}},{key:"componentWillUnmount",value:function(){this._subscriptions.forEach(function(t){t.remove()})}},{key:"render",value:function(){var t=this.props,o=t.behavior,n=t.children,i=t.contentContainerStyle,r=t.enabled,s=void 0===r||r,u=(t.keyboardVerticalOffset,t.style),l=(t.onLayout,(0,e.default)(t,w)),h=!0===s?this.state.bottom:0;switch(o){case'height':var c;return null!=this._frame&&this.state.bottom>0&&(c={height:this._initialFrameHeight-h,flex:0}),(0,v.jsx)(_.default,Object.assign({ref:this.viewRef,style:f.default.compose(u,c),onLayout:this._onLayout},l,{children:n}));case'position':return(0,v.jsx)(_.default,Object.assign({ref:this.viewRef,style:u,onLayout:this._onLayout},l,{children:(0,v.jsx)(_.default,{style:f.default.compose(i,{bottom:h}),children:n})}));case'padding':return(0,v.jsx)(_.default,Object.assign({ref:this.viewRef,style:f.default.compose(u,{paddingBottom:h}),onLayout:this._onLayout},l,{children:n}));default:return(0,v.jsx)(_.default,Object.assign({ref:this.viewRef,onLayout:this._onLayout,style:u},l,{children:n}))}}}]);var O})(b.Component);_e.default=L},402,[1,135,345,12,13,23,25,28,367,221,208,33,21,178,366,174,219]);
__d(function(g,r,i,a,m,_e,d){var t,e=r(d[0]),n=e(r(d[1])),o=e(r(d[2])),s=e(r(d[3])),l=e(r(d[4])),u=e(r(d[5])),p=e(r(d[6])),c=(e(r(d[7])),e(r(d[8]))),h=(e(r(d[9])),e(r(d[10]))),f=r(d[11]);function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}var y=r(d[12]),S=0,b=(function(t){function e(t){var n,s,p,c;return(0,o.default)(this,e),s=this,p=e,c=[t],p=(0,u.default)(p),(n=(0,l.default)(s,v()?Reflect.construct(p,c||[],(0,u.default)(s).constructor):p.apply(s,c)))._identifier=S++,n.state={isRendered:!0===t.visible},n}return(0,p.default)(e,t),(0,s.default)(e,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this._eventSubscription&&this._eventSubscription.remove()}},{key:"componentDidUpdate",value:function(t){!1===t.visible&&!0===this.props.visible&&this.setState({isRendered:!0})}},{key:"_shouldShowModal",value:function(){return!0===this.props.visible}},{key:"render",value:function(){var t;if(!this._shouldShowModal())return null;var e={backgroundColor:!0===this.props.transparent?'transparent':null!=(t=this.props.backdropColor)?t:'white'},n=this.props.animationType||'none',o=this.props.presentationStyle;o||(o='fullScreen',!0===this.props.transparent&&(o='overFullScreen'));var s=this.props.children;return(0,f.jsx)(h.default,{animationType:n,presentationStyle:o,transparent:this.props.transparent,hardwareAccelerated:this.props.hardwareAccelerated,onRequestClose:this.props.onRequestClose,onShow:this.props.onShow,onDismiss:function(){},visible:this.props.visible,statusBarTranslucent:this.props.statusBarTranslucent,navigationBarTranslucent:this.props.navigationBarTranslucent,identifier:this._identifier,style:C.modal,onStartShouldSetResponder:this._shouldSetResponder,supportedOrientations:this.props.supportedOrientations,onOrientationChange:this.props.onOrientationChange,testID:this.props.testID,children:(0,f.jsx)(r(d[13]).VirtualizedListContextResetter,{children:(0,f.jsx)(r(d[14]).Context.Provider,{value:null,children:(0,f.jsx)(r(d[15]),{style:[C.container,e],collapsable:!1,children:s})})})})}},{key:"_shouldSetResponder",value:function(){return!0}}])})(y.Component);b.defaultProps={visible:!0,hardwareAccelerated:!1},b.contextType=r(d[16]).RootTagContext;var R=r(d[17]).getConstants().isRTL?'right':'left',C=r(d[18]).create({modal:{position:'absolute'},container:(0,n.default)((0,n.default)((0,n.default)({},R,0),"top",0),"flex",1)}),_=null!=(t=c.default.unstable_Modal)?t:b;m.exports=_},403,[1,194,12,13,23,25,28,126,404,405,407,219,174,327,360,178,224,409,221]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={unstable_Modal:null}},404,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},405,[406]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('ModalManager')},406,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},407,[408]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTModalHostView",directEventTypes:{topRequestClose:{registrationName:"onRequestClose"},topShow:{registrationName:"onShow"},topDismiss:{registrationName:"onDismiss"},topOrientationChange:{registrationName:"onOrientationChange"}},validAttributes:Object.assign({animationType:!0,presentationStyle:!0,transparent:!0,statusBarTranslucent:!0,navigationBarTranslucent:!0,hardwareAccelerated:!0,visible:!0,animated:!0,supportedOrientations:!0,identifier:!0},r(d[2]).ConditionallyIgnoredEventHandlers({onRequestClose:!0,onShow:!0,onDismiss:!0,onOrientationChange:!0}))};e.default=r(d[3]).get('RCTModalHostView',function(){return n})},408,[1,261,217,181]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),n=(function(){if(t.default){var n=t.default.getConstants();return{isRTL:n.isRTL,doLeftAndRightSwapInRTL:n.doLeftAndRightSwapInRTL,localeIdentifier:n.localeIdentifier}}return{isRTL:!1,doLeftAndRightSwapInRTL:!0}})();m.exports={getConstants:function(){return n},allowRTL:function(n){t.default&&t.default.allowRTL(n)},forceRTL:function(n){t.default&&t.default.forceRTL(n)},swapLeftAndRightInRTL:function(n){t.default&&t.default.swapLeftAndRightInRTL(n)},isRTL:n.isRTL,doLeftAndRightSwapInRTL:n.doLeftAndRightSwapInRTL}},409,[1,410]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},410,[411]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('I18nManager')},411,[36]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var l=e(_r(d[1])),n=e(_r(d[2])),s=e(_r(d[3])),i=e(_r(d[4])),t=e(_r(d[5])),o=e(_r(d[6])),r=(function(e,l){if("function"==typeof WeakMap)var n=new WeakMap,s=new WeakMap;return(function(e,l){if(!l&&e&&e.__esModule)return e;var i,t,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=l?s:n){if(i.has(e))return i.get(e);i.set(e,o)}for(var r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((t=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(t.get||t.set)?i(o,r,t):o[r]=e[r]);return o})(e,l)})(_r(d[7])),u=r,c=_r(d[8]),f=["accessible","accessibilityState","aria-live","android_disableSound","android_ripple","aria-busy","aria-checked","aria-disabled","aria-expanded","aria-label","aria-selected","cancelable","children","delayHoverIn","delayHoverOut","delayLongPress","disabled","focusable","hitSlop","onHoverIn","onHoverOut","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset","style","testOnly_pressed","unstable_pressDelay"];function b(e){var n=(0,r.useState)(!1),s=(0,l.default)(n,2);return[s[0]||e,s[1]]}var y=u.memo(u.forwardRef(function(e,u){var y,v,p,P,O,_,h,I,H,w=e.accessible,x=e.accessibilityState,S=e['aria-live'],L=e.android_disableSound,M=e.android_ripple,j=e['aria-busy'],k=e['aria-checked'],R=e['aria-disabled'],V=e['aria-expanded'],D=e['aria-label'],W=e['aria-selected'],N=e.cancelable,q=e.children,z=e.delayHoverIn,A=e.delayHoverOut,B=e.delayLongPress,C=e.disabled,E=e.focusable,F=e.hitSlop,G=e.onHoverIn,J=e.onHoverOut,K=e.onLongPress,Q=e.onPress,T=e.onPressIn,U=e.onPressOut,X=e.pressRetentionOffset,Y=e.style,Z=e.testOnly_pressed,$=e.unstable_pressDelay,ee=(0,n.default)(e,f),le=(0,r.useRef)(null),ae=(0,i.default)(u,le),ne=(0,o.default)(M,le),se=b(!0===Z),ie=(0,l.default)(se,2),te=ie[0],oe=ie[1],re='function'==typeof q||'function'==typeof Y,ue={busy:null!=j?j:null==x?void 0:x.busy,checked:null!=k?k:null==x?void 0:x.checked,disabled:null!=R?R:null==x?void 0:x.disabled,expanded:null!=V?V:null==x?void 0:x.expanded,selected:null!=W?W:null==x?void 0:x.selected};ue=null!=C?Object.assign({},ue,{disabled:C}):ue;var de={max:null!=(y=e['aria-valuemax'])?y:null==(v=e.accessibilityValue)?void 0:v.max,min:null!=(p=e['aria-valuemin'])?p:null==(P=e.accessibilityValue)?void 0:P.min,now:null!=(O=e['aria-valuenow'])?O:null==(_=e.accessibilityValue)?void 0:_.now,text:null!=(h=e['aria-valuetext'])?h:null==(I=e.accessibilityValue)?void 0:I.text},ce='off'===S?'none':null!=S?S:e.accessibilityLiveRegion,fe=null!=D?D:e.accessibilityLabel,be=Object.assign({},ee,null==ne?void 0:ne.viewProps,{accessible:!1!==w,accessibilityViewIsModal:null!=(H=ee['aria-modal'])?H:ee.accessibilityViewIsModal,accessibilityLiveRegion:ce,accessibilityLabel:fe,accessibilityState:ue,focusable:!1!==E,accessibilityValue:de,hitSlop:F}),ye=(0,r.useMemo)(function(){return{cancelable:N,disabled:C,hitSlop:F,pressRectOffset:X,android_disableSound:L,delayHoverIn:z,delayHoverOut:A,delayLongPress:B,delayPressIn:$,onHoverIn:G,onHoverOut:J,onLongPress:K,onPress:Q,onPressIn:function(e){null!=ne&&ne.onPressIn(e),re&&oe(!0),null!=T&&T(e)},onPressMove:null==ne?void 0:ne.onPressMove,onPressOut:function(e){null!=ne&&ne.onPressOut(e),re&&oe(!1),null!=U&&U(e)}}},[L,ne,N,z,A,B,C,F,G,J,K,Q,T,U,X,oe,re,$]),ve=(0,s.default)(ye);return(0,c.jsxs)(t.default,Object.assign({},be,ve,{ref:ae,style:'function'==typeof Y?Y({pressed:te}):Y,collapsable:!1,children:['function'==typeof q?q({pressed:te}):q,null]}))}));y.displayName='Pressable';_e.default=y},412,[1,38,135,269,311,178,413,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,l){var u=null!=e?e:{},i=u.color,s=u.borderless,f=u.radius,c=u.foreground;return(0,o.useMemo)(function(){if('android'===r.default.OS&&(null!=i||null!=s||null!=f)){var e=(0,n.default)(i);(0,t.default)(null==e||'number'==typeof e,'Unexpected color given for Ripple color');var o={type:'RippleAndroid',color:e,borderless:!0===s,rippleRadius:f};return{viewProps:!0===c?{nativeForegroundAndroid:o}:{nativeBackgroundAndroid:o},onPressIn:function(e){var n,r,t=l.current;null!=t&&(_r(d[6]).Commands.hotspotUpdate(t,null!=(n=e.nativeEvent.locationX)?n:0,null!=(r=e.nativeEvent.locationY)?r:0),_r(d[6]).Commands.setPressed(t,!0))},onPressMove:function(e){var n,r,t=l.current;null!=t&&_r(d[6]).Commands.hotspotUpdate(t,null!=(n=e.nativeEvent.locationX)?n:0,null!=(r=e.nativeEvent.locationY)?r:0)},onPressOut:function(e){var n=l.current;null!=n&&_r(d[6]).Commands.setPressed(n,!1)}}}return null},[s,i,c,f,l])};var n=e(_r(d[1])),r=e(_r(d[2])),t=(e(_r(d[3])),e(_r(d[4]))),o=(function(e,n){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var o,l,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=n?t:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(l.get||l.set)?o(u,i,l):u[i]=e[i]);return u})(e,n)})(_r(d[5]))},413,[1,184,33,178,20,174,180]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),l=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),r=e(_r(d[5])),u=v(_r(d[6])),i=v(_r(d[7])),s=v(_r(d[8])),c=_r(d[9]),f=["disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value"];function v(e,t){if("function"==typeof WeakMap)var l=new WeakMap,n=new WeakMap;return(v=function(e,t){if(!t&&e&&e.__esModule)return e;var o,r,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:l){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((r=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(r.get||r.set)?o(u,i,r):u[i]=e[i]);return u})(e,t)}var b=function(){return!1},C=function(){return!0},h=s.forwardRef(function(e,v){var h=e.disabled,p=e.ios_backgroundColor,y=e.onChange,R=e.onValueChange,_=e.style,k=e.thumbColor,S=e.trackColor,O=e.value,j=(0,l.default)(e,f),w=null==S?void 0:S.false,T=null==S?void 0:S.true,M=s.useRef(null),P=(0,r.default)(M,v),V=s.useState({value:null}),E=(0,t.default)(V,2),F=E[0],W=E[1],q=function(e){null==y||y(e),null==R||R(e.nativeEvent.value),W({value:e.nativeEvent.value})};if(s.useLayoutEffect(function(){var e,t=!0===O;null!=F.value&&F.value!==t&&null!=(null==(e=M.current)?void 0:e.setNativeProps)&&('android'===o.default.OS?u.Commands.setNativeValue(M.current,t):i.Commands.setValue(M.current,t))},[O,F]),'android'===o.default.OS){var x,N=j.accessibilityState,D=null!=h?h:null==N?void 0:N.disabled,L={accessibilityState:D!==(null==N?void 0:N.disabled)?Object.assign({},N,{disabled:D}):N,enabled:!0!==D,on:!0===O,style:_,thumbTintColor:k,trackColorForFalse:w,trackColorForTrue:T,trackTintColor:!0===O?T:w};return(0,c.jsx)(u.default,Object.assign({},j,L,{accessibilityRole:null!=(x=e.accessibilityRole)?x:'switch',onChange:q,onResponderTerminationRequest:b,onStartShouldSetResponder:C,ref:P}))}var z,A={disabled:h,onTintColor:T,style:n.default.compose({height:31,width:51},n.default.compose(_,null==p?null:{backgroundColor:p,borderRadius:16})),thumbTintColor:k,tintColor:w,value:!0===O};return(0,c.jsx)(i.default,Object.assign({},j,A,{accessibilityRole:null!=(z=e.accessibilityRole)?z:'switch',onChange:q,onResponderTerminationRequest:b,onStartShouldSetResponder:C,ref:P}))});_e.default=h},414,[1,38,135,221,33,311,415,417,174,219]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},415,[416]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?r(u,l,i):u[l]=e[l])})(e,t)})(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"AndroidSwitch",bubblingEventTypes:{topChange:{phasedRegistrationNames:{captured:"onChangeCapture",bubbled:"onChange"}}},validAttributes:Object.assign({disabled:!0,enabled:!0,thumbColor:{process:_r(d[4]).default},trackColorForFalse:{process:_r(d[4]).default},trackColorForTrue:{process:_r(d[4]).default},value:!0,on:!0,thumbTintColor:{process:_r(d[4]).default},trackTintColor:{process:_r(d[4]).default}},_r(d[5]).ConditionallyIgnoredEventHandlers({onChange:!0}))};_e.default=_r(d[6]).get('AndroidSwitch',function(){return t}),_e.Commands={setNativeValue:function(e,t){_r(d[7]).dispatchCommand(e,"setNativeValue",[t])}}},416,[1,218,261,174,184,217,181,57]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},417,[418]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;e(_r(d[1])),e(_r(d[2])),(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(u.get||u.set)?r(l,s,u):l[s]=e[s])})(e,t)})(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RCTSwitch",bubblingEventTypes:{topChange:{phasedRegistrationNames:{captured:"onChangeCapture",bubbled:"onChange"}}},validAttributes:Object.assign({disabled:!0,value:!0,tintColor:{process:_r(d[4]).default},onTintColor:{process:_r(d[4]).default},thumbTintColor:{process:_r(d[4]).default},thumbColor:{process:_r(d[4]).default},trackColorForFalse:{process:_r(d[4]).default},trackColorForTrue:{process:_r(d[4]).default}},_r(d[5]).ConditionallyIgnoredEventHandlers({onChange:!0}))};_e.default=_r(d[6]).get('RCTSwitch',function(){return t}),_e.Commands={setValue:function(e,t){_r(d[7]).dispatchCommand(e,"setValue",[t])}}},418,[1,218,261,174,184,217,181,57]);
__d(function(g,_r,_i,a,m,_e,d){var e,t,n,l,o,r,i=_r(d[0]),u=i(_r(d[1])),c=i(_r(d[2])),s=E(_r(d[3])),f=i(_r(d[4])),p=i(_r(d[5])),v=i(_r(d[6])),y=i(_r(d[7])),b=i(_r(d[8])),h=i(_r(d[9])),C=i(_r(d[10])),x=i(_r(d[11])),S=i(_r(d[12])),T=i(_r(d[13])),w=E(_r(d[14])),O=w,I=_r(d[15]),R=["aria-busy","aria-checked","aria-disabled","aria-expanded","aria-selected","accessibilityState","id","tabIndex","selection","selectionColor","selectionHandleColor","cursorColor"],F=["onBlur","onFocus"],j=["allowFontScaling","rejectResponderTermination","underlineColorAndroid","autoComplete","textContentType","readOnly","editable","enterKeyHint","returnKeyType","inputMode","showSoftInputOnFocus","keyboardType"];function E(e,t){if("function"==typeof WeakMap)var n=new WeakMap,l=new WeakMap;return(E=function(e,t){if(!t&&e&&e.__esModule)return e;var o,r,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?l:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((r=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(r.get||r.set)?o(i,u,r):i[u]=e[u]);return i})(e,t)}'android'===h.default.OS?(e=_r(d[16]).default,t=_r(d[16]).Commands):'ios'===h.default.OS&&(n=_r(d[17]).default,l=_r(d[17]).Commands,o=_r(d[18]).default,r=_r(d[18]).Commands);var N=function(){return!0};function A(e){var t=e.props,n=e.mostRecentEventCount,l=e.selection,o=e.inputRef,r=e.text,i=e.viewCommands,u=(0,w.useState)(t.value),s=(0,c.default)(u,2),f=s[0],p=s[1],v=(0,w.useState)({selection:{start:-1,end:-1},mostRecentEventCount:n}),y=(0,c.default)(v,2),b=y[0],h=y[1],C=b.selection;return(0,w.useLayoutEffect)(function(){var e,u,c={};(f!==t.value&&'string'==typeof t.value&&(c.text=t.value,p(t.value)),l&&C&&(C.start!==l.start||C.end!==l.end)&&(c.selection=l,h({selection:l,mostRecentEventCount:n})),0!==Object.keys(c).length)&&(null!=o.current&&i.setTextAndSelection(o.current,n,r,null!=(e=null==l?void 0:l.start)?e:-1,null!=(u=null==l?void 0:l.end)?u:-1))},[n,o,t.value,t.defaultValue,f,l,C,r,i]),{setLastNativeText:p,setLastNativeSelection:h}}function k(e){var t=e.props,n=e.mostRecentEventCount,l=e.selection,o=e.inputRef,r=e.text,i=e.viewCommands,u=(0,w.useRef)(t.value),c=(0,w.useRef)({selection:{start:-1,end:-1},mostRecentEventCount:n});return(0,w.useLayoutEffect)(function(){var e,s,f={},p=c.current.selection;(u.current!==t.value&&'string'==typeof t.value&&(f.text=t.value,u.current=t.value),l&&p&&(p.start!==l.start||p.end!==l.end)&&(f.selection=l,c.current={selection:l,mostRecentEventCount:n}),0!==Object.keys(f).length)&&(null!=o.current&&i.setTextAndSelection(o.current,n,r,null!=(e=null==l?void 0:l.start)?e:-1,null!=(s=null==l?void 0:l.end)?s:-1))},[n,o,t.value,t.defaultValue,l,r,i]),{setLastNativeText:function(e){u.current=e},setLastNativeSelection:function(e){c.current=e}}}function L(i){var j,E,L=i['aria-busy'],B=i['aria-checked'],P=i['aria-disabled'],D=i['aria-expanded'],M=i['aria-selected'],H=i.accessibilityState,V=i.id,W=i.tabIndex,K=i.selection,U=i.selectionColor,Y=i.selectionHandleColor,G=i.cursorColor,q=(0,u.default)(i,R),J=(0,w.useRef)(null),Q=null==K?null:{start:K.start,end:null!=(j=K.end)?j:K.start},X='string'==typeof i.value?i.value:'string'==typeof i.defaultValue?i.defaultValue:'',Z=t||(!0===i.multiline?r:l),$=(0,w.useState)(0),ee=(0,c.default)($,2),te=ee[0],ne=ee[1],le=(s.useRefsForTextInputState()?k:A)({props:i,inputRef:J,mostRecentEventCount:te,selection:Q,text:X,viewCommands:Z}),ae=le.setLastNativeText,oe=le.setLastNativeSelection;(0,w.useLayoutEffect)(function(){var e=J.current;if(null!=e)return x.default.registerInput(e),function(){x.default.unregisterInput(e),x.default.currentlyFocusedInput()===e&&(0,T.default)(e).blur()}},[]);var re,ie=(0,w.useCallback)(function(e){J.current=e,null!=e&&Object.assign(e,{clear:function(){null!=J.current&&Z.setTextAndSelection(J.current,te,'',0,0)},isFocused:function(){return x.default.currentlyFocusedInput()===J.current},getNativeRef:function(){return J.current},setSelection:function(e,t){null!=J.current&&Z.setTextAndSelection(J.current,te,null,e,t)}})},[te,Z]),ue=(0,C.default)(ie,i.forwardedRef),de=function(e){var t=e.nativeEvent.text;i.onChange&&i.onChange(e),i.onChangeText&&i.onChangeText(t),null!=J.current&&(ae(t),ne(e.nativeEvent.eventCount))},ce=function(e){i.onSelectionChange&&i.onSelectionChange(e),null!=J.current&&oe({selection:e.nativeEvent.selection,mostRecentEventCount:te})},se=function(e){x.default.focusInput(J.current),i.onFocus&&i.onFocus(e)},fe=function(e){x.default.blurInput(J.current),i.onBlur&&i.onBlur(e)},pe=function(e){i.onScroll&&i.onScroll(e)},me=null,ve=null!=(E=i.multiline)&&E;re=null!=i.submitBehavior?ve||'newline'!==i.submitBehavior?i.submitBehavior:'blurAndSubmit':ve?!0===i.blurOnSubmit?'blurAndSubmit':'newline':!1!==i.blurOnSubmit?'blurAndSubmit':'submit';var ye=!1!==i.accessible,be=!1!==i.focusable,he=i.editable,Ce=i.hitSlop,xe=i.onPress,ge=i.onPressIn,Se=i.onPressOut,Te=i.rejectResponderTermination,we=O.useMemo(function(){return{hitSlop:Ce,onPress:function(e){null==xe||xe(e),!1!==he&&null!=J.current&&J.current.focus()},onPressIn:ge,onPressOut:Se,cancelable:'ios'===h.default.OS?!Te:null}},[he,Ce,xe,ge,Se,Te]),Oe=i.caretHidden;h.default.isTesting&&(Oe=!0);var Ie,Re=(0,f.default)(we),Fe=(Re.onBlur,Re.onFocus,(0,u.default)(Re,F));null==H&&null==L&&null==B&&null==P&&null==D&&null==M||(Ie={busy:null!=L?L:null==H?void 0:H.busy,checked:null!=B?B:null==H?void 0:H.checked,disabled:null!=P?P:null==H?void 0:H.disabled,expanded:null!=D?D:null==H?void 0:H.expanded,selected:null!=M?M:null==H?void 0:H.selected});var je=i.style,Ee=(0,p.default)(i.style);if(null!=Ee){var Ne=null;'number'==typeof(null==Ee?void 0:Ee.fontWeight)&&((Ne=Ne||{}).fontWeight=Ee.fontWeight.toString()),null!=Ee.verticalAlign&&((Ne=Ne||{}).textAlignVertical=z[Ee.verticalAlign],Ne.verticalAlign=void 0),null!=Ne&&(je=[je,Ne])}if('ios'===h.default.OS){var Ae=!0===i.multiline?o:n,ke=!0===i.multiline&&(null==Ee||null==Ee.padding&&null==Ee.paddingVertical&&null==Ee.paddingTop);me=(0,I.jsx)(Ae,Object.assign({ref:ue},q,Fe,{accessibilityState:Ie,accessible:ye,submitBehavior:re,caretHidden:Oe,dataDetectorTypes:i.dataDetectorTypes,focusable:void 0!==W?!W:be,mostRecentEventCount:te,nativeID:null!=V?V:i.nativeID,onBlur:fe,onChange:de,onContentSizeChange:i.onContentSizeChange,onFocus:se,onScroll:pe,onSelectionChange:ce,onSelectionChangeShouldSetResponder:N,selection:Q,selectionColor:U,style:v.default.compose(ke?_.multilineDefault:null,je),text:X}))}else if('android'===h.default.OS){var Le,Be,Pe,De=i.autoCapitalize||'sentences',Me=null!=(Le=null==i?void 0:i['aria-labelledby'])?Le:null==i?void 0:i.accessibilityLabelledBy,He=null!=(Be=i.placeholder)?Be:'',ze=i.children,Ve=O.Children.count(ze);(0,S.default)(!(null!=i.value&&Ve),'Cannot specify both value and children.'),Ve>1&&(ze=(0,I.jsx)(y.default,{children:ze}));var We={selectionColor:U,selectionHandleColor:void 0===Y?U:Y,cursorColor:void 0===G?U:G};me=(0,I.jsx)(e,Object.assign({ref:ue},q,We,Fe,{accessibilityState:Ie,accessibilityLabelledBy:Me,accessible:ye,autoCapitalize:De,submitBehavior:re,caretHidden:Oe,children:ze,disableFullscreenUI:i.disableFullscreenUI,focusable:void 0!==W?!W:be,mostRecentEventCount:te,nativeID:null!=V?V:i.nativeID,numberOfLines:null!=(Pe=i.rows)?Pe:i.numberOfLines,onBlur:fe,onChange:de,onFocus:se,onScroll:pe,onSelectionChange:ce,placeholder:He,style:je,text:X,textBreakStrategy:i.textBreakStrategy}))}return(0,I.jsx)(b.default.Provider,{value:!0,children:me})}var B={enter:'default',done:'done',go:'go',next:'next',previous:'previous',search:'search',send:'send'},P={none:'default',text:'default',decimal:'decimal-pad',numeric:'number-pad',tel:'phone-pad',search:'ios'===h.default.OS?'web-search':'default',email:'email-address',url:'url'},D={'address-line1':'postal-address-region','address-line2':'postal-address-locality',bday:'birthdate-full','bday-day':'birthdate-day','bday-month':'birthdate-month','bday-year':'birthdate-year','cc-csc':'cc-csc','cc-exp':'cc-exp','cc-exp-month':'cc-exp-month','cc-exp-year':'cc-exp-year','cc-number':'cc-number',country:'postal-address-country','current-password':'password',email:'email','honorific-prefix':'name-prefix','honorific-suffix':'name-suffix',name:'name','additional-name':'name-middle','family-name':'name-family','given-name':'name-given','new-password':'password-new',off:'off','one-time-code':'sms-otp','postal-code':'postal-code',sex:'gender','street-address':'street-address',tel:'tel','tel-country-code':'tel-country-code','tel-national':'tel-national',username:'username'},M={'address-line1':'streetAddressLine1','address-line2':'streetAddressLine2',bday:'birthdate','bday-day':'birthdateDay','bday-month':'birthdateMonth','bday-year':'birthdateYear','cc-csc':'creditCardSecurityCode','cc-exp-month':'creditCardExpirationMonth','cc-exp-year':'creditCardExpirationYear','cc-exp':'creditCardExpiration','cc-given-name':'creditCardGivenName','cc-additional-name':'creditCardMiddleName','cc-family-name':'creditCardFamilyName','cc-name':'creditCardName','cc-number':'creditCardNumber','cc-type':'creditCardType','current-password':'password',country:'countryName',email:'emailAddress',name:'name','additional-name':'middleName','family-name':'familyName','given-name':'givenName',nickname:'nickname','honorific-prefix':'namePrefix','honorific-suffix':'nameSuffix','new-password':'newPassword',off:'none','one-time-code':'oneTimeCode',organization:'organizationName','organization-title':'jobTitle','postal-code':'postalCode','street-address':'fullStreetAddress',tel:'telephoneNumber',url:'URL',username:'username'},H=O.forwardRef(function(e,t){var n,l=e.allowFontScaling,o=void 0===l||l,r=e.rejectResponderTermination,i=void 0===r||r,c=e.underlineColorAndroid,s=void 0===c?'transparent':c,f=e.autoComplete,p=e.textContentType,v=e.readOnly,y=e.editable,b=e.enterKeyHint,C=e.returnKeyType,x=e.inputMode,S=e.showSoftInputOnFocus,T=e.keyboardType,w=(0,u.default)(e,j);return(0,I.jsx)(L,Object.assign({allowFontScaling:o,rejectResponderTermination:i,underlineColorAndroid:s,editable:void 0!==v?!v:y,returnKeyType:b?B[b]:C,keyboardType:x?P[x]:T,showSoftInputOnFocus:null==x?S:'none'!==x,autoComplete:'android'===h.default.OS?null!=(n=D[f])?n:f:void 0,textContentType:null!=p?p:'ios'===h.default.OS&&f&&f in M?M[f]:p},w,{forwardedRef:t}))});H.displayName='TextInput',H.State={currentlyFocusedInput:x.default.currentlyFocusedInput,currentlyFocusedField:x.default.currentlyFocusedField,focusTextInput:x.default.focusTextInput,blurTextInput:x.default.blurTextInput};var _=v.default.create({multilineDefault:{paddingTop:5}}),z={auto:'auto',top:'top',bottom:'bottom',middle:'center'};m.exports=H},419,[1,135,38,104,269,223,221,267,179,33,311,232,20,45,174,219,233,420,422]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3]));_e.Commands=(0,n.default)({supportedCommands:['focus','blur','setTextAndSelection']});var u=_e.__INTERNAL_VIEW_CONFIG=Object.assign({uiViewClassName:'RCTSinglelineTextInputView'},r.default),o=t.get('RCTSinglelineTextInputView',function(){return u});_e.default=o},420,[1,181,218,421]);
__d(function(g,r,i,a,m,e,d){var t={bubblingEventTypes:{topBlur:{phasedRegistrationNames:{bubbled:'onBlur',captured:'onBlurCapture'}},topChange:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'}},topEndEditing:{phasedRegistrationNames:{bubbled:'onEndEditing',captured:'onEndEditingCapture'}},topFocus:{phasedRegistrationNames:{bubbled:'onFocus',captured:'onFocusCapture'}},topKeyPress:{phasedRegistrationNames:{bubbled:'onKeyPress',captured:'onKeyPressCapture'}},topSubmitEditing:{phasedRegistrationNames:{bubbled:'onSubmitEditing',captured:'onSubmitEditingCapture'}},topTouchCancel:{phasedRegistrationNames:{bubbled:'onTouchCancel',captured:'onTouchCancelCapture'}},topTouchEnd:{phasedRegistrationNames:{bubbled:'onTouchEnd',captured:'onTouchEndCapture'}},topTouchMove:{phasedRegistrationNames:{bubbled:'onTouchMove',captured:'onTouchMoveCapture'}}},directEventTypes:{topScroll:{registrationName:'onScroll'},topSelectionChange:{registrationName:'onSelectionChange'},topContentSizeChange:{registrationName:'onContentSizeChange'},topChangeSync:{registrationName:'onChangeSync'},topKeyPressSync:{registrationName:'onKeyPressSync'}},validAttributes:Object.assign({dynamicTypeRamp:!0,fontSize:!0,fontWeight:!0,fontVariant:!0,textShadowOffset:{diff:r(d[0])},allowFontScaling:!0,fontStyle:!0,textTransform:!0,textAlign:!0,fontFamily:!0,lineHeight:!0,isHighlighted:!0,writingDirection:!0,textDecorationLine:!0,textShadowRadius:!0,letterSpacing:!0,textDecorationStyle:!0,textDecorationColor:{process:r(d[1]).default},color:{process:r(d[1]).default},maxFontSizeMultiplier:!0,textShadowColor:{process:r(d[1]).default},editable:!0,inputAccessoryViewID:!0,inputAccessoryViewButtonLabel:!0,caretHidden:!0,enablesReturnKeyAutomatically:!0,placeholderTextColor:{process:r(d[1]).default},clearButtonMode:!0,keyboardType:!0,selection:!0,returnKeyType:!0,submitBehavior:!0,mostRecentEventCount:!0,scrollEnabled:!0,selectionColor:{process:r(d[1]).default},contextMenuHidden:!0,secureTextEntry:!0,placeholder:!0,autoCorrect:!0,multiline:!0,textContentType:!0,maxLength:!0,autoCapitalize:!0,keyboardAppearance:!0,passwordRules:!0,spellCheck:!0,selectTextOnFocus:!0,text:!0,clearTextOnFocus:!0,showSoftInputOnFocus:!0,autoFocus:!0,lineBreakStrategyIOS:!0,lineBreakModeIOS:!0,smartInsertDelete:!0},(0,r(d[2]).ConditionallyIgnoredEventHandlers)({onChange:!0,onSelectionChange:!0,onContentSizeChange:!0,onScroll:!0,onChangeSync:!0,onKeyPressSync:!0}),{disableKeyboardShortcuts:!0})};m.exports=t},421,[196,184,217]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?u(o,f,i):o[f]=e[f]);return o})(e,t)})(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3]));_e.Commands=(0,n.default)({supportedCommands:['focus','blur','setTextAndSelection']});var u=_e.__INTERNAL_VIEW_CONFIG=Object.assign({uiViewClassName:'RCTMultilineTextInputView'},r.default,{validAttributes:Object.assign({},r.default.validAttributes,{dataDetectorTypes:!0})}),i=t.get('RCTMultilineTextInputView',function(){return u});_e.default=i},422,[1,181,218,421]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),i=t(_r(d[2])),o=t(_r(d[3])),s=t(_r(d[4])),E=t(_r(d[5])),n=t(_r(d[6]));(function(t,e){if("function"==typeof WeakMap)var i=new WeakMap,o=new WeakMap;(function(t,e){if(!e&&t&&t.__esModule)return t;var s,E,n={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return n;if(s=e?o:i){if(s.has(t))return s.get(t);s.set(t,n)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((E=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(E.get||E.set)?s(n,l,E):n[l]=t[l])})(t,e)})(_r(d[7])),_r(d[8]);var l=function(t){var e=t.touches,i=t.changedTouches,o=e&&e.length>0,s=i&&i.length>0;return!o&&s?i[0]:o?e[0]:t},h='NOT_RESPONDER',u='RESPONDER_INACTIVE_PRESS_IN',R='RESPONDER_INACTIVE_PRESS_OUT',r='RESPONDER_ACTIVE_PRESS_IN',_='RESPONDER_ACTIVE_PRESS_OUT',S='RESPONDER_ACTIVE_LONG_PRESS_IN',c='RESPONDER_ACTIVE_LONG_PRESS_OUT',T='ERROR',P={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},D=Object.assign({},P,{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),N=Object.assign({},P,{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),O=Object.assign({},P,{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),p='DELAY',A='RESPONDER_GRANT',f='RESPONDER_RELEASE',b='RESPONDER_TERMINATED',I='ENTER_PRESS_RECT',L='LEAVE_PRESS_RECT',v='LONG_PRESS_DETECTED',y={NOT_RESPONDER:{DELAY:T,RESPONDER_GRANT:u,RESPONDER_RELEASE:T,RESPONDER_TERMINATED:T,ENTER_PRESS_RECT:T,LEAVE_PRESS_RECT:T,LONG_PRESS_DETECTED:T},RESPONDER_INACTIVE_PRESS_IN:{DELAY:r,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:u,LEAVE_PRESS_RECT:R,LONG_PRESS_DETECTED:T},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:_,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:u,LEAVE_PRESS_RECT:R,LONG_PRESS_DETECTED:T},RESPONDER_ACTIVE_PRESS_IN:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:r,LEAVE_PRESS_RECT:_,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:r,LEAVE_PRESS_RECT:_,LONG_PRESS_DETECTED:T},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:c,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:T,RESPONDER_GRANT:T,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:c,LONG_PRESS_DETECTED:T},error:{DELAY:h,RESPONDER_GRANT:u,RESPONDER_RELEASE:h,RESPONDER_TERMINATED:h,ENTER_PRESS_RECT:h,LEAVE_PRESS_RECT:h,LONG_PRESS_DETECTED:h}},C={componentDidMount:function(){o.default.isTV},componentWillUnmount:function(){this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var e=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=h,this.state.touchable.responderID=e,this._receiveSignal(A,t);var i=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(i=isNaN(i)?130:i)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),i):this._handleDelay(t);var o=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;o=isNaN(o)?370:o,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),o+i)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(f,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(b,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var e=this.state.touchable.positionOnActivate,i=this.state.touchable.dimensionsOnActivate,o=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},s=o.left,E=o.top,n=o.right,h=o.bottom,R=this.touchableGetHitSlop?this.touchableGetHitSlop():null;R&&(s+=R.left||0,E+=R.top||0,n+=R.right||0,h+=R.bottom||0);var r=l(t.nativeEvent),_=r&&r.pageX,S=r&&r.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(_,S,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(_>e.left-s&&S>e.top-E&&_<e.left+i.width+n&&S<e.top+i.height+h){var c=this.state.touchable.touchState;this._receiveSignal(I,t),this.state.touchable.touchState===u&&c!==u&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(L,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&('number'==typeof t?i.default.measure(t,this._handleQueryLayout):t.measure(this._handleQueryLayout))},_handleQueryLayout:function(t,e,i,o,s,l){(t||e||i||o||s||l)&&(this.state.touchable.positionOnActivate&&n.default.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&E.default.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=n.default.getPooled(s,l),this.state.touchable.dimensionsOnActivate=E.default.getPooled(i,o))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(p,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var e=this.state.touchable.touchState;e!==r&&e!==S||this._receiveSignal(v,t)},_receiveSignal:function(t,e){var i=this.state.touchable.responderID,o=this.state.touchable.touchState,s=y[o]&&y[o][t];if(i||t!==f){if(!s)throw new Error('Unrecognized signal `'+t+'` or state `'+o+'` for Touchable responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"host component`");if(s===T)throw new Error('Touchable cannot transition from `'+o+'` to `'+t+'` for responder `'+typeof this.state.touchable.responderID=='number'?this.state.touchable.responderID:"<<host component>>`");o!==s&&(this._performSideEffectsForTransition(o,s,t,e),this.state.touchable.touchState=s)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===r||t===S},_savePressInLocation:function(t){var e=l(t.nativeEvent),i=e&&e.pageX,o=e&&e.pageY,s=e&&e.locationX,E=e&&e.locationY;this.pressInLocation={pageX:i,pageY:o,locationX:s,locationY:E}},_getDistanceBetweenPoints:function(t,e,i,o){var s=t-i,E=e-o;return Math.sqrt(s*s+E*E)},_performSideEffectsForTransition:function(t,e,i,E){var n=this._isHighlight(t),l=this._isHighlight(e);(i===b||i===f)&&this._cancelLongPressDelayTimeout();var R=t===h&&e===u,r=!D[t]&&D[e];if((R||r)&&this._remeasureMetricsOnActivation(),N[t]&&i===v&&this.touchableHandleLongPress&&this.touchableHandleLongPress(E),l&&!n?this._startHighlight(E):!l&&n&&this._endHighlight(E),N[t]&&i===f){var _=!!this.props.onLongPress,S=O[t]&&(!_||!this.touchableLongPressCancelsPress());(!O[t]||S)&&this.touchableHandlePress&&(l||n||(this._startHighlight(E),this._endHighlight(E)),'android'!==o.default.OS||this.props.touchSoundDisabled||s.default.playTouchSound(),this.touchableHandlePress(E))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){var e=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(function(){e.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},withoutDefaultFocusAndBlur:{}},G=(C.touchableHandleFocus,C.touchableHandleBlur,(0,e.default)(C,["touchableHandleFocus","touchableHandleBlur"]));C.withoutDefaultFocusAndBlur=G;var V={Mixin:C,renderDebugView:function(t){t.color,t.hitSlop;return null}};_e.default=V},423,[1,135,44,33,271,424,426,174,219]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=t.default.twoArgumentPooler;function n(t,o){this.width=t,this.height=o}n.prototype.destructor=function(){this.width=null,this.height=null},n.getPooledFromElement=function(t){return n.getPooled(t.offsetWidth,t.offsetHeight)},t.default.addPoolingTo(n,o),m.exports=n},424,[1,425]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[1])),o=function(n){var o=this;if(o.instancePool.length){var t=o.instancePool.pop();return o.call(t,n),t}return new o(n)},t=function(o){var t=this;(0,n.default)(o instanceof t,'Trying to release an instance into a pool of a different type.'),o.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(o)},l=o,c={addPoolingTo:function(n,o){var c=n;return c.instancePool=[],c.getPooled=o||l,c.poolSize||(c.poolSize=10),c.release=t,c},oneArgumentPooler:o,twoArgumentPooler:function(n,o){var t=this;if(t.instancePool.length){var l=t.instancePool.pop();return t.call(l,n,o),l}return new t(n,o)},threeArgumentPooler:function(n,o,t){var l=this;if(l.instancePool.length){var c=l.instancePool.pop();return l.call(c,n,o,t),c}return new l(n,o,t)},fourArgumentPooler:function(n,o,t,l){var c=this;if(c.instancePool.length){var s=c.instancePool.pop();return c.call(s,n,o,t,l),s}return new c(n,o,t,l)}};m.exports=c},425,[1,20]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1])),o=t.default.twoArgumentPooler;function l(t,o){this.left=t,this.top=o}l.prototype.destructor=function(){this.left=null,this.top=null},t.default.addPoolingTo(l,o),m.exports=l},426,[1,425]);
__d(function(g,_r,_i,a,m,_e,d){var s=_r(d[0]),e=s(_r(d[1])),t=s(_r(d[2])),i=s(_r(d[3])),o=s(_r(d[4])),n=s(_r(d[5])),l=s(_r(d[6])),r=s(_r(d[7])),p=s(_r(d[8])),u=s(_r(d[9])),c=s(_r(d[10])),h=(function(s,e){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(s,e){if(!e&&s&&s.__esModule)return s;var o,n,l={__proto__:null,default:s};if(null===s||"object"!=typeof s&&"function"!=typeof s)return l;if(o=e?i:t){if(o.has(s))return o.get(s);o.set(s,l)}for(var r in s)"default"!==r&&{}.hasOwnProperty.call(s,r)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(s,r))&&(n.get||n.set)?o(l,r,n):l[r]=s[r]);return l})(s,e)})(_r(d[11])),y=_r(d[12]),f=["onBlur","onFocus"];function b(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(s){}return(b=function(){return!!s})()}var _=(function(s){function _(){var s,e,i,l;(0,t.default)(this,_);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return e=this,i=_,l=[].concat(u),i=(0,n.default)(i),(s=(0,o.default)(e,b()?Reflect.construct(i,l||[],(0,n.default)(e).constructor):i.apply(e,l)))._isMounted=!1,s.state={pressability:new p.default(s._createPressabilityConfig()),extraStyles:!0===s.props.testOnly_pressed?s._createExtraStyles():null},s}return(0,l.default)(_,s),(0,i.default)(_,[{key:"_createPressabilityConfig",value:function(){var s,e=this;return{cancelable:!this.props.rejectResponderTermination,disabled:null!=this.props.disabled?this.props.disabled:null==(s=this.props.accessibilityState)?void 0:s.disabled,hitSlop:this.props.hitSlop,delayLongPress:this.props.delayLongPress,delayPressIn:this.props.delayPressIn,delayPressOut:this.props.delayPressOut,minPressDuration:0,pressRectOffset:this.props.pressRetentionOffset,android_disableSound:this.props.touchSoundDisabled,onBlur:function(s){c.default.isTV&&e._hideUnderlay(),null!=e.props.onBlur&&e.props.onBlur(s)},onFocus:function(s){c.default.isTV&&e._showUnderlay(),null!=e.props.onFocus&&e.props.onFocus(s)},onLongPress:this.props.onLongPress,onPress:function(s){var t;(null!=e._hideTimeout&&clearTimeout(e._hideTimeout),c.default.isTV)||(e._showUnderlay(),e._hideTimeout=setTimeout(function(){e._hideUnderlay()},null!=(t=e.props.delayPressOut)?t:0));null!=e.props.onPress&&e.props.onPress(s)},onPressIn:function(s){null!=e._hideTimeout&&(clearTimeout(e._hideTimeout),e._hideTimeout=null),e._showUnderlay(),null!=e.props.onPressIn&&e.props.onPressIn(s)},onPressOut:function(s){null==e._hideTimeout&&e._hideUnderlay(),null!=e.props.onPressOut&&e.props.onPressOut(s)}}}},{key:"_createExtraStyles",value:function(){var s;return{child:{opacity:null!=(s=this.props.activeOpacity)?s:.85},underlay:{backgroundColor:void 0===this.props.underlayColor?'black':this.props.underlayColor}}}},{key:"_showUnderlay",value:function(){this._isMounted&&this._hasPressHandler()&&(this.setState({extraStyles:this._createExtraStyles()}),null!=this.props.onShowUnderlay&&this.props.onShowUnderlay())}},{key:"_hideUnderlay",value:function(){null!=this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=null),!0!==this.props.testOnly_pressed&&this._hasPressHandler()&&(this.setState({extraStyles:null}),null!=this.props.onHideUnderlay&&this.props.onHideUnderlay())}},{key:"_hasPressHandler",value:function(){return null!=this.props.onPress||null!=this.props.onPressIn||null!=this.props.onPressOut||null!=this.props.onLongPress}},{key:"render",value:function(){var s,t,i,o,n,l,p,c,b,_,v,P,x,T,w,S=h.Children.only(this.props.children),F=this.state.pressability.getEventHandlers(),O=(F.onBlur,F.onFocus,(0,e.default)(F,f)),U=null!=this.props.disabled?Object.assign({},this.props.accessibilityState,{disabled:this.props.disabled}):this.props.accessibilityState,L={max:null!=(s=this.props['aria-valuemax'])?s:null==(t=this.props.accessibilityValue)?void 0:t.max,min:null!=(i=this.props['aria-valuemin'])?i:null==(o=this.props.accessibilityValue)?void 0:o.min,now:null!=(n=this.props['aria-valuenow'])?n:null==(l=this.props.accessibilityValue)?void 0:l.now,text:null!=(p=this.props['aria-valuetext'])?p:null==(c=this.props.accessibilityValue)?void 0:c.text},k='off'===this.props['aria-live']?'none':null!=(b=this.props['aria-live'])?b:this.props.accessibilityLiveRegion,R=null!=(_=this.props['aria-label'])?_:this.props.accessibilityLabel;return(0,y.jsxs)(r.default,Object.assign({accessible:!1!==this.props.accessible,accessibilityLabel:R,accessibilityHint:this.props.accessibilityHint,accessibilityLanguage:this.props.accessibilityLanguage,accessibilityRole:this.props.accessibilityRole,accessibilityState:U,accessibilityValue:L,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:!0===this.props['aria-hidden']?'no-hide-descendants':this.props.importantForAccessibility,accessibilityViewIsModal:null!=(v=this.props['aria-modal'])?v:this.props.accessibilityViewIsModal,accessibilityLiveRegion:k,accessibilityElementsHidden:null!=(P=this.props['aria-hidden'])?P:this.props.accessibilityElementsHidden,style:u.default.compose(this.props.style,null==(x=this.state.extraStyles)?void 0:x.underlay),onLayout:this.props.onLayout,hitSlop:this.props.hitSlop,hasTVPreferredFocus:this.props.hasTVPreferredFocus,nextFocusDown:this.props.nextFocusDown,nextFocusForward:this.props.nextFocusForward,nextFocusLeft:this.props.nextFocusLeft,nextFocusRight:this.props.nextFocusRight,nextFocusUp:this.props.nextFocusUp,focusable:!1!==this.props.focusable&&void 0!==this.props.onPress&&!this.props.disabled,nativeID:null!=(T=this.props.id)?T:this.props.nativeID,testID:this.props.testID,ref:this.props.hostRef},O,{children:[h.cloneElement(S,{style:u.default.compose(S.props.style,null==(w=this.state.extraStyles)?void 0:w.child)}),null]}))}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentDidUpdate",value:function(s,e){this.state.pressability.configure(this._createPressabilityConfig())}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this.state.pressability.reset()}}])})(h.Component),v=h.forwardRef(function(s,e){return(0,y.jsx)(_,Object.assign({},s,{hostRef:e}))});v.displayName='TouchableHighlight',m.exports=v},427,[1,135,12,13,23,25,28,178,270,221,33,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),i=e(_r(d[1])),s=(e(_r(d[2])),e(_r(d[3]))),l=(function(e,i){if("function"==typeof WeakMap)var s=new WeakMap,l=new WeakMap;return(function(e,i){if(!i&&e&&e.__esModule)return e;var n,t,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(n=i?l:s){if(n.has(e))return n.get(e);n.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((t=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(t.get||t.set)?n(o,c,t):o[c]=e[c]);return o})(e,i)})(_r(d[4])),n=l,t=(_r(d[5]),["onBlur","onFocus"]);var o=['accessibilityActions','accessibilityElementsHidden','accessibilityHint','accessibilityLanguage','accessibilityIgnoresInvertColors','accessibilityLabel','accessibilityLiveRegion','accessibilityRole','accessibilityValue','aria-valuemax','aria-valuemin','aria-valuenow','aria-valuetext','accessibilityViewIsModal','aria-modal','hitSlop','importantForAccessibility','nativeID','onAccessibilityAction','onBlur','onFocus','onLayout','testID'];m.exports=function(e){var c,r,u,b,y,f,p,v,P,h,O,S,I=e.disabled,L=e.rejectResponderTermination,_=e['aria-disabled'],F=e.accessibilityState,D=e.hitSlop,R=e.delayLongPress,j=e.delayPressIn,k=e.delayPressOut,w=e.pressRetentionOffset,x=e.touchSoundDisabled,A=e.onBlur,M=e.onFocus,B=e.onLongPress,E=e.onPress,H=e.onPressIn,W=e.onPressOut,C=(0,l.useMemo)(function(){return{cancelable:!L,disabled:null!==I?I:null!=_?_:null==F?void 0:F.disabled,hitSlop:D,delayLongPress:R,delayPressIn:j,delayPressOut:k,minPressDuration:0,pressRectOffset:w,android_disableSound:x,onBlur:A,onFocus:M,onLongPress:B,onPress:E,onPressIn:H,onPressOut:W}},[L,I,_,null==F?void 0:F.disabled,D,R,j,k,w,x,A,M,B,E,H,W]),V=(0,s.default)(C),T=n.Children.only(e.children),q=[T.props.children],z=e['aria-live'],G={busy:null!=(c=e['aria-busy'])?c:null==(r=e.accessibilityState)?void 0:r.busy,checked:null!=(u=e['aria-checked'])?u:null==(b=e.accessibilityState)?void 0:b.checked,disabled:null!=(y=e['aria-disabled'])?y:null==(f=e.accessibilityState)?void 0:f.disabled,expanded:null!=(p=e['aria-expanded'])?p:null==(v=e.accessibilityState)?void 0:v.expanded,selected:null!=(P=e['aria-selected'])?P:null==(h=e.accessibilityState)?void 0:h.selected},J=(V.onBlur,V.onFocus,(0,i.default)(V,t)),K=Object.assign({},J,{accessible:!1!==e.accessible,accessibilityState:null!=e.disabled?Object.assign({},G,{disabled:e.disabled}):G,focusable:!1!==e.focusable&&void 0!==e.onPress&&!e.disabled,accessibilityElementsHidden:null!=(O=e['aria-hidden'])?O:e.accessibilityElementsHidden,importantForAccessibility:!0===e['aria-hidden']?'no-hide-descendants':e.importantForAccessibility,accessibilityLiveRegion:'off'===z?'none':null!=z?z:e.accessibilityLiveRegion,nativeID:null!=(S=e.id)?S:e.nativeID});for(var N of o)void 0!==e[N]&&(K[N]=e[N]);return n.cloneElement.apply(n,[T,K].concat(q))}},428,[1,135,178,269,174,219]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0]).VirtualizedList},429,[327]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0]).VirtualizedSectionList},430,[327]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=["tintColor","cancelButtonTintColor","disabledButtonTintColor","destructiveButtonIndex"],c={showActionSheetWithOptions:function(t,c){r(d[3])('object'==typeof t&&null!==t,'Options must be a valid object'),r(d[3])('function'==typeof c,'Must provide a valid callback'),r(d[3])(n.default,"ActionSheetManager doesn't exist");var s=t.tintColor,u=t.cancelButtonTintColor,f=t.disabledButtonTintColor,h=t.destructiveButtonIndex,p=(0,o.default)(t,l),S=null;Array.isArray(h)?S=h:'number'==typeof h&&(S=[h]);var b=r(d[4]).default(s),A=r(d[4]).default(u),v=r(d[4]).default(f);r(d[3])(null==b||'number'==typeof b,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions tintColor'),r(d[3])(null==A||'number'==typeof A,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions cancelButtonTintColor'),r(d[3])(null==v||'number'==typeof v,'Unexpected color given for ActionSheetIOS.showActionSheetWithOptions disabledButtonTintColor'),n.default.showActionSheetWithOptions(Object.assign({},p,{tintColor:b,cancelButtonTintColor:A,disabledButtonTintColor:v,destructiveButtonIndices:S}),c)},showShareActionSheetWithOptions:function(t,o,l){r(d[3])('object'==typeof t&&null!==t,'Options must be a valid object'),r(d[3])('function'==typeof o,'Must provide a valid failureCallback'),r(d[3])('function'==typeof l,'Must provide a valid successCallback'),r(d[3])(n.default,"ActionSheetManager doesn't exist"),n.default.showShareActionSheetWithOptions(Object.assign({},t,{tintColor:r(d[4]).default(t.tintColor)}),o,l)},dismissActionSheet:function(){r(d[3])(n.default,"ActionSheetManager doesn't exist"),'function'==typeof n.default.dismissActionSheet&&n.default.dismissActionSheet()}};m.exports=c},431,[1,135,432,20,184]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},432,[433]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('ActionSheetManager')},433,[36]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addChangeListener=function(n){return u().eventEmitter.addListener('change',n)},e.getColorScheme=function(){var n=null,l=u(),c=l.NativeAppearance;null!=c&&(null==l.appearance&&(l.appearance={colorScheme:p(c.getColorScheme())}),n=l.appearance.colorScheme);return n},e.setColorScheme=function(n){var l=u(),c=l.NativeAppearance;null!=c&&(c.setColorScheme(null!=n?n:'unspecified'),l.appearance={colorScheme:p(c.getColorScheme())})};var l,c=n(r(d[1])),t=n(r(d[2])),o=n(r(d[3]));function u(){if(null!=l)return l;var n=new t.default,o=r(d[4]).default;if(null==o)l={NativeAppearance:null,appearance:null,eventEmitter:n};else{var u={NativeAppearance:o,appearance:null,eventEmitter:n};new c.default(o).addListener('appearanceChanged',function(l){u.appearance={colorScheme:p(l.colorScheme)},n.emit('change',u.appearance)}),l=u}return l}function p(n){return(0,o.default)('dark'===n||'light'===n||null==n,"Unrecognized color scheme. Did you mean 'dark', 'light' or null?"),n}},434,[1,126,30,20,435]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},435,[1,436]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('Appearance')},436,[36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=t(r(d[1])),u=t(r(d[2])),s=t(r(d[3])),l=t(r(d[4])),o=t(r(d[5])),c=t(r(d[6])),p=(function(){return(0,u.default)(function t(){var u=this;if((0,n.default)(this,t),this.currentState=null,null==c.default)this.isAvailable=!1;else{this.isAvailable=!0;var p=new s.default('ios'!==o.default.OS?null:c.default);this._emitter=p,this.currentState=c.default.getConstants().initialAppState;var f=!1;p.addListener('appStateDidChange',function(t){f=!0,u.currentState=t.app_state}),c.default.getCurrentAppState(function(t){f||u.currentState===t.app_state||(u.currentState=t.app_state,p.emit('appStateDidChange',t))},l.default)}},[{key:"addEventListener",value:function(t,n){var u=this._emitter;if(null==u)throw new Error('Cannot use AppState when `isAvailable` is false.');switch(t){case'change':var s=n;return u.addListener('appStateDidChange',function(t){s(t.app_state)});case'memoryWarning':var l=n;return u.addListener('memoryWarning',l);case'blur':case'focus':var o=n;return u.addListener('appStateFocusChange',function(n){'blur'!==t||n||o(),'focus'===t&&n&&o()})}throw new Error('Trying to subscribe to unknown event: '+t)}}])})();m.exports=new p},437,[1,12,13,126,438,33,439]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];if(1===n.length&&n[0]instanceof Error){var t=n[0];console.error('Error: "'+t.message+'".  Stack:\n'+t.stack)}else console.error.apply(console,n)}},438,[]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},439,[440]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('AppState')},440,[36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports={getString:function(){return t.default.getString()},setString:function(n){t.default.setString(n)}}},441,[1,442]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},442,[443]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('Clipboard')},443,[36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));m.exports=t.default},444,[1,209]);
__d(function(g,r,i,a,m,e,d){r(d[0])(r(d[1]));m.exports={show:function(){}}},445,[1,446]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('DevMenu')},446,[36]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);n(r(d[1])),n(r(d[2])),n(r(d[3]));m.exports={addMenuItem:function(n,o){},reload:function(n){},onFastRefresh:function(){}}},447,[1,126,448,33]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},448,[449]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('DevSettings')},449,[36]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]),e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),f=t(r(d[5])),o=t(r(d[6])),c=t(r(d[7])),s=t(r(d[8])),v=t(r(d[9])),p=t(r(d[10])),L=t(r(d[11]));function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(R=function(){return!!t})()}var U=(function(t){function o(){return(0,e.default)(this,o),t=this,n=o,f=['ios'===c.default.OS?(0,L.default)(v.default):void 0],n=(0,l.default)(n),(0,u.default)(t,R()?Reflect.construct(n,f||[],(0,l.default)(t).constructor):n.apply(t,f));var t,n,f}return(0,f.default)(o,t),(0,n.default)(o,[{key:"addEventListener",value:function(t,e,n){return this.addListener(t,e)}},{key:"openURL",value:function(t){return this._validateURL(t),'android'===c.default.OS?(0,L.default)(s.default).openURL(t):(0,L.default)(v.default).openURL(t)}},{key:"canOpenURL",value:function(t){return this._validateURL(t),'android'===c.default.OS?(0,L.default)(s.default).canOpenURL(t):(0,L.default)(v.default).canOpenURL(t)}},{key:"openSettings",value:function(){return'android'===c.default.OS?(0,L.default)(s.default).openSettings():(0,L.default)(v.default).openSettings()}},{key:"getInitialURL",value:function(){return'android'===c.default.OS?(0,L.default)(s.default).getInitialURL():(0,L.default)(v.default).getInitialURL()}},{key:"sendIntent",value:function(t,e){return'android'===c.default.OS?(0,L.default)(s.default).sendIntent(t,e):new Promise(function(t,e){return e(new Error('Unsupported'))})}},{key:"_validateURL",value:function(t){(0,p.default)('string'==typeof t,'Invalid URL: should be a string. Was: '+t),(0,p.default)(t,'Invalid URL: cannot be empty')}}])})(o.default);m.exports=new U},450,[1,12,13,23,25,28,126,33,451,453,20,45]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},451,[452]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('IntentAndroid')},452,[36]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},453,[454]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('LinkingManager')},454,[36]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o;n(r(d[1])),n(r(d[2]));o={install:function(){},uninstall:function(){},isInstalled:function(){return!1},ignoreLogs:function(n){},ignoreAllLogs:function(n){},clearAllLogs:function(){},addLog:function(n){},addException:function(n){}};e.default=o},455,[1,33,155]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={_initializeGestureState:function(n){n.moveX=0,n.moveY=0,n.x0=0,n.y0=0,n.dx=0,n.dy=0,n.vx=0,n.vy=0,n.numberActiveTouches=0,n._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(n,o){n.numberActiveTouches=o.numberActiveTouches,n.moveX=r(d[0]).currentCentroidXOfTouchesChangedAfter(o,n._accountsForMovesUpTo),n.moveY=r(d[0]).currentCentroidYOfTouchesChangedAfter(o,n._accountsForMovesUpTo);var t=n._accountsForMovesUpTo,u=r(d[0]).previousCentroidXOfTouchesChangedAfter(o,t),s=r(d[0]).currentCentroidXOfTouchesChangedAfter(o,t),c=r(d[0]).previousCentroidYOfTouchesChangedAfter(o,t),p=r(d[0]).currentCentroidYOfTouchesChangedAfter(o,t),v=n.dx+(s-u),h=n.dy+(p-c),l=o.mostRecentTimeStamp-n._accountsForMovesUpTo;n.vx=(v-n.dx)/l,n.vy=(h-n.dy)/l,n.dx=v,n.dy=h,n._accountsForMovesUpTo=o.mostRecentTimeStamp},create:function(t){var u={handle:null},s={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(n){return null!=t.onStartShouldSetPanResponder&&t.onStartShouldSetPanResponder(n,s)},onMoveShouldSetResponder:function(n){return null!=t.onMoveShouldSetPanResponder&&t.onMoveShouldSetPanResponder(n,s)},onStartShouldSetResponderCapture:function(o){return 1===o.nativeEvent.touches.length&&n._initializeGestureState(s),s.numberActiveTouches=o.touchHistory.numberActiveTouches,null!=t.onStartShouldSetPanResponderCapture&&t.onStartShouldSetPanResponderCapture(o,s)},onMoveShouldSetResponderCapture:function(o){var u=o.touchHistory;return s._accountsForMovesUpTo!==u.mostRecentTimeStamp&&(n._updateGestureStateOnMove(s,u),!!t.onMoveShouldSetPanResponderCapture&&t.onMoveShouldSetPanResponderCapture(o,s))},onResponderGrant:function(n){return u.handle||(u.handle=r(d[1]).createInteractionHandle()),s.x0=r(d[0]).currentCentroidX(n.touchHistory),s.y0=r(d[0]).currentCentroidY(n.touchHistory),s.dx=0,s.dy=0,t.onPanResponderGrant&&t.onPanResponderGrant(n,s),null==t.onShouldBlockNativeResponder||t.onShouldBlockNativeResponder(n,s)},onResponderReject:function(n){o(u,t.onPanResponderReject,n,s)},onResponderRelease:function(c){o(u,t.onPanResponderRelease,c,s),n._initializeGestureState(s)},onResponderStart:function(n){var o=n.touchHistory;s.numberActiveTouches=o.numberActiveTouches,t.onPanResponderStart&&t.onPanResponderStart(n,s)},onResponderMove:function(o){var u=o.touchHistory;s._accountsForMovesUpTo!==u.mostRecentTimeStamp&&(n._updateGestureStateOnMove(s,u),t.onPanResponderMove&&t.onPanResponderMove(o,s))},onResponderEnd:function(n){var c=n.touchHistory;s.numberActiveTouches=c.numberActiveTouches,o(u,t.onPanResponderEnd,n,s)},onResponderTerminate:function(c){o(u,t.onPanResponderTerminate,c,s),n._initializeGestureState(s)},onResponderTerminationRequest:function(n){return null==t.onPanResponderTerminationRequest||t.onPanResponderTerminationRequest(n,s)}},getInteractionHandle:function(){return u.handle}}}};function o(n,o,t,u){n.handle&&(r(d[1]).clearInteractionHandle(n.handle),n.handle=null),o&&o(t,u)}e.default=n},456,[457,299]);
__d(function(g,r,_i,a,m,e,d){var n={centroidDimension:function(t,i,o,u){var c=t.touchBank,f=0,s=0,h=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==h)h.touchActive&&h.currentTimeStamp>i&&(f+=u&&o?h.currentPageX:u&&!o?h.currentPageY:!u&&o?h.previousPageX:h.previousPageY,s=1);else for(var v=0;v<c.length;v++){var C=c[v];if(null!=C&&C.touchActive&&C.currentTimeStamp>=i){f+=u&&o?C.currentPageX:u&&!o?C.currentPageY:!u&&o?C.previousPageX:C.previousPageY,s++}}return s>0?f/s:n.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,i){return n.centroidDimension(t,i,!1,!1)},currentCentroidX:function(t){return n.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return n.centroidDimension(t,0,!1,!0)},noCentroid:-1};m.exports=n},457,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]),E=n(r(d[1])),s=n(r(d[2])),o=n(r(d[3])),A=n(r(d[4])),_=n(r(d[5])),S=n(r(d[6])),O=Object.freeze({GRANTED:'granted',DENIED:'denied',NEVER_ASK_AGAIN:'never_ask_again'}),C=Object.freeze({READ_CALENDAR:'android.permission.READ_CALENDAR',WRITE_CALENDAR:'android.permission.WRITE_CALENDAR',CAMERA:'android.permission.CAMERA',READ_CONTACTS:'android.permission.READ_CONTACTS',WRITE_CONTACTS:'android.permission.WRITE_CONTACTS',GET_ACCOUNTS:'android.permission.GET_ACCOUNTS',ACCESS_FINE_LOCATION:'android.permission.ACCESS_FINE_LOCATION',ACCESS_COARSE_LOCATION:'android.permission.ACCESS_COARSE_LOCATION',ACCESS_BACKGROUND_LOCATION:'android.permission.ACCESS_BACKGROUND_LOCATION',RECORD_AUDIO:'android.permission.RECORD_AUDIO',READ_PHONE_STATE:'android.permission.READ_PHONE_STATE',CALL_PHONE:'android.permission.CALL_PHONE',READ_CALL_LOG:'android.permission.READ_CALL_LOG',WRITE_CALL_LOG:'android.permission.WRITE_CALL_LOG',ADD_VOICEMAIL:'com.android.voicemail.permission.ADD_VOICEMAIL',READ_VOICEMAIL:'com.android.voicemail.permission.READ_VOICEMAIL',WRITE_VOICEMAIL:'com.android.voicemail.permission.WRITE_VOICEMAIL',USE_SIP:'android.permission.USE_SIP',PROCESS_OUTGOING_CALLS:'android.permission.PROCESS_OUTGOING_CALLS',BODY_SENSORS:'android.permission.BODY_SENSORS',BODY_SENSORS_BACKGROUND:'android.permission.BODY_SENSORS_BACKGROUND',SEND_SMS:'android.permission.SEND_SMS',RECEIVE_SMS:'android.permission.RECEIVE_SMS',READ_SMS:'android.permission.READ_SMS',RECEIVE_WAP_PUSH:'android.permission.RECEIVE_WAP_PUSH',RECEIVE_MMS:'android.permission.RECEIVE_MMS',READ_EXTERNAL_STORAGE:'android.permission.READ_EXTERNAL_STORAGE',READ_MEDIA_IMAGES:'android.permission.READ_MEDIA_IMAGES',READ_MEDIA_VIDEO:'android.permission.READ_MEDIA_VIDEO',READ_MEDIA_AUDIO:'android.permission.READ_MEDIA_AUDIO',READ_MEDIA_VISUAL_USER_SELECTED:'android.permission.READ_MEDIA_VISUAL_USER_SELECTED',WRITE_EXTERNAL_STORAGE:'android.permission.WRITE_EXTERNAL_STORAGE',BLUETOOTH_CONNECT:'android.permission.BLUETOOTH_CONNECT',BLUETOOTH_SCAN:'android.permission.BLUETOOTH_SCAN',BLUETOOTH_ADVERTISE:'android.permission.BLUETOOTH_ADVERTISE',ACCESS_MEDIA_LOCATION:'android.permission.ACCESS_MEDIA_LOCATION',ACCEPT_HANDOVER:'android.permission.ACCEPT_HANDOVER',ACTIVITY_RECOGNITION:'android.permission.ACTIVITY_RECOGNITION',ANSWER_PHONE_CALLS:'android.permission.ANSWER_PHONE_CALLS',READ_PHONE_NUMBERS:'android.permission.READ_PHONE_NUMBERS',UWB_RANGING:'android.permission.UWB_RANGING',POST_NOTIFICATIONS:'android.permission.POST_NOTIFICATIONS',NEARBY_WIFI_DEVICES:'android.permission.NEARBY_WIFI_DEVICES'}),R=(function(){return(0,o.default)(function n(){(0,s.default)(this,n),this.PERMISSIONS=C,this.RESULTS=O},[{key:"checkPermission",value:function(n){return console.warn('"PermissionsAndroid.checkPermission" is deprecated. Use "PermissionsAndroid.check" instead'),(0,S.default)(_.default,'PermissionsAndroid is not installed correctly.'),_.default.checkPermission(n)}},{key:"check",value:function(n){return(0,S.default)(_.default,'PermissionsAndroid is not installed correctly.'),_.default.checkPermission(n)}},{key:"requestPermission",value:(R=(0,E.default)(function*(n,E){return console.warn('"PermissionsAndroid.requestPermission" is deprecated. Use "PermissionsAndroid.request" instead'),(yield this.request(n,E))===this.RESULTS.GRANTED}),function(n,E){return R.apply(this,arguments)})},{key:"request",value:(n=(0,E.default)(function*(n,E){return(0,S.default)(_.default,'PermissionsAndroid is not installed correctly.'),E&&(yield _.default.shouldShowRequestPermissionRationale(n))&&A.default?new Promise(function(s,o){var S=Object.assign({},E);A.default.showAlert(S,function(){return o(new Error('Error showing rationale'))},function(){return s(_.default.requestPermission(n))})}):_.default.requestPermission(n)}),function(E,s){return n.apply(this,arguments)})},{key:"requestMultiple",value:function(n){return(0,S.default)(_.default,'PermissionsAndroid is not installed correctly.'),_.default.requestMultiplePermissions(n)}}]);var n,R})(),I=new R;m.exports=I},458,[1,345,12,13,151,459,20]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},459,[460]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('PermissionsAndroid')},460,[36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6])),s=new l.default('ios'!==u.default.OS?null:c.default),v=new Map,h=(function(){function t(n){var l=this;(0,o.default)(this,t),this._data={},this._remoteNotificationCompleteCallbackCalled=!1,this._isRemote=n.remote,this._isRemote&&(this._notificationId=n.notificationId),n.remote?Object.keys(n).forEach(function(t){var o=n[t];'aps'===t?(l._alert=o.alert,l._sound=o.sound,l._badgeCount=o.badge,l._category=o.category,l._contentAvailable=o['content-available'],l._threadID=o['thread-id']):l._data[t]=o}):(this._badgeCount=n.applicationIconBadgeNumber,this._sound=n.soundName,this._alert=n.alertBody,this._data=n.userInfo,this._category=n.category)}return(0,n.default)(t,[{key:"finish",value:function(t){this._isRemote&&this._notificationId&&!this._remoteNotificationCompleteCallbackCalled&&(this._remoteNotificationCompleteCallbackCalled=!0,(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.onFinishRemoteNotification(this._notificationId,t))}},{key:"getMessage",value:function(){return this._alert}},{key:"getSound",value:function(){return this._sound}},{key:"getCategory",value:function(){return this._category}},{key:"getAlert",value:function(){return this._alert}},{key:"getContentAvailable",value:function(){return this._contentAvailable}},{key:"getBadgeCount",value:function(){return this._badgeCount}},{key:"getData",value:function(){return this._data}},{key:"getThreadID",value:function(){return this._threadID}}],[{key:"presentLocalNotification",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.presentLocalNotification(t)}},{key:"scheduleLocalNotification",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.scheduleLocalNotification(t)}},{key:"cancelAllLocalNotifications",value:function(){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.cancelAllLocalNotifications()}},{key:"removeAllDeliveredNotifications",value:function(){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.removeAllDeliveredNotifications()}},{key:"getDeliveredNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getDeliveredNotifications(t)}},{key:"removeDeliveredNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.removeDeliveredNotifications(t)}},{key:"setApplicationIconBadgeNumber",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.setApplicationIconBadgeNumber(t)}},{key:"getApplicationIconBadgeNumber",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getApplicationIconBadgeNumber(t)}},{key:"cancelLocalNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.cancelLocalNotifications(t)}},{key:"getScheduledLocalNotifications",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getScheduledLocalNotifications(t)}},{key:"addEventListener",value:function(o,n){var l;(0,f.default)('notification'===o||'register'===o||'registrationError'===o||'localNotification'===o,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events'),'notification'===o?l=s.addListener("remoteNotificationReceived",function(o){n(new t(o))}):'localNotification'===o?l=s.addListener("localNotificationReceived",function(o){n(new t(o))}):'register'===o?l=s.addListener("remoteNotificationsRegistered",function(t){n(t.deviceToken)}):'registrationError'===o&&(l=s.addListener("remoteNotificationRegistrationError",function(t){n(t)})),v.set(o,l)}},{key:"removeEventListener",value:function(t){(0,f.default)('notification'===t||'register'===t||'registrationError'===t||'localNotification'===t,'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events');var o=v.get(t);o&&(o.remove(),v.delete(t))}},{key:"requestPermissions",value:function(t){var o={alert:!0,badge:!0,sound:!0};return t&&(o={alert:!!t.alert,badge:!!t.badge,sound:!!t.sound}),(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.requestPermissions(o)}},{key:"abandonPermissions",value:function(){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.abandonPermissions()}},{key:"checkPermissions",value:function(t){(0,f.default)('function'==typeof t,'Must provide a valid callback'),(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.checkPermissions(t)}},{key:"getInitialNotification",value:function(){return(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getInitialNotification().then(function(o){return o&&new t(o)})}},{key:"getAuthorizationStatus",value:function(t){(0,f.default)(c.default,'PushNotificationManager is not available.'),c.default.getAuthorizationStatus(t)}}])})();h.FetchResult={NewData:'UIBackgroundFetchResultNewData',NoData:'UIBackgroundFetchResultNoData',ResultFailed:'UIBackgroundFetchResultFailed'},m.exports=h},461,[1,12,13,126,33,462,20]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},462,[463]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('PushNotificationManager')},463,[36]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={get:function(t){return console.warn('Settings is not yet supported on this platform.'),null},set:function(t){console.warn('Settings is not yet supported on this platform.')},watchKeys:function(t,n){return console.warn('Settings is not yet supported on this platform.'),-1},clearWatch:function(t){console.warn('Settings is not yet supported on this platform.')}};m.exports=t},464,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),s=t(r(d[1])),n=t(r(d[2])),o=(t(r(d[3])),t(r(d[4]))),l=(function(){return(0,n.default)(function t(){(0,s.default)(this,t)},null,[{key:"share",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(d[5])('object'==typeof t&&null!==t,'Content to share must be a valid object'),r(d[5])('string'==typeof t.url||'string'==typeof t.message,'At least one of URL or message is required'),r(d[5])('object'==typeof s&&null!==s,'Options must be a valid object'),r(d[5])(o.default,'ShareModule should be registered on Android.'),r(d[5])(null==t.title||'string'==typeof t.title,'Invalid title: title should be a string.');var n={title:t.title,message:'string'==typeof t.message?t.message:void 0};return o.default.share(n,s.dialogTitle).then(function(t){return Object.assign({activityType:null},t)})}}])})();l.sharedAction='sharedAction',l.dismissedAction='dismissedAction',m.exports=l},465,[1,12,13,432,466,20]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},466,[467]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.get('ShareModule')},467,[36]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1])),f=t.default.getConstants(),n={SHORT:f.SHORT,LONG:f.LONG,TOP:f.TOP,BOTTOM:f.BOTTOM,CENTER:f.CENTER,show:function(f,n){t.default.show(f,n)},showWithGravity:function(f,n,o){t.default.showWithGravity(f,n,o)},showWithGravityAndOffset:function(f,n,o,O,s){t.default.showWithGravityAndOffset(f,n,o,O,s)}};m.exports=n},468,[1,469]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},469,[470]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('ToastAndroid')},470,[36]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,l){var c=(0,t.useRef)(null);null==c.current&&(c.current=new n.default.Value(u,l));return c.current};var n=u(r(d[1])),t=r(d[2])},471,[1,281,174]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,n.useSyncExternalStore)(t,r(d[1]).getColorScheme)};var n=r(d[0]),t=function(n){var t=(0,r(d[1]).addChangeListener)(n);return function(){return t.remove()}}},472,[174,434]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var A=r(d[0])({BOM:"\ufeff",BULLET:"\u2022",BULLET_SP:"\xa0\u2022\xa0",MIDDOT:"\xb7",MIDDOT_SP:"\xa0\xb7\xa0",MIDDOT_KATAKANA:"\u30fb",MDASH:"\u2014",MDASH_SP:"\xa0\u2014\xa0",NDASH:"\u2013",NDASH_SP:"\xa0\u2013\xa0",NEWLINE:"\n",NBSP:"\xa0",PIZZA:"\ud83c\udf55",TRIANGLE_LEFT:"\u25c0",TRIANGLE_RIGHT:"\u25b6"});e.default=A},473,[235]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0])(r(d[1]));var n={vibrate:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if('number'==typeof n)t.default.vibrate(n);else{if(!Array.isArray(n))throw new Error('Vibration pattern should be a number or array');t.default.vibrateByPattern(n,o?0:-1)}},cancel:function(){t.default.cancel()}};m.exports=n},474,[1,475]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0});var e={};_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in _e&&_e[r]===t[r]||Object.defineProperty(_e,r,{enumerable:!0,get:function(){return t[r]}}))});_e.default=t.default},475,[476]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.getEnforcing('Vibration')},476,[36]);
__d(function(g,r,i,a,m,_e,d){'use strict';var n,t=r(d[0]),e=r(d[1]),u=r(d[2]),o=r(d[3]),c=r(d[4]);function l(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(l=function(){return!!n})()}n=(function(n){function f(){return t(this,f),n=this,c=arguments,e=o(e=f),u(n,l()?Reflect.construct(e,c||[],o(n).constructor):e.apply(n,c));var n,e,c}return c(f,n),e(f,[{key:"render",value:function(){return null}}],[{key:"ignoreWarnings",value:function(n){}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}])})(r(d[5]).Component),m.exports=n},477,[12,13,23,25,28,174]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicColorIOS=void 0;e.DynamicColorIOS=function(o){throw new Error('DynamicColorIOS is not available on this platform.')}},478,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,f.jsx)(v,{})};var n=t(r(d[1])),o=t(r(d[2])),c=(t(r(d[3])),r(d[4])),u=t(r(d[5])),l=t(r(d[6])),f=r(d[7]);(0,r(d[8]).implementDevice)();var s=(0,r(d[9]).createBottomTabNavigator)({screens:{Watch:o.default,Broadcast:u.default,Cam2Cam:l.default},screenOptions:function(t){var o=t.route;return{tabBarIcon:function(t){(0,n.default)(t);var u=r(d[10]);return'Broadcast'===o.name?u=r(d[11]):'Cam2Cam'===o.name&&(u=r(d[12])),(0,f.jsx)(c.Image,{style:h.tinyLogo,source:u})}}}}),v=(0,r(d[13]).createStaticNavigation)(s);var h=c.StyleSheet.create({container:{flex:1},tinyLogo:{width:'70%',height:'70%'},logo:{width:66,height:58}})},479,[1,480,481,174,2,941,943,219,944,947,1166,1167,1168,949]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t){if(null==t)throw new TypeError("Cannot destructure "+t)},m.exports.__esModule=!0,m.exports.default=m.exports},480,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,s.useState)(''),h=(0,n.default)(t,2),x=h[0],y=h[1];return(0,s.useEffect)(function(){}),(0,o.jsxs)(l.View,{style:c.container,children:[(0,o.jsx)(l.Text,{style:c.head,children:"Manifest url:"}),(0,o.jsx)(l.TextInput,{style:c.input,onChangeText:y,value:x}),(0,o.jsx)(u.default,{manifestUrl:x,autoplay:!0,children:function(t){var n=t.manifestPlayer;return(0,o.jsx)(f.default,{manifestPlayer:n})}})]})};var n=t(r(d[1])),l=r(d[2]),u=t(r(d[3])),s=r(d[4]),f=t(r(d[5])),o=r(d[6]);var c=l.StyleSheet.create({container:{flex:1,alignItems:'center'},head:{fontWeight:'600',marginTop:10},input:{height:40,borderWidth:1,width:'80%',padding:10,borderRadius:3}})},481,[1,38,2,482,174,874,219]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),l=e(r(d[4])),u=e(r(d[5])),s=e(r(d[6])),c=e(r(d[7])),f=r(d[8]);function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var p=[{id:'webrtc'},{id:'native-hls'}],y={webrtc:'webrtc','native-hls':'mp4-hls'},S=(function(e){function f(e){var l,c,S,P,h,b,T,M;(0,o.default)(this,f),b=this,T=f,M=[e],T=(0,s.default)(T),(h=(0,u.default)(b,v()?Reflect.construct(T,M||[],(0,s.default)(b).constructor):T.apply(b,M))).TAG='ManifestPlayer',h.events=new(r(d[9]).ManifestPlayerEvents)(h),h.player=null,h.mediaStream=null,h.availableQualities=[],h.initPlayerTimeout=null,h.initManifestPlayer=function(){if(h.props.manifestUrl){var e={players:h.players,preferredScoreLevel:h.props.preferredScoreLevel,autoPlay:!h.state.paused,muted:h.state.muted};try{var t,n,o,l=h.videoClient.requestPlayer(h.props.manifestUrl,e);h.player=l,l.on('error',function(e){r(d[10]).rnLogger.error(h.TAG,'Player emits error.',e),e.message.includes('MANIFEST_FORBIDDEN')||e.message.includes('MANIFEST_UNAUTHORIZED')?h.events.onManifestUnauthorized(JSON.stringify(e)):h.events.onError(JSON.stringify(e))}),l.on('driver',function(e){h.mediaStream=null,h.setState({format:y[e],driver:e}),h.events.onDriverChange(e)}),l.on('manifest',function(e){200===e.code?h.events.onManifest(JSON.stringify(e)):404===e.code&&h.events.onStreamOffline(JSON.stringify(e))}),null==(t=l.provider)||t.on('source',function(e){var t;if(h.state.format){var n=null==(t=e.formats)?void 0:t[h.state.format];if((0,r(d[11]).isGenericFormat)(n)&&n.manifest){var o,l,u,s=null==(o=h.player)||null==(o=o.currentPlayer)||null==(o=o.currentQuality)?void 0:o.layer;if((u=null!=s&&''!==s.id&&null!=(l=h.player)&&l.preferredLevel?s.id.toString():n.manifest)===h.state.source)return;h.setState({source:u}),h.events.onManifestSourceChange(u)}}}),l.on('joinedCall',function(e){var t=e.call;t&&t.on('streamAdded',function(e){e.stream.on('source',function(e){var t=e.getTracks();h.mediaStream&&t.forEach(function(e){var t;null==(t=h.mediaStream)||t.removeTrack(e)}),h.mediaStream=new MediaStream,t.forEach(function(e){var t;l.localAudioMuted&&'audio'===e.kind&&(e.enabled=!1),l.localVideoPaused&&(e.enabled=!1),null==(t=h.mediaStream)||t.addTrack(e)});var n=h.mediaStream.toURL();h.setState({source:n}),h.events.onManifestSourceChange(n)})})}),l.on('availableQualities',function(e){var t=e.map(function(e){return e.level});h.availableQualities=t,h.setState({availableQualities:t}),h.events.onAvailableQualities(t)}),l.on('disposed',function(){h.events.onDisposed()}),l.on('playerAccessDenied',function(e){var t=e.message;h.events.onAccessDenied(t)}),l.on('peerAtCapacity',function(){h.events.onPeerAtCapacity()}),null==(n=l.provider)||n.on('videoPaused',function(e){'webrtc'===h.state.format&&h.mediaStream&&h.mediaStream.getTracks().forEach(function(t){t.enabled=!e});e?h.events.onVideoPaused():h.events.onVideoPlay(),h.setState({paused:e})}),null==(o=l.provider)||o.on('audioMuted',function(e){'webrtc'===h.state.format&&h.mediaStream&&h.mediaStream.getTracks().forEach(function(t){'audio'===t.kind&&(t.enabled=!e)});h.events.onMute(e)})}catch(e){r(d[10]).rnLogger.error(h.TAG,'Error requesting player.',e),h.events.onError('Error requesting player.'+e)}}},h.onRequestTimeupdate=function(){h.player&&h.player.emit('timeupdate')},h.onRequestVideoPause=function(){if(h.player){if(h.player.localVideoPaused=!0,'webrtc'===h.state.format&&h.mediaStream)h.mediaStream.getTracks().forEach(function(e){e.enabled=!1});h.setState({paused:!0}),h.events.onVideoPaused()}},h.onRequestVideoPlay=function(){if(h.player){if(h.player.localVideoPaused=!1,'webrtc'===h.state.format&&h.mediaStream)h.mediaStream.getTracks().forEach(function(e){e.enabled=!0});h.setState({paused:!1}),h.events.onVideoPlay()}},h.onRequestVideoMuteToggle=function(){if(h.player){var e=!h.player.localAudioMuted;if(h.player.localAudioMuted=e,'webrtc'===h.state.format&&h.mediaStream)h.mediaStream.getTracks().forEach(function(t){'audio'===t.kind&&(t.enabled=!e)});h.setState({muted:e}),h.events.onMute(e)}},h.onRequestDisposePlayer=function(){h.player&&(h.player.dispose(),h.player=null,h.mediaStream=null)},h.onRequestPreferredQualityChange=function(e){h.player&&(h.player.preferredLevel=e)},h.onRequestReloadPlayer=function(){h.resetState(function(){var e;h.mediaStream&&h.mediaStream.getTracks().forEach(function(e){var t;null==(t=h.mediaStream)||t.removeTrack(e)}),null==(e=h.player)||e.dispose(),h.player=null,h.initManifestPlayer()})},h.onRequestInitPlayer=function(){h.player||h.initManifestPlayer()},h.resetState=function(e){h.setState({format:null,driver:null,source:'',availableQualities:[]},e)};var E,k=e.videoClientOptions,A=e.players,R=e.autoplay,C=e.muted,O=(0,r(d[12]).uuidv4)();h.videoClient=new(r(d[13]).VideoClient)(Object.assign({token:(E=(0,n.default)(function*(){return yield(0,r(d[14]).getAuthTokenForDemo)({displayName:'ICF Msg User',userId:O,streamId:O,streamName:'icf-msg-player'})}),function(){return E.apply(this,arguments)})},k));var q=null==A?void 0:A.reduce(function(e,n){return[].concat((0,t.default)(e),[{id:n}])},[]);return h.players=null!=q?q:p,h.state={format:null,driver:null,source:null,availableQualities:[],paused:null!=(l=!(R||null!=k&&k.autoPlay||null!=k&&null!=(c=k.playerOptions)&&c.autoPlay))&&l,muted:null!=(S=C||(null==k||null==(P=k.playerOptions)?void 0:P.muted))&&S},h.videoClient.on('error',function(e){'manifest-error'!==e.code&&(r(d[10]).rnLogger.error(h.TAG,'Video client error.',e),h.events.onError(JSON.stringify(e)))}),h.initManifestPlayer(),h.events.subscribeEvents(),h}return(0,c.default)(f,e),(0,l.default)(f,[{key:"componentDidUpdate",value:function(e){var t,n=this;this.props.manifestUrl!==e.manifestUrl&&(this.initPlayerTimeout&&clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(function(){n.onRequestReloadPlayer()},null!=(t=this.props.debounceInitTime)?t:500))}},{key:"render",value:function(){return this.props.children?this.props.children({manifestPlayer:this}):null}}])})(f.Component);_e.default=S},482,[1,6,345,12,13,23,25,28,174,483,484,485,497,500,873]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ManifestPlayerEvents=void 0;var n=t(r(d[1])),s=t(r(d[2])),u=r(d[3]);e.ManifestPlayerEvents=(function(){return(0,s.default)(function t(s){(0,n.default)(this,t),this.requestsListener=s},[{key:"subscribeEvents",value:function(){var t=this;this.emitter='android'===u.Platform.OS?u.DeviceEventEmitter:new u.NativeEventEmitter(u.NativeModules.ManifestPlayerEvents),this.emitter.addListener('player.pause',function(){t.requestsListener.onRequestVideoPause()}),this.emitter.addListener('player.play',function(){t.requestsListener.onRequestVideoPlay()}),this.emitter.addListener('player.timeupdate',function(){t.requestsListener.onRequestTimeupdate()}),this.emitter.addListener('player.dispose',function(){t.requestsListener.onRequestDisposePlayer()}),this.emitter.addListener('player.preferredQuality',function(n){t.requestsListener.onRequestPreferredQualityChange(n)}),this.emitter.addListener('player.refresh',function(){t.requestsListener.onRequestReloadPlayer()}),this.emitter.addListener('player.init',function(){t.requestsListener.onRequestInitPlayer()}),this.emitter.addListener('player.toggleMute',function(){t.requestsListener.onRequestVideoMuteToggle()})}},{key:"clear",value:function(){this.emitter.removeAllListeners()}},{key:"onManifest",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onManifest({manifest:t})}},{key:"onStreamOffline",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onStreamOffline({manifest:t})}},{key:"onManifestUnauthorized",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onManifestUnauthorized({manifest:t})}},{key:"onError",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onError({error:t})}},{key:"onManifestSourceChange",value:function(t,n){var s;null==(s=u.NativeModules.ManifestPlayerEvents)||s.onManifestSourceChange({source:t,peerId:n})}},{key:"onDriverChange",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onDriverChange({driver:t})}},{key:"onVideoPlay",value:function(){var t;null==(t=u.NativeModules.ManifestPlayerEvents)||t.onVideoPlay()}},{key:"onVideoPaused",value:function(){var t;null==(t=u.NativeModules.ManifestPlayerEvents)||t.onVideoPaused()}},{key:"onMute",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onMute({muted:t})}},{key:"onDisposed",value:function(){var t;null==(t=u.NativeModules.ManifestPlayerEvents)||t.onDisposed()}},{key:"onAvailableQualities",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onAvailableQualities({availableQualities:t})}},{key:"onAccessDenied",value:function(t){var n;null==(n=u.NativeModules.ManifestPlayerEvents)||n.onAccessDenied({message:t})}},{key:"onPeerAtCapacity",value:function(){var t;null==(t=u.NativeModules.ManifestPlayerEvents)||t.onPeerAtCapacity()}}])})()},483,[1,12,13,2]);
__d(function(g,r,i,a,_m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.rnLogger=e.ReactNativeConsoleLogger=void 0;var o=n(r(d[1])),t=n(r(d[2])),l=e.ReactNativeConsoleLogger=(function(){return(0,t.default)(function n(){(0,o.default)(this,n)},[{key:"log",value:function(n){for(var o,t=arguments.length,l=new Array(t>1?t-1:0),c=1;c<t;c++)l[c-1]=arguments[c];(o=console).log.apply(o,[n].concat(l))}},{key:"error",value:function(n){for(var o,t=arguments.length,l=new Array(t>1?t-1:0),c=1;c<t;c++)l[c-1]=arguments[c];(o=console).error.apply(o,[n].concat(l))}},{key:"warn",value:function(n){for(var o,t=arguments.length,l=new Array(t>1?t-1:0),c=1;c<t;c++)l[c-1]=arguments[c];(o=console).warn.apply(o,[n].concat(l))}}])})();e.rnLogger=new l},484,[1,12,13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLCanvasElement=e.PlayerFeature=e.ExistsStreamPolicy=e.isWebrtcFormat=e.isValidFormat=e.isManifest=e.isGenericFormat=e.ErrorCode=e.AdapterFeature=void 0,Object.defineProperty(e,"AdapterFeature",{enumerable:!0,get:function(){return r(d[0]).Feature}}),r(d[1]).__exportStar(r(d[2]),e),r(d[1]).__exportStar(r(d[3]),e),Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return r(d[4]).ErrorCode}}),Object.defineProperty(e,"isGenericFormat",{enumerable:!0,get:function(){return r(d[5]).isGenericFormat}}),Object.defineProperty(e,"isManifest",{enumerable:!0,get:function(){return r(d[5]).isManifest}}),Object.defineProperty(e,"isValidFormat",{enumerable:!0,get:function(){return r(d[5]).isValidFormat}}),Object.defineProperty(e,"isWebrtcFormat",{enumerable:!0,get:function(){return r(d[5]).isWebrtcFormat}}),Object.defineProperty(e,"ExistsStreamPolicy",{enumerable:!0,get:function(){return r(d[6]).ExistsStreamPolicy}}),Object.defineProperty(e,"PlayerFeature",{enumerable:!0,get:function(){return r(d[7]).Feature}}),r(d[1]).__exportStar(r(d[8]),e),Object.defineProperty(e,"isHTMLCanvasElement",{enumerable:!0,get:function(){return r(d[9]).isHTMLCanvasElement}})},485,[486,487,488,489,490,491,492,493,494,496]);
__d(function(g,r,i,a,m,e,d){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0,(function(E){E[E.APPLY_CONSTRAINTS=0]="APPLY_CONSTRAINTS",E[E.AUDIO_CONTEXT=1]="AUDIO_CONTEXT",E[E.CPU_USAGE=2]="CPU_USAGE",E[E.CREATE_CANVAS_ELEMENT=3]="CREATE_CANVAS_ELEMENT",E[E.CREATE_VIDEO_ELEMENT=4]="CREATE_VIDEO_ELEMENT",E[E.CREATE_AUDIO_ELEMENT=5]="CREATE_AUDIO_ELEMENT",E[E.CREATE_SCREENSHOT=6]="CREATE_SCREENSHOT",E[E.DOCUMENT=7]="DOCUMENT",E[E.DEBUGGING=8]="DEBUGGING",E[E.HLSJS=9]="HLSJS",E[E.LOCAL_STORAGE=10]="LOCAL_STORAGE",E[E.MATCH_MEDIA=11]="MATCH_MEDIA",E[E.MULTI_TOUCH=12]="MULTI_TOUCH",E[E.MEDIA_DEVICE=13]="MEDIA_DEVICE",E[E.MEDIA_RECORDER=14]="MEDIA_RECORDER",E[E.MEDIA_SOURCE=15]="MEDIA_SOURCE",E[E.MEDIA_STREAM=16]="MEDIA_STREAM",E[E.NETWORK_INFORMATION=17]="NETWORK_INFORMATION",E[E.URL_LOCATION=18]="URL_LOCATION",E[E.SCREEN_ORIENTATION=19]="SCREEN_ORIENTATION",E[E.WEB_SOCKET=20]="WEB_SOCKET",E[E.WEB_SOCKET_CLIENT=21]="WEB_SOCKET_CLIENT",E[E.PERMISSIONS=22]="PERMISSIONS",E[E.MPEGTS=23]="MPEGTS",E[E.URL_SEARCHPARAMS=24]="URL_SEARCHPARAMS",E[E.USER_ACTIVATION=25]="USER_ACTIVATION",E[E.USER_AGENT_DATA=26]="USER_AGENT_DATA",E[E.WEBRTC=27]="WEBRTC"})(E||(e.Feature=E={}))},486,[]);
__d(function(_g,_r,_i,_a,_m,_e,_d){var e,t,r,n,o,i,a,c,u,f,s,l,p,y,d,h,b,v,w,_,m,j,O,g,P,S,E,x,T,I,k,D;!(function(e){var t="object"==typeof _g?_g:"object"==typeof self?self:"object"==typeof this?this:{};function r(e,r){return e!==t&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(t,n){return e[t]=r?r(t,n):n}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):"object"==typeof _m&&"object"==typeof _m.exports?e(r(t,r(_m.exports))):e(r(t))})(function(A){var R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};e=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},n=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=function(e,t){return function(r,n){t(r,n,e)}},i=function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var c,u=n.kind,f="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?n.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,n.name):{}),p=!1,y=r.length-1;y>=0;y--){var d={};for(var h in n)d[h]="access"===h?{}:n[h];for(var h in n.access)d.access[h]=n.access[h];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var b=(0,r[y])("accessor"===u?{get:l.get,set:l.set}:l[f],d);if("accessor"===u){if(void 0===b)continue;if(null===b||"object"!=typeof b)throw new TypeError("Object expected");(c=a(b.get))&&(l.get=c),(c=a(b.set))&&(l.set=c),(c=a(b.init))&&o.unshift(c)}else(c=a(b))&&("field"===u?o.unshift(c):l[f]=c)}s&&Object.defineProperty(s,n.name,l),p=!0},a=function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},c=function(e){return"symbol"==typeof e?e:"".concat(e)},u=function(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function c(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,c)}u((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return u([e,t])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},p=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||T(t,e,r)},T=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},b=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)n[o]=i[a];return n},v=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},w=function(e){return this instanceof w?(this.v=e,this):new w(e)},_=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,f)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||c(e,t)})},t&&(n[e]=t(n[e])))}function c(e,t){try{(r=o[e](t)).value instanceof w?Promise.resolve(r.value.v).then(u,f):s(i[0][2],r)}catch(e){s(i[0][3],e)}var r}function u(e){c("next",e)}function f(e){c("throw",e)}function s(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},m=function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:w(e[n](t)),done:!1}:o?o(t):t}:o}},j=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){o(n,i,(t=e[r](t)).done,t.value)})}}function o(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}},O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},F=function(e){return F=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},F(e)};g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=F(e),n=0;n<r.length;n++)"default"!==r[n]&&T(t,e,r[n]);return C(t,e),t},P=function(e){return e&&e.__esModule?e:{default:e}},S=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},E=function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},x=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},I=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t};var M="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};k=function(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return(function o(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(e){return t(e),o()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error})()},D=function(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,o,i){return r?t?".jsx":".js":!n||o&&i?n+o+"."+i.toLowerCase()+"js":e}):e},A("__extends",e),A("__assign",t),A("__rest",r),A("__decorate",n),A("__param",o),A("__esDecorate",i),A("__runInitializers",a),A("__propKey",c),A("__setFunctionName",u),A("__metadata",f),A("__awaiter",s),A("__generator",l),A("__exportStar",p),A("__createBinding",T),A("__values",y),A("__read",d),A("__spread",h),A("__spreadArrays",b),A("__spreadArray",v),A("__await",w),A("__asyncGenerator",_),A("__asyncDelegator",m),A("__asyncValues",j),A("__makeTemplateObject",O),A("__importStar",g),A("__importDefault",P),A("__classPrivateFieldGet",S),A("__classPrivateFieldSet",E),A("__classPrivateFieldIn",x),A("__addDisposableResource",I),A("__disposeResources",k),A("__rewriteRelativeImportExtension",D)})},487,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},488,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},489,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorCode=void 0,e.isVideoClientError=function(n){return(null==n?void 0:n.code)&&Object.values(o).includes(n.code)},(function(o){o.H264NotSupported="h264-not-supported",o.NoBackendEndpoints="no-backend-endpoints",o.NoPlayersAvailable="no-players-available",o.NoUserId="no-userId",o.UnableJoinCall="unable-join-call",o.UnableChangeBitrate="unable-change-bitrate",o.UnableSwitchQuality="unable-switch-quality",o.MediaStreamNotSupported="media-stream-not-supported",o.MediaDeviceNotSupported="media-device-not-supported",o.ConsumerNotCreated="consumer-not-created",o.NetworkError="network-error",o.ManifestNotLoaded="manifest-not-loaded",o.PlayerLoadingFailed="player-loading-failed",o.BadManifest="bad-manifest",o.MediaDeviceNotAvailable="media-device-not-available",o.MediaControllerNotInitialized="media-controller-not-initialized",o.MediaDeviceChangingFailed="media-device-changing-failed",o.MediaStreamPreparingConflict="media-stream-preparing-conflict",o.MediaTrackEnded="media-track-ended",o.ApplyingConstraintsFailed="constraints-not-applied",o.NativeError="native-error",o.PlayerSourceNotSupported="player-source-not-supported",o.UpdateResolutionsFailed="update-resolutions-failed",o.DisposingError="disposing-error",o.AssertionError="assertion-error",o.StreamNameAlreadyExists="stream-name-already-exists",o.StreamNotFound="stream-not-found",o.BroadcastVideoFailed="broadcast-video-failed",o.BroadcastAudioFailed="broadcast-video-failed",o.SFUBusy="sfu-busy",o.WebSocketInTransit="websocket-in-transit",o.WebSocketNotConnected="websocket-not-connected",o.NotAllowed="not-allowed",o.BadInput="bad-input",o.CallError="call-error",o.CapturableStreamError="capturable-stream-error",o.Constraints="constraints",o.ConsumerNotFound="consumer-not-foud",o.DeviceInUse="device-in-use",o.DeviceNotFound="device-not-found",o.DisableAudioError="disable-audio-error",o.DisableVideoError="disable-video-error",o.DisposedObject="disposed-object",o.DriverNotSupported="driver-not-supported",o.ElementRequired="element-required",o.EmbedSWFFailed="embedding-flash-swf-failed",o.EnableAudioError="enable-audio-error",o.EnableVideoError="enable-video-error",o.EnumeratingDevices="enumerating-devices-error",o.GetUserMediaFailed="get-user-media-failed",o.HandleHlsJsError="handle-hlsjs-error",o.HlsjsNotLoaded="hlsjs-not-loaded",o.InternalCallError="internal-call-error",o.InternalError="internal-error",o.InvalidBitrate="invalid-bitrate",o.InvalidControls="invalid-controls-parent",o.InvalidElement="invalid-element",o.InvalidMediaURL="invalid-media-url",o.InvalidPopoutURL="invalid-popout-url",o.JoinCallError="join-call-error",o.JoinCallRejected="join-call-rejected",o.LayerNotFound="layer-not-found",o.ManifestError="manifest-error",o.ManifestForbidden="manifest-forbidden",o.ManifestInternalError="manifest-internal-error",o.ManifestNotFound="manifest-not-found",o.ManifestUnauthorized="manifest-unauthorized",o.ManifestUnexpectedResponse="manifest-unexpected-response",o.MediaError="media-error",o.MediaRecorderError="media-recorder-error",o.MediasoupSetupError="mediasoup-setup-error",o.MeowDriverError="meow-driver-error",o.Mp4BufferError="mp4-buffer-error",o.NoDrivers="no-valid-drivers",o.NotInitialized="not-initialized",o.NotSupported="not-supported",o.Permission="permission-error",o.PlaybackError="playback-error",o.PlayingIssue="playing-issue",o.RetrievingMediaStreamError="retrieving-media-stream-error",o.ResolutionsInUse="resolutions-in-use-error",o.SFUConsumerClosedEvent="sfu-consumer-closed-event",o.SFUConsumerLayersChangedEvent="sfu-consumer-layers-changed-event",o.SFUConsumerPausedEvent="sfu-consumer-paused-event",o.SFUConsumerResumedEvent="sfu-consumer-resumed-event",o.SFUConsumerScoreEvent="sfu-consumer-score-event",o.SFUConsumerSourcesEvent="sfu-consumer-sources-event",o.SFUNewConsumerEvent="sfu-new-consumer-event",o.SFUNewPeersEvent="sfu-new-peers-event",o.SFUPeerClosedEvent="sfu-peer-closed-event",o.SFUProducerClosedEvent="sfu-producer-closed-event",o.SFUProducerPausedEvent="sfu-producer-paused-event",o.SFUProducerResumedEvent="sfu-producer-resumed-event",o.SFUSwitchConsumerTrackEvent="sfu-switch-consumer-track-event",o.SimulcastDisabled="simulcast-disabled",o.StartBroadcastError="start-broadcast-error",o.StreamExists="stream-exists",o.TrackEnded="track-ended",o.TransportStateError="transport-state-error",o.UnknownDriver="unknown-driver",o.UnknownError="unknown-error",o.UnrecognizedDriver="unrecognized-driver",o.UpdateBroadcastError="start-broadcast-error",o.UpdateMSCError="update-msc-error",o.UserRequired="user-required",o.ValidationError="validation-error",o.WSNetworkError="websocket-network-error",o.WSRequestError="ws-request-error",o.IENotSupported="ie-not-supported"})(o||(e.ErrorCode=o={}))},490,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){var n=t;return"object"==typeof n&&"object"==typeof n.origin&&"string"==typeof n.origin.callId}function n(t){var n=t;return"object"==typeof n&&(Array.isArray(n.encodings)||null!=n.substitute)}Object.defineProperty(e,"__esModule",{value:!0}),e.isManifest=function(t){if(null==t)return!1;if("string"==typeof t)return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("://");if("object"==typeof t)return"formats"in(null!=t?t:{});return!1},e.isManifestObject=function(t){if(null==t)return!1;if("object"==typeof t)return"formats"in(null!=t?t:{});return!1},e.isWebrtcFormat=t,e.isGenericFormat=n,e.isValidFormat=function(o){return t(o)||n(o)}},491,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExistsStreamPolicy=void 0,(function(t){t[t.stale=0]="stale",t[t.wait=1]="wait",t[t.ignore=2]="ignore",t[t.error=3]="error"})(t||(e.ExistsStreamPolicy=t={}))},492,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0,(function(T){T[T.DURATION=0]="DURATION",T[T.CONSUMER=1]="CONSUMER",T[T.MUTED_AUTOPLAY=2]="MUTED_AUTOPLAY",T[T.BITRATE_SWITCHING=3]="BITRATE_SWITCHING",T[T.PLAYER_SELECTOR=4]="PLAYER_SELECTOR",T[T.BROADCAST=5]="BROADCAST"})(T||(e.Feature=T={}))},493,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoQualityLevel=e.TranscodeScoreLevel=e.SourceScoreLevel=void 0,Object.defineProperty(e,"SourceScoreLevel",{enumerable:!0,get:function(){return r(d[0]).SourceScoreLevel}}),Object.defineProperty(e,"TranscodeScoreLevel",{enumerable:!0,get:function(){return r(d[0]).TranscodeScoreLevel}}),Object.defineProperty(e,"AutoQualityLevel",{enumerable:!0,get:function(){return r(d[0]).AutoQualityLevel}})},494,[495]);
__d(function(g,r,i,a,m,e,d){"use strict";var o,u,t,c;Object.defineProperty(e,"__esModule",{value:!0}),e.AutoScoreLevel=e.AutoQualityLevel=e.SourceScoreLevel=e.TranscodeScoreLevel=void 0,(function(o){o.Lowest="transcode:lowest",o.Low="transcode:low",o.MediumLow="transcode:medium-low",o.Medium="transcode:medium",o.MediumHigh="transcode:medium-high",o.High="transcode:high",o.Highest="transcode:highest"})(o||(e.TranscodeScoreLevel=o={})),(function(o){o.Low="source:low",o.Medium="source:medium",o.High="source:high"})(u||(e.SourceScoreLevel=u={})),(function(o){o.Auto="auto-quality"})(t||(e.AutoQualityLevel=t={})),(function(o){o.Default="auto:default",o.Auto="auto:auto"})(c||(e.AutoScoreLevel=c={}))},495,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLCanvasElement=function(n){return null!=(null==n?void 0:n.getContext)&&null!=(null==n?void 0:n.toBlob)}},496,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSilentAudioTrack=e.uuidv4=void 0,Object.defineProperty(e,"uuidv4",{enumerable:!0,get:function(){return r(d[0]).uuidv4}}),Object.defineProperty(e,"createSilentAudioTrack",{enumerable:!0,get:function(){return r(d[1]).createSilentAudioTrack}})},497,[498,499]);
__d(function(g,_r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var t=16*Math.random()|0;return("x"===x?t:3&t|8).toString(16)})}},498,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(t){for(var n=t.createBufferSource(),c=t.createBuffer(1,1,t.sampleRate),o=c.getChannelData(0),i=0;i<o.length;i++)o[i]=2*Math.random()-1;return n.buffer=c,n.loop=!0,n}Object.defineProperty(e,"__esModule",{value:!0}),e.createSilentAudioTrack=function(n){var c=t(n),o=n.createGain();return o.gain.value=.001,c.connect(o),o.connect(n.destination),c.start(),n.createMediaStreamDestination().stream.getAudioTracks()[0]}},499,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},500,[501]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediaElementSupervisor=e.AutoQualityLevel=e.SourceScoreLevel=e.TranscodeScoreLevel=e.ObservableEventEmitter=e.InstanceCollector=e.makeBounded=e.timeupdateWrapper=e.UserInteraction=e.applyUserInteractionHook=e.instanceId=e.contextId=e.RecorderCore=e.utils=e.CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK=e.CONSTRAINTS_VIDEO_OPTIMAL_WEAK=e.CONSTRAINTS_VIDEO_OPTIMAL_STRICT=e.CONSTRAINTS_AUDIO_OPTIMAL_WEAK=e.CONSTRAINTS_AUDIO_OPTIMAL_STRICT=e.errors=e.player=e.types=e.mediaController=e.VideoClient=e.adapter=void 0,e.adapter=r(d[0]).__importStar(r(d[1])),e.VideoClient=r(d[2]).VideoClient,e.mediaController=r(d[3]).mediaController,e.types=r(d[0]).__importStar(r(d[4])),e.player=r(d[0]).__importStar(r(d[5])),e.errors=r(d[0]).__importStar(r(d[6])),Object.defineProperty(e,"CONSTRAINTS_AUDIO_OPTIMAL_STRICT",{enumerable:!0,get:function(){return r(d[3]).CONSTRAINTS_AUDIO_OPTIMAL_STRICT}}),Object.defineProperty(e,"CONSTRAINTS_AUDIO_OPTIMAL_WEAK",{enumerable:!0,get:function(){return r(d[3]).CONSTRAINTS_AUDIO_OPTIMAL_WEAK}}),Object.defineProperty(e,"CONSTRAINTS_VIDEO_OPTIMAL_STRICT",{enumerable:!0,get:function(){return r(d[3]).CONSTRAINTS_VIDEO_OPTIMAL_STRICT}}),Object.defineProperty(e,"CONSTRAINTS_VIDEO_OPTIMAL_WEAK",{enumerable:!0,get:function(){return r(d[3]).CONSTRAINTS_VIDEO_OPTIMAL_WEAK}}),Object.defineProperty(e,"CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK",{enumerable:!0,get:function(){return r(d[3]).CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK}}),e.utils=r(d[0]).__importStar(r(d[7])),Object.defineProperty(e,"RecorderCore",{enumerable:!0,get:function(){return r(d[8]).Recorder}}),Object.defineProperty(e,"contextId",{enumerable:!0,get:function(){return r(d[9]).contextId}}),Object.defineProperty(e,"instanceId",{enumerable:!0,get:function(){return r(d[9]).instanceId}}),Object.defineProperty(e,"applyUserInteractionHook",{enumerable:!0,get:function(){return r(d[9]).applyUserInteractionHook}}),Object.defineProperty(e,"UserInteraction",{enumerable:!0,get:function(){return r(d[10]).UserInteraction}}),Object.defineProperty(e,"timeupdateWrapper",{enumerable:!0,get:function(){return r(d[11]).timeupdateWrapper}}),Object.defineProperty(e,"makeBounded",{enumerable:!0,get:function(){return r(d[12]).makeBounded}}),Object.defineProperty(e,"InstanceCollector",{enumerable:!0,get:function(){return r(d[13]).InstanceCollector}}),Object.defineProperty(e,"ObservableEventEmitter",{enumerable:!0,get:function(){return r(d[14]).ObservableEventEmitter}}),Object.defineProperty(e,"TranscodeScoreLevel",{enumerable:!0,get:function(){return r(d[15]).TranscodeScoreLevel}}),Object.defineProperty(e,"SourceScoreLevel",{enumerable:!0,get:function(){return r(d[15]).SourceScoreLevel}}),Object.defineProperty(e,"AutoQualityLevel",{enumerable:!0,get:function(){return r(d[15]).AutoQualityLevel}}),Object.defineProperty(e,"MediaElementSupervisor",{enumerable:!0,get:function(){return r(d[16]).MediaElementSupervisor}}),(0,r(d[17]).configure)({observableRequiresReaction:!1,reactionRequiresObservable:!1,enforceActions:"never"}),(0,r(d[18]).startMobxDebugging)()},501,[487,502,599,862,485,871,613,497,872,605,525,816,529,853,528,495,821,526,542]);
__d(function(g,_r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.onceDeviceReady=e.device=e.Feature=void 0,e.implement=function(n){e.device=n,t(e.device)},Object.defineProperty(e,"Feature",{enumerable:!0,get:function(){return _r(d[0]).Feature}}),_r(d[1]).__exportStar(_r(d[2]),e),e.device=new(_r(d[3]).WebDevice),e.onceDeviceReady=new Promise(function(n){t=n})},502,[486,487,488,503]);
__d(function(g,r,i,a,m,_e2,_d2){"use strict";var e,t,n,o=r(_d2[0]),u=r(_d2[1]),s=r(_d2[2]),l=r(_d2[3]),c=r(_d2[4]),d=r(_d2[5]),v=r(_d2[6]);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.WebDevice=void 0;var f=r(_d2[7]).__importDefault(r(_d2[8])),p=null!==(e=globalThis)&&void 0!==e?e:(function(){return this})(),E=null!==(t=process.env.HLSJS_URL)&&void 0!==t?t:"https://cdnjs.cloudflare.com/ajax/libs/hls.js/1.4.14/hls.min.js";"false"!==process.env.HLSJS_BUNDLED&&(p.Hls=r(_d2[9]));var y=null!==(n=process.env.MPEGTS_URL)&&void 0!==n?n:"https://cdn-us.threadsafesystems.com/mpegts.min.js";if("false"!==process.env.MPEGTS_BUNDLED)try{p.mpegts=r(_d2[10])}catch(e){}var S=(function(e){function t(e,n){return s(this,t),o=this,d=[`${e} is not supported. ${n||""}`],u=c(u=t),l(o,h()?Reflect.construct(u,d||[],c(o).constructor):u.apply(o,d));var o,u,d}return d(t,e),u(t)})(v(Error)),C=(function(){return u(function e(){var t,n;s(this,e),this.hadUserInteraction=!1,this.canvasElement=null,this.highEntropyValues=null,this.platform=null,this.appVersion=null,this.browserName=null,this.setTimeout=setTimeout.bind(p),this.clearTimeout=clearTimeout.bind(p),this.clearInterval=clearInterval.bind(p);var o=null===(n=null===(t=null==p?void 0:p.navigator)||void 0===t?void 0:t.storage)||void 0===n?void 0:n.estimate;"function"==typeof o&&(this.storageEstimate=o.bind(p.navigator.storage)),this.logger=new(r(_d2[11]).LoggerCore)("VDC-core").setLoggerMeta("client","VDC").appendChain(e),p||this.logger.error("globalScope is undefined"),(null==p?void 0:p.navigator)||this.logger.info("globalScope navigator is undefined"),"object"!=typeof p.__VDC_VARS__&&(p.__VDC_VARS__=new Map),this.globals=p.__VDC_VARS__,this.isImplements(r(_d2[12]).Feature.CREATE_CANVAS_ELEMENT)&&(this.canvasElement=this.createCanvasElement()),this.getUserAgentInfo()},[{key:"applyUserInteractionHook",value:function(){var e=new(r(_d2[13]).UserInteraction)({silentAudio:{playSilentAudio:!0,infiniteLoop:!1}});p.document.addEventListener("beforeunload",e.dispose)}},{key:"toggleCameraVisibility",value:function(e){if(this.isIosDevice)e.videoPaused=!e.videoPaused;else{if("placeholder"===e.videoDisabled)return;e.videoDisabled=!e.videoDisabled}}},{key:"processRtpCapabilities",value:function(e,t){return t}},{key:"userAgent",get:function(){var e,t;return null!==(t=null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.userAgent)&&void 0!==t?t:"<unknown ua>"}},{key:"userAgentData",get:function(){var e;return null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.userAgentData}},{key:"getUserAgentInfo",value:(e=o(function*(){var e,t=f.default.getParser(this.userAgent);if(this.platform=null==t?void 0:t.getOSName(),this.appVersion=null==t?void 0:t.getBrowserVersion(),this.browserName=null==t?void 0:t.getBrowserName(),null!=this.userAgentData)try{this.highEntropyValues=yield this.userAgentData.getHighEntropyValues(["brands","mobile","model","platform","platformVersion","fullVersionList"]),this.platform=null!==(e=this.highEntropyValues.platform)&&void 0!==e?e:null==t?void 0:t.getOSName()}catch(e){}this.isIosDevice=(0,r(_d2[14]).isIosDevice)(this),this.isAndroidDevice=(0,r(_d2[14]).isAndroidDevice)(this),this.isMobileDevice=(0,r(_d2[14]).isMobileDevice)(this),this.isSafari=(0,r(_d2[14]).isSafari)(this),this.isFirefox=(0,r(_d2[14]).isFirefox)(this),this.isChrome=(0,r(_d2[14]).isChrome)(this),this.isEdge=(0,r(_d2[14]).isEdge)(this),this.isIE=(0,r(_d2[14]).isIE)(this),this.isWindows=(0,r(_d2[14]).isWindows)(this)}),function(){return e.apply(this,arguments)})},{key:"browserInfo",get:function(){return{highEntropyValues:this.highEntropyValues,platform:this.platform,appVersion:this.appVersion,browserName:this.browserName,isIosDevice:this.isIosDevice,isAndroidDevice:this.isAndroidDevice,isMobileDevice:this.isMobileDevice,isSafari:this.isSafari,isFirefox:this.isFirefox,isChrome:this.isChrome,isEdge:this.isEdge,isIE:this.isIE,isWindows:this.isWindows}}},{key:"hidden",get:function(){var e;return null!==(e=p.document.hidden)&&void 0!==e&&e}},{key:"supportFullscreen",get:function(){var e=p.document.createElement("video"),t=p.document;return!0===p.document.fullscreenEnabled||!0===t.mozFullScreenEnabled||!0===t.msFullscreenEnabled||!0===t.webkitSupportsFullscreen||!0===t.webkitFullscreenEnabled||null!=e.webkitRequestFullScreen||null!=e.webkitEnterFullScreen}},{key:"onLine",get:function(){var e,t;return null===(t=null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.onLine)||void 0===t||t}},{key:"location",get:function(){return(null==p?void 0:p.location)||null}},{key:"permissions",get:function(){var e;return null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.permissions}},{key:"userActivation",get:function(){var e;return(null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.userActivation)||null}},{key:"maxTouchPoints",get:function(){var e;return(null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.maxTouchPoints)||null}},{key:"addEventListener",value:function(e,t){null!=p.addEventListener&&p.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){null!=p.removeEventListener&&p.removeEventListener(e,t)}},{key:"setInterval",value:function(e,t){return p.setInterval(e,t)}},{key:"console",get:function(){return p.console}},{key:"fetch",value:function(e,t){return p.fetch(e,t)}},{key:"URLSearchParams",get:function(){return p.URLSearchParams}},{key:"AudioContext",get:function(){var e;return null!==(e=p.AudioContext)&&void 0!==e?e:p.webkitAudioContext}},{key:"MediaRecorder",get:function(){return p.MediaRecorder}},{key:"MediaStream",get:function(){return p.MediaStream}},{key:"WebSocketClient",get:function(){return p.WebSocketClient}},{key:"RTCRtpReceiver",get:function(){return p.RTCRtpReceiver}},{key:"RTCRtpSender",get:function(){return p.RTCRtpSender}},{key:"Uint8Array",get:function(){return p.Uint8Array}},{key:"matchMedia",value:function(e){return null==p?void 0:p.matchMedia(e)}},{key:"mediaDevices",get:function(){var e;return null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.mediaDevices}},{key:"connection",get:function(){var e,t,n,o,u;return null!==(o=null!==(t=null===(e=null==p?void 0:p.navigator)||void 0===e?void 0:e.connection)&&void 0!==t?t:null===(n=null==p?void 0:p.navigator)||void 0===n?void 0:n.mozConnection)&&void 0!==o?o:null===(u=null==p?void 0:p.navigator)||void 0===u?void 0:u.webkitConnection}},{key:"localStorage",get:function(){return p.localStorage}},{key:"performance",get:function(){return p.performance}},{key:"screenOrientation",get:function(){var e,t,n,o=p.screen;return null!==(n=null!==(t=(null!==(e=o.orientation)&&void 0!==e?e:{}).type)&&void 0!==t?t:o.mozOrientation)&&void 0!==n?n:o.msOrientation}},{key:"MediaSource",get:function(){return p.MediaSource||p.WebKitMediaSource}},{key:"WebSocket",get:function(){return p.WebSocket}},{key:"SourceBuffer",get:function(){return p.SourceBuffer||p.WebKitSourceBuffer}},{key:"Hls",get:function(){return p.Hls}},{key:"applyConstraints",value:function(e,t){return e.applyConstraints(t)}},{key:"createVideoElement",value:function(){var e=p.document.createElement("video");e.autoplay=!0,e.setAttribute("webkit-playsinline","true"),e.setAttribute("playsinline","true");var t=p.document.createTextNode("Sorry, your browser doesn't support embedded videos.");return e.appendChild(t),e}},{key:"createAudioElement",value:function(){return p.document.createElement("audio")}},{key:"createCanvasElement",value:function(){return p.document.createElement("canvas")}},{key:"createScreenshot",value:function(e){var t=this.canvasElement;return null==t?"":(t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL())}},{key:"supportsMediaStreamCapture",value:function(e){var t=null!=(null==e?void 0:e.mozCaptureStream)||null!=(null==e?void 0:e.captureStream);return t||this.logger.debug("mediaStreamCapture not supported"),t}},{key:"captureStream",value:function(e,t){return null!=e.captureStream?(0,r(_d2[15]).isHTMLCanvasElement)(e)?e.captureStream(t):e.captureStream():null!=e.mozCaptureStream?(0,r(_d2[15]).isHTMLCanvasElement)(e)?e.mozCaptureStream(t):e.mozCaptureStream():(this.logger.debug("mediaStreamCapture not supported"),null)}},{key:"createVideoStub",value:function(){throw new Error("not implemented")}},{key:"disableCpuStats",value:function(){}},{key:"enableCpuStats",value:function(){}},{key:"averageCpuUsage",value:function(e){return 0}},{key:"isCodecSupported",value:function(e){return!1}},{key:"isHlsLoaded",value:function(){try{return null!=this.Hls}catch(e){return!1}}},{key:"loadHlsScript",value:function(e){var t=this;if(null!=this.hlsPromise)return this.hlsPromise;if(this.isHlsLoaded())return Promise.resolve();var n=null!=e?e:E;return this.hlsPromise=new Promise(function(e,o){if(t.isHlsLoaded())e();else{var u=p.document.createElement("script");u.setAttribute("src",null!=n?n:""),u.onload=function(){t.isHlsLoaded()?e():o(new Error("hlsjs not loaded"))},u.onerror=function(e){o(new Error(`hlsjs not loaded: ${e}`))},p.document.body.appendChild(u)}}),this.hlsPromise}},{key:"mpegts",get:function(){return p.mpegts}},{key:"isMpegtsLoaded",value:function(){try{return null!=this.mpegts}catch(e){return!1}}},{key:"loadMpegtsScript",value:function(e){var t=this;if(null!=this.mpegtsPromise)return this.mpegtsPromise;if(this.isMpegtsLoaded())return Promise.resolve();var n=null!=e?e:y;return this.mpegtsPromise=new Promise(function(e,o){if(t.isMpegtsLoaded())e();else{var u=p.document.createElement("script");u.setAttribute("src",null!=n?n:""),u.onload=function(){t.isMpegtsLoaded()?e():o(new Error("mpegts not loaded"))},u.onerror=function(e){o(new Error(`mpegts not loaded: ${e}`))},p.document.body.appendChild(u)}}),this.mpegtsPromise}},{key:"showSaveFilePicker",value:function(e){return null==p?void 0:p.showSaveFilePicker(e)}},{key:"confirmMessage",value:function(e){null==p||p.confirm(e)}},{key:"document",get:function(){return p.document}},{key:"isImplements",value:function(e){var t,n;try{switch(e){case r(_d2[12]).Feature.NETWORK_INFORMATION:return null!=this.location;case r(_d2[12]).Feature.CREATE_VIDEO_ELEMENT:return null!=p.document&&null!=this.createVideoElement;case r(_d2[12]).Feature.CREATE_AUDIO_ELEMENT:return null!=p.document&&null!=this.createAudioElement;case r(_d2[12]).Feature.CREATE_CANVAS_ELEMENT:return null!=p.document&&null!=this.createCanvasElement;case r(_d2[12]).Feature.CREATE_SCREENSHOT:return null!=(null===(t=this.canvasElement)||void 0===t?void 0:t.getContext);case r(_d2[12]).Feature.DEBUGGING:return null!=this.console&&null!=this.performance;case r(_d2[12]).Feature.DOCUMENT:return null!=this.document;case r(_d2[12]).Feature.SCREEN_ORIENTATION:return null!=this.screenOrientation;case r(_d2[12]).Feature.MEDIA_RECORDER:return null!=this.MediaRecorder;case r(_d2[12]).Feature.APPLY_CONSTRAINTS:return!0;case r(_d2[12]).Feature.MEDIA_DEVICE:return null!=this.mediaDevices;case r(_d2[12]).Feature.MATCH_MEDIA:return null!=this.matchMedia;case r(_d2[12]).Feature.MEDIA_STREAM:return null!=this.MediaStream;case r(_d2[12]).Feature.MEDIA_SOURCE:return null!=this.MediaSource&&null!=this.SourceBuffer;case r(_d2[12]).Feature.WEB_SOCKET:case r(_d2[12]).Feature.WEB_SOCKET_CLIENT:return null!=this.WebSocket;case r(_d2[12]).Feature.LOCAL_STORAGE:try{return null!=this.localStorage}catch(e){return!1}case r(_d2[12]).Feature.AUDIO_CONTEXT:return null!=this.AudioContext;case r(_d2[12]).Feature.URL_LOCATION:return null!=this.location;case r(_d2[12]).Feature.URL_SEARCHPARAMS:return null!=this.URLSearchParams;case r(_d2[12]).Feature.CPU_USAGE:return!1;case r(_d2[12]).Feature.HLSJS:return!0;case r(_d2[12]).Feature.PERMISSIONS:return null!=this.permissions;case r(_d2[12]).Feature.USER_ACTIVATION:return null!=this.userActivation;case r(_d2[12]).Feature.USER_AGENT_DATA:return null!=this.userAgentData;case r(_d2[12]).Feature.MULTI_TOUCH:return null!=this.maxTouchPoints&&this.maxTouchPoints>1;case r(_d2[12]).Feature.WEBRTC:return null!=(null===(n=this.RTCRtpReceiver)||void 0===n?void 0:n.getCapabilities)&&null!=this.RTCRtpSender;case r(_d2[12]).Feature.MPEGTS:return!0;default:return!1}}catch(e){if(e instanceof S)return!1;throw e}}}]);var e})();_e2.WebDevice=C,C.displayName="WebDevice"},503,[345,13,12,23,25,28,85,487,504,505,506,507,486,525,551,485]);
__d(function(g,_r,_i,_a,m,_e,_d){var e,t;e=this,t=function(){return(function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)})({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=r(18),n=(function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,i){void 0===i&&(i=!1);var n=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(n,s),o=0,u=e.map([t,r],function(t){var r=a-e.getVersionPrecision(t),i=t+new Array(r+1).join(".0");return e.map(i.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(i&&(o=a-Math.min(n,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)i.push(t(e[r]));return i},e.find=function(e,t){var r,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,i=e.length;r<i;r+=1){var n=e[r];if(t(n,r))return n}},e.assign=function(e){for(var t,r,i=e,n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){i[t]=e[t]})};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return i.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return i.BROWSER_MAP[e]||""},e})();t.default=n,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(91))&&i.__esModule?i:{default:i},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=(function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new n.default(e,t)},e.parse=function(e){return new n.default(e).getResult()},t=e,(r=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}])&&a(t,r),e})();t.default=o,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i=u(r(92)),n=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=(function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},i=0,n={},s=0;if(Object.keys(e).forEach(function(t){var a=e[t];"string"==typeof a?(n[t]=a,s+=1):"object"==typeof a&&(r[t]=a,i+=1)}),i>0){var a=Object.keys(r),u=o.default.find(a,function(e){return t.isOS(e)});if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,function(e){return t.isPlatform(e)});if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(n),h=o.default.find(l,function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(n[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),i=e.toLowerCase(),n=o.default.getBrowserTypeByAlias(i);return t&&n&&(i=n.toLowerCase()),i===r},t.compareVersion=function(e){var t=[0],r=e,i=!1,n=this.getBrowserVersion();if("string"==typeof n)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(i=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(i=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(n,r,i))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e})();t.default=d,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=n.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=n.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=n.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=n.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=n.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=n.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=n.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=n.default.getFirstMatch(s,e)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=n.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=n.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=n.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=n.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=n.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=n.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(t,e),version:n.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=r(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=n.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=n.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=n.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=n.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=n.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=n.default.getMacOSVersionName(t),i={name:s.OS_MAP.MacOS,version:t};return r&&(i.versionName=r),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=n.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=n.default.getAndroidVersionName(t),i={name:s.OS_MAP.Android,version:t};return r&&(i.versionName=r),i}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=n.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=n.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||n.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||n.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=n.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=n.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=n.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=n.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=n.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=r(17))&&i.__esModule?i:{default:i},s=r(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=n.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=n.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=n.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=n.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=n.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})},"object"==typeof _e&&"object"==typeof m?m.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof _e?_e.bowser=t():e.bowser=t()},504,[]);
__d(function(t,e,r,i,n,a,s){!(function t(e){!(function(t,e){'object'==typeof a&&void 0!==n?n.exports=e():'function'==typeof define&&define.amd?define(e):(t='undefined'!=typeof globalThis?globalThis:t||self).Hls=e()})(this,function(){'use strict';function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,T(i.key),i)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e,r){return(e=T(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},o.apply(this,arguments)}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,h(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(t,e,r){return c=d()?Reflect.construct.bind():function(t,e,r){var i=[null];i.push.apply(i,e);var n=new(Function.bind.apply(t,i));return r&&h(n,r.prototype),n},c.apply(null,arguments)}function f(t){var e="function"==typeof Map?new Map:void 0;return f=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return c(t,arguments,u(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,t)},f(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function p(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function T(t){var e=y(t,"string");return"symbol"==typeof e?e:String(e)}function E(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,'default')?t.default:t}var S={exports:{}};!(function(t){var e,r,i,n,a;e=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var n=a.parseURL(t);if(!n)throw new Error('Error trying to parse base URL.');return n.path=a.normalizePath(n.path),a.buildURLFromParts(n)}var s=a.parseURL(e);if(!s)throw new Error('Error trying to parse relative URL.');if(s.scheme)return i.alwaysNormalize?(s.path=a.normalizePath(s.path),a.buildURLFromParts(s)):e;var o=a.parseURL(t);if(!o)throw new Error('Error trying to parse base URL.');if(!o.netLoc&&o.path&&'/'!==o.path[0]){var l=r.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path='/');var u={scheme:o.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=o.netLoc,'/'!==s.path[0]))if(s.path){var h=o.path,d=h.substring(0,h.lastIndexOf('/')+1)+s.path;u.path=a.normalizePath(d)}else u.path=o.path,s.params||(u.params=o.params,s.query||(u.query=o.query));return null===u.path&&(u.path=i.alwaysNormalize?a.normalizePath(s.path):s.path),a.buildURLFromParts(u)},parseURL:function(t){var r=e.exec(t);return r?{scheme:r[1]||'',netLoc:r[2]||'',path:r[3]||'',params:r[4]||'',query:r[5]||'',fragment:r[6]||''}:null},normalizePath:function(t){for(t=t.split('').reverse().join('').replace(i,'');t.length!==(t=t.replace(n,'')).length;);return t.split('').reverse().join('')},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a})(S);var L=S.exports,R=Number.isFinite||function(t){return'number'==typeof t&&isFinite(t)},A=Number.isSafeInteger||function(t){return'number'==typeof t&&Math.abs(t)<=k},k=Number.MAX_SAFE_INTEGER||9007199254740991,b=(function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t})({}),D=(function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t})({}),I=(function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t})({}),w=function(){},C={trace:w,debug:w,log:w,warn:w,info:w,error:w},_=C;function P(t){var e=self.console[t];return e?e.bind(self.console,"["+t+"] >"):w}function x(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];r.forEach(function(e){_[e]=t[e]?t[e].bind(t):P(e)})}function F(t,e){if(self.console&&!0===t||'object'==typeof t){x(t,'debug','log','info','warn','error');try{_.log("Debug logs enabled for \""+e+"\" in hls.js version 1.4.14")}catch(t){_=C}}else _=C}var M=_,O=/^(\d+)x(\d+)$/,N=/(.+?)=(".*?"|.*?)(?:,|$)/g,U=(function(){function t(e){for(var r in'string'==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&('X-'===r.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(r)),this[r]=e[r])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||'0x').slice(2);e=(1&e.length?'0':'')+e;for(var r=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)r[i]=parseInt(e.slice(2*i,2*i+2),16);return r}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.optionalFloat=function(t,e){var r=this[t];return r?parseFloat(r):e},e.enumeratedString=function(t){return this[t]},e.bool=function(t){return'YES'===this[t]},e.decimalResolution=function(t){var e=O.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,r={};for(N.lastIndex=0;null!==(e=N.exec(t));){var i=e[2];0===i.indexOf("\"")&&i.lastIndexOf("\"")===i.length-1&&(i=i.slice(1,-1)),r[e[1].trim()]=i}return r},t})();function B(t){return"ID"!==t&&"CLASS"!==t&&"START-DATE"!==t&&"DURATION"!==t&&"END-DATE"!==t&&"END-ON-NEXT"!==t}function G(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}var K=(function(){function t(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){var r=e.attr;for(var i in r)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i]!==r[i]){M.warn("DATERANGE tag attribute: \""+i+"\" does not match for tags with ID: \""+t.ID+"\""),this._badValueForSameId=i;break}t=o(new U({}),r,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){var n=new Date(this.attr["END-DATE"]);R(n.getTime())&&(this._endDate=n)}}return a(t,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var t=this.attr.decimalFloatingPoint("DURATION");if(R(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&R(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),t})(),H=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},V="audio",Y="video",W="audiovideo",j=(function(){function t(t){var e;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((e={})[V]=null,e[Y]=null,e[W]=null,e),this.baseurl=t}return t.prototype.setByteRange=function(t,e){var r=t.split('@',2),i=[];1===r.length?i[0]=e?e.byteRangeEndOffset:0:i[0]=parseInt(r[1]),i[1]=parseInt(r[0])+i[0],this._byteRange=i},a(t,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=L.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||''},set:function(t){this._url=t}}]),t})(),q=(function(t){function e(e,r){var i;return(i=t.call(this,r)||this)._decryptdata=null,i.rawProgramDateTime=null,i.programDateTime=null,i.tagList=[],i.duration=0,i.sn=0,i.levelkeys=void 0,i.type=void 0,i.loader=null,i.keyLoader=null,i.level=-1,i.cc=0,i.startPTS=void 0,i.endPTS=void 0,i.startDTS=void 0,i.endDTS=void 0,i.start=0,i.deltaPTS=void 0,i.maxStartPTS=void 0,i.minEndPTS=void 0,i.stats=new H,i.urlId=0,i.data=void 0,i.bitrateTest=!1,i.title=null,i.initSegment=null,i.endList=void 0,i.gap=void 0,i.type=e,i}l(e,t);var r=e.prototype;return r.setKeyFormat=function(t){if(this.levelkeys){var e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}},r.abortRequests=function(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()},r.setElementaryStreamInfo=function(t,e,r,i,n,a){void 0===a&&(a=!1);var s=this.elementaryStreams,o=s[t];o?(o.startPTS=Math.min(o.startPTS,e),o.endPTS=Math.max(o.endPTS,r),o.startDTS=Math.min(o.startDTS,i),o.endDTS=Math.max(o.endDTS,n)):s[t]={startPTS:e,endPTS:r,startDTS:i,endDTS:n,partial:a}},r.clearElementaryStreamInfo=function(){var t=this.elementaryStreams;t[V]=null,t[Y]=null,t[W]=null},a(e,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{var e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!R(this.programDateTime))return null;var t=R(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){var e=Object.keys(this.levelkeys),r=e.length;if(r>1||1===r&&this.levelkeys[e[0]].encrypted)return!0}return!1}}]),e})(j),X=(function(t){function e(e,r,i,n,a){var s;(s=t.call(this,i)||this).fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new H,s.duration=e.decimalFloatingPoint('DURATION'),s.gap=e.bool('GAP'),s.independent=e.bool('INDEPENDENT'),s.relurl=e.enumeratedString('URI'),s.fragment=r,s.index=n;var o=e.enumeratedString('BYTERANGE');return o&&s.setByteRange(o,a),a&&(s.fragOffset=a.fragOffset+a.duration),s}return l(e,t),a(e,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),e})(j),z=(function(){function t(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8='',this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}return t.prototype.reloaded=function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,r=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!r||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay},a(t,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&R(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),t})();function Q(t){return Uint8Array.from(atob(t),function(t){return t.charCodeAt(0)})}function $(t){var e=function(t,e,r){var i=t[e];t[e]=t[r],t[r]=i};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function J(t){var e,r,i=t.split(':'),n=null;if('data'===i[0]&&2===i.length){var a=i[1].split(';'),s=a[a.length-1].split(',');if(2===s.length){var o='base64'===s[0],l=s[1];o?(a.splice(-1,1),n=Q(l)):(e=Z(l).subarray(0,16),(r=new Uint8Array(16)).set(e,16-e.length),n=r)}}return n}function Z(t){return Uint8Array.from(unescape(encodeURIComponent(t)),function(t){return t.charCodeAt(0)})}var tt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},et="org.w3.clearkey",rt="com.apple.streamingkeydelivery",it="com.microsoft.playready",nt="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function at(t){switch(t){case rt:return tt.FAIRPLAY;case it:return tt.PLAYREADY;case nt:return tt.WIDEVINE;case et:return tt.CLEARKEY}}var st="edef8ba979d64acea3c827dcd51d21ed";function ot(t){if(t===st)return tt.WIDEVINE}function lt(t){switch(t){case tt.FAIRPLAY:return rt;case tt.PLAYREADY:return it;case tt.WIDEVINE:return nt;case tt.CLEARKEY:return et}}function ut(t){var e=t.drmSystems,r=t.widevineLicenseUrl,i=e?[tt.FAIRPLAY,tt.WIDEVINE,tt.PLAYREADY,tt.CLEARKEY].filter(function(t){return!!e[t]}):[];return!i[tt.WIDEVINE]&&r&&i.push(tt.WIDEVINE),i}var ht='undefined'!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function dt(t,e,r,i){var n;switch(t){case tt.FAIRPLAY:n=['cenc','sinf'];break;case tt.WIDEVINE:case tt.PLAYREADY:n=['cenc'];break;case tt.CLEARKEY:n=['cenc','keyids'];break;default:throw new Error("Unknown key-system: "+t)}return ct(n,e,r,i)}function ct(t,e,r,i){return[{initDataTypes:t,persistentState:i.persistentState||'not-allowed',distinctiveIdentifier:i.distinctiveIdentifier||'not-allowed',sessionTypes:i.sessionTypes||[i.sessionType||'temporary'],audioCapabilities:e.map(function(t){return{contentType:"audio/mp4; codecs=\""+t+"\"",robustness:i.audioRobustness||'',encryptionScheme:i.audioEncryptionScheme||null}}),videoCapabilities:r.map(function(t){return{contentType:"video/mp4; codecs=\""+t+"\"",robustness:i.videoRobustness||'',encryptionScheme:i.videoEncryptionScheme||null}})}]}function ft(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}var gt,vt=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},mt=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},pt=function(t,e){for(var r=e,i=0;vt(t,e);){i+=10,i+=yt(t,e+6),mt(t,e+10)&&(i+=10),e+=i}if(i>0)return t.subarray(r,r+i)},yt=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},Tt=function(t,e){return vt(t,e)&&yt(t,e+6)+10<=t.length-e},Et=function(t){for(var e=Rt(t),r=0;r<e.length;r++){var i=e[r];if(St(i))return It(i)}},St=function(t){return t&&'PRIV'===t.key&&'com.apple.streaming.transportStreamTimestamp'===t.info},Lt=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=yt(t,4);return{type:e,size:r,data:t.subarray(10,10+r)}},Rt=function(t){for(var e=0,r=[];vt(t,e);){for(var i=yt(t,e+6),n=(e+=10)+i;e+8<n;){var a=Lt(t.subarray(e)),s=At(a);s&&r.push(s),e+=a.size+10}mt(t,e)&&(e+=10)}return r},At=function(t){return'PRIV'===t.type?kt(t):'W'===t.type[0]?Dt(t):bt(t)},kt=function(t){if(!(t.size<2)){var e=wt(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}},bt=function(t){if(!(t.size<2)){if('TXXX'===t.type){var e=1,r=wt(t.data.subarray(e),!0);e+=r.length+1;var i=wt(t.data.subarray(e));return{key:t.type,info:r,data:i}}var n=wt(t.data.subarray(1));return{key:t.type,data:n}}},Dt=function(t){if('WXXX'===t.type){if(t.size<2)return;var e=1,r=wt(t.data.subarray(e),!0);e+=r.length+1;var i=wt(t.data.subarray(e));return{key:t.type,info:r,data:i}}var n=wt(t.data);return{key:t.type,data:n}},It=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},wt=function(t,e){void 0===e&&(e=!1);var r=Ct();if(r){var i=r.decode(t);if(e){var n=i.indexOf('\0');return-1!==n?i.substring(0,n):i}return i.replace(/\0/g,'')}for(var a,s,o,l=t.length,u='',h=0;h<l;){if(0===(a=t[h++])&&e)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:s=t[h++],u+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=t[h++],o=t[h++],u+=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}}return u};function Ct(){if(!navigator.userAgent.includes('PlayStation 4'))return gt||void 0===self.TextDecoder||(gt=new self.TextDecoder('utf-8')),gt}var _t=function(t){for(var e='',r=0;r<t.length;r++){var i=t[r].toString(16);i.length<2&&(i='0'+i),e+=i}return e},Pt=Math.pow(2,32)-1,xt=[].push,Ft={video:1,audio:2,id3:3,text:4};function Mt(t){return String.fromCharCode.apply(null,t)}function Ot(t,e){var r=t[e]<<8|t[e+1];return r<0?65536+r:r}function Nt(t,e){var r=Ut(t,e);return r<0?4294967296+r:r}function Ut(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Bt(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r}function Gt(t,e){var r=[];if(!e.length)return r;for(var i=t.byteLength,n=0;n<i;){var a=Nt(t,n),s=a>1?n+a:i;if(Mt(t.subarray(n+4,n+8))===e[0])if(1===e.length)r.push(t.subarray(n+8,s));else{var o=Gt(t.subarray(n+8,s),e.slice(1));o.length&&xt.apply(r,o)}n=s}return r}function Kt(t){var e=[],r=t[0],i=8,n=Nt(t,i);i+=4;i+=0===r?8:16,i+=2;var a=t.length+0,s=Ot(t,i);i+=2;for(var o=0;o<s;o++){var l=i,u=Nt(t,l);l+=4;var h=2147483647&u;if(1===(2147483648&u)>>>31)return M.warn('SIDX has hierarchical references (not supported)'),null;var d=Nt(t,l);l+=4,e.push({referenceSize:h,subsegmentDuration:d,info:{duration:d/n,start:a,end:a+h-1}}),a+=h,i=l+=4}return{earliestPresentationTime:0,timescale:n,version:r,referencesCount:s,references:e}}function Ht(t){for(var e=[],r=Gt(t,['moov','trak']),i=0;i<r.length;i++){var n=r[i],a=Gt(n,['tkhd'])[0];if(a){var s=a[0],o=0===s?12:20,l=Nt(a,o),u=Gt(n,['mdia','mdhd'])[0];if(u){var h=Nt(u,o=0===(s=u[0])?12:20),d=Gt(n,['mdia','hdlr'])[0];if(d){var c=Mt(d.subarray(8,12)),f={soun:V,vide:Y}[c];if(f){var g=Gt(n,['mdia','minf','stbl','stsd'])[0],v=void 0;g&&(v=Mt(g.subarray(12,16))),e[l]={timescale:h,type:f},e[f]={timescale:h,id:l,codec:v}}}}}}return Gt(t,['moov','mvex','trex']).forEach(function(t){var r=Nt(t,4),i=e[r];i&&(i.default={duration:Nt(t,12),flags:Nt(t,20)})}),e}function Vt(t,e){if(!t||!e)return t;var r=e.keyId;r&&e.isCommonEncryption&&Gt(t,['moov','trak']).forEach(function(t){var e=Gt(t,['mdia','minf','stbl','stsd'])[0].subarray(8),i=Gt(e,['enca']),n=i.length>0;n||(i=Gt(e,['encv'])),i.forEach(function(t){Gt(n?t.subarray(28):t.subarray(78),['sinf']).forEach(function(t){var e=Yt(t);if(e){var i=e.subarray(8,24);i.some(function(t){return 0!==t})||(M.log("[eme] Patching keyId in 'enc"+(n?'a':'v')+">sinf>>tenc' box: "+_t(i)+" -> "+_t(r)),e.set(r,8))}})})});return t}function Yt(t){var e=Gt(t,['schm'])[0];if(e){var r=Mt(e.subarray(4,8));if('cbcs'===r||'cenc'===r)return Gt(t,['schi','tenc'])[0]}return M.error("[eme] missing 'schm' box"),null}function Wt(t,e){return Gt(e,['moof','traf']).reduce(function(e,r){var i=Gt(r,['tfdt'])[0],n=i[0],a=Gt(r,['tfhd']).reduce(function(e,r){var a=Nt(r,4),s=t[a];if(s){var o=Nt(i,4);if(1===n){if(o===Pt)return M.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;o*=4294967296,o+=Nt(i,8)}var l=o/(s.timescale||9e4);if(R(l)&&(null===e||l<e))return l}return e},null);return null!==a&&R(a)&&(null===e||a<e)?a:e},null)}function jt(t,e){for(var r=0,i=0,n=0,a=Gt(t,['moof','traf']),s=0;s<a.length;s++){var o=a[s],l=Gt(o,['tfhd'])[0],u=e[Nt(l,4)];if(u){var h=u.default,d=Nt(l,0)|(null==h?void 0:h.flags),c=null==h?void 0:h.duration;8&d&&(c=Nt(l,2&d?12:8));for(var f=u.timescale||9e4,g=Gt(o,['trun']),v=0;v<g.length;v++){if(!(r=qt(g[v]))&&c)r=c*Nt(g[v],4);u.type===Y?i+=r/f:u.type===V&&(n+=r/f)}}}if(0===i&&0===n){for(var m=0,p=Gt(t,['sidx']),y=0;y<p.length;y++){var T=Kt(p[y]);null!=T&&T.references&&(m+=T.references.reduce(function(t,e){return t+e.info.duration||0},0))}return m}return i||n}function qt(t){var e=Nt(t,0),r=8;1&e&&(r+=4),4&e&&(r+=4);for(var i=0,n=Nt(t,4),a=0;a<n;a++){if(256&e)i+=Nt(t,r),r+=4;512&e&&(r+=4),1024&e&&(r+=4),2048&e&&(r+=4)}return i}function Xt(t,e,r){Gt(e,['moof','traf']).forEach(function(e){Gt(e,['tfhd']).forEach(function(i){var n=Nt(i,4),a=t[n];if(a){var s=a.timescale||9e4;Gt(e,['tfdt']).forEach(function(t){var e=t[0],i=Nt(t,4);if(0===e)i-=r*s,Bt(t,4,i=Math.max(i,0));else{i*=Math.pow(2,32),i+=Nt(t,8),i-=r*s,i=Math.max(i,0);var n=Math.floor(i/4294967296),a=Math.floor(i%4294967296);Bt(t,4,n),Bt(t,8,a)}})}})})}function zt(t){var e={valid:null,remainder:null},r=Gt(t,['moof']);if(!r)return e;if(r.length<2)return e.remainder=t,e;var i=r[r.length-1];return e.valid=ft(t,0,i.byteOffset-8),e.remainder=ft(t,i.byteOffset-8),e}function Qt(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function $t(t,e){var r=[],i=e.samples,n=e.timescale,a=e.id,s=!1;return Gt(i,['moof']).map(function(o){var l=o.byteOffset-8;Gt(o,['traf']).map(function(o){var u=Gt(o,['tfdt']).map(function(t){var e=t[0],r=Nt(t,4);return 1===e&&(r*=Math.pow(2,32),r+=Nt(t,8)),r/n})[0];return void 0!==u&&(t=u),Gt(o,['tfhd']).map(function(u){var h=Nt(u,4),d=16777215&Nt(u,0),c=0,f=!!(16&d),g=0,v=!!(32&d),m=8;h===a&&(!!(1&d)&&(m+=8),!!(2&d)&&(m+=4),!!(8&d)&&(c=Nt(u,m),m+=4),f&&(g=Nt(u,m),m+=4),v&&(m+=4),'video'===e.type&&(s=Jt(e.codec)),Gt(o,['trun']).map(function(a){var o=a[0],u=16777215&Nt(a,0),h=!!(1&u),d=0,f=!!(4&u),v=!!(256&u),m=0,p=!!(512&u),y=0,T=!!(1024&u),E=!!(2048&u),S=0,L=Nt(a,4),R=8;h&&(d=Nt(a,R),R+=4),f&&(R+=4);for(var A=d+l,k=0;k<L;k++){if(v?(m=Nt(a,R),R+=4):m=c,p?(y=Nt(a,R),R+=4):y=g,T&&(R+=4),E&&(S=0===o?Nt(a,R):Ut(a,R),R+=4),e.type===Y)for(var b=0;b<y;){var D=Nt(i,A);if(Zt(s,i[A+=4]))te(i.subarray(A,A+D),s?2:1,t+S/n,r);A+=D,b+=D+4}t+=m/n}}))})})}),r}function Jt(t){if(!t)return!1;var e=t.indexOf('.'),r=e<0?t:t.substring(0,e);return'hvc1'===r||'hev1'===r||'dvh1'===r||'dvhe'===r}function Zt(t,e){if(t){var r=e>>1&63;return 39===r||40===r}return 6===(31&e)}function te(t,e,r,i){var n=ee(t),a=0;a+=e;for(var s=0,o=0,l=!1,u=0;a<n.length;){s=0;do{if(a>=n.length)break;s+=u=n[a++]}while(255===u);o=0;do{if(a>=n.length)break;o+=u=n[a++]}while(255===u);var h=n.length-a;if(!l&&4===s&&a<n.length){if(l=!0,181===n[a++]){var d=Ot(n,a);if(a+=2,49===d){var c=Nt(n,a);if(a+=4,1195456820===c){var f=n[a++];if(3===f){var g=n[a++],v=64&g,m=v?2+3*(31&g):0,p=new Uint8Array(m);if(v){p[0]=g;for(var y=1;y<m;y++)p[y]=n[a++]}i.push({type:f,payloadType:s,pts:r,bytes:p})}}}}}else if(5===s&&o<h){if(l=!0,o>16){for(var T=[],E=0;E<16;E++){var S=n[a++].toString(16);T.push(1==S.length?'0'+S:S),3!==E&&5!==E&&7!==E&&9!==E||T.push('-')}for(var L=o-16,R=new Uint8Array(L),A=0;A<L;A++)R[A]=n[a++];i.push({payloadType:s,pts:r,uuid:T.join(''),userData:wt(R),userDataBytes:R})}}else if(o<h)a+=o;else if(o>h)break}}function ee(t){for(var e=t.byteLength,r=[],i=1;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return t;var n=e-r.length,a=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===r[0]&&(s++,r.shift()),a[i]=t[s];return a}function re(t){var e=t[0],r='',i='',n=0,a=0,s=0,o=0,l=0,u=0;if(0===e){for(;'\0'!==Mt(t.subarray(u,u+1));)r+=Mt(t.subarray(u,u+1)),u+=1;for(r+=Mt(t.subarray(u,u+1)),u+=1;'\0'!==Mt(t.subarray(u,u+1));)i+=Mt(t.subarray(u,u+1)),u+=1;i+=Mt(t.subarray(u,u+1)),u+=1,n=Nt(t,12),a=Nt(t,16),o=Nt(t,20),l=Nt(t,24),u=28}else if(1===e){n=Nt(t,u+=4);var h=Nt(t,u+=4),d=Nt(t,u+=4);for(u+=4,s=Math.pow(2,32)*h+d,A(s)||(s=Number.MAX_SAFE_INTEGER,M.warn('Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box')),o=Nt(t,u),l=Nt(t,u+=4),u+=4;'\0'!==Mt(t.subarray(u,u+1));)r+=Mt(t.subarray(u,u+1)),u+=1;for(r+=Mt(t.subarray(u,u+1)),u+=1;'\0'!==Mt(t.subarray(u,u+1));)i+=Mt(t.subarray(u,u+1)),u+=1;i+=Mt(t.subarray(u,u+1)),u+=1}return{schemeIdUri:r,value:i,timeScale:n,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:t.subarray(u,t.byteLength)}}function ie(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];for(var n=r.length,a=8,s=n;s--;)a+=r[s].byteLength;var o=new Uint8Array(a);for(o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,o.set(t,4),s=0,a=8;s<n;s++)o.set(r[s],a),a+=r[s].byteLength;return o}function ne(t,e,r){if(16!==t.byteLength)throw new RangeError('Invalid system id');var i,n,a;if(e){i=1,n=new Uint8Array(16*e.length);for(var s=0;s<e.length;s++){var o=e[s];if(16!==o.byteLength)throw new RangeError('Invalid key');n.set(o,16*s)}}else i=0,n=new Uint8Array;i>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(l.buffer).setUint32(0,r.byteLength,!1),ie([112,115,115,104],new Uint8Array([i,0,0,0]),t,a,n,l,r||new Uint8Array)}function ae(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;var e={version:0,systemId:'',kids:null,data:null},r=new DataView(t),i=r.getUint32(0);if(t.byteLength!==i&&i>44)return null;if(1886614376!==r.getUint32(4))return null;if(e.version=r.getUint32(8)>>>24,e.version>1)return null;e.systemId=_t(new Uint8Array(t,12,16));var n=r.getUint32(28);if(0===e.version){if(i-32<n)return null;e.data=new Uint8Array(t,32,n)}else if(1===e.version){e.kids=[];for(var a=0;a<n;a++)e.kids.push(new Uint8Array(t,32+16*a,16))}return e}var se={},oe=(function(){function t(t,e,r,i,n){void 0===i&&(i=[1]),void 0===n&&(n=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=r,this.keyFormatVersions=i,this.iv=n,this.encrypted=!!t&&'NONE'!==t,this.isCommonEncryption=this.encrypted&&'AES-128'!==t}t.clearKeyUriToKeyIdMap=function(){se={}};var e=t.prototype;return e.isSupported=function(){if(this.method){if('AES-128'===this.method||'NONE'===this.method)return!0;if('identity'===this.keyFormat)return'SAMPLE-AES'===this.method;switch(this.keyFormat){case rt:case nt:case it:case et:return-1!==['ISO-23001-7','SAMPLE-AES','SAMPLE-AES-CENC','SAMPLE-AES-CTR'].indexOf(this.method)}}return!1},e.getDecryptData=function(e){if(!this.encrypted||!this.uri)return null;if('AES-128'===this.method&&this.uri&&!this.iv){'number'!=typeof e&&('AES-128'!==this.method||this.iv||M.warn("missing IV for initialization segment with method=\""+this.method+"\" - compliance issue"),e=0);var r=le(e);return new t(this.method,this.uri,'identity',this.keyFormatVersions,r)}var i=J(this.uri);if(i)switch(this.keyFormat){case nt:this.pssh=i,i.length>=22&&(this.keyId=i.subarray(i.length-22,i.length-6));break;case it:var n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=ne(n,null,i);var a=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2),s=String.fromCharCode.apply(null,Array.from(a)),o=s.substring(s.indexOf('<'),s.length),l=(new DOMParser).parseFromString(o,'text/xml').getElementsByTagName('KID')[0];if(l){var u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute('VALUE');if(u){var h=Q(u).subarray(0,16);$(h),this.keyId=h}}break;default:var d=i.subarray(0,16);if(16!==d.length){var c=new Uint8Array(16);c.set(d,16-d.length),d=c}this.keyId=d}if(!this.keyId||16!==this.keyId.byteLength){var f=se[this.uri];if(!f){var g=Object.keys(se).length%Number.MAX_SAFE_INTEGER;f=new Uint8Array(16),new DataView(f.buffer,12,4).setUint32(0,g),se[this.uri]=f}this.keyId=f}return this},t})();function le(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}var ue=/\{\$([a-zA-Z0-9-_]+)\}/g;function he(t){return ue.test(t)}function de(t,e,r){if(null!==t.variableList||t.hasVariableRefs)for(var i=r.length;i--;){var n=r[i],a=e[n];a&&(e[n]=ce(t,a))}}function ce(t,e){if(null!==t.variableList||t.hasVariableRefs){var r=t.variableList;return e.replace(ue,function(e){var i=e.substring(2,e.length-1),n=null==r?void 0:r[i];return void 0===n?(t.playlistParsingError||(t.playlistParsingError=new Error("Missing preceding EXT-X-DEFINE tag for Variable Reference: \""+i+"\"")),e):n})}return e}function fe(t,e,r){var i,n,a=t.variableList;if(a||(t.variableList=a={}),'QUERYPARAM'in e){i=e.QUERYPARAM;try{var s=new self.URL(r).searchParams;if(!s.has(i))throw new Error("\""+i+"\" does not match any query parameter in URI: \""+r+"\"");n=s.get(i)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+e.message))}}else i=e.NAME,n=e.VALUE;i in a?t.playlistParsingError||(t.playlistParsingError=new Error("EXT-X-DEFINE duplicate Variable Name declarations: \""+i+"\"")):a[i]=n||''}function ge(t,e,r){var i=e.IMPORT;if(r&&i in r){var n=t.variableList;n||(t.variableList=n={}),n[i]=r[i]}else t.playlistParsingError||(t.playlistParsingError=new Error("EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: \""+i+"\""))}function ve(){if('undefined'!=typeof self)return self.MediaSource||self.WebKitMediaSource}var me={audio:{a3ds:!0,'ac-3':!0,'ac-4':!0,alac:!0,alaw:!0,dra1:!0,'dts+':!0,'dts-':!0,dtsc:!0,dtse:!0,dtsh:!0,'ec-3':!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,'raw ':!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,'vc-1':!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},pe=ve();function ye(t,e){var r=me[e];return!!r&&!0===r[t.slice(0,4)]}function Te(t,e){var r;return null!=(r=null==pe?void 0:pe.isTypeSupported((e||'video')+"/mp4;codecs=\""+t+"\""))&&r}var Ee=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Se=/#EXT-X-MEDIA:(.*)/g,Le=/^#EXT(?:INF|-X-TARGETDURATION):/m,Re=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join('|'),'g'),Ae=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join('|')),ke=(function(){function t(){}return t.findGroup=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(i.id===e)return i}},t.convertAVC1ToAVCOTI=function(t){var e=t.split('.');if(e.length>2){var r=e.shift()+'.';return r+=parseInt(e.shift()).toString(16),r+=('000'+parseInt(e.shift()).toString(16)).slice(-4)}return t},t.resolve=function(t,e){return L.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.isMediaPlaylist=function(t){return Le.test(t)},t.parseMasterPlaylist=function(e,r){var i,n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:he(e)},a=[];for(Ee.lastIndex=0;null!=(i=Ee.exec(e));)if(i[1]){var s,o=new U(i[1]);de(n,o,['CODECS','SUPPLEMENTAL-CODECS','ALLOWED-CPC','PATHWAY-ID','STABLE-VARIANT-ID','AUDIO','VIDEO','SUBTITLES','CLOSED-CAPTIONS','NAME']);var l=ce(n,i[2]),u={attrs:o,bitrate:o.decimalInteger('AVERAGE-BANDWIDTH')||o.decimalInteger('BANDWIDTH'),name:o.NAME,url:t.resolve(l,r)},h=o.decimalResolution('RESOLUTION');h&&(u.width=h.width,u.height=h.height),Ie((o.CODECS||'').split(/[ ,]+/).filter(function(t){return t}),u),u.videoCodec&&-1!==u.videoCodec.indexOf('avc1')&&(u.videoCodec=t.convertAVC1ToAVCOTI(u.videoCodec)),null!=(s=u.unknownCodecs)&&s.length||a.push(u),n.levels.push(u)}else if(i[3]){var d=i[3],c=i[4];switch(d){case'SESSION-DATA':var f=new U(c);de(n,f,['DATA-ID','LANGUAGE','VALUE','URI']);var g=f['DATA-ID'];g&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[g]=f);break;case'SESSION-KEY':var v=be(c,r,n);v.encrypted&&v.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(v)):M.warn("[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: \""+c+"\"");break;case'DEFINE':var m=new U(c);de(n,m,['NAME','VALUE','QUERYPARAM']),fe(n,m,r);break;case'CONTENT-STEERING':var p=new U(c);de(n,p,['SERVER-URI','PATHWAY-ID']),n.contentSteering={uri:t.resolve(p['SERVER-URI'],r),pathwayId:p['PATHWAY-ID']||'.'};break;case'START':n.startTimeOffset=De(c)}}var y=a.length>0&&a.length<n.levels.length;return n.levels=y?a:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error('no levels found in manifest')),n},t.parseMasterPlaylistMedia=function(e,r,i){var n,a={},s=i.levels,o={AUDIO:s.map(function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}}),SUBTITLES:s.map(function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}}),'CLOSED-CAPTIONS':[]},l=0;for(Se.lastIndex=0;null!==(n=Se.exec(e));){var u=new U(n[1]),h=u.TYPE;if(h){var d=o[h],c=a[h]||[];a[h]=c,de(i,u,['URI','GROUP-ID','LANGUAGE','ASSOC-LANGUAGE','STABLE-RENDITION-ID','NAME','INSTREAM-ID','CHARACTERISTICS','CHANNELS']);var f={attrs:u,bitrate:0,id:l++,groupId:u['GROUP-ID']||'',instreamId:u['INSTREAM-ID'],name:u.NAME||u.LANGUAGE||'',type:h,default:u.bool('DEFAULT'),autoselect:u.bool('AUTOSELECT'),forced:u.bool('FORCED'),lang:u.LANGUAGE,url:u.URI?t.resolve(u.URI,r):''};if(null!=d&&d.length){var g=t.findGroup(d,f.groupId)||d[0];we(f,g,'audioCodec'),we(f,g,'textCodec')}c.push(f)}}return a},t.parseLevelPlaylist=function(t,e,r,i,n,a){var s,l,u,h=new z(e),d=h.fragments,c=null,f=0,g=0,v=0,m=0,p=null,y=new q(i,e),T=-1,E=!1;for(Re.lastIndex=0,h.m3u8=t,h.hasVariableRefs=he(t);null!==(s=Re.exec(t));){E&&(E=!1,(y=new q(i,e)).start=v,y.sn=f,y.cc=m,y.level=r,c&&(y.initSegment=c,y.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null));var S=s[1];if(S){y.duration=parseFloat(S);var L=(' '+s[2]).slice(1);y.title=L||null,y.tagList.push(L?['INF',S,L]:['INF',S])}else if(s[3]){if(R(y.duration)){y.start=v,u&&xe(y,u,h),y.sn=f,y.level=r,y.cc=m,y.urlId=n,d.push(y);var A=(' '+s[3]).slice(1);y.relurl=ce(h,A),_e(y,p),p=y,v+=y.duration,f++,g=0,E=!0}}else if(s[4]){var k=(' '+s[4]).slice(1);p?y.setByteRange(k,p):y.setByteRange(k)}else if(s[5])y.rawProgramDateTime=(' '+s[5]).slice(1),y.tagList.push(['PROGRAM-DATE-TIME',y.rawProgramDateTime]),-1===T&&(T=d.length);else{if(!(s=s[0].match(Ae))){M.warn('No matches on slow regex match for level playlist!');continue}for(l=1;l<s.length&&void 0===s[l];l++);var b=(' '+s[l]).slice(1),D=(' '+s[l+1]).slice(1),I=s[l+2]?(' '+s[l+2]).slice(1):'';switch(b){case'PLAYLIST-TYPE':h.type=D.toUpperCase();break;case'MEDIA-SEQUENCE':f=h.startSN=parseInt(D);break;case'SKIP':var w=new U(D);de(h,w,['RECENTLY-REMOVED-DATERANGES']);var C=w.decimalInteger('SKIPPED-SEGMENTS');if(R(C)){h.skippedSegments=C;for(var _=C;_--;)d.unshift(null);f+=C}var P=w.enumeratedString('RECENTLY-REMOVED-DATERANGES');P&&(h.recentlyRemovedDateranges=P.split('\t'));break;case'TARGETDURATION':h.targetduration=Math.max(parseInt(D),1);break;case'VERSION':h.version=parseInt(D);break;case'EXTM3U':break;case'ENDLIST':h.live=!1;break;case'#':(D||I)&&y.tagList.push(I?[D,I]:[D]);break;case'DISCONTINUITY':m++,y.tagList.push(['DIS']);break;case'GAP':y.gap=!0,y.tagList.push([b]);break;case'BITRATE':y.tagList.push([b,D]);break;case'DATERANGE':var x=new U(D);de(h,x,['ID','CLASS','START-DATE','END-DATE','SCTE35-CMD','SCTE35-OUT','SCTE35-IN']),de(h,x,x.clientAttrs);var F=new K(x,h.dateRanges[x.ID]);F.isValid||h.skippedSegments?h.dateRanges[F.id]=F:M.warn("Ignoring invalid DATERANGE tag: \""+D+"\""),y.tagList.push(['EXT-X-DATERANGE',D]);break;case'DEFINE':var O=new U(D);de(h,O,['NAME','VALUE','IMPORT','QUERYPARAM']),'IMPORT'in O?ge(h,O,a):fe(h,O,e);break;case'DISCONTINUITY-SEQUENCE':m=parseInt(D);break;case'KEY':var N=be(D,e,h);if(N.isSupported()){if('NONE'===N.method){u=void 0;break}u||(u={}),u[N.keyFormat]&&(u=o({},u)),u[N.keyFormat]=N}else M.warn("[Keys] Ignoring invalid EXT-X-KEY tag: \""+D+"\"");break;case'START':h.startTimeOffset=De(D);break;case'MAP':var B=new U(D);if(de(h,B,['BYTERANGE','URI']),y.duration){var G=new q(i,e);Pe(G,B,r,u),c=G,y.initSegment=c,c.rawProgramDateTime&&!y.rawProgramDateTime&&(y.rawProgramDateTime=c.rawProgramDateTime)}else Pe(y,B,r,u),c=y,E=!0;break;case'SERVER-CONTROL':var H=new U(D);h.canBlockReload=H.bool('CAN-BLOCK-RELOAD'),h.canSkipUntil=H.optionalFloat('CAN-SKIP-UNTIL',0),h.canSkipDateRanges=h.canSkipUntil>0&&H.bool('CAN-SKIP-DATERANGES'),h.partHoldBack=H.optionalFloat('PART-HOLD-BACK',0),h.holdBack=H.optionalFloat('HOLD-BACK',0);break;case'PART-INF':var V=new U(D);h.partTarget=V.decimalFloatingPoint('PART-TARGET');break;case'PART':var Y=h.partList;Y||(Y=h.partList=[]);var W=g>0?Y[Y.length-1]:void 0,j=g++,Q=new U(D);de(h,Q,['BYTERANGE','URI']);var $=new X(Q,y,e,j,W);Y.push($),y.duration+=$.duration;break;case'PRELOAD-HINT':var J=new U(D);de(h,J,['URI']),h.preloadHint=J;break;case'RENDITION-REPORT':var Z=new U(D);de(h,Z,['URI']),h.renditionReports=h.renditionReports||[],h.renditionReports.push(Z);break;default:M.warn("line parsed but not handled: "+s)}}}p&&!p.relurl?(d.pop(),v-=p.duration,h.partList&&(h.fragmentHint=p)):h.partList&&(_e(y,p),y.cc=m,h.fragmentHint=y,u&&xe(y,u,h));var tt=d.length,et=d[0],rt=d[tt-1];if((v+=h.skippedSegments*h.targetduration)>0&&tt&&rt){h.averagetargetduration=v/tt;var it=rt.sn;h.endSN='initSegment'!==it?it:0,h.live||(rt.endList=!0),et&&(h.startCC=et.cc)}else h.endSN=0,h.startCC=0;return h.fragmentHint&&(v+=h.fragmentHint.duration),h.totalduration=v,h.endCC=m,T>0&&Ce(d,T),h},t})();function be(t,e,r){var i,n,a=new U(t);de(r,a,['KEYFORMAT','KEYFORMATVERSIONS','URI','IV','URI']);var s=null!=(i=a.METHOD)?i:'',o=a.URI,l=a.hexadecimalInteger('IV'),u=a.KEYFORMATVERSIONS,h=null!=(n=a.KEYFORMAT)?n:'identity';o&&a.IV&&!l&&M.error("Invalid IV: "+a.IV);var d=o?ke.resolve(o,e):'',c=(u||'1').split('/').map(Number).filter(Number.isFinite);return new oe(s,d,h,c,l)}function De(t){var e=new U(t).decimalFloatingPoint('TIME-OFFSET');return R(e)?e:null}function Ie(t,e){['video','audio','text'].forEach(function(r){var i=t.filter(function(t){return ye(t,r)});if(i.length){var n=i.filter(function(t){return 0===t.lastIndexOf('avc1',0)||0===t.lastIndexOf('mp4a',0)});e[r+"Codec"]=n.length>0?n[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}function we(t,e,r){var i=e[r];i&&(t[r]=i)}function Ce(t,e){for(var r=t[e],i=e;i--;){var n=t[i];if(!n)return;n.programDateTime=r.programDateTime-1e3*n.duration,r=n}}function _e(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),R(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function Pe(t,e,r,i){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn='initSegment',i&&(t.levelkeys=i),t.initSegment=null}function xe(t,e,r){t.levelkeys=e;var i=r.encryptedFragments;i.length&&i[i.length-1].levelkeys===e||!Object.keys(e).some(function(t){return e[t].isCommonEncryption})||i.push(t)}var Fe="manifest",Me="level",Oe="audioTrack",Ne="subtitleTrack",Ue="main",Be="audio",Ge="subtitle";function Ke(t){switch(t.type){case Oe:return Be;case Ne:return Ge;default:return Ue}}function He(t,e){var r=t.url;return void 0!==r&&0!==r.indexOf('data:')||(r=e.url),r}var Ve=(function(){function t(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}var e=t.prototype;return e.startLoad=function(t){},e.stopLoad=function(){this.destroyInternalLoaders()},e.registerListeners=function(){var t=this.hls;t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.LEVEL_LOADING,this.onLevelLoading,this),t.on(b.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(b.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregisterListeners=function(){var t=this.hls;t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.LEVEL_LOADING,this.onLevelLoading,this),t.off(b.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(b.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.createInternalLoader=function(t){var e=this.hls.config,r=e.pLoader,i=e.loader,n=new(r||i)(e);return this.loaders[t.type]=n,n},e.getInternalLoader=function(t){return this.loaders[t.type]},e.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},e.onManifestLoading=function(t,e){var r=e.url;this.variableList=null,this.load({id:null,level:0,responseType:'text',type:Fe,url:r,deliveryDirectives:null})},e.onLevelLoading=function(t,e){var r=e.id,i=e.level,n=e.url,a=e.deliveryDirectives;this.load({id:r,level:i,responseType:'text',type:Me,url:n,deliveryDirectives:a})},e.onAudioTrackLoading=function(t,e){var r=e.id,i=e.groupId,n=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:i,level:null,responseType:'text',type:Oe,url:n,deliveryDirectives:a})},e.onSubtitleTrackLoading=function(t,e){var r=e.id,i=e.groupId,n=e.url,a=e.deliveryDirectives;this.load({id:r,groupId:i,level:null,responseType:'text',type:Ne,url:n,deliveryDirectives:a})},e.load=function(t){var e,r,i,n=this,a=this.hls.config,s=this.getInternalLoader(t);if(s){var l=s.context;if(l&&l.url===t.url)return void M.trace('[playlist-loader]: playlist request ongoing');M.log("[playlist-loader]: aborting previous loader for type: "+t.type),s.abort()}if((r=t.type===Fe?a.manifestLoadPolicy.default:o({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(t),null!=(e=t.deliveryDirectives)&&e.part)&&(t.type===Me&&null!==t.level?i=this.hls.levels[t.level].details:t.type===Oe&&null!==t.id?i=this.hls.audioTracks[t.id].details:t.type===Ne&&null!==t.id&&(i=this.hls.subtitleTracks[t.id].details),i)){var u=i.partTarget,h=i.targetduration;if(u&&h){var d=1e3*Math.max(3*u,.8*h);r=o({},r,{maxTimeToFirstByteMs:Math.min(d,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,r.maxTimeToFirstByteMs)})}}var c=r.errorRetry||r.timeoutRetry||{},f={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},g={onSuccess:function(t,e,r,i){var a=n.getInternalLoader(r);n.resetInternalLoader(r.type);var s=t.data;0===s.indexOf('#EXTM3U')?(e.parsing.start=performance.now(),ke.isMediaPlaylist(s)?n.handleTrackOrLevelPlaylist(t,e,r,i||null,a):n.handleMasterPlaylist(t,e,r,i)):n.handleManifestParsingError(t,r,new Error('no EXTM3U delimiter'),i||null,e)},onError:function(t,e,r,i){n.handleNetworkError(e,r,!1,t,i)},onTimeout:function(t,e,r){n.handleNetworkError(e,r,!0,void 0,t)}};s.load(t,f,g)},e.handleMasterPlaylist=function(t,e,r,i){var n=this.hls,a=t.data,s=He(t,r),o=ke.parseMasterPlaylist(a,s);if(o.playlistParsingError)this.handleManifestParsingError(t,r,o.playlistParsingError,i,e);else{var l=o.contentSteering,u=o.levels,h=o.sessionData,d=o.sessionKeys,c=o.startTimeOffset,f=o.variableList;this.variableList=f;var g=ke.parseMasterPlaylistMedia(a,s,o),v=g.AUDIO,m=void 0===v?[]:v,p=g.SUBTITLES,y=g['CLOSED-CAPTIONS'];if(m.length)m.some(function(t){return!t.url})||!u[0].audioCodec||u[0].attrs.AUDIO||(M.log('[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one'),m.unshift({type:'main',name:'main',groupId:'main',default:!1,autoselect:!1,forced:!1,id:-1,attrs:new U({}),bitrate:0,url:''}));n.trigger(b.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:p,captions:y,contentSteering:l,url:s,stats:e,networkDetails:i,sessionData:h,sessionKeys:d,startTimeOffset:c,variableList:f})}},e.handleTrackOrLevelPlaylist=function(t,e,r,i,n){var a=this.hls,s=r.id,o=r.level,l=r.type,u=He(t,r),h=R(s)?s:0,d=R(o)?o:h,c=Ke(r),f=ke.parseLevelPlaylist(t.data,u,d,c,h,this.variableList);if(l===Fe){var g={attrs:new U({}),bitrate:0,details:f,name:'',url:u};a.trigger(b.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:u,stats:e,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),r.levelDetails=f,this.handlePlaylistLoaded(f,t,e,r,i,n)},e.handleManifestParsingError=function(t,e,r,i,n){this.hls.trigger(b.ERROR,{type:D.NETWORK_ERROR,details:I.MANIFEST_PARSING_ERROR,fatal:e.type===Fe,url:t.url,err:r,error:r,reason:r.message,response:t,context:e,networkDetails:i,stats:n})},e.handleNetworkError=function(t,e,r,n,a){void 0===r&&(r=!1);var s="A network "+(r?'timeout':'error'+(n?' (status '+n.code+')':''))+" occurred while loading "+t.type;t.type===Me?s+=": "+t.level+" id: "+t.id:t.type!==Oe&&t.type!==Ne||(s+=" id: "+t.id+" group-id: \""+t.groupId+"\"");var o=new Error(s);M.warn("[playlist-loader]: "+s);var l=I.UNKNOWN,u=!1,h=this.getInternalLoader(t);switch(t.type){case Fe:l=r?I.MANIFEST_LOAD_TIMEOUT:I.MANIFEST_LOAD_ERROR,u=!0;break;case Me:l=r?I.LEVEL_LOAD_TIMEOUT:I.LEVEL_LOAD_ERROR,u=!1;break;case Oe:l=r?I.AUDIO_TRACK_LOAD_TIMEOUT:I.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case Ne:l=r?I.SUBTITLE_TRACK_LOAD_TIMEOUT:I.SUBTITLE_LOAD_ERROR,u=!1}h&&this.resetInternalLoader(t.type);var d={type:D.NETWORK_ERROR,details:l,fatal:u,url:t.url,loader:h,context:t,error:o,networkDetails:e,stats:a};if(n){var c=(null==e?void 0:e.url)||t.url;d.response=i({url:c,data:void 0},n)}this.hls.trigger(b.ERROR,d)},e.handlePlaylistLoaded=function(t,e,r,i,n,a){var s=this.hls,o=i.type,l=i.level,u=i.id,h=i.groupId,d=i.deliveryDirectives,c=He(e,i),f=Ke(i),g='number'==typeof i.level&&f===Ue?l:void 0;if(t.fragments.length){t.targetduration||(t.playlistParsingError=new Error('Missing Target Duration'));var v=t.playlistParsingError;if(v)s.trigger(b.ERROR,{type:D.NETWORK_ERROR,details:I.LEVEL_PARSING_ERROR,fatal:!1,url:c,error:v,reason:v.message,response:e,context:i,level:g,parent:f,networkDetails:n,stats:r});else switch(t.live&&a&&(a.getCacheAge&&(t.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),o){case Fe:case Me:s.trigger(b.LEVEL_LOADED,{details:t,level:g||0,id:u||0,stats:r,networkDetails:n,deliveryDirectives:d});break;case Oe:s.trigger(b.AUDIO_TRACK_LOADED,{details:t,id:u||0,groupId:h||'',stats:r,networkDetails:n,deliveryDirectives:d});break;case Ne:s.trigger(b.SUBTITLE_TRACK_LOADED,{details:t,id:u||0,groupId:h||'',stats:r,networkDetails:n,deliveryDirectives:d})}}else{var m=new Error('No Segments found in Playlist');s.trigger(b.ERROR,{type:D.NETWORK_ERROR,details:I.LEVEL_EMPTY_ERROR,fatal:!1,url:c,error:m,reason:m.message,response:e,context:i,level:g,parent:f,networkDetails:n,stats:r})}},t})();function Ye(t,e){var r;try{r=new Event('addtrack')}catch(t){(r=document.createEvent('Event')).initEvent('addtrack',!1,!1)}r.track=t,e.dispatchEvent(r)}function We(t,e){var r=t.mode;if('disabled'===r&&(t.mode='hidden'),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(r){M.debug("[texttrack-utils]: "+r);try{var i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(t){M.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+t)}}'disabled'===r&&(t.mode=r)}function je(t){var e=t.mode;if('disabled'===e&&(t.mode='hidden'),t.cues)for(var r=t.cues.length;r--;)t.removeCue(t.cues[r]);'disabled'===e&&(t.mode=e)}function qe(t,e,r,i){var n=t.mode;if('disabled'===n&&(t.mode='hidden'),t.cues&&t.cues.length>0)for(var a=ze(t.cues,e,r),s=0;s<a.length;s++)i&&!i(a[s])||t.removeCue(a[s]);'disabled'===n&&(t.mode=n)}function Xe(t,e){if(e<t[0].startTime)return 0;var r=t.length-1;if(e>t[r].endTime)return-1;for(var i=0,n=r;i<=n;){var a=Math.floor((n+i)/2);if(e<t[a].startTime)n=a-1;else{if(!(e>t[a].startTime&&i<r))return a;i=a+1}}return t[i].startTime-e<e-t[n].startTime?i:n}function ze(t,e,r){var i=[],n=Xe(t,e);if(n>-1)for(var a=n,s=t.length;a<s;a++){var o=t[a];if(o.startTime>=e&&o.endTime<=r)i.push(o);else if(o.startTime>r)return i}return i}var Qe="org.id3",$e="com.apple.quicktime.HLS",Je="https://aomedia.org/emsg/ID3";function Ze(){if('undefined'!=typeof self)return self.VTTCue||self.TextTrackCue}function tr(t,e,r,n,a){var s=new t(e,r,'');try{s.value=n,a&&(s.type=a)}catch(o){s=new t(e,r,JSON.stringify(a?i({type:a},n):n))}return s}var er=(function(){var t=Ze();try{t&&new t(0,Number.POSITIVE_INFINITY,'')}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function rr(t,e){return t.getTime()/1e3-e}function ir(t){return Uint8Array.from(t.replace(/^0x/,'').replace(/([\da-fA-F]{2}) ?/g,'0x$1 ').replace(/ +$/,'').split(' ')).buffer}var nr=(function(){function t(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}var e=t.prototype;return e.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},e._registerListeners=function(){var t=this.hls;t.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(b.LEVEL_UPDATED,this.onLevelUpdated,this)},e._unregisterListeners=function(){var t=this.hls;t.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(b.LEVEL_UPDATED,this.onLevelUpdated,this)},e.onMediaAttached=function(t,e){this.media=e.media},e.onMediaDetaching=function(){this.id3Track&&(je(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},e.onManifestLoading=function(){this.dateRangeCuesAppended={}},e.createTrack=function(t){var e=this.getID3Track(t.textTracks);return e.mode='hidden',e},e.getID3Track=function(t){if(this.media){for(var e=0;e<t.length;e++){var r=t[e];if('metadata'===r.kind&&'id3'===r.label)return Ye(r,this.media),r}return this.media.addTextTrack('metadata','id3')}},e.onFragParsingMetadata=function(t,e){if(this.media){var r=this.hls.config,i=r.enableEmsgMetadataCues,n=r.enableID3MetadataCues;if(i||n){var a=e.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));var s=Ze();if(s)for(var o=0;o<a.length;o++){var l=a[o].type;if((l!==Je||i)&&n){var u=Rt(a[o].data);if(u){var h=a[o].pts,d=h+a[o].duration;d>er&&(d=er),d-h<=0&&(d=h+.25);for(var c=0;c<u.length;c++){var f=u[c];if(!St(f)){this.updateId3CueEnds(h,l);var g=tr(s,h,d,f,l);g&&this.id3Track.addCue(g)}}}}}}}},e.updateId3CueEnds=function(t,e){var r,i=null==(r=this.id3Track)?void 0:r.cues;if(i)for(var n=i.length;n--;){var a=i[n];a.type===e&&a.startTime<t&&a.endTime===er&&(a.endTime=t)}},e.onBufferFlushing=function(t,e){var r=e.startOffset,i=e.endOffset,n=e.type,a=this.id3Track,s=this.hls;if(s){var o=s.config,l=o.enableEmsgMetadataCues,u=o.enableID3MetadataCues;if(a&&(l||u))qe(a,r,i,'audio'===n?function(t){return t.type===Qe&&u}:'video'===n?function(t){return t.type===Je&&l}:function(t){return t.type===Qe&&u||t.type===Je&&l})}},e.onLevelUpdated=function(t,e){var r=this,i=e.details;if(this.media&&i.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var n=this.dateRangeCuesAppended,a=this.id3Track,s=i.dateRanges,o=Object.keys(s);if(a)for(var l=Object.keys(n).filter(function(t){return!o.includes(t)}),u=function(){var t=l[h];Object.keys(n[t].cues).forEach(function(e){a.removeCue(n[t].cues[e])}),delete n[t]},h=l.length;h--;)u();var d=i.fragments[i.fragments.length-1];if(0!==o.length&&R(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var c=d.programDateTime/1e3-d.start,f=Ze(),g=function(){var t=o[v],e=s[t],i=n[t],a=(null==i?void 0:i.cues)||{},l=(null==i?void 0:i.durationKnown)||!1,u=rr(e.startDate,c),h=er,d=e.endDate;if(d)h=rr(d,c),l=!0;else if(e.endOnNext&&!l){var g=o.reduce(function(t,r){var i=s[r];return i.class===e.class&&i.id!==r&&i.startDate>e.startDate&&t.push(i),t},[]).sort(function(t,e){return t.startDate.getTime()-e.startDate.getTime()})[0];g&&(h=rr(g.startDate,c),l=!0)}for(var m=Object.keys(e.attr),p=0;p<m.length;p++){var y=m[p];if(B(y)){var T=a[y];if(T)l&&!i.durationKnown&&(T.endTime=h);else if(f){var E=e.attr[y];G(y)&&(E=ir(E));var S=tr(f,u,h,{key:y,data:E},$e);S&&(S.id=t,r.id3Track.addCue(S),a[y]=S)}}}n[t]={cues:a,dateRange:e,durationKnown:l}},v=0;v<o.length;v++)g()}}},t})(),ar=(function(){function t(t){var e=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return e.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},e.registerListeners=function(){this.hls.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(b.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(b.ERROR,this.onError,this)},e.unregisterListeners=function(){this.hls.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(b.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(b.ERROR,this.onError,this)},e.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener('timeupdate',this.timeupdateHandler)},e.onMediaDetaching=function(){this.media&&(this.media.removeEventListener('timeupdate',this.timeupdateHandler),this.media=null)},e.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},e.onLevelUpdated=function(t,e){var r=e.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener('timeupdate',this.timeupdateHandler)},e.onError=function(t,e){var r;e.details===I.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(r=this.levelDetails)&&r.live&&M.warn('[playback-rate-controller]: Stall detected, adjusting target latency'))},e.timeupdate=function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var i=this.config,n=i.lowLatencyMode,a=i.maxLiveSyncPlaybackRate;if(n&&1!==a){var s=this.targetLatency;if(null!==s){var o=r-s,l=o<Math.min(this.maxLatency,s+e.targetduration);if(e.live&&l&&o>.05&&this.forwardBufferLength>1){var u=Math.min(2,Math.max(1,a)),h=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;t.playbackRate=Math.min(u,Math.max(1,h))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}},e.estimateLiveEdge=function(){var t=this.levelDetails;return null===t?null:t.edge+t.age},e.computeLatency=function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime},a(t,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,r=t.partHoldBack,i=t.targetduration,n=this.config,a=n.liveSyncDuration,s=n.liveSyncDurationCount,o=n.lowLatencyMode,l=this.hls.userConfig,u=o&&r||e;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:s*i);var h=i;return u+Math.min(1*this.stallCount,h)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,r=this.levelDetails;if(null===t||null===e||null===r)return null;var i=r.edge,n=t-e-this.edgeStalled,a=i-r.totalduration,s=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,n),s)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var r=t.buffered.length;return(r?t.buffered.end(r-1):e.edge)-this.currentTime}}]),t})(),sr=['NONE','TYPE-0','TYPE-1',null],or="",lr="YES",ur="v2";function hr(t,e){var r=t.canSkipUntil,i=t.canSkipDateRanges,n=t.endSN;return r&&(void 0!==e?e-n:0)<r?i?ur:lr:or}var dr=(function(){function t(t,e,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=r}return t.prototype.addDirectives=function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set('_HLS_msn',this.msn.toString()),void 0!==this.part&&e.searchParams.set('_HLS_part',this.part.toString()),this.skip&&e.searchParams.set('_HLS_skip',this.skip),e.href},t})(),cr=(function(){function t(t){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter(function(t){return t}).join(',').replace(/\.[^.,]+/g,'')}return t.prototype.addFallback=function(t){this.url.push(t.url),this._attrs.push(t.attrs)},a(t,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs['PATHWAY-ID']||'.'}},{key:"uri",get:function(){return this.url[this._urlId]||''}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}},{key:"audioGroupId",get:function(){var t;return null==(t=this.audioGroupIds)?void 0:t[this.urlId]}},{key:"textGroupId",get:function(){var t;return null==(t=this.textGroupIds)?void 0:t[this.urlId]}}]),t})();function fr(t,e){var r=e.startPTS;if(R(r)){var i,n=0;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&(i.duration=n)}else if(e.sn>t.sn){t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration}else e.start=Math.max(t.start-e.duration,0)}function gr(t,e,r,i,n,a){i-r<=0&&(M.warn('Fragment should have a positive duration',e),i=r+e.duration,a=n+e.duration);var s=r,o=i,l=e.startPTS,u=e.endPTS;if(R(l)){var h=Math.abs(l-r);R(e.deltaPTS)?e.deltaPTS=Math.max(h,e.deltaPTS):e.deltaPTS=h,s=Math.max(r,l),r=Math.min(r,l),n=Math.min(n,e.startDTS),o=Math.min(i,u),i=Math.max(i,u),a=Math.max(a,e.endDTS)}var d=r-e.start;0!==e.start&&(e.start=r),e.duration=i-e.start,e.startPTS=r,e.maxStartPTS=s,e.startDTS=n,e.endPTS=i,e.minEndPTS=o,e.endDTS=a;var c,f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;var g=f-t.startSN,v=t.fragments;for(v[g]=e,c=g;c>0;c--)fr(v[c],v[c-1]);for(c=g;c<v.length-1;c++)fr(v[c],v[c+1]);return t.fragmentHint&&fr(v[v.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function vr(t,e){for(var r=null,i=t.fragments,n=i.length-1;n>=0;n--){var a=i[n].initSegment;if(a){r=a;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var s,o=0;(yr(t,e,function(t,i){t.relurl&&(o=t.cc-i.cc),R(t.startPTS)&&R(t.endPTS)&&(i.start=i.startPTS=t.startPTS,i.startDTS=t.startDTS,i.maxStartPTS=t.maxStartPTS,i.endPTS=t.endPTS,i.endDTS=t.endDTS,i.minEndPTS=t.minEndPTS,i.duration=t.endPTS-t.startPTS,i.duration&&(s=i),e.PTSKnown=e.alignedSliding=!0),i.elementaryStreams=t.elementaryStreams,i.loader=t.loader,i.stats=t.stats,i.urlId=t.urlId,t.initSegment&&(i.initSegment=t.initSegment,r=t.initSegment)}),r)&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(function(t){var e;t.initSegment&&t.initSegment.relurl!==(null==(e=r)?void 0:e.relurl)||(t.initSegment=r)});if(e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(function(t){return!t}),e.deltaUpdateFailed){M.warn('[level-helper] Previous playlist missing segments skipped in delta playlist');for(var l=e.skippedSegments;l--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=mr(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));var u=e.fragments;if(o){M.warn('discontinuity sliding from playlist, take drift into account');for(var h=0;h<u.length;h++)u[h].cc+=o}e.skippedSegments&&(e.startCC=e.fragments[0].cc),pr(t.partList,e.partList,function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats}),s?gr(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):Tr(t,e),u.length&&(e.totalduration=e.edge-u[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var d=e.advancedDateTime;if(e.advanced&&d){var c=e.edge;e.driftStart||(e.driftStartTime=d,e.driftStart=c),e.driftEndTime=d,e.driftEnd=c}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function mr(t,e,r){var i=o({},t);return r&&r.forEach(function(t){delete i[t]}),Object.keys(e).forEach(function(t){var r=new K(e[t].attr,i[t]);r.isValid?i[t]=r:M.warn("Ignoring invalid Playlist Delta Update DATERANGE tag: \""+JSON.stringify(e[t].attr)+"\"")}),i}function pr(t,e,r){if(t&&e)for(var i=0,n=0,a=t.length;n<=a;n++){var s=t[n],o=e[n+i];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):i--}}function yr(t,e,r){for(var i=e.skippedSegments,n=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(i?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,u=n;u<=a;u++){var h=l[s+u],d=o[u];i&&!d&&u<i&&(d=e.fragments[u]=h),h&&d&&r(h,d)}}function Tr(t,e){var r=e.startSN+e.skippedSegments-t.startSN,i=t.fragments;r<0||r>=i.length||Er(e,i[r].start)}function Er(t,e){if(e){for(var r=t.fragments,i=t.skippedSegments;i<r.length;i++)r[i].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Sr(t,e){void 0===e&&(e=1/0);var r=1e3*t.targetduration;if(t.updated){var i=t.fragments;if(i.length&&4*r>e){var n=1e3*i[i.length-1].duration;n<r&&(r=n)}}else r/=2;return Math.round(r)}function Lr(t,e,r){if(null==t||!t.details)return null;var i=t.details,n=i.fragments[e-i.startSN];return n||((n=i.fragmentHint)&&n.sn===e?n:e<i.startSN&&r&&r.sn===e?r:null)}function Rr(t,e,r){var i;return null!=t&&t.details?Ar(null==(i=t.details)?void 0:i.partList,e,r):null}function Ar(t,e,r){if(t)for(var i=t.length;i--;){var n=t[i];if(n.index===r&&n.fragment.sn===e)return n}return null}function kr(t){switch(t.details){case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_TIMEOUT:case I.LEVEL_LOAD_TIMEOUT:case I.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function br(t,e){var r=kr(e);return t.default[(r?'timeout':'error')+"Retry"]}function Dr(t,e){var r='linear'===t.backoff?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function Ir(t){return i(i({},t),{errorRetry:null,timeoutRetry:null})}function wr(t,e,r,i){return!!t&&e<t.maxNumRetry&&(Cr(i)||!!r)}function Cr(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}var _r=function(t,e){for(var r=0,i=t.length-1,n=null,a=null;r<=i;){var s=e(a=t[n=(r+i)/2|0]);if(s>0)r=n+1;else{if(!(s<0))return a;i=n-1}}return null};function Pr(t,e,r){if(null===e||!Array.isArray(t)||!t.length||!R(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;r=r||0;for(var i=0;i<t.length;++i){var n=t[i];if(Mr(e,r,n))return n}return null}function xr(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=null;if(t?n=e[t.sn-e[0].sn+1]||null:0===r&&0===e[0].start&&(n=e[0]),n&&0===Fr(r,i,n))return n;var a=_r(e,Fr.bind(null,r,i));return!a||a===t&&n?n:a}function Fr(t,e,r){if(void 0===t&&(t=0),void 0===e&&(e=0),r.start<=t&&r.start+r.duration>t)return 0;var i=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=t?1:r.start-i>t&&r.start?-1:0}function Mr(t,e,r){var i=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-i>t}function Or(t,e){return _r(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}var Nr=0,Ur=2,Br=5,Gr=0,Kr=1,Hr=2,Vr=(function(){function t(t){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=M.log.bind(M,"[info]:"),this.warn=M.warn.bind(M,"[warning]:"),this.error=M.error.bind(M,"[error]:"),this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(b.ERROR,this.onError,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.LEVEL_UPDATED,this.onLevelUpdated,this)},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(b.ERROR,this.onError,this),t.off(b.ERROR,this.onErrorOut,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.LEVEL_UPDATED,this.onLevelUpdated,this))},e.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},e.startLoad=function(t){this.playlistError=0},e.stopLoad=function(){},e.getVariantLevelIndex=function(t){return(null==t?void 0:t.type)===Ue?t.level:this.hls.loadLevel},e.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},e.onLevelUpdated=function(){this.playlistError=0},e.onError=function(t,e){var r,i;if(!e.fatal){var n=this.hls,a=e.context;switch(e.details){case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case I.FRAG_PARSING_ERROR:if(null!=(r=e.frag)&&r.gap)return void(e.errorAction={action:Nr,flags:Gr});case I.FRAG_GAP:case I.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=Ur);case I.LEVEL_EMPTY_ERROR:case I.LEVEL_PARSING_ERROR:var s,o,l=e.parent===Ue?e.level:n.loadLevel;return void(e.details===I.LEVEL_EMPTY_ERROR&&null!=(s=e.context)&&null!=(o=s.levelDetails)&&o.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,l):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,l)));case I.LEVEL_LOAD_ERROR:case I.LEVEL_LOAD_TIMEOUT:return void('number'==typeof(null==a?void 0:a.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,a.level)));case I.AUDIO_TRACK_LOAD_ERROR:case I.AUDIO_TRACK_LOAD_TIMEOUT:case I.SUBTITLE_LOAD_ERROR:case I.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){var u=n.levels[n.loadLevel];if(u&&(a.type===Oe&&a.groupId===u.audioGroupId||a.type===Ne&&a.groupId===u.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,n.loadLevel),e.errorAction.action=Ur,void(e.errorAction.flags=Kr)}return;case I.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var h=n.levels[n.loadLevel],d=null==h?void 0:h.attrs['HDCP-LEVEL'];return void(d&&(e.errorAction={action:Ur,flags:Hr,hdcpLevel:d}));case I.BUFFER_ADD_CODEC_ERROR:case I.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(i=e.level)?i:n.loadLevel));case I.INTERNAL_EXCEPTION:case I.BUFFER_APPENDING_ERROR:case I.BUFFER_APPEND_ERROR:case I.BUFFER_FULL_ERROR:case I.LEVEL_SWITCH_ERROR:case I.BUFFER_STALLED_ERROR:case I.BUFFER_SEEK_OVER_HOLE:case I.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:Nr,flags:Gr})}if(e.type===D.KEY_SYSTEM_ERROR){var c=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,c))}}},e.getPlaylistRetryOrSwitchAction=function(t,e){var r,i=br(this.hls.config.playlistLoadPolicy,t),n=this.playlistError++,a=null==(r=t.response)?void 0:r.code;if(wr(i,n,kr(t),a))return{action:Br,flags:Gr,retryConfig:i,retryCount:n};var s=this.getLevelSwitchAction(t,e);return i&&(s.retryConfig=i,s.retryCount=n),s},e.getFragRetryOrSwitchAction=function(t){var e=this.hls,r=this.getVariantLevelIndex(t.frag),i=e.levels[r],n=e.config,a=n.fragLoadPolicy,s=n.keyLoadPolicy,o=br(t.details.startsWith('key')?s:a,t),l=e.levels.reduce(function(t,e){return t+e.fragmentError},0);if(i){var u;t.details!==I.FRAG_GAP&&i.fragmentError++;var h=null==(u=t.response)?void 0:u.code;if(wr(o,l,kr(t),h))return{action:Br,flags:Gr,retryConfig:o,retryCount:l}}var d=this.getLevelSwitchAction(t,r);return o&&(d.retryConfig=o,d.retryCount=l),d},e.getLevelSwitchAction=function(t,e){var r=this.hls;null==e&&(e=r.loadLevel);var i=this.hls.levels[e];if(i&&(i.loadError++,r.autoLevelEnabled)){for(var n,a,s=-1,o=r.levels,l=r.loadLevel,u=r.minAutoLevel,h=r.maxAutoLevel,d=null==(n=t.frag)?void 0:n.type,c=null!=(a=t.context)?a:{},f=c.type,g=c.groupId,v=o.length;v--;){var m=(v+l)%o.length;if(m!==l&&m>=u&&m<=h&&0===o[m].loadError){var p=o[m];if(t.details===I.FRAG_GAP&&t.frag){var y=o[m].details;if(y){var T=xr(t.frag,y.fragments,t.frag.start);if(null!=T&&T.gap)continue}}else{if(f===Oe&&g===p.audioGroupId||f===Ne&&g===p.textGroupId)continue;if(d===Be&&i.audioGroupId===p.audioGroupId||d===Ge&&i.textGroupId===p.textGroupId)continue}s=m;break}}if(s>-1&&r.loadLevel!==s)return t.levelRetry=!0,this.playlistError=0,{action:Ur,flags:Gr,nextAutoLevel:s}}return{action:Ur,flags:Kr}},e.onErrorOut=function(t,e){var r;switch(null==(r=e.errorAction)?void 0:r.action){case Nr:break;case Ur:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===I.FRAG_GAP||(e.fatal=!0)}e.fatal&&this.hls.stopLoad()},e.sendAlternateToPenaltyBox=function(t){var e=this.hls,r=t.errorAction;if(r){var i=r.flags,n=r.hdcpLevel,a=r.nextAutoLevel;switch(i){case Gr:this.switchLevel(t,a);break;case Kr:r.resolved||(r.resolved=this.redundantFailover(t));break;case Hr:n&&(e.maxHdcpLevel=sr[sr.indexOf(n)-1],r.resolved=!0),this.warn("Restricting playback to HDCP-LEVEL of \""+e.maxHdcpLevel+"\" or lower")}r.resolved||this.switchLevel(t,a)}},e.switchLevel=function(t,e){void 0!==e&&t.errorAction&&(this.warn("switching to level "+e+" after "+t.details),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},e.redundantFailover=function(t){var e=this,r=this.hls,i=this.penalizedRenditions,n=t.parent===Ue?t.level:r.loadLevel,a=r.levels[n],s=a.url.length,o=t.frag?t.frag.urlId:a.urlId;a.urlId!==o||t.frag&&!a.details||this.penalizeRendition(a,t);for(var l=function(){var l=(o+u)%s,h=i[l];if(!h||Yr(h,t,i[o]))return e.warn("Switching to Redundant Stream "+(l+1)+"/"+s+": \""+a.url[l]+"\" after "+t.details),e.playlistError=0,r.levels.forEach(function(t){t.urlId=l}),r.nextLoadLevel=n,{v:!0}},u=1;u<s;u++){var h=l();if("object"==typeof h)return h.v}return!1},e.penalizeRendition=function(t,e){var r=this.penalizedRenditions,i=r[t.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};i.lastErrorPerfMs=performance.now(),i.errors.push(e),i.details=t.details,r[t.urlId]=i},t})();function Yr(t,e,r){if(performance.now()-t.lastErrorPerfMs>3e5)return!0;var i=t.details;if(e.details===I.FRAG_GAP&&i&&e.frag){var n=e.frag.start,a=xr(null,i.fragments,n);if(a&&!a.gap)return!0}if(r&&t.errors.length<r.errors.length){var s=t.errors[t.errors.length-1];if(i&&s.frag&&e.frag&&Math.abs(s.frag.start-e.frag.start)>3*i.targetduration)return!0}return!1}var Wr,jr=(function(){function t(t,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=M.log.bind(M,e+":"),this.warn=M.warn.bind(M,e+":"),this.hls=t}var e=t.prototype;return e.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},e.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},e.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=function(t,e){var r=null==e?void 0:e.renditionReports;if(r){for(var i=-1,n=0;n<r.length;n++){var a=r[n],s=void 0;try{s=new self.URL(a.URI,e.url).href}catch(t){M.warn("Could not construct new URL for Rendition Report: "+t),s=a.URI||''}if(s===t){i=n;break}s===t.substring(0,s.length)&&(i=n)}if(-1!==i){var o=r[i],l=parseInt(o['LAST-MSN'])||(null==e?void 0:e.lastPartSn),u=parseInt(o['LAST-PART'])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){var h=Math.min(e.age-e.partTarget,e.targetduration);u>=0&&h>e.partTarget&&(u+=1)}return new dr(l,u>=0?u:void 0,or)}}},e.loadPlaylist=function(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())},e.shouldLoadPlaylist=function(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)},e.shouldReloadPlaylist=function(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)},e.playlistLoaded=function(t,e,r){var i=this,n=e.details,a=e.stats,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;if(n.advancedDateTime=Date.now()-o,n.live||null!=r&&r.live){if(n.reloaded(r),r&&this.log("live playlist "+t+" "+(n.advanced?'REFRESHED '+n.lastPartSn+'-'+n.lastPartIndex:n.updated?'UPDATED':'MISSED')),r&&n.fragments.length>0&&vr(r,n),!this.canLoad||!n.live)return;var l,u=void 0,h=void 0;if(n.canBlockReload&&n.endSN&&n.advanced){var d=this.hls.config.lowLatencyMode,c=n.lastPartSn,f=n.endSN,g=n.lastPartIndex,v=c===f;-1!==g?(u=v?f+1:c,h=v?d?0:g:g+1):u=f+1;var m=n.age,p=m+n.ageHeader,y=Math.min(p-n.partTarget,1.5*n.targetduration);if(y>0){if(r&&y>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+y+" with playlist age: "+n.age),y=0;else{var T=Math.floor(y/n.targetduration);if(u+=T,void 0!==h)h+=Math.round(y%n.targetduration/n.partTarget);this.log("CDN Tune-in age: "+n.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+T+" to part "+h)}n.tuneInGoal=y}if(l=this.getDeliveryDirectives(n,e.deliveryDirectives,u,h),d||!v)return void this.loadPlaylist(l)}else(n.canBlockReload||n.canSkipUntil)&&(l=this.getDeliveryDirectives(n,e.deliveryDirectives,u,h));var E=this.hls.mainForwardBufferInfo,S=E?E.end-E.len:0,L=Sr(n,1e3*(n.edge-S));n.updated&&s>this.requestScheduled+L&&(this.requestScheduled=a.loading.start),void 0!==u&&n.canBlockReload?this.requestScheduled=a.loading.first+L-(1e3*n.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+L<s?this.requestScheduled=s:this.requestScheduled-s<=0&&(this.requestScheduled+=L);var R=this.requestScheduled-s;R=Math.max(0,R),this.log("reload live playlist "+t+" in "+Math.round(R)+" ms"),this.timer=self.setTimeout(function(){return i.loadPlaylist(l)},R)}else this.clearTimer()},e.getDeliveryDirectives=function(t,e,r,i){var n=hr(t,r);return null!=e&&e.skip&&t.deltaUpdateFailed&&(r=e.msn,i=e.part,n=or),new dr(r,i,n)},e.checkRetry=function(t){var e=this,r=t.details,i=kr(t),n=t.errorAction,a=n||{},s=a.action,o=a.retryCount,l=void 0===o?0:o,u=a.retryConfig,h=!!n&&!!u&&(s===Br||!n.resolved&&s===Ur);if(h){var d;if(this.requestScheduled=-1,l>=u.maxNumRetry)return!1;if(i&&null!=(d=t.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading "+(l+1)+"/"+u.maxNumRetry+" after \""+r+"\" without delivery-directives"),this.loadPlaylist();else{var c=Dr(u,l);this.timer=self.setTimeout(function(){return e.loadPlaylist()},c),this.warn("Retrying playlist loading "+(l+1)+"/"+u.maxNumRetry+" after \""+r+"\" in "+c+"ms")}t.levelRetry=!0,n.resolved=!0}return h},t})(),qr=(function(t){function e(e,r){var i;return(i=t.call(this,e,'[level-controller]')||this)._levels=[],i._firstLevel=-1,i._startLevel=void 0,i.currentLevel=null,i.currentLevelIndex=-1,i.manualLevelIndex=-1,i.steering=void 0,i.onParsedComplete=void 0,i.steering=r,i._registerListeners(),i}l(e,t);var r=e.prototype;return r._registerListeners=function(){var t=this.hls;t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(b.LEVEL_LOADED,this.onLevelLoaded,this),t.on(b.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(b.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(b.FRAG_LOADED,this.onFragLoaded,this),t.on(b.ERROR,this.onError,this)},r._unregisterListeners=function(){var t=this.hls;t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(b.LEVEL_LOADED,this.onLevelLoaded,this),t.off(b.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(b.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(b.FRAG_LOADED,this.onFragLoaded,this),t.off(b.ERROR,this.onError,this)},r.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),t.prototype.destroy.call(this)},r.startLoad=function(){this._levels.forEach(function(t){t.loadError=0,t.fragmentError=0}),t.prototype.startLoad.call(this)},r.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]},r.onManifestLoading=function(t,e){this.resetLevels()},r.onManifestLoaded=function(t,e){var r,i=[],n={};e.levels.forEach(function(t){var e,a=t.attrs;-1!==(null==(e=t.audioCodec)?void 0:e.indexOf('mp4a.40.34'))&&(Wr||(Wr=/chrome|firefox/i.test(navigator.userAgent)),Wr&&(t.audioCodec=void 0));var s=a.AUDIO,o=a.CODECS,l=a['FRAME-RATE'],u=a['PATHWAY-ID'],h=a.RESOLUTION,d=a.SUBTITLES,c=""+((u||'.')+"-")+t.bitrate+"-"+h+"-"+l+"-"+o;(r=n[c])?r.addFallback(t):(r=new cr(t),n[c]=r,i.push(r)),Xr(r,'audio',s),Xr(r,'text',d)}),this.filterAndSortMediaOptions(i,e)},r.filterAndSortMediaOptions=function(t,e){var r=this,i=[],n=[],a=!1,s=!1,o=!1,l=t.filter(function(t){var e=t.audioCodec,r=t.videoCodec,i=t.width,n=t.height,l=t.unknownCodecs;return a||(a=!(!i||!n)),s||(s=!!r),o||(o=!!e),!(null!=l&&l.length)&&(!e||Te(e,'audio'))&&(!r||Te(r,'video'))});if((a||s)&&o&&(l=l.filter(function(t){var e=t.videoCodec,r=t.width,i=t.height;return!!e||!(!r||!i)})),0!==l.length){e.audioTracks&&zr(i=e.audioTracks.filter(function(t){return!t.audioCodec||Te(t.audioCodec,'audio')})),e.subtitles&&zr(n=e.subtitles);var u=l.slice(0);l.sort(function(t,e){return t.attrs['HDCP-LEVEL']!==e.attrs['HDCP-LEVEL']?(t.attrs['HDCP-LEVEL']||'')>(e.attrs['HDCP-LEVEL']||'')?1:-1:t.bitrate!==e.bitrate?t.bitrate-e.bitrate:t.attrs['FRAME-RATE']!==e.attrs['FRAME-RATE']?t.attrs.decimalFloatingPoint('FRAME-RATE')-e.attrs.decimalFloatingPoint('FRAME-RATE'):t.attrs.SCORE!==e.attrs.SCORE?t.attrs.decimalFloatingPoint('SCORE')-e.attrs.decimalFloatingPoint('SCORE'):a&&t.height!==e.height?t.height-e.height:0});var h=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l)).length!==u.length)for(var d=0;d<u.length;d++)if(u[d].pathwayId===l[0].pathwayId){h=u[d];break}this._levels=l;for(var c=0;c<l.length;c++)if(l[c]===h){this._firstLevel=c,this.log("manifest loaded, "+l.length+" level(s) found, first bitrate: "+h.bitrate);break}var f=o&&!s,g={levels:l,audioTracks:i,subtitleTracks:n,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:s,altAudio:!f&&i.some(function(t){return!!t.url})};this.hls.trigger(b.MANIFEST_PARSED,g),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then(function(){if(r.hls){var t=new Error('no level with compatible codecs found in manifest');r.hls.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}})},r.onError=function(t,e){!e.fatal&&e.context&&e.context.type===Me&&e.context.level===this.level&&this.checkRetry(e)},r.onFragLoaded=function(t,e){var r=e.frag;if(void 0!==r&&r.type===Ue){var i=this._levels[r.level];void 0!==i&&(i.loadError=0)}},r.onLevelLoaded=function(t,e){var r,i,n=e.level,a=e.details,s=this._levels[n];if(!s)return this.warn("Invalid level index "+n),void(null!=(i=e.deliveryDirectives)&&i.skip&&(a.deltaUpdateFailed=!0));n===this.currentLevelIndex?(0===s.fragmentError&&(s.loadError=0),this.playlistLoaded(n,e,s.details)):null!=(r=e.deliveryDirectives)&&r.skip&&(a.deltaUpdateFailed=!0)},r.onAudioTrackSwitched=function(t,e){var r=this.currentLevel;if(r){var i=this.hls.audioTracks[e.id].groupId;if(r.audioGroupIds&&r.audioGroupId!==i){for(var n=-1,a=0;a<r.audioGroupIds.length;a++)if(r.audioGroupIds[a]===i){n=a;break}-1!==n&&n!==r.urlId&&(r.urlId=n,this.canLoad&&this.startLoad())}}},r.loadPlaylist=function(e){t.prototype.loadPlaylist.call(this);var r=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){var n=i.urlId,a=i.uri;if(e)try{a=e.addDirectives(a)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}var s=i.attrs['PATHWAY-ID'];this.log("Loading level index "+r+(void 0!==(null==e?void 0:e.msn)?' at sn '+e.msn+' part '+e.part:'')+" with"+(s?' Pathway '+s:'')+" URI "+(n+1)+"/"+i.url.length+" "+a),this.clearTimer(),this.hls.trigger(b.LEVEL_LOADING,{url:a,level:r,id:n,deliveryDirectives:e||null})}},r.removeLevel=function(t,e){var r=this,i=function(t,r){return r!==e},n=this._levels.filter(function(n,a){return a!==t||(n.url.length>1&&void 0!==e?(n.url=n.url.filter(i),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(i)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(i)),n.urlId=0,!0):(r.steering&&r.steering.removeLevel(n),!1))});this.hls.trigger(b.LEVELS_UPDATED,{levels:n})},r.onLevelsUpdated=function(t,e){var r=e.levels;r.forEach(function(t,e){var r=t.details;null!=r&&r.fragments&&r.fragments.forEach(function(t){t.level=e})}),this._levels=r},a(e,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;if(0!==e.length){if(t<0||t>=e.length){var r=new Error('invalid level idx'),i=t<0;if(this.hls.trigger(b.ERROR,{type:D.OTHER_ERROR,details:I.LEVEL_SWITCH_ERROR,level:t,fatal:i,error:r,reason:r.message}),i)return;t=Math.min(t,e.length-1)}var n=this.currentLevelIndex,a=this.currentLevel,s=a?a.attrs['PATHWAY-ID']:void 0,l=e[t],u=l.attrs['PATHWAY-ID'];if(this.currentLevelIndex=t,this.currentLevel=l,n!==t||!l.details||!a||s!==u){this.log("Switching to level "+t+(u?' with Pathway '+u:'')+" from level "+n+(s?' with Pathway '+s:''));var h=o({},l,{level:t,maxBitrate:l.maxBitrate,attrs:l.attrs,uri:l.uri,urlId:l.urlId});delete h._attrs,delete h._urlId,this.hls.trigger(b.LEVEL_SWITCHING,h);var d=l.details;if(!d||d.live){var c=this.switchParams(l.uri,null==a?void 0:a.details);this.loadPlaylist(c)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e})(jr);function Xr(t,e,r){r&&('audio'===e?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=r):'text'===e&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=r))}function zr(t){var e={};t.forEach(function(t){var r=t.groupId||'';t.id=e[r]=e[r]||0,e[r]++})}var Qr="NOT_LOADED",$r="APPENDING",Jr="PARTIAL",Zr="OK",ti=(function(){function t(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){var t=this.hls;t.on(b.BUFFER_APPENDED,this.onBufferAppended,this),t.on(b.FRAG_BUFFERED,this.onFragBuffered,this),t.on(b.FRAG_LOADED,this.onFragLoaded,this)},e._unregisterListeners=function(){var t=this.hls;t.off(b.BUFFER_APPENDED,this.onBufferAppended,this),t.off(b.FRAG_BUFFERED,this.onFragBuffered,this),t.off(b.FRAG_LOADED,this.onFragLoaded,this)},e.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},e.getAppendedFrag=function(t,e){var r=this.activePartLists[e];if(r)for(var i=r.length;i--;){var n=r[i];if(!n)break;var a=n.end;if(n.start<=t&&null!==a&&t<=a)return n}return this.getBufferedFrag(t,e)},e.getBufferedFrag=function(t,e){for(var r=this.fragments,i=Object.keys(r),n=i.length;n--;){var a=r[i[n]];if((null==a?void 0:a.body.type)===e&&a.buffered){var s=a.body;if(s.start<=t&&t<=s.end)return s}}return null},e.detectEvictedFragments=function(t,e,r,i){var n=this;this.timeRanges&&(this.timeRanges[t]=e);var a=(null==i?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(function(i){var s=n.fragments[i];if(s&&!(a>=s.body.sn))if(s.buffered||s.loaded){var o=s.range[t];o&&o.time.some(function(t){var r=!n.isTimeBuffered(t.startPTS,t.endPTS,e);return r&&n.removeFragment(s.body),r})}else s.body.type===r&&n.removeFragment(s.body)})},e.detectPartialFragments=function(t){var e=this,r=this.timeRanges,i=t.frag,n=t.part;if(r&&'initSegment'!==i.sn){var a=ri(i),s=this.fragments[a];if(!(!s||s.buffered&&i.gap)){var o=!i.relurl;if(Object.keys(r).forEach(function(t){var a=i.elementaryStreams[t];if(a){var l=r[t],u=o||!0===a.partial;s.range[t]=e.getBufferedTimes(i,n,u,l)}}),s.loaded=null,Object.keys(s.range).length)s.buffered=!0,(s.body.endList=i.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),ei(s)||this.removeParts(i.sn-1,i.type);else this.removeFragment(s.body)}}},e.removeParts=function(t,e){var r=this.activePartLists[e];r&&(this.activePartLists[e]=r.filter(function(e){return e.fragment.sn>=t}))},e.fragBuffered=function(t,e){var r=ri(t),i=this.fragments[r];!i&&e&&(i=this.fragments[r]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)},e.getBufferedTimes=function(t,e,r,i){for(var n={time:[],partial:r},a=t.start,s=t.end,o=t.minEndPTS||s,l=t.maxStartPTS||a,u=0;u<i.length;u++){var h=i.start(u)-this.bufferPadding,d=i.end(u)+this.bufferPadding;if(l>=h&&o<=d){n.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(s,i.end(u))});break}if(a<d&&s>h)n.partial=!0,n.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(s,i.end(u))});else if(s<=h)break}return n},e.getPartialFragment=function(t){var e,r,i,n=null,a=0,s=this.bufferPadding,o=this.fragments;return Object.keys(o).forEach(function(l){var u=o[l];u&&ei(u)&&(r=u.body.start-s,i=u.body.end+s,t>=r&&t<=i&&(e=Math.min(t-r,i-t),a<=e&&(n=u.body,a=e)))}),n},e.isEndListAppended=function(t){var e=this.endListFragments[t];return void 0!==e&&(e.buffered||ei(e))},e.getState=function(t){var e=ri(t),r=this.fragments[e];return r?r.buffered?ei(r)?Jr:Zr:$r:Qr},e.isTimeBuffered=function(t,e,r){for(var i,n,a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,n=r.end(a)+this.bufferPadding,t>=i&&e<=n)return!0;if(e<=i)return!1}return!1},e.onFragLoaded=function(t,e){var r=e.frag,i=e.part;if('initSegment'!==r.sn&&!r.bitrateTest){var n=i?null:e,a=ri(r);this.fragments[a]={body:r,appendedPTS:null,loaded:n,buffered:!1,range:Object.create(null)}}},e.onBufferAppended=function(t,e){var r=this,i=e.frag,n=e.part,a=e.timeRanges;if('initSegment'!==i.sn){var s=i.type;if(n){var o=this.activePartLists[s];o||(this.activePartLists[s]=o=[]),o.push(n)}this.timeRanges=a,Object.keys(a).forEach(function(t){var e=a[t];r.detectEvictedFragments(t,e,s,n)})}},e.onFragBuffered=function(t,e){this.detectPartialFragments(e)},e.hasFragment=function(t){var e=ri(t);return!!this.fragments[e]},e.hasParts=function(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)},e.removeFragmentsInRange=function(t,e,r,i,n){var a=this;i&&!this.hasGaps||Object.keys(this.fragments).forEach(function(s){var o=a.fragments[s];if(o){var l=o.body;l.type!==r||i&&!l.gap||l.start<e&&l.end>t&&(o.buffered||n)&&a.removeFragment(l)}})},e.removeFragment=function(t){var e=ri(t);t.stats.loaded=0,t.clearElementaryStreamInfo();var r=this.activePartLists[t.type];if(r){var i=t.sn;this.activePartLists[t.type]=r.filter(function(t){return t.fragment.sn!==i})}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]},e.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},t})();function ei(t){var e,r,i;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(r=t.range.audio)?void 0:r.partial)||(null==(i=t.range.audiovideo)?void 0:i.partial))}function ri(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn}var ii=Math.pow(2,17),ni=(function(){function t(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var e=t.prototype;return e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.abort=function(){this.loader&&this.loader.abort()},e.load=function(t,e){var r=this,n=t.url;if(!n)return Promise.reject(new oi({type:D.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(n?'part list':'url')),networkDetails:null}));this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise(function(l,u){if(r.loader&&r.loader.destroy(),t.gap){if(t.tagList.some(function(t){return'GAP'===t[0]}))return void u(si(t));t.gap=!1}var h=r.loader=t.loader=s?new s(a):new o(a),d=ai(t),c=Ir(a.fragLoadPolicy.default),f={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:'initSegment'===t.sn?1/0:ii};t.stats=h.stats,h.load(d,f,{onSuccess:function(e,i,n,a){r.resetLoader(t,h);var s=e.data;n.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(s.slice(0,16)),s=s.slice(16)),l({frag:t,part:null,payload:s,networkDetails:a})},onError:function(e,a,s,o){r.resetLoader(t,h),u(new oi({type:D.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:i({url:n,data:void 0},e),error:new Error("HTTP Error "+e.code+" "+e.text),networkDetails:s,stats:o}))},onAbort:function(e,i,n){r.resetLoader(t,h),u(new oi({type:D.NETWORK_ERROR,details:I.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error('Aborted'),networkDetails:n,stats:e}))},onTimeout:function(e,i,n){r.resetLoader(t,h),u(new oi({type:D.NETWORK_ERROR,details:I.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:n,stats:e}))},onProgress:function(r,i,n,a){e&&e({frag:t,part:null,payload:n,networkDetails:a})}})})},e.loadPart=function(t,e,r){var n=this;this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise(function(l,u){if(n.loader&&n.loader.destroy(),t.gap||e.gap)u(si(t,e));else{var h=n.loader=t.loader=s?new s(a):new o(a),d=ai(t,e),c=Ir(a.fragLoadPolicy.default),f={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ii};e.stats=h.stats,h.load(d,f,{onSuccess:function(i,a,s,o){n.resetLoader(t,h),n.updateStatsFromPart(t,e);var u={frag:t,part:e,payload:i.data,networkDetails:o};r(u),l(u)},onError:function(r,a,s,o){n.resetLoader(t,h),u(new oi({type:D.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:i({url:d.url,data:void 0},r),error:new Error("HTTP Error "+r.code+" "+r.text),networkDetails:s,stats:o}))},onAbort:function(r,i,a){t.stats.aborted=e.stats.aborted,n.resetLoader(t,h),u(new oi({type:D.NETWORK_ERROR,details:I.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error('Aborted'),networkDetails:a,stats:r}))},onTimeout:function(r,i,a){n.resetLoader(t,h),u(new oi({type:D.NETWORK_ERROR,details:I.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:a,stats:r}))}})}})},e.updateStatsFromPart=function(t,e){var r=t.stats,i=e.stats,n=i.total;if(r.loaded+=i.loaded,n){var a=Math.round(t.duration/e.duration),s=Math.min(Math.round(r.loaded/n),a),o=(a-s)*Math.round(r.loaded/s);r.total=r.loaded+o}else r.total=Math.max(r.loaded,r.total);var l=r.loading,u=i.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end},e.resetLoader=function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()},t})();function ai(t,e){void 0===e&&(e=null);var r=e||t,i={frag:t,part:e,responseType:'arraybuffer',url:r.url,headers:{},rangeStart:0,rangeEnd:0},n=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(R(n)&&R(a)){var s,o=n,l=a;if('initSegment'===t.sn&&'AES-128'===(null==(s=t.decryptdata)?void 0:s.method)){var u=a-n;u%16&&(l=a+(16-u%16)),0!==n&&(i.resetIV=!0,o=n-16)}i.rangeStart=o,i.rangeEnd=l}return i}function si(t,e){var r=new Error("GAP "+(t.gap?'tag':'attribute')+" found"),i={type:D.MEDIA_ERROR,details:I.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(i.part=e),(e||t).stats.aborted=!0,new oi(i)}var oi=(function(t){function e(e){var r;return(r=t.call(this,e.error.message)||this).data=void 0,r.data=e,r}return l(e,t),e})(f(Error)),li=(function(){function t(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}var e=t.prototype;return e.abort=function(t){for(var e in this.keyUriToKeyInfo){var r=this.keyUriToKeyInfo[e].loader;if(r){if(t&&t!==r.context.frag.type)return;r.abort()}}},e.detach=function(){for(var t in this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}},e.destroy=function(){for(var t in this.detach(),this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}},e.createKeyLoadError=function(t,e,r,i,n){return void 0===e&&(e=I.KEY_LOAD_ERROR),new oi({type:D.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:n,error:r,networkDetails:i})},e.loadClear=function(t,e){var r=this;if(this.emeController&&this.config.emeEnabled)for(var i=t.sn,n=t.cc,a=function(){var t=e[s];if(n<=t.cc&&('initSegment'===i||'initSegment'===t.sn||i<t.sn))return r.emeController.selectKeySystemFormat(t).then(function(e){t.setKeyFormat(e)}),"break"},s=0;s<e.length;s++){if("break"===a())break}},e.load=function(t){var e=this;return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then(function(r){return e.loadInternal(t,r)}):this.loadInternal(t)},e.loadInternal=function(t,e){var r,i;e&&t.setKeyFormat(e);var n=t.decryptdata;if(!n){var a=new Error(e?"Expected frag.decryptdata to be defined after setting format "+e:'Missing decryption data on fragment in onKeyLoading');return Promise.reject(this.createKeyLoadError(t,I.KEY_LOAD_ERROR,a))}var s=n.uri;if(!s)return Promise.reject(this.createKeyLoadError(t,I.KEY_LOAD_ERROR,new Error("Invalid key URI: \""+s+"\"")));var o,l=this.keyUriToKeyInfo[s];if(null!=(r=l)&&r.decryptdata.key)return n.key=l.decryptdata.key,Promise.resolve({frag:t,keyInfo:l});if(null!=(i=l)&&i.keyLoadPromise)switch(null==(o=l.mediaKeySessionContext)?void 0:o.keyStatus){case void 0:case'status-pending':case'usable':case'usable-in-future':return l.keyLoadPromise.then(function(e){return n.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:l}})}switch(l=this.keyUriToKeyInfo[s]={decryptdata:n,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},n.method){case'ISO-23001-7':case'SAMPLE-AES':case'SAMPLE-AES-CENC':case'SAMPLE-AES-CTR':return'identity'===n.keyFormat?this.loadKeyHTTP(l,t):this.loadKeyEME(l,t);case'AES-128':return this.loadKeyHTTP(l,t);default:return Promise.reject(this.createKeyLoadError(t,I.KEY_LOAD_ERROR,new Error("Key supplied with unsupported METHOD: \""+n.method+"\"")))}},e.loadKeyEME=function(t,e){var r={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){var i=this.emeController.loadKey(r);if(i)return(t.keyLoadPromise=i.then(function(e){return t.mediaKeySessionContext=e,r})).catch(function(e){throw t.keyLoadPromise=null,e})}return Promise.resolve(r)},e.loadKeyHTTP=function(t,e){var r=this,n=this.config,a=new(0,n.loader)(n);return e.keyLoader=t.loader=a,t.keyLoadPromise=new Promise(function(s,o){var l={keyInfo:t,frag:e,responseType:'arraybuffer',url:t.decryptdata.uri},u=n.keyLoadPolicy.default,h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:function(t,e,i,n){var a=i.frag,l=i.keyInfo,u=i.url;if(!a.decryptdata||l!==r.keyUriToKeyInfo[u])return o(r.createKeyLoadError(a,I.KEY_LOAD_ERROR,new Error('after key load, decryptdata unset or changed'),n));l.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,l.loader=null,s({frag:a,keyInfo:l})},onError:function(t,n,a,s){r.resetLoader(n),o(r.createKeyLoadError(e,I.KEY_LOAD_ERROR,new Error("HTTP Error "+t.code+" loading key "+t.text),a,i({url:l.url,data:void 0},t)))},onTimeout:function(t,i,n){r.resetLoader(i),o(r.createKeyLoadError(e,I.KEY_LOAD_TIMEOUT,new Error('key loading timed out'),n))},onAbort:function(t,i,n){r.resetLoader(i),o(r.createKeyLoadError(e,I.INTERNAL_ABORTED,new Error('key loading aborted'),n))}};a.load(l,h,d)})},e.resetLoader=function(t){var e=t.frag,r=t.keyInfo,i=t.url,n=r.loader;e.keyLoader===n&&(e.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],n&&n.destroy()},t})(),ui=(function(){function t(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.onHandlerDestroyed=function(){},e.hasInterval=function(){return!!this._tickInterval},e.hasNextTick=function(){return!!this._tickTimer},e.setInterval=function(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)},e.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},e.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},e.doTick=function(){},t})(),hi={length:0,start:function(){return 0},end:function(){return 0}},di=(function(){function t(){}return t.isBuffered=function(e,r){try{if(e)for(var i=t.getBuffered(e),n=0;n<i.length;n++)if(r>=i.start(n)&&r<=i.end(n))return!0}catch(t){}return!1},t.bufferInfo=function(e,r,i){try{if(e){var n,a=t.getBuffered(e),s=[];for(n=0;n<a.length;n++)s.push({start:a.start(n),end:a.end(n)});return this.bufferedInfo(s,r,i)}}catch(t){}return{len:0,start:r,end:r,nextStart:void 0}},t.bufferedInfo=function(t,e,r){e=Math.max(0,e),t.sort(function(t,e){var r=t.start-e.start;return r||e.end-t.end});var i=[];if(r)for(var n=0;n<t.length;n++){var a=i.length;if(a){var s=i[a-1].end;t[n].start-s<r?t[n].end>s&&(i[a-1].end=t[n].end):i.push(t[n])}else i.push(t[n])}else i=t;for(var o,l=0,u=e,h=e,d=0;d<i.length;d++){var c=i[d].start,f=i[d].end;if(e+r>=c&&e<f)u=c,l=(h=f)-e;else if(e+r<c){o=c;break}}return{len:l,start:u||0,end:h||0,nextStart:o}},t.getBuffered=function(t){try{return t.buffered}catch(t){return M.log('failed to get media.buffered',t),hi}},t})(),ci=function(t,e,r,i,n,a){void 0===i&&(i=0),void 0===n&&(n=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=r,this.size=i,this.part=n,this.partial=a};function fi(t,e){for(var r=null,i=0,n=t.length;i<n;i++){var a=t[i];if(a&&a.cc===e){r=a;break}}return r}function gi(t,e,r){return!(!e.details||!(r.endCC>r.startCC||t&&t.cc<r.startCC))}function vi(t,e,r){var i=t.fragments,n=e.fragments;if(n.length&&i.length){var a=fi(i,n[0].cc);if(a&&(!a||a.startPTS))return a;M.log('No frag in previous level to align on')}else M.log('No fragments to align')}function mi(t,e){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function pi(t,e){for(var r=e.fragments,i=0,n=r.length;i<n;i++)mi(r[i],t);e.fragmentHint&&mi(e.fragmentHint,t),e.alignedSliding=!0}function yi(t,e,r){e&&(Ti(t,r,e),!r.alignedSliding&&e.details&&Ei(r,e.details),r.alignedSliding||!e.details||r.skippedSegments||Tr(e.details,r))}function Ti(t,e,r){if(gi(t,r,e)){var i=vi(r.details,e);i&&R(i.start)&&(M.log("Adjusting PTS using last level due to CC increase within current level "+e.url),pi(i.start,e))}}function Ei(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var r=e.fragments[0].programDateTime,i=t.fragments[0].programDateTime,n=(i-r)/1e3+e.fragments[0].start;n&&R(n)&&(M.log("Adjusting PTS using programDateTime delta "+(i-r)+"ms, sliding:"+n.toFixed(3)+" "+t.url+" "),pi(n,t))}}function Si(t,e){if(t.hasProgramDateTime&&e.hasProgramDateTime){var r=t.fragments,i=e.fragments;if(r.length&&i.length){var n=i[Math.round(i.length/2)-1],a=fi(r,n.cc)||r[Math.round(r.length/2)-1],s=n.programDateTime,o=a.programDateTime;if(null!==s&&null!==o)pi((o-s)/1e3-(a.start-n.start),t)}}}var Li=(function(){function t(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:'AES-CBC',iv:this.aesIV},e,t)},t})(),Ri=(function(){function t(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey('raw',this.key,{name:'AES-CBC'},!1,['encrypt','decrypt'])},t})();var Ai=(function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),i=0;i<4;i++)r[i]=e.getUint32(4*i);return r},e.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,i=r[0],n=r[1],a=r[2],s=r[3],o=this.invSubMix,l=o[0],u=o[1],h=o[2],d=o[3],c=new Uint32Array(256),f=0,g=0,v=0;for(v=0;v<256;v++)c[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var m=g^g<<1^g<<2^g<<3^g<<4;m=m>>>8^255&m^99,t[f]=m,e[m]=f;var p=c[f],y=c[p],T=c[y],E=257*c[m]^16843008*m;i[f]=E<<24|E>>>8,n[f]=E<<16|E>>>16,a[f]=E<<8|E>>>24,s[f]=E,E=16843009*T^65537*y^257*p^16843008*f,l[m]=E<<24|E>>>8,u[m]=E<<16|E>>>16,h[m]=E<<8|E>>>24,d[m]=E,f?(f=p^c[c[c[T^p]]],g^=c[c[g]]):f=g=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,i=0;i<e.length&&r;)r=e[i]===this.key[i],i++;if(!r){this.key=e;var n=this.keySize=e.length;if(4!==n&&6!==n&&8!==n)throw new Error('Invalid aes key size='+n);var a,s,o,l,u=this.ksRows=4*(n+6+1),h=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),c=this.sBox,f=this.rcon,g=this.invSubMix,v=g[0],m=g[1],p=g[2],y=g[3];for(a=0;a<u;a++)a<n?o=h[a]=e[a]:(l=o,a%n===0?(l=c[(l=l<<8|l>>>24)>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l],l^=f[a/n|0]<<24):n>6&&a%n===4&&(l=c[l>>>24]<<24|c[l>>>16&255]<<16|c[l>>>8&255]<<8|c[255&l]),h[a]=o=(h[a-n]^l)>>>0);for(s=0;s<u;s++)a=u-s,l=3&s?h[a]:h[a-4],d[s]=s<4||a<=4?l:v[c[l>>>24]]^m[c[l>>>16&255]]^p[c[l>>>8&255]]^y[c[255&l]],d[s]=d[s]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,r){for(var i,n,a,s,o,l,u,h,d,c,f,g,v,m,p=this.keySize+6,y=this.invKeySchedule,T=this.invSBox,E=this.invSubMix,S=E[0],L=E[1],R=E[2],A=E[3],k=this.uint8ArrayToUint32Array_(r),b=k[0],D=k[1],I=k[2],w=k[3],C=new Int32Array(t),_=new Int32Array(C.length),P=this.networkToHostOrderSwap;e<C.length;){for(d=P(C[e]),c=P(C[e+1]),f=P(C[e+2]),g=P(C[e+3]),o=d^y[0],l=g^y[1],u=f^y[2],h=c^y[3],v=4,m=1;m<p;m++)i=S[o>>>24]^L[l>>16&255]^R[u>>8&255]^A[255&h]^y[v],n=S[l>>>24]^L[u>>16&255]^R[h>>8&255]^A[255&o]^y[v+1],a=S[u>>>24]^L[h>>16&255]^R[o>>8&255]^A[255&l]^y[v+2],s=S[h>>>24]^L[o>>16&255]^R[l>>8&255]^A[255&u]^y[v+3],o=i,l=n,u=a,h=s,v+=4;i=T[o>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&h]^y[v],n=T[l>>>24]<<24^T[u>>16&255]<<16^T[h>>8&255]<<8^T[255&o]^y[v+1],a=T[u>>>24]<<24^T[h>>16&255]<<16^T[o>>8&255]<<8^T[255&l]^y[v+2],s=T[h>>>24]<<24^T[o>>16&255]<<16^T[l>>8&255]<<8^T[255&u]^y[v+3],_[e]=P(i^b),_[e+1]=P(s^D),_[e+2]=P(a^I),_[e+3]=P(n^w),b=d,D=c,I=f,w=g,e+=4}return _.buffer},t})(),ki=(function(){function t(t,e){var r=(void 0===e?{}:e).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=i,i)try{var n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch(t){}null===this.subtle&&(this.useSoftware=!0)}var e=t.prototype;return e.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},e.isSync=function(){return this.useSoftware},e.flush=function(){var t=this.currentResult,e=this.remainderData;if(!t||e)return this.reset(),null;var r,i,n,a=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?(i=(r=a).byteLength,(n=i&&new DataView(r.buffer).getUint8(i-1))?ft(r,0,i-n):r):a},e.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},e.decrypt=function(t,e,r){var i=this;return this.useSoftware?new Promise(function(n,a){i.softwareDecrypt(new Uint8Array(t),e,r);var s=i.flush();s?n(s.buffer):a(new Error('[softwareDecrypt] Failed to decrypt data'))}):this.webCryptoDecrypt(new Uint8Array(t),e,r)},e.softwareDecrypt=function(t,e,r){var i=this.currentIV,n=this.currentResult,a=this.remainderData;this.logOnce('JS AES decrypt'),a&&(t=Qt(a,t),this.remainderData=null);var s=this.getValidChunk(t);if(!s.length)return null;i&&(r=i);var o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new Ai),o.expandKey(e);var l=n;return this.currentResult=o.decrypt(s.buffer,0,r),this.currentIV=ft(s,-16).buffer,l||null},e.webCryptoDecrypt=function(t,e,r){var i=this,n=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new Ri(n,e)),this.fastAesKey.expandKey().then(function(e){return n?(i.logOnce('WebCrypto AES decrypt'),new Li(n,new Uint8Array(r)).decrypt(t.buffer,e)):Promise.reject(new Error('web crypto not initialized'))}).catch(function(n){return M.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+n.name+": "+n.message),i.onWebCryptoError(t,e,r)})},e.onWebCryptoError=function(t,e,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,r);var i=this.flush();if(i)return i.buffer;throw new Error('WebCrypto and softwareDecrypt: failed to decrypt data')},e.getValidChunk=function(t){var e=t,r=t.length-t.length%16;return r!==t.length&&(e=ft(t,0,r),this.remainderData=ft(t,r)),e},e.logOnce=function(t){this.logEnabled&&(M.log("[decrypter]: "+t),this.logEnabled=!1)},t})(),bi=function(t){for(var e='',r=t.length,i=0;i<r;i++)e+="["+t.start(i).toFixed(3)+"-"+t.end(i).toFixed(3)+"]";return e},Di='STOPPED',Ii='IDLE',wi='KEY_LOADING',Ci='FRAG_LOADING',_i='FRAG_LOADING_WAITING_RETRY',Pi='WAITING_TRACK',xi='PARSING',Fi='PARSED',Mi='ENDED',Oi='ERROR',Ni='WAITING_INIT_PTS',Ui='WAITING_LEVEL',Bi=(function(t){function e(e,r,i,n,a){var s;return(s=t.call(this)||this).hls=void 0,s.fragPrevious=null,s.fragCurrent=null,s.fragmentTracker=void 0,s.transmuxer=null,s._state=Di,s.playlistType=void 0,s.media=null,s.mediaBuffer=null,s.config=void 0,s.bitrateTest=!1,s.lastCurrentTime=0,s.nextLoadPosition=0,s.startPosition=0,s.startTimeOffset=null,s.loadedmetadata=!1,s.retryDate=0,s.levels=null,s.fragmentLoader=void 0,s.keyLoader=void 0,s.levelLastLoaded=null,s.startFragRequested=!1,s.decrypter=void 0,s.initPTS=[],s.onvseeking=null,s.onvended=null,s.logPrefix='',s.log=void 0,s.warn=void 0,s.playlistType=a,s.logPrefix=n,s.log=M.log.bind(M,n+":"),s.warn=M.warn.bind(M,n+":"),s.hls=e,s.fragmentLoader=new ni(e.config),s.keyLoader=i,s.fragmentTracker=r,s.config=e.config,s.decrypter=new ki(e.config),e.on(b.MANIFEST_LOADED,s.onManifestLoaded,g(s)),s}l(e,t);var r=e.prototype;return r.doTick=function(){this.onTickEnd()},r.onTickEnd=function(){},r.startLoad=function(t){},r.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Di},r._streamEnded=function(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;var r=e.partList;if(null!=r&&r.length){var i=r[r.length-1];return di.isBuffered(this.media,i.start+i.duration/2)}var n=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(n)},r.getLevelDetails=function(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levels[this.levelLastLoaded])?void 0:t.details},r.onMediaAttached=function(t,e){var r=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener('seeking',this.onvseeking),r.addEventListener('ended',this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.state===Di&&this.startLoad(i.startPosition)},r.onMediaDetaching=function(){var t=this.media;null!=t&&t.ended&&(this.log('MSE detaching and video ended, reset startPosition'),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener('seeking',this.onvseeking),t.removeEventListener('ended',this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},r.onMediaSeeking=function(){var t=this.config,e=this.fragCurrent,r=this.media,i=this.mediaBuffer,n=this.state,a=r?r.currentTime:0,s=di.bufferInfo(i||r,a,t.maxBufferHole);if(this.log("media seeking to "+(R(a)?a.toFixed(3):a)+", state: "+n),this.state===Mi)this.resetLoadingState();else if(e){var o=t.maxFragLookUpTolerance,l=e.start-o,u=e.start+e.duration+o;if(!s.len||u<s.start||l>s.end){var h=a>u;(a<l||h)&&(h&&e.loader&&(this.log('seeking outside of buffer while fragment load in progress, cancel fragment load'),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onManifestLoaded=function(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]},r.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=Di,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.loadFragment=function(t,e,r){this._loadFragForPlayback(t,e,r)},r._loadFragForPlayback=function(t,e,r){var i=this;this._doFragLoad(t,e,r,function(e){if(i.fragContextChanged(t))return i.warn("Fragment "+t.sn+(e.part?' p: '+e.part.index:'')+" of level "+t.level+" was dropped during download."),void i.fragmentTracker.removeFragment(t);t.stats.chunkCount++,i._handleFragmentLoadProgress(e)}).then(function(e){if(e){var r=i.state;i.fragContextChanged(t)?(r===Ci||!i.fragCurrent&&r===xi)&&(i.fragmentTracker.removeFragment(t),i.state=Ii):('payload'in e&&(i.log("Loaded fragment "+t.sn+" of level "+t.level),i.hls.trigger(b.FRAG_LOADED,e)),i._handleFragmentLoadComplete(e))}}).catch(function(e){i.state!==Di&&i.state!==Oi&&(i.warn(e),i.resetFragmentLoading(t))})},r.clearTrackerIfNeeded=function(t){var e,r=this.fragmentTracker;if(r.getState(t)===$r){var i=t.type,n=this.getFwdBufferInfo(this.mediaBuffer,i),a=Math.max(t.duration,n?n.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&r.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?r.removeAllFragments():r.hasParts(t.type)&&(r.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),r.getState(t)===Jr&&r.removeFragment(t))},r.checkLiveUpdate=function(t){if(t.updated&&!t.live){var e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)},r.flushMainBuffer=function(t,e,r){if(void 0===r&&(r=null),t-e){var i={startOffset:t,endOffset:e,type:r};this.hls.trigger(b.BUFFER_FLUSHING,i)}},r._loadInitSegment=function(t,e){var r=this;this._doFragLoad(t,e).then(function(e){if(!e||r.fragContextChanged(t)||!r.levels)throw new Error('init load aborted');return e}).then(function(e){var i=r.hls,n=e.payload,a=t.decryptdata;if(n&&n.byteLength>0&&a&&a.key&&a.iv&&'AES-128'===a.method){var s=self.performance.now();return r.decrypter.decrypt(new Uint8Array(n),a.key.buffer,a.iv.buffer).catch(function(e){throw i.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e}).then(function(r){var n=self.performance.now();return i.trigger(b.FRAG_DECRYPTED,{frag:t,payload:r,stats:{tstart:s,tdecrypt:n}}),e.payload=r,e})}return e}).then(function(i){var n=r.fragCurrent,a=r.hls;if(!r.levels)throw new Error('init load aborted, missing levels');var s=t.stats;r.state=Ii,e.fragmentError=0,t.data=new Uint8Array(i.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),i.frag===n&&a.trigger(b.FRAG_BUFFERED,{stats:s,frag:n,part:null,id:t.type}),r.tick()}).catch(function(e){r.state!==Di&&r.state!==Oi&&(r.warn(e),r.resetFragmentLoading(t))})},r.fragContextChanged=function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId},r.fragBufferedComplete=function(t,e){var r,i,n,a,s=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+t.type+" sn: "+t.sn+(e?' part: '+e.index:'')+" of "+(this.playlistType===Ue?'level':'track')+" "+t.level+" (frag:["+(null!=(r=t.startPTS)?r:NaN).toFixed(3)+"-"+(null!=(i=t.endPTS)?i:NaN).toFixed(3)+"] > buffer:"+(s?bi(di.getBuffered(s)):'(detached)')+")"),this.state=Ii,s&&(!this.loadedmetadata&&t.type==Ue&&s.buffered.length&&(null==(n=this.fragCurrent)?void 0:n.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},r.seekToStartPos=function(){},r._handleFragmentLoadComplete=function(t){var e=this.transmuxer;if(e){var r=t.frag,i=t.part,n=t.partsLoaded,a=!n||0===n.length||n.some(function(t){return!t}),s=new ci(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!a);e.flush(s)}},r._handleFragmentLoadProgress=function(t){},r._doFragLoad=function(t,e,r,i){var n,a=this;void 0===r&&(r=null);var s=null==e?void 0:e.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level"+(s?'':' detail')+"s");var o=null;if(!t.encrypted||null!=(n=t.decryptdata)&&n.key?!t.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(t,s.encryptedFragments):(this.log("Loading key for "+t.sn+" of ["+s.startSN+"-"+s.endSN+"], "+('[stream-controller]'===this.logPrefix?'level':'track')+" "+t.level),this.state=wi,this.fragCurrent=t,o=this.keyLoader.load(t).then(function(t){if(!a.fragContextChanged(t.frag))return a.hls.trigger(b.KEY_LOADED,t),a.state===wi&&(a.state=Ii),t}),this.hls.trigger(b.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),r=Math.max(t.start,r||0),this.config.lowLatencyMode&&'initSegment'!==t.sn){var l=s.partList;if(l&&i){r>t.end&&s.fragmentHint&&(t=s.fragmentHint);var u=this.getNextPart(l,t,r);if(u>-1){var h,d=l[u];return this.log("Loading part sn: "+t.sn+" p: "+d.index+" cc: "+t.cc+" of playlist ["+s.startSN+"-"+s.endSN+"] parts [0-"+u+"-"+(l.length-1)+"] "+('[stream-controller]'===this.logPrefix?'level':'track')+": "+t.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=d.start+d.duration,this.state=Ci,h=o?o.then(function(r){return!r||a.fragContextChanged(r.frag)?null:a.doFragPartsLoad(t,d,e,i)}).catch(function(t){return a.handleFragLoadError(t)}):this.doFragPartsLoad(t,d,e,i).catch(function(t){return a.handleFragLoadError(t)}),this.hls.trigger(b.FRAG_LOADING,{frag:t,part:d,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}if(!t.url||this.loadedEndOfParts(l,r))return Promise.resolve(null)}}this.log("Loading fragment "+t.sn+" cc: "+t.cc+" "+(s?'of ['+s.startSN+'-'+s.endSN+'] ':'')+('[stream-controller]'===this.logPrefix?'level':'track')+": "+t.level+", target: "+parseFloat(r.toFixed(3))),R(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Ci;var c,f=this.config.progressive;return c=f&&o?o.then(function(e){return!e||a.fragContextChanged(null==e?void 0:e.frag)?null:a.fragmentLoader.load(t,i)}).catch(function(t){return a.handleFragLoadError(t)}):Promise.all([this.fragmentLoader.load(t,f?i:void 0),o]).then(function(t){var e=t[0];return!f&&e&&i&&i(e),e}).catch(function(t){return a.handleFragLoadError(t)}),this.hls.trigger(b.FRAG_LOADING,{frag:t,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c},r.doFragPartsLoad=function(t,e,r,i){var n=this;return new Promise(function(a,s){var o,l=[],u=null==(o=r.details)?void 0:o.partList;!(function e(o){n.fragmentLoader.loadPart(t,o,i).then(function(i){l[o.index]=i;var s=i.part;n.hls.trigger(b.FRAG_LOADED,i);var h=Rr(r,t.sn,o.index+1)||Ar(u,t.sn,o.index+1);if(!h)return a({frag:t,part:s,partsLoaded:l});e(h)}).catch(s)})(e)})},r.handleFragLoadError=function(t){if('data'in t){var e=t.data;t.data&&e.details===I.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(b.ERROR,e)}else this.hls.trigger(b.ERROR,{type:D.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null},r._handleTransmuxerFlush=function(t){var e=this.getCurrentContext(t);if(e&&this.state===xi){var r=e.frag,i=e.part,n=e.level,a=self.performance.now();r.stats.parsing.end=a,i&&(i.stats.parsing.end=a),this.updateLevelTiming(r,i,n,t.partial)}else this.fragCurrent||this.state===Di||this.state===Oi||(this.state=Ii)},r.getCurrentContext=function(t){var e=this.levels,r=this.fragCurrent,i=t.level,n=t.sn,a=t.part;if(null==e||!e[i])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+i+". The current chunk will not be buffered."),null;var s=e[i],o=a>-1?Rr(s,n,a):null,l=o?o.fragment:Lr(s,n,r);return l?(r&&r!==l&&(l.stats=r.stats),{frag:l,part:o,level:s}):null},r.bufferFragmentData=function(t,e,r,i,n){var a;if(t&&this.state===xi){var s=t.data1,o=t.data2,l=s;if(s&&o&&(l=Qt(s,o)),null!=(a=l)&&a.length){var u={type:t.type,frag:e,part:r,chunkMeta:i,parent:e.type,data:l};if(this.hls.trigger(b.BUFFER_APPENDING,u),t.dropped&&t.independent&&!r){if(n)return;this.flushBufferGap(e)}}}},r.flushBufferGap=function(t){var e=this.media;if(e)if(di.isBuffered(e,e.currentTime)){var r=e.currentTime,i=di.bufferInfo(e,r,0),n=t.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*n),s=Math.max(Math.min(t.start-a,i.end-a),r+a);t.start-s>a&&this.flushMainBuffer(s,t.start)}else this.flushMainBuffer(0,t.start)},r.getFwdBufferInfo=function(t,e){var r=this.getLoadPosition();return R(r)?this.getFwdBufferInfoAtPos(t,r,e):null},r.getFwdBufferInfoAtPos=function(t,e,r){var i=this.config.maxBufferHole,n=di.bufferInfo(t,e,i);if(0===n.len&&void 0!==n.nextStart){var a=this.fragmentTracker.getBufferedFrag(e,r);if(a&&n.nextStart<a.end)return di.bufferInfo(t,e,Math.max(n.nextStart,i))}return n},r.getMaxBufferLength=function(t){var e,r=this.config;return e=t?Math.max(8*r.maxBufferSize/t,r.maxBufferLength):r.maxBufferLength,Math.min(e,r.maxMaxBufferLength)},r.reduceMaxBufferLength=function(t){var e=this.config,r=t||e.maxBufferLength;return e.maxMaxBufferLength>=r&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},r.getAppendedFrag=function(t,e){var r=this.fragmentTracker.getAppendedFrag(t,Ue);return r&&'fragment'in r?r.fragment:r},r.getNextFragment=function(t,e){var r=e.fragments,i=r.length;if(!i)return null;var n,a=this.config,s=r[0].start;if(e.live){var o=a.initialLiveManifestSize;if(i<o)return this.warn("Not enough fragments to start playback (have: "+i+", need: "+o+")"),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(n=this.getInitialLiveFragment(e,r),this.startPosition=n?this.hls.liveSyncPosition||n.start:t)}else t<=s&&(n=r[0]);if(!n){var l=a.lowLatencyMode?e.partEnd:e.fragmentEnd;n=this.getFragmentAtPosition(t,l,e)}return this.mapToInitFragWhenRequired(n)},r.isLoopLoading=function(t,e){var r=this.fragmentTracker.getState(t);return(r===Zr||r===Jr&&!!t.gap)&&this.nextLoadPosition>e},r.getNextFragmentLoopLoading=function(t,e,r,i,n){var a=t.gap,s=this.getNextFragment(this.nextLoadPosition,e);if(null===s)return s;if(t=s,a&&t&&!t.gap&&r.nextStart){var o=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(null!==o&&r.len+o.len>=n)return this.log("buffer full after gaps in \""+i+"\" playlist starting at sn: "+t.sn),null}return t},r.mapToInitFragWhenRequired=function(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment},r.getNextPart=function(t,e,r){for(var i=-1,n=!1,a=!0,s=0,o=t.length;s<o;s++){var l=t[s];if(a=a&&!l.independent,i>-1&&r<l.start)break;var u=l.loaded;u?i=-1:(n||l.independent||a)&&l.fragment===e&&(i=s),n=u}return i},r.loadedEndOfParts=function(t,e){var r=t[t.length-1];return r&&e>r.start&&r.loaded},r.getInitialLiveFragment=function(t,e){var r=this.fragPrevious,i=null;if(r){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),i=Pr(e,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){var n=r.sn+1;if(n>=t.startSN&&n<=t.endSN){var a=e[n-t.startSN];r.cc===a.cc&&(i=a,this.log("Live playlist, switching playlist, load frag with next SN: "+i.sn))}i||(i=Or(e,r.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+i.sn)}}else{var s=this.hls.liveSyncPosition;null!==s&&(i=this.getFragmentAtPosition(s,this.bitrateTest?t.fragmentEnd:t.edge,t))}return i},r.getFragmentAtPosition=function(t,e,r){var i,n=this.config,a=this.fragPrevious,s=r.fragments,o=r.endSN,l=r.fragmentHint,u=n.maxFragLookUpTolerance,h=r.partList,d=!!(n.lowLatencyMode&&null!=h&&h.length&&l);(d&&l&&!this.bitrateTest&&(s=s.concat(l),o=l.sn),t<e)?i=xr(a,s,t,t>e-u?0:u):i=s[s.length-1];if(i){var c=i.sn-r.startSN,f=this.fragmentTracker.getState(i);if((f===Zr||f===Jr&&i.gap)&&(a=i),a&&i.sn===a.sn&&(!d||h[0].fragment.sn>i.sn))if(a&&i.level===a.level){var g=s[c+1];i=i.sn<o&&this.fragmentTracker.getState(g)!==Zr?g:null}}return i},r.synchronizeToLiveEdge=function(t){var e=this.config,r=this.media;if(r){var i=this.hls.liveSyncPosition,n=r.currentTime,a=t.fragments[0].start,s=t.edge,o=n>=a-e.maxFragLookUpTolerance&&n<=s;if(null!==i&&r.duration>i&&(n<i||!o)){var l=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!o&&r.readyState<4||n<s-l)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn("Playback: "+n.toFixed(3)+" is located too far from the end of live sliding playlist: "+s+", reset currentTime to : "+i.toFixed(3)),r.currentTime=i))}}},r.alignPlaylists=function(t,e){var r=this.levels,i=this.levelLastLoaded,n=this.fragPrevious,a=null!==i?r[i]:null,s=t.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var o=t.fragments[0].start,l=!e,u=t.alignedSliding&&R(o);if(l||!u&&!o){yi(n,a,t);var h=t.fragments[0].start;return this.log("Live playlist sliding: "+h.toFixed(2)+" start-sn: "+(e?e.startSN:'na')+"->"+t.startSN+" prev-sn: "+(n?n.sn:'na')+" fragments: "+s),h}return o},r.waitForCdnTuneIn=function(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)},r.setStartPosition=function(t,e){var r=this.startPosition;if(r<e&&(r=-1),-1===r||-1===this.lastCurrentTime){var i=null!==this.startTimeOffset,n=i?this.startTimeOffset:t.startTimeOffset;null!==n&&R(n)?(r=e+n,n<0&&(r+=t.totalduration),r=Math.min(Math.max(e,r),e+t.totalduration),this.log("Start time offset "+n+" found in "+(i?'multivariant':'media')+" playlist, adjust startPosition to "+r),this.startPosition=r):t.live?r=this.hls.liveSyncPosition||e:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},r.getLoadPosition=function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e},r.handleFragLoadAborted=function(t,e){this.transmuxer&&'initSegment'!==t.sn&&t.stats.aborted&&(this.warn("Fragment "+t.sn+(e?' part '+e.index:'')+" of level "+t.level+" was aborted"),this.resetFragmentLoading(t))},r.resetFragmentLoading=function(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===_i)||(this.state=Ii)},r.onFragmentOrKeyLoadError=function(t,e){if(e.chunkMeta&&!e.frag){var r=this.getCurrentContext(e.chunkMeta);r&&(e.frag=r.frag)}var i=e.frag;if(i&&i.type===t&&this.levels)if(this.fragContextChanged(i)){var n;this.warn("Frag load error must match current frag to retry "+i.url+" > "+(null==(n=this.fragCurrent)?void 0:n.url))}else{var a=e.details===I.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(i,!0);var s=e.errorAction,o=s||{},l=o.action,u=o.retryCount,h=void 0===u?0:u,d=o.retryConfig;if(s&&l===Br&&d){var c;this.resetStartWhenNotLoaded(null!=(c=this.levelLastLoaded)?c:i.level);var f=Dr(d,h);this.warn("Fragment "+i.sn+" of "+t+" "+i.level+" errored with "+e.details+", retrying loading "+(h+1)+"/"+d.maxNumRetry+" in "+f+"ms"),s.resolved=!0,this.retryDate=self.performance.now()+f,this.state=_i}else d&&s?(this.resetFragmentErrors(t),h<d.maxNumRetry?a||(s.resolved=!0):M.warn(e.details+" reached or exceeded max retry ("+h+")")):(null==s?void 0:s.action)===Ur?this.state=Ui:this.state=Oi;this.tickImmediate()}},r.reduceLengthAndFlushBuffer=function(t){if(this.state===xi||this.state===Fi){var e=t.parent,r=this.getFwdBufferInfo(this.mediaBuffer,e),i=r&&r.len>.5;i&&this.reduceMaxBufferLength(r.len);var n=!i;return n&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+e+" buffer"),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),n}return!1},r.resetFragmentErrors=function(t){t===Be&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Di&&(this.state=Ii)},r.afterBufferFlushed=function(t,e,r){if(t){var i=di.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,i,r),this.state===Mi&&this.resetLoadingState()}},r.resetLoadingState=function(){this.log('Reset loading state'),this.fragCurrent=null,this.fragPrevious=null,this.state=Ii},r.resetStartWhenNotLoaded=function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},r.resetWhenMissingContext=function(t){var e;this.warn("The loading context changed while buffering fragment "+t.sn+" of level "+t.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:t.level),this.resetLoadingState()},r.removeUnbufferedFrags=function(t){void 0===t&&(t=0),this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)},r.updateLevelTiming=function(t,e,r,i){var n,a=this,s=r.details;if(s){if(Object.keys(t.elementaryStreams).reduce(function(e,n){var o=t.elementaryStreams[n];if(o){var l=o.endPTS-o.startPTS;if(l<=0)return a.warn("Could not parse fragment "+t.sn+" "+n+" duration reliably ("+l+")"),e||!1;var u=i?0:gr(s,t,o.startPTS,o.endPTS,o.startDTS,o.endDTS);return a.hls.trigger(b.LEVEL_PTS_UPDATED,{details:s,level:r,drift:u,type:n,frag:t,start:o.startPTS,end:o.endPTS}),!0}return e},!1))r.fragmentError=0;else if(null===(null==(n=this.transmuxer)?void 0:n.error)){var o=new Error("Found no media in fragment "+t.sn+" of level "+t.level+" resetting transmuxer to fallback to playlist timing");if(0===r.fragmentError&&(r.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)),this.warn(o.message),this.hls.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:o,frag:t,reason:"Found no media in msn "+t.sn+" of level \""+r.url+"\""}),!this.hls)return;this.resetTransmuxer()}this.state=Fi,this.hls.trigger(b.FRAG_PARSED,{frag:t,part:e})}else this.warn('level.details undefined')},r.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},r.recoverWorkerError=function(t){var e,r,i;'demuxerWorker'===t.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(r=this.levelLastLoaded)?r:null==(i=this.fragCurrent)?void 0:i.level)?e:0),this.resetLoadingState())},a(e,[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log(e+"->"+t))}}]),e})(ui);function Gi(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ki(){var t=ve();if(!t)return!1;var e=Gi(),r=t&&'function'==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&'function'==typeof e.prototype.appendBuffer&&'function'==typeof e.prototype.remove;return!!r&&!!i}function Hi(t,e){return void 0===t&&(t=''),void 0===e&&(e=9e4),{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}var Vi=(function(){function t(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var e=t.prototype;return e.resetInitSegment=function(t,e,r,i){this._id3Track={type:'id3',id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},e.resetTimeStamp=function(t){this.initPTS=t,this.resetContiguity()},e.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},e.canParse=function(t,e){return!1},e.appendFrame=function(t,e,r){},e.demux=function(t,e){this.cachedData&&(t=Qt(this.cachedData,t),this.cachedData=null);var r,i=pt(t,0),n=i?i.length:0,a=this._audioTrack,s=this._id3Track,o=i?Et(i):void 0,l=t.length;for((null===this.basePTS||0===this.frameIndex&&R(o))&&(this.basePTS=Yi(o,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Qe,duration:Number.POSITIVE_INFINITY});n<l;){if(this.canParse(t,n)){var u=this.appendFrame(a,t,n);u?(this.frameIndex++,this.lastPTS=u.sample.pts,r=n+=u.length):n=l}else Tt(t,n)?(i=pt(t,n),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Qe,duration:Number.POSITIVE_INFINITY}),r=n+=i.length):n++;if(n===l&&r!==l){var h=ft(t,r);this.cachedData?this.cachedData=Qt(this.cachedData,h):this.cachedData=h}}return{audioTrack:a,videoTrack:Hi(),id3Track:s,textTrack:Hi()}},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},e.flush=function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Hi(),id3Track:this._id3Track,textTrack:Hi()}},e.destroy=function(){},t})(),Yi=function(t,e,r){return R(t)?90*t:9e4*e+(r?9e4*r.baseTime/r.timescale:0)};function Wi(t,e,r,i){var n,a,s,o,l=navigator.userAgent.toLowerCase(),u=i,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=((192&e[r+2])>>>6)+1;var d=(60&e[r+2])>>>2;if(!(d>h.length-1))return s=(1&e[r+2])<<2,s|=(192&e[r+3])>>>6,M.log("manifest codec:"+i+", ADTS type:"+n+", samplingIndex:"+d),/firefox/i.test(l)?d>=6?(n=5,o=new Array(4),a=d-3):(n=2,o=new Array(2),a=d):-1!==l.indexOf('android')?(n=2,o=new Array(2),a=d):(n=5,o=new Array(4),i&&(-1!==i.indexOf('mp4a.40.29')||-1!==i.indexOf('mp4a.40.5'))||!i&&d>=6?a=d-3:((i&&-1!==i.indexOf('mp4a.40.2')&&(d>=6&&1===s||/vivaldi/i.test(l))||!i&&1===s)&&(n=2,o=new Array(2)),a=d)),o[0]=n<<3,o[0]|=(14&d)>>1,o[1]|=(1&d)<<7,o[1]|=s<<3,5===n&&(o[1]|=(14&a)>>1,o[2]=(1&a)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:h[d],channelCount:s,codec:'mp4a.40.'+n,manifestCodec:u};t.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+d})}function ji(t,e){return 255===t[e]&&240==(246&t[e+1])}function qi(t,e){return 1&t[e+1]?7:9}function Xi(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function zi(t,e){return e+5<t.length}function Qi(t,e){return e+1<t.length&&ji(t,e)}function $i(t,e){return zi(t,e)&&ji(t,e)&&Xi(t,e)<=t.length-e}function Ji(t,e){if(Qi(t,e)){var r=qi(t,e);if(e+r>=t.length)return!1;var i=Xi(t,e);if(i<=r)return!1;var n=e+i;return n===t.length||Qi(t,n)}return!1}function Zi(t,e,r,i,n){if(!t.samplerate){var a=Wi(e,r,i,n);if(!a)return;t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,M.log("parsed codec:"+t.codec+", rate:"+a.samplerate+", channels:"+a.channelCount)}}function tn(t){return 9216e4/t}function en(t,e){var r=qi(t,e);if(e+r<=t.length){var i=Xi(t,e)-r;if(i>0)return{headerLength:r,frameLength:i}}}function rn(t,e,r,i,n){var a,s=i+n*tn(t.samplerate),o=en(e,r);if(o){var l=o.frameLength,u=o.headerLength,h=u+l,d=Math.max(0,r+h-e.length);d?(a=new Uint8Array(h-u)).set(e.subarray(r+u,e.length),0):a=e.subarray(r+u,r+h);var c={unit:a,pts:s};return d||t.samples.push(c),{sample:c,length:h,missing:d}}var f=e.length-r;return(a=new Uint8Array(f)).set(e.subarray(r,e.length),0),{sample:{unit:a,pts:s},length:f,missing:-1}}var nn=(function(t){function e(e,r){var i;return(i=t.call(this)||this).observer=void 0,i.config=void 0,i.observer=e,i.config=r,i}l(e,t);var r=e.prototype;return r.resetInitSegment=function(e,r,i,n){t.prototype.resetInitSegment.call(this,e,r,i,n),this._audioTrack={container:'audio/adts',type:'audio',id:2,pid:-1,sequenceNumber:0,segmentCodec:'aac',samples:[],manifestCodec:r,duration:n,inputTimeScale:9e4,dropped:0}},e.probe=function(t){if(!t)return!1;for(var e=(pt(t,0)||[]).length,r=t.length;e<r;e++)if(Ji(t,e))return M.log('ADTS sync word found !'),!0;return!1},r.canParse=function(t,e){return $i(t,e)},r.appendFrame=function(t,e,r){Zi(t,this.observer,e,r,t.manifestCodec);var i=rn(t,e,r,this.basePTS,this.frameIndex);if(i&&0===i.missing)return i},e})(Vi),an=/\/emsg[-/]ID3/i,sn=(function(){function t(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}var e=t.prototype;return e.resetTimeStamp=function(){},e.resetInitSegment=function(t,e,r,i){var n=this.videoTrack=Hi('video',1),a=this.audioTrack=Hi('audio',1),s=this.txtTrack=Hi('text',1);if(this.id3Track=Hi('id3',1),this.timeOffset=0,null!=t&&t.byteLength){var o=Ht(t);if(o.video){var l=o.video,u=l.id,h=l.timescale,d=l.codec;n.id=u,n.timescale=s.timescale=h,n.codec=d}if(o.audio){var c=o.audio,f=c.id,g=c.timescale,v=c.codec;a.id=f,a.timescale=g,a.codec=v}s.id=Ft.text,n.sampleDuration=0,n.duration=a.duration=i}},e.resetContiguity=function(){this.remainderData=null},t.probe=function(t){return Gt(t=t.length>16384?t.subarray(0,16384):t,['moof']).length>0},e.demux=function(t,e){this.timeOffset=e;var r=t,i=this.videoTrack,n=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Qt(this.remainderData,t));var a=zt(r);this.remainderData=a.remainder,i.samples=a.valid||new Uint8Array}else i.samples=r;var s=this.extractID3Track(i,e);return n.samples=$t(e,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},e.flush=function(){var t=this.timeOffset,e=this.videoTrack,r=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;var i=this.extractID3Track(e,this.timeOffset);return r.samples=$t(t,e),{videoTrack:e,audioTrack:Hi(),id3Track:i,textTrack:Hi()}},e.extractID3Track=function(t,e){var r=this.id3Track;if(t.samples.length){var i=Gt(t.samples,['emsg']);i&&i.forEach(function(t){var i=re(t);if(an.test(i.schemeIdUri)){var n=R(i.presentationTime)?i.presentationTime/i.timeScale:e+i.presentationTimeDelta/i.timeScale,a=4294967295===i.eventDuration?Number.POSITIVE_INFINITY:i.eventDuration/i.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var s=i.payload;r.samples.push({data:s,len:s.byteLength,dts:n,pts:n,type:Je,duration:a})}})}return r},e.demuxSampleAes=function(t,e,r){return Promise.reject(new Error('The MP4 demuxer does not support SAMPLE-AES decryption'))},e.destroy=function(){},t})(),on=null,ln=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],un=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],hn=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],dn=[0,1,1,4];function cn(t,e,r,i,n){if(!(r+24>e.length)){var a=fn(e,r);if(a&&r+a.frameLength<=e.length){var s=i+n*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:e.subarray(r,r+a.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(o),{sample:o,length:a.frameLength,missing:0}}}}function fn(t,e){var r=t[e+1]>>3&3,i=t[e+1]>>1&3,n=t[e+2]>>4&15,a=t[e+2]>>2&3;if(1!==r&&0!==n&&15!==n&&3!==a){var s=t[e+2]>>1&1,o=t[e+3]>>6,l=1e3*ln[14*(3===r?3-i:3===i?3:4)+n-1],u=un[3*(3===r?0:2===r?1:2)+a],h=3===o?1:2,d=hn[r][i],c=dn[i],f=8*d*c,g=Math.floor(d*l/u+s)*c;if(null===on){var v=(navigator.userAgent||'').match(/Chrome\/(\d+)/i);on=v?parseInt(v[1]):0}return!!on&&on<=87&&2===i&&l>=224e3&&0===o&&(t[e+3]=128|t[e+3]),{sampleRate:u,channelCount:h,frameLength:g,samplesPerFrame:f}}}function gn(t,e){return!(255!==t[e]||224&~t[e+1]||!(6&t[e+1]))}function vn(t,e){return e+1<t.length&&gn(t,e)}function mn(t,e){return gn(t,e)&&4<=t.length-e}function pn(t,e){if(e+1<t.length&&gn(t,e)){var r=fn(t,e),i=4;null!=r&&r.frameLength&&(i=r.frameLength);var n=e+i;return n===t.length||vn(t,n)}return!1}var yn=(function(){function t(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,i=new Uint8Array(4),n=Math.min(4,e);if(0===n)throw new Error('no bytes available');i.set(t.subarray(r,r+n)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},e.skipBits=function(t){var e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;if(t>32&&M.error('Cannot read more than 32 bits at a time'),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error('no bits available');this.loadWord()}return(e=t-e)>0&&this.bitsAvailable?r<<e|this.readBits(e):r},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(this.word&2147483648>>>t)return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){for(var e=8,r=8,i=0;i<t;i++)0!==r&&(r=(e+this.readEG()+256)%256),e=0===r?e:r},e.readSPS=function(){var t,e,r,i=0,n=0,a=0,s=0,o=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),h=this.readBoolean.bind(this),d=this.skipBits.bind(this),c=this.skipEG.bind(this),f=this.skipUEG.bind(this),g=this.skipScalingList.bind(this);o();var v=o();if(l(5),d(3),o(),f(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var m=u();if(3===m&&d(1),f(),f(),d(1),h())for(e=3!==m?8:12,r=0;r<e;r++)h()&&g(r<6?16:64)}f();var p=u();if(0===p)u();else if(1===p)for(d(1),c(),c(),t=u(),r=0;r<t;r++)c();f(),d(1);var y=u(),T=u(),E=l(1);0===E&&d(1),d(1),h()&&(i=u(),n=u(),a=u(),s=u());var S=[1,1];if(h()&&h())switch(o()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[o()<<8|o(),o()<<8|o()]}return{width:Math.ceil(16*(y+1)-2*i-2*n),height:(2-E)*(T+1)*16-(E?2:4)*(a+s),pixelRatio:S}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t})(),Tn=(function(){function t(t,e,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new ki(e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)},e.decryptAacSample=function(t,e,r){var i=this,n=t[e].unit;if(!(n.length<=16)){var a=n.subarray(16,n.length-n.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then(function(a){var s=new Uint8Array(a);n.set(s,16),i.decrypter.isSync()||i.decryptAacSamples(t,e+1,r)})}},e.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,r),!this.decrypter.isSync()))return}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),i=0,n=32;n<t.length-16;n+=160,i+=16)r.set(t.subarray(n,n+16),i);return r},e.getAvcDecryptedUnit=function(t,e){for(var r=new Uint8Array(e),i=0,n=32;n<t.length-16;n+=160,i+=16)t.set(r.subarray(i,i+16),n);return t},e.decryptAvcSample=function(t,e,r,i,n){var a=this,s=ee(n.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then(function(o){n.data=a.getAvcDecryptedUnit(s,o),a.decrypter.isSync()||a.decryptAvcSamples(t,e,r+1,i)})},e.decryptAvcSamples=function(t,e,r,i){if(t instanceof Uint8Array)throw new Error('Cannot decrypt samples of type Uint8Array');for(;;e++,r=0){if(e>=t.length)return void i();for(var n=t[e].units;!(r>=n.length);r++){var a=n[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type||(this.decryptAvcSample(t,e,r,i,a),this.decrypter.isSync())))return}}},t})(),En=188,Sn=(function(){function t(t,e,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=r}t.probe=function(e){var r=t.syncOffset(e);return r>0&&M.warn("MPEG2-TS detected but first sync word found @ offset "+r),-1!==r},t.syncOffset=function(t){for(var e=t.length,r=Math.min(940,t.length-En)+1,i=0;i<r;){for(var n=!1,a=-1,s=0,o=i;o<e;o+=En){if(71!==t[o]){if(s)return-1;break}if(s++,-1===a&&0!==(a=o)&&(r=Math.min(a+18612,t.length-En)+1),n||(n=0===Rn(t,o)),n&&s>1&&(0===a&&s>2||o+En>r))return a}i++}return-1},t.createTrack=function(t,e){return{container:'video'===t||'audio'===t?'video/mp2t':void 0,type:t,id:Ft[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:'audio'===t?e:void 0}};var e=t.prototype;return e.resetInitSegment=function(e,r,i,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack('video'),this._audioTrack=t.createTrack('audio',n),this._id3Track=t.createTrack('id3'),this._txtTrack=t.createTrack('text'),this._audioTrack.segmentCodec='aac',this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=i,this._duration=n},e.resetTimeStamp=function(){},e.resetContiguity=function(){var t=this._audioTrack,e=this._avcTrack,r=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},e.demux=function(e,r,i,n){var a;void 0===i&&(i=!1),void 0===n&&(n=!1),i||(this.sampleAes=null);var s=this._avcTrack,o=this._audioTrack,l=this._id3Track,u=this._txtTrack,h=s.pid,d=s.pesData,c=o.pid,f=l.pid,g=o.pesData,v=l.pesData,m=null,p=this.pmtParsed,y=this._pmtId,T=e.length;if(this.remainderData&&(T=(e=Qt(this.remainderData,e)).length,this.remainderData=null),T<En&&!n)return this.remainderData=e,{audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};var E=Math.max(0,t.syncOffset(e));(T-=(T-E)%En)<e.byteLength&&!n&&(this.remainderData=new Uint8Array(e.buffer,T,e.buffer.byteLength-T));for(var S=0,L=E;L<T;L+=En)if(71===e[L]){var R=!!(64&e[L+1]),A=Rn(e,L),k=void 0;if((48&e[L+3])>>4>1){if((k=L+5+e[L+4])===L+En)continue}else k=L+4;switch(A){case h:R&&(d&&(a=bn(d))&&this.parseAVCPES(s,u,a,!1),d={data:[],size:0}),d&&(d.data.push(e.subarray(k,L+En)),d.size+=L+En-k);break;case c:if(R){if(g&&(a=bn(g)))switch(o.segmentCodec){case'aac':this.parseAACPES(o,a);break;case'mp3':this.parseMPEGPES(o,a)}g={data:[],size:0}}g&&(g.data.push(e.subarray(k,L+En)),g.size+=L+En-k);break;case f:R&&(v&&(a=bn(v))&&this.parseID3PES(l,a),v={data:[],size:0}),v&&(v.data.push(e.subarray(k,L+En)),v.size+=L+En-k);break;case 0:R&&(k+=e[k]+1),y=this._pmtId=An(e,k);break;case y:R&&(k+=e[k]+1);var w=kn(e,k,this.typeSupported,i);(h=w.avc)>0&&(s.pid=h),(c=w.audio)>0&&(o.pid=c,o.segmentCodec=w.segmentCodec),(f=w.id3)>0&&(l.pid=f),null===m||p||(M.warn("MPEG-TS PMT found at "+L+" after unknown PID '"+m+"'. Backtracking to sync byte @"+E+" to parse all TS packets."),m=null,L=E-188),p=this.pmtParsed=!0;break;case 17:case 8191:break;default:m=A}}else S++;if(S>0){var C=new Error("Found "+S+" TS packet/s that do not start with 0x47");this.observer.emit(b.ERROR,b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:C,reason:C.message})}s.pesData=d,o.pesData=g,l.pesData=v;var _={audioTrack:o,videoTrack:s,id3Track:l,textTrack:u};return n&&this.extractRemainingSamples(_),_},e.flush=function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t},e.extractRemainingSamples=function(t){var e,r=t.audioTrack,i=t.videoTrack,n=t.id3Track,a=t.textTrack,s=i.pesData,o=r.pesData,l=n.pesData;if(s&&(e=bn(s))?(this.parseAVCPES(i,a,e,!0),i.pesData=null):i.pesData=s,o&&(e=bn(o))){switch(r.segmentCodec){case'aac':this.parseAACPES(r,e);break;case'mp3':this.parseMPEGPES(r,e)}r.pesData=null}else null!=o&&o.size&&M.log('last AAC PES packet truncated,might overlap between fragments'),r.pesData=o;l&&(e=bn(l))?(this.parseID3PES(n,e),n.pesData=null):n.pesData=l},e.demuxSampleAes=function(t,e,r){var i=this.demux(t,r,!0,!this.config.progressive),n=this.sampleAes=new Tn(this.observer,this.config,e);return this.decrypt(i,n)},e.decrypt=function(t,e){return new Promise(function(r){var i=t.audioTrack,n=t.videoTrack;i.samples&&'aac'===i.segmentCodec?e.decryptAacSamples(i.samples,0,function(){n.samples?e.decryptAvcSamples(n.samples,0,0,function(){r(t)}):r(t)}):n.samples&&e.decryptAvcSamples(n.samples,0,0,function(){r(t)})})},e.destroy=function(){this._duration=0},e.parseAVCPES=function(t,e,r,i){var n,a=this,s=this.parseAVCNALu(t,r.data),o=this.avcSample,l=!1;r.data=null,o&&s.length&&!t.audFound&&(Dn(o,t),o=this.avcSample=Ln(!1,r.pts,r.dts,'')),s.forEach(function(i){var s;switch(i.type){case 1:var u=!1;n=!0;var h,d=i.data;if(l&&d.length>4){var c=new yn(d).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(u=!0)}if(u)null!=(h=o)&&h.frame&&!o.key&&(Dn(o,t),o=a.avcSample=null);o||(o=a.avcSample=Ln(!0,r.pts,r.dts,'')),o.frame=!0,o.key=u;break;case 5:n=!0,null!=(s=o)&&s.frame&&!o.key&&(Dn(o,t),o=a.avcSample=null),o||(o=a.avcSample=Ln(!0,r.pts,r.dts,'')),o.key=!0,o.frame=!0;break;case 6:n=!0,te(i.data,1,r.pts,e.samples);break;case 7:if(n=!0,l=!0,!t.sps){var f=i.data,g=new yn(f).readSPS();t.width=g.width,t.height=g.height,t.pixelRatio=g.pixelRatio,t.sps=[f],t.duration=a._duration;for(var v=f.subarray(1,4),m='avc1.',p=0;p<3;p++){var y=v[p].toString(16);y.length<2&&(y='0'+y),m+=y}t.codec=m}break;case 8:n=!0,t.pps||(t.pps=[i.data]);break;case 9:n=!1,t.audFound=!0,o&&Dn(o,t),o=a.avcSample=Ln(!1,r.pts,r.dts,'');break;case 12:n=!0;break;default:n=!1,o&&(o.debug+='unknown NAL '+i.type+' ')}o&&n&&o.units.push(i)}),i&&o&&(Dn(o,t),this.avcSample=null)},e.getLastNalUnit=function(t){var e,r,i=this.avcSample;if(i&&0!==i.units.length||(i=t[t.length-1]),null!=(e=i)&&e.units){var n=i.units;r=n[n.length-1]}return r},e.parseAVCNALu=function(t,e){var r,i,n=e.byteLength,a=t.naluState||0,s=a,o=[],l=0,u=-1,h=0;for(-1===a&&(u=0,h=31&e[0],a=0,l=1);l<n;)if(r=e[l++],a)if(1!==a)if(r)if(1===r){if(u>=0){var d={data:e.subarray(u,l-a-1),type:h};o.push(d)}else{var c=this.getLastNalUnit(t.samples);if(c&&(s&&l<=4-s&&c.state&&(c.data=c.data.subarray(0,c.data.byteLength-s)),(i=l-a-1)>0)){var f=new Uint8Array(c.data.byteLength+i);f.set(c.data,0),f.set(e.subarray(0,i),c.data.byteLength),c.data=f,c.state=0}}l<n?(u=l,h=31&e[l],a=0):a=-1}else a=0;else a=3;else a=r?0:2;else a=r?0:1;if(u>=0&&a>=0){var g={data:e.subarray(u,n),type:h,state:a};o.push(g)}if(0===o.length){var v=this.getLastNalUnit(t.samples);if(v){var m=new Uint8Array(v.data.byteLength+e.byteLength);m.set(v.data,0),m.set(e,v.data.byteLength),v.data=m}}return t.naluState=a,o},e.parseAACPES=function(t,e){var r,i,n,a=0,s=this.aacOverFlow,o=e.data;if(s){this.aacOverFlow=null;var l=s.missing,u=s.sample.unit.byteLength;if(-1===l){var h=new Uint8Array(u+o.byteLength);h.set(s.sample.unit,0),h.set(o,u),o=h}else{var d=u-l;s.sample.unit.set(o.subarray(0,l),d),t.samples.push(s.sample),a=s.missing}}for(r=a,i=o.length;r<i-1&&!Qi(o,r);r++);if(r!==a){var c,f=r<i-1;c=f?"AAC PES did not start with ADTS header,offset:"+r:'No ADTS header found in AAC PES';var g=new Error(c);if(M.warn("parsing error: "+c),this.observer.emit(b.ERROR,b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,levelRetry:f,error:g,reason:c}),!f)return}if(Zi(t,this.observer,o,r,this.audioCodec),void 0!==e.pts)n=e.pts;else{if(!s)return void M.warn('[tsdemuxer]: AAC PES unknown PTS');var v=tn(t.samplerate);n=s.sample.pts+v}for(var m,p=0;r<i;){if(r+=(m=rn(t,o,r,n,p)).length,m.missing){this.aacOverFlow=m;break}for(p++;r<i-1&&!Qi(o,r);r++);}},e.parseMPEGPES=function(t,e){var r=e.data,i=r.length,n=0,a=0,s=e.pts;if(void 0!==s)for(;a<i;)if(vn(r,a)){var o=cn(t,r,a,s,n);if(!o)break;a+=o.length,n++}else a++;else M.warn('[tsdemuxer]: MPEG PES unknown PTS')},e.parseID3PES=function(t,e){if(void 0!==e.pts){var r=o({},e,{type:this._avcTrack?Je:Qe,duration:Number.POSITIVE_INFINITY});t.samples.push(r)}else M.warn('[tsdemuxer]: ID3 PES unknown PTS')},t})();function Ln(t,e,r,i){return{key:t,frame:!1,pts:e,dts:r,units:[],debug:i,length:0}}function Rn(t,e){return((31&t[e+1])<<8)+t[e+2]}function An(t,e){return(31&t[e+10])<<8|t[e+11]}function kn(t,e,r,i){var n={audio:-1,avc:-1,id3:-1,segmentCodec:'aac'},a=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<a;){var s=Rn(t,e);switch(t[e]){case 207:if(!i){M.log('ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream');break}case 15:-1===n.audio&&(n.audio=s);break;case 21:-1===n.id3&&(n.id3=s);break;case 219:if(!i){M.log('H.264 with AES-128-CBC slice encryption found in unencrypted stream');break}case 27:-1===n.avc&&(n.avc=s);break;case 3:case 4:!0!==r.mpeg&&!0!==r.mp3?M.log('MPEG audio found, not supported in this browser'):-1===n.audio&&(n.audio=s,n.segmentCodec='mp3');break;case 36:M.warn('Unsupported HEVC stream type found')}e+=5+((15&t[e+3])<<8|t[e+4])}return n}function bn(t){var e,r,i,n,a,s=0,o=t.data;if(!t||0===t.size)return null;for(;o[0].length<19&&o.length>1;){var l=new Uint8Array(o[0].length+o[1].length);l.set(o[0]),l.set(o[1],o[0].length),o[0]=l,o.splice(1,1)}if(1===((e=o[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;var u=e[7];192&u&&(n=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&u?n-(a=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(M.warn(Math.round((n-a)/9e4)+"s delta between PTS and DTS, align them"),n=a):a=n);var h=(i=e[8])+9;if(t.size<=h)return null;t.size-=h;for(var d=new Uint8Array(t.size),c=0,f=o.length;c<f;c++){var g=(e=o[c]).byteLength;if(h){if(h>g){h-=g;continue}e=e.subarray(h),g-=h,h=0}d.set(e,s),s+=g}return r&&(r-=i+3),{data:d,pts:n,dts:a,len:r}}return null}function Dn(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var r=e.samples,i=r.length;if(!i)return void e.dropped++;var n=r[i-1];t.pts=n.pts,t.dts=n.dts}e.samples.push(t)}t.debug.length&&M.log(t.pts+'/'+t.dts+':'+t.debug)}var In=(function(t){function e(){return t.apply(this,arguments)||this}l(e,t);var r=e.prototype;return r.resetInitSegment=function(e,r,i,n){t.prototype.resetInitSegment.call(this,e,r,i,n),this._audioTrack={container:'audio/mpeg',type:'audio',id:2,pid:-1,sequenceNumber:0,segmentCodec:'mp3',samples:[],manifestCodec:r,duration:n,inputTimeScale:9e4,dropped:0}},e.probe=function(t){if(!t)return!1;for(var e=(pt(t,0)||[]).length,r=t.length;e<r;e++)if(pn(t,e))return M.log('MPEG Audio sync word found !'),!0;return!1},r.canParse=function(t,e){return mn(t,e)},r.appendFrame=function(t,e,r){if(null!==this.basePTS)return cn(t,e,r,this.basePTS,this.frameIndex)},e})(Vi),wn=(function(){function t(){}return t.getSilentFrame=function(t,e){if('mp4a.40.2'===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t})(),Cn=(Math.pow(2,32),(function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],'.mp3':[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:i};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,s,l,s,o),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,n))},t.box=function(t){for(var e=8,r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];for(var a=i.length,s=a;a--;)e+=i[a].byteLength;var o=new Uint8Array(e);for(o[0]=e>>24&255,o[1]=e>>16&255,o[2]=e>>8&255,o[3]=255&e,o.set(t,4),a=0,e=8;a<s;a++)o.set(i[a],e),e+=i[a].byteLength;return o},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var i=Math.floor(r/4294967296),n=Math.floor(r%4294967296);return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return'audio'===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,r))},t.moov=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,r){r*=e;var i=Math.floor(r/4294967296),n=Math.floor(r%4294967296),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var r,i,n=e.samples||[],a=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)i=n[r].flags,a[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r,i,n,a=[],s=[];for(r=0;r<e.sps.length;r++)n=(i=e.sps[r]).byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(i));for(r=0;r<e.pps.length;r++)n=(i=e.pps[r]).byteLength,s.push(n>>>8&255),s.push(255&n),s=s.concat(Array.prototype.slice.call(i));var o=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(s))),l=e.width,u=e.height,h=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,255&h,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types['.mp3'],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return'audio'===e.type?'mp3'===e.segmentCodec&&'mp3'===e.codec?t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,i=e.duration*e.timescale,n=e.width,a=e.height,s=Math.floor(i/4294967296),o=Math.floor(i%4294967296);return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,r){var i=t.sdtp(e),n=e.id,a=Math.floor(r/4294967296),s=Math.floor(r%4294967296);return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var i,n,a,s,o,l,u=e.samples||[],h=u.length,d=12+16*h,c=new Uint8Array(d);for(r+=8+d,c.set(['video'===e.type?1:0,0,15,1,h>>>24&255,h>>>16&255,h>>>8&255,255&h,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<h;i++)a=(n=u[i]).duration,s=n.size,o=n.flags,l=n.cts,c.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,c)},t.initSegment=function(e){t.types||t.init();var r=t.moov(e),i=new Uint8Array(t.FTYP.byteLength+r.byteLength);return i.set(t.FTYP),i.set(r,t.FTYP.byteLength),i},t})());Cn.types=void 0,Cn.HDLR_TYPES=void 0,Cn.STTS=void 0,Cn.STSC=void 0,Cn.STCO=void 0,Cn.STSZ=void 0,Cn.VMHD=void 0,Cn.SMHD=void 0,Cn.STSD=void 0,Cn.FTYP=void 0,Cn.DINF=void 0;function _n(t,e,r,i){void 0===r&&(r=1),void 0===i&&(i=!1);var n=t*e*r;return i?Math.round(n):n}function Pn(t,e){return void 0===e&&(e=!1),_n(t,1e3,11111111111111112e-21,e)}var xn=null,Fn=null,Mn=(function(){function t(t,e,r,i){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=r,this.ISGenerated=!1,null===xn){var n=(navigator.userAgent||'').match(/Chrome\/(\d+)/i);xn=n?parseInt(n[1]):0}if(null===Fn){var a=navigator.userAgent.match(/Safari\/(\d+)/i);Fn=a?parseInt(a[1]):0}}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){M.log('[mp4-remuxer]: initPTS & initDTS reset'),this._initPTS=this._initDTS=t},e.resetNextTimestamp=function(){M.log('[mp4-remuxer]: reset next timestamp'),this.isVideoContiguous=!1,this.isAudioContiguous=!1},e.resetInitSegment=function(){M.log('[mp4-remuxer]: ISGenerated flag reset'),this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,r=t.reduce(function(t,r){var i=r.pts-t;return i<-4294967296?(e=!0,On(t,r.pts)):i>0?t:r.pts},t[0].pts);return e&&M.debug('PTS rollover detected'),r},e.remux=function(t,e,r,i,n,a,s,o){var l,u,h,d,c,f,g=n,v=n,m=t.pid>-1,p=e.pid>-1,y=e.samples.length,T=t.samples.length>0,E=s&&y>0||y>1;if((!m||T)&&(!p||E)||this.ISGenerated||s){this.ISGenerated||(h=this.generateIS(t,e,n,a));var S,L=this.isVideoContiguous,R=-1;if(E&&(R=Nn(e.samples),!L&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,R>0){M.warn("[mp4-remuxer]: Dropped "+R+" out of "+y+" video samples due to a missing keyframe");var A=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(R),e.dropped+=R,S=v+=(e.samples[0].pts-A)/e.inputTimeScale}else-1===R&&(M.warn("[mp4-remuxer]: No keyframe found out of "+y+" video samples"),f=!1);if(this.ISGenerated){if(T&&E){var k=this.getVideoStartPts(e.samples),b=(On(t.samples[0].pts,k)-k)/e.inputTimeScale;g+=Math.max(0,b),v+=Math.max(0,-b)}if(T){if(t.samplerate||(M.warn('[mp4-remuxer]: regenerate InitSegment as audio detected'),h=this.generateIS(t,e,n,a)),u=this.remuxAudio(t,g,this.isAudioContiguous,a,p||E||o===Be?v:void 0),E){var D=u?u.endPTS-u.startPTS:0;e.inputTimeScale||(M.warn('[mp4-remuxer]: regenerate InitSegment as video detected'),h=this.generateIS(t,e,n,a)),l=this.remuxVideo(e,v,L,D)}}else E&&(l=this.remuxVideo(e,v,L,0));l&&(l.firstKeyFrame=R,l.independent=-1!==R,l.firstKeyFramePTS=S)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(c=Un(r,n,this._initPTS,this._initDTS)),i.samples.length&&(d=Bn(i,n,this._initPTS))),{audio:u,video:l,initSegment:h,independent:f,text:d,id3:c}},e.generateIS=function(t,e,r,i){var n,a,s,o=t.samples,l=e.samples,u=this.typeSupported,h={},d=this._initPTS,c=!d||i,f='audio/mp4';if(c&&(n=a=1/0),t.config&&o.length){if(t.timescale=t.samplerate,'mp3'===t.segmentCodec)u.mpeg?(f='audio/mpeg',t.codec=''):u.mp3&&(t.codec='mp3');h.audio={id:'audio',container:f,codec:t.codec,initSegment:'mp3'===t.segmentCodec&&u.mpeg?new Uint8Array(0):Cn.initSegment([t]),metadata:{channelCount:t.channelCount}},c&&(s=t.inputTimeScale,d&&s===d.timescale?c=!1:n=a=o[0].pts-Math.round(s*r))}if(e.sps&&e.pps&&l.length&&(e.timescale=e.inputTimeScale,h.video={id:'main',container:'video/mp4',codec:e.codec,initSegment:Cn.initSegment([e]),metadata:{width:e.width,height:e.height}},c))if(s=e.inputTimeScale,d&&s===d.timescale)c=!1;else{var g=this.getVideoStartPts(l),v=Math.round(s*r);a=Math.min(a,On(l[0].dts,g)-v),n=Math.min(n,g-v)}if(Object.keys(h).length)return this.ISGenerated=!0,c?(this._initPTS={baseTime:n,timescale:s},this._initDTS={baseTime:a,timescale:s}):n=s=void 0,{tracks:h,initPTS:n,timescale:s}},e.remuxVideo=function(t,e,r,i){var n,a,s=t.inputTimeScale,l=t.samples,u=[],h=l.length,d=this._initPTS,c=this.nextAvcDts,f=8,g=this.videoSampleDuration,v=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,p=!1;r&&null!==c||(c=e*s-(l[0].pts-On(l[0].dts,l[0].pts)));for(var y=d.baseTime*s/d.timescale,T=0;T<h;T++){var E=l[T];E.pts=On(E.pts-y,c),E.dts=On(E.dts-y,c),E.dts<l[T>0?T-1:T].dts&&(p=!0)}p&&l.sort(function(t,e){var r=t.dts-e.dts,i=t.pts-e.pts;return r||i}),n=l[0].dts;var S=(a=l[l.length-1].dts)-n,L=S?Math.round(S/(h-1)):g||t.inputTimeScale/30;if(r){var R=n-c,A=R>L,k=R<-1;if((A||k)&&(A?M.warn("AVC: "+Pn(R,!0)+" ms ("+R+"dts) hole between fragments detected, filling it"):M.warn("AVC: "+Pn(-R,!0)+" ms ("+R+"dts) overlapping between fragments detected"),!k||c>=l[0].pts)){n=c;var w=l[0].pts-R;l[0].dts=n,l[0].pts=w,M.log("Video: First PTS/DTS adjusted: "+Pn(w,!0)+"/"+Pn(n,!0)+", delta: "+Pn(R,!0)+" ms")}}n=Math.max(0,n);for(var C=0,_=0,P=0;P<h;P++){for(var x=l[P],F=x.units,O=F.length,N=0,U=0;U<O;U++)N+=F[U].data.length;_+=N,C+=O,x.length=N,x.dts=Math.max(x.dts,n),v=Math.min(x.pts,v),m=Math.max(x.pts,m)}a=l[h-1].dts;var B,G=_+4*C+8;try{B=new Uint8Array(G)}catch(t){return void this.observer.emit(b.ERROR,b.ERROR,{type:D.MUX_ERROR,details:I.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:G,reason:"fail allocating video mdat "+G})}var K=new DataView(B.buffer);K.setUint32(0,G),B.set(Cn.types.mdat,4);for(var H=!1,V=Number.POSITIVE_INFINITY,Y=Number.POSITIVE_INFINITY,W=Number.NEGATIVE_INFINITY,j=Number.NEGATIVE_INFINITY,q=0;q<h;q++){for(var X=l[q],z=X.units,Q=0,$=0,J=z.length;$<J;$++){var Z=z[$],tt=Z.data,et=Z.data.byteLength;K.setUint32(f,et),f+=4,B.set(tt,f),f+=et,Q+=4+et}var rt=void 0;if(q<h-1)g=l[q+1].dts-X.dts,rt=l[q+1].pts-X.pts;else{var it=this.config,nt=q>0?X.dts-l[q-1].dts:L;if(rt=q>0?X.pts-l[q-1].pts:L,it.stretchShortVideoTrack&&null!==this.nextAudioPts){var at=Math.floor(it.maxBufferHole*s),st=(i?v+i*s:this.nextAudioPts)-X.pts;st>at?((g=st-nt)<0?g=nt:H=!0,M.log("[mp4-remuxer]: It is approximately "+st/90+" ms to the next segment; using duration "+g/90+" ms for the last video frame.")):g=nt}else g=nt}var ot=Math.round(X.pts-X.dts);V=Math.min(V,g),W=Math.max(W,g),Y=Math.min(Y,rt),j=Math.max(j,rt),u.push(new Kn(X.key,g,Q,ot))}if(u.length)if(xn){if(xn<70){var lt=u[0].flags;lt.dependsOn=2,lt.isNonSync=0}}else if(Fn&&j-Y<W-V&&L/W<.025&&0===u[0].cts){M.warn('Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.');for(var ut=n,ht=0,dt=u.length;ht<dt;ht++){var ct=ut+u[ht].duration,ft=ut+u[ht].cts;if(ht<dt-1){var gt=ct+u[ht+1].cts;u[ht].duration=gt-ft}else u[ht].duration=ht?u[ht-1].duration:L;u[ht].cts=0,ut=ct}}g=H||!g?L:g,this.nextAvcDts=c=a+g,this.videoSampleDuration=g,this.isVideoContiguous=!0;var vt={data1:Cn.moof(t.sequenceNumber++,n,o({},t,{samples:u})),data2:B,startPTS:v/s,endPTS:(m+g)/s,startDTS:n/s,endDTS:c/s,type:'video',hasAudio:!1,hasVideo:!0,nb:u.length,dropped:t.dropped};return t.samples=[],t.dropped=0,vt},e.remuxAudio=function(t,e,r,i,n){var a=t.inputTimeScale,s=a/(t.samplerate?t.samplerate:a),l='aac'===t.segmentCodec?1024:1152,u=l*s,h=this._initPTS,d='mp3'===t.segmentCodec&&this.typeSupported.mpeg,c=[],f=void 0!==n,g=t.samples,v=d?0:8,m=this.nextAudioPts||-1,p=e*a,y=h.baseTime*a/h.timescale;if(this.isAudioContiguous=r=r||g.length&&m>0&&(i&&Math.abs(p-m)<9e3||Math.abs(On(g[0].pts-y,p)-m)<20*u),g.forEach(function(t){t.pts=On(t.pts-y,p)}),!r||m<0){if(g=g.filter(function(t){return t.pts>=0}),!g.length)return;m=0===n?0:i&&!f?Math.max(0,p):g[0].pts}if('aac'===t.segmentCodec)for(var T=this.config.maxAudioFramesDrift,E=0,S=m;E<g.length;E++){var L=g[E],R=L.pts,A=R-S,k=Math.abs(1e3*A/a);if(A<=-T*u&&f)0===E&&(M.warn("Audio frame @ "+(R/a).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*A/a)+" ms."),this.nextAudioPts=m=S=R);else if(A>=T*u&&k<1e4&&f){var w=Math.round(A/u);(S=R-w*u)<0&&(w--,S+=u),0===E&&(this.nextAudioPts=m=S),M.warn("[mp4-remuxer]: Injecting "+w+" audio frame @ "+(S/a).toFixed(3)+"s due to "+Math.round(1e3*A/a)+" ms gap.");for(var C=0;C<w;C++){var _=Math.max(S,0),P=wn.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);P||(M.log('[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead.'),P=L.unit.subarray()),g.splice(E,0,{unit:P,pts:_}),S+=u,E++}}L.pts=S,S+=u}for(var x,F=null,O=null,N=0,U=g.length;U--;)N+=g[U].unit.byteLength;for(var B=0,G=g.length;B<G;B++){var K=g[B],H=K.unit,V=K.pts;if(null!==O){c[B-1].duration=Math.round((V-O)/s)}else{if(r&&'aac'===t.segmentCodec&&(V=m),F=V,!(N>0))return;N+=v;try{x=new Uint8Array(N)}catch(t){return void this.observer.emit(b.ERROR,b.ERROR,{type:D.MUX_ERROR,details:I.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:N,reason:"fail allocating audio mdat "+N})}d||(new DataView(x.buffer).setUint32(0,N),x.set(Cn.types.mdat,4))}x.set(H,v);var Y=H.byteLength;v+=Y,c.push(new Kn(!0,l,Y,0)),O=V}var W=c.length;if(W){var j=c[c.length-1];this.nextAudioPts=m=O+s*j.duration;var q=d?new Uint8Array(0):Cn.moof(t.sequenceNumber++,F/s,o({},t,{samples:c}));t.samples=[];var X=F/a,z=m/a,Q={data1:q,data2:x,startPTS:X,endPTS:z,startDTS:X,endDTS:z,type:'audio',hasAudio:!0,hasVideo:!1,nb:W};return this.isAudioContiguous=!0,Q}},e.remuxEmptyAudio=function(t,e,r,i){var n=t.inputTimeScale,a=n/(t.samplerate?t.samplerate:n),s=this.nextAudioPts,o=this._initDTS,l=9e4*o.baseTime/o.timescale,u=(null!==s?s:i.startDTS*n)+l,h=i.endDTS*n+l,d=1024*a,c=Math.ceil((h-u)/d),f=wn.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(M.warn('[mp4-remuxer]: remux empty Audio'),f){for(var g=[],v=0;v<c;v++){var m=u+v*d;g.push({unit:f,pts:m,dts:m})}return t.samples=g,this.remuxAudio(t,e,r,!1)}M.trace('[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec')},t})();function On(t,e){var r;if(null===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function Nn(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}function Un(t,e,r,i){var n=t.samples.length;if(n){for(var a=t.inputTimeScale,s=0;s<n;s++){var o=t.samples[s];o.pts=On(o.pts-r.baseTime*a/r.timescale,e*a)/a,o.dts=On(o.dts-i.baseTime*a/i.timescale,e*a)/a}var l=t.samples;return t.samples=[],{samples:l}}}function Bn(t,e,r){var i=t.samples.length;if(i){for(var n=t.inputTimeScale,a=0;a<i;a++){var s=t.samples[a];s.pts=On(s.pts-r.baseTime*n/r.timescale,e*n)/n}t.samples.sort(function(t,e){return t.pts-e.pts});var o=t.samples;return t.samples=[],{samples:o}}}var Gn,Kn=function(t,e,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=r,this.cts=i,this.flags=new Hn(t)},Hn=function(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1},Vn=(function(){function t(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this.initPTS=t,this.lastEndTime=null},e.resetNextTimestamp=function(){this.lastEndTime=null},e.resetInitSegment=function(t,e,r,i){this.audioCodec=e,this.videoCodec=r,this.generateInitSegment(Vt(t,i)),this.emitInitSegment=!0},e.generateInitSegment=function(t){var e=this.audioCodec,r=this.videoCodec;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var i=this.initData=Ht(t);e||(e=Wn(i.audio,V)),r||(r=Wn(i.video,Y));var n={};i.audio&&i.video?n.audiovideo={container:'video/mp4',codec:e+','+r,initSegment:t,id:'main'}:i.audio?n.audio={container:'audio/mp4',codec:e,initSegment:t,id:'audio'}:i.video?n.video={container:'video/mp4',codec:r,initSegment:t,id:'main'}:M.warn('[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes.'),this.initTracks=n},e.remux=function(t,e,r,i,n,a){var s,o,l=this.initPTS,u=this.lastEndTime,h={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};R(u)||(u=this.lastEndTime=n||0);var d=e.samples;if(null==d||!d.length)return h;var c={initPTS:void 0,timescale:1},f=this.initData;if(null!=(s=f)&&s.length||(this.generateInitSegment(d),f=this.initData),null==(o=f)||!o.length)return M.warn('[passthrough-remuxer.ts]: Failed to generate initSegment.'),h;this.emitInitSegment&&(c.tracks=this.initTracks,this.emitInitSegment=!1);var g=jt(d,f),v=Wt(f,d),m=null===v?n:v;(Yn(l,m,n,g)||c.timescale!==l.timescale&&a)&&(c.initPTS=m-n,l&&1===l.timescale&&M.warn("Adjusting initPTS by "+(c.initPTS-l.baseTime)),this.initPTS=l={baseTime:c.initPTS,timescale:1});var p=t?m-l.baseTime/l.timescale:u,y=p+g;Xt(f,d,l.baseTime/l.timescale),g>0?this.lastEndTime=y:(M.warn('Duration parsed from mp4 should be greater than zero'),this.resetNextTimestamp());var T=!!f.audio,E=!!f.video,S='';T&&(S+='audio'),E&&(S+='video');var L={data1:d,startPTS:p,startDTS:p,endPTS:y,endDTS:y,type:S,hasAudio:T,hasVideo:E,nb:1,dropped:0};return h.audio='audio'===L.type?L:void 0,h.video='audio'!==L.type?L:void 0,h.initSegment=c,h.id3=Un(r,n,l,l),i.samples.length&&(h.text=Bn(i,n,l)),h},t})();function Yn(t,e,r,i){if(null===t)return!0;var n=Math.max(i,1),a=e-t.baseTime/t.timescale;return Math.abs(a-r)>n}function Wn(t,e){var r=null==t?void 0:t.codec;return r&&r.length>4?r:'hvc1'===r||'hev1'===r?'hvc1.1.6.L120.90':'av01'===r?'av01.0.04M.08':'avc1'===r||e===Y?'avc1.42e01e':'mp4a.40.5'}try{Gn=self.performance.now.bind(self.performance)}catch(t){M.debug('Unable to use Performance API on this environment'),Gn='undefined'!=typeof self&&self.Date.now}var jn=[{demux:sn,remux:Vn},{demux:Sn,remux:Mn},{demux:nn,remux:Mn},{demux:In,remux:Mn}],qn=(function(){function t(t,e,r,i,n){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=r,this.vendor=i,this.id=n}var e=t.prototype;return e.configure=function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()},e.push=function(t,e,r,i){var n=this,a=r.transmuxing;a.executeStart=Gn();var s=new Uint8Array(t),o=this.currentTransmuxState,l=this.transmuxConfig;i&&(this.currentTransmuxState=i);var u=i||o,h=u.contiguous,d=u.discontinuity,c=u.trackSwitch,f=u.accurateTimeOffset,g=u.timeOffset,v=u.initSegmentChange,m=l.audioCodec,p=l.videoCodec,y=l.defaultInitPts,T=l.duration,E=l.initSegmentData,S=Xn(s,e);if(S&&'AES-128'===S.method){var L=this.getDecrypter();if(!L.isSync())return this.decryptionPromise=L.webCryptoDecrypt(s,S.key.buffer,S.iv.buffer).then(function(t){var e=n.push(t,null,r);return n.decryptionPromise=null,e}),this.decryptionPromise;var R=L.softwareDecrypt(s,S.key.buffer,S.iv.buffer);if(r.part>-1&&(R=L.flush()),!R)return a.executeEnd=Gn(),zn(r);s=new Uint8Array(R)}var A=this.needsProbing(d,c);if(A){var k=this.configureTransmuxer(s);if(k)return M.warn("[transmuxer] "+k.message),this.observer.emit(b.ERROR,b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:k,reason:k.message}),a.executeEnd=Gn(),zn(r)}(d||c||v||A)&&this.resetInitSegment(E,m,p,T,e),(d||v||A)&&this.resetInitialTimestamp(y),h||this.resetContiguity();var w=this.transmux(s,S,g,f,r),C=this.currentTransmuxState;return C.contiguous=!0,C.discontinuity=!1,C.trackSwitch=!1,a.executeEnd=Gn(),w},e.flush=function(t){var e=this,r=t.transmuxing;r.executeStart=Gn();var i=this.decrypter,n=this.currentTransmuxState,a=this.decryptionPromise;if(a)return a.then(function(){return e.flush(t)});var s=[],o=n.timeOffset;if(i){var l=i.flush();l&&s.push(this.push(l,null,t))}var u=this.demuxer,h=this.remuxer;if(!u||!h)return r.executeEnd=Gn(),[zn(t)];var d=u.flush(o);return Qn(d)?d.then(function(r){return e.flushRemux(s,r,t),s}):(this.flushRemux(s,d,t),s)},e.flushRemux=function(t,e,r){var i=e.audioTrack,n=e.videoTrack,a=e.id3Track,s=e.textTrack,o=this.currentTransmuxState,l=o.accurateTimeOffset,u=o.timeOffset;M.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?' p: '+r.part:'')+" of level "+r.level);var h=this.remuxer.remux(i,n,a,s,u,l,!0,this.id);t.push({remuxResult:h,chunkMeta:r}),r.transmuxing.executeEnd=Gn()},e.resetInitialTimestamp=function(t){var e=this.demuxer,r=this.remuxer;e&&r&&(e.resetTimeStamp(t),r.resetTimeStamp(t))},e.resetContiguity=function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())},e.resetInitSegment=function(t,e,r,i,n){var a=this.demuxer,s=this.remuxer;a&&s&&(a.resetInitSegment(t,e,r,i),s.resetInitSegment(t,e,r,n))},e.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},e.transmux=function(t,e,r,i,n){return e&&'SAMPLE-AES'===e.method?this.transmuxSampleAes(t,e,r,i,n):this.transmuxUnencrypted(t,r,i,n)},e.transmuxUnencrypted=function(t,e,r,i){var n=this.demuxer.demux(t,e,!1,!this.config.progressive),a=n.audioTrack,s=n.videoTrack,o=n.id3Track,l=n.textTrack;return{remuxResult:this.remuxer.remux(a,s,o,l,e,r,!1,this.id),chunkMeta:i}},e.transmuxSampleAes=function(t,e,r,i,n){var a=this;return this.demuxer.demuxSampleAes(t,e,r).then(function(t){return{remuxResult:a.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,r,i,!1,a.id),chunkMeta:n}})},e.configureTransmuxer=function(t){for(var e,r=this.config,i=this.observer,n=this.typeSupported,a=this.vendor,s=0,o=jn.length;s<o;s++)if(jn[s].demux.probe(t)){e=jn[s];break}if(!e)return new Error('Failed to find demuxer by probing fragment data');var l=this.demuxer,u=this.remuxer,h=e.remux,d=e.demux;u&&u instanceof h||(this.remuxer=new h(i,r,n,a)),l&&l instanceof d||(this.demuxer=new d(i,r,n),this.probe=d.probe)},e.needsProbing=function(t,e){return!this.demuxer||!this.remuxer||t||e},e.getDecrypter=function(){var t=this.decrypter;return t||(t=this.decrypter=new ki(this.config)),t},t})();function Xn(t,e){var r=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(r=e),r}var zn=function(t){return{remuxResult:{},chunkMeta:t}};function Qn(t){return'then'in t&&t.then instanceof Function}var $n=function(t,e,r,i,n){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=r,this.duration=i,this.defaultInitPts=n||null},Jn=function(t,e,r,i,n,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=n,this.initSegmentChange=a},Zn={exports:{}};!(function(t){var e=Object.prototype.hasOwnProperty,r='~';function i(){}function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,i,a,s){if('function'!=typeof i)throw new TypeError('The listener must be a function');var o=new n(i,a||t,s),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new i:delete t._events[e]}function o(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),o.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,a=i.length,s=new Array(a);n<a;n++)s[n]=i[n].fn;return s},o.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},o.prototype.emit=function(t,e,i,n,a,s){var o=r?r+t:t;if(!this._events[o])return!1;var l,u,h=this._events[o],d=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),d){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,n),!0;case 5:return h.fn.call(h.context,e,i,n,a),!0;case 6:return h.fn.call(h.context,e,i,n,a,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var c,f=h.length;for(u=0;u<f;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),d){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,i);break;case 4:h[u].fn.call(h[u].context,e,i,n);break;default:if(!l)for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];h[u].fn.apply(h[u].context,l)}}return!0},o.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},o.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},o.prototype.removeListener=function(t,e,i,n){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||s(this,a);else{for(var l=0,u=[],h=o.length;l<h;l++)(o[l].fn!==e||n&&!o[l].once||i&&o[l].context!==i)&&u.push(o[l]);u.length?this._events[a]=1===u.length?u[0]:u:s(this,a)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(Zn);var ta=E(Zn.exports);function ea(t,e){if(!((r=e.remuxResult).audio||r.video||r.text||r.id3||r.initSegment))return!1;var r,i=[],n=e.remuxResult,a=n.audio,s=n.video;return a&&ra(i,a),s&&ra(i,s),t.postMessage({event:'transmuxComplete',data:e},i),!0}function ra(t,e){e.data1&&t.push(e.data1.buffer),e.data2&&t.push(e.data2.buffer)}function ia(t,e,r){e.reduce(function(e,r){return ea(t,r)||e},!1)||t.postMessage({event:'transmuxComplete',data:e[0]}),t.postMessage({event:'flush',data:r})}void 0!==e&&e&&(function(t){var e=new ta,r=function(e,r){t.postMessage({event:e,data:r})};e.on(b.FRAG_DECRYPTED,r),e.on(b.ERROR,r);var i=function(){var t=function(t){var e=function(e){r('workerLog',{logType:t,message:e})};M[t]=e};for(var e in M)t(e)};t.addEventListener('message',function(n){var a=n.data;switch(a.cmd){case'init':var s=JSON.parse(a.config);t.transmuxer=new qn(e,a.typeSupported,s,a.vendor,a.id),F(s.debug,a.id),i(),r('init',null);break;case'configure':t.transmuxer.configure(a.config);break;case'demux':var o=t.transmuxer.push(a.data,a.decryptdata,a.chunkMeta,a.state);Qn(o)?(t.transmuxer.async=!0,o.then(function(e){ea(t,e)}).catch(function(t){r(b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,chunkMeta:a.chunkMeta,fatal:!1,error:t,err:t,reason:"transmuxer-worker push error"})})):(t.transmuxer.async=!1,ea(t,o));break;case'flush':var l=a.chunkMeta,u=t.transmuxer.flush(l);Qn(u)||t.transmuxer.async?(Qn(u)||(u=Promise.resolve(u)),u.then(function(e){ia(t,e,l)}).catch(function(t){r(b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,chunkMeta:a.chunkMeta,fatal:!1,error:t,err:t,reason:"transmuxer-worker flush error"})})):ia(t,u,l)}})})(self);var na=ve()||{isTypeSupported:function(){return!1}},aa=(function(){function e(e,r,i,n){var a=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var s=e.config;this.hls=e,this.id=r,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=i,this.onFlush=n;var o=function(t,e){(e=e||{}).frag=a.frag,e.id=a.id,t===b.ERROR&&(a.error=e.error),a.hls.trigger(t,e)};this.observer=new ta,this.observer.on(b.FRAG_DECRYPTED,o),this.observer.on(b.ERROR,o);var l,u,h,d,c={mp4:na.isTypeSupported('video/mp4'),mpeg:na.isTypeSupported('audio/mpeg'),mp3:na.isTypeSupported('audio/mp4; codecs="mp3"')},f=navigator.vendor;if(this.useWorker&&'undefined'!=typeof Worker&&(s.workerPath||!0)){try{s.workerPath?(M.log("loading Web Worker "+s.workerPath+" for \""+r+"\""),this.workerContext=(h=s.workerPath,d=new self.URL(h,self.location.href).href,{worker:new self.Worker(d),scriptURL:d})):(M.log("injecting Web Worker for \""+r+"\""),this.workerContext=(l=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+t.toString()+")(true);"],{type:'text/javascript'}),u=self.URL.createObjectURL(l),{worker:new self.Worker(u),objectURL:u})),this.onwmsg=function(t){return a.onWorkerMessage(t)};var g=this.workerContext.worker;g.addEventListener('message',this.onwmsg),g.onerror=function(t){var e=new Error(t.message+"  ("+t.filename+":"+t.lineno+")");s.enableWorker=!1,M.warn("Error in \""+r+"\" Web Worker, fallback to inline"),a.hls.trigger(b.ERROR,{type:D.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,fatal:!1,event:'demuxerWorker',error:e})},g.postMessage({cmd:'init',typeSupported:c,vendor:f,id:r,config:JSON.stringify(s)})}catch(t){M.warn("Error setting up \""+r+"\" Web Worker, fallback to inline",t),this.resetWorker(),this.error=null,this.transmuxer=new qn(this.observer,c,s,f,r)}return}this.transmuxer=new qn(this.observer,c,s,f,r)}var r=e.prototype;return r.resetWorker=function(){if(this.workerContext){var t=this.workerContext,e=t.worker,r=t.objectURL;r&&self.URL.revokeObjectURL(r),e.removeEventListener('message',this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}},r.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},r.push=function(t,e,r,i,n,a,s,o,l,u){var h,d,c=this;l.transmuxing.start=self.performance.now();var f=this.transmuxer,g=a?a.start:n.start,v=n.decryptdata,m=this.frag,p=!(m&&n.cc===m.cc),y=!(m&&l.level===m.level),T=m?l.sn-m.sn:-1,E=this.part?l.part-this.part.index:-1,S=0===T&&l.id>1&&l.id===(null==m?void 0:m.stats.chunkCount),L=!y&&(1===T||0===T&&(1===E||S&&E<=0)),R=self.performance.now();(y||T||0===n.stats.parsing.start)&&(n.stats.parsing.start=R),!a||!E&&L||(a.stats.parsing.start=R);var A=!(m&&(null==(h=n.initSegment)?void 0:h.url)===(null==(d=m.initSegment)?void 0:d.url)),k=new Jn(p,L,o,y,g,A);if(!L||p||A){M.log("[transmuxer-interface, "+n.type+"]: Starting new transmux session for sn: "+l.sn+" p: "+l.part+" level: "+l.level+" id: "+l.id+"\n        discontinuity: "+p+"\n        trackSwitch: "+y+"\n        contiguous: "+L+"\n        accurateTimeOffset: "+o+"\n        timeOffset: "+g+"\n        initSegmentChange: "+A);var b=new $n(r,i,e,s,u);this.configureTransmuxer(b)}if(this.frag=n,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:'demux',data:t,decryptdata:v,chunkMeta:l,state:k},t instanceof ArrayBuffer?[t]:[]);else if(f){var D=f.push(t,v,l,k);Qn(D)?(f.async=!0,D.then(function(t){c.handleTransmuxComplete(t)}).catch(function(t){c.transmuxerError(t,l,'transmuxer-interface push error')})):(f.async=!1,this.handleTransmuxComplete(D))}},r.flush=function(t){var e=this;t.transmuxing.start=self.performance.now();var r=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:'flush',chunkMeta:t});else if(r){var i=r.flush(t);Qn(i)||r.async?(Qn(i)||(i=Promise.resolve(i)),i.then(function(r){e.handleFlushResult(r,t)}).catch(function(r){e.transmuxerError(r,t,'transmuxer-interface flush error')})):this.handleFlushResult(i,t)}},r.transmuxerError=function(t,e,r){this.hls&&(this.error=t,this.hls.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:r}))},r.handleFlushResult=function(t,e){var r=this;t.forEach(function(t){r.handleTransmuxComplete(t)}),this.onFlush(e)},r.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case'init':var i,n=null==(i=this.workerContext)?void 0:i.objectURL;n&&self.URL.revokeObjectURL(n);break;case'transmuxComplete':this.handleTransmuxComplete(e.data);break;case'flush':this.onFlush(e.data);break;case'workerLog':M[e.data.logType]&&M[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},r.configureTransmuxer=function(t){var e=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:'configure',config:t}):e&&e.configure(t)},r.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},e})(),sa=(function(){function t(t,e,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=r,this.hls=i}var e=t.prototype;return e.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},e.poll=function(t,e){var r=this.config,i=this.media,n=this.stalled;if(null!==i){var a=i.currentTime,s=i.seeking,o=this.seeking&&!s,l=!this.seeking&&s;if(this.seeking=s,a===t){if(l||o)this.stalled=null;else if(!(i.paused&&!s||i.ended||0===i.playbackRate)&&di.getBuffered(i).length){var u=di.bufferInfo(i,a,0),h=u.len>0,d=u.nextStart||0;if(h||d){if(s){var c=u.len>2,f=!d||e&&e.start<=a||d-a>2&&!this.fragmentTracker.getPartialFragment(a);if(c||f)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var g,v=Math.max(d,u.start||0)-a,m=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,p=(null==m||null==(g=m.details)?void 0:g.live)?2*m.details.targetduration:2,y=this.fragmentTracker.getPartialFragment(a);if(v>0&&(v<=p||y))return void this._trySkipBufferHole(y)}var T=self.performance.now();if(null!==n){var E=T-n;if(s||!(E>=250)||(this._reportStall(u),this.media)){var S=di.bufferInfo(i,a,r.maxBufferHole);this._tryFixBufferStall(S,E)}}else this.stalled=T}}}else if(this.moved=!0,null!==n){if(this.stallReported){var L=self.performance.now()-n;M.warn("playback not stuck anymore @"+a+", after "+Math.round(L)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},e._tryFixBufferStall=function(t,e){var r=this.config,i=this.fragmentTracker,n=this.media;if(null!==n){var a=n.currentTime,s=i.getPartialFragment(a);if(s)if(this._trySkipBufferHole(s)||!this.media)return;(t.len>r.maxBufferHole||t.nextStart&&t.nextStart-a<r.maxBufferHole)&&e>1e3*r.highBufferWatchdogPeriod&&(M.warn('Trying to nudge playhead over buffer-hole'),this.stalled=null,this._tryNudgeBuffer())}},e._reportStall=function(t){var e=this.hls,r=this.media;if(!this.stallReported&&r){this.stallReported=!0;var i=new Error("Playback stalling at @"+r.currentTime+" due to low buffer ("+JSON.stringify(t)+")");M.warn(i.message),e.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:t.len})}},e._trySkipBufferHole=function(t){var e=this.config,r=this.hls,i=this.media;if(null===i)return 0;var n=i.currentTime,a=di.bufferInfo(i,n,0),s=n<a.start?a.start:a.nextStart;if(s){var o=a.len<=e.maxBufferHole,l=a.len>0&&a.len<1&&i.readyState<3,u=s-n;if(u>0&&(o||l)){if(u>e.maxBufferHole){var h=this.fragmentTracker,d=!1;if(0===n){var c=h.getAppendedFrag(0,Ue);c&&s<c.end&&(d=!0)}if(!d){var f=t||h.getAppendedFrag(n,Ue);if(f){for(var g=!1,v=f.end;v<s;){var m=h.getPartialFragment(v);if(!m){g=!0;break}v+=m.duration}if(g)return 0}}}var p=Math.max(s+.05,n+.1);if(M.warn("skipping hole, adjusting currentTime from "+n+" to "+p),this.moved=!0,this.stalled=null,i.currentTime=p,t&&!t.gap){var y=new Error("fragment loaded with buffer holes, seeking from "+n+" to "+p);r.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:t})}return p}}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,r=this.media,i=this.nudgeRetry;if(null!==r){var n=r.currentTime;if(this.nudgeRetry++,i<t.nudgeMaxRetry){var a=n+(i+1)*t.nudgeOffset,s=new Error("Nudging 'currentTime' from "+n+" to "+a);M.warn(s.message),r.currentTime=a,e.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.BUFFER_NUDGE_ON_STALL,error:s,fatal:!1})}else{var o=new Error("Playhead still not moving while enough data buffered @"+n+" after "+t.nudgeMaxRetry+" nudges");M.error(o.message),e.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}},t})(),oa=(function(t){function e(e,r,i){var n;return(n=t.call(this,e,r,i,'[stream-controller]',Ue)||this).audioCodecSwap=!1,n.gapController=null,n.level=-1,n._forceStartLoad=!1,n.altAudio=!1,n.audioOnly=!1,n.fragPlaying=null,n.onvplaying=null,n.onvseeked=null,n.fragLastKbps=0,n.couldBacktrack=!1,n.backtrackFragment=null,n.audioCodecSwitch=!1,n.videoBuffer=null,n._registerListeners(),n}l(e,t);var r=e.prototype;return r._registerListeners=function(){var t=this.hls;t.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.MANIFEST_PARSED,this.onManifestParsed,this),t.on(b.LEVEL_LOADING,this.onLevelLoading,this),t.on(b.LEVEL_LOADED,this.onLevelLoaded,this),t.on(b.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(b.ERROR,this.onError,this),t.on(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(b.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(b.BUFFER_CREATED,this.onBufferCreated,this),t.on(b.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(b.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(b.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var t=this.hls;t.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.MANIFEST_PARSED,this.onManifestParsed,this),t.off(b.LEVEL_LOADED,this.onLevelLoaded,this),t.off(b.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(b.ERROR,this.onError,this),t.off(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(b.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(b.BUFFER_CREATED,this.onBufferCreated,this),t.off(b.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(b.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(b.FRAG_BUFFERED,this.onFragBuffered,this)},r.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},r.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var i=r.startLevel;-1===i&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.nextAutoLevel),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Ii,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=Di},r.stopLoad=function(){this._forceStartLoad=!1,t.prototype.stopLoad.call(this)},r.doTick=function(){switch(this.state){case Ui:var t,e=this.levels,r=this.level,i=null==e||null==(t=e[r])?void 0:t.details;if(i&&(!i.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(i))break;this.state=Ii;break}if(this.hls.nextLoadLevel!==this.level){this.state=Ii;break}break;case _i:var n,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!=(n=this.media)&&n.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=Ii)}this.state===Ii&&this.doTickIdle(),this.onTickEnd()},r.onTickEnd=function(){t.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},r.doTickIdle=function(){var t=this.hls,e=this.levelLastLoaded,r=this.levels,i=this.media,n=t.config,a=t.nextLoadLevel;if(null!==e&&(i||!this.startFragRequested&&n.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=r&&r[a]){var s=r[a],o=this.getMainFwdBufferInfo();if(null!==o){var l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){var u={};return this.altAudio&&(u.type='video'),this.hls.trigger(b.BUFFER_EOS,u),void(this.state=Mi)}t.loadLevel!==a&&-1===t.manualLevel&&this.log("Adapting to level "+a+" from level "+this.level),this.level=t.nextLoadLevel=a;var h=s.details;if(!h||this.state===Ui||h.live&&this.levelLastLoaded!==a)return this.level=a,void(this.state=Ui);var d=o.len,c=this.getMaxBufferLength(s.maxBitrate);if(!(d>=c)){this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);var f=this.backtrackFragment?this.backtrackFragment.start:o.end,g=this.getNextFragment(f,h);if(this.couldBacktrack&&!this.fragPrevious&&g&&'initSegment'!==g.sn&&this.fragmentTracker.getState(g)!==Zr){var v,m=(null!=(v=this.backtrackFragment)?v:g).sn-h.startSN,p=h.fragments[m-1];p&&g.cc===p.cc&&(g=p,this.fragmentTracker.removeFragment(p))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(g&&this.isLoopLoading(g,f)){if(!g.gap){var y=this.audioOnly&&!this.altAudio?V:Y,T=(y===Y?this.videoBuffer:this.mediaBuffer)||this.media;T&&this.afterBufferFlushed(T,y,Ue)}g=this.getNextFragmentLoopLoading(g,h,o,Ue,c)}g&&(!g.initSegment||g.initSegment.data||this.bitrateTest||(g=g.initSegment),this.loadFragment(g,s,f))}}}},r.loadFragment=function(e,r,i){var n=this.fragmentTracker.getState(e);this.fragCurrent=e,n===Qr||n===Jr?'initSegment'===e.sn?this._loadInitSegment(e,r):this.bitrateTest?(this.log("Fragment "+e.sn+" of level "+e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(e,r)):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,i)):this.clearTrackerIfNeeded(e)},r.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,Ue)},r.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},r.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},r.nextLevelSwitch=function(){var t=this.levels,e=this.media;if(null!=e&&e.readyState){var r,i=this.getAppendedFrag(e.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);var n=this.getLevelDetails();if(null!=n&&n.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*n.targetduration)return}if(!e.paused&&t){var s=t[this.hls.nextLoadLevel],o=this.fragLastKbps;r=o&&this.fragCurrent?this.fragCurrent.duration*s.maxBitrate/(1e3*o)+1:0}else r=0;var l=this.getBufferedFrag(e.currentTime+r);if(l){var u=this.followingBufferedFrag(l);if(u){this.abortCurrentFrag();var h=u.maxStartPTS?u.maxStartPTS:u.start,d=u.duration,c=Math.max(l.end,h+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,.5*d),.75*d));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},r.abortCurrentFrag=function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case wi:case Ci:case _i:case xi:case Fi:this.state=Ii}this.nextLoadPosition=this.getLoadPosition()},r.flushMainBuffer=function(e,r){t.prototype.flushMainBuffer.call(this,e,r,this.altAudio?'video':null)},r.onMediaAttached=function(e,r){t.prototype.onMediaAttached.call(this,e,r);var i=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener('playing',this.onvplaying),i.addEventListener('seeked',this.onvseeked),this.gapController=new sa(this.config,i,this.fragmentTracker,this.hls)},r.onMediaDetaching=function(){var e=this.media;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener('playing',this.onvplaying),e.removeEventListener('seeked',this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),t.prototype.onMediaDetaching.call(this)},r.onMediaPlaying=function(){this.tick()},r.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:null;R(e)&&this.log("Media seeked to "+e.toFixed(3));var r=this.getMainFwdBufferInfo();null!==r&&0!==r.len?this.tick():this.warn("Main forward buffer length on \"seeked\" event "+(r?r.len:'empty')+")")},r.onManifestLoading=function(){this.log('Trigger BUFFER_RESET'),this.hls.trigger(b.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1},r.onManifestParsed=function(t,e){var r,i,n,a=!1,s=!1;e.levels.forEach(function(t){(r=t.audioCodec)&&(-1!==r.indexOf('mp4a.40.2')&&(a=!0),-1!==r.indexOf('mp4a.40.5')&&(s=!0))}),this.audioCodecSwitch=a&&s&&!('function'==typeof(null==(n=Gi())||null==(i=n.prototype)?void 0:i.changeType)),this.audioCodecSwitch&&this.log('Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC'),this.levels=e.levels,this.startFragRequested=!1},r.onLevelLoading=function(t,e){var r=this.levels;if(r&&this.state===Ii){var i=r[e.level];(!i.details||i.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(i.details))&&(this.state=Ui)}},r.onLevelLoaded=function(t,e){var r,i=this.levels,n=e.level,a=e.details,s=a.totalduration;if(i){this.log("Level "+n+" loaded ["+a.startSN+","+a.endSN+"]"+(a.lastPartSn?"[part-"+a.lastPartSn+"-"+a.lastPartIndex+"]":'')+", cc ["+a.startCC+", "+a.endCC+"] duration:"+s);var o=i[n],l=this.fragCurrent;!l||this.state!==Ci&&this.state!==_i||l.level===e.level&&l.urlId===o.urlId||!l.loader||this.abortCurrentFrag();var u=0;if(a.live||null!=(r=o.details)&&r.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,o.details)}if(o.details=a,this.levelLastLoaded=n,this.hls.trigger(b.LEVEL_UPDATED,{details:a,level:n}),this.state===Ui){if(this.waitForCdnTuneIn(a))return;this.state=Ii}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}else this.warn("Levels were reset while loading level "+n)},r._handleFragmentLoadProgress=function(t){var e,r=t.frag,i=t.part,n=t.payload,a=this.levels;if(a){var s=a[r.level],o=s.details;if(!o)return this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset"),void this.fragmentTracker.removeFragment(r);var l=s.videoCodec,u=o.PTSKnown||!o.live,h=null==(e=r.initSegment)?void 0:e.data,d=this._getAudioCodec(s),c=this.transmuxer=this.transmuxer||new aa(this.hls,Ue,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=i?i.index:-1,g=-1!==f,v=new ci(r.level,r.sn,r.stats.chunkCount,n.byteLength,f,g),m=this.initPTS[r.cc];c.push(n,h,d,l,r,i,o.totalduration,u,v,m)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r.onAudioTrackSwitching=function(t,e){var r=this.altAudio;if(!!!e.url){if(this.mediaBuffer!==this.media){this.log('Switching on main audio, use media.buffered to schedule main fragment loading'),this.mediaBuffer=this.media;var i=this.fragCurrent;i&&(this.log('Switching to main audio track, cancel main fragment load'),i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var n=this.hls;r&&(n.trigger(b.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),n.trigger(b.AUDIO_TRACK_SWITCHED,e)}},r.onAudioTrackSwitched=function(t,e){var r=e.id,i=!!this.hls.audioTracks[r].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(this.log('Switching on alternate audio, use video.buffered to schedule main fragment loading'),this.mediaBuffer=n)}this.altAudio=i,this.tick()},r.onBufferCreated=function(t,e){var r,i,n=e.tracks,a=!1;for(var s in n){var o=n[s];if('main'===o.id){if(i=s,r=o,'video'===s){var l=n[s];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&r?(this.log("Alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},r.onFragBuffered=function(t,e){var r=e.frag,i=e.part;if(!r||r.type===Ue){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(i?' p: '+i.index:'')+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Fi&&(this.state=Ii));var n=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*n.total/(n.buffering.end-n.loading.first)),'initSegment'!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}},r.onError=function(t,e){var r;if(e.fatal)this.state=Oi;else switch(e.details){case I.FRAG_GAP:case I.FRAG_PARSING_ERROR:case I.FRAG_DECRYPT_ERROR:case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ue,e);break;case I.LEVEL_LOAD_ERROR:case I.LEVEL_LOAD_TIMEOUT:case I.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==Ui||(null==(r=e.context)?void 0:r.type)!==Me||(this.state=Ii);break;case I.BUFFER_FULL_ERROR:if(!e.parent||'main'!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case I.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}},r.checkBuffer=function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){if(this.loadedmetadata||!di.getBuffered(t).length){var r=this.state!==Ii?this.fragCurrent:null;e.poll(this.lastCurrentTime,r)}this.lastCurrentTime=t.currentTime}},r.onFragLoadEmergencyAborted=function(){this.state=Ii,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},r.onBufferFlushed=function(t,e){var r=e.type;if(r!==V||this.audioOnly&&!this.altAudio){var i=(r===Y?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(i,r,Ue)}},r.onLevelsUpdated=function(t,e){this.levels=e.levels},r.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.seekToStartPos=function(){var t=this.media;if(t){var e=t.currentTime,r=this.startPosition;if(r>=0&&e<r){if(t.seeking)return void this.log("could not seek to "+r+", already seeking at "+e);var i=di.getBuffered(t),n=(i.length?i.start(0):0)-r;n>0&&(n<this.config.maxBufferHole||n<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+n+" to match buffer start"),r+=n,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+e),t.currentTime=r}}},r._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log('Swapping audio codec'),e=-1!==e.indexOf('mp4a.40.5')?'mp4a.40.2':'mp4a.40.5'),e},r._loadBitrateTestFrag=function(t,e){var r=this;t.bitrateTest=!0,this._doFragLoad(t,e).then(function(i){var n=r.hls;if(i&&!r.fragContextChanged(t)){e.fragmentError=0,r.state=Ii,r.startFragRequested=!1,r.bitrateTest=!1;var a=t.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),n.trigger(b.FRAG_LOADED,i),t.bitrateTest=!1}})},r._handleTransmuxComplete=function(t){var e,r='main',i=this.hls,n=t.remuxResult,a=t.chunkMeta,s=this.getCurrentContext(a);if(s){var o=s.frag,l=s.part,u=s.level,h=n.video,d=n.text,c=n.id3,f=n.initSegment,g=u.details,v=this.altAudio?void 0:n.audio;if(this.fragContextChanged(o))this.fragmentTracker.removeFragment(o);else{if(this.state=xi,f){if(null!=f&&f.tracks){var m=o.initSegment||o;this._bufferInitSegment(u,f.tracks,m,a),i.trigger(b.FRAG_PARSING_INIT_SEGMENT,{frag:m,id:r,tracks:f.tracks})}var p=f.initPTS,y=f.timescale;R(p)&&(this.initPTS[o.cc]={baseTime:p,timescale:y},i.trigger(b.INIT_PTS_FOUND,{frag:o,id:r,initPTS:p,timescale:y}))}if(h&&g&&'initSegment'!==o.sn){var T=g.fragments[o.sn-1-g.startSN],E=o.sn===g.startSN,S=!T||o.cc>T.cc;if(!1!==n.independent){var L=h.startPTS,A=h.endPTS,k=h.startDTS,D=h.endDTS;if(l)l.elementaryStreams[h.type]={startPTS:L,endPTS:A,startDTS:k,endDTS:D};else if(h.firstKeyFrame&&h.independent&&1===a.id&&!S&&(this.couldBacktrack=!0),h.dropped&&h.independent){var I=this.getMainFwdBufferInfo(),w=(I?I.end:this.getLoadPosition())+this.config.maxBufferHole,C=h.firstKeyFramePTS?h.firstKeyFramePTS:L;if(!E&&w<C-this.config.maxBufferHole&&!S)return void this.backtrack(o);S&&(o.gap=!0),o.setElementaryStreamInfo(h.type,o.start,A,o.start,D,!0)}o.setElementaryStreamInfo(h.type,L,A,k,D),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(h,o,l,a,E||S)}else{if(!E&&!S)return void this.backtrack(o);o.gap=!0}}if(v){var _=v.startPTS,P=v.endPTS,x=v.startDTS,F=v.endDTS;l&&(l.elementaryStreams[V]={startPTS:_,endPTS:P,startDTS:x,endDTS:F}),o.setElementaryStreamInfo(V,_,P,x,F),this.bufferFragmentData(v,o,l,a)}if(g&&null!=c&&null!=(e=c.samples)&&e.length){var M={id:r,frag:o,details:g,samples:c.samples};i.trigger(b.FRAG_PARSING_METADATA,M)}if(g&&d){var O={id:r,frag:o,details:g,samples:d.samples};i.trigger(b.FRAG_PARSING_USERDATA,O)}}}else this.resetWhenMissingContext(a)},r._bufferInitSegment=function(t,e,r,i){var n=this;if(this.state===xi){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var a=e.audio,s=e.video,o=e.audiovideo;if(a){var l=t.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf('mp4a.40.5')?'mp4a.40.2':'mp4a.40.5'),1!==a.metadata.channelCount&&-1===u.indexOf('firefox')&&(l='mp4a.40.5')),-1!==u.indexOf('android')&&'audio/mpeg'!==a.container&&(l='mp4a.40.2',this.log("Android: force audio codec to "+l)),t.audioCodec&&t.audioCodec!==l&&this.log("Swapping manifest audio codec \""+t.audioCodec+"\" for \""+l+"\""),a.levelCodec=l,a.id='main',this.log("Init audio buffer, container:"+a.container+", codecs[selected/level/parsed]=["+(l||'')+"/"+(t.audioCodec||'')+"/"+a.codec+"]")}s&&(s.levelCodec=t.videoCodec,s.id='main',this.log("Init video buffer, container:"+s.container+", codecs[level/parsed]=["+(t.videoCodec||'')+"/"+s.codec+"]")),o&&this.log("Init audiovideo buffer, container:"+o.container+", codecs[level/parsed]=["+(t.attrs.CODECS||'')+"/"+o.codec+"]"),this.hls.trigger(b.BUFFER_CODECS,e),Object.keys(e).forEach(function(t){var a=e[t].initSegment;null!=a&&a.byteLength&&n.hls.trigger(b.BUFFER_APPENDING,{type:t,data:a,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tick()}},r.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Ue)},r.backtrack=function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Ii},r.checkFragmentChanged=function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var r=t.currentTime;if(di.isBuffered(t,r)?e=this.getAppendedFrag(r):di.isBuffered(t,r+.1)&&(e=this.getAppendedFrag(r+.1)),e){this.backtrackFragment=null;var i=this.fragPlaying,n=e.level;i&&e.sn===i.sn&&i.level===n&&e.urlId===i.urlId||(this.fragPlaying=e,this.hls.trigger(b.FRAG_CHANGED,{frag:e}),i&&i.level===n||this.hls.trigger(b.LEVEL_SWITCHED,{level:n}))}}},a(e,[{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}},{key:"currentProgramDateTime",get:function(){var t=this.media;if(t){var e=t.currentTime,r=this.currentFrag;if(r&&R(e)&&R(r.programDateTime)){var i=r.programDateTime+1e3*(e-r.start);return new Date(i)}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),e})(Bi),la=(function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=r}var e=t.prototype;return e.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},t})(),ua=(function(){function t(t,e,r,i){void 0===i&&(i=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new la(t),this.fast_=new la(e),this.defaultTTFB_=i,this.ttfb_=new la(t)}var e=t.prototype;return e.update=function(t,e){var r=this.slow_,i=this.fast_,n=this.ttfb_;r.halfLife!==t&&(this.slow_=new la(t,r.getEstimate(),r.getTotalWeight())),i.halfLife!==e&&(this.fast_=new la(e,i.getEstimate(),i.getTotalWeight())),n.halfLife!==t&&(this.ttfb_=new la(t,n.getEstimate(),n.getTotalWeight()))},e.sample=function(t,e){var r=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/r;this.fast_.sample(r,i),this.slow_.sample(r,i)},e.sampleTTFB=function(t){var e=t/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(r,Math.max(t,5))},e.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},e.destroy=function(){},t})(),ha=(function(){function t(t){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var e=t.config;this.bwEstimator=new ua(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(b.FRAG_LOADING,this.onFragLoading,this),t.on(b.FRAG_LOADED,this.onFragLoaded,this),t.on(b.FRAG_BUFFERED,this.onFragBuffered,this),t.on(b.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(b.LEVEL_LOADED,this.onLevelLoaded,this)},e.unregisterListeners=function(){var t=this.hls;t.off(b.FRAG_LOADING,this.onFragLoading,this),t.off(b.FRAG_LOADED,this.onFragLoaded,this),t.off(b.FRAG_BUFFERED,this.onFragBuffered,this),t.off(b.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(b.LEVEL_LOADED,this.onLevelLoaded,this)},e.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},e.onFragLoading=function(t,e){var r,i=e.frag;this.ignoreFragment(i)||(this.fragCurrent=i,this.partCurrent=null!=(r=e.part)?r:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))},e.onLevelSwitching=function(t,e){this.clearTimer()},e.getTimeToLoadFrag=function(t,e,r,i){return t+r/e+(i?this.lastLevelLoadSec:0)},e.onLevelLoaded=function(t,e){var r=this.hls.config,i=e.stats,n=i.total,a=i.bwEstimate;R(n)&&R(a)&&(this.lastLevelLoadSec=8*n/a),e.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},e._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,i=r.autoLevelEnabled,n=r.media;if(t&&n){var a=performance.now(),s=e?e.stats:t.stats,o=e?e.duration:t.duration,l=a-s.loading.start;if(s.aborted||s.loaded&&s.loaded===s.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!n.paused&&n.playbackRate&&n.readyState){var u=r.mainForwardBufferInfo;if(null!==u){var h=this.bwEstimator.getEstimateTTFB(),d=Math.abs(n.playbackRate);if(!(l<=Math.max(h,o/(2*d)*1e3))){var c=u.len/d;if(!(c>=2*o/d)){var f=s.loading.first?s.loading.first-s.loading.start:-1,g=s.loaded&&f>-1,v=this.bwEstimator.getEstimate(),m=r.levels,p=r.minAutoLevel,y=m[t.level],T=s.total||Math.max(s.loaded,Math.round(o*y.maxBitrate/8)),E=l-f;E<1&&g&&(E=Math.min(l,8*s.loaded/v));var S=g?1e3*s.loaded/E:0,L=S?(T-s.loaded)/S:8*T/v+h/1e3;if(!(L<=c)){var A,k=S?8*S:v,D=Number.POSITIVE_INFINITY;for(A=t.level-1;A>p;A--){var I=m[A].maxBitrate;if((D=this.getTimeToLoadFrag(h/1e3,k,o*I,!m[A].details))<c)break}D>=L||D>10*o||(r.nextLoadLevel=A,g?this.bwEstimator.sample(l-Math.min(h,f),s.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),M.warn("[abr] Fragment "+t.sn+(e?' part '+e.index:'')+" of level "+t.level+" is loading too slowly;\n      Time to underbuffer: "+c.toFixed(3)+" s\n      Estimated load time for current fragment: "+L.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+D.toFixed(3)+" s\n      TTFB estimate: "+f+"\n      Current BW estimate: "+(R(v)?(v/1024).toFixed(3):'Unknown')+" Kb/s\n      New BW estimate: "+(this.bwEstimator.getEstimate()/1024).toFixed(3)+" Kb/s\n      Aborting and switching to level "+A),t.loader&&(this.fragCurrent=this.partCurrent=null,t.abortRequests()),r.trigger(b.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:s}))}}}}}}},e.onFragLoaded=function(t,e){var r=e.frag,i=e.part,n=i?i.stats:r.stats;if(r.type===Ue&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var a=i?i.duration:r.duration,s=this.hls.levels[r.level],o=(s.loaded?s.loaded.bytes:0)+n.loaded,l=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:l},s.realBitrate=Math.round(8*o/l)}if(r.bitrateTest){var u={stats:n,frag:r,part:i,id:r.type};this.onFragBuffered(b.FRAG_BUFFERED,u),r.bitrateTest=!1}}},e.onFragBuffered=function(t,e){var r=e.frag,i=e.part,n=null!=i&&i.stats.loaded?i.stats:r.stats;if(!n.aborted&&!this.ignoreFragment(r)){var a=n.parsing.end-n.loading.start-Math.min(n.loading.first-n.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,n.loaded),n.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},e.ignoreFragment=function(t){return t.type!==Ue||'initSegment'===t.sn},e.clearTimer=function(){self.clearInterval(this.timer)},e.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,r=this.hls,i=r.maxAutoLevel,n=r.config,a=r.minAutoLevel,s=r.media,o=e?e.duration:t?t.duration:0,l=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,h=r.mainForwardBufferInfo,d=(h?h.len:0)/l,c=this.findBestLevel(u,a,i,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor);if(c>=0)return c;M.trace("[abr] "+(d?'rebuffering expected':'buffer is empty')+", finding optimal quality level");var f=o?Math.min(o,n.maxStarvationDelay):n.maxStarvationDelay,g=n.abrBandWidthFactor,v=n.abrBandWidthUpFactor;if(!d){var m=this.bitrateTestDelay;if(m)f=(o?Math.min(o,n.maxLoadingDelay):n.maxLoadingDelay)-m,M.trace("[abr] bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),g=v=1}return c=this.findBestLevel(u,a,i,d+f,g,v),Math.max(c,0)},e.findBestLevel=function(t,e,r,i,n,a){for(var s,o=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,h=this.hls.levels,d=h[u],c=!(null==d||null==(s=d.details)||!s.live),f=null==d?void 0:d.codecSet,g=l?l.duration:o?o.duration:0,v=this.bwEstimator.getEstimateTTFB()/1e3,m=e,p=-1,y=r;y>=e;y--){var T=h[y];if(!T||f&&T.codecSet!==f)T&&(m=Math.min(y,m),p=Math.max(y,p));else{-1!==p&&M.trace("[abr] Skipped level(s) "+m+"-"+p+" with CODECS:\""+h[p].attrs.CODECS+"\"; not compatible with \""+d.attrs.CODECS+"\"");var E=T.details,S=(l?null==E?void 0:E.partTarget:null==E?void 0:E.averagetargetduration)||g,L=void 0;L=y<=u?n*t:a*t;var A=h[y].maxBitrate,k=this.getTimeToLoadFrag(v,L,A*S,void 0===E);if(M.trace("[abr] level:"+y+" adjustedbw-bitrate:"+Math.round(L-A)+" avgDuration:"+S.toFixed(1)+" maxFetchDuration:"+i.toFixed(1)+" fetchDuration:"+k.toFixed(1)),L>A&&(0===k||!R(k)||c&&!this.bitrateTestDelay||k<i))return y}}return-1},a(t,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&!e.canEstimate())return t;var r=this.getNextABRAutoLevel();if(-1!==t){var i=this.hls.levels;if(i.length>Math.max(t,r)&&i[t].loadError<=i[r].loadError)return t}return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}}]),t})(),da=(function(){function t(){this.chunks=[],this.dataLength=0}var e=t.prototype;return e.push=function(t){this.chunks.push(t),this.dataLength+=t.length},e.flush=function(){var t,e=this.chunks,r=this.dataLength;return e.length?(t=1===e.length?e[0]:ca(e,r),this.reset(),t):new Uint8Array(0)},e.reset=function(){this.chunks.length=0,this.dataLength=0},t})();function ca(t,e){for(var r=new Uint8Array(e),i=0,n=0;n<t.length;n++){var a=t[n];r.set(a,i),i+=a.length}return r}var fa=(function(t){function e(e,r,i){var n;return(n=t.call(this,e,r,i,'[audio-stream-controller]',Be)||this).videoBuffer=null,n.videoTrackCC=-1,n.waitingVideoCC=-1,n.bufferedTrack=null,n.switchingTrack=null,n.trackId=-1,n.waitingData=null,n.mainDetails=null,n.bufferFlushed=!1,n.cachedTrackLoadedData=null,n._registerListeners(),n}l(e,t);var r=e.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null},r._registerListeners=function(){var t=this.hls;t.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.LEVEL_LOADED,this.onLevelLoaded,this),t.on(b.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(b.ERROR,this.onError,this),t.on(b.BUFFER_RESET,this.onBufferReset,this),t.on(b.BUFFER_CREATED,this.onBufferCreated,this),t.on(b.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(b.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(b.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var t=this.hls;t.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.LEVEL_LOADED,this.onLevelLoaded,this),t.off(b.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(b.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(b.ERROR,this.onError,this),t.off(b.BUFFER_RESET,this.onBufferReset,this),t.off(b.BUFFER_CREATED,this.onBufferCreated,this),t.off(b.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(b.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(b.FRAG_BUFFERED,this.onFragBuffered,this)},r.onInitPtsFound=function(t,e){var r=e.frag,i=e.id,n=e.initPTS,a=e.timescale;if('main'===i){var s=r.cc;this.initPTS[r.cc]={baseTime:n,timescale:a},this.log("InitPTS for cc: "+s+" found from main: "+n),this.videoTrackCC=s,this.state===Ni&&this.tick()}},r.startLoad=function(t){if(!this.levels)return this.startPosition=t,void(this.state=Di);var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e,this.state=Ii):(this.loadedmetadata=!1,this.state=Pi),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()},r.doTick=function(){switch(this.state){case Ii:this.doTickIdle();break;case Pi:var e,r=this.levels,i=this.trackId,n=null==r||null==(e=r[i])?void 0:e.details;if(n){if(this.waitForCdnTuneIn(n))break;this.state=Ni}break;case _i:var a,s=performance.now(),o=this.retryDate;(!o||s>=o||null!=(a=this.media)&&a.seeking)&&(this.log('RetryDate reached, switch back to IDLE state'),this.resetStartWhenNotLoaded(this.trackId),this.state=Ii);break;case Ni:var l=this.waitingData;if(l){var u=l.frag,h=l.part,d=l.cache,c=l.complete;if(void 0!==this.initPTS[u.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Ci;var f={frag:u,part:h,payload:d.flush(),networkDetails:null};this._handleFragmentLoadProgress(f),c&&t.prototype._handleFragmentLoadComplete.call(this,f)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+u.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var g=this.getLoadPosition(),v=di.bufferInfo(this.mediaBuffer,g,this.config.maxBufferHole);Fr(v.end,this.config.maxFragLookUpTolerance,u)<0&&(this.log("Waiting fragment cc ("+u.cc+") @ "+u.start+" cancelled because another fragment at "+v.end+" is needed"),this.clearWaitingFragment())}}else this.state=Ii}this.onTickEnd()},r.clearWaitingFragment=function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Ii)},r.resetLoadingState=function(){this.clearWaitingFragment(),t.prototype.resetLoadingState.call(this)},r.onTickEnd=function(){var t=this.media;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)},r.doTickIdle=function(){var t=this.hls,e=this.levels,r=this.media,i=this.trackId,n=t.config;if(null!=e&&e[i]&&(r||!this.startFragRequested&&n.startFragPrefetch)){var a=e[i],s=a.details;if(!s||s.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(s))this.state=Pi;else{var o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,V,Be));var l=this.getFwdBufferInfo(o,Be);if(null!==l){var u=this.bufferedTrack,h=this.switchingTrack;if(!h&&this._streamEnded(l,s))return t.trigger(b.BUFFER_EOS,{type:'audio'}),void(this.state=Mi);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Ue),c=l.len,f=this.getMaxBufferLength(null==d?void 0:d.len);if(!(c>=f)||h){var g=s.fragments[0].start,v=l.end;if(h&&r){var m=this.getLoadPosition();u&&h.attrs!==u.attrs&&(v=m),s.PTSKnown&&m<g&&(l.end>g||l.nextStart)&&(this.log('Alt audio track ahead of main track, seek to start of alt audio track'),r.currentTime=g+.05)}var p=this.getNextFragment(v,s),y=!1;if(p&&this.isLoopLoading(p,v)&&(y=!!p.gap,p=this.getNextFragmentLoopLoading(p,s,l,Ue,f)),p){var T=d&&p.start>d.end+s.targetduration;if(T||(null==d||!d.len)&&l.len){var E=this.getAppendedFrag(p.start,Ue);if(null===E)return;if(y||(y=!!E.gap||!!T&&0===d.len),T&&!y||y&&l.nextStart&&l.nextStart<E.end)return}this.loadFragment(p,a,v)}else this.bufferFlushed=!0}}}}},r.getMaxBufferLength=function(e){var r=t.prototype.getMaxBufferLength.call(this);return e?Math.min(Math.max(r,e),this.config.maxMaxBufferLength):r},r.onMediaDetaching=function(){this.videoBuffer=null,t.prototype.onMediaDetaching.call(this)},r.onAudioTracksUpdated=function(t,e){var r=e.audioTracks;this.resetTransmuxer(),this.levels=r.map(function(t){return new cr(t)})},r.onAudioTrackSwitching=function(t,e){var r=!!e.url;this.trackId=e.id;var i=this.fragCurrent;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.switchingTrack=e,this.state=Ii):(this.switchingTrack=null,this.bufferedTrack=e,this.state=Di),this.tick()},r.onManifestLoading=function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1},r.onLevelLoaded=function(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(b.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},r.onAudioTrackLoaded=function(t,e){var r;if(null!=this.mainDetails){var i=this.levels,n=e.details,a=e.id;if(i){this.log("Track "+a+" loaded ["+n.startSN+","+n.endSN+"]"+(n.lastPartSn?"[part-"+n.lastPartSn+"-"+n.lastPartIndex+"]":'')+",duration:"+n.totalduration);var s=i[a],o=0;if(n.live||null!=(r=s.details)&&r.live){this.checkLiveUpdate(n);var l=this.mainDetails;if(n.deltaUpdateFailed||!l)return;!s.details&&n.hasProgramDateTime&&l.hasProgramDateTime?(Si(n,l),o=n.fragments[0].start):o=this.alignPlaylists(n,s.details)}s.details=n,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(s.details,o),this.state!==Pi||this.waitForCdnTuneIn(n)||(this.state=Ii),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)}else this.cachedTrackLoadedData=e},r._handleFragmentLoadProgress=function(t){var e,r=t.frag,i=t.part,n=t.payload,a=this.config,s=this.trackId,o=this.levels;if(o){var l=o[s];if(l){var u=l.details;if(!u)return this.warn('Audio track details undefined on fragment load progress'),void this.removeUnbufferedFrags(r.start);var h=a.defaultAudioCodec||l.audioCodec||'mp4a.40.2',d=this.transmuxer;d||(d=this.transmuxer=new aa(this.hls,Be,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var c=this.initPTS[r.cc],f=null==(e=r.initSegment)?void 0:e.data;if(void 0!==c){var g=i?i.index:-1,v=-1!==g,m=new ci(r.level,r.sn,r.stats.chunkCount,n.byteLength,g,v);d.push(n,f,h,'',r,i,u.totalduration,!1,m,c)}else{this.log("Unknown video PTS for cc "+r.cc+", waiting for video PTS before demuxing audio frag "+r.sn+" of ["+u.startSN+" ,"+u.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:r,part:i,cache:new da,complete:!1}).cache.push(new Uint8Array(n)),this.waitingVideoCC=this.videoTrackCC,this.state=Ni}}else this.warn('Audio track is undefined on fragment load progress')}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r._handleFragmentLoadComplete=function(e){this.waitingData?this.waitingData.complete=!0:t.prototype._handleFragmentLoadComplete.call(this,e)},r.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.onBufferCreated=function(t,e){var r=e.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)},r.onFragBuffered=function(t,e){var r=e.frag,n=e.part;if(r.type===Be)if(this.fragContextChanged(r))this.warn("Fragment "+r.sn+(n?' p: '+n.index:'')+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:'false'));else{if('initSegment'!==r.sn){this.fragPrevious=r;var a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(b.AUDIO_TRACK_SWITCHED,i({},a)))}this.fragBufferedComplete(r,n)}else if(!this.loadedmetadata&&r.type===Ue){var s=this.videoBuffer||this.media;if(s)di.getBuffered(s).length&&(this.loadedmetadata=!0)}},r.onError=function(e,r){var i;if(r.fatal)this.state=Oi;else switch(r.details){case I.FRAG_GAP:case I.FRAG_PARSING_ERROR:case I.FRAG_DECRYPT_ERROR:case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Be,r);break;case I.AUDIO_TRACK_LOAD_ERROR:case I.AUDIO_TRACK_LOAD_TIMEOUT:case I.LEVEL_PARSING_ERROR:r.levelRetry||this.state!==Pi||(null==(i=r.context)?void 0:i.type)!==Oe||(this.state=Ii);break;case I.BUFFER_FULL_ERROR:if(!r.parent||'audio'!==r.parent)return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,'audio'));break;case I.INTERNAL_EXCEPTION:this.recoverWorkerError(r)}},r.onBufferFlushed=function(t,e){e.type===V&&(this.bufferFlushed=!0,this.state===Mi&&(this.state=Ii))},r._handleTransmuxComplete=function(t){var e,r='audio',i=this.hls,n=t.remuxResult,a=t.chunkMeta,s=this.getCurrentContext(a);if(s){var l=s.frag,u=s.part,h=s.level.details,d=n.audio,c=n.text,f=n.id3,g=n.initSegment;if(!this.fragContextChanged(l)&&h){if(this.state=xi,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=g&&g.tracks){var v=l.initSegment||l;this._bufferInitSegment(g.tracks,v,a),i.trigger(b.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:r,tracks:g.tracks})}if(d){var m=d.startPTS,p=d.endPTS,y=d.startDTS,T=d.endDTS;u&&(u.elementaryStreams[V]={startPTS:m,endPTS:p,startDTS:y,endDTS:T}),l.setElementaryStreamInfo(V,m,p,y,T),this.bufferFragmentData(d,l,u,a)}if(null!=f&&null!=(e=f.samples)&&e.length){var E=o({id:r,frag:l,details:h},f);i.trigger(b.FRAG_PARSING_METADATA,E)}if(c){var S=o({id:r,frag:l,details:h},c);i.trigger(b.FRAG_PARSING_USERDATA,S)}}else this.fragmentTracker.removeFragment(l)}else this.resetWhenMissingContext(a)},r._bufferInitSegment=function(t,e,r){if(this.state===xi){t.video&&delete t.video;var i=t.audio;if(i){i.levelCodec=i.codec,i.id='audio',this.log("Init audio buffer, container:"+i.container+", codecs[parsed]=["+i.codec+"]"),this.hls.trigger(b.BUFFER_CODECS,t);var n=i.initSegment;if(null!=n&&n.byteLength){var a={type:'audio',frag:e,part:null,chunkMeta:r,parent:e.type,data:n};this.hls.trigger(b.BUFFER_APPENDING,a)}this.tick()}}},r.loadFragment=function(e,r,i){var n,a=this.fragmentTracker.getState(e);(this.fragCurrent=e,this.switchingTrack||a===Qr||a===Jr)?'initSegment'===e.sn?this._loadInitSegment(e,r):null!=(n=r.details)&&n.live&&!this.initPTS[e.cc]?(this.log("Waiting for video PTS in continuity counter "+e.cc+" of live stream before loading audio fragment "+e.sn+" of level "+this.trackId),this.state=Ni):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,i)):this.clearTrackerIfNeeded(e)},r.completeAudioSwitch=function(e){var r=this.hls,n=this.media,a=this.bufferedTrack,s=null==a?void 0:a.attrs,o=e.attrs;n&&s&&(s.CHANNELS!==o.CHANNELS||s.NAME!==o.NAME||s.LANGUAGE!==o.LANGUAGE)&&(this.log('Switching audio track : flushing all audio'),t.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,'audio')),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(b.AUDIO_TRACK_SWITCHED,i({},e))},e})(Bi),ga=(function(t){function e(e){var r;return(r=t.call(this,e,'[audio-track-controller]')||this).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.registerListeners(),r}l(e,t);var r=e.prototype;return r.registerListeners=function(){var t=this.hls;t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.MANIFEST_PARSED,this.onManifestParsed,this),t.on(b.LEVEL_LOADING,this.onLevelLoading,this),t.on(b.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(b.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.MANIFEST_PARSED,this.onManifestParsed,this),t.off(b.LEVEL_LOADING,this.onLevelLoading,this),t.off(b.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(b.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(b.ERROR,this.onError,this)},r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,t.prototype.destroy.call(this)},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0},r.onManifestParsed=function(t,e){this.tracks=e.audioTracks||[]},r.onAudioTrackLoaded=function(t,e){var r=e.id,i=e.groupId,n=e.details,a=this.tracksInGroup[r];if(a&&a.groupId===i){var s=a.details;a.details=e.details,this.log("audio-track "+r+" \""+a.name+"\" lang:"+a.lang+" group:"+i+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&this.playlistLoaded(r,e,s)}else this.warn("Track with id:"+r+" and group:"+i+" not found in active group "+a.groupId)},r.onLevelLoading=function(t,e){this.switchLevel(e.level)},r.onLevelSwitching=function(t,e){this.switchLevel(e.level)},r.switchLevel=function(t){var e=this.hls.levels[t];if(null!=e&&e.audioGroupIds){var r=e.audioGroupIds[e.urlId];if(this.groupId!==r){this.groupId=r||null;var i=this.tracks.filter(function(t){return!r||t.groupId===r});this.selectDefaultTrack&&!i.some(function(t){return t.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var n={audioTracks:i};this.log("Updating audio tracks, "+i.length+" track(s) found in group:"+r),this.hls.trigger(b.AUDIO_TRACKS_UPDATED,n),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}},r.onError=function(t,e){!e.fatal&&e.context&&e.context.type===Oe&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))},r.setAudioTrack=function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn('Invalid id passed to audio-track controller');else{this.clearTimer();var r=this.currentTrack;e[this.trackId];var n=e[t],a=n.groupId,s=n.name;if(this.log("Switching to audio-track "+t+" \""+s+"\" lang:"+n.lang+" group:"+a),this.trackId=t,this.currentTrack=n,this.selectDefaultTrack=!1,this.hls.trigger(b.AUDIO_TRACK_SWITCHING,i({},n)),!n.details||n.details.live){var o=this.switchParams(n.url,null==r?void 0:r.details);this.loadPlaylist(o)}}},r.selectInitialTrack=function(){var t=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{var r=new Error("No track found for running audio group-ID: "+this.groupId+" track count: "+t.length);this.warn(r.message),this.hls.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:r})}},r.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var i=e[r];if(!this.selectDefaultTrack||i.default){if(!t||void 0!==t.attrs['STABLE-RENDITION-ID']&&t.attrs['STABLE-RENDITION-ID']===i.attrs['STABLE-RENDITION-ID'])return i.id;if(t.name===i.name&&t.lang===i.lang)return i.id}}return-1},r.loadPlaylist=function(e){t.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){var i=r.id,n=r.groupId,a=r.url;if(e)try{a=e.addDirectives(a)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("loading audio-track playlist "+i+" \""+r.name+"\" lang:"+r.lang+" group:"+n),this.clearTimer(),this.hls.trigger(b.AUDIO_TRACK_LOADING,{url:a,id:i,groupId:n,deliveryDirectives:e||null})}},a(e,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}}]),e})(jr);function va(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!ma(t[r].attrs,e[r].attrs))return!1;return!0}function ma(t,e){var r=t['STABLE-RENDITION-ID'];return r?r===e['STABLE-RENDITION-ID']:!['LANGUAGE','NAME','CHARACTERISTICS','AUTOSELECT','DEFAULT','FORCED'].some(function(r){return t[r]!==e[r]})}var pa=(function(t){function e(e,r,i){var n;return(n=t.call(this,e,r,i,'[subtitle-stream-controller]',Ge)||this).levels=[],n.currentTrackId=-1,n.tracksBuffered=[],n.mainDetails=null,n._registerListeners(),n}l(e,t);var r=e.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},r._registerListeners=function(){var t=this.hls;t.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.LEVEL_LOADED,this.onLevelLoaded,this),t.on(b.ERROR,this.onError,this),t.on(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(b.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(b.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(b.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var t=this.hls;t.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.LEVEL_LOADED,this.onLevelLoaded,this),t.off(b.ERROR,this.onError,this),t.off(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(b.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(b.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(b.FRAG_BUFFERED,this.onFragBuffered,this)},r.startLoad=function(t){this.stopLoad(),this.state=Ii,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()},r.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},r.onMediaDetaching=function(){this.tracksBuffered=[],t.prototype.onMediaDetaching.call(this)},r.onLevelLoaded=function(t,e){this.mainDetails=e.details},r.onSubtitleFragProcessed=function(t,e){var r=e.frag,i=e.success;if(this.fragPrevious=r,this.state=Ii,i){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var a,s=r.start,o=0;o<n.length;o++)if(s>=n[o].start&&s<=n[o].end){a=n[o];break}var l=r.start+r.duration;a?a.end=l:(a={start:s,end:l},n.push(a)),this.fragmentTracker.fragBuffered(r)}}},r.onBufferFlushing=function(t,e){var r=e.startOffset,i=e.endOffset;if(0===r&&i!==Number.POSITIVE_INFINITY){var n=i-1;if(n<=0)return;e.endOffsetSubtitles=Math.max(0,n),this.tracksBuffered.forEach(function(t){for(var e=0;e<t.length;)if(t[e].end<=n)t.shift();else{if(!(t[e].start<n))break;t[e].start=n,e++}}),this.fragmentTracker.removeFragmentsInRange(r,n,Ge)}},r.onFragBuffered=function(t,e){var r;this.loadedmetadata||e.frag.type!==Ue||null!=(r=this.media)&&r.buffered.length&&(this.loadedmetadata=!0)},r.onError=function(t,e){var r=e.frag;(null==r?void 0:r.type)===Ge&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Di&&(this.state=Ii))},r.onSubtitleTracksUpdated=function(t,e){var r=this,i=e.subtitleTracks;va(this.levels,i)?this.levels=i.map(function(t){return new cr(t)}):(this.tracksBuffered=[],this.levels=i.map(function(t){var e=new cr(t);return r.tracksBuffered[e.id]=[],e}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ge),this.fragPrevious=null,this.mediaBuffer=null)},r.onSubtitleTrackSwitch=function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(t,e){var r,i=e.details,n=e.id,a=this.currentTrackId,s=this.levels;if(s.length){var o=s[a];if(!(n>=s.length||n!==a)&&o){this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(i.live||null!=(r=o.details)&&r.live){var u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;var h=u.fragments[0];o.details?0===(l=this.alignPlaylists(i,o.details))&&h&&Er(i,l=h.start):i.hasProgramDateTime&&u.hasProgramDateTime?(Si(i,u),l=i.fragments[0].start):h&&Er(i,l=h.start)}if(o.details=i,this.levelLastLoaded=n,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(o.details,l),this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===Ii)xr(null,i.fragments,this.media.currentTime,0)||(this.warn('Subtitle playlist not aligned with playback'),o.details=void 0)}}},r._handleFragmentLoadComplete=function(t){var e=this,r=t.frag,i=t.payload,n=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&i&&i.byteLength>0&&n&&n.key&&n.iv&&'AES-128'===n.method){var s=performance.now();this.decrypter.decrypt(new Uint8Array(i),n.key.buffer,n.iv.buffer).catch(function(t){throw a.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:r}),t}).then(function(t){var e=performance.now();a.trigger(b.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:s,tdecrypt:e}})}).catch(function(t){e.warn(t.name+": "+t.message),e.state=Ii})}},r.doTick=function(){if(this.media){if(this.state===Ii){var t=this.currentTrackId,e=this.levels,r=e[t];if(!e.length||!r||!r.details)return;var i=this.config,n=this.getLoadPosition(),a=di.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],n,i.maxBufferHole),s=a.end,o=a.len,l=this.getFwdBufferInfo(this.media,Ue),u=r.details;if(o>this.getMaxBufferLength(null==l?void 0:l.len)+u.levelTargetDuration)return;var h=u.fragments,d=h.length,c=u.edge,f=null,g=this.fragPrevious;if(s<c){var v=i.maxFragLookUpTolerance,m=s>c-v?0:v;!(f=xr(g,h,Math.max(h[0].start,s),m))&&g&&g.start<h[0].start&&(f=h[0])}else f=h[d-1];if(!f)return;if('initSegment'!==(f=this.mapToInitFragWhenRequired(f)).sn){var p=h[f.sn-u.startSN-1];p&&p.cc===f.cc&&this.fragmentTracker.getState(p)===Qr&&(f=p)}this.fragmentTracker.getState(f)===Qr&&this.loadFragment(f,r,s)}}else this.state=Ii},r.getMaxBufferLength=function(e){var r=t.prototype.getMaxBufferLength.call(this);return e?Math.max(r,e):r},r.loadFragment=function(e,r,i){this.fragCurrent=e,'initSegment'===e.sn?this._loadInitSegment(e,r):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,r,i))},a(e,[{key:"mediaBufferTimeRanges",get:function(){return new ya(this.tracksBuffered[this.currentTrackId]||[])}}]),e})(Bi),ya=function(t){this.buffered=void 0;var e=function(e,r,i){if((r>>>=0)>i-1)throw new DOMException("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+r+") is greater than the maximum bound ("+i+")");return t[r][e]};this.buffered={get length(){return t.length},end:function(r){return e('end',r,t.length)},start:function(r){return e('start',r,t.length)}}},Ta=(function(t){function e(e){var r;return(r=t.call(this,e,'[subtitle-track-controller]')||this).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}l(e,t);var r=e.prototype;return r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,t.prototype.destroy.call(this)},r.registerListeners=function(){var t=this.hls;t.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.MANIFEST_PARSED,this.onManifestParsed,this),t.on(b.LEVEL_LOADING,this.onLevelLoading,this),t.on(b.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(b.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.MANIFEST_PARSED,this.onManifestParsed,this),t.off(b.LEVEL_LOADING,this.onLevelLoading,this),t.off(b.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(b.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(b.ERROR,this.onError,this)},r.onMediaAttached=function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&'onchange'in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener('change',this.asyncPollTrackChange))},r.pollTrackChange=function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)},r.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener('change',this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Ea(this.media.textTracks).forEach(function(t){je(t)}),this.subtitleTrack=-1,this.media=null)},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},r.onManifestParsed=function(t,e){this.tracks=e.subtitleTracks},r.onSubtitleTrackLoaded=function(t,e){var r=e.id,i=e.details,n=this.trackId,a=this.tracksInGroup[n];if(a){var s=a.details;a.details=e.details,this.log("subtitle track "+r+" loaded ["+i.startSN+"-"+i.endSN+"]"),r===this.trackId&&this.playlistLoaded(r,e,s)}else this.warn("Invalid subtitle track id "+r)},r.onLevelLoading=function(t,e){this.switchLevel(e.level)},r.onLevelSwitching=function(t,e){this.switchLevel(e.level)},r.switchLevel=function(t){var e=this.hls.levels[t];if(null!=e&&e.textGroupIds){var r=e.textGroupIds[e.urlId],i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==r){var n=this.tracks.filter(function(t){return!r||t.groupId===r});this.tracksInGroup=n;var a=this.findTrackId(null==i?void 0:i.name)||this.findTrackId();this.groupId=r||null;var s={subtitleTracks:n};this.log("Updating subtitle tracks, "+n.length+" track(s) found in \""+r+"\" group-id"),this.hls.trigger(b.SUBTITLE_TRACKS_UPDATED,s),-1!==a&&this.setSubtitleTrack(a,i)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId,i)}},r.findTrackId=function(t){for(var e=this.tracksInGroup,r=0;r<e.length;r++){var i=e[r];if((!this.selectDefaultTrack||i.default)&&(!t||t===i.name))return i.id}return-1},r.onError=function(t,e){!e.fatal&&e.context&&e.context.type===Ne&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)},r.loadPlaylist=function(e){t.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){var i=r.id,n=r.groupId,a=r.url;if(e)try{a=e.addDirectives(a)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("Loading subtitle playlist for id "+i),this.hls.trigger(b.SUBTITLE_TRACK_LOADING,{url:a,id:i,groupId:n,deliveryDirectives:e||null})}},r.toggleTrackModes=function(t){var e=this,r=this.media,i=this.trackId;if(r){var n=Ea(r.textTracks),a=n.filter(function(t){return t.groupId===e.groupId});if(-1===t)[].slice.call(n).forEach(function(t){t.mode='disabled'});else{var s=a[i];s&&(s.mode='disabled')}var o=a[t];o&&(o.mode=this.subtitleDisplay?'showing':'hidden')}},r.setSubtitleTrack=function(t,e){var r,i=this.tracksInGroup;if(this.media){if(this.trackId!==t&&this.toggleTrackModes(t),!(this.trackId===t&&(-1===t||null!=(r=i[t])&&r.details)||t<-1||t>=i.length)){this.clearTimer();var n=i[t];if(this.log("Switching to subtitle-track "+t+(n?" \""+n.name+"\" lang:"+n.lang+" group:"+n.groupId:'')),this.trackId=t,n){var a=n.id,s=n.groupId,o=void 0===s?'':s,l=n.name,u=n.type,h=n.url;this.hls.trigger(b.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:u,url:h});var d=this.switchParams(n.url,null==e?void 0:e.details);this.loadPlaylist(d)}else this.hls.trigger(b.SUBTITLE_TRACK_SWITCH,{id:t})}}else this.queuedDefaultTrack=t},r.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=Ea(this.media.textTracks),r=0;r<e.length;r++)if('hidden'===e[r].mode)t=r;else if('showing'===e[r].mode){t=r;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}},a(e,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1;var e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}}]),e})(jr);function Ea(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];'subtitles'!==i.kind&&'captions'!==i.kind||!i.label||e.push(t[r])}return e}var Sa=(function(){function t(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}var e=t.prototype;return e.append=function(t,e){var r=this.queues[e];r.push(t),1===r.length&&this.buffers[e]&&this.executeNext(e)},e.insertAbort=function(t,e){this.queues[e].unshift(t),this.executeNext(e)},e.appendBlocker=function(t){var e,r=new Promise(function(t){e=t}),i={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(i,t),r},e.executeNext=function(t){var e=this.buffers,r=this.queues,i=e[t],n=r[t];if(n.length){var a=n[0];try{a.execute()}catch(e){M.warn('[buffer-operation-queue]: Unhandled exception executing the current operation'),a.onError(e),null!=i&&i.updating||(n.shift(),this.executeNext(t))}}},e.shiftAndExecuteNext=function(t){this.queues[t].shift(),this.executeNext(t)},e.current=function(t){return this.queues[t][0]},t})(),La=ve(),Ra=/([ha]vc.)(?:\.[^.,]+)+/,Aa=(function(){function t(t){var e=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=e.media,r=e.mediaSource;M.log('[buffer-controller]: Media source opened'),t&&(t.removeEventListener('emptied',e._onMediaEmptied),e.updateMediaElementDuration(),e.hls.trigger(b.MEDIA_ATTACHED,{media:t})),r&&r.removeEventListener('sourceopen',e._onMediaSourceOpen),e.checkPendingTracks()},this._onMediaSourceClose=function(){M.log('[buffer-controller]: Media source closed')},this._onMediaSourceEnded=function(){M.log('[buffer-controller]: Media source ended')},this._onMediaEmptied=function(){var t=e.media,r=e._objectUrl;t&&t.src!==r&&M.error("Media element src was set while attaching MediaSource ("+r+" > "+t.src+")")},this.hls=t,this._initSourceBuffer(),this.registerListeners()}var e=t.prototype;return e.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},e.registerListeners=function(){var t=this.hls;t.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.MANIFEST_PARSED,this.onManifestParsed,this),t.on(b.BUFFER_RESET,this.onBufferReset,this),t.on(b.BUFFER_APPENDING,this.onBufferAppending,this),t.on(b.BUFFER_CODECS,this.onBufferCodecs,this),t.on(b.BUFFER_EOS,this.onBufferEos,this),t.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(b.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(b.FRAG_PARSED,this.onFragParsed,this),t.on(b.FRAG_CHANGED,this.onFragChanged,this)},e.unregisterListeners=function(){var t=this.hls;t.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.MANIFEST_PARSED,this.onManifestParsed,this),t.off(b.BUFFER_RESET,this.onBufferReset,this),t.off(b.BUFFER_APPENDING,this.onBufferAppending,this),t.off(b.BUFFER_CODECS,this.onBufferCodecs,this),t.off(b.BUFFER_EOS,this.onBufferEos,this),t.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(b.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(b.FRAG_PARSED,this.onFragParsed,this),t.off(b.FRAG_CHANGED,this.onFragChanged,this)},e._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new Sa(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},e.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},e.onManifestParsed=function(t,e){var r=2;(e.audio&&!e.video||!e.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,M.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},e.onMediaAttaching=function(t,e){var r=this.media=e.media;if(r&&La){var i=this.mediaSource=new La;i.addEventListener('sourceopen',this._onMediaSourceOpen),i.addEventListener('sourceended',this._onMediaSourceEnded),i.addEventListener('sourceclose',this._onMediaSourceClose),r.src=self.URL.createObjectURL(i),this._objectUrl=r.src,r.addEventListener('emptied',this._onMediaEmptied)}},e.onMediaDetaching=function(){var t=this.media,e=this.mediaSource,r=this._objectUrl;if(e){if(M.log('[buffer-controller]: media source detaching'),'open'===e.readyState)try{e.endOfStream()}catch(t){M.warn("[buffer-controller]: onMediaDetaching: "+t.message+" while calling endOfStream")}this.onBufferReset(),e.removeEventListener('sourceopen',this._onMediaSourceOpen),e.removeEventListener('sourceended',this._onMediaSourceEnded),e.removeEventListener('sourceclose',this._onMediaSourceClose),t&&(t.removeEventListener('emptied',this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),t.src===r?(t.removeAttribute('src'),t.load()):M.warn('[buffer-controller]: media.src was changed by a third party - skip cleanup')),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(b.MEDIA_DETACHED,void 0)},e.onBufferReset=function(){var t=this;this.getSourceBufferTypes().forEach(function(e){var r=t.sourceBuffer[e];try{r&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(r),t.sourceBuffer[e]=void 0)}catch(t){M.warn("[buffer-controller]: Failed to reset the "+e+" buffer",t)}}),this._initSourceBuffer()},e.onBufferCodecs=function(t,e){var r=this,i=this.getSourceBufferTypes().length;Object.keys(e).forEach(function(t){if(i){var n=r.tracks[t];if(n&&'function'==typeof n.buffer.changeType){var a=e[t],s=a.id,o=a.codec,l=a.levelCodec,u=a.container,h=a.metadata,d=(n.levelCodec||n.codec).replace(Ra,'$1'),c=(l||o).replace(Ra,'$1');if(d!==c){var f=u+";codecs="+(l||o);r.appendChangeType(t,f),M.log("[buffer-controller]: switching codec "+d+" to "+c),r.tracks[t]={buffer:n.buffer,codec:o,container:u,levelCodec:l,metadata:h,id:s}}}}else r.pendingTracks[t]=e[t]}),i||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&'open'===this.mediaSource.readyState&&this.checkPendingTracks())},e.appendChangeType=function(t,e){var r=this,i=this.operationQueue,n={execute:function(){var n=r.sourceBuffer[t];n&&(M.log("[buffer-controller]: changing "+t+" sourceBuffer type to "+e),n.changeType(e)),i.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){M.warn("[buffer-controller]: Failed to change "+t+" SourceBuffer type",e)}};i.append(n,t)},e.onBufferAppending=function(t,e){var r=this,i=this.hls,n=this.operationQueue,a=this.tracks,s=e.data,o=e.type,l=e.frag,u=e.part,h=e.chunkMeta,d=h.buffering[o],c=self.performance.now();d.start=c;var f=l.stats.buffering,g=u?u.stats.buffering:null;0===f.start&&(f.start=c),g&&0===g.start&&(g.start=c);var v=a.audio,m=!1;'audio'===o&&'audio/mpeg'===(null==v?void 0:v.container)&&(m=!this.lastMpegAudioChunk||1===h.id||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);var p=l.start,y={execute:function(){if(d.executeStart=self.performance.now(),m){var t=r.sourceBuffer[o];if(t){var e=p-t.timestampOffset;Math.abs(e)>=.1&&(M.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+p+" (delta: "+e+") sn: "+l.sn+")"),t.timestampOffset=p)}}r.appendExecutor(s,o)},onStart:function(){},onComplete:function(){var t=self.performance.now();d.executeEnd=d.end=t,0===f.first&&(f.first=t),g&&0===g.first&&(g.first=t);var e=r.sourceBuffer,i={};for(var n in e)i[n]=di.getBuffered(e[n]);r.appendError=0,r.hls.trigger(b.BUFFER_APPENDED,{type:o,frag:l,part:u,chunkMeta:h,parent:l.type,timeRanges:i})},onError:function(t){M.error("[buffer-controller]: Error encountered while trying to append to the "+o+" SourceBuffer",t);var e={type:D.MEDIA_ERROR,parent:l.type,details:I.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:h,error:t,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=I.BUFFER_FULL_ERROR:(r.appendError++,e.details=I.BUFFER_APPEND_ERROR,r.appendError>i.config.appendErrorMaxRetry&&(M.error("[buffer-controller]: Failed "+i.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),e.fatal=!0)),i.trigger(b.ERROR,e)}};n.append(y,o)},e.onBufferFlushing=function(t,e){var r=this,i=this.operationQueue,n=function(t){return{execute:r.removeExecutor.bind(r,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(b.BUFFER_FLUSHED,{type:t})},onError:function(e){M.warn("[buffer-controller]: Failed to remove from "+t+" SourceBuffer",e)}}};e.type?i.append(n(e.type),e.type):this.getSourceBufferTypes().forEach(function(t){i.append(n(t),t)})},e.onFragParsed=function(t,e){var r=this,i=e.frag,n=e.part,a=[],s=n?n.elementaryStreams:i.elementaryStreams;s[W]?a.push('audiovideo'):(s[V]&&a.push('audio'),s[Y]&&a.push('video'));0===a.length&&M.warn("Fragments must have at least one ElementaryStreamType set. type: "+i.type+" level: "+i.level+" sn: "+i.sn),this.blockBuffers(function(){var t=self.performance.now();i.stats.buffering.end=t,n&&(n.stats.buffering.end=t);var e=n?n.stats:i.stats;r.hls.trigger(b.FRAG_BUFFERED,{frag:i,part:n,stats:e,id:i.type})},a)},e.onFragChanged=function(t,e){this.flushBackBuffer()},e.onBufferEos=function(t,e){var r=this;this.getSourceBufferTypes().reduce(function(t,i){var n=r.sourceBuffer[i];return!n||e.type&&e.type!==i||(n.ending=!0,n.ended||(n.ended=!0,M.log("[buffer-controller]: "+i+" sourceBuffer now EOS"))),t&&!(n&&!n.ended)},!0)&&(M.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){r.getSourceBufferTypes().forEach(function(t){var e=r.sourceBuffer[t];e&&(e.ending=!1)});var t=r.mediaSource;t&&'open'===t.readyState?(M.log("[buffer-controller]: Calling mediaSource.endOfStream()"),t.endOfStream()):t&&M.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+t.readyState)}))},e.onLevelUpdated=function(t,e){var r=e.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},e.flushBackBuffer=function(){var t=this.hls,e=this.details,r=this.media,i=this.sourceBuffer;if(r&&null!==e){var n=this.getSourceBufferTypes();if(n.length){var a=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(R(a)&&!(a<0)){var s=r.currentTime,o=e.levelTargetDuration,l=Math.max(a,o),u=Math.floor(s/o)*o-l;n.forEach(function(r){var n=i[r];if(n){var a=di.getBuffered(n);if(a.length>0&&u>a.start(0)){if(t.trigger(b.BACK_BUFFER_REACHED,{bufferEnd:u}),e.live)t.trigger(b.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(n.ended&&a.end(a.length-1)-s<2*o)return void M.info("[buffer-controller]: Cannot flush "+r+" back buffer while SourceBuffer is in ended state");t.trigger(b.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:r})}}})}}}},e.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&'open'===this.mediaSource.readyState){var t=this.details,e=this.hls,r=this.media,i=this.mediaSource,n=t.fragments[0].start+t.totalduration,a=r.duration,s=R(i.duration)?i.duration:0;t.live&&e.config.liveDurationInfinity?(M.log('[buffer-controller]: Media Source duration is set to Infinity'),i.duration=1/0,this.updateSeekableRange(t)):(n>s&&n>a||!R(a))&&(M.log("[buffer-controller]: Updating Media Source duration to "+n.toFixed(3)),i.duration=n)}},e.updateSeekableRange=function(t){var e=this.mediaSource,r=t.fragments;if(r.length&&t.live&&null!=e&&e.setLiveSeekableRange){var i=Math.max(0,r[0].start),n=Math.max(i,i+t.totalduration);e.setLiveSeekableRange(i,n)}},e.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,r=this.pendingTracks,i=Object.keys(r).length;if(i&&!t||2===i){this.createSourceBuffers(r),this.pendingTracks={};var n=this.getSourceBufferTypes();if(n.length)this.hls.trigger(b.BUFFER_CREATED,{tracks:this.tracks}),n.forEach(function(t){e.executeNext(t)});else{var a=new Error('could not create source buffer for media codec(s)');this.hls.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}},e.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error('createSourceBuffers called when mediaSource was null');for(var i in t)if(!e[i]){var n=t[i];if(!n)throw Error("source buffer exists for track "+i+", however track does not");var a=n.levelCodec||n.codec,s=n.container+";codecs="+a;M.log("[buffer-controller]: creating sourceBuffer("+s+")");try{var o=e[i]=r.addSourceBuffer(s),l=i;this.addBufferListener(l,'updatestart',this._onSBUpdateStart),this.addBufferListener(l,'updateend',this._onSBUpdateEnd),this.addBufferListener(l,'error',this._onSBUpdateError),this.tracks[i]={buffer:o,codec:a,container:n.container,levelCodec:n.levelCodec,metadata:n.metadata,id:n.id}}catch(t){M.error("[buffer-controller]: error while trying to add sourceBuffer: "+t.message),this.hls.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,mimeType:s})}}},e._onSBUpdateStart=function(t){this.operationQueue.current(t).onStart()},e._onSBUpdateEnd=function(t){var e=this.operationQueue;e.current(t).onComplete(),e.shiftAndExecuteNext(t)},e._onSBUpdateError=function(t,e){var r=new Error(t+" SourceBuffer error");M.error("[buffer-controller]: "+r,e),this.hls.trigger(b.ERROR,{type:D.MEDIA_ERROR,details:I.BUFFER_APPENDING_ERROR,error:r,fatal:!1});var i=this.operationQueue.current(t);i&&i.onError(e)},e.removeExecutor=function(t,e,r){var i=this.media,n=this.mediaSource,a=this.operationQueue,s=this.sourceBuffer[t];if(!i||!n||!s)return M.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(t);var o=R(i.duration)?i.duration:1/0,l=R(n.duration)?n.duration:1/0,u=Math.max(0,e),h=Math.min(r,o,l);h>u&&!s.ending?(s.ended=!1,M.log("[buffer-controller]: Removing ["+u+","+h+"] from the "+t+" SourceBuffer"),s.remove(u,h)):a.shiftAndExecuteNext(t)},e.appendExecutor=function(t,e){var r=this.operationQueue,i=this.sourceBuffer[e];if(!i)return M.warn("[buffer-controller]: Attempting to append to the "+e+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(e);i.ended=!1,i.appendBuffer(t)},e.blockBuffers=function(t,e){var r=this;if(void 0===e&&(e=this.getSourceBufferTypes()),!e.length)return M.log('[buffer-controller]: Blocking operation requested, but no SourceBuffers exist'),void Promise.resolve().then(t);var i=this.operationQueue,n=e.map(function(t){return i.appendBlocker(t)});Promise.all(n).then(function(){t(),e.forEach(function(t){var e=r.sourceBuffer[t];null!=e&&e.updating||i.shiftAndExecuteNext(t)})})},e.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},e.addBufferListener=function(t,e,r){var i=this.sourceBuffer[t];if(i){var n=r.bind(this,t);this.listeners[t].push({event:e,listener:n}),i.addEventListener(e,n)}},e.removeBufferListeners=function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach(function(t){e.removeEventListener(t.event,t.listener)})},t})(),ka={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ba=function(t){var e=t;return ka.hasOwnProperty(t)&&(e=ka[t]),String.fromCharCode(e)},Da=15,Ia=100,wa={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ca={17:2,18:4,21:6,22:8,23:10,19:13,20:15},_a={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Pa={25:2,26:4,29:6,30:8,31:10,27:13,28:15},xa=['white','green','blue','cyan','red','yellow','magenta','black','transparent'],Fa=(function(){function t(){this.time=null,this.verboseLevel=0}return t.prototype.log=function(t,e){if(this.verboseLevel>=t){var r='function'==typeof e?e():e;M.log(this.time+" ["+t+"] "+r)}},t})(),Ma=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},Oa=(function(){function t(t,e,r,i,n){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||'white',this.underline=e||!1,this.italics=r||!1,this.background=i||'black',this.flash=n||!1}var e=t.prototype;return e.reset=function(){this.foreground='white',this.underline=!1,this.italics=!1,this.background='black',this.flash=!1},e.setStyles=function(t){for(var e=['foreground','underline','italics','background','flash'],r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(this[i]=t[i])}},e.isDefault=function(){return'white'===this.foreground&&!this.underline&&!this.italics&&'black'===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return'color='+this.foreground+', underline='+this.underline+', italics='+this.italics+', background='+this.background+', flash='+this.flash},t})(),Na=(function(){function t(t,e,r,i,n,a){this.uchar=void 0,this.penState=void 0,this.uchar=t||' ',this.penState=new Oa(e,r,i,n,a)}var e=t.prototype;return e.reset=function(){this.uchar=' ',this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return' '===this.uchar&&this.penState.isDefault()},t})(),Ua=(function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<Ia;e++)this.chars.push(new Na);this.logger=t,this.pos=0,this.currPenState=new Oa}var e=t.prototype;return e.equals=function(t){for(var e=!0,r=0;r<Ia;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<Ia;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<Ia;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,'Negative cursor position '+this.pos),this.pos=0):this.pos>Ia&&(this.logger.log(3,'Too large cursor position '+this.pos),this.pos=Ia)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(' ',this.currPenState)},e.insertChar=function(t){var e=this;t>=144&&this.backSpace();var r=ba(t);this.pos>=Ia?this.logger.log(0,function(){return'Cannot insert '+t.toString(16)+' ('+r+') at position '+e.pos+'. Skipping it!'}):(this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<Ia;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,r=0;r<Ia;r++){var i=this.chars[r].uchar;' '!==i&&(e=!1),t.push(i)}return e?'':t.join('')},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t})(),Ba=(function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<Da;e++)this.rows.push(new Ua(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<Da;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,r=0;r<Da;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<Da;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<Da;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(2,'setCursor: '+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(2,function(){return'pacData = '+JSON.stringify(t)});var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<Da;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var a=n.rows[i].cueStartTime,s=this.logger.time;if(a&&null!==s&&a<s)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(n.rows[i+o])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var u=t.indent,h=Math.max(u-1,0);l.setCursor(t.indent),t.color=l.chars[h].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:'black',flash:!1};this.setPen(d)},e.setBkgData=function(t){this.logger.log(2,function(){return'bkgData = '+JSON.stringify(t)}),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){var t=this;if(null!==this.nrRollUpRows){this.logger.log(1,function(){return t.getDisplayText()});var e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,'Rolling up')}else this.logger.log(3,'roll_up but nrRollUpRows not set yet')},e.getDisplayText=function(t){t=t||!1;for(var e=[],r='',i=-1,n=0;n<Da;n++){var a=this.rows[n].getTextString();a&&(i=n+1,t?e.push('Row '+i+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(r=t?'['+e.join(' | ')+']':e.join('\n')),r},e.getTextAndFormat=function(){return this.rows},t})(),Ga=(function(){function t(t,e,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Ba(r),this.nonDisplayedMemory=new Ba(r),this.lastOutputScreen=new Ba(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(2,function(){return'MODE='+t}),'MODE_POP-ON'===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),'MODE_ROLL-UP'!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=this,r=0;r<t.length;r++)this.writeScreen.insertChar(t[r]);var i=this.writeScreen===this.displayedMemory?'DISP':'NON_DISP';this.logger.log(2,function(){return i+': '+e.writeScreen.getDisplayText(!0)}),'MODE_PAINT-ON'!==this.mode&&'MODE_ROLL-UP'!==this.mode||(this.logger.log(1,function(){return'DISPLAYED: '+e.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(2,'RCL - Resume Caption Loading'),this.setMode('MODE_POP-ON')},e.ccBS=function(){this.logger.log(2,'BS - BackSpace'),'MODE_TEXT'!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(2,'DER- Delete to End of Row'),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(2,'RU('+t+') - Roll Up'),this.writeScreen=this.displayedMemory,this.setMode('MODE_ROLL-UP'),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(2,'FON - Flash On'),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(2,'RDC - Resume Direct Captioning'),this.setMode('MODE_PAINT-ON')},e.ccTR=function(){this.logger.log(2,'TR'),this.setMode('MODE_TEXT')},e.ccRTD=function(){this.logger.log(2,'RTD'),this.setMode('MODE_TEXT')},e.ccEDM=function(){this.logger.log(2,'EDM - Erase Displayed Memory'),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(2,'CR - Carriage Return'),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(2,'ENM - Erase Non-displayed Memory'),this.nonDisplayedMemory.reset()},e.ccEOC=function(){var t=this;if(this.logger.log(2,'EOC - End Of Caption'),'MODE_POP-ON'===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,function(){return'DISP: '+t.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(2,'TO('+t+') - Tab Offset'),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground='white';else{var r=Math.floor(t/2)-16;e.foreground=['white','green','blue','cyan','red','yellow','magenta'][r]}this.logger.log(2,'MIDROW: '+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t})(),Ka=(function(){function t(t,e,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new Fa;this.channels=[null,new Ga(t,e,i),new Ga(t+1,r,i)],this.cmdHistory={a:null,b:null},this.logger=i}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var r,i,n,a=!1;this.logger.time=t;for(var s=0;s<e.length;s+=2)if(i=127&e[s],n=127&e[s+1],0!==i||0!==n){if(this.logger.log(3,'['+Ma([e[s],e[s+1]])+'] -> ('+Ma([i,n])+')'),(r=this.parseCmd(i,n))||(r=this.parseMidrow(i,n)),r||(r=this.parsePAC(i,n)),r||(r=this.parseBackgroundAttributes(i,n)),!r&&(a=this.parseChars(i,n))){var o=this.currentChannel;if(o&&o>0)this.channels[o].insertChars(a);else this.logger.log(2,'No channel found yet. TEXT-MODE?')}r||a||this.logger.log(2,"Couldn't parse cleaned data "+Ma([i,n])+' orig: '+Ma([e[s],e[s+1]]))}},e.parseCmd=function(t,e){var r=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(Va(t,e,r))return Ha(null,null,r),this.logger.log(3,'Repeated command ('+Ma([t,e])+') is dropped'),!0;var i=20===t||21===t||23===t?1:2,n=this.channels[i];return 20===t||21===t||28===t||29===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),Ha(t,e,r),this.currentChannel=i,!0},e.parseMidrow=function(t,e){var r=0;if((17===t||25===t)&&e>=32&&e<=47){if((r=17===t?1:2)!==this.currentChannel)return this.logger.log(0,'Mismatch channel in midrow parsing'),!1;var i=this.channels[r];return!!i&&(i.ccMIDROW(e),this.logger.log(3,'MIDROW ('+Ma([t,e])+')'),!0)}return!1},e.parsePAC=function(t,e){var r,i=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(Va(t,e,i))return Ha(null,null,i),!0;var n=t<=23?1:2;r=e>=64&&e<=95?1===n?wa[t]:_a[t]:1===n?Ca[t]:Pa[t];var a=this.channels[n];return!!a&&(a.setPAC(this.interpretPAC(r,e)),Ha(t,e,i),this.currentChannel=n,!0)},e.interpretPAC=function(t,e){var r,i={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,i.underline=!(1&~r),r<=13?i.color=['white','green','blue','cyan','red','yellow','magenta','white'][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color='white'):i.indent=4*Math.floor((r-16)/2),i},e.parseChars=function(t,e){var r,i,n=null,a=null;(t>=25?(r=2,a=t-8):(r=1,a=t),a>=17&&a<=19)?(i=17===a?e+80:18===a?e+112:e+144,this.logger.log(2,"Special char '"+ba(i)+"' in channel "+r),n=[i]):t>=32&&t<=127&&(n=0===e?[t]:[t,e]);if(n){var s=Ma(n);this.logger.log(3,'Char codes =  '+s.join(',')),Ha(t,e,this.cmdHistory)}return n},e.parseBackgroundAttributes=function(t,e){var r;if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;var i={};16===t||24===t?(r=Math.floor((e-32)/2),i.background=xa[r],e%2==1&&(i.background=i.background+'_semi')):45===e?i.background='transparent':(i.foreground='black',47===e&&(i.underline=!0));var n=t<=23?1:2;return this.channels[n].setBkgData(i),Ha(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var r=this.channels[e];r&&r.cueSplitAtTime(t)}},t})();function Ha(t,e,r){r.a=t,r.b=e}function Va(t,e,r){return r.a===t&&r.b===e}var Ya=(function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[],this.startTime=null},t})(),Wa=(function(){if('undefined'!=typeof self&&self.VTTCue)return self.VTTCue;var t=['','lr','rl'],e=['start','middle','end','left','right'];function r(t,e){if('string'!=typeof e)return!1;if(!Array.isArray(t))return!1;var r=e.toLowerCase();return!!~t.indexOf(r)&&r}function i(e){return r(t,e)}function n(t){return r(e,t)}function a(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)t[s]=a[s]}return t}function s(t,e,r){var s=this,o={enumerable:!0};s.hasBeenReset=!1;var l='',u=!1,h=t,d=e,c=r,f=null,g='',v=!0,m='auto',p='start',y=50,T='middle',E=50,S='middle';Object.defineProperty(s,'id',a({},o,{get:function(){return l},set:function(t){l=''+t}})),Object.defineProperty(s,'pauseOnExit',a({},o,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(s,'startTime',a({},o,{get:function(){return h},set:function(t){if('number'!=typeof t)throw new TypeError('Start time must be set to a number.');h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,'endTime',a({},o,{get:function(){return d},set:function(t){if('number'!=typeof t)throw new TypeError('End time must be set to a number.');d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,'text',a({},o,{get:function(){return c},set:function(t){c=''+t,this.hasBeenReset=!0}})),Object.defineProperty(s,'region',a({},o,{get:function(){return f},set:function(t){f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,'vertical',a({},o,{get:function(){return g},set:function(t){var e=i(t);if(!1===e)throw new SyntaxError('An invalid or illegal string was specified.');g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,'snapToLines',a({},o,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,'line',a({},o,{get:function(){return m},set:function(t){if('number'!=typeof t&&'auto'!==t)throw new SyntaxError('An invalid number or illegal string was specified.');m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,'lineAlign',a({},o,{get:function(){return p},set:function(t){var e=n(t);if(!e)throw new SyntaxError('An invalid or illegal string was specified.');p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,'position',a({},o,{get:function(){return y},set:function(t){if(t<0||t>100)throw new Error('Position must be between 0 and 100.');y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,'positionAlign',a({},o,{get:function(){return T},set:function(t){var e=n(t);if(!e)throw new SyntaxError('An invalid or illegal string was specified.');T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,'size',a({},o,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error('Size must be between 0 and 100.');E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,'align',a({},o,{get:function(){return S},set:function(t){var e=n(t);if(!e)throw new SyntaxError('An invalid or illegal string was specified.');S=e,this.hasBeenReset=!0}})),s.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s})(),ja=(function(){function t(){}return t.prototype.decode=function(t,e){if(!t)return'';if('string'!=typeof t)throw new Error('Error - expected string data.');return decodeURIComponent(encodeURIComponent(t))},t})();function qa(t){function e(t,e,r,i){return 3600*(0|t)+60*(0|e)+(0|r)+parseFloat(i||0)}var r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}var Xa=(function(){function t(){this.values=Object.create(null)}var e=t.prototype;return e.set=function(t,e){this.get(t)||''===e||(this.values[t]=e)},e.get=function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},e.has=function(t){return t in this.values},e.alt=function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},e.integer=function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},e.percent=function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var r=parseFloat(e);if(r>=0&&r<=100)return this.set(t,r),!0}return!1},t})();function za(t,e,r,i){var n=i?t.split(i):[t];for(var a in n)if('string'==typeof n[a]){var s=n[a].split(r);if(2===s.length)e(s[0],s[1])}}var Qa=new Wa(0,0,''),$a='middle'===Qa.align?'middle':'center';function Ja(t,e,r){var i=t;function n(){var e=qa(t);if(null===e)throw new Error('Malformed timestamp: '+i);return t=t.replace(/^[^\sa-zA-Z-]+/,''),e}function a(){t=t.replace(/^\s+/,'')}if(a(),e.startTime=n(),a(),'--\x3e'!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.slice(3),a(),e.endTime=n(),a(),(function(t,e){var i=new Xa;za(t,function(t,e){var n;switch(t){case'region':for(var a=r.length-1;a>=0;a--)if(r[a].id===e){i.set(t,r[a].region);break}break;case'vertical':i.alt(t,e,['rl','lr']);break;case'line':n=e.split(','),i.integer(t,n[0]),i.percent(t,n[0])&&i.set('snapToLines',!1),i.alt(t,n[0],['auto']),2===n.length&&i.alt('lineAlign',n[1],['start',$a,'end']);break;case'position':n=e.split(','),i.percent(t,n[0]),2===n.length&&i.alt('positionAlign',n[1],['start',$a,'end','line-left','line-right','auto']);break;case'size':i.percent(t,e);break;case'align':i.alt(t,e,['start',$a,'end','left','right'])}},/:/,/\s/),e.region=i.get('region',null),e.vertical=i.get('vertical','');var n=i.get('line','auto');'auto'===n&&-1===Qa.line&&(n=-1),e.line=n,e.lineAlign=i.get('lineAlign','start'),e.snapToLines=i.get('snapToLines',!0),e.size=i.get('size',100),e.align=i.get('align',$a);var a=i.get('position','auto');'auto'===a&&50===Qa.position&&(a='start'===e.align||'left'===e.align?0:'end'===e.align||'right'===e.align?100:50),e.position=a})(t,e)}function Za(t){return t.replace(/<br(?: \/)?>/gi,'\n')}var ts=(function(){function t(){this.state='INITIAL',this.buffer='',this.decoder=new ja,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var e=t.prototype;return e.parse=function(t){var e=this;function r(){var t=e.buffer,r=0;for(t=Za(t);r<t.length&&'\r'!==t[r]&&'\n'!==t[r];)++r;var i=t.slice(0,r);return'\r'===t[r]&&++r,'\n'===t[r]&&++r,e.buffer=t.slice(r),i}function i(t){za(t,function(t,e){},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var n='';if('INITIAL'===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var a=(n=r()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==a||!a[0])throw new Error('Malformed WebVTT signature.');e.state='HEADER'}for(var s=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(s?s=!1:n=r(),e.state){case'HEADER':/:/.test(n)?i(n):n||(e.state='ID');continue;case'NOTE':n||(e.state='ID');continue;case'ID':if(/^NOTE($|[ \t])/.test(n)){e.state='NOTE';break}if(!n)continue;if(e.cue=new Wa(0,0,''),e.state='CUE',-1===n.indexOf('--\x3e')){e.cue.id=n;continue}case'CUE':if(!e.cue){e.state='BADCUE';continue}try{Ja(n,e.cue,e.regionList)}catch(t){e.cue=null,e.state='BADCUE';continue}e.state='CUETEXT';continue;case'CUETEXT':var o=-1!==n.indexOf('--\x3e');if(!n||o&&(s=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state='ID';continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+='\n'),e.cue.text+=n;continue;case'BADCUE':n||(e.state='ID')}}}catch(t){'CUETEXT'===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state='INITIAL'===e.state?'BADWEBVTT':'BADCUE'}return this},e.flush=function(){var t=this;try{if((t.cue||'HEADER'===t.state)&&(t.buffer+='\n\n',t.parse()),'INITIAL'===t.state||'BADWEBVTT'===t.state)throw new Error('Malformed WebVTT signature.')}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this},t})(),es=/\r\n|\n\r|\n|\r/g,rs=function(t,e,r){return void 0===r&&(r=0),t.slice(r,r+e.length)===e},is=function(t){var e=parseInt(t.slice(-3)),r=parseInt(t.slice(-6,-4)),i=parseInt(t.slice(-9,-7)),n=t.length>9?parseInt(t.substring(0,t.indexOf(':'))):0;if(!(R(e)&&R(r)&&R(i)&&R(n)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*r,e+=6e4*i,e+=36e5*n},ns=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()};function as(t,e,r){return ns(t.toString())+ns(e.toString())+ns(r)}var ss=function(t,e,r){var i=t[e],n=t[i.prevCC];if(!n||!n.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;null!=(a=n)&&a.new;){var a;t.ccOffset+=i.start-n.start,i.new=!1,n=t[(i=n).prevCC]}t.presentationOffset=r};function os(t,e,r,i,n,a,s){var o,l,u,h=new ts,d=wt(new Uint8Array(t)).trim().replace(es,'\n').split('\n'),c=[],f=e?(o=e.baseTime,void 0===(l=e.timescale)&&(l=1),_n(o,9e4,1/l)):0,g='00:00.000',v=0,m=0,p=!0;h.oncue=function(t){var a=r[i],s=r.ccOffset,o=(v-f)/9e4;if(null!=a&&a.new&&(void 0!==m?s=r.ccOffset=a.start:ss(r,i,o)),o){if(!e)return void(u=new Error('Missing initPTS for VTT MPEGTS'));s=o-r.presentationOffset}var l=t.endTime-t.startTime,h=On(9e4*(t.startTime+s-m),9e4*n)/9e4;t.startTime=Math.max(h,0),t.endTime=Math.max(h+l,0);var d=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(d)),t.id||(t.id=as(t.startTime,t.endTime,d)),t.endTime>0&&c.push(t)},h.onparsingerror=function(t){u=t},h.onflush=function(){u?s(u):a(c)},d.forEach(function(t){if(p){if(rs(t,'X-TIMESTAMP-MAP=')){p=!1,t.slice(16).split(',').forEach(function(t){rs(t,'LOCAL:')?g=t.slice(6):rs(t,'MPEGTS:')&&(v=parseInt(t.slice(7)))});try{m=is(g)/1e3}catch(t){u=t}return}''===t&&(p=!1)}h.parse(t+'\n')}),h.flush()}var ls='stpp.ttml.im1t',us=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,hs=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,ds={left:'start',center:'center',right:'end',start:'start',end:'end'};function cs(t,e,r,i){var n=Gt(new Uint8Array(t),['mdat']);if(0!==n.length){var a,s,o,l,u=n.map(function(t){return wt(t)}),h=(a=e.baseTime,s=1,void 0===(o=e.timescale)&&(o=1),void 0===l&&(l=!1),_n(a,s,1/o,l));try{u.forEach(function(t){return r(fs(t,h))})}catch(t){i(t)}}else i(new Error('Could not parse IMSC1 mdat'))}function fs(t,e){var r=(new DOMParser).parseFromString(t,'text/xml').getElementsByTagName('tt')[0];if(!r)throw new Error('Invalid ttml');var i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},n=Object.keys(i).reduce(function(t,e){return t[e]=r.getAttribute("ttp:"+e)||i[e],t},{}),a='preserve'!==r.getAttribute('xml:space'),s=vs(gs(r,'styling','style')),l=vs(gs(r,'layout','region')),u=gs(r,'body','[begin]');return[].map.call(u,function(t){var r=ms(t,a);if(!r||!t.hasAttribute('begin'))return null;var i=Es(t.getAttribute('begin'),n),u=Es(t.getAttribute('dur'),n),h=Es(t.getAttribute('end'),n);if(null===i)throw Ts(t);if(null===h){if(null===u)throw Ts(t);h=i+u}var d=new Wa(i-e,h-e,r);d.id=as(d.startTime,d.endTime,d.text);var c=ps(l[t.getAttribute('region')],s[t.getAttribute('style')],s),f=c.textAlign;if(f){var g=ds[f];g&&(d.lineAlign=g),d.align=f}return o(d,c),d}).filter(function(t){return null!==t})}function gs(t,e,r){var i=t.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(r)):[]}function vs(t){return t.reduce(function(t,e){var r=e.getAttribute('xml:id');return r&&(t[r]=e),t},{})}function ms(t,e){return[].slice.call(t.childNodes).reduce(function(t,r,i){var n;return'br'===r.nodeName&&i?t+'\n':null!=(n=r.childNodes)&&n.length?ms(r,e):e?t+r.textContent.trim().replace(/\s+/g,' '):t+r.textContent},'')}function ps(t,e,r){var i='http://www.w3.org/ns/ttml#styling',n=null,a=null!=t&&t.hasAttribute('style')?t.getAttribute('style'):null;return a&&r.hasOwnProperty(a)&&(n=r[a]),['displayAlign','textAlign','color','backgroundColor','fontSize','fontFamily'].reduce(function(r,a){var s=ys(e,i,a)||ys(t,i,a)||ys(n,i,a);return s&&(r[a]=s),r},{})}function ys(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function Ts(t){return new Error("Could not parse ttml timestamp "+t)}function Es(t,e){if(!t)return null;var r=qa(t);return null===r&&(us.test(t)?r=Ss(t,e):hs.test(t)&&(r=Ls(t,e))),r}function Ss(t,e){var r=us.exec(t),i=(0|r[4])+(0|r[5])/e.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+i/e.frameRate}function Ls(t,e){var r=hs.exec(t),i=Number(r[1]);switch(r[2]){case'h':return 3600*i;case'm':return 60*i;case'ms':return 1e3*i;case'f':return i/e.frameRate;case't':return i/e.tickRate}return i}var Rs=(function(){function t(t){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var e=new Ya(this,'textTrack1'),r=new Ya(this,'textTrack2'),i=new Ya(this,'textTrack3'),n=new Ya(this,'textTrack4');this.cea608Parser1=new Ka(1,e,r),this.cea608Parser2=new Ka(3,i,n)}t.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(b.FRAG_LOADING,this.onFragLoading,this),t.on(b.FRAG_LOADED,this.onFragLoaded,this),t.on(b.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(b.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(b.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(b.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(b.BUFFER_FLUSHING,this.onBufferFlushing,this)}var e=t.prototype;return e.destroy=function(){var t=this.hls;t.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(b.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(b.FRAG_LOADING,this.onFragLoading,this),t.off(b.FRAG_LOADED,this.onFragLoaded,this),t.off(b.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(b.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(b.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(b.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(b.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},e.addCues=function(t,e,r,i,n){for(var a=!1,s=n.length;s--;){var o=n[s],l=ks(o[0],o[1],e,r);if(l>=0&&(o[0]=Math.min(o[0],e),o[1]=Math.max(o[1],r),a=!0,l/(r-e)>.5))return}if(a||n.push([e,r]),this.config.renderTextTracksNatively){var u=this.captionsTracks[t];this.Cues.newCue(u,e,r,i)}else{var h=this.Cues.newCue(null,e,r,i);this.hls.trigger(b.CUES_PARSED,{type:'captions',cues:h,track:t})}},e.onInitPtsFound=function(t,e){var r=this,i=e.frag,n=e.id,a=e.initPTS,s=e.timescale,o=this.unparsedVttFrags;'main'===n&&(this.initPTS[i.cc]={baseTime:a,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(function(t){r.onFragLoaded(b.FRAG_LOADED,t)}))},e.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var i=e.textTracks[r];if(i[t])return i}return null},e.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},e.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,r=this.captionsTracks,i=this.media,n=e[t],a=n.label,s=n.languageCode,o=this.getExistingTrack(t);if(o)r[t]=o,je(r[t]),Ye(r[t],i);else{var l=this.createTextTrack('captions',a,s);l&&(l[t]=!0,r[t]=l)}}},e.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var r={_id:t,label:e.label,kind:'captions',default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=r,this.hls.trigger(b.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},e.createTextTrack=function(t,e,r){var i=this.media;if(i)return i.addTextTrack(t,e,r)},e.onMediaAttaching=function(t,e){this.media=e.media,this._cleanTracks()},e.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){je(t[e]),delete t[e]}),this.nonNativeCaptionsTracks={}},e.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},e._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)je(e[r])}},e.onSubtitleTracksUpdated=function(t,e){var r=this,i=e.subtitleTracks||[],n=i.some(function(t){return t.textCodec===ls});if(this.config.enableWebVTT||n&&this.config.enableIMSC1){if(va(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){var a=this.media?this.media.textTracks:null;this.tracks.forEach(function(t,e){var i;if(a&&e<a.length){for(var n=null,s=0;s<a.length;s++)if(As(a[s],t)){n=a[s];break}n&&(i=n)}if(i)je(i);else{var o=r._captionsOrSubtitlesFromCharacteristics(t);(i=r.createTextTrack(o,t.name,t.lang))&&(i.mode='disabled')}i&&(i.groupId=t.groupId,r.textTracks.push(i))})}else if(this.tracks.length){var s=this.tracks.map(function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}});this.hls.trigger(b.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}},e._captionsOrSubtitlesFromCharacteristics=function(t){if(t.attrs.CHARACTERISTICS){var e=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),r=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(e&&r)return'captions'}return'subtitles'},e.onManifestLoaded=function(t,e){var r=this;this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var i="textTrack"+e[1],n=r.captionsProperties[i];n&&(n.label=t.name,t.lang&&(n.languageCode=t.lang),n.media=t)}})},e.closedCaptionsForLevel=function(t){var e=this.hls.levels[t.level];return null==e?void 0:e.attrs['CLOSED-CAPTIONS']},e.onFragLoading=function(t,e){var r=this.cea608Parser1,i=this.cea608Parser2,n=this.lastSn,a=this.lastPartIndex;if(this.enabled&&r&&i&&e.frag.type===Ue){var s,o,l=e.frag.sn,u=null!=(s=null==e||null==(o=e.part)?void 0:o.index)?s:-1;l===n+1||l===n&&u===a+1||(r.reset(),i.reset()),this.lastSn=l,this.lastPartIndex=u}},e.onFragLoaded=function(t,e){var r=e.frag,i=e.payload;if(r.type===Ge)if(i.byteLength){var n=r.decryptdata,a='stats'in e;if(null==n||!n.encrypted||a){var s=this.tracks[r.level],o=this.vttCCs;o[r.cc]||(o[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),s&&s.textCodec===ls?this._parseIMSC1(r,i):this._parseVTTs(e)}}else this.hls.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error('Empty subtitle payload')})},e._parseIMSC1=function(t,e){var r=this,i=this.hls;cs(e,this.initPTS[t.cc],function(e){r._appendCues(e,t.level),i.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){M.log("Failed to parse IMSC1: "+e),i.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})})},e._parseVTTs=function(t){var e,r=this,i=t.frag,n=t.payload,a=this.initPTS,s=this.unparsedVttFrags,o=a.length-1;if(a[i.cc]||-1!==o){var l=this.hls;os(null!=(e=i.initSegment)&&e.data?Qt(i.initSegment.data,new Uint8Array(n)):n,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,function(t){r._appendCues(t,i.level),l.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},function(e){var a='Missing initPTS for VTT MPEGTS'===e.message;a?s.push(t):r._fallbackToIMSC1(i,n),M.log("Failed to parse VTT cue: "+e),a&&o>i.cc||l.trigger(b.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:e})})}else s.push(t)},e._fallbackToIMSC1=function(t,e){var r=this,i=this.tracks[t.level];i.textCodec||cs(e,this.initPTS[t.cc],function(){i.textCodec=ls,r._parseIMSC1(t,e)},function(){i.textCodec='wvtt'})},e._appendCues=function(t,e){var r=this.hls;if(this.config.renderTextTracksNatively){var i=this.textTracks[e];if(!i||'disabled'===i.mode)return;t.forEach(function(t){return We(i,t)})}else{var n=this.tracks[e];if(!n)return;var a=n.default?'default':'subtitles'+e;r.trigger(b.CUES_PARSED,{type:'subtitles',cues:t,track:a})}},e.onFragDecrypted=function(t,e){e.frag.type===Ge&&this.onFragLoaded(b.FRAG_LOADED,e)},e.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},e.onFragParsingUserdata=function(t,e){var r=this.cea608Parser1,i=this.cea608Parser2;if(this.enabled&&r&&i){var n=e.frag,a=e.samples;if(n.type!==Ue||'NONE'!==this.closedCaptionsForLevel(n))for(var s=0;s<a.length;s++){var o=a[s].bytes;if(o){var l=this.extractCea608Data(o);r.addData(a[s].pts,l[0]),i.addData(a[s].pts,l[1])}}}},e.onBufferFlushing=function(t,e){var r=e.startOffset,i=e.endOffset,n=e.endOffsetSubtitles,a=e.type,s=this.media;if(s&&!(s.currentTime<i)){if(!a||'video'===a){var o=this.captionsTracks;Object.keys(o).forEach(function(t){return qe(o[t],r,i)})}if(this.config.renderTextTracksNatively&&0===r&&void 0!==n){var l=this.textTracks;Object.keys(l).forEach(function(t){return qe(l[t],r,n)})}}},e.extractCea608Data=function(t){for(var e=[[],[]],r=31&t[0],i=2,n=0;n<r;n++){var a=t[i++],s=127&t[i++],o=127&t[i++];if(0!==s||0!==o)if(!!(4&a)){var l=3&a;0!==l&&1!==l||(e[l].push(s),e[l].push(o))}}return e},t})();function As(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function ks(t,e,r,i){return Math.min(e,i)-Math.max(t,r)}var bs=(function(){function t(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},e.registerListeners=function(){var t=this.hls;t.on(b.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(b.MANIFEST_PARSED,this.onManifestParsed,this),t.on(b.BUFFER_CODECS,this.onBufferCodecs,this),t.on(b.MEDIA_DETACHING,this.onMediaDetaching,this)},e.unregisterListener=function(){var t=this.hls;t.off(b.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(b.MANIFEST_PARSED,this.onManifestParsed,this),t.off(b.BUFFER_CODECS,this.onBufferCodecs,this),t.off(b.MEDIA_DETACHING,this.onMediaDetaching,this)},e.onFpsDropLevelCapping=function(t,e){var r=this.hls.levels[e.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})},e.onMediaAttaching=function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null},e.onManifestParsed=function(t,e){var r=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,r.config.capLevelToPlayerSize&&e.video&&this.startCapping()},e.onBufferCodecs=function(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},e.onMediaDetaching=function(){this.stopCapping()},e.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.getMaxLevel=function(e){var r=this,i=this.hls.levels;if(!i.length)return-1;var n=i.filter(function(t,i){return r.isLevelAllowed(t)&&i<=e});return this.clientRect=null,t.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},e.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},e.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var r=t.getBoundingClientRect();e.width=r.width,e.height=r.height,e.width||e.height||(e.width=r.right-r.left||t.width||0,e.height=r.bottom-r.top||t.height||0)}return this.clientRect=e,e},e.isLevelAllowed=function(t){return!this.restrictedLevels.some(function(e){return t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height})},t.getMaxLevelByMediaSize=function(t,e,r){if(null==t||!t.length)return-1;for(var i=function(t,e){return!e||(t.width!==e.width||t.height!==e.height)},n=t.length-1,a=0;a<t.length;a+=1){var s=t[a];if((s.width>=e||s.height>=r)&&i(s,t[a+1])){n=a;break}}return n},a(t,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return t}}]),t})(),Ds=(function(){function t(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.registerListeners=function(){this.hls.on(b.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.unregisterListeners=function(){this.hls.off(b.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},e.onMediaAttaching=function(t,e){var r=this.hls.config;if(r.capLevelOnFPSDrop){var i=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=i,i&&'function'==typeof i.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},e.checkFPS=function(t,e,r){var i=performance.now();if(e){if(this.lastTime){var n=i-this.lastTime,a=r-this.lastDroppedFrames,s=e-this.lastDecodedFrames,o=1e3*a/n,l=this.hls;if(l.trigger(b.FPS_DROP,{currentDropped:a,currentDecoded:s,totalDroppedFrames:r}),o>0&&a>l.config.fpsDroppedMonitoringThreshold*s){var u=l.currentLevel;M.warn('drop FPS ratio greater than max allowed value for currentLevel: '+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(b.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},e.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},t})(),Is='[eme]',ws=(function(){function t(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=t.CDMCleanupPromise?[t.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=M.debug.bind(M,Is),this.log=M.log.bind(M,Is),this.warn=M.warn.bind(M,Is),this.error=M.error.bind(M,Is),this.hls=e,this.config=e.config,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.unregisterListeners(),this.onMediaDetached();var t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null},e.registerListeners=function(){this.hls.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(b.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(b.MANIFEST_LOADED,this.onManifestLoaded,this)},e.unregisterListeners=function(){this.hls.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(b.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(b.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(b.MANIFEST_LOADED,this.onManifestLoaded,this)},e.getLicenseServerUrl=function(t){var e=this.config,r=e.drmSystems,i=e.widevineLicenseUrl,n=r[t];if(n)return n.licenseUrl;if(t===tt.WIDEVINE&&i)return i;throw new Error("no license server URL configured for key-system \""+t+"\"")},e.getServerCertificateUrl=function(t){var e=this.config.drmSystems[t];if(e)return e.serverCertificateUrl;this.log("No Server Certificate in config.drmSystems[\""+t+"\"]")},e.attemptKeySystemAccess=function(t){var e=this,r=this.hls.levels,i=function(t,e,r){return!!t&&r.indexOf(t)===e},n=r.map(function(t){return t.audioCodec}).filter(i),a=r.map(function(t){return t.videoCodec}).filter(i);return n.length+a.length===0&&a.push('avc1.42e01e'),new Promise(function(r,i){!(function t(s){var o=s.shift();e.getMediaKeysPromise(o,n,a).then(function(t){return r({keySystem:o,mediaKeys:t})}).catch(function(e){s.length?t(s):i(e instanceof Cs?e:new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))})})(t)})},e.requestMediaKeySystemAccess=function(t,e){var r=this.config.requestMediaKeySystemAccessFunc;if('function'!=typeof r){var i="Configured requestMediaKeySystemAccess is not a function "+r;return null===ht&&'http:'===self.location.protocol&&(i="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(i))}return r(t,e)},e.getMediaKeysPromise=function(t,e,r){var i=this,n=dt(t,e,r,this.config.drmSystemOptions),a=this.keySystemAccessPromises[t],s=null==a?void 0:a.keySystemAccess;if(!s){this.log("Requesting encrypted media \""+t+"\" key-system access with config: "+JSON.stringify(n)),s=this.requestMediaKeySystemAccess(t,n);var o=this.keySystemAccessPromises[t]={keySystemAccess:s};return s.catch(function(e){i.log("Failed to obtain access to key-system \""+t+"\": "+e)}),s.then(function(e){i.log("Access for key-system \""+e.keySystem+"\" obtained");var r=i.fetchServerCertificate(t);return i.log("Create media-keys for \""+t+"\""),o.mediaKeys=e.createMediaKeys().then(function(e){return i.log("Media-keys created for \""+t+"\""),r.then(function(r){return r?i.setMediaKeysServerCertificate(e,t,r):e})}),o.mediaKeys.catch(function(e){i.error("Failed to create media-keys for \""+t+"\"}: "+e)}),o.mediaKeys})}return s.then(function(){return a.mediaKeys})},e.createMediaKeySessionContext=function(t){var e=t.decryptdata,r=t.keySystem,i=t.mediaKeys;this.log("Creating key-system session \""+r+"\" keyId: "+_t(e.keyId||[]));var n=i.createSession(),a={decryptdata:e,keySystem:r,mediaKeys:i,mediaKeysSession:n,keyStatus:'status-pending'};return this.mediaKeySessions.push(a),a},e.renewKeySession=function(t){var e=t.decryptdata;if(e.pssh){var r=this.createMediaKeySessionContext(t),i=this.getKeyIdString(e);this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,'cenc',e.pssh,'expired')}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)},e.getKeyIdString=function(t){if(!t)throw new Error('Could not read keyId of undefined decryptdata');if(null===t.keyId)throw new Error('keyId is null');return _t(t.keyId)},e.updateKeySession=function(t,e){var r,i=t.mediaKeysSession;return this.log("Updating key-session \""+i.sessionId+"\" for keyID "+_t((null==(r=t.decryptdata)?void 0:r.keyId)||[])+"\n      } (data length: "+(e?e.byteLength:e)+")"),i.update(e)},e.selectKeySystemFormat=function(t){var e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+t.sn+" "+t.type+": "+t.level+") key formats "+e.join(', ')),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise},e.getKeyFormatPromise=function(t){var e=this;return new Promise(function(r,i){var n=ut(e.config),a=t.map(at).filter(function(t){return!!t&&-1!==n.indexOf(t)});return e.getKeySystemSelectionPromise(a).then(function(t){var e=t.keySystem,n=lt(e);n?r(n):i(new Error("Unable to find format for key-system \""+e+"\""))}).catch(i)})},e.loadKey=function(t){var e=this,r=t.keyInfo.decryptdata,i=this.getKeyIdString(r),n="(keyId: "+i+" format: \""+r.keyFormat+"\" method: "+r.method+" uri: "+r.uri+")";this.log("Starting session for key "+n);var a=this.keyIdToKeySessionPromise[i];return a||(a=this.keyIdToKeySessionPromise[i]=this.getKeySystemForKeyPromise(r).then(function(i){var a=i.keySystem,s=i.mediaKeys;return e.throwIfDestroyed(),e.log("Handle encrypted media sn: "+t.frag.sn+" "+t.frag.type+": "+t.frag.level+" using key "+n),e.attemptSetMediaKeys(a,s).then(function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({keySystem:a,mediaKeys:s,decryptdata:r});return e.generateRequestWithPreferredKeySession(t,'cenc',r.pssh,'playlist-key')})})).catch(function(t){return e.handleError(t)}),a},e.throwIfDestroyed=function(t){if(!this.hls)throw new Error('invalid state')},e.handleError=function(t){this.hls&&(this.error(t.message),t instanceof Cs?this.hls.trigger(b.ERROR,t.data):this.hls.trigger(b.ERROR,{type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))},e.getKeySystemForKeyPromise=function(t){var e=this.getKeyIdString(t),r=this.keyIdToKeySessionPromise[e];if(!r){var i=at(t.keyFormat),n=i?[i]:ut(this.config);return this.attemptKeySystemAccess(n)}return r},e.getKeySystemSelectionPromise=function(t){if(t.length||(t=ut(this.config)),0===t.length)throw new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(t)},e._onMediaEncrypted=function(t){var e=this,r=t.initDataType,i=t.initData;if(this.debug("\""+t.type+"\" event: init data type: \""+r+"\""),null!==i){var n,a;if('sinf'===r&&this.config.drmSystems[tt.FAIRPLAY]){var s=Mt(new Uint8Array(i));try{var o=Q(JSON.parse(s).sinf),l=Yt(new Uint8Array(o));if(!l)return;n=l.subarray(8,24),a=tt.FAIRPLAY}catch(t){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var u=ae(i);if(null===u)return;0===u.version&&u.systemId===st&&u.data&&(n=u.data.subarray(8,24)),a=ot(u.systemId)}if(a&&n){for(var h=_t(n),d=this.keyIdToKeySessionPromise,c=this.mediaKeySessions,f=d[h],g=function(){var t=c[v],a=t.decryptdata;if(a.pssh||!a.keyId)return"continue";var s=_t(a.keyId);return h===s||-1!==a.uri.replace(/-/g,'').indexOf(h)?(f=d[s],delete d[s],a.pssh=new Uint8Array(i),a.keyId=n,f=d[h]=f.then(function(){return e.generateRequestWithPreferredKeySession(t,r,i,'encrypted-event-key-match')}),"break"):void 0},v=0;v<c.length;v++){var m=g();if("continue"!==m&&"break"===m)break}f||(f=d[h]=this.getKeySystemSelectionPromise([a]).then(function(t){var a,s=t.keySystem,o=t.mediaKeys;e.throwIfDestroyed();var l=new oe('ISO-23001-7',h,null!=(a=lt(s))?a:'');return l.pssh=new Uint8Array(i),l.keyId=n,e.attemptSetMediaKeys(s,o).then(function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({decryptdata:l,keySystem:s,mediaKeys:o});return e.generateRequestWithPreferredKeySession(t,r,i,'encrypted-event-no-match')})})),f.catch(function(t){return e.handleError(t)})}}},e._onWaitingForKey=function(t){this.log("\""+t.type+"\" event")},e.attemptSetMediaKeys=function(t,e){var r=this,i=this.setMediaKeysQueue.slice();this.log("Setting media-keys for \""+t+"\"");var n=Promise.all(i).then(function(){if(!r.media)throw new Error('Attempted to set mediaKeys without media element attached');return r.media.setMediaKeys(e)});return this.setMediaKeysQueue.push(n),n.then(function(){r.log("Media-keys set for \""+t+"\""),i.push(n),r.setMediaKeysQueue=r.setMediaKeysQueue.filter(function(t){return-1===i.indexOf(t)})})},e.generateRequestWithPreferredKeySession=function(t,e,r,i){var n,a,s=this,o=null==(n=this.config.drmSystems)||null==(a=n[t.keySystem])?void 0:a.generateRequest;if(o)try{var l=o.call(this.hls,e,r,t);if(!l)throw new Error('Invalid response from configured generateRequest filter');e=l.initDataType,r=t.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(t){var u;if(this.warn(t.message),null!=(u=this.hls)&&u.config.debug)throw t}if(null===r)return this.log("Skipping key-session request for \""+i+"\" (no initData)"),Promise.resolve(t);var h=this.getKeyIdString(t.decryptdata);this.log("Generating key-session request for \""+i+"\": "+h+" (init data type: "+e+" length: "+(r?r.byteLength:null)+")");var d=new ta;t.mediaKeysSession.onmessage=function(e){var r=t.mediaKeysSession;if(r){var i=e.messageType,n=e.message;s.log("\""+i+"\" message event for session \""+r.sessionId+"\" message size: "+n.byteLength),'license-request'===i||'license-renewal'===i?s.renewLicense(t,n).catch(function(t){s.handleError(t),d.emit('error',t)}):'license-release'===i?t.keySystem===tt.FAIRPLAY&&(s.updateKeySession(t,Z('acknowledged')),s.removeSession(t)):s.warn("unhandled media key message type \""+i+"\"")}else d.emit('error',new Error('invalid state'))},t.mediaKeysSession.onkeystatuseschange=function(e){if(t.mediaKeysSession){s.onKeyStatusChange(t);var r=t.keyStatus;d.emit('keyStatus',r),'expired'===r&&(s.warn(t.keySystem+" expired for key "+h),s.renewKeySession(t))}else d.emit('error',new Error('invalid state'))};var c=new Promise(function(t,e){d.on('error',e),d.on('keyStatus',function(r){r.startsWith('usable')?t():'output-restricted'===r?e(new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},'HDCP level output restricted')):'internal-error'===r?e(new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},"key status changed to \""+r+"\"")):'expired'===r?e(new Error('key expired while generating request')):s.warn("unhandled key status change \""+r+"\"")})});return t.mediaKeysSession.generateRequest(e,r).then(function(){var e;s.log("Request generated for key-session \""+(null==(e=t.mediaKeysSession)?void 0:e.sessionId)+"\" keyId: "+h)}).catch(function(t){throw new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},"Error generating key-session request: "+t)}).then(function(){return c}).catch(function(e){throw d.removeAllListeners(),s.removeSession(t),e}).then(function(){return d.removeAllListeners(),t})},e.onKeyStatusChange=function(t){var e=this;t.mediaKeysSession.keyStatuses.forEach(function(r,i){e.log("key status change \""+r+"\" for keyStatuses keyId: "+_t('buffer'in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))+" session keyId: "+_t(new Uint8Array(t.decryptdata.keyId||[]))+" uri: "+t.decryptdata.uri),t.keyStatus=r})},e.fetchServerCertificate=function(t){var e=this.config,r=new(0,e.loader)(e),n=this.getServerCertificateUrl(t);return n?(this.log("Fetching serverCertificate for \""+t+"\""),new Promise(function(a,s){var o={responseType:'arraybuffer',url:n},l=e.certLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:function(t,e,r,i){a(t.data)},onError:function(e,r,a,l){s(new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:i({url:o.url,data:void 0},e)},"\""+t+"\" certificate request failed ("+n+"). Status: "+e.code+" ("+e.text+")"))},onTimeout:function(e,r,i){s(new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:o.url,data:void 0}},"\""+t+"\" certificate request timed out ("+n+")"))},onAbort:function(t,e,r){s(new Error('aborted'))}};r.load(o,u,h)})):Promise.resolve()},e.setMediaKeysServerCertificate=function(t,e,r){var i=this;return new Promise(function(n,a){t.setServerCertificate(r).then(function(a){i.log("setServerCertificate "+(a?'success':'not supported by CDM')+" ("+(null==r?void 0:r.byteLength)+") on \""+e+"\""),n(t)}).catch(function(t){a(new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))})})},e.renewLicense=function(t,e){var r=this;return this.requestLicense(t,new Uint8Array(e)).then(function(e){return r.updateKeySession(t,new Uint8Array(e)).catch(function(t){throw new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)})})},e.setupLicenseXHR=function(t,e,r,i){var n=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then(function(){if(!r.decryptdata)throw new Error('Key removed');return a.call(n.hls,t,e,r,i)}).catch(function(s){if(!r.decryptdata)throw s;return t.open('POST',e,!0),a.call(n.hls,t,e,r,i)}).then(function(r){return t.readyState||t.open('POST',e,!0),{xhr:t,licenseChallenge:r||i}}):(t.open('POST',e,!0),Promise.resolve({xhr:t,licenseChallenge:i}))},e.requestLicense=function(t,e){var r=this,i=this.config.keyLoadPolicy.default;return new Promise(function(n,a){var s=r.getLicenseServerUrl(t.keySystem);r.log("Sending license request to URL: "+s);var o=new XMLHttpRequest;o.responseType='arraybuffer',o.onreadystatechange=function(){if(!r.hls||!t.mediaKeysSession)return a(new Error('invalid state'));if(4===o.readyState)if(200===o.status){r._requestLicenseFailureCount=0;var l=o.response;r.log("License received "+(l instanceof ArrayBuffer?l.byteLength:l));var u=r.config.licenseResponseCallback;if(u)try{l=u.call(r.hls,o,s,t)}catch(t){r.error(t)}n(l)}else{var h=i.errorRetry,d=h?h.maxNumRetry:0;if(r._requestLicenseFailureCount++,r._requestLicenseFailureCount>d||o.status>=400&&o.status<500)a(new Cs({type:D.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},"License Request XHR failed ("+s+"). Status: "+o.status+" ("+o.statusText+")"));else{var c=d-r._requestLicenseFailureCount+1;r.warn("Retrying license request, "+c+" attempts left"),r.requestLicense(t,e).then(n,a)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=o,r.setupLicenseXHR(o,s,t,e).then(function(t){var e=t.xhr,r=t.licenseChallenge;e.send(r)})})},e.onMediaAttached=function(t,e){if(this.config.emeEnabled){var r=e.media;this.media=r,r.addEventListener('encrypted',this.onMediaEncrypted),r.addEventListener('waitingforkey',this.onWaitingForKey)}},e.onMediaDetached=function(){var e=this,r=this.media,i=this.mediaKeySessions;r&&(r.removeEventListener('encrypted',this.onMediaEncrypted),r.removeEventListener('waitingforkey',this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},oe.clearKeyUriToKeyIdMap();var n=i.length;t.CDMCleanupPromise=Promise.all(i.map(function(t){return e.removeSession(t)}).concat(null==r?void 0:r.setMediaKeys(null).catch(function(t){e.log("Could not clear media keys: "+t+". media.src: "+(null==r?void 0:r.src))}))).then(function(){n&&(e.log('finished closing key sessions and clearing media keys'),i.length=0)}).catch(function(t){e.log("Could not close sessions and clear media keys: "+t+". media.src: "+(null==r?void 0:r.src))})},e.onManifestLoading=function(){this.keyFormatPromise=null},e.onManifestLoaded=function(t,e){var r=e.sessionKeys;if(r&&this.config.emeEnabled&&!this.keyFormatPromise){var i=r.reduce(function(t,e){return-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t},[]);this.log("Selecting key-system from session-keys "+i.join(', ')),this.keyFormatPromise=this.getKeyFormatPromise(i)}},e.removeSession=function(t){var e=this,r=t.mediaKeysSession,i=t.licenseXhr;if(r){this.log("Remove licenses and keys and close session "+r.sessionId),r.onmessage=null,r.onkeystatuseschange=null,i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;var n=this.mediaKeySessions.indexOf(t);return n>-1&&this.mediaKeySessions.splice(n,1),r.remove().catch(function(t){e.log("Could not remove session: "+t)}).then(function(){return r.close()}).catch(function(t){e.log("Could not close session: "+t)})}},t})();ws.CDMCleanupPromise=void 0;var Cs=(function(t){function e(e,r){var i;return(i=t.call(this,r)||this).data=void 0,e.error||(e.error=new Error(r)),i.data=e,e.err=e.error,i}return l(e,t),e})(f(Error)),_s="m",Ps="a",xs="v",Fs="av",Ms="i",Os="tt",Ns=(function(){function t(e){var r=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){r.initialized&&(r.starved=!0),r.buffering=!0},this.onPlaying=function(){r.initialized||(r.initialized=!0),r.buffering=!1},this.applyPlaylistData=function(t){try{r.apply(t,{ot:_s,su:!r.initialized})}catch(t){M.warn('Could not generate manifest CMCD data.',t)}},this.applyFragmentData=function(t){try{var e=t.frag,i=r.hls.levels[e.level],n=r.getObjectType(e),a={d:1e3*e.duration,ot:n};n!==xs&&n!==Ps&&n!=Fs||(a.br=i.bitrate/1e3,a.tb=r.getTopBandwidth(n)/1e3,a.bl=r.getBufferLength(n)),r.apply(t,a)}catch(t){M.warn('Could not generate segment CMCD data.',t)}},this.hls=e;var i=this.config=e.config,n=i.cmcd;null!=n&&(i.pLoader=this.createPlaylistLoader(),i.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||t.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(b.MEDIA_DETACHED,this.onMediaDetached,this),t.on(b.BUFFER_CREATED,this.onBufferCreated,this)},e.unregisterListeners=function(){var t=this.hls;t.off(b.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(b.MEDIA_DETACHED,this.onMediaDetached,this),t.off(b.BUFFER_CREATED,this.onBufferCreated,this)},e.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},e.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener('waiting',this.onWaiting),this.media.addEventListener('playing',this.onPlaying)},e.onMediaDetached=function(){this.media&&(this.media.removeEventListener('waiting',this.onWaiting),this.media.removeEventListener('playing',this.onPlaying),this.media=null)},e.onBufferCreated=function(t,e){var r,i;this.audioBuffer=null==(r=e.tracks.audio)?void 0:r.buffer,this.videoBuffer=null==(i=e.tracks.video)?void 0:i.buffer},e.createData=function(){var t;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},e.apply=function(e,r){void 0===r&&(r={}),o(r,this.createData());var i=r.ot===Ms||r.ot===xs||r.ot===Fs;if(this.starved&&i&&(r.bs=!0,r.su=!0,this.starved=!1),null==r.su&&(r.su=this.buffering),this.useHeaders){var n=t.toHeaders(r);if(!Object.keys(n).length)return;e.headers||(e.headers={}),o(e.headers,n)}else{var a=t.toQuery(r);if(!a)return;e.url=t.appendQueryToUri(e.url,a)}},e.getObjectType=function(t){var e=t.type;return'subtitle'===e?Os:'initSegment'===t.sn?Ms:'audio'===e?Ps:'main'===e?this.hls.audioTracks.length?xs:Fs:void 0},e.getTopBandwidth=function(t){var e,r=0,i=this.hls;if(t===Ps)e=i.audioTracks;else{var n=i.maxAutoLevel,a=n>-1?n+1:i.levels.length;e=i.levels.slice(0,a)}for(var s,o=p(e);!(s=o()).done;){var l=s.value;l.bitrate>r&&(r=l.bitrate)}return r>0?r:NaN},e.getBufferLength=function(t){var e=this.hls.media,r=t===Ps?this.audioBuffer:this.videoBuffer;return r&&e?1e3*di.bufferInfo(r,e.currentTime,this.config.maxBufferHole).len:NaN},e.createPlaylistLoader=function(){var t=this.config.pLoader,e=this.applyPlaylistData,r=t||this.config.loader;return(function(){function t(t){this.loader=void 0,this.loader=new r(t)}var i=t.prototype;return i.destroy=function(){this.loader.destroy()},i.abort=function(){this.loader.abort()},i.load=function(t,r,i){e(t),this.loader.load(t,r,i)},a(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t})()},e.createFragmentLoader=function(){var t=this.config.fLoader,e=this.applyFragmentData,r=t||this.config.loader;return(function(){function t(t){this.loader=void 0,this.loader=new r(t)}var i=t.prototype;return i.destroy=function(){this.loader.destroy()},i.abort=function(){this.loader.abort()},i.load=function(t,r,i){e(t),this.loader.load(t,r,i)},a(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),t})()},t.uuid=function(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf('/')+1)},t.serialize=function(t){for(var e,r=[],i=function(t){return!Number.isNaN(t)&&null!=t&&''!==t&&!1!==t},n=function(t){return Math.round(t)},a=function(t){return 100*n(t/100)},s={br:n,d:n,bl:a,dl:a,mtp:a,nor:function(t){return encodeURIComponent(t)},rtp:a,tb:n},o=p(Object.keys(t||{}).sort());!(e=o()).done;){var l=e.value,u=t[l];if(i(u)&&!('v'===l&&1===u||'pr'==l&&1===u)){var h=s[l];h&&(u=h(u));var d=typeof u,c=void 0;c='ot'===l||'sf'===l||'st'===l?l+"="+u:'boolean'===d?l:'number'===d?l+"="+u:l+"="+JSON.stringify(u),r.push(c)}}return r.join(',')},t.toHeaders=function(e){for(var r={},i=['Object','Request','Session','Status'],n=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,o=Object.keys(e);s<o.length;s++){var l=o[s];n[null!=a[l]?a[l]:1][l]=e[l]}for(var u=0;u<n.length;u++){var h=t.serialize(n[u]);h&&(r["CMCD-"+i[u]]=h)}return r},t.toQuery=function(e){return"CMCD="+encodeURIComponent(t.serialize(e))},t.appendQueryToUri=function(t,e){if(!e)return t;var r=t.includes('?')?'&':'?';return""+t+r+e},t})(),Us=(function(){function t(t){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId='.',this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=M.log.bind(M,"[content-steering]:"),this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(b.MANIFEST_LOADING,this.onManifestLoading,this),t.on(b.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(b.MANIFEST_PARSED,this.onManifestParsed,this),t.on(b.ERROR,this.onError,this)},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(b.MANIFEST_LOADING,this.onManifestLoading,this),t.off(b.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(b.MANIFEST_PARSED,this.onManifestParsed,this),t.off(b.ERROR,this.onError,this))},e.startLoad=function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var t=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,t)}else this.loadSteeringManifest(this.uri)},e.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)},e.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},e.removeLevel=function(t){var e=this.levels;e&&(this.levels=e.filter(function(e){return e!==t}))},e.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId='.',this.levels=this.audioTracks=this.subtitleTracks=null},e.onManifestLoaded=function(t,e){var r=e.contentSteering;null!==r&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())},e.onManifestParsed=function(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks},e.onError=function(t,e){var r=e.errorAction;if((null==r?void 0:r.action)===Ur&&r.flags===Kr){var i=this.pathwayPriority,n=this.pathwayId;this.penalizedPathways[n]||(this.penalizedPathways[n]=performance.now()),!i&&this.levels&&(i=this.levels.reduce(function(t,e){return-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t},[])),i&&i.length>1&&(this.updatePathwayPriority(i),r.resolved=this.pathwayId!==n)}},e.filterParsedLevels=function(t){this.levels=t;var e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){var r=t[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+". Setting initial Pathway to \""+r+"\""),e=this.getLevelsForPathway(r),this.pathwayId=r}return e.length!==t.length?(this.log("Found "+e.length+"/"+t.length+" levels in Pathway \""+this.pathwayId+"\""),e):t},e.getLevelsForPathway=function(t){return null===this.levels?[]:this.levels.filter(function(e){return t===e.pathwayId})},e.updatePathwayPriority=function(t){var e;this.pathwayPriority=t;var r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(function(t){i-r[t]>3e5&&delete r[t]});for(var n=0;n<t.length;n++){var a=t[n];if(!r[a]){if(a===this.pathwayId)return;var s=this.hls.nextLoadLevel,o=this.hls.levels[s];if((e=this.getLevelsForPathway(a)).length>0){this.log("Setting Pathway to \""+a+"\""),this.pathwayId=a,this.hls.trigger(b.LEVELS_UPDATED,{levels:e});var l=this.hls.levels[s];o&&l&&this.levels&&(l.attrs['STABLE-VARIANT-ID']!==o.attrs['STABLE-VARIANT-ID']&&l.bitrate!==o.bitrate&&this.log("Unstable Pathways change from bitrate "+o.bitrate+" to "+l.bitrate),this.hls.nextLoadLevel=s);break}}}},e.clonePathways=function(t){var e=this,r=this.levels;if(r){var i={},n={};t.forEach(function(t){var a=t.ID,s=t['BASE-ID'],l=t['URI-REPLACEMENT'];if(!r.some(function(t){return t.pathwayId===a})){var u=e.getLevelsForPathway(s).map(function(t){var e=o({},t);e.details=void 0,e.url=Gs(t.uri,t.attrs['STABLE-VARIANT-ID'],'PER-VARIANT-URIS',l);var r=new U(t.attrs);r['PATHWAY-ID']=a;var s=r.AUDIO&&r.AUDIO+"_clone_"+a,u=r.SUBTITLES&&r.SUBTITLES+"_clone_"+a;s&&(i[r.AUDIO]=s,r.AUDIO=s),u&&(n[r.SUBTITLES]=u,r.SUBTITLES=u),e.attrs=r;var h=new cr(e);return Xr(h,'audio',s),Xr(h,'text',u),h});r.push.apply(r,u),Bs(e.audioTracks,i,l,a),Bs(e.subtitleTracks,n,l,a)}})}},e.loadSteeringManifest=function(t){var e,r=this,i=this.hls.config,n=i.loader;this.loader&&this.loader.destroy(),this.loader=new n(i);try{e=new self.URL(t)}catch(e){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+t)}if('data:'!==e.protocol){var a=0|(this.hls.bandwidthEstimate||i.abrEwmaDefaultEstimate);e.searchParams.set('_HLS_pathway',this.pathwayId),e.searchParams.set('_HLS_throughput',''+a)}var s={responseType:'json',url:e.href},o=i.steeringManifestLoadPolicy.default,l=o.errorRetry||o.timeoutRetry||{},u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},h={onSuccess:function(t,i,n,a){r.log("Loaded steering manifest: \""+e+"\"");var s=t.data;if(1===s.VERSION){r.updated=performance.now(),r.timeToLoad=s.TTL;var o=s['RELOAD-URI'],l=s['PATHWAY-CLONES'],u=s['PATHWAY-PRIORITY'];if(o)try{r.uri=new self.URL(o,e).href}catch(t){return r.enabled=!1,void r.log("Failed to parse Steering Manifest RELOAD-URI: "+o)}r.scheduleRefresh(r.uri||n.url),l&&r.clonePathways(l),u&&r.updatePathwayPriority(u)}else r.log("Steering VERSION "+s.VERSION+" not supported!")},onError:function(t,e,i,n){if(r.log("Error loading steering manifest: "+t.code+" "+t.text+" ("+e.url+")"),r.stopLoad(),410===t.code)return r.enabled=!1,void r.log("Steering manifest "+e.url+" no longer available");var a=1e3*r.timeToLoad;if(429!==t.code)r.scheduleRefresh(r.uri||e.url,a);else{var s=r.loader;if('function'==typeof(null==s?void 0:s.getResponseHeader)){var o=s.getResponseHeader('Retry-After');o&&(a=1e3*parseFloat(o))}r.log("Steering manifest "+e.url+" rate limited")}},onTimeout:function(t,e,i){r.log("Timeout loading steering manifest ("+e.url+")"),r.scheduleRefresh(r.uri||e.url)}};this.log("Requesting steering manifest: "+e),this.loader.load(s,u,h)},e.scheduleRefresh=function(t,e){var r=this;void 0===e&&(e=1e3*this.timeToLoad),self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(function(){r.loadSteeringManifest(t)},e)},t})();function Bs(t,e,r,i){t&&Object.keys(e).forEach(function(n){var a=t.filter(function(t){return t.groupId===n}).map(function(t){var a=o({},t);return a.details=void 0,a.attrs=new U(a.attrs),a.url=a.attrs.URI=Gs(t.url,t.attrs['STABLE-RENDITION-ID'],'PER-RENDITION-URIS',r),a.groupId=a.attrs['GROUP-ID']=e[n],a.attrs['PATHWAY-ID']=i,a});t.push.apply(t,a)})}function Gs(t,e,r,i){var n,a=i.HOST,s=i.PARAMS,o=i[r];e&&(n=null==o?void 0:o[e])&&(t=n);var l=new self.URL(t);return a&&!n&&(l.host=a),s&&Object.keys(s).sort().forEach(function(t){t&&l.searchParams.set(t,s[t])}),l.href}var Ks=/^age:\s*[\d.]+\s*$/im,Hs=(function(){function t(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new H,this.retryDelay=0}var e=t.prototype;return e.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},e.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},e.abort=function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},e.load=function(t,e,r){if(this.stats.loading.start)throw new Error('Loader can only be used once.');this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=r,this.loadInternal()},e.loadInternal=function(){var t=this,e=this.config,r=this.context;if(e){var i=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0,n.aborted=!1;var a=this.xhrSetup;a?Promise.resolve().then(function(){if(!t.stats.aborted)return a(i,r.url)}).catch(function(t){return i.open('GET',r.url,!0),a(i,r.url)}).then(function(){t.stats.aborted||t.openAndSendXhr(i,r,e)}).catch(function(e){t.callbacks.onError({code:i.status,text:e.message},r,i,n)}):this.openAndSendXhr(i,r,e)}},e.openAndSendXhr=function(t,e,r){t.readyState||t.open('GET',e.url,!0);var i=this.context.headers,n=r.loadPolicy,a=n.maxTimeToFirstByteMs,s=n.maxLoadTimeMs;if(i)for(var o in i)t.setRequestHeader(o,i[o]);e.rangeEnd&&t.setRequestHeader('Range','bytes='+e.rangeStart+'-'+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),r.timeout=a&&R(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),t.send()},e.readystatechange=function(){var t=this.context,e=this.loader,r=this.stats;if(t&&e){var i=e.readyState,n=this.config;if(!r.aborted&&i>=2&&(0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),n.timeout!==n.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),n.timeout=n.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),4===i)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;var a=e.status,s='text'!==e.responseType;if(a>=200&&a<300&&(s&&e.response||null!==e.responseText)){r.loading.end=Math.max(self.performance.now(),r.loading.first);var o=s?e.response:e.responseText,l='arraybuffer'===e.responseType?o.byteLength:o.length;if(r.loaded=r.total=l,r.bwEstimate=8e3*r.total/(r.loading.end-r.loading.first),!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(r,t,o,e),!this.callbacks)return;var h={url:e.responseURL,data:o,code:a};this.callbacks.onSuccess(h,r,t,e)}else{var d=n.loadPolicy.errorRetry;wr(d,r.retry,!1,a)?this.retry(d):(M.error(a+" while loading "+t.url),this.callbacks.onError({code:a,text:e.statusText},t,e,r))}}}},e.loadtimeout=function(){var t,e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(wr(e,this.stats.retry,!0))this.retry(e);else{M.warn("timeout while loading "+this.context.url);var r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}},e.retry=function(t){var e=this.context,r=this.stats;this.retryDelay=Dr(t,r.retry),r.retry++,M.warn((status?'HTTP Status '+status:'Timeout')+" while loading "+e.url+", retrying "+r.retry+"/"+t.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},e.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)},e.getCacheAge=function(){var t=null;if(this.loader&&Ks.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader('age');t=e?parseFloat(e):null}return t},e.getResponseHeader=function(t){return this.loader&&new RegExp("^"+t+":\\s*[\\d.]+\\s*$",'im').test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null},t})();function Vs(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}var Ys=/(\d+)-(\d+)\/(\d+)/,Ws=(function(){function t(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||zs,this.controller=new self.AbortController,this.stats=new H}var e=t.prototype;return e.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},e.abortInternal=function(){var t=this.response;null!=t&&t.ok||(this.stats.aborted=!0,this.controller.abort())},e.abort=function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},e.load=function(t,e,r){var i=this,n=this.stats;if(n.loading.start)throw new Error('Loader can only be used once.');n.loading.start=self.performance.now();var a=js(t,this.controller.signal),s=r.onProgress,o='arraybuffer'===t.responseType,l=o?'byteLength':'length',u=e.loadPolicy,h=u.maxTimeToFirstByteMs,d=u.maxLoadTimeMs;this.context=t,this.config=e,this.callbacks=r,this.request=this.fetchSetup(t,a),self.clearTimeout(this.requestTimeout),e.timeout=h&&R(h)?h:d,this.requestTimeout=self.setTimeout(function(){i.abortInternal(),r.onTimeout(n,t,i.response)},e.timeout),self.fetch(this.request).then(function(a){i.response=i.loader=a;var l=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(i.requestTimeout),e.timeout=d,i.requestTimeout=self.setTimeout(function(){i.abortInternal(),r.onTimeout(n,t,i.response)},d-(l-n.loading.start)),!a.ok){var u=a.status,h=a.statusText;throw new Qs(h||'fetch, bad network response',u,a)}return n.loading.first=l,n.total=Xs(a.headers)||n.total,s&&R(e.highWaterMark)?i.loadProgressively(a,n,t,e.highWaterMark,s):o?a.arrayBuffer():'json'===t.responseType?a.json():a.text()}).then(function(a){var o=i.response;self.clearTimeout(i.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);var u=a[l];u&&(n.loaded=n.total=u);var h={url:o.url,data:a,code:o.status};s&&!R(e.highWaterMark)&&s(n,t,a,o),r.onSuccess(h,n,t,o)}).catch(function(e){if(self.clearTimeout(i.requestTimeout),!n.aborted){var a=e&&e.code||0,s=e?e.message:null;r.onError({code:a,text:s},t,e?e.details:null,n)}})},e.getCacheAge=function(){var t=null;if(this.response){var e=this.response.headers.get('age');t=e?parseFloat(e):null}return t},e.getResponseHeader=function(t){return this.response?this.response.headers.get(t):null},e.loadProgressively=function(t,e,r,i,n){void 0===i&&(i=0);var a=new da,s=t.body.getReader();return(function o(){return s.read().then(function(s){if(s.done)return a.dataLength&&n(e,r,a.flush(),t),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return e.loaded+=u,u<i||a.dataLength?(a.push(l),a.dataLength>=i&&n(e,r,a.flush(),t)):n(e,r,l,t),o()}).catch(function(){return Promise.reject()})})()},t})();function js(t,e){var r={method:'GET',mode:'cors',credentials:'same-origin',signal:e,headers:new self.Headers(o({},t.headers))};return t.rangeEnd&&r.headers.set('Range','bytes='+t.rangeStart+'-'+String(t.rangeEnd-1)),r}function qs(t){var e=Ys.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function Xs(t){var e=t.get('Content-Range');if(e){var r=qs(e);if(R(r))return r}var i=t.get('Content-Length');if(i)return parseInt(i)}function zs(t,e){return new self.Request(t.url,e)}var Qs=(function(t){function e(e,r,i){var n;return(n=t.call(this,e)||this).code=void 0,n.details=void 0,n.code=r,n.details=i,n}return l(e,t),e})(f(Error)),$s=/\s/,Js=i(i({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Hs,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:ha,bufferController:Aa,capLevelController:bs,errorController:Vr,fpsController:Ds,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:ht,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:'linear'},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:'linear'}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:{newCue:function(t,e,r,i){for(var n,a,s,o,l,u=[],h=self.VTTCue||self.TextTrackCue,d=0;d<i.rows.length;d++)if(s=!0,o=0,l='',!(n=i.rows[d]).isEmpty()){for(var c,f=0;f<n.chars.length;f++)$s.test(n.chars[f].uchar)&&s?o++:(l+=n.chars[f].uchar,s=!1);n.cueStartTime=e,e===r&&(r+=1e-4),o>=16?o--:o++;var g=Za(l.trim()),v=as(e,r,g);null!=t&&null!=(c=t.cues)&&c.getCueById(v)||((a=new h(e,r,g)).id=v,a.line=d+1,a.align='left',a.position=10+Math.min(80,10*Math.floor(8*o/32)),u.push(a))}return t&&u.length&&(u.sort(function(t,e){return'auto'===t.line||'auto'===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line}),u.forEach(function(e){return We(t,e)})),u}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:'English',captionsTextTrack1LanguageCode:'en',captionsTextTrack2Label:'Spanish',captionsTextTrack2LanguageCode:'es',captionsTextTrack3Label:'Unknown CC',captionsTextTrack3LanguageCode:'',captionsTextTrack4Label:'Unknown CC',captionsTextTrack4LanguageCode:'',renderTextTracksNatively:!0}),{},{subtitleStreamController:pa,subtitleTrackController:Ta,timelineController:Rs,audioStreamController:fa,audioTrackController:ga,emeController:ws,cmcdController:Ns,contentSteeringController:Us});function Zs(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var r=to(t),n=['TimeOut','MaxRetry','RetryDelay','MaxRetryTimeout'];return['manifest','level','frag'].forEach(function(t){var i=('level'===t?'playlist':t)+"LoadPolicy",a=void 0===e[i],s=[];n.forEach(function(n){var o=t+"Loading"+n,l=e[o];if(void 0!==l&&a){s.push(o);var u=r[i].default;switch(e[i]={default:u},n){case'TimeOut':u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case'MaxRetry':u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case'RetryDelay':u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case'MaxRetryTimeout':u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l}}}),s.length&&M.warn("hls.js config: \""+s.join('", "')+"\" setting(s) are deprecated, use \""+i+"\": "+JSON.stringify(e[i]))}),i(i({},r),e)}function to(t){return t&&'object'==typeof t?Array.isArray(t)?t.map(to):Object.keys(t).reduce(function(e,r){return e[r]=to(t[r]),e},{}):t}function eo(t){var e=t.loader;e!==Ws&&e!==Hs?(M.log('[config]: Custom loader detected, cannot enable progressive streaming'),t.progressive=!1):Vs()&&(t.loader=Ws,t.progressive=!0,t.enableSoftwareAES=!0,M.log('[config]: Progressive streaming enabled, using FetchLoader'))}var ro=(function(){function t(e){void 0===e&&(e={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new ta,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,F(e.debug||!1,'Hls instance');var r=this.config=Zs(t.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,r.progressive&&eo(r);var i=r.abrController,n=r.bufferController,a=r.capLevelController,s=r.errorController,o=r.fpsController,l=new s(this),u=this.abrController=new i(this),h=this.bufferController=new n(this),d=this.capLevelController=new a(this),c=new o(this),f=new Ve(this),g=new nr(this),v=r.contentSteeringController,m=v?new v(this):null,p=this.levelController=new qr(this,m),y=new ti(this),T=new li(this.config),E=this.streamController=new oa(this,y,T);d.setStreamController(E),c.setStreamController(E);var S=[f,p,E];m&&S.splice(1,0,m),this.networkControllers=S;var L=[u,h,d,c,g,y];this.audioTrackController=this.createController(r.audioTrackController,S);var R=r.audioStreamController;R&&S.push(new R(this,y,T)),this.subtitleTrackController=this.createController(r.subtitleTrackController,S);var A=r.subtitleStreamController;A&&S.push(new A(this,y,T)),this.createController(r.timelineController,L),T.emeController=this.emeController=this.createController(r.emeController,L),this.cmcdController=this.createController(r.cmcdController,L),this.latencyController=this.createController(ar,L),this.coreComponents=L,S.push(l);var k=l.onErrorOut;'function'==typeof k&&this.on(b.ERROR,k,l)}t.isSupported=function(){return Ki()};var e=t.prototype;return e.createController=function(t,e){if(t){var r=new t(this);return e&&e.push(r),r}return null},e.on=function(t,e,r){void 0===r&&(r=this),this._emitter.on(t,e,r)},e.once=function(t,e,r){void 0===r&&(r=this),this._emitter.once(t,e,r)},e.removeAllListeners=function(t){this._emitter.removeAllListeners(t)},e.off=function(t,e,r,i){void 0===r&&(r=this),this._emitter.off(t,e,r,i)},e.listeners=function(t){return this._emitter.listeners(t)},e.emit=function(t,e,r){return this._emitter.emit(t,e,r)},e.trigger=function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){M.error('An internal error happened while handling event '+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.trigger(b.ERROR,{type:D.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,fatal:!1,event:t,error:e})}return!1},e.listenerCount=function(t){return this._emitter.listenerCount(t)},e.destroy=function(){M.log('destroy'),this.trigger(b.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(t){return t.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(t){return t.destroy()}),this.coreComponents.length=0;var t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null},e.attachMedia=function(t){M.log('attachMedia'),this._media=t,this.trigger(b.MEDIA_ATTACHING,{media:t})},e.detachMedia=function(){M.log('detachMedia'),this.trigger(b.MEDIA_DETACHING,void 0),this._media=null},e.loadSource=function(t){this.stopLoad();var e=this.media,r=this.url,i=this.url=L.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});M.log("loadSource:"+i),e&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(b.MANIFEST_LOADING,{url:t})},e.startLoad=function(t){void 0===t&&(t=-1),M.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},e.stopLoad=function(){M.log('stopLoad'),this.networkControllers.forEach(function(t){t.stopLoad()})},e.swapAudioCodec=function(){M.log('swapAudioCodec'),this.streamController.swapAudioCodec()},e.recoverMediaError=function(){M.log('recoverMediaError');var t=this._media;this.detachMedia(),t&&this.attachMedia(t)},e.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},a(t,[{key:"levels",get:function(){var t=this.levelController.levels;return t||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){M.log("set currentLevel:"+t),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){M.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){M.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){M.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){M.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(M.log("set autoLevelCapping:"+t),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(t){sr.indexOf(t)>-1&&(this._maxHdcpLevel=t)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var r=t.length,i=0;i<r;i++)if(t[i].maxBitrate>=e)return i;return 0}},{key:"maxAutoLevel",get:function(){var t,e=this.levels,r=this.autoLevelCapping,i=this.maxHdcpLevel;if(t=-1===r&&e&&e.length?e.length-1:r,i)for(var n=t;n--;){var a=e[n].attrs['HDCP-LEVEL'];if(a&&a<=i)return n}return t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.14"}},{key:"Events",get:function(){return b}},{key:"ErrorTypes",get:function(){return D}},{key:"ErrorDetails",get:function(){return I}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Js},set:function(e){t.defaultConfig=e}}]),t})();return ro.defaultConfig=void 0,ro})})(!1)},505,[]);
__d(function(e,t,i,n,a,r,o){var s,d;s=window,d=function(){return(function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)})([function(e,t,i){"use strict";var n=i(9),a=i.n(n),r=(function(){function e(){}return e.e=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="[".concat(t,"] > ").concat(i);e.ENABLE_CALLBACK&&e.emitter.emit("log","error",n),e.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))},e.i=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="[".concat(t,"] > ").concat(i);e.ENABLE_CALLBACK&&e.emitter.emit("log","info",n),e.ENABLE_INFO&&(console.info?console.info(n):console.log(n))},e.w=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="[".concat(t,"] > ").concat(i);e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",n),e.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))},e.d=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="[".concat(t,"] > ").concat(i);e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",n),e.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))},e.v=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="[".concat(t,"] > ").concat(i);e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",n),e.ENABLE_VERBOSE&&console.log(n)},e})();r.GLOBAL_TAG="mpegts.js",r.FORCE_GLOBAL_TAG=!1,r.ENABLE_ERROR=!0,r.ENABLE_INFO=!0,r.ENABLE_WARN=!0,r.ENABLE_DEBUG=!0,r.ENABLE_VERBOSE=!0,r.ENABLE_CALLBACK=!1,r.emitter=new a.a,t.a=r},function(e,t,i){"use strict";var n;!(function(e){e.IO_ERROR="io_error",e.DEMUX_ERROR="demux_error",e.INIT_SEGMENT="init_segment",e.MEDIA_SEGMENT="media_segment",e.LOADING_COMPLETE="loading_complete",e.RECOVERED_EARLY_EOF="recovered_early_eof",e.MEDIA_INFO="media_info",e.METADATA_ARRIVED="metadata_arrived",e.SCRIPTDATA_ARRIVED="scriptdata_arrived",e.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",e.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",e.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",e.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",e.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",e.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",e.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",e.STATISTICS_INFO="statistics_info",e.RECOMMEND_SEEKPOINT="recommend_seekpoint"})(n||(n={})),t.a=n},function(e,t,i){"use strict";i.d(t,"c",function(){return a}),i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o});var n=i(3),a={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},r={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o=(function(){function e(e){this._type=e||"undefined",this._status=a.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=a.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===a.kConnecting||this._status===a.kBuffering},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new n.c("Unimplemented abstract function!")},e.prototype.abort=function(){throw new n.c("Unimplemented abstract function!")},e})()},function(e,t,i){"use strict";i.d(t,"d",function(){return r}),i.d(t,"a",function(){return o}),i.d(t,"b",function(){return s}),i.d(t,"c",function(){return d});var n,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=(function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.message},e})(),o=(function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),t})(r),s=(function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),t})(r),d=(function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),t})(r)},function(e,t,i){"use strict";var n;!(function(e){e.ERROR="error",e.LOADING_COMPLETE="loading_complete",e.RECOVERED_EARLY_EOF="recovered_early_eof",e.MEDIA_INFO="media_info",e.METADATA_ARRIVED="metadata_arrived",e.SCRIPTDATA_ARRIVED="scriptdata_arrived",e.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",e.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",e.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",e.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",e.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",e.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",e.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",e.STATISTICS_INFO="statistics_info",e.DESTROYING="destroying"})(n||(n={})),t.a=n},function(e,t,i){"use strict";var n={};!(function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],a={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},r={};if(a.browser){r[a.browser]=!0;var o=a.majorVersion.split(".");r.version={major:parseInt(a.majorVersion,10),string:a.version},o.length>1&&(r.version.minor=parseInt(o[1],10)),o.length>2&&(r.version.build=parseInt(o[2],10))}for(var s in a.platform&&(r[a.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),(r.rv||r.iemobile)&&(r.rv&&delete r.rv,a.browser="msie",r.msie=!0),r.edge&&(delete r.edge,a.browser="msedge",r.msedge=!0),r.opr&&(a.browser="opera",r.opera=!0),r.safari&&r.android&&(a.browser="android",r.android=!0),r.name=a.browser,r.platform=a.platform,n)n.hasOwnProperty(s)&&delete n[s];Object.assign(n,r)})(),t.a=n},function(e,t,i){"use strict";t.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(e,t,i){"use strict";var n;!(function(e){e.ERROR="error",e.SOURCE_OPEN="source_open",e.UPDATE_END="update_end",e.BUFFER_FULL="buffer_full",e.START_STREAMING="start_streaming",e.END_STREAMING="end_streaming"})(n||(n={})),t.a=n},function(e,t,i){"use strict";var n=i(9),a=i.n(n),r=i(0),o=(function(){function e(){}return Object.defineProperty(e,"forceGlobalTag",{get:function(){return r.a.FORCE_GLOBAL_TAG},set:function(t){r.a.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"globalTag",{get:function(){return r.a.GLOBAL_TAG},set:function(t){r.a.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAll",{get:function(){return r.a.ENABLE_VERBOSE&&r.a.ENABLE_DEBUG&&r.a.ENABLE_INFO&&r.a.ENABLE_WARN&&r.a.ENABLE_ERROR},set:function(t){r.a.ENABLE_VERBOSE=t,r.a.ENABLE_DEBUG=t,r.a.ENABLE_INFO=t,r.a.ENABLE_WARN=t,r.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableDebug",{get:function(){return r.a.ENABLE_DEBUG},set:function(t){r.a.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableVerbose",{get:function(){return r.a.ENABLE_VERBOSE},set:function(t){r.a.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableInfo",{get:function(){return r.a.ENABLE_INFO},set:function(t){r.a.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWarn",{get:function(){return r.a.ENABLE_WARN},set:function(t){r.a.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableError",{get:function(){return r.a.ENABLE_ERROR},set:function(t){r.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:r.a.GLOBAL_TAG,forceGlobalTag:r.a.FORCE_GLOBAL_TAG,enableVerbose:r.a.ENABLE_VERBOSE,enableDebug:r.a.ENABLE_DEBUG,enableInfo:r.a.ENABLE_INFO,enableWarn:r.a.ENABLE_WARN,enableError:r.a.ENABLE_ERROR,enableCallback:r.a.ENABLE_CALLBACK}},e.applyConfig=function(e){r.a.GLOBAL_TAG=e.globalTag,r.a.FORCE_GLOBAL_TAG=e.forceGlobalTag,r.a.ENABLE_VERBOSE=e.enableVerbose,r.a.ENABLE_DEBUG=e.enableDebug,r.a.ENABLE_INFO=e.enableInfo,r.a.ENABLE_WARN=e.enableWarn,r.a.ENABLE_ERROR=e.enableError,r.a.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var i=e.getConfig();t.emit("change",i)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){r.a.emitter.addListener("log",t),r.a.emitter.listenerCount("log")>0&&(r.a.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){r.a.emitter.removeListener("log",t),0===r.a.emitter.listenerCount("log")&&(r.a.ENABLE_CALLBACK=!1,e._notifyChange())},e})();o.emitter=new a.a,t.a=o},function(e,t,i){"use strict";var n,a="object"==typeof Reflect?Reflect:null,r=a&&"function"==typeof a.apply?a.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};n=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(i,n){function a(i){e.removeListener(t,r),n(i)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",a),i([].slice.call(arguments))}g(e,t,r,{once:!0}),"error"!==t&&(function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})})(e,a)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var d=10;function _(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,i,n){var a,r,o,s;if(_(i),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),r=e._events),o=r[t]),void 0===o)o=r[t]=i,++e._eventsCount;else if("function"==typeof o?o=r[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(a=c(e))>0&&o.length>a&&!o.warned){o.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=o.length,s=d,console&&console.warn&&console.warn(s)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},a=l.bind(n);return a.listener=i,n.wrapFn=a,a}function f(e,t,i){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?i?[a.listener||a]:[a]:i?(function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t})(a):m(a,a.length)}function p(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function g(e,t,i,n){if("function"==typeof e.on)n.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function a(r){n.once&&e.removeEventListener(t,a),i(r)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var d=a[e];if(void 0===d)return!1;if("function"==typeof d)r(d,this,t);else{var _=d.length,c=m(d,_);for(i=0;i<_;++i)r(c[i],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return _(t),this.on(e,u(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return _(t),this.prependListener(e,u(this,e,t)),this},s.prototype.removeListener=function(e,t){var i,n,a,r,o;if(_(t),void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(a=-1,r=i.length-1;r>=0;r--)if(i[r]===t||i[r].listener===t){o=i[r].listener,a=r;break}if(a<0)return this;0===a?i.shift():(function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()})(i,a),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var a,r=Object.keys(i);for(n=0;n<r.length;++n)"removeListener"!==(a=r[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o});var n=i(2),a=i(6),r={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},o={NETWORK_EXCEPTION:n.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:n.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:n.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:n.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:a.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:a.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:a.a.CODEC_UNSUPPORTED}},function(e,t,i){"use strict";i.d(t,"d",function(){return n}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return r}),i.d(t,"c",function(){return o});var n=function(e,t,i,n,a){this.dts=e,this.pts=t,this.duration=i,this.originalDts=n,this.isSyncPoint=a,this.fileposition=null},a=(function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e})(),r=(function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,i=0,n=t.length-1,a=0,r=0,o=n;for(e<t[0].dts&&(i=0,r=o+1);r<=o;){if((a=r+Math.floor((o-r)/2))===n||e>=t[a].dts&&e<t[a+1].dts){i=a;break}t[a].dts<e?r=a+1:o=a-1}return this._list[i]},e})(),o=(function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var i=t.length-1,n=0,a=0,r=i,o=0;if(e<t[0].originalBeginDts)return-1;for(;a<=r;){if((n=a+Math.floor((r-a)/2))===i||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){o=n;break}t[n].originalBeginDts<e?a=n+1:r=n-1}return o},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,i=e,n=this._lastAppendLocation,a=0;-1!==n&&n<t.length&&i.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&i.originalBeginDts<t[n+1].originalBeginDts)?a=n+1:t.length>0&&(a=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=a,this._list.splice(a,0,i)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null},e})()},function(e,t,i){"use strict";var n=(function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}},e.prototype._search=function(e,t){var i=0,n=e.length-1,a=0,r=0,o=n;for(t<e[0]&&(i=0,r=o+1);r<=o;){if((a=r+Math.floor((o-r)/2))===n||t>=e[a]&&t<e[a+1]){i=a;break}e[a]<t?r=a+1:o=a-1}return i},e})();t.a=n},function(e,t,i){"use strict";var n=i(9),a=i.n(n),r=i(0),o=i(5),s=i(12);function d(e,t,i){var n=e;if(t+i<n.length){for(;i--;)if(128!=(192&n[++t]))return!1;return!0}return!1}var _,c=function(e){for(var t=[],i=e,n=0,a=e.length;n<a;)if(i[n]<128)t.push(String.fromCharCode(i[n])),++n;else{if(i[n]<192);else if(i[n]<224){if(d(i,n,1)&&(r=(31&i[n])<<6|63&i[n+1])>=128){t.push(String.fromCharCode(65535&r)),n+=2;continue}}else if(i[n]<240){if(d(i,n,2)&&(r=(15&i[n])<<12|(63&i[n+1])<<6|63&i[n+2])>=2048&&55296!=(63488&r)){t.push(String.fromCharCode(65535&r)),n+=3;continue}}else if(i[n]<248){var r;if(d(i,n,3)&&(r=(7&i[n])<<18|(63&i[n+1])<<12|(63&i[n+2])<<6|63&i[n+3])>65536&&r<1114112){r-=65536,t.push(String.fromCharCode(r>>>10|55296)),t.push(String.fromCharCode(1023&r|56320)),n+=4;continue}}t.push(String.fromCharCode(65533)),++n}return t.join("")},h=i(3),l=(_=new ArrayBuffer(2),new DataView(_).setInt16(0,256,!0),256===new Int16Array(_)[0]),u=(function(){function e(){}return e.parseScriptData=function(t,i,n){var a={};try{var o=e.parseValue(t,i,n),s=e.parseValue(t,i+o.size,n-o.size);a[o.data]=s.data}catch(e){r.a.e("AMF",e.toString())}return a},e.parseObject=function(t,i,n){if(n<3)throw new h.a("Data not enough when parse ScriptDataObject");var a=e.parseString(t,i,n),r=e.parseValue(t,i+a.size,n-a.size),o=r.objectEnd;return{data:{name:a.data,value:r.data},size:a.size+r.size,objectEnd:o}},e.parseVariable=function(t,i,n){return e.parseObject(t,i,n)},e.parseString=function(e,t,i){if(i<2)throw new h.a("Data not enough when parse String");var n=new DataView(e,t,i).getUint16(0,!l);return{data:n>0?c(new Uint8Array(e,t+2,n)):"",size:2+n}},e.parseLongString=function(e,t,i){if(i<4)throw new h.a("Data not enough when parse LongString");var n=new DataView(e,t,i).getUint32(0,!l);return{data:n>0?c(new Uint8Array(e,t+4,n)):"",size:4+n}},e.parseDate=function(e,t,i){if(i<10)throw new h.a("Data size invalid when parse Date");var n=new DataView(e,t,i),a=n.getFloat64(0,!l),r=n.getInt16(8,!l);return{data:new Date(a+=60*r*1e3),size:10}},e.parseValue=function(t,i,n){if(n<1)throw new h.a("Data not enough when parse Value");var a,o=new DataView(t,i,n),s=1,d=o.getUint8(0),_=!1;try{switch(d){case 0:a=o.getFloat64(1,!l),s+=8;break;case 1:a=!!o.getUint8(1),s+=1;break;case 2:var c=e.parseString(t,i+1,n-1);a=c.data,s+=c.size;break;case 3:a={};var u=0;for(9==(16777215&o.getUint32(n-4,!l))&&(u=3);s<n-4;){var f=e.parseObject(t,i+s,n-s-u);if(f.objectEnd)break;a[f.data.name]=f.data.value,s+=f.size}s<=n-3&&9==(16777215&o.getUint32(s-1,!l))&&(s+=3);break;case 8:for(a={},s+=4,u=0,9==(16777215&o.getUint32(n-4,!l))&&(u=3);s<n-8;){var p=e.parseVariable(t,i+s,n-s-u);if(p.objectEnd)break;a[p.data.name]=p.data.value,s+=p.size}s<=n-3&&9==(16777215&o.getUint32(s-1,!l))&&(s+=3);break;case 9:a=void 0,s=1,_=!0;break;case 10:a=[];var m=o.getUint32(1,!l);s+=4;for(var g=0;g<m;g++){var v=e.parseValue(t,i+s,n-s);a.push(v.data),s+=v.size}break;case 11:var y=e.parseDate(t,i+1,n-1);a=y.data,s+=y.size;break;case 12:var S=e.parseString(t,i+1,n-1);a=S.data,s+=S.size;break;default:s=n,r.a.w("AMF","Unsupported AMF value type "+d)}}catch(e){r.a.e("AMF",e.toString())}return{data:a,size:s,objectEnd:_}},e})(),f=(function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new h.a("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new h.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var i=this._current_word_bits_left?this._current_word:0;i>>>=32-this._current_word_bits_left;var n=e-this._current_word_bits_left;this._fillCurrentWord();var a=Math.min(n,this._current_word_bits_left),r=this._current_word>>>32-a;return this._current_word<<=a,this._current_word_bits_left-=a,i<<a|r},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(this._current_word&2147483648>>>e)return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e})(),p=(function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),a=0,r=0;r<i;r++)r>=2&&3===t[r]&&0===t[r-1]&&0===t[r-2]||(n[a]=t[r],a++);return new Uint8Array(n.buffer,0,a)},e.parseSPS=function(t){for(var i=t.subarray(1,4),n="avc1.",a=0;a<3;a++){var r=i[a].toString(16);r.length<2&&(r="0"+r),n+=r}var o=e._ebsp2rbsp(t),s=new f(o);s.readByte();var d=s.readByte();s.readByte();var _=s.readByte();s.readUEG();var c=e.getProfileString(d),h=e.getLevelString(_),l=1,u=420,p=8,m=8;if((100===d||110===d||122===d||244===d||44===d||83===d||86===d||118===d||128===d||138===d||144===d)&&(3===(l=s.readUEG())&&s.readBits(1),l<=3&&(u=[0,420,422,444][l]),p=s.readUEG()+8,m=s.readUEG()+8,s.readBits(1),s.readBool()))for(var g=3!==l?8:12,v=0;v<g;v++)s.readBool()&&(v<6?e._skipScalingList(s,16):e._skipScalingList(s,64));s.readUEG();var y=s.readUEG();if(0===y)s.readUEG();else if(1===y){s.readBits(1),s.readSEG(),s.readSEG();var S=s.readUEG();for(v=0;v<S;v++)s.readSEG()}var b=s.readUEG();s.readBits(1);var A=s.readUEG(),E=s.readUEG(),R=s.readBits(1);0===R&&s.readBits(1),s.readBits(1);var T=0,L=0,k=0,w=0;s.readBool()&&(T=s.readUEG(),L=s.readUEG(),k=s.readUEG(),w=s.readUEG());var M=1,C=1,D=0,O=!0,B=0,I=0;if(s.readBool()){if(s.readBool()){var P=s.readByte();P>0&&P<16?(M=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][P-1],C=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][P-1]):255===P&&(M=s.readByte()<<8|s.readByte(),C=s.readByte()<<8|s.readByte())}if(s.readBool()&&s.readBool(),s.readBool()&&(s.readBits(4),s.readBool()&&s.readBits(24)),s.readBool()&&(s.readUEG(),s.readUEG()),s.readBool()){var x=s.readBits(32),U=s.readBits(32);O=s.readBool(),D=(B=U)/(I=2*x)}}var N=1;1===M&&1===C||(N=M/C);var V=0,G=0;0===l?(V=1,G=2-R):(V=3===l?1:2,G=(1===l?2:1)*(2-R));var F=16*(A+1),j=16*(E+1)*(2-R);F-=(T+L)*V,j-=(k+w)*G;var z=Math.ceil(F*N);return s.destroy(),s=null,{codec_mimetype:n,profile_idc:d,level_idc:_,profile_string:c,level_string:h,chroma_format_idc:l,bit_depth:p,bit_depth_luma:p,bit_depth_chroma:m,ref_frames:b,chroma_format:u,chroma_format_string:e.getChromaFormatString(u),frame_rate:{fixed:O,fps:D,fps_den:I,fps_num:B},sar_ratio:{width:M,height:C},codec_size:{width:F,height:j},present_size:{width:z,height:j}}},e._skipScalingList=function(e,t){for(var i=8,n=8,a=0;a<t;a++)0!==n&&(n=(i+e.readSEG()+256)%256),i=0===n?i:n},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e})(),m=i(6),g=(function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),a=0,r=0;r<i;r++)r>=2&&3===t[r]&&0===t[r-1]&&0===t[r-2]||(n[a]=t[r],a++);return new Uint8Array(n.buffer,0,a)},e.parseVPS=function(t){var i=e._ebsp2rbsp(t),n=new f(i);return n.readByte(),n.readByte(),n.readBits(4),n.readBits(2),n.readBits(6),{num_temporal_layers:n.readBits(3)+1,temporal_id_nested:n.readBool()}},e.parseSPS=function(t){var i=e._ebsp2rbsp(t),n=new f(i);n.readByte(),n.readByte();for(var a=0,r=0,o=0,s=0,d=(n.readBits(4),n.readBits(3)),_=(n.readBool(),n.readBits(2)),c=n.readBool(),h=n.readBits(5),l=n.readByte(),u=n.readByte(),p=n.readByte(),m=n.readByte(),g=n.readByte(),v=n.readByte(),y=n.readByte(),S=n.readByte(),b=n.readByte(),A=n.readByte(),E=n.readByte(),R=[],T=[],L=0;L<d;L++)R.push(n.readBool()),T.push(n.readBool());if(d>0)for(L=d;L<8;L++)n.readBits(2);for(L=0;L<d;L++)R[L]&&(n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte()),T[L]&&n.readByte();n.readUEG();var k=n.readUEG();3==k&&n.readBits(1);var w=n.readUEG(),M=n.readUEG();n.readBool()&&(a+=n.readUEG(),r+=n.readUEG(),o+=n.readUEG(),s+=n.readUEG());var C=n.readUEG(),D=n.readUEG(),O=n.readUEG();for(L=n.readBool()?0:d;L<=d;L++)n.readUEG(),n.readUEG(),n.readUEG();if(n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG(),n.readBool()&&n.readBool())for(var B=0;B<4;B++)for(var I=0;I<(3===B?2:6);I++)if(n.readBool()){var P=Math.min(64,1<<4+(B<<1));for(B>1&&n.readSEG(),L=0;L<P;L++)n.readSEG()}else n.readUEG();n.readBool(),n.readBool(),n.readBool()&&(n.readByte(),n.readUEG(),n.readUEG(),n.readBool());var x=n.readUEG(),U=0;for(L=0;L<x;L++){var N=!1;if(0!==L&&(N=n.readBool()),N){L===x&&n.readUEG(),n.readBool(),n.readUEG();for(var V=0,G=0;G<=U;G++){var F=n.readBool(),j=!1;F||(j=n.readBool()),(F||j)&&V++}U=V}else{var z=n.readUEG(),H=n.readUEG();for(U=z+H,G=0;G<z;G++)n.readUEG(),n.readBool();for(G=0;G<H;G++)n.readUEG(),n.readBool()}}if(n.readBool()){var q=n.readUEG();for(L=0;L<q;L++){for(G=0;G<O+4;G++)n.readBits(1);n.readBits(1)}}var K=0,W=1,Y=1,X=!1,Q=1,J=1;if(n.readBool(),n.readBool(),n.readBool()){if(n.readBool()){var Z=n.readByte();Z>0&&Z<=16?(W=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Z-1],Y=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Z-1]):255===Z&&(W=n.readBits(16),Y=n.readBits(16))}if(n.readBool()&&n.readBool(),n.readBool()&&(n.readBits(3),n.readBool(),n.readBool()&&(n.readByte(),n.readByte(),n.readByte())),n.readBool()&&(n.readUEG(),n.readUEG()),n.readBool(),n.readBool(),n.readBool(),n.readBool()&&(n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG()),n.readBool()&&(Q=n.readBits(32),J=n.readBits(32),n.readBool()&&n.readUEG(),n.readBool())){var $,ee,te=!1;for($=n.readBool(),ee=n.readBool(),($||ee)&&((te=n.readBool())&&(n.readByte(),n.readBits(5),n.readBool(),n.readBits(5)),n.readBits(4),n.readBits(4),te&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5)),L=0;L<=d;L++){var ie=n.readBool();X=ie;var ne=!0,ae=1;ie||(ne=n.readBool());var re=!1;if(ne?n.readUEG():re=n.readBool(),re||(ae=n.readUEG()+1),$){for(G=0;G<ae;G++)n.readUEG(),n.readUEG(),te&&(n.readUEG(),n.readUEG());n.readBool()}if(ee){for(G=0;G<ae;G++)n.readUEG(),n.readUEG(),te&&(n.readUEG(),n.readUEG());n.readBool()}}}n.readBool()&&(n.readBool(),n.readBool(),n.readBool(),K=n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG())}n.readBool();var oe="hvc1.".concat(h,".1.L").concat(E,".B0"),se=w-(a+r)*(1===k||2===k?2:1),de=M-(o+s)*(1===k?2:1),_e=1;return 1!==W&&1!==Y&&(_e=W/Y),n.destroy(),n=null,{codec_mimetype:oe,profile_string:e.getProfileString(h),level_string:e.getLevelString(E),profile_idc:h,bit_depth:C+8,ref_frames:1,chroma_format:k,chroma_format_string:e.getChromaFormatString(k),general_level_idc:E,general_profile_space:_,general_tier_flag:c,general_profile_idc:h,general_profile_compatibility_flags_1:l,general_profile_compatibility_flags_2:u,general_profile_compatibility_flags_3:p,general_profile_compatibility_flags_4:m,general_constraint_indicator_flags_1:g,general_constraint_indicator_flags_2:v,general_constraint_indicator_flags_3:y,general_constraint_indicator_flags_4:S,general_constraint_indicator_flags_5:b,general_constraint_indicator_flags_6:A,min_spatial_segmentation_idc:K,constant_frame_rate:0,chroma_format_idc:k,bit_depth_luma_minus8:C,bit_depth_chroma_minus8:D,frame_rate:{fixed:X,fps:J/Q,fps_den:Q,fps_num:J},sar_ratio:{width:W,height:Y},codec_size:{width:se,height:de},present_size:{width:se*_e,height:de}}},e.parsePPS=function(t){var i=e._ebsp2rbsp(t),n=new f(i);n.readByte(),n.readByte(),n.readUEG(),n.readUEG(),n.readBool(),n.readBool(),n.readBits(3),n.readBool(),n.readBool(),n.readUEG(),n.readUEG(),n.readSEG(),n.readBool(),n.readBool(),n.readBool()&&n.readUEG(),n.readSEG(),n.readSEG(),n.readBool(),n.readBool(),n.readBool(),n.readBool();var a=n.readBool(),r=n.readBool(),o=1;return r&&a?o=0:r?o=3:a&&(o=2),{parallelismType:o}},e.getChromaFormatString=function(e){switch(e){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},e.getProfileString=function(e){switch(e){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},e.getLevelString=function(e){return(e/30).toFixed(1)},e})();function v(e){return e.byteOffset%2==0&&e.byteLength%2==0}function y(e){return e.byteOffset%4==0&&e.byteLength%4==0}function S(e,t){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var b,A=function(e,t){return e.byteLength===t.byteLength&&(y(e)&&y(t)?(function(e,t){return S(new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4))})(e,t):v(e)&&v(t)?(function(e,t){return S(new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2))})(e,t):(function(e,t){return S(e,t)})(e,t))},E=function(){return(E=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},R=(function(){function e(){}return e.parseOBUs=function(t,i){for(var n=0;n<t.byteLength;){var a=n,r=(t[n],(120&t[n])>>3),o=!!(4&t[n]),s=!!(2&t[n]);t[n],n+=1,o&&(n+=1);var d=Number.POSITIVE_INFINITY;if(s){d=0;for(var _=0;;_++){var c=t[n++];if(d|=(127&c)<<7*_,!(128&c))break}}console.log(r),1===r?i=E(E({},e.parseSeuqneceHeader(t.subarray(n,n+d))),{sequence_header_data:t.subarray(a,n+d)}):(3==r&&i||6==r&&i)&&(i=e.parseOBUFrameHeader(t.subarray(n,n+d),0,0,i)),n+=d}return i},e.parseSeuqneceHeader=function(t){var i=new f(t),n=i.readBits(3),a=(i.readBool(),i.readBool()),r=!0,o=0,s=1,d=void 0,_=[];if(a)_.push({operating_point_idc:0,level:i.readBits(5),tier:0});else{if(i.readBool()){var c=i.readBits(32),h=i.readBits(32),l=i.readBool();if(l){for(var u=0;0===i.readBits(1);)u+=1;u>=32||i.readBits(u)}o=h,s=c,r=l,i.readBool()&&(i.readBits(5),i.readBits(32),d=i.readBits(5),i.readBits(5))}for(var p=i.readBool(),m=i.readBits(5),g=0;g<=m;g++){var v=i.readBits(12),y=i.readBits(5),S=y>7?i.readBits(1):0;_.push({operating_point_idc:v,level:y,tier:S}),p&&i.readBool()&&i.readBits(4)}}var b=_[0],A=b.level,E=b.tier,R=i.readBits(4),T=i.readBits(4),L=i.readBits(R+1)+1,k=i.readBits(T+1)+1,w=!1;a||(w=i.readBool()),w&&(i.readBits(4),i.readBits(4)),i.readBool(),i.readBool(),i.readBool();var M=!1,C=2,D=2,O=0;a||(i.readBool(),i.readBool(),i.readBool(),i.readBool(),(M=i.readBool())&&(i.readBool(),i.readBool()),D=(C=i.readBool()?2:i.readBits(1))?i.readBool()?2:i.readBits(1):2,O=M?i.readBits(3)+1:0);var B=i.readBool(),I=(i.readBool(),i.readBool(),i.readBool()),P=8;P=2===n&&I?i.readBool()?12:10:I?10:8;var x=!1;1!==n&&(x=i.readBool()),i.readBool()&&(i.readBits(8),i.readBits(8),i.readBits(8));var U=1,N=1;return x?(i.readBits(1),U=1,N=1):(i.readBits(1),0==n?(U=1,N=1):1==n?(U=0,N=0):12==P?i.readBits(1)&&i.readBits(1):(U=1,N=0),U&&N&&i.readBits(2),i.readBits(1)),i.readBool(),i.destroy(),i=null,{codec_mimetype:"av01.".concat(n,".").concat(e.getLevelString(A,E),".").concat(P.toString(10).padStart(2,"0")),level:A,tier:E,level_string:e.getLevelString(A,E),profile_idc:n,profile_string:"".concat(n),bit_depth:P,ref_frames:1,chroma_format:e.getChromaFormat(x,U,N),chroma_format_string:e.getChromaFormatString(x,U,N),sequence_header:{frame_id_numbers_present_flag:w,additional_frame_id_length_minus_1:void 0,delta_frame_id_length_minus_2:void 0,reduced_still_picture_header:a,decoder_model_info_present_flag:!1,operating_points:_,buffer_removal_time_length_minus_1:d,equal_picture_interval:r,seq_force_screen_content_tools:C,seq_force_integer_mv:D,enable_order_hint:M,order_hint_bits:O,enable_superres:B,frame_width_bit:R+1,frame_height_bit:T+1,max_frame_width:L,max_frame_height:k},keyframe:void 0,frame_rate:{fixed:r,fps:o/s,fps_den:s,fps_num:o}}},e.parseOBUFrameHeader=function(t,i,n,a){var r=a.sequence_header,o=new f(t),s=(r.max_frame_width,r.max_frame_height,0);r.frame_id_numbers_present_flag&&(s=r.additional_frame_id_length_minus_1+r.delta_frame_id_length_minus_2+3);var d=0,_=!0,c=!0,h=!1;if(!r.reduced_still_picture_header){if(o.readBool())return a;_=2===(d=o.readBits(2))||0===d,(c=o.readBool())&&r.decoder_model_info_present_flag&&r.equal_picture_interval,c&&o.readBool(),h=!!(3===d||0===d&&c)||o.readBool()}a.keyframe=_,o.readBool();var l,u=r.seq_force_screen_content_tools;if(2===r.seq_force_screen_content_tools&&(u=o.readBits(1)),u&&(r.seq_force_integer_mv,2==r.seq_force_integer_mv&&o.readBits(1)),r.frame_id_numbers_present_flag&&o.readBits(s),l=3==d||!r.reduced_still_picture_header&&o.readBool(),o.readBits(r.order_hint_bits),_||h||o.readBits(3),r.decoder_model_info_present_flag&&o.readBool())for(var p=0;p<=r.operating_points_cnt_minus_1;p++)if(r.operating_points[p].decoder_model_present_for_this_op[p]){var m=r.operating_points[p].operating_point_idc;(0===m||m>>i&1&&m>>n+8&1)&&o.readBits(r.buffer_removal_time_length_minus_1+1)}var g=255;if(3===d||0==d&&c||(g=o.readBits(8)),(_||255!==g)&&h&&r.enable_order_hint)for(var v=0;v<8;v++)o.readBits(r.order_hint_bits);if(_){var y=e.frameSizeAndRenderSize(o,l,r);a.codec_size={width:y.FrameWidth,height:y.FrameHeight},a.present_size={width:y.RenderWidth,height:y.RenderHeight},a.sar_ratio={width:y.RenderWidth/y.FrameWidth,height:y.RenderHeight/y.FrameHeight}}return o.destroy(),o=null,a},e.frameSizeAndRenderSize=function(e,t,i){var n=i.max_frame_width,a=i.max_frame_height;t&&(n=e.readBits(i.frame_width_bit)+1,a=e.readBits(i.frame_height_bit)+1);var r=!1;i.enable_superres&&(r=e.readBool());var o=8;r&&(o=e.readBits(3)+9);var s=n;n=Math.floor((8*s+o/2)/o);var d=s,_=a;if(e.readBool()){var c=e.readBits(16)+1,h=e.readBits(16)+1;d=e.readBits(c)+1,_=e.readBits(h)+1}return{UpscaledWidth:s,FrameWidth:n,FrameHeight:a,RenderWidth:d,RenderHeight:_}},e.getLevelString=function(e,t){return"".concat(e.toString(10).padStart(2,"0")).concat(0===t?"M":"H")},e.getChromaFormat=function(e,t,i){return e?0:0===t&&0===i?3:1===t&&0===i?2:1===t&&1===i?1:Number.NaN},e.getChromaFormatString=function(e,t,i){return e?"4:0:0":0===t&&0===i?"4:4:4":1===t&&0===i?"4:2:2":1===t&&1===i?"4:2:0":"Unknown"},e})(),T=(function(){function e(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new s.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]})()}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e);if(t.byteLength<9)return{needMoreData:!0};var i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;var n,a=(4&t[4])>>>2!=0,r=!!(1&t[4]),o=(n=t)[5]<<24|n[6]<<16|n[7]<<8|n[8];return o<9?i:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:a,hasVideoTrack:r}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedDuration",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasAudio",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasVideo",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new s.a},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,i){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new h.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var n=0,a=this._littleEndian;if(0===i){if(!(t.byteLength>13))return 0;n=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,i+n!==this._dataOffset&&r.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==(o=new DataView(t,n)).getUint32(0,!a)&&r.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),n+=4);n<t.byteLength;){this._dispatch=!0;var o=new DataView(t,n);if(n+11+4>t.byteLength)break;var s=o.getUint8(0),d=16777215&o.getUint32(0,!a);if(n+11+d+4>t.byteLength)break;if(8===s||9===s||18===s){var _=o.getUint8(4),c=o.getUint8(5),l=o.getUint8(6)|c<<8|_<<16|o.getUint8(7)<<24;16777215&o.getUint32(7,!a)&&r.a.w(this.TAG,"Meet tag which has StreamID != 0!");var u=n+11;switch(s){case 8:this._parseAudioData(t,u,d,l);break;case 9:this._parseVideoData(t,u,d,l,i+n);break;case 18:this._parseScriptData(t,u,d)}var f=o.getUint32(11+d,!a);f!==11+d&&r.a.w(this.TAG,"Invalid PrevTagSize ".concat(f)),n+=11+d+4}else r.a.w(this.TAG,"Unsupported tag type ".concat(s,", skipped")),n+=11+d+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),n},e.prototype._parseScriptData=function(e,t,i){var n=u.parseScriptData(e,t,i);if(n.hasOwnProperty("onMetaData")){if(null==n.onMetaData||"object"!=typeof n.onMetaData)return void r.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&r.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=n;var a=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},a)),"boolean"==typeof a.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=a.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof a.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=a.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof a.audiodatarate&&(this._mediaInfo.audioDataRate=a.audiodatarate),"number"==typeof a.videodatarate&&(this._mediaInfo.videoDataRate=a.videodatarate),"number"==typeof a.width&&(this._mediaInfo.width=a.width),"number"==typeof a.height&&(this._mediaInfo.height=a.height),"number"==typeof a.duration){if(!this._durationOverrided){var o=Math.floor(a.duration*this._timescale);this._duration=o,this._mediaInfo.duration=o}}else this._mediaInfo.duration=0;if("number"==typeof a.framerate){var s=Math.floor(1e3*a.framerate);if(s>0){var d=s/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=d,this._referenceFrameRate.fps_num=s,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=d}}if("object"==typeof a.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var _=a.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(_),a.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=a,r.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(n).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},n))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],i=[],n=1;n<e.times.length;n++){var a=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(a),i.push(e.filepositions[n])}return{times:t,filepositions:i}},e.prototype._parseAudioData=function(e,t,i,n){if(i<=1)r.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var a=new DataView(e,t,i).getUint8(0),o=a>>>4;if(9!==o)if(2===o||10===o){var s=0,d=(12&a)>>>2;if(d>=0&&d<=4){s=this._flvSoundRateTable[d];var _=1&a,c=this._audioMetadata,h=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={}).type="audio",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=s,c.channelCount=0===_?1:2),10===o){var l=this._parseAACAudioData(e,t+1,i-1);if(null==l)return;if(0===l.packetType){if(c.config){if(A(l.data.config,c.config))return;r.a.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}var u=l.data;c.audioSampleRate=u.samplingRate,c.channelCount=u.channelCount,c.codec=u.codec,c.originalCodec=u.originalCodec,c.config=u.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,r.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c),(g=this._mediaInfo).audioCodec=c.originalCodec,g.audioSampleRate=c.audioSampleRate,g.audioChannelCount=c.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}else if(1===l.packetType){var f=this._timestampBase+n,p={unit:l.data,length:l.data.byteLength,dts:f,pts:f};h.samples.push(p),h.length+=l.data.length}else r.a.e(this.TAG,"Flv: Unsupported AAC data type ".concat(l.packetType))}else if(2===o){if(!c.codec){var g;if(null==(u=this._parseMP3AudioData(e,t+1,i-1,!0)))return;c.audioSampleRate=u.samplingRate,c.channelCount=u.channelCount,c.codec=u.codec,c.originalCodec=u.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,r.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",c),(g=this._mediaInfo).audioCodec=c.codec,g.audioSampleRate=c.audioSampleRate,g.audioChannelCount=c.channelCount,g.audioDataRate=u.bitRate,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}var v=this._parseMP3AudioData(e,t+1,i-1,!1);if(null==v)return;f=this._timestampBase+n;var y={unit:v,length:v.byteLength,dts:f,pts:f};h.samples.push(y),h.length+=v.length}}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+d)}else this._onError(m.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+o);else{if(i<=5)return void r.a.w(this.TAG,"Flv: Invalid audio packet, missing AudioFourCC in Ehnanced FLV payload!");var S=15&a,b=String.fromCharCode.apply(String,new Uint8Array(e,t,i).slice(1,5));switch(b){case"Opus":this._parseOpusAudioPacket(e,t+5,i-5,n,S);break;case"fLaC":this._parseFlacAudioPacket(e,t+5,i-5,n,S);break;default:this._onError(m.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec: "+b)}}}},e.prototype._parseAACAudioData=function(e,t,i){if(!(i<=1)){var n={},a=new Uint8Array(e,t,i);return n.packetType=a[0],0===a[0]?n.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):n.data=a.subarray(1),n}r.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e.prototype._parseAACAudioSpecificConfig=function(e,t,i){var n,a,r=new Uint8Array(e,t,i),o=null,s=0,d=null;if(s=n=r[0]>>>3,(a=(7&r[0])<<1|r[1]>>>7)<0||a>=this._mpegSamplingRates.length)this._onError(m.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var _=this._mpegSamplingRates[a],c=(120&r[1])>>>3;if(!(c<0||c>=8)){5===s&&(d=(7&r[1])<<1|r[2]>>>7,r[2]);var h=self.navigator.userAgent.toLowerCase();return-1!==h.indexOf("firefox")?a>=6?(s=5,o=new Array(4),d=a-3):(s=2,o=new Array(2),d=a):-1!==h.indexOf("android")?(s=2,o=new Array(2),d=a):(s=5,d=a,o=new Array(4),a>=6?d=a-3:1===c&&(s=2,o=new Array(2),d=a)),o[0]=s<<3,o[0]|=(15&a)>>>1,o[1]=(15&a)<<7,o[1]|=(15&c)<<3,5===s&&(o[1]|=(15&d)>>>1,o[2]=(1&d)<<7,o[2]|=8,o[3]=0),{config:o,samplingRate:_,channelCount:c,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+n}}this._onError(m.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e.prototype._parseMP3AudioData=function(e,t,i,n){if(!(i<4)){this._littleEndian;var a=new Uint8Array(e,t,i),o=null;if(n){if(255!==a[0])return;var s=a[1]>>>3&3,d=(6&a[1])>>1,_=(240&a[2])>>>4,c=(12&a[2])>>>2,h=3&~(a[3]>>>6)?2:1,l=0,u=0;switch(s){case 0:l=this._mpegAudioV25SampleRateTable[c];break;case 2:l=this._mpegAudioV20SampleRateTable[c];break;case 3:l=this._mpegAudioV10SampleRateTable[c]}switch(d){case 1:_<this._mpegAudioL3BitRateTable.length&&(u=this._mpegAudioL3BitRateTable[_]);break;case 2:_<this._mpegAudioL2BitRateTable.length&&(u=this._mpegAudioL2BitRateTable[_]);break;case 3:_<this._mpegAudioL1BitRateTable.length&&(u=this._mpegAudioL1BitRateTable[_])}o={bitRate:u,samplingRate:l,channelCount:h,codec:"mp3",originalCodec:"mp3"}}else o=a;return o}r.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e.prototype._parseOpusAudioPacket=function(e,t,i,n,a){if(0===a)this._parseOpusSequenceHeader(e,t,i);else if(1===a)this._parseOpusAudioData(e,t,i,n);else if(2!==a)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(a))},e.prototype._parseOpusSequenceHeader=function(e,t,i){if(i<=16)r.a.w(this.TAG,"Flv: Invalid OpusSequenceHeader, lack of data!");else{var n=this._audioMetadata,a=this._audioTrack;n||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(n=this._audioMetadata={}).type="audio",n.id=a.id,n.timescale=this._timescale,n.duration=this._duration);var o=new DataView(e,t,i);o.setUint8(8,0);var s=o.getUint8(9);o.setUint16(10,o.getUint16(10,!0),!1);var d=o.getUint32(12,!0);o.setUint32(12,o.getUint32(12,!0),!1);var _={config:new Uint8Array(e,t+8,i-8),channelCount:s,samplingFrequence:d,codec:"opus",originalCodec:"opus"};if(n.config){if(A(_.config,n.config))return;r.a.w(this.TAG,"OpusSequenceHeader has been changed, re-generate initialization segment")}n.audioSampleRate=_.samplingFrequence,n.channelCount=_.channelCount,n.codec=_.codec,n.originalCodec=_.originalCodec,n.config=_.config,n.refSampleDuration=20,r.a.v(this.TAG,"Parsed OpusSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",n);var c=this._mediaInfo;c.audioCodec=n.originalCodec,c.audioSampleRate=n.audioSampleRate,c.audioChannelCount=n.channelCount,c.hasVideo?null!=c.videoCodec&&(c.mimeType='video/x-flv; codecs="'+c.videoCodec+","+c.audioCodec+'"'):c.mimeType='video/x-flv; codecs="'+c.audioCodec+'"',c.isComplete()&&this._onMediaInfo(c)}},e.prototype._parseOpusAudioData=function(e,t,i,n){var a=this._audioTrack,r=new Uint8Array(e,t,i),o=this._timestampBase+n,s={unit:r,length:r.byteLength,dts:o,pts:o};a.samples.push(s),a.length+=r.length},e.prototype._parseFlacAudioPacket=function(e,t,i,n,a){if(0===a)this._parseFlacSequenceHeader(e,t,i);else if(1===a)this._parseFlacAudioData(e,t,i,n);else if(2!==a)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid Flac audio packet type ".concat(a))},e.prototype._parseFlacSequenceHeader=function(e,t,i){var n=this._audioMetadata,a=this._audioTrack;n||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(n=this._audioMetadata={}).type="audio",n.id=a.id,n.timescale=this._timescale,n.duration=this._duration);var o=new Uint8Array(e,t+4,i-4),s=new f(o),d=s.readBits(16),_=s.readBits(16),c=_===d?_:null;s.readBits(24),s.readBits(24);var h=s.readBits(20),l=s.readBits(3)+1,u=s.readBits(5)+1;s.destroy();var p=new Uint8Array(o.byteLength+4);p.set(o,4),p[0]=128,p[1]=o.byteLength>>>16&255,p[2]=o.byteLength>>>8&255,p[3]=o.byteLength>>>0&255;var m={config:p,channelCount:l,samplingFrequence:h,sampleSize:u,codec:"flac",originalCodec:"flac"};if(n.config){if(A(m.config,n.config))return;r.a.w(this.TAG,"FlacSequenceHeader has been changed, re-generate initialization segment")}n.audioSampleRate=m.samplingFrequence,n.channelCount=m.channelCount,n.sampleSize=m.sampleSize,n.codec=m.codec,n.originalCodec=m.originalCodec,n.config=m.config,n.refSampleDuration=null!=c?1e3*c/m.samplingFrequence:null,r.a.v(this.TAG,"Parsed FlacSequenceHeader"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",n);var g=this._mediaInfo;g.audioCodec=n.originalCodec,g.audioSampleRate=n.audioSampleRate,g.audioChannelCount=n.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)},e.prototype._parseFlacAudioData=function(e,t,i,n){var a=this._audioTrack,r=new Uint8Array(e,t,i),o=this._timestampBase+n,s={unit:r,length:r.byteLength,dts:o,pts:o};a.samples.push(s),a.length+=r.length},e.prototype._parseVideoData=function(e,t,i,n,a){if(i<=1)r.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var o=new Uint8Array(e,t,i)[0],s=(112&o)>>>4;if(128&o){var d=15&o,_=String.fromCharCode.apply(String,new Uint8Array(e,t,i).slice(1,5));if("hvc1"===_)this._parseEnhancedHEVCVideoPacket(e,t+5,i-5,n,a,s,d);else{if("av01"!==_)return void this._onError(m.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(_));this._parseEnhancedAV1VideoPacket(e,t+5,i-5,n,a,s,d)}}else{var c=15&o;if(7===c)this._parseAVCVideoPacket(e,t+1,i-1,n,a,s);else{if(12!==c)return void this._onError(m.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(c));this._parseHEVCVideoPacket(e,t+1,i-1,n,a,s)}}}},e.prototype._parseAVCVideoPacket=function(e,t,i,n,a,o){if(i<4)r.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var s=this._littleEndian,d=new DataView(e,t,i),_=d.getUint8(0),c=(16777215&d.getUint32(0,!s))<<8>>8;if(0===_)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===_)this._parseAVCVideoData(e,t+4,i-4,n,a,o,c);else if(2!==_)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(_))}},e.prototype._parseHEVCVideoPacket=function(e,t,i,n,a,o){if(i<4)r.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var s=this._littleEndian,d=new DataView(e,t,i),_=d.getUint8(0),c=(16777215&d.getUint32(0,!s))<<8>>8;if(0===_)this._parseHEVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===_)this._parseHEVCVideoData(e,t+4,i-4,n,a,o,c);else if(2!==_)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(_))}},e.prototype._parseEnhancedHEVCVideoPacket=function(e,t,i,n,a,r,o){var s=this._littleEndian,d=new DataView(e,t,i);if(0===o)this._parseHEVCDecoderConfigurationRecord(e,t,i);else if(1===o){var _=(4294967040&d.getUint32(0,!s))>>8;this._parseHEVCVideoData(e,t+3,i-3,n,a,r,_)}else if(3===o)this._parseHEVCVideoData(e,t,i,n,a,r,0);else if(2!==o)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(o))},e.prototype._parseEnhancedAV1VideoPacket=function(e,t,i,n,a,r,o){if(this._littleEndian,new DataView(e,t,i),0===o)this._parseAV1CodecConfigurationRecord(e,t,i);else if(1===o)this._parseAV1VideoData(e,t,i,n,a,r,0);else{if(5===o)return void this._onError(m.a.FORMAT_ERROR,"Flv: Not Supported MP2T AV1 video packet type ".concat(o));if(2!==o)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(o))}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,i){if(i<7)r.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var n=this._videoMetadata,a=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,i);if(n){if(void 0!==n.avcc){var d=new Uint8Array(e,t,i);if(A(d,n.avcc))return;r.a.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={}).type="video",n.id=a.id,n.timescale=this._timescale,n.duration=this._duration;var _=s.getUint8(0),c=s.getUint8(1);if(s.getUint8(2),s.getUint8(3),1===_&&0!==c)if(this._naluLengthSize=1+(3&s.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var h=31&s.getUint8(5);if(0!==h){h>1&&r.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ".concat(h));for(var l=6,u=0;u<h;u++){var f=s.getUint16(l,!o);if(l+=2,0!==f){var g=new Uint8Array(e,t+l,f);l+=f;var v=p.parseSPS(g);if(0===u){n.codecWidth=v.codec_size.width,n.codecHeight=v.codec_size.height,n.presentWidth=v.present_size.width,n.presentHeight=v.present_size.height,n.profile=v.profile_string,n.level=v.level_string,n.bitDepth=v.bit_depth,n.chromaFormat=v.chroma_format,n.sarRatio=v.sar_ratio,n.frameRate=v.frame_rate,!1!==v.frame_rate.fixed&&0!==v.frame_rate.fps_num&&0!==v.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var y=n.frameRate.fps_den,S=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(y/S);for(var b=g.subarray(1,4),E="avc1.",R=0;R<3;R++){var T=b[R].toString(16);T.length<2&&(T="0"+T),E+=T}n.codec=E;var L=this._mediaInfo;L.width=n.codecWidth,L.height=n.codecHeight,L.fps=n.frameRate.fps,L.profile=n.profile,L.level=n.level,L.refFrames=v.ref_frames,L.chromaFormat=v.chroma_format_string,L.sarNum=n.sarRatio.width,L.sarDen=n.sarRatio.height,L.videoCodec=E,L.hasAudio?null!=L.audioCodec&&(L.mimeType='video/x-flv; codecs="'+L.videoCodec+","+L.audioCodec+'"'):L.mimeType='video/x-flv; codecs="'+L.videoCodec+'"',L.isComplete()&&this._onMediaInfo(L)}}}var k=s.getUint8(l);if(0!==k){for(k>1&&r.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ".concat(k)),l++,u=0;u<k;u++)f=s.getUint16(l,!o),l+=2,0!==f&&(l+=f);n.avcc=new Uint8Array(i),n.avcc.set(new Uint8Array(e,t,i),0),r.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(m.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1));else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e.prototype._parseHEVCDecoderConfigurationRecord=function(e,t,i){if(i<22)r.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var n=this._videoMetadata,a=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,i);if(n){if(void 0!==n.hvcc){var d=new Uint8Array(e,t,i);if(A(d,n.hvcc))return;r.a.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={}).type="video",n.id=a.id,n.timescale=this._timescale,n.duration=this._duration;var _=s.getUint8(0),c=31&s.getUint8(1);if(0!==_&&1!==_||0===c)this._onError(m.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord");else if(this._naluLengthSize=1+(3&s.getUint8(21)),3===this._naluLengthSize||4===this._naluLengthSize){for(var h=s.getUint8(22),l=0,u=23;l<h;l++){var f=63&s.getUint8(u+0),p=s.getUint16(u+1,!o);u+=3;for(var v=0;v<p;v++){var y=s.getUint16(u+0,!o);if(0===v)if(33===f){u+=2;var S=new Uint8Array(e,t+u,y),b=g.parseSPS(S);n.codecWidth=b.codec_size.width,n.codecHeight=b.codec_size.height,n.presentWidth=b.present_size.width,n.presentHeight=b.present_size.height,n.profile=b.profile_string,n.level=b.level_string,n.bitDepth=b.bit_depth,n.chromaFormat=b.chroma_format,n.sarRatio=b.sar_ratio,n.frameRate=b.frame_rate,!1!==b.frame_rate.fixed&&0!==b.frame_rate.fps_num&&0!==b.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var E=n.frameRate.fps_den,R=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(E/R),n.codec=b.codec_mimetype;var T=this._mediaInfo;T.width=n.codecWidth,T.height=n.codecHeight,T.fps=n.frameRate.fps,T.profile=n.profile,T.level=n.level,T.refFrames=b.ref_frames,T.chromaFormat=b.chroma_format_string,T.sarNum=n.sarRatio.width,T.sarDen=n.sarRatio.height,T.videoCodec=b.codec_mimetype,T.hasAudio?null!=T.audioCodec&&(T.mimeType='video/x-flv; codecs="'+T.videoCodec+","+T.audioCodec+'"'):T.mimeType='video/x-flv; codecs="'+T.videoCodec+'"',T.isComplete()&&this._onMediaInfo(T),u+=y}else u+=2+y;else u+=2+y}}n.hvcc=new Uint8Array(i),n.hvcc.set(new Uint8Array(e,t,i),0),r.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}else this._onError(m.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1))}},e.prototype._parseAV1CodecConfigurationRecord=function(e,t,i){if(i<4)r.a.w(this.TAG,"Flv: Invalid AV1CodecConfigurationRecord, lack of data!");else{var n=this._videoMetadata,a=this._videoTrack,o=(this._littleEndian,new DataView(e,t,i));n?void 0!==n.av1c&&r.a.w(this.TAG,"Found another AV1CodecConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={}).type="video",n.id=a.id,n.timescale=this._timescale,n.duration=this._duration);var s=127&o.getUint8(0);if(o.getUint8(1),o.getUint8(1),o.getUint8(2),1===s){var d=R.parseOBUs(new Uint8Array(e,t+4,i-4));if(null!=d){n.profile=d.profile_string,n.level=d.level_string,n.bitDepth=d.bit_depth,n.chromaFormat=d.chroma_format,n.frameRate=d.frame_rate,!1!==d.frame_rate.fixed&&0!==d.frame_rate.fps_num&&0!==d.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var _=n.frameRate.fps_den,c=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(_/c),n.codec=d.codec_mimetype,n.extra=d;var h=this._mediaInfo;h.fps=n.frameRate.fps,h.profile=n.profile,h.level=n.level,h.refFrames=d.ref_frames,h.chromaFormat=d.chroma_format_string,h.videoCodec=d.codec_mimetype,h.hasAudio?null!=h.audioCodec&&(h.mimeType='video/x-flv; codecs="'+h.videoCodec+","+h.audioCodec+'"'):h.mimeType='video/x-flv; codecs="'+h.videoCodec+'"',h.isComplete()&&this._onMediaInfo(h),n.av1c=new Uint8Array(i),n.av1c.set(new Uint8Array(e,t,i),0),r.a.v(this.TAG,"Preparing AV1CodecConfigurationRecord")}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}},e.prototype._parseAVCVideoData=function(e,t,i,n,a,o,s){for(var d=this._littleEndian,_=new DataView(e,t,i),c=[],h=0,l=0,u=this._naluLengthSize,f=this._timestampBase+n,p=1===o;l<i;){if(l+4>=i){r.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(f,", offset = ").concat(l,", dataSize = ").concat(i));break}var m=_.getUint32(l,!d);if(3===u&&(m>>>=8),m>i-u)return void r.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(f,", NaluSize > DataSize!"));var g=31&_.getUint8(l+u);5===g&&(p=!0);var v=new Uint8Array(e,t+l,u+m),y={type:g,data:v};c.push(y),h+=v.byteLength,l+=u+m}if(c.length){var S=this._videoTrack,b={units:c,length:h,isKeyframe:p,dts:f,cts:s,pts:f+s};p&&(b.fileposition=a),S.samples.push(b),S.length+=h}},e.prototype._parseHEVCVideoData=function(e,t,i,n,a,o,s){for(var d=this._littleEndian,_=new DataView(e,t,i),c=[],h=0,l=0,u=this._naluLengthSize,f=this._timestampBase+n,p=1===o;l<i;){if(l+4>=i){r.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(f,", offset = ").concat(l,", dataSize = ").concat(i));break}var m=_.getUint32(l,!d);if(3===u&&(m>>>=8),m>i-u)return void r.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(f,", NaluSize > DataSize!"));var g=_.getUint8(l+u)>>1&63;19!==g&&20!==g&&21!==g||(p=!0);var v=new Uint8Array(e,t+l,u+m),y={type:g,data:v};c.push(y),h+=v.byteLength,l+=u+m}if(c.length){var S=this._videoTrack,b={units:c,length:h,isKeyframe:p,dts:f,cts:s,pts:f+s};p&&(b.fileposition=a),S.samples.push(b),S.length+=h}},e.prototype._parseAV1VideoData=function(e,t,i,n,a,o,s){this._littleEndian,new DataView(e,t,i);var d,_=[],c=this._timestampBase+n,h=1===o;if(h){var l=this._videoMetadata,u=R.parseOBUs(new Uint8Array(e,t,i),l.extra);if(null==u)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AV1 VideoData");console.log(u),l.codecWidth=u.codec_size.width,l.codecHeight=u.codec_size.height,l.presentWidth=u.present_size.width,l.presentHeight=u.present_size.height,l.sarRatio=u.sar_ratio;var f=this._mediaInfo;f.width=l.codecWidth,f.height=l.codecHeight,f.sarNum=l.sarRatio.width,f.sarDen=l.sarRatio.height,r.a.v(this.TAG,"Parsed AV1DecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",l)}if(d=i,_.push({unitType:0,data:new Uint8Array(e,t+0,i)}),_.length){var p=this._videoTrack,g={units:_,length:d,isKeyframe:h,dts:c,cts:s,pts:c+s};h&&(g.fileposition=a),p.samples.push(g),p.length+=d}},e})(),L=(function(){function e(){}return e.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSynchronousKLVMetadata=null,this.onAsynchronousKLVMetadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},e})(),k=function(){this.program_pmt_pid={}};!(function(e){e[e.kMPEG1Audio=3]="kMPEG1Audio",e[e.kMPEG2Audio=4]="kMPEG2Audio",e[e.kPESPrivateData=6]="kPESPrivateData",e[e.kADTSAAC=15]="kADTSAAC",e[e.kLOASAAC=17]="kLOASAAC",e[e.kAC3=129]="kAC3",e[e.kEAC3=135]="kEAC3",e[e.kMetadata=21]="kMetadata",e[e.kSCTE35=134]="kSCTE35",e[e.kH264=27]="kH264",e[e.kH265=36]="kH265"})(b||(b={}));var w,M=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,av1:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.synchronous_klv_pids={},this.asynchronous_klv_pids={},this.scte_35_pids={},this.smpte2038_pids={}},C=function(){},D=function(){},O=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};!(function(e){e[e.kUnspecified=0]="kUnspecified",e[e.kSliceNonIDR=1]="kSliceNonIDR",e[e.kSliceDPA=2]="kSliceDPA",e[e.kSliceDPB=3]="kSliceDPB",e[e.kSliceDPC=4]="kSliceDPC",e[e.kSliceIDR=5]="kSliceIDR",e[e.kSliceSEI=6]="kSliceSEI",e[e.kSliceSPS=7]="kSliceSPS",e[e.kSlicePPS=8]="kSlicePPS",e[e.kSliceAUD=9]="kSliceAUD",e[e.kEndOfSequence=10]="kEndOfSequence",e[e.kEndOfStream=11]="kEndOfStream",e[e.kFiller=12]="kFiller",e[e.kSPSExt=13]="kSPSExt",e[e.kReserved0=14]="kReserved0"})(w||(w={}));var B,I,P=function(){},x=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},U=(function(){function e(e){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,i=this.data_;;){if(t+3>=i.byteLength)return this.eof_flag_=!0,i.byteLength;var n=i[t+0]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3],a=i[t+0]<<16|i[t+1]<<8|i[t+2];if(1===n||1===a)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_startcode_offset_,n=31&e[i+=1==(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3],a=(128&e[i])>>>7,r=this.findNextStartCodeOffset(i);if(this.current_startcode_offset_=r,!(n>=w.kReserved0)&&0===a){var o=e.subarray(i,r);(t=new P).type=n,t.data=o}}return t},e})(),N=(function(){function e(e,t,i){var n=8+e.byteLength+1+2+t.byteLength,a=!1;66!==e[3]&&77!==e[3]&&88!==e[3]&&(a=!0,n+=4);var r=this.data=new Uint8Array(n);r[0]=1,r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=255,r[5]=225;var o=e.byteLength;r[6]=o>>>8,r[7]=255&o;var s=8;r.set(e,8),r[s+=o]=1;var d=t.byteLength;r[s+1]=d>>>8,r[s+2]=255&d,r.set(t,s+3),s+=3+d,a&&(r[s]=252|i.chroma_format_idc,r[s+1]=248|i.bit_depth_luma-8,r[s+2]=248|i.bit_depth_chroma-8,r[s+3]=0,s+=4)}return e.prototype.getData=function(){return this.data},e})();!(function(e){e[e.kNull=0]="kNull",e[e.kAACMain=1]="kAACMain",e[e.kAAC_LC=2]="kAAC_LC",e[e.kAAC_SSR=3]="kAAC_SSR",e[e.kAAC_LTP=4]="kAAC_LTP",e[e.kAAC_SBR=5]="kAAC_SBR",e[e.kAAC_Scalable=6]="kAAC_Scalable",e[e.kLayer1=32]="kLayer1",e[e.kLayer2=33]="kLayer2",e[e.kLayer3=34]="kLayer3"})(B||(B={})),(function(e){e[e.k96000Hz=0]="k96000Hz",e[e.k88200Hz=1]="k88200Hz",e[e.k64000Hz=2]="k64000Hz",e[e.k48000Hz=3]="k48000Hz",e[e.k44100Hz=4]="k44100Hz",e[e.k32000Hz=5]="k32000Hz",e[e.k24000Hz=6]="k24000Hz",e[e.k22050Hz=7]="k22050Hz",e[e.k16000Hz=8]="k16000Hz",e[e.k12000Hz=9]="k12000Hz",e[e.k11025Hz=10]="k11025Hz",e[e.k8000Hz=11]="k8000Hz",e[e.k7350Hz=12]="k7350Hz"})(I||(I={}));var V,G,F=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],j=(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),z=function(){},H=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t})(z),q=(function(){function e(e){this.TAG="AACADTSParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,i=this.data_;;){if(t+7>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(4095==(i[t+0]<<8|i[t+1])>>>4)return t;t++}},e.prototype.readNextAACFrame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_syncword_offset_,n=(8&e[i+1])>>>3,a=(6&e[i+1])>>>1,r=1&e[i+1],o=(192&e[i+2])>>>6,s=(60&e[i+2])>>>2,d=(1&e[i+2])<<2|(192&e[i+3])>>>6,_=(3&e[i+3])<<11|e[i+4]<<3|(224&e[i+5])>>>5;if(e[i+6],i+_>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var c=1===r?7:9,h=_-c;i+=c;var l=this.findNextSyncwordOffset(i+h);if(this.current_syncword_offset_=l,(0===n||1===n)&&0===a){var u=e.subarray(i,i+h);(t=new z).audio_object_type=o+1,t.sampling_freq_index=s,t.sampling_frequency=F[s],t.channel_config=d,t.data=u}}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e})(),K=(function(){function e(e){this.TAG="AACLOASParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not found LOAS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,i=this.data_;;){if(t+1>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(695==(i[t+0]<<3|i[t+1]>>>5))return t;t++}},e.prototype.getLATMValue=function(e){for(var t=e.readBits(2),i=0,n=0;n<=t;n++)i<<=8,i|=e.readByte();return i},e.prototype.readNextAACFrame=function(e){for(var t=this.data_,i=null;null==i&&!this.eof_flag_;){var n=this.current_syncword_offset_,a=(31&t[n+1])<<8|t[n+2];if(n+3+a>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var o=new f(t.subarray(n+3,n+3+a)),s=null;if(o.readBool()){if(null==e){r.a.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(n+3+a),o.destroy();continue}s=e}else{var d=o.readBool();if(d&&o.readBool()){r.a.e(this.TAG,"audioMuxVersionA is Not Supported"),o.destroy();break}if(d&&this.getLATMValue(o),!o.readBool()){r.a.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),o.destroy();break}if(0!==o.readBits(6)){r.a.e(this.TAG,"more than 2 numSubFrames Not Supported"),o.destroy();break}if(0!==o.readBits(4)){r.a.e(this.TAG,"more than 2 numProgram Not Supported"),o.destroy();break}if(0!==o.readBits(3)){r.a.e(this.TAG,"more than 2 numLayer Not Supported"),o.destroy();break}var _=d?this.getLATMValue(o):0,c=o.readBits(5);_-=5;var h=o.readBits(4);_-=4;var l=o.readBits(4);_-=4,o.readBits(3),(_-=3)>0&&o.readBits(_);var u=o.readBits(3);if(0!==u){r.a.e(this.TAG,"frameLengthType = ".concat(u,". Only frameLengthType = 0 Supported")),o.destroy();break}o.readByte();var p=o.readBool();if(p)if(d)this.getLATMValue(o);else{for(var m=0;;){m<<=8;var g=o.readBool();if(m+=o.readByte(),!g)break}console.log(m)}o.readBool()&&o.readByte(),(s=new H).audio_object_type=c,s.sampling_freq_index=h,s.sampling_frequency=F[s.sampling_freq_index],s.channel_config=l,s.other_data_present=p}for(var v=0;;){var y=o.readByte();if(v+=y,255!==y)break}for(var S=new Uint8Array(v),b=0;b<v;b++)S[b]=o.readByte();(i=new H).audio_object_type=s.audio_object_type,i.sampling_freq_index=s.sampling_freq_index,i.sampling_frequency=F[s.sampling_freq_index],i.channel_config=s.channel_config,i.other_data_present=s.other_data_present,i.data=S,this.current_syncword_offset_=this.findNextSyncwordOffset(n+3+a)}return i},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e})(),W=function(e){var t=null,i=e.audio_object_type,n=e.audio_object_type,a=e.sampling_freq_index,r=e.channel_config,o=0,s=navigator.userAgent.toLowerCase();-1!==s.indexOf("firefox")?a>=6?(n=5,t=new Array(4),o=a-3):(n=2,t=new Array(2),o=a):-1!==s.indexOf("android")?(n=2,t=new Array(2),o=a):(n=5,o=a,t=new Array(4),a>=6?o=a-3:1===r&&(n=2,t=new Array(2),o=a)),t[0]=n<<3,t[0]|=(15&a)>>>1,t[1]=(15&a)<<7,t[1]|=(15&r)<<3,5===n&&(t[1]|=(15&o)>>>1,t[2]=(1&o)<<7,t[2]|=8,t[3]=0),this.config=t,this.sampling_rate=F[a],this.channel_count=r,this.codec_mimetype="mp4a.40."+n,this.original_codec_mimetype="mp4a.40."+i},Y=function(){},X=function(){};!(function(e){e[e.kSpliceNull=0]="kSpliceNull",e[e.kSpliceSchedule=4]="kSpliceSchedule",e[e.kSpliceInsert=5]="kSpliceInsert",e[e.kTimeSignal=6]="kTimeSignal",e[e.kBandwidthReservation=7]="kBandwidthReservation",e[e.kPrivateCommand=255]="kPrivateCommand"})(G||(G={}));var Q,J=function(e){var t=e.readBool();return t?(e.readBits(6),{time_specified_flag:t,pts_time:4*e.readBits(31)+e.readBits(2)}):(e.readBits(7),{time_specified_flag:t})},Z=function(e){var t=e.readBool();return e.readBits(6),{auto_return:t,duration:4*e.readBits(31)+e.readBits(2)}},$=function(e,t){var i=t.readBits(8);return e?{component_tag:i}:{component_tag:i,splice_time:J(t)}},ee=function(e){return{component_tag:e.readBits(8),utc_splice_time:e.readBits(32)}},te=function(e){var t=e.readBits(32),i=e.readBool();e.readBits(7);var n={splice_event_id:t,splice_event_cancel_indicator:i};if(i)return n;if(n.out_of_network_indicator=e.readBool(),n.program_splice_flag=e.readBool(),n.duration_flag=e.readBool(),e.readBits(5),n.program_splice_flag)n.utc_splice_time=e.readBits(32);else{n.component_count=e.readBits(8),n.components=[];for(var a=0;a<n.component_count;a++)n.components.push(ee(e))}return n.duration_flag&&(n.break_duration=Z(e)),n.unique_program_id=e.readBits(16),n.avail_num=e.readBits(8),n.avails_expected=e.readBits(8),n},ie=function(e,t,i,n){return{descriptor_tag:e,descriptor_length:t,identifier:i,provider_avail_id:n.readBits(32)}},ne=function(e,t,i,n){var a=n.readBits(8),r=n.readBits(3);n.readBits(5);for(var o="",s=0;s<r;s++)o+=String.fromCharCode(n.readBits(8));return{descriptor_tag:e,descriptor_length:t,identifier:i,preroll:a,dtmf_count:r,DTMF_char:o}},ae=function(e){var t=e.readBits(8);return e.readBits(7),{component_tag:t,pts_offset:4*e.readBits(31)+e.readBits(2)}},re=function(e,t,i,n){var a=n.readBits(32),r=n.readBool();n.readBits(7);var o={descriptor_tag:e,descriptor_length:t,identifier:i,segmentation_event_id:a,segmentation_event_cancel_indicator:r};if(r)return o;if(o.program_segmentation_flag=n.readBool(),o.segmentation_duration_flag=n.readBool(),o.delivery_not_restricted_flag=n.readBool(),o.delivery_not_restricted_flag?n.readBits(5):(o.web_delivery_allowed_flag=n.readBool(),o.no_regional_blackout_flag=n.readBool(),o.archive_allowed_flag=n.readBool(),o.device_restrictions=n.readBits(2)),!o.program_segmentation_flag){o.component_count=n.readBits(8),o.components=[];for(var s=0;s<o.component_count;s++)o.components.push(ae(n))}o.segmentation_duration_flag&&(o.segmentation_duration=n.readBits(40)),o.segmentation_upid_type=n.readBits(8),o.segmentation_upid_length=n.readBits(8);var d=new Uint8Array(o.segmentation_upid_length);for(s=0;s<o.segmentation_upid_length;s++)d[s]=n.readBits(8);return o.segmentation_upid=d.buffer,o.segmentation_type_id=n.readBits(8),o.segment_num=n.readBits(8),o.segments_expected=n.readBits(8),52!==o.segmentation_type_id&&54!==o.segmentation_type_id&&56!==o.segmentation_type_id&&58!==o.segmentation_type_id||(o.sub_segment_num=n.readBits(8),o.sub_segments_expected=n.readBits(8)),o},oe=function(e,t,i,n){return{descriptor_tag:e,descriptor_length:t,identifier:i,TAI_seconds:n.readBits(48),TAI_ns:n.readBits(32),UTC_offset:n.readBits(16)}},se=function(e){return{component_tag:e.readBits(8),ISO_code:String.fromCharCode(e.readBits(8),e.readBits(8),e.readBits(8)),Bit_Stream_Mode:e.readBits(3),Num_Channels:e.readBits(4),Full_Srvc_Audio:e.readBool()}},de=function(e,t,i,n){for(var a=n.readBits(4),r=[],o=0;o<a;o++)r.push(se(n));return{descriptor_tag:e,descriptor_length:t,identifier:i,audio_count:a,components:r}},_e=function(e){var t=new f(e),i=t.readBits(8),n=t.readBool(),a=t.readBool();t.readBits(2);var r=t.readBits(12),o=t.readBits(8),s=t.readBool(),d=t.readBits(6),_=4*t.readBits(31)+t.readBits(2),c=t.readBits(8),h=t.readBits(12),l=t.readBits(12),u=t.readBits(8),p=null;u===G.kSpliceNull?p={}:u===G.kSpliceSchedule?p=(function(e){for(var t=e.readBits(8),i=[],n=0;n<t;n++)i.push(te(e));return{splice_count:t,events:i}})(t):u===G.kSpliceInsert?p=(function(e){var t=e.readBits(32),i=e.readBool();e.readBits(7);var n={splice_event_id:t,splice_event_cancel_indicator:i};if(i)return n;if(n.out_of_network_indicator=e.readBool(),n.program_splice_flag=e.readBool(),n.duration_flag=e.readBool(),n.splice_immediate_flag=e.readBool(),e.readBits(4),n.program_splice_flag&&!n.splice_immediate_flag&&(n.splice_time=J(e)),!n.program_splice_flag){n.component_count=e.readBits(8),n.components=[];for(var a=0;a<n.component_count;a++)n.components.push($(n.splice_immediate_flag,e))}return n.duration_flag&&(n.break_duration=Z(e)),n.unique_program_id=e.readBits(16),n.avail_num=e.readBits(8),n.avails_expected=e.readBits(8),n})(t):u===G.kTimeSignal?p=(function(e){return{splice_time:J(e)}})(t):u===G.kBandwidthReservation?p={}:u===G.kPrivateCommand?p=(function(e,t){for(var i=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8)),n=new Uint8Array(e-4),a=0;a<e-4;a++)n[a]=t.readBits(8);return{identifier:i,private_data:n.buffer}})(l,t):t.readBits(8*l);for(var m=[],g=t.readBits(16),v=0;v<g;){var y=t.readBits(8),S=t.readBits(8),b=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8));0===y?m.push(ie(y,S,b,t)):1===y?m.push(ne(y,S,b,t)):2===y?m.push(re(y,S,b,t)):3===y?m.push(oe(y,S,b,t)):4===y?m.push(de(y,S,b,t)):t.readBits(8*(S-4)),v+=2+S}var A={table_id:i,section_syntax_indicator:n,private_indicator:a,section_length:r,protocol_version:o,encrypted_packet:s,encryption_algorithm:d,pts_adjustment:_,cw_index:c,tier:h,splice_command_length:l,splice_command_type:u,splice_command:p,descriptor_loop_length:g,splice_descriptors:m,E_CRC32:s?t.readBits(32):void 0,CRC32:t.readBits(32)};if(u===G.kSpliceInsert){var E=p;if(E.splice_event_cancel_indicator)return{splice_command_type:u,detail:A,data:e};if(E.program_splice_flag&&!E.splice_immediate_flag){var R=E.duration_flag?E.break_duration.auto_return:void 0,T=E.duration_flag?E.break_duration.duration/90:void 0;return E.splice_time.time_specified_flag?{splice_command_type:u,pts:(_+E.splice_time.pts_time)%Math.pow(2,33),auto_return:R,duraiton:T,detail:A,data:e}:{splice_command_type:u,auto_return:R,duraiton:T,detail:A,data:e}}return{splice_command_type:u,auto_return:R=E.duration_flag?E.break_duration.auto_return:void 0,duraiton:T=E.duration_flag?E.break_duration.duration/90:void 0,detail:A,data:e}}if(u===G.kTimeSignal){var L=p;return L.splice_time.time_specified_flag?{splice_command_type:u,pts:(_+L.splice_time.pts_time)%Math.pow(2,33),detail:A,data:e}:{splice_command_type:u,detail:A,data:e}}return{splice_command_type:u,detail:A,data:e}};!(function(e){e[e.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",e[e.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",e[e.kSliceCRA_NUT=21]="kSliceCRA_NUT",e[e.kSliceVPS=32]="kSliceVPS",e[e.kSliceSPS=33]="kSliceSPS",e[e.kSlicePPS=34]="kSlicePPS",e[e.kSliceAUD=35]="kSliceAUD"})(Q||(Q={}));var ce,he=function(){},le=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},ue=(function(){function e(e){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,i=this.data_;;){if(t+3>=i.byteLength)return this.eof_flag_=!0,i.byteLength;var n=i[t+0]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3],a=i[t+0]<<16|i[t+1]<<8|i[t+2];if(1===n||1===a)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_startcode_offset_,n=e[i+=1==(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3]>>1&63,a=(128&e[i])>>>7,r=this.findNextStartCodeOffset(i);if(this.current_startcode_offset_=r,0===a){var o=e.subarray(i,r);(t=new he).type=n,t.data=o}}return t},e})(),fe=(function(){function e(e,t,i,n){var a=23+(5+e.byteLength)+(5+t.byteLength)+(5+i.byteLength),r=this.data=new Uint8Array(a);r[0]=1,r[1]=(3&n.general_profile_space)<<6|(n.general_tier_flag?1:0)<<5|31&n.general_profile_idc,r[2]=n.general_profile_compatibility_flags_1,r[3]=n.general_profile_compatibility_flags_2,r[4]=n.general_profile_compatibility_flags_3,r[5]=n.general_profile_compatibility_flags_4,r[6]=n.general_constraint_indicator_flags_1,r[7]=n.general_constraint_indicator_flags_2,r[8]=n.general_constraint_indicator_flags_3,r[9]=n.general_constraint_indicator_flags_4,r[10]=n.general_constraint_indicator_flags_5,r[11]=n.general_constraint_indicator_flags_6,r[12]=n.general_level_idc,r[13]=240|(3840&n.min_spatial_segmentation_idc)>>8,r[14]=255&n.min_spatial_segmentation_idc,r[15]=252|3&n.parallelismType,r[16]=252|3&n.chroma_format_idc,r[17]=248|7&n.bit_depth_luma_minus8,r[18]=248|7&n.bit_depth_chroma_minus8,r[19]=0,r[20]=0,r[21]=(3&n.constant_frame_rate)<<6|(7&n.num_temporal_layers)<<3|(n.temporal_id_nested?1:0)<<2|3,r[22]=3,r[23]=128|Q.kSliceVPS,r[24]=0,r[25]=1,r[26]=(65280&e.byteLength)>>8,r[27]=255&e.byteLength,r.set(e,28),r[23+(5+e.byteLength)+0]=128|Q.kSliceSPS,r[23+(5+e.byteLength)+1]=0,r[23+(5+e.byteLength)+2]=1,r[23+(5+e.byteLength)+3]=(65280&t.byteLength)>>8,r[23+(5+e.byteLength)+4]=255&t.byteLength,r.set(t,23+(5+e.byteLength)+5),r[23+(5+e.byteLength+5+t.byteLength)+0]=128|Q.kSlicePPS,r[23+(5+e.byteLength+5+t.byteLength)+1]=0,r[23+(5+e.byteLength+5+t.byteLength)+2]=1,r[23+(5+e.byteLength+5+t.byteLength)+3]=(65280&i.byteLength)>>8,r[23+(5+e.byteLength+5+t.byteLength)+4]=255&i.byteLength,r.set(i,23+(5+e.byteLength+5+t.byteLength)+5)}return e.prototype.getData=function(){return this.data},e})(),pe=function(){},me=function(){},ge=function(){},ve=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]],ye=(function(){function e(e){this.TAG="AC3Parser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,i=this.data_;;){if(t+7>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(2935==(i[t+0]<<8|i[t+1]))return t;t++}},e.prototype.readNextAC3Frame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_syncword_offset_,n=e[i+4]>>6,a=[48e3,44200,33e3][n],r=63&e[i+4],o=2*ve[n][r];if(isNaN(o)||i+o>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var s=this.findNextSyncwordOffset(i+o);this.current_syncword_offset_=s;var d=e[i+5]>>3,_=7&e[i+5],c=e[i+6]>>5,h=0;!!(1&c)&&1!==c&&(h+=2),!!(4&c)&&(h+=2),2===c&&(h+=2);var l=(e[i+6]<<8|e[i+7])>>12-h&1,u=[2,1,2,3,3,4,4,5][c]+l;(t=new ge).sampling_frequency=a,t.channel_count=u,t.channel_mode=c,t.bit_stream_identification=d,t.low_frequency_effects_channel_on=l,t.bit_stream_mode=_,t.frame_size_code=r,t.data=e.subarray(i,i+o)}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e})(),Se=function(e){var t;t=[e.sampling_rate_code<<6|e.bit_stream_identification<<1|e.bit_stream_mode>>2,(3&e.bit_stream_mode)<<6|e.channel_mode<<3|e.low_frequency_effects_channel_on<<2|e.frame_size_code>>4,e.frame_size_code<<4&224],this.config=t,this.sampling_rate=e.sampling_frequency,this.bit_stream_identification=e.bit_stream_identification,this.bit_stream_mode=e.bit_stream_mode,this.low_frequency_effects_channel_on=e.low_frequency_effects_channel_on,this.channel_count=e.channel_count,this.channel_mode=e.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"},be=function(){},Ae=(function(){function e(e){this.TAG="EAC3Parser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,i=this.data_;;){if(t+7>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(2935==(i[t+0]<<8|i[t+1]))return t;t++}},e.prototype.readNextEAC3Frame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_syncword_offset_,n=new f(e.subarray(i+2)),a=(n.readBits(2),n.readBits(3),n.readBits(11)+1<<1),r=n.readBits(2),o=null,s=null;3===r?(o=[24e3,22060,16e3][r=n.readBits(2)],s=3):(o=[48e3,44100,32e3][r],s=n.readBits(2));var d=n.readBits(3),_=n.readBits(1),c=n.readBits(5);if(i+a>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var h=this.findNextSyncwordOffset(i+a);this.current_syncword_offset_=h;var l=[2,1,2,3,3,4,4,5][d]+_;n.destroy(),(t=new be).sampling_frequency=o,t.channel_count=l,t.channel_mode=d,t.bit_stream_identification=c,t.low_frequency_effects_channel_on=_,t.frame_size=a,t.num_blks=[1,2,3,6][s],t.data=e.subarray(i,i+a)}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e})(),Ee=function(e){var t,i=Math.floor(e.frame_size*e.sampling_frequency/(16*e.num_blks));t=[255&i,248&i,e.sampling_rate_code<<6|e.bit_stream_identification<<1,e.channel_mode<<1|e.low_frequency_effects_channel_on,0],this.config=t,this.sampling_rate=e.sampling_frequency,this.bit_stream_identification=e.bit_stream_identification,this.num_blks=e.num_blks,this.low_frequency_effects_channel_on=e.low_frequency_effects_channel_on,this.channel_count=e.channel_count,this.channel_mode=e.channel_mode,this.codec_mimetype="ec-3",this.original_codec_mimetype="ec-3"},Re=function(){},Te=(function(){function e(e){this.TAG="AV1OBUInMpegTsParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not find AV1 startcode until payload end!")}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),a=0,r=0;r<i;r++)r>=2&&3===t[r]&&0===t[r-1]&&0===t[r-2]||(n[a]=t[r],a++);return new Uint8Array(n.buffer,0,a)},e.prototype.findNextStartCodeOffset=function(e){for(var t=e,i=this.data_;;){if(t+2>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(1==(i[t+0]<<16|i[t+1]<<8|i[t+2]))return t;t++}},e.prototype.readNextOBUPayload=function(){for(var t=this.data_,i=null;null==i&&!this.eof_flag_;){var n=this.current_startcode_offset_+3,a=this.findNextStartCodeOffset(n);this.current_startcode_offset_=a,i=e._ebsp2rbsp(t.subarray(n,a))}return i},e})(),Le=(ce=function(e,t){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ce(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ke=function(){return(ke=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},we=(function(e){function t(t,i){var n=e.call(this)||this;return n.TAG="TSDemuxer",n.first_parse_=!0,n.media_info_=new s.a,n.timescale_=90,n.duration_=0,n.current_pmt_pid_=-1,n.program_pmt_map_={},n.pes_slice_queues_={},n.section_slice_queues_={},n.video_metadata_={vps:void 0,sps:void 0,pps:void 0,av1c:void 0,details:void 0},n.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},n.last_pcr_base_=NaN,n.timestamp_offset_=0,n.audio_last_sample_pts_=void 0,n.aac_last_incomplete_data_=null,n.has_video_=!1,n.has_audio_=!1,n.video_init_segment_dispatched_=!1,n.audio_init_segment_dispatched_=!1,n.video_metadata_changed_=!1,n.audio_metadata_changed_=!1,n.loas_previous_frame=null,n.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},n.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},n.ts_packet_size_=t.ts_packet_size,n.sync_offset_=t.sync_offset,n.config_=i,n}return Le(t,e),t.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,e.prototype.destroy.call(this)},t.probe=function(e){var t=new Uint8Array(e),i=-1,n=188;if(t.byteLength<=3*n)return{needMoreData:!0};for(;-1===i;){for(var a=Math.min(1e3,t.byteLength-3*n),o=0;o<a;){if(71===t[o]&&71===t[o+n]&&71===t[o+2*n]){i=o;break}o++}if(-1===i)if(188===n)n=192;else{if(192!==n)break;n=204}}return-1===i?{match:!1}:(192===n&&i>=4?(r.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),i-=4):204===n&&r.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:n,sync_offset:i})},t.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},t.prototype.resetMediaInfo=function(){this.media_info_=new s.a},t.prototype.parseChunks=function(e,t){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new h.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var i=0;for(this.first_parse_&&(this.first_parse_=!1,i=this.sync_offset_);i+this.ts_packet_size_<=e.byteLength;){var n=t+i;192===this.ts_packet_size_&&(i+=4);var a=new Uint8Array(e,i,188),o=a[0];if(71!==o){r.a.e(this.TAG,"sync_byte = ".concat(o,", not 0x47"));break}var s=(64&a[1])>>>6,d=(a[1],(31&a[1])<<8|a[2]),_=(48&a[3])>>>4,c=15&a[3],l=!(!this.pmt_||this.pmt_.pcr_pid!==d),u={},f=4;if(2==_||3==_){var p=a[4];if(p>0&&(l||3==_)&&(u.discontinuity_indicator=(128&a[5])>>>7,u.random_access_indicator=(64&a[5])>>>6,u.elementary_stream_priority_indicator=(32&a[5])>>>5,(16&a[5])>>>4)){var m=300*this.getPcrBase(a)+((1&a[10])<<8|a[11]);this.last_pcr_=m}if(2==_||5+p===188){i+=188,204===this.ts_packet_size_&&(i+=16);continue}f=5+p}if(1==_||3==_)if(0===d||d===this.current_pmt_pid_||null!=this.pmt_&&this.pmt_.pid_stream_type[d]===b.kSCTE35){var g=188-f;this.handleSectionSlice(e,i+f,g,{pid:d,file_position:n,payload_unit_start_indicator:s,continuity_conunter:c,random_access_indicator:u.random_access_indicator})}else if(null!=this.pmt_&&null!=this.pmt_.pid_stream_type[d]){g=188-f;var v=this.pmt_.pid_stream_type[d];d!==this.pmt_.common_pids.h264&&d!==this.pmt_.common_pids.h265&&d!==this.pmt_.common_pids.av1&&d!==this.pmt_.common_pids.adts_aac&&d!==this.pmt_.common_pids.loas_aac&&d!==this.pmt_.common_pids.ac3&&d!==this.pmt_.common_pids.eac3&&d!==this.pmt_.common_pids.opus&&d!==this.pmt_.common_pids.mp3&&!0!==this.pmt_.pes_private_data_pids[d]&&!0!==this.pmt_.timed_id3_pids[d]&&!0!==this.pmt_.synchronous_klv_pids[d]&&!0!==this.pmt_.asynchronous_klv_pids[d]||this.handlePESSlice(e,i+f,g,{pid:d,stream_type:v,file_position:n,payload_unit_start_indicator:s,continuity_conunter:c,random_access_indicator:u.random_access_indicator})}i+=188,204===this.ts_packet_size_&&(i+=16)}return this.dispatchAudioVideoMediaSegment(),i},t.prototype.handleSectionSlice=function(e,t,i,n){var a=new Uint8Array(e,t,i),r=this.section_slice_queues_[n.pid];if(n.payload_unit_start_indicator){var o=a[0];if(null!=r&&0!==r.total_length){var s=new Uint8Array(e,t+1,Math.min(i,o));r.slices.push(s),r.total_length+=s.byteLength,r.total_length===r.expected_length?this.emitSectionSlices(r,n):this.clearSlices(r,n)}for(var d=1+o;d<a.byteLength&&255!==a[d+0];){var _=(15&a[d+1])<<8|a[d+2];this.section_slice_queues_[n.pid]=new O,(r=this.section_slice_queues_[n.pid]).expected_length=_+3,r.file_position=n.file_position,r.random_access_indicator=n.random_access_indicator,s=new Uint8Array(e,t+d,Math.min(i-d,r.expected_length-r.total_length)),r.slices.push(s),r.total_length+=s.byteLength,r.total_length===r.expected_length?this.emitSectionSlices(r,n):r.total_length>=r.expected_length&&this.clearSlices(r,n),d+=s.byteLength}}else null!=r&&0!==r.total_length&&(s=new Uint8Array(e,t,Math.min(i,r.expected_length-r.total_length)),r.slices.push(s),r.total_length+=s.byteLength,r.total_length===r.expected_length?this.emitSectionSlices(r,n):r.total_length>=r.expected_length&&this.clearSlices(r,n))},t.prototype.handlePESSlice=function(e,t,i,n){var a=new Uint8Array(e,t,i),o=a[0]<<16|a[1]<<8|a[2],s=(a[3],a[4]<<8|a[5]);if(n.payload_unit_start_indicator){if(1!==o)return void r.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value ".concat(o));var d=this.pes_slice_queues_[n.pid];d&&(0===d.expected_length||d.expected_length===d.total_length?this.emitPESSlices(d,n):this.clearSlices(d,n)),this.pes_slice_queues_[n.pid]=new O,this.pes_slice_queues_[n.pid].file_position=n.file_position,this.pes_slice_queues_[n.pid].random_access_indicator=n.random_access_indicator}if(null!=this.pes_slice_queues_[n.pid]){var _=this.pes_slice_queues_[n.pid];_.slices.push(a),n.payload_unit_start_indicator&&(_.expected_length=0===s?0:s+6),_.total_length+=a.byteLength,_.expected_length>0&&_.expected_length===_.total_length?this.emitPESSlices(_,n):_.expected_length>0&&_.expected_length<_.total_length&&this.clearSlices(_,n)}},t.prototype.emitSectionSlices=function(e,t){for(var i=new Uint8Array(e.total_length),n=0,a=0;n<e.slices.length;n++){var r=e.slices[n];i.set(r,a),a+=r.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new D;o.pid=t.pid,o.data=i,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parseSection(o)},t.prototype.emitPESSlices=function(e,t){for(var i=new Uint8Array(e.total_length),n=0,a=0;n<e.slices.length;n++){var r=e.slices[n];i.set(r,a),a+=r.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new C;o.pid=t.pid,o.data=i,o.stream_type=t.stream_type,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parsePES(o)},t.prototype.clearSlices=function(e,t){e.slices=[],e.expected_length=-1,e.total_length=0},t.prototype.parseSection=function(e){var t=e.data,i=e.pid;0===i?this.parsePAT(t):i===this.current_pmt_pid_?this.parsePMT(t):null!=this.pmt_&&this.pmt_.scte_35_pids[i]&&this.parseSCTE35(t)},t.prototype.parsePES=function(e){var t=e.data,i=t[0]<<16|t[1]<<8|t[2],n=t[3],a=t[4]<<8|t[5];if(1===i)if(188!==n&&190!==n&&191!==n&&240!==n&&241!==n&&255!==n&&242!==n&&248!==n){t[6];var o=(192&t[7])>>>6,s=t[8],d=void 0,_=void 0;2!==o&&3!==o||(d=this.getTimestamp(t,9),_=3===o?this.getTimestamp(t,14):d);var c=9+s,h=void 0;if(0!==a){if(a<3+s)return void r.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");h=a-3-s}else h=t.byteLength-c;var l=t.subarray(c,c+h);switch(e.stream_type){case b.kMPEG1Audio:case b.kMPEG2Audio:this.parseMP3Payload(l,d);break;case b.kPESPrivateData:this.pmt_.common_pids.av1===e.pid?this.parseAV1Payload(l,d,_,e.file_position,e.random_access_indicator):this.pmt_.common_pids.opus===e.pid?this.parseOpusPayload(l,d):this.pmt_.common_pids.ac3===e.pid?this.parseAC3Payload(l,d):this.pmt_.common_pids.eac3===e.pid?this.parseEAC3Payload(l,d):this.pmt_.asynchronous_klv_pids[e.pid]?this.parseAsynchronousKLVMetadataPayload(l,e.pid,n):this.pmt_.smpte2038_pids[e.pid]?this.parseSMPTE2038MetadataPayload(l,d,_,e.pid,n):this.parsePESPrivateDataPayload(l,d,_,e.pid,n);break;case b.kADTSAAC:this.parseADTSAACPayload(l,d);break;case b.kLOASAAC:this.parseLOASAACPayload(l,d);break;case b.kAC3:this.parseAC3Payload(l,d);break;case b.kEAC3:this.parseEAC3Payload(l,d);break;case b.kMetadata:this.pmt_.timed_id3_pids[e.pid]?this.parseTimedID3MetadataPayload(l,d,_,e.pid,n):this.pmt_.synchronous_klv_pids[e.pid]&&this.parseSynchronousKLVMetadataPayload(l,d,_,e.pid,n);break;case b.kH264:this.parseH264Payload(l,d,_,e.file_position,e.random_access_indicator);break;case b.kH265:this.parseH265Payload(l,d,_,e.file_position,e.random_access_indicator)}}else 188!==n&&191!==n&&240!==n&&241!==n&&255!==n&&242!==n&&248!==n||e.stream_type!==b.kPESPrivateData||(c=6,h=void 0,h=0!==a?a:t.byteLength-c,l=t.subarray(c,c+h),this.parsePESPrivateDataPayload(l,void 0,void 0,e.pid,n));else r.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value ".concat(i))},t.prototype.parsePAT=function(e){var t=e[0];if(0===t){var i=(15&e[1])<<8|e[2],n=(e[3],e[4],(62&e[5])>>>1),a=1&e[5],o=e[6],s=(e[7],null);if(1===a&&0===o)(s=new k).version_number=n;else if(null==(s=this.pat_))return;for(var d=i-5-4,_=-1,c=-1,h=8;h<8+d;h+=4){var l=e[h]<<8|e[h+1],u=(31&e[h+2])<<8|e[h+3];0===l?s.network_pid=u:(s.program_pmt_pid[l]=u,-1===_&&(_=l),-1===c&&(c=u))}1===a&&0===o&&(null==this.pat_&&r.a.v(this.TAG,"Parsed first PAT: ".concat(JSON.stringify(s))),this.pat_=s,this.current_program_=_,this.current_pmt_pid_=c)}else r.a.e(this.TAG,"parsePAT: table_id ".concat(t," is not corresponded to PAT!"))},t.prototype.parsePMT=function(e){var t=e[0];if(2===t){var i=(15&e[1])<<8|e[2],n=e[3]<<8|e[4],a=(62&e[5])>>>1,o=1&e[5],s=e[6],d=(e[7],null);if(1===o&&0===s)(d=new M).program_number=n,d.version_number=a,this.program_pmt_map_[n]=d;else if(null==(d=this.program_pmt_map_[n]))return;d.pcr_pid=(31&e[8])<<8|e[9];for(var _=(15&e[10])<<8|e[11],c=12+_,h=i-9-_-4,l=c;l<c+h;){var u=e[l],f=(31&e[l+1])<<8|e[l+2],p=(15&e[l+3])<<8|e[l+4];d.pid_stream_type[f]=u;var m=d.common_pids.h264||d.common_pids.h265,g=d.common_pids.adts_aac||d.common_pids.loas_aac||d.common_pids.ac3||d.common_pids.eac3||d.common_pids.opus||d.common_pids.mp3;if(u!==b.kH264||m)if(u!==b.kH265||m)if(u!==b.kADTSAAC||g)if(u!==b.kLOASAAC||g)if(u!==b.kAC3||g)if(u!==b.kEAC3||g)if(u!==b.kMPEG1Audio&&u!==b.kMPEG2Audio||g)if(u===b.kPESPrivateData){if(d.pes_private_data_pids[f]=!0,p>0){for(var v=l+5;v<l+5+p;){var y=e[v+0],S=e[v+1];if(5===y){var A=String.fromCharCode.apply(String,Array.from(e.subarray(v+2,v+2+S)));"VANC"===A?d.smpte2038_pids[f]=!0:"AV01"===A?d.common_pids.av1=f:"Opus"===A?d.common_pids.opus=f:"KLVA"===A&&(d.asynchronous_klv_pids[f]=!0)}else if(127===y){if(f===d.common_pids.opus){var E=null;if(128===e[v+2]&&(E=e[v+3]),null==E){r.a.e(this.TAG,"Not Supported Opus channel count.");continue}var R={codec:"opus",channel_count:15&E?15&E:2,channel_config_code:E,sample_rate:48e3},T={codec:"opus",meta:R};0==this.audio_init_segment_dispatched_?(this.audio_metadata_=R,this.dispatchAudioInitSegment(T)):this.detectAudioMetadataChange(T)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(T))}}else 128===y&&f===d.common_pids.av1&&(this.video_metadata_.av1c=e.subarray(v+2,v+2+S));v+=2+S}var L=e.subarray(l+5,l+5+p);this.dispatchPESPrivateDataDescriptor(f,u,L)}}else if(u===b.kMetadata){if(p>0)for(v=l+5;v<l+5+p;){y=e[v+0];var k=e[v+1];if(38===y){var w=e[v+2]<<8|e[v+3],C=null;65535===w&&(C=String.fromCharCode.apply(String,Array.from(e.subarray(v+4,v+4+4))));var D=null;if(255===e[v+4+(65535===w?4:0)]){var O=4+(65535===w?4:0)+1;D=String.fromCharCode.apply(String,Array.from(e.subarray(v+O,v+O+4)))}"ID3 "===C&&"ID3 "===D?d.timed_id3_pids[f]=!0:"KLVA"===D&&(d.synchronous_klv_pids[f]=!0)}v+=2+k}}else u===b.kSCTE35&&(d.scte_35_pids[f]=!0);else d.common_pids.mp3=f;else d.common_pids.eac3=f;else d.common_pids.ac3=f;else d.common_pids.loas_aac=f;else d.common_pids.adts_aac=f;else d.common_pids.h265=f;else d.common_pids.h264=f;l+=5+p}n===this.current_program_&&(null==this.pmt_&&r.a.v(this.TAG,"Parsed first PMT: ".concat(JSON.stringify(d))),this.pmt_=d,(d.common_pids.h264||d.common_pids.h265||d.common_pids.av1)&&(this.has_video_=!0),(d.common_pids.adts_aac||d.common_pids.loas_aac||d.common_pids.ac3||d.common_pids.opus||d.common_pids.mp3)&&(this.has_audio_=!0))}else r.a.e(this.TAG,"parsePMT: table_id ".concat(t," is not corresponded to PMT!"))},t.prototype.parseSCTE35=function(e){var t=_e(e);if(null!=t.pts){var i=Math.floor(t.pts/this.timescale_);t.pts=i}else t.nearest_pts=this.getNearestTimestampMilliseconds();this.onSCTE35Metadata&&this.onSCTE35Metadata(t)},t.prototype.parseAV1Payload=function(e,t,i,n,a){for(var r=new Te(e),o=null,s=[],d=0,_=!1,c=null;null!=(o=r.readNextOBUPayload());){if((c=R.parseOBUs(o,this.video_metadata_.details))&&!0===c.keyframe)if(this.video_init_segment_dispatched_){var h;!0===this.detectVideoMetadataChange(null,c)&&(this.video_metadata_changed_=!0,this.dispatchVideoMediaSegment(),(h=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+c.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),h.set(c.sequence_header_data,this.video_metadata_.av1c.byteLength),c.av1c=h,this.dispatchVideoInitSegment())}else(h=new Uint8Array(new ArrayBuffer(this.video_metadata_.av1c.byteLength+c.sequence_header_data.byteLength))).set(this.video_metadata_.av1c,0),h.set(c.sequence_header_data,this.video_metadata_.av1c.byteLength),c.av1c=h,this.video_metadata_.details=c,this.dispatchVideoInitSegment();this.video_metadata_.details=c,_||(_=c.keyframe),s.push({data:o}),d+=o.byteLength}var l=Math.floor(t/this.timescale_),u=Math.floor(i/this.timescale_);if(s.length){var f=this.video_track_,p={units:s,length:d,isKeyframe:_,dts:u,pts:l,cts:l-u,file_position:n};f.samples.push(p),f.length+=d}},t.prototype.parseH264Payload=function(e,t,i,n,a){for(var o=new U(e),s=null,d=[],_=0,c=!1;null!=(s=o.readNextNaluPayload());){var h=new x(s);if(h.type===w.kSliceSPS){var l=p.parseSPS(s.data);this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(h,l)&&(r.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:h,pps:void 0,av1c:void 0,details:l}):(this.video_metadata_.sps=h,this.video_metadata_.details=l)}else h.type===w.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=h,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(h.type===w.kSliceIDR||h.type===w.kSliceNonIDR&&1===a)&&(c=!0);this.video_init_segment_dispatched_&&(d.push(h),_+=h.data.byteLength)}var u=Math.floor(t/this.timescale_),f=Math.floor(i/this.timescale_);if(d.length){var m=this.video_track_,g={units:d,length:_,isKeyframe:c,dts:f,pts:u,cts:u-f,file_position:n};m.samples.push(g),m.length+=_}},t.prototype.parseH265Payload=function(e,t,i,n,a){for(var o=new ue(e),s=null,d=[],_=0,c=!1;null!=(s=o.readNextNaluPayload());){var h=new le(s);if(h.type===Q.kSliceVPS){if(!this.video_init_segment_dispatched_){var l=g.parseVPS(s.data);this.video_metadata_.vps=h,this.video_metadata_.details=ke(ke({},this.video_metadata_.details),l)}}else h.type===Q.kSliceSPS?(l=g.parseSPS(s.data),this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(h,l)&&(r.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:h,pps:void 0,av1c:void 0,details:l}):(this.video_metadata_.sps=h,this.video_metadata_.details=ke(ke({},this.video_metadata_.details),l))):h.type===Q.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(l=g.parsePPS(s.data),this.video_metadata_.pps=h,this.video_metadata_.details=ke(ke({},this.video_metadata_.details),l),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):h.type!==Q.kSliceIDR_W_RADL&&h.type!==Q.kSliceIDR_N_LP&&h.type!==Q.kSliceCRA_NUT||(c=!0);this.video_init_segment_dispatched_&&(d.push(h),_+=h.data.byteLength)}var u=Math.floor(t/this.timescale_),f=Math.floor(i/this.timescale_);if(d.length){var p=this.video_track_,m={units:d,length:_,isKeyframe:c,dts:f,pts:u,cts:u-f,file_position:n};p.samples.push(m),p.length+=_}},t.prototype.detectVideoMetadataChange=function(e,t){if(t.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return r.a.v(this.TAG,"Video: Codec mimeType changed from "+"".concat(this.video_metadata_.details.codec_mimetype," to ").concat(t.codec_mimetype)),!0;if(t.codec_size.width!==this.video_metadata_.details.codec_size.width||t.codec_size.height!==this.video_metadata_.details.codec_size.height){var i=this.video_metadata_.details.codec_size,n=t.codec_size;return r.a.v(this.TAG,"Video: Coded Resolution changed from "+"".concat(i.width,"x").concat(i.height," to ").concat(n.width,"x").concat(n.height)),!0}return t.present_size.width!==this.video_metadata_.details.present_size.width&&(r.a.v(this.TAG,"Video: Present resolution width changed from "+"".concat(this.video_metadata_.details.present_size.width," to ").concat(t.present_size.width)),!0)},t.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},t.prototype.dispatchVideoInitSegment=function(){var e=this.video_metadata_.details,t={type:"video"};t.id=this.video_track_.id,t.timescale=1e3,t.duration=this.duration_,t.codecWidth=e.codec_size.width,t.codecHeight=e.codec_size.height,t.presentWidth=e.present_size.width,t.presentHeight=e.present_size.height,t.profile=e.profile_string,t.level=e.level_string,t.bitDepth=e.bit_depth,t.chromaFormat=e.chroma_format,t.sarRatio=e.sar_ratio,t.frameRate=e.frame_rate;var i=t.frameRate.fps_den,n=t.frameRate.fps_num;if(t.refSampleDuration=i/n*1e3,t.codec=e.codec_mimetype,this.video_metadata_.av1c)t.av1c=this.video_metadata_.av1c,0==this.video_init_segment_dispatched_&&r.a.v(this.TAG,"Generated first AV1 for mimeType: ".concat(t.codec));else if(this.video_metadata_.vps){var a=this.video_metadata_.vps.data.subarray(4),o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4),d=new fe(a,o,s,e);t.hvcc=d.getData(),0==this.video_init_segment_dispatched_&&r.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: ".concat(t.codec))}else{o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4);var _=new N(o,s,e);t.avcc=_.getData(),0==this.video_init_segment_dispatched_&&r.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: ".concat(t.codec))}this.onTrackMetadata("video",t),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var c=this.media_info_;c.hasVideo=!0,c.width=t.codecWidth,c.height=t.codecHeight,c.fps=t.frameRate.fps,c.profile=t.profile,c.level=t.level,c.refFrames=e.ref_frames,c.chromaFormat=e.chroma_format_string,c.sarNum=t.sarRatio.width,c.sarDen=t.sarRatio.height,c.videoCodec=t.codec,c.hasAudio&&c.audioCodec?c.mimeType='video/mp2t; codecs="'.concat(c.videoCodec,",").concat(c.audioCodec,'"'):c.mimeType='video/mp2t; codecs="'.concat(c.videoCodec,'"'),c.isComplete()&&this.onMediaInfo(c)},t.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},t.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},t.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},t.prototype.parseADTSAACPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var i=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);i.set(this.aac_last_incomplete_data_,0),i.set(e,this.aac_last_incomplete_data_.byteLength),e=i}var n,a;if(null!=t&&(a=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.audio_last_sample_pts_)n=1024/this.audio_metadata_.sampling_frequency*1e3,a=this.audio_last_sample_pts_+n;else if(null==t)return void r.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){n=1024/this.audio_metadata_.sampling_frequency*1e3;var o=this.audio_last_sample_pts_+n;Math.abs(o-a)>1&&(r.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(o,"ms, PES pts: ").concat(a,"ms")),a=o)}}for(var s,d=new q(e),_=null,c=a;null!=(_=d.readNextAACFrame());){n=1024/_.sampling_frequency*1e3;var h={codec:"aac",data:_};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:_.audio_object_type,sampling_freq_index:_.sampling_freq_index,sampling_frequency:_.sampling_frequency,channel_config:_.channel_config},this.dispatchAudioInitSegment(h)):this.detectAudioMetadataChange(h)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(h)),s=c;var l=Math.floor(c),u={unit:_.data,length:_.data.byteLength,pts:l,dts:l};this.audio_track_.samples.push(u),this.audio_track_.length+=_.data.byteLength,c+=n}d.hasIncompleteData()&&(this.aac_last_incomplete_data_=d.getIncompleteData()),s&&(this.audio_last_sample_pts_=s)}},t.prototype.parseLOASAACPayload=function(e,t){var i;if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var n=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);n.set(this.aac_last_incomplete_data_,0),n.set(e,this.aac_last_incomplete_data_.byteLength),e=n}var a,o;if(null!=t&&(o=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.audio_last_sample_pts_)a=1024/this.audio_metadata_.sampling_frequency*1e3,o=this.audio_last_sample_pts_+a;else if(null==t)return void r.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){a=1024/this.audio_metadata_.sampling_frequency*1e3;var s=this.audio_last_sample_pts_+a;Math.abs(s-o)>1&&(r.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(s,"ms, PES pts: ").concat(o,"ms")),o=s)}}for(var d,_=new K(e),c=null,h=o;null!=(c=_.readNextAACFrame(null!==(i=this.loas_previous_frame)&&void 0!==i?i:void 0));){this.loas_previous_frame=c,a=1024/c.sampling_frequency*1e3;var l={codec:"aac",data:c};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:c.audio_object_type,sampling_freq_index:c.sampling_freq_index,sampling_frequency:c.sampling_frequency,channel_config:c.channel_config},this.dispatchAudioInitSegment(l)):this.detectAudioMetadataChange(l)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(l)),d=h;var u=Math.floor(h),f={unit:c.data,length:c.data.byteLength,pts:u,dts:u};this.audio_track_.samples.push(f),this.audio_track_.length+=c.data.byteLength,h+=a}_.hasIncompleteData()&&(this.aac_last_incomplete_data_=_.getIncompleteData()),d&&(this.audio_last_sample_pts_=d)}},t.prototype.parseAC3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var i,n;if(null!=t&&(n=t/this.timescale_),"ac-3"===this.audio_metadata_.codec)if(null==t&&null!=this.audio_last_sample_pts_)i=1536/this.audio_metadata_.sampling_frequency*1e3,n=this.audio_last_sample_pts_+i;else if(null==t)return void r.a.w(this.TAG,"AC3: Unknown pts");for(var a,o=new ye(e),s=null,d=n;null!=(s=o.readNextAC3Frame());){i=1536/s.sampling_frequency*1e3;var _={codec:"ac-3",data:s};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"ac-3",sampling_frequency:s.sampling_frequency,bit_stream_identification:s.bit_stream_identification,bit_stream_mode:s.bit_stream_mode,low_frequency_effects_channel_on:s.low_frequency_effects_channel_on,channel_mode:s.channel_mode},this.dispatchAudioInitSegment(_)):this.detectAudioMetadataChange(_)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(_)),a=d;var c=Math.floor(d),h={unit:s.data,length:s.data.byteLength,pts:c,dts:c};this.audio_track_.samples.push(h),this.audio_track_.length+=s.data.byteLength,d+=i}a&&(this.audio_last_sample_pts_=a)}},t.prototype.parseEAC3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var i,n;if(null!=t&&(n=t/this.timescale_),"ec-3"===this.audio_metadata_.codec)if(null==t&&null!=this.audio_last_sample_pts_)i=256*this.audio_metadata_.num_blks/this.audio_metadata_.sampling_frequency*1e3,n=this.audio_last_sample_pts_+i;else if(null==t)return void r.a.w(this.TAG,"EAC3: Unknown pts");for(var a,o=new Ae(e),s=null,d=n;null!=(s=o.readNextEAC3Frame());){i=1536/s.sampling_frequency*1e3;var _={codec:"ec-3",data:s};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"ec-3",sampling_frequency:s.sampling_frequency,bit_stream_identification:s.bit_stream_identification,low_frequency_effects_channel_on:s.low_frequency_effects_channel_on,num_blks:s.num_blks,channel_mode:s.channel_mode},this.dispatchAudioInitSegment(_)):this.detectAudioMetadataChange(_)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(_)),a=d;var c=Math.floor(d),h={unit:s.data,length:s.data.byteLength,pts:c,dts:c};this.audio_track_.samples.push(h),this.audio_track_.length+=s.data.byteLength,d+=i}a&&(this.audio_last_sample_pts_=a)}},t.prototype.parseOpusPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var i,n;if(null!=t&&(n=t/this.timescale_),"opus"===this.audio_metadata_.codec)if(null==t&&null!=this.audio_last_sample_pts_)i=20,n=this.audio_last_sample_pts_+i;else if(null==t)return void r.a.w(this.TAG,"Opus: Unknown pts");for(var a,o=n,s=0;s<e.length;){i=20;for(var d=!!(16&e[s+1]),_=!!(8&e[s+1]),c=s+2,h=0;255===e[c];)h+=255,c+=1;h+=e[c],c+=1,c+=d?2:0,c+=_?2:0,a=o;var l=Math.floor(o),u=e.slice(c,c+h),f={unit:u,length:u.byteLength,pts:l,dts:l};this.audio_track_.samples.push(f),this.audio_track_.length+=u.byteLength,o+=i,s=c+h}a&&(this.audio_last_sample_pts_=a)}},t.prototype.parseMP3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var i=e[1]>>>3&3,n=(6&e[1])>>1,a=(e[2],(12&e[2])>>>2),r=3&~(e[3]>>>6)?2:1,o=0,s=34;switch(i){case 0:o=[11025,12e3,8e3,0][a];break;case 2:o=[22050,24e3,16e3,0][a];break;case 3:o=[44100,48e3,32e3,0][a]}switch(n){case 1:s=34;break;case 2:s=33;break;case 3:s=32}var d=new me;d.object_type=s,d.sample_rate=o,d.channel_count=r,d.data=e;var _={codec:"mp3",data:d};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"mp3",object_type:s,sample_rate:o,channel_count:r},this.dispatchAudioInitSegment(_)):this.detectAudioMetadataChange(_)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(_));var c={unit:e,length:e.byteLength,pts:t/this.timescale_,dts:t/this.timescale_};this.audio_track_.samples.push(c),this.audio_track_.length+=e.byteLength}},t.prototype.detectAudioMetadataChange=function(e){if(e.codec!==this.audio_metadata_.codec)return r.a.v(this.TAG,"Audio: Audio Codecs changed from "+"".concat(this.audio_metadata_.codec," to ").concat(e.codec)),!0;if("aac"===e.codec&&"aac"===this.audio_metadata_.codec){if((t=e.data).audio_object_type!==this.audio_metadata_.audio_object_type)return r.a.v(this.TAG,"AAC: AudioObjectType changed from "+"".concat(this.audio_metadata_.audio_object_type," to ").concat(t.audio_object_type)),!0;if(t.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return r.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sampling_freq_index," to ").concat(t.sampling_freq_index)),!0;if(t.channel_config!==this.audio_metadata_.channel_config)return r.a.v(this.TAG,"AAC: Channel configuration changed from "+"".concat(this.audio_metadata_.channel_config," to ").concat(t.channel_config)),!0}else if("ac-3"===e.codec&&"ac-3"===this.audio_metadata_.codec){var t;if((t=e.data).sampling_frequency!==this.audio_metadata_.sampling_frequency)return r.a.v(this.TAG,"AC3: Sampling Frequency changed from "+"".concat(this.audio_metadata_.sampling_frequency," to ").concat(t.sampling_frequency)),!0;if(t.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return r.a.v(this.TAG,"AC3: Bit Stream Identification changed from "+"".concat(this.audio_metadata_.bit_stream_identification," to ").concat(t.bit_stream_identification)),!0;if(t.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return r.a.v(this.TAG,"AC3: BitStream Mode changed from "+"".concat(this.audio_metadata_.bit_stream_mode," to ").concat(t.bit_stream_mode)),!0;if(t.channel_mode!==this.audio_metadata_.channel_mode)return r.a.v(this.TAG,"AC3: Channel Mode changed from "+"".concat(this.audio_metadata_.channel_mode," to ").concat(t.channel_mode)),!0;if(t.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return r.a.v(this.TAG,"AC3: Low Frequency Effects Channel On changed from "+"".concat(this.audio_metadata_.low_frequency_effects_channel_on," to ").concat(t.low_frequency_effects_channel_on)),!0}else if("opus"===e.codec&&"opus"===this.audio_metadata_.codec){if((i=e.meta).sample_rate!==this.audio_metadata_.sample_rate)return r.a.v(this.TAG,"Opus: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(i.sample_rate)),!0;if(i.channel_count!==this.audio_metadata_.channel_count)return r.a.v(this.TAG,"Opus: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(i.channel_count)),!0}else if("mp3"===e.codec&&"mp3"===this.audio_metadata_.codec){var i;if((i=e.data).object_type!==this.audio_metadata_.object_type)return r.a.v(this.TAG,"MP3: AudioObjectType changed from "+"".concat(this.audio_metadata_.object_type," to ").concat(i.object_type)),!0;if(i.sample_rate!==this.audio_metadata_.sample_rate)return r.a.v(this.TAG,"MP3: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(i.sample_rate)),!0;if(i.channel_count!==this.audio_metadata_.channel_count)return r.a.v(this.TAG,"MP3: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(i.channel_count)),!0}return!1},t.prototype.dispatchAudioInitSegment=function(e){var t={type:"audio"};if(t.id=this.audio_track_.id,t.timescale=1e3,t.duration=this.duration_,"aac"===this.audio_metadata_.codec){var i="aac"===e.codec?e.data:null,n=new W(i);t.audioSampleRate=n.sampling_rate,t.channelCount=n.channel_count,t.codec=n.codec_mimetype,t.originalCodec=n.original_codec_mimetype,t.config=n.config,t.refSampleDuration=1024/t.audioSampleRate*t.timescale}else if("ac-3"===this.audio_metadata_.codec){var a="ac-3"===e.codec?e.data:null,o=new Se(a);t.audioSampleRate=o.sampling_rate,t.channelCount=o.channel_count,t.codec=o.codec_mimetype,t.originalCodec=o.original_codec_mimetype,t.config=o.config,t.refSampleDuration=1536/t.audioSampleRate*t.timescale}else if("ec-3"===this.audio_metadata_.codec){var s="ec-3"===e.codec?e.data:null,d=new Ee(s);t.audioSampleRate=d.sampling_rate,t.channelCount=d.channel_count,t.codec=d.codec_mimetype,t.originalCodec=d.original_codec_mimetype,t.config=d.config,t.refSampleDuration=256*d.num_blks/t.audioSampleRate*t.timescale}else"opus"===this.audio_metadata_.codec?(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.channelConfigCode=this.audio_metadata_.channel_config_code,t.codec="opus",t.originalCodec="opus",t.config=void 0,t.refSampleDuration=20):"mp3"===this.audio_metadata_.codec&&(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.codec="mp3",t.originalCodec="mp3",t.config=void 0);0==this.audio_init_segment_dispatched_&&r.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: ".concat(t.codec)),this.onTrackMetadata("audio",t),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var _=this.media_info_;_.hasAudio=!0,_.audioCodec=t.originalCodec,_.audioSampleRate=t.audioSampleRate,_.audioChannelCount=t.channelCount,_.hasVideo&&_.videoCodec?_.mimeType='video/mp2t; codecs="'.concat(_.videoCodec,",").concat(_.audioCodec,'"'):_.mimeType='video/mp2t; codecs="'.concat(_.audioCodec,'"'),_.isComplete()&&this.onMediaInfo(_)},t.prototype.dispatchPESPrivateDataDescriptor=function(e,t,i){var n=new X;n.pid=e,n.stream_type=t,n.descriptor=i,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(n)},t.prototype.parsePESPrivateDataPayload=function(e,t,i,n,a){var r=new Y;if(r.pid=n,r.stream_id=a,r.len=e.byteLength,r.data=e,null!=t){var o=Math.floor(t/this.timescale_);r.pts=o}else r.nearest_pts=this.getNearestTimestampMilliseconds();if(null!=i){var s=Math.floor(i/this.timescale_);r.dts=s}this.onPESPrivateData&&this.onPESPrivateData(r)},t.prototype.parseTimedID3MetadataPayload=function(e,t,i,n,a){var r=new Y;if(r.pid=n,r.stream_id=a,r.len=e.byteLength,r.data=e,null!=t){var o=Math.floor(t/this.timescale_);r.pts=o}if(null!=i){var s=Math.floor(i/this.timescale_);r.dts=s}this.onTimedID3Metadata&&this.onTimedID3Metadata(r)},t.prototype.parseSynchronousKLVMetadataPayload=function(e,t,i,n,a){var r=new Re;if(r.pid=n,r.stream_id=a,r.len=e.byteLength,r.data=e,null!=t){var o=Math.floor(t/this.timescale_);r.pts=o}if(null!=i){var s=Math.floor(i/this.timescale_);r.dts=s}r.access_units=(function(e){for(var t=[],i=0;i+5<e.byteLength;){var n=e[i+0],a=e[i+1],r=e[i+2],o=e[i+3]<<8|e[i+4],s=e.slice(i+5,i+5+o);t.push({service_id:n,sequence_number:a,flags:r,data:s}),i+=5+o}return t})(e),this.onSynchronousKLVMetadata&&this.onSynchronousKLVMetadata(r)},t.prototype.parseAsynchronousKLVMetadataPayload=function(e,t,i){var n=new Y;n.pid=t,n.stream_id=i,n.len=e.byteLength,n.data=e,this.onAsynchronousKLVMetadata&&this.onAsynchronousKLVMetadata(n)},t.prototype.parseSMPTE2038MetadataPayload=function(e,t,i,n,a){var r=new pe;if(r.pid=n,r.stream_id=a,r.len=e.byteLength,r.data=e,null!=t){var o=Math.floor(t/this.timescale_);r.pts=o}if(r.nearest_pts=this.getNearestTimestampMilliseconds(),null!=i){var s=Math.floor(i/this.timescale_);r.dts=s}r.ancillaries=(function(e){for(var t=new f(e),i=0,n=[];i+=6,0===t.readBits(6);){var a=t.readBool();i+=1;var r=t.readBits(11);i+=11;var o=t.readBits(12);i+=12;var s=255&t.readBits(10);i+=10;var d=255&t.readBits(10);i+=10;var _=255&t.readBits(10);i+=10;for(var c=new Uint8Array(_),h=0;h<_;h++){var l=255&t.readBits(10);i+=10,c[h]=l}t.readBits(10),i+=10;var u="User Defined";65===s?7===d&&(u="SCTE-104"):95===s?220===d?u="ARIB STD-B37 (1SEG)":221===d?u="ARIB STD-B37 (ANALOG)":222===d?u="ARIB STD-B37 (SD)":223===d&&(u="ARIB STD-B37 (HD)"):97===s&&(1===d?u="EIA-708":2===d&&(u="EIA-608")),n.push({yc_indicator:a,line_number:r,horizontal_offset:o,did:s,sdid:d,user_data:c,description:u,information:{}}),t.readBits(8-(i-Math.floor(i/8))%8),i+=(8-(i-Math.floor(i/8)))%8}return t.destroy(),t=null,n})(e),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(r)},t.prototype.getNearestTimestampMilliseconds=function(){return null!=this.audio_last_sample_pts_?Math.floor(this.audio_last_sample_pts_):null!=this.last_pcr_?Math.floor(this.last_pcr_/300/this.timescale_):void 0},t.prototype.getPcrBase=function(e){var t=33554432*e[6]+131072*e[7]+512*e[8]+2*e[9]+(128&e[10])/128+this.timestamp_offset_;return t+4294967296<this.last_pcr_base_&&(t+=8589934592,this.timestamp_offset_+=8589934592),this.last_pcr_base_=t,t},t.prototype.getTimestamp=function(e,t){var i=536870912*(14&e[t])+4194304*(255&e[t+1])+16384*(254&e[t+2])+128*(255&e[t+3])+(254&e[t+4])/2+this.timestamp_offset_;return i+4294967296<this.last_pcr_base_&&(i+=8589934592),i},t})(L),Me=function(e,t,i){if(i||2===arguments.length)for(var n,a=0,r=t.length;a<r;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},Ce=(function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],av01:[],av1C:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[],fLaC:[],dfLa:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=e.constants={};i.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),i.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),i.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSC=i.STCO=i.STTS,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),i.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,i=null,n=Array.prototype.slice.call(arguments,1),a=n.length,r=0;r<a;r++)t+=n[r].byteLength;(i=new Uint8Array(t))[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);var o=8;for(r=0;r<a;r++)i.set(n[r],o),o+=n[r].byteLength;return i},e.generateInitSegment=function(t){var i=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),a=new Uint8Array(i.byteLength+n.byteLength);return a.set(i,0),a.set(n,i.byteLength),a},e.moov=function(t){var i=e.mvhd(t.timescale,t.duration),n=e.trak(t),a=e.mvex(t);return e.box(e.types.moov,i,n,a)},e.mvhd=function(t,i){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var i=t.id,n=t.duration,a=t.presentWidth,r=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>>8&255,255&a,0,0,r>>>8&255,255&r,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var i=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))},e.hdlr=function(t){var i;return i="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,i)},e.minf=function(t){var i;return i="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,i,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):"ac-3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.ac3(t)):"ec-3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.ec3(t)):"opus"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.Opus(t)):"flac"==t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.fLaC(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):"video"===t.type&&t.codec.startsWith("hvc1")?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.hvc1(t)):"video"===t.type&&t.codec.startsWith("av01")?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.av01(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types[".mp3"],a)},e.mp4a=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,a,e.esds(t))},e.ac3=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types["ac-3"],a,e.box(e.types.dac3,new Uint8Array(t.config)))},e.ec3=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types["ec-3"],a,e.box(e.types.dec3,new Uint8Array(t.config)))},e.esds=function(t){var i=t.config||[],n=i.length,a=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(i).concat([6,1,2]));return e.box(e.types.esds,a)},e.Opus=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.Opus,a,e.dOps(t))},e.dOps=function(t){var i=t.channelCount,n=t.channelConfigCode,a=t.audioSampleRate;if(t.config)return e.box(e.types.dOps,t.config);var r=[];switch(n){case 1:case 2:r=[0];break;case 0:r=[255,1,1,0,1];break;case 128:r=[255,2,0,0,1];break;case 3:r=[1,2,1,0,2,1];break;case 4:r=[1,2,2,0,1,2,3];break;case 5:r=[1,3,2,0,4,1,2,3];break;case 6:r=[1,4,2,0,4,1,2,3,5];break;case 7:r=[1,4,2,0,4,1,2,3,5,6];break;case 8:r=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:r=[1,1,2,0,1];break;case 131:r=[1,1,3,0,1,2];break;case 132:r=[1,1,4,0,1,2,3];break;case 133:r=[1,1,5,0,1,2,3,4];break;case 134:r=[1,1,6,0,1,2,3,4,5];break;case 135:r=[1,1,7,0,1,2,3,4,5,6];break;case 136:r=[1,1,8,0,1,2,3,4,5,6,7]}var o=new Uint8Array(Me([0,i,0,0,a>>>24&255,a>>>17&255,a>>>8&255,a>>>0&255,0,0],r,!0));return e.box(e.types.dOps,o)},e.fLaC=function(t){var i=t.channelCount,n=Math.min(t.audioSampleRate,65535),a=t.sampleSize,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,a,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.fLaC,r,e.dfLa(t))},e.dfLa=function(t){var i=new Uint8Array(Me([0,0,0,0],t.config,!0));return e.box(e.types.dfLa,i)},e.avc1=function(t){var i=t.avcc,n=t.codecWidth,a=t.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,r,e.box(e.types.avcC,i))},e.hvc1=function(t){var i=t.hvcc,n=t.codecWidth,a=t.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.hvc1,r,e.box(e.types.hvcC,i))},e.av01=function(t){var i=t.av1c,n=t.codecWidth||192,a=t.codecHeight||108,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.av01,r,e.box(e.types.av1C,i))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var i=t.id,n=new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)},e.moof=function(t,i){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,i))},e.mfhd=function(t){var i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,i)},e.traf=function(t,i){var n=t.id,a=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),r=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,a,r,s,o)},e.sdtp=function(t){for(var i=t.samples||[],n=i.length,a=new Uint8Array(4+n),r=0;r<n;r++){var o=i[r].flags;a[r+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,a)},e.trun=function(t,i){var n=t.samples||[],a=n.length,r=12+16*a,o=new Uint8Array(r);i+=8+r,o.set([0,0,15,1,a>>>24&255,a>>>16&255,a>>>8&255,255&a,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0);for(var s=0;s<a;s++){var d=n[s].duration,_=n[s].size,c=n[s].flags,h=n[s].cts;o.set([d>>>24&255,d>>>16&255,d>>>8&255,255&d,_>>>24&255,_>>>16&255,_>>>8&255,255&_,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*s)}return e.box(e.types.trun,o)},e.mdat=function(t){return e.box(e.types.mdat,t)},e})();Ce.init();var De=Ce,Oe=(function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e})(),Be=i(11),Ie=(function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new Be.c("audio"),this._videoSegmentInfoList=new Be.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.a.chrome||!(o.a.version.major<50||50===o.a.version.major&&o.a.version.build<2661)),this._fillSilentAfterSeek=o.a.msedge||o.a.msie,this._mp3UseMpegAudio=!o.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new h.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),t&&this._remuxVideo(t),e&&this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var i=null,n="mp4",a=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(n="mpeg",a="",i=new Uint8Array):i=De.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,i=De.generateInitSegment(t)}if(!this._onInitSegment)throw new h.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:i.buffer,codec:a,container:"".concat(e,"/").concat(n),mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e&&e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t&&t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);var n={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(n,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var i,n=e,a=n.samples,s=void 0,d=-1,_=this._audioMeta.refSampleDuration,c="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,h=this._dtsBaseInited&&void 0===this._audioNextDts,l=!1;if(a&&0!==a.length&&(1!==a.length||t)){var u=0,f=null,p=0;c?(u=0,p=n.length):(u=8,p=8+n.length);var m=null;if(a.length>1&&(p-=(m=a.pop()).length),null!=this._audioStashedLastSample){var g=this._audioStashedLastSample;this._audioStashedLastSample=null,a.unshift(g),p+=g.length}null!=m&&(this._audioStashedLastSample=m);var v=a[0].dts-this._dtsBase;if(this._audioNextDts)s=v-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())s=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(l=!0);else{var y=this._audioSegmentInfoList.getLastSampleBefore(v);if(null!=y){var S=v-(y.originalDts+y.duration);S<=3&&(S=0),s=v-(y.dts+y.duration+S)}else s=0}if(l){var b=v-s,A=this._videoSegmentInfoList.getLastSegmentBefore(v);if(null!=A&&A.beginDts<b){if(B=Oe.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var E=A.beginDts,R=b-A.beginDts;r.a.v(this.TAG,"InsertPrefixSilentAudio: dts: ".concat(E,", duration: ").concat(R)),a.unshift({unit:B,dts:E,pts:E}),p+=B.byteLength}}else l=!1}for(var T=[],L=0;L<a.length;L++){var k=(g=a[L]).unit,w=g.dts-this._dtsBase,M=(E=w,!1),C=null,D=0;if(!(w<-.001)){if("mp3"!==this._audioMeta.codec&&null!=_){var O=w;if(this._audioNextDts&&(O=this._audioNextDts),(s=w-O)<=-3*_){r.a.w(this.TAG,"Dropping 1 audio frame (originalDts: ".concat(w," ms ,curRefDts: ").concat(O," ms)  due to dtsCorrection: ").concat(s," ms overlap."));continue}if(s>=3*_&&this._fillAudioTimestampGap&&!o.a.safari){M=!0;var B,I=Math.floor(s/_);r.a.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\n"+"originalDts: ".concat(w," ms, curRefDts: ").concat(O," ms, ")+"dtsCorrection: ".concat(Math.round(s)," ms, generate: ").concat(I," frames")),E=Math.floor(O),D=Math.floor(O+_)-E,null==(B=Oe.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(r.a.w(this.TAG,"Unable to generate silent frame for "+"".concat(this._audioMeta.originalCodec," with ").concat(this._audioMeta.channelCount," channels, repeat last frame")),B=k),C=[];for(var P=0;P<I;P++){O+=_;var x=Math.floor(O),U=Math.floor(O+_)-x,N={dts:x,pts:x,cts:0,unit:B,size:B.byteLength,duration:U,originalDts:w,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};C.push(N),p+=N.size}this._audioNextDts=O+_}else E=Math.floor(O),D=Math.floor(O+_)-E,this._audioNextDts=O+_}else E=w-s,D=L!==a.length-1?a[L+1].dts-this._dtsBase-s-E:null!=m?m.dts-this._dtsBase-s-E:T.length>=1?T[T.length-1].duration:Math.floor(_),this._audioNextDts=E+D;-1===d&&(d=E),T.push({dts:E,pts:E,cts:0,unit:g.unit,size:g.unit.byteLength,duration:D,originalDts:w,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),M&&T.push.apply(T,C)}}if(0===T.length)return n.samples=[],void(n.length=0);for(c?f=new Uint8Array(p):((f=new Uint8Array(p))[0]=p>>>24&255,f[1]=p>>>16&255,f[2]=p>>>8&255,f[3]=255&p,f.set(De.types.mdat,4)),L=0;L<T.length;L++)k=T[L].unit,f.set(k,u),u+=k.byteLength;var V=T[T.length-1];i=V.dts+V.duration;var G,F=new Be.b;F.beginDts=d,F.endDts=i,F.beginPts=d,F.endPts=i,F.originalBeginDts=T[0].originalDts,F.originalEndDts=V.originalDts+V.duration,F.firstSample=new Be.d(T[0].dts,T[0].pts,T[0].duration,T[0].originalDts,!1),F.lastSample=new Be.d(V.dts,V.pts,V.duration,V.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(F),n.samples=T,n.sequenceNumber++,G=c?new Uint8Array:De.moof(n,d),n.samples=[],n.length=0;var j={type:"audio",data:this._mergeBoxes(G,f).buffer,sampleCount:T.length,info:F};c&&h&&(j.timestampOffset=d),this._onMediaSegment("audio",j)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var i,n,a=e,r=a.samples,o=void 0,s=-1,d=-1;if(r&&0!==r.length&&(1!==r.length||t)){var _=8,c=null,h=8+e.length,l=null;if(r.length>1&&(h-=(l=r.pop()).length),null!=this._videoStashedLastSample){var u=this._videoStashedLastSample;this._videoStashedLastSample=null,r.unshift(u),h+=u.length}null!=l&&(this._videoStashedLastSample=l);var f=r[0].dts-this._dtsBase;if(this._videoNextDts)o=f-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())o=0;else{var p=this._videoSegmentInfoList.getLastSampleBefore(f);if(null!=p){var m=f-(p.originalDts+p.duration);m<=3&&(m=0),o=f-(p.dts+p.duration+m)}else o=0}for(var g=new Be.b,v=[],y=0;y<r.length;y++){var S=(u=r[y]).dts-this._dtsBase,b=u.isKeyframe,A=S-o,E=u.cts,R=A+E;-1===s&&(s=A,d=R);var T=0;if(T=y!==r.length-1?r[y+1].dts-this._dtsBase-o-A:null!=l?l.dts-this._dtsBase-o-A:v.length>=1?v[v.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),b){var L=new Be.d(A,R,T,u.dts,!0);L.fileposition=u.fileposition,g.appendSyncPoint(L)}v.push({dts:A,pts:R,cts:E,units:u.units,size:u.length,isKeyframe:b,duration:T,originalDts:S,flags:{isLeading:0,dependsOn:b?2:1,isDependedOn:b?1:0,hasRedundancy:0,isNonSync:b?0:1}})}for((c=new Uint8Array(h))[0]=h>>>24&255,c[1]=h>>>16&255,c[2]=h>>>8&255,c[3]=255&h,c.set(De.types.mdat,4),y=0;y<v.length;y++)for(var k=v[y].units;k.length;){var w=k.shift().data;c.set(w,_),_+=w.byteLength}var M=v[v.length-1];if(i=M.dts+M.duration,n=M.pts+M.duration,this._videoNextDts=i,g.beginDts=s,g.endDts=i,g.beginPts=d,g.endPts=n,g.originalBeginDts=v[0].originalDts,g.originalEndDts=M.originalDts+M.duration,g.firstSample=new Be.d(v[0].dts,v[0].pts,v[0].duration,v[0].originalDts,v[0].isKeyframe),g.lastSample=new Be.d(M.dts,M.pts,M.duration,M.originalDts,M.isKeyframe),this._isLive||this._videoSegmentInfoList.append(g),a.samples=v,a.sequenceNumber++,this._forceFirstIDR){var C=v[0].flags;C.dependsOn=2,C.isNonSync=0}var D=De.moof(a,s);a.samples=[],a.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(D,c).buffer,sampleCount:v.length,info:g})}}},e.prototype._mergeBoxes=function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i},e})(),Pe=i(14),xe=i(1),Ue=(i(2),(function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var i=0;this._mediaDataSource.segments.forEach(function(n){n.timestampBase=i,i+=n.duration,n.cors=e.cors,n.withCredentials=e.withCredentials,t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy)}),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var i=this._mediaDataSource.segments[e],n=this._ioctl=new Pe.a(i,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var i=this._mediaInfo.segments[t];if(null==i)this._pendingSeekTime=e;else{var n=i.getNearestKeyframe(e);this._remuxer.seek(n.milliseconds),this._ioctl.seek(n.fileposition),this._pendingResolveSeekPoint=n.milliseconds}}else{var a=this._mediaInfo.segments[t];null==a?(this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t)):(n=a.getNearestKeyframe(e),this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,n.fileposition),this._pendingResolveSeekPoint=n.milliseconds,this._reportSegmentMediaInfo(t))}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,i=t.length-1,n=0;n<t.length;n++)if(e<t[n].timestampBase){i=n-1;break}return i},e.prototype._onInitChunkArrival=function(e,t){var i=this,n=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,n=this._demuxer.parseChunks(e,t);else{var a=null;(a=T.probe(e)).match&&(this._setupFLVDemuxerRemuxer(a),n=this._demuxer.parseChunks(e,t)),a.match||a.needMoreData||(a=we.probe(e)).match&&(this._setupTSDemuxerRemuxer(a),n=this._demuxer.parseChunks(e,t)),a.match||a.needMoreData||(a=null,r.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then(function(){i._internalAbort()}),this._emitter.emit(xe.a.DEMUX_ERROR,m.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return n},e.prototype._setupFLVDemuxerRemuxer=function(e){this._demuxer=new T(e,this._config),this._remuxer||(this._remuxer=new Ie(this._config));var t=this._mediaDataSource;null==t.duration||isNaN(t.duration)||(this._demuxer.overridedDuration=t.duration),"boolean"==typeof t.hasAudio&&(this._demuxer.overridedHasAudio=t.hasAudio),"boolean"==typeof t.hasVideo&&(this._demuxer.overridedHasVideo=t.hasVideo),this._demuxer.timestampBase=t.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._setupTSDemuxerRemuxer=function(e){var t=this._demuxer=new we(e,this._config);this._remuxer||(this._remuxer=new Ie(this._config)),t.onError=this._onDemuxException.bind(this),t.onMediaInfo=this._onMediaInfo.bind(this),t.onMetaDataArrived=this._onMetaDataArrived.bind(this),t.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),t.onSynchronousKLVMetadata=this._onSynchronousKLVMetadata.bind(this),t.onAsynchronousKLVMetadata=this._onAsynchronousKLVMetadata.bind(this),t.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),t.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),t.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),t.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,s.a.prototype));var i=Object.assign({},e);Object.setPrototypeOf(i,s.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=i,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)})},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(xe.a.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(xe.a.SCRIPTDATA_ARRIVED,e)},e.prototype._onTimedID3Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(xe.a.TIMED_ID3_METADATA_ARRIVED,e))},e.prototype._onSynchronousKLVMetadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(xe.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,e))},e.prototype._onAsynchronousKLVMetadata=function(e){this._emitter.emit(xe.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,e)},e.prototype._onSMPTE2038Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(xe.a.SMPTE2038_METADATA_ARRIVED,e))},e.prototype._onSCTE35Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(xe.a.SCTE35_METADATA_ARRIVED,e))},e.prototype._onPESPrivateDataDescriptor=function(e){this._emitter.emit(xe.a.PES_PRIVATE_DATA_DESCRIPTOR,e)},e.prototype._onPESPrivateData=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(xe.a.PES_PRIVATE_DATA_ARRIVED,e))},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(xe.a.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(xe.a.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){r.a.e(this.TAG,"IOException: type = ".concat(e,", code = ").concat(t.code,", msg = ").concat(t.msg)),this._emitter.emit(xe.a.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){r.a.e(this.TAG,"DemuxException: type = ".concat(e,", info = ").concat(t)),this._emitter.emit(xe.a.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(xe.a.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(xe.a.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var i=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,o.a.safari&&i.length>0&&i[0].originalDts===n&&(n=i[0].pts),this._emitter.emit(xe.a.RECOMMEND_SEEKPOINT,n)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(xe.a.MEDIA_INFO,i)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(xe.a.STATISTICS_INFO,e)},e})());t.a=Ue},function(e,t,i){"use strict";var n,a,r,o,s,d=i(0),_=(function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,"currentKBps",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageKBps",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e})(),c=i(2),h=i(5),l=i(3),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),f=(function(e){function t(t,i){var n=e.call(this,"fetch-stream-loader")||this;return n.TAG="FetchStreamLoader",n._seekHandler=t,n._config=i,n._needStash=!0,n._requestAbort=!1,n._abortController=null,n._contentLength=null,n._receivedLength=0,n}return u(t,e),t.isSupported=function(){try{var e=h.a.msedge&&h.a.version.minor>=15048,t=!h.a.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var i=this;this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var a=this._seekHandler.getConfig(n,t),r=new self.Headers;if("object"==typeof a.headers){var o=a.headers;for(var s in o)o.hasOwnProperty(s)&&r.append(s,o[s])}var d={method:"GET",headers:r,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var s in this._config.headers)r.append(s,this._config.headers[s]);!1===e.cors&&(d.mode="same-origin"),e.withCredentials&&(d.credentials="include"),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,d.signal=this._abortController.signal),this._status=c.c.kConnecting,self.fetch(a.url,d).then(function(e){if(i._requestAbort)return i._status=c.c.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==a.url&&i._onURLRedirect){var t=i._seekHandler.removeURLParameters(e.url);i._onURLRedirect(t)}var n=e.headers.get("Content-Length");return null!=n&&(i._contentLength=parseInt(n),0!==i._contentLength&&i._onContentLengthKnown&&i._onContentLengthKnown(i._contentLength)),i._pump.call(i,e.body.getReader())}if(i._status=c.c.kError,!i._onError)throw new l.d("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);i._onError(c.b.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(function(e){if(!i._abortController||!i._abortController.signal.aborted){if(i._status=c.c.kError,!i._onError)throw e;i._onError(c.b.EXCEPTION,{code:-1,msg:e.message})}})},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==c.c.kBuffering||!h.a.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then(function(i){if(i.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=c.c.kError;var n=c.b.EARLY_EOF,a={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new l.d(a.msg);t._onError(n,a)}else t._status=c.c.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=c.c.kComplete);if(!0===t._requestAbort)return t._status=c.c.kComplete,e.cancel();t._status=c.c.kBuffering;var r=i.value.buffer,o=t._range.from+t._receivedLength;t._receivedLength+=r.byteLength,t._onDataArrival&&t._onDataArrival(r,o,t._receivedLength),t._pump(e)}}).catch(function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=c.c.kComplete;else if(11!==e.code||!h.a.msedge){t._status=c.c.kError;var i=0,n=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(i=c.b.EXCEPTION,n={code:e.code,msg:e.message}):(i=c.b.EARLY_EOF,n={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new l.d(n.msg);t._onError(i,n)}})},t})(c.a),p=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=(function(e){function t(t,i){var n=e.call(this,"xhr-moz-chunked-loader")||this;return n.TAG="MozChunkedLoader",n._seekHandler=t,n._config=i,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return p(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return d.a.w("MozChunkedLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var n=this._seekHandler.getConfig(i,t);this._requestURL=n.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",n.url,!0),a.responseType="moz-chunked-arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onloadend=this._onLoadEnd.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"==typeof n.headers){var r=n.headers;for(var o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o,r[o])}if("object"==typeof this._config.headers)for(var o in r=this._config.headers)r.hasOwnProperty(o)&&a.setRequestHeader(o,r[o]);this._status=c.c.kConnecting,a.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=c.c.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var i=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(i)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=c.c.kError,!this._onError)throw new l.d("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(c.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=c.c.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==c.c.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==c.c.kError&&(this._status=c.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=c.c.kError;var t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=c.b.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=c.b.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(i.msg);this._onError(t,i)},t})(c.a),g=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),v=((function(e){function t(t,i){var n=e.call(this,"xhr-msstream-loader")||this;return n.TAG="MSStreamLoader",n._seekHandler=t,n._config=i,n._needStash=!0,n._xhr=null,n._reader=null,n._totalRange=null,n._currentRange=null,n._currentRequestURL=null,n._currentRedirectedURL=null,n._contentLength=null,n._receivedLength=0,n._bufferLimit=16777216,n._lastTimeBufferSize=0,n._isReconnecting=!1,n}g(t,e),t.isSupported=function(){try{if(void 0===self.MSStream||void 0===self.MSStreamReader)return!1;var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="ms-stream","ms-stream"===e.responseType}catch(e){return d.a.w("MSStreamLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._internalOpen(e,t,!1)},t.prototype._internalOpen=function(e,t,i){this._dataSource=e,i?this._currentRange=t:this._totalRange=t;var n=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?n=this._currentRedirectedURL:null!=e.redirectedURL&&(n=e.redirectedURL));var a=this._seekHandler.getConfig(n,t);this._currentRequestURL=a.url;var r=this._reader=new self.MSStreamReader;r.onprogress=this._msrOnProgress.bind(this),r.onload=this._msrOnLoad.bind(this),r.onerror=this._msrOnError.bind(this);var o=this._xhr=new XMLHttpRequest;if(o.open("GET",a.url,!0),o.responseType="ms-stream",o.onreadystatechange=this._xhrOnReadyStateChange.bind(this),o.onerror=this._xhrOnError.bind(this),e.withCredentials&&(o.withCredentials=!0),"object"==typeof a.headers){var s=a.headers;for(var d in s)s.hasOwnProperty(d)&&o.setRequestHeader(d,s[d])}if("object"==typeof this._config.headers)for(var d in s=this._config.headers)s.hasOwnProperty(d)&&o.setRequestHeader(d,s[d]);this._isReconnecting?this._isReconnecting=!1:this._status=c.c.kConnecting,o.send()},t.prototype.abort=function(){this._internalAbort(),this._status=c.c.kComplete},t.prototype._internalAbort=function(){this._reader&&(1===this._reader.readyState&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)},t.prototype._xhrOnReadyStateChange=function(e){var t=e.target;if(2===t.readyState)if(t.status>=200&&t.status<=299){if(this._status=c.c.kBuffering,null!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}var n=t.getResponseHeader("Content-Length");if(null!=n&&null==this._contentLength){var a=parseInt(n);a>0&&(this._contentLength=a,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=c.c.kError,!this._onError)throw new l.d("MSStreamLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(c.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else if(3===t.readyState&&t.status>=200&&t.status<=299){this._status=c.c.kBuffering;var r=t.response;this._reader.readAsArrayBuffer(r)}},t.prototype._xhrOnError=function(e){this._status=c.c.kError;var t=c.b.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type};if(!this._onError)throw new l.d(i.msg);this._onError(t,i)},t.prototype._msrOnProgress=function(e){var t=e.target.result;if(null!=t){var i=t.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=t.byteLength;var n=this._totalRange.from+this._receivedLength;this._receivedLength+=i.byteLength,this._onDataArrival&&this._onDataArrival(i,n,this._receivedLength),t.byteLength>=this._bufferLimit&&(d.a.v(this.TAG,"MSStream buffer exceeded max size near ".concat(n+i.byteLength,", reconnecting...")),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()},t.prototype._doReconnectIfNeeded=function(){if(null==this._contentLength||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var e={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,e,!0)}},t.prototype._msrOnLoad=function(e){this._status=c.c.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)},t.prototype._msrOnError=function(e){this._status=c.c.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength<this._contentLength?(t=c.b.EARLY_EOF,i={code:-1,msg:"MSStream meet Early-Eof"}):(t=c.b.EARLY_EOF,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(i.msg);this._onError(t,i)}})(c.a),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),y=(function(e){function t(t,i){var n=e.call(this,"xhr-range-loader")||this;return n.TAG="RangeLoader",n._seekHandler=t,n._config=i,n._needStash=!1,n._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],n._currentChunkSizeKB=384,n._currentSpeedNormalized=0,n._zeroSpeedChunkCount=0,n._xhr=null,n._speedSampler=new _,n._requestAbort=!1,n._waitForTotalLength=!1,n._totalLengthReceived=!1,n._currentRequestURL=null,n._currentRedirectedURL=null,n._currentRequestRange=null,n._totalLength=null,n._contentLength=null,n._receivedLength=0,n._lastTimeLoaded=0,n}return v(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return d.a.w("RangeLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=c.c.kConnecting;var i=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var i=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=e.redirectedURL&&(i=e.redirectedURL));var n=this._seekHandler.getConfig(i,t);this._currentRequestURL=n.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",n.url,!0),a.responseType="arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onload=this._onLoad.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"==typeof n.headers){var r=n.headers;for(var o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o,r[o])}if("object"==typeof this._config.headers)for(var o in r=this._config.headers)r.hasOwnProperty(o)&&a.setRequestHeader(o,r[o]);a.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=c.c.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=c.c.kBuffering}else{if(this._status=c.c.kError,!this._onError)throw new l.d("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(c.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==c.c.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var n=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(n)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,i=t.length-1,n=0,a=0,r=i;if(e<t[0])return t[0];for(;a<=r;){if((n=a+Math.floor((r-a)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?a=n+1:r=n-1}},t.prototype._onLoad=function(e){if(this._status!==c.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var i=this._normalizeSpeed(t);this._currentSpeedNormalized!==i&&(this._currentSpeedNormalized=i,this._currentChunkSizeKB=i)}var n=e.target.response,a=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;var r=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():r=!0,this._onDataArrival&&this._onDataArrival(n,a,this._receivedLength),r&&(this._status=c.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=c.c.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=c.b.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=c.b.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(i.msg);this._onError(t,i)},t})(c.a),S=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),b=(function(e){function t(){var t=e.call(this,"websocket-loader")||this;return t.TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return S(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=c.c.kConnecting}catch(e){this._status=c.c.kError;var i={code:e.code,msg:e.message};if(!this._onError)throw new l.d(i.msg);this._onError(c.b.EXCEPTION,i)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=c.c.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=c.c.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=c.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var i=new FileReader;i.onload=function(){t._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(e.data)}else{this._status=c.c.kError;var n={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new l.d(n.msg);this._onError(c.b.EXCEPTION,n)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=c.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new l.d(t.msg);this._onError(c.b.EXCEPTION,t)},t})(c.a),A=(function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var i,n={};0!==t.from||-1!==t.to?(i=-1!==t.to?"bytes=".concat(t.from.toString(),"-").concat(t.to.toString()):"bytes=".concat(t.from.toString(),"-"),n.Range=i):this._zeroStart&&(n.Range="bytes=0-");return{url:e,headers:n}},e.prototype.removeURLParameters=function(e){return e},e})(),E=(function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var i=e;if(0!==t.from||-1!==t.to){var n=!0;-1===i.indexOf("?")&&(i+="?",n=!1),n&&(i+="&"),i+="".concat(this._startName,"=").concat(t.from.toString()),-1!==t.to&&(i+="&".concat(this._endName,"=").concat(t.to.toString()))}return{url:i,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split("?")[0],i=void 0,n=e.indexOf("?");-1!==n&&(i=e.substring(n+1));var a="";if(null!=i&&i.length>0)for(var r=i.split("&"),o=0;o<r.length;o++){var s=r[o].split("="),d=o>0;s[0]!==this._startName&&s[0]!==this._endName&&(d&&(a+="&"),a+=r[o])}return 0===a.length?t:t+"?"+a},e})(),R=(function(){function e(e,t,i){this.TAG="IOController",this._config=t,this._extraData=i,this._stashInitialSize=65536,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=Math.max(this._stashSize,3145728),this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new _,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRedirect",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSpeed",{get:function(){return this._loaderClass===y?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new A(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",i=e.seekParamEnd||"bend";this._seekHandler=new E(t,i)}else{if("custom"!==e.seekType)throw new l.b("Invalid seekType in config: ".concat(e.seekType));if("function"!=typeof e.customSeekHandler)throw new l.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=b;else if(f.isSupported())this._loaderClass=f;else if(m.isSupported())this._loaderClass=m;else{if(!y.isSupported())throw new l.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=y}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new l.b("Url must be a non-empty string!");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var i=new ArrayBuffer(t);if(this._stashUsed>0){var n=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(n,0)}this._stashBuffer=i,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,i=t.length-1,n=0,a=0,r=i;if(e<t[0])return t[0];for(;a<=r;){if((n=a+Math.floor((r-a)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?a=n+1:r=n-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive?e/8:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,i){if(!this._onDataArrival)throw new l.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var n=this._speedSampler.lastSecondKBps;if(0!==n){var a=this._normalizeSpeed(n);this._speedNormalized!==a&&(this._speedNormalized=a,this._adjustStashSize(a))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)(s=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else if(s=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var r=this._stashBuffer.slice(0,this._stashUsed);(d=this._dispatchChunks(r,this._stashByteStart))<r.byteLength?d>0&&(_=new Uint8Array(r,d),s.set(_,0),this._stashUsed=_.byteLength,this._stashByteStart+=d):(this._stashUsed=0,this._stashByteStart+=d),this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else(d=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-d)>this._bufferSize&&(this._expandBuffer(o),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,d),0),this._stashUsed+=o,this._stashByteStart=t+d);else if(0===this._stashUsed){var o;(d=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-d)>this._bufferSize&&this._expandBuffer(o),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,d),0),this._stashUsed+=o,this._stashByteStart=t+d)}else{var s,d;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(d=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&d>0){var _=new Uint8Array(this._stashBuffer,d);s.set(_,0)}this._stashUsed-=d,this._stashByteStart+=d}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),n=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){var a=new Uint8Array(this._stashBuffer,0,this._bufferSize),r=new Uint8Array(t,i);a.set(r,0),this._stashUsed=r.byteLength,this._stashByteStart+=i}return 0}d.a.w(this.TAG,"".concat(n," bytes unconsumed data remain when flush buffer, dropped"))}return this._stashUsed=0,this._stashByteStart=0,n}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(d.a.e(this.TAG,"Loader error, code = ".concat(t.code,", msg = ").concat(t.msg)),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=c.b.UNRECOVERABLE_EARLY_EOF),e){case c.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var i=this._currentRange.to+1;return void(i<this._totalLength&&(d.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(i,!1)))}e=c.b.UNRECOVERABLE_EARLY_EOF;case c.b.UNRECOVERABLE_EARLY_EOF:case c.b.CONNECTING_TIMEOUT:case c.b.HTTP_STATUS_CODE_INVALID:case c.b.EXCEPTION:}if(!this._onError)throw new l.d("IOException: "+t.msg);this._onError(e,t)},e})();t.a=R},function(e,t,i){"use strict";var n=(function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])}return t},String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var i=t>0?0|t:0;return this.substring(i,i+e.length)===e}}),"function"!=typeof self.Promise&&i(21).polyfill()},e})();n.install(),t.a=n},function(e,t,i){"use strict";var n=i(9),a=i.n(n),r=i(0),o=i(5),s=i(7),d=i(3),_=(function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new a.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onStartStreaming:this._onStartStreaming.bind(this),onEndStreaming:this._onEndStreaming.bind(this),onQualityChange:this._onQualityChange.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._useManagedMediaSource="ManagedMediaSource"in self&&!("MediaSource"in self),this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElementProxy=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]}}return e.prototype.destroy=function(){this._mediaSource&&this.shutdown(),this._mediaSourceObjectURL&&this.revokeObjectURL(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.initialize=function(e){if(this._mediaSource)throw new d.a("MediaSource has been attached to an HTMLMediaElement!");this._useManagedMediaSource&&r.a.v(this.TAG,"Using ManagedMediaSource");var t=this._mediaSource=this._useManagedMediaSource?new self.ManagedMediaSource:new self.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(t.addEventListener("startstreaming",this.e.onStartStreaming),t.addEventListener("endstreaming",this.e.onEndStreaming),t.addEventListener("qualitychange",this.e.onQualityChange)),this._mediaElementProxy=e},e.prototype.shutdown=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var n=this._sourceBuffers[t];if(n){if("closed"!==e.readyState){try{e.removeSourceBuffer(n)}catch(e){r.a.e(this.TAG,e.message)}n.removeEventListener("error",this.e.onSourceBufferError),n.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){r.a.e(this.TAG,e.message)}this._mediaElementProxy=null,e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(e.removeEventListener("startstreaming",this.e.onStartStreaming),e.removeEventListener("endstreaming",this.e.onEndStreaming),e.removeEventListener("qualitychange",this.e.onQualityChange)),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._mediaSource=null}},e.prototype.isManagedMediaSource=function(){return this._useManagedMediaSource},e.prototype.getObject=function(){if(!this._mediaSource)throw new d.a("MediaSource has not been initialized yet!");return this._mediaSource},e.prototype.getHandle=function(){if(!this._mediaSource)throw new d.a("MediaSource has not been initialized yet!");return this._mediaSource.handle},e.prototype.getObjectURL=function(){if(!this._mediaSource)throw new d.a("MediaSource has not been initialized yet!");return null==this._mediaSourceObjectURL&&(this._mediaSourceObjectURL=URL.createObjectURL(this._mediaSource)),this._mediaSourceObjectURL},e.prototype.revokeObjectURL=function(){this._mediaSourceObjectURL&&(URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(void 0===t&&(t=void 0),!this._mediaSource||"open"!==this._mediaSource.readyState||!1===this._mediaSource.streaming)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var i=e,n="".concat(i.container);i.codec&&i.codec.length>0&&("opus"===i.codec&&o.a.safari&&(i.codec="Opus"),n+=";codecs=".concat(i.codec));var a=!1;if(r.a.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])r.a.v(this.TAG,"Notice: ".concat(i.type," mimeType changed, origin: ").concat(this._mimeTypes[i.type],", target: ").concat(n));else{a=!0;try{var d=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);d.addEventListener("error",this.e.onSourceBufferError),d.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return r.a.e(this.TAG,e.message),void this._emitter.emit(s.a.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=n}t||this._pendingSegments[i.type].push(i),a||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),o.a.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.flush=function(){for(var e in this._sourceBuffers)if(this._sourceBuffers[e]){var t=this._sourceBuffers[e];if("open"===this._mediaSource.readyState)try{t.abort()}catch(e){r.a.e(this.TAG,e.message)}var i=this._pendingSegments[e];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(var n=0;n<t.buffered.length;n++){var a=t.buffered.start(n),s=t.buffered.end(n);this._pendingRemoveRanges[e].push({start:a,end:s})}if(t.updating||this._doRemoveRanges(),o.a.safari){var d=this._lastInitSegments[e];d&&(this._pendingSegments[e].push(d),t.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElementProxy.getCurrentTime();for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){var n=i.buffered;if(n.length>=1&&e-n.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElementProxy.getCurrentTime();for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){for(var n=i.buffered,a=!1,r=0;r<n.length;r++){var o=n.start(r),s=n.end(r);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){a=!0;var d=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:d})}}else s<e&&(a=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}a&&!i.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElementProxy.getReadyState()&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(r.a.v(this.TAG,"Update MediaSource duration from ".concat(t," to ").concat(i)),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];i.length&&!t.updating;){var n=i.shift();t.remove(n.start,n.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&!1!==this._mediaSource.streaming&&e[t].length>0){var i=e[t].shift();if("number"==typeof i.timestampOffset&&isFinite(i.timestampOffset)){var n=this._sourceBuffers[t].timestampOffset,a=i.timestampOffset/1e3;Math.abs(n-a)>.1&&(r.a.v(this.TAG,"Update MPEG audio timestampOffset from ".concat(n," to ").concat(a)),this._sourceBuffers[t].timestampOffset=a),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(s.a.BUFFER_FULL),this._isBufferFull=!0):(r.a.e(this.TAG,e.message),this._emitter.emit(s.a.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(r.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(s.a.SOURCE_OPEN)},e.prototype._onStartStreaming=function(){r.a.v(this.TAG,"ManagedMediaSource onStartStreaming"),this._emitter.emit(s.a.START_STREAMING)},e.prototype._onEndStreaming=function(){r.a.v(this.TAG,"ManagedMediaSource onEndStreaming"),this._emitter.emit(s.a.END_STREAMING)},e.prototype._onQualityChange=function(){r.a.v(this.TAG,"ManagedMediaSource onQualityChange")},e.prototype._onSourceEnded=function(){r.a.v(this.TAG,"MediaSource onSourceEnded")},e.prototype._onSourceClose=function(){r.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(this._mediaSource.removeEventListener("startstreaming",this.e.onStartStreaming),this._mediaSource.removeEventListener("endstreaming",this.e.onEndStreaming),this._mediaSource.removeEventListener("qualitychange",this.e.onQualityChange)))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(s.a.UPDATE_END)},e.prototype._onSourceBufferError=function(e){r.a.e(this.TAG,"SourceBuffer Error: ".concat(e))},e})();t.a=_},function(e,t,i){"use strict";var n=i(9),a=i.n(n),r=i(18),o=i.n(r),s=i(0),d=i(8),_=i(13),c=i(1),h=(i(19),i(12)),l=(function(){function e(e,t){if(this.TAG="Transmuxer",this._emitter=new a.a,t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=o()(19),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},d.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:d.a.getConfig()})}catch(i){s.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new _.a(e,t)}else this._controller=new _.a(e,t);if(this._controller){var i=this._controller;i.on(c.a.IO_ERROR,this._onIOError.bind(this)),i.on(c.a.DEMUX_ERROR,this._onDemuxError.bind(this)),i.on(c.a.INIT_SEGMENT,this._onInitSegment.bind(this)),i.on(c.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),i.on(c.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),i.on(c.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),i.on(c.a.MEDIA_INFO,this._onMediaInfo.bind(this)),i.on(c.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),i.on(c.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),i.on(c.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),i.on(c.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,this._onSynchronousKLVMetadataArrived.bind(this)),i.on(c.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,this._onAsynchronousKLVMetadataArrived.bind(this)),i.on(c.a.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),i.on(c.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),i.on(c.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),i.on(c.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),i.on(c.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),i.on(c.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),d.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(c.a.INIT_SEGMENT,e,t)})},e.prototype._onMediaSegment=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(c.a.MEDIA_SEGMENT,e,t)})},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(c.a.LOADING_COMPLETE)})},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then(function(){e._emitter.emit(c.a.RECOVERED_EARLY_EOF)})},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.MEDIA_INFO,e)})},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.METADATA_ARRIVED,e)})},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.SCRIPTDATA_ARRIVED,e)})},e.prototype._onTimedID3MetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.TIMED_ID3_METADATA_ARRIVED,e)})},e.prototype._onSynchronousKLVMetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,e)})},e.prototype._onAsynchronousKLVMetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,e)})},e.prototype._onSMPTE2038MetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.SMPTE2038_METADATA_ARRIVED,e)})},e.prototype._onSCTE35MetadataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.SCTE35_METADATA_ARRIVED,e)})},e.prototype._onPESPrivateDataDescriptor=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.PES_PRIVATE_DATA_DESCRIPTOR,e)})},e.prototype._onPESPrivateDataArrived=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.PES_PRIVATE_DATA_ARRIVED,e)})},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.STATISTICS_INFO,e)})},e.prototype._onIOError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(c.a.IO_ERROR,e,t)})},e.prototype._onDemuxError=function(e,t){var i=this;Promise.resolve().then(function(){i._emitter.emit(c.a.DEMUX_ERROR,e,t)})},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then(function(){t._emitter.emit(c.a.RECOMMEND_SEEKPOINT,e)})},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,i=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case c.a.INIT_SEGMENT:case c.a.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case c.a.LOADING_COMPLETE:case c.a.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case c.a.MEDIA_INFO:Object.setPrototypeOf(i,h.a.prototype),this._emitter.emit(t.msg,i);break;case c.a.METADATA_ARRIVED:case c.a.SCRIPTDATA_ARRIVED:case c.a.TIMED_ID3_METADATA_ARRIVED:case c.a.SYNCHRONOUS_KLV_METADATA_ARRIVED:case c.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED:case c.a.SMPTE2038_METADATA_ARRIVED:case c.a.SCTE35_METADATA_ARRIVED:case c.a.PES_PRIVATE_DATA_DESCRIPTOR:case c.a.PES_PRIVATE_DATA_ARRIVED:case c.a.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case c.a.IO_ERROR:case c.a.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case c.a.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case"logcat_callback":s.a.emitter.emit("log",i.type,i.logcat)}},e})();t.a=l},function(e,t,i){function n(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var n=i(i.s=ENTRY_MODULE);return n.default||n}function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function r(e,t,n){var r={};r[n]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return r;for(var d,_=s[1],c=new RegExp("(\\\\n|\\W)"+a(_)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");d=c.exec(o);)"dll-reference"!==d[3]&&r[n].push(d[3]);for(c=new RegExp("\\("+a(_)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");d=c.exec(o);)e[d[2]]||(r[n].push(d[1]),e[d[2]]=i(d[1]).m),r[d[2]]=r[d[2]]||[],r[d[2]].push(d[4]);for(var h,l=Object.keys(r),u=0;u<l.length;u++)for(var f=0;f<r[l[u]].length;f++)h=r[l[u]][f],isNaN(1*h)||(r[l[u]][f]=1*r[l[u]][f]);return r}function o(e){return Object.keys(e).reduce(function(t,i){return t||e[i].length>0},!1)}e.exports=function(e,t){t=t||{};var a={main:i.m},s=t.all?{main:Object.keys(a.main)}:(function(e,t){for(var i={main:[t]},n={main:[]},a={main:{}};o(i);)for(var s=Object.keys(i),d=0;d<s.length;d++){var _=s[d],c=i[_].pop();if(a[_]=a[_]||{},!a[_][c]&&e[_][c]){a[_][c]=!0,n[_]=n[_]||[],n[_].push(c);for(var h=r(e,e[_][c],_),l=Object.keys(h),u=0;u<l.length;u++)i[l[u]]=i[l[u]]||[],i[l[u]]=i[l[u]].concat(h[l[u]])}}return n})(a,e),d="";Object.keys(s).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;s[e][t];)t++;s[e].push(t),a[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",d=d+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map(function(t){return JSON.stringify(t)+": "+a[e][t].toString()}).join(",")+"});\n"}),d=d+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map(function(e){return JSON.stringify(e)+": "+a.main[e].toString()}).join(",")+"}))(self);";var _=new self.Blob([d],{type:"text/javascript"});if(t.bare)return _;var c=(self.URL||self.webkitURL||self.mozURL||self.msURL).createObjectURL(_),h=new self.Worker(c);return h.objectURL=c,h}},function(e,t,i){"use strict";i.r(t),i(0);var n=i(8),a=i(15),r=i(13),o=i(1);t.default=function(e){var t=null,i=function(t,i){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:i}})}.bind(this);function s(t,i){var n={msg:o.a.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function d(t,i){var n={msg:o.a.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function _(){var t={msg:o.a.LOADING_COMPLETE};e.postMessage(t)}function c(){var t={msg:o.a.RECOVERED_EARLY_EOF};e.postMessage(t)}function h(t){var i={msg:o.a.MEDIA_INFO,data:t};e.postMessage(i)}function l(t){var i={msg:o.a.METADATA_ARRIVED,data:t};e.postMessage(i)}function u(t){var i={msg:o.a.SCRIPTDATA_ARRIVED,data:t};e.postMessage(i)}function f(t){var i={msg:o.a.TIMED_ID3_METADATA_ARRIVED,data:t};e.postMessage(i)}function p(t){var i={msg:o.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,data:t};e.postMessage(i)}function m(t){var i={msg:o.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,data:t};e.postMessage(i)}function g(t){var i={msg:o.a.SMPTE2038_METADATA_ARRIVED,data:t};e.postMessage(i)}function v(t){var i={msg:o.a.SCTE35_METADATA_ARRIVED,data:t};e.postMessage(i)}function y(t){var i={msg:o.a.PES_PRIVATE_DATA_DESCRIPTOR,data:t};e.postMessage(i)}function S(t){var i={msg:o.a.PES_PRIVATE_DATA_ARRIVED,data:t};e.postMessage(i)}function b(t){var i={msg:o.a.STATISTICS_INFO,data:t};e.postMessage(i)}function A(t,i){e.postMessage({msg:o.a.IO_ERROR,data:{type:t,info:i}})}function E(t,i){e.postMessage({msg:o.a.DEMUX_ERROR,data:{type:t,info:i}})}function R(t){e.postMessage({msg:o.a.RECOMMEND_SEEKPOINT,data:t})}a.a.install(),e.addEventListener("message",function(a){switch(a.data.cmd){case"init":(t=new r.a(a.data.param[0],a.data.param[1])).on(o.a.IO_ERROR,A.bind(this)),t.on(o.a.DEMUX_ERROR,E.bind(this)),t.on(o.a.INIT_SEGMENT,s.bind(this)),t.on(o.a.MEDIA_SEGMENT,d.bind(this)),t.on(o.a.LOADING_COMPLETE,_.bind(this)),t.on(o.a.RECOVERED_EARLY_EOF,c.bind(this)),t.on(o.a.MEDIA_INFO,h.bind(this)),t.on(o.a.METADATA_ARRIVED,l.bind(this)),t.on(o.a.SCRIPTDATA_ARRIVED,u.bind(this)),t.on(o.a.TIMED_ID3_METADATA_ARRIVED,f.bind(this)),t.on(o.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,p.bind(this)),t.on(o.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,m.bind(this)),t.on(o.a.SMPTE2038_METADATA_ARRIVED,g.bind(this)),t.on(o.a.SCTE35_METADATA_ARRIVED,v.bind(this)),t.on(o.a.PES_PRIVATE_DATA_DESCRIPTOR,y.bind(this)),t.on(o.a.PES_PRIVATE_DATA_ARRIVED,S.bind(this)),t.on(o.a.STATISTICS_INFO,b.bind(this)),t.on(o.a.RECOMMEND_SEEKPOINT,R.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(a.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var T=a.data.param;n.a.applyConfig(T),!0===T.enableCallback?n.a.addLogListener(i):n.a.removeLogListener(i)}})}},function(e,t,i){e.exports=i(25).default},function(e,t,i){(function(t,i){
/*!
         * @overview es6-promise - a tiny implementation of Promises/A+.
         * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
         * @license   Licensed under MIT license
         *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
         * @version   v4.2.8+1e68dce6
         */
var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=0,r=void 0,o=void 0,s=function(e,t){f[a]=e,f[a+1]=t,2===(a+=2)&&(o?o(p):S())},d="undefined"!=typeof window?window:void 0,_=d||{},c=_.MutationObserver||_.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var e=setTimeout;return function(){return e(p,1)}}var f=new Array(1e3);function p(){for(var e=0;e<a;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;a=0}var m,g,v,y,S=void 0;function b(e,t){var i=this,n=new this.constructor(R);void 0===n[E]&&I(n);var a=i._state;if(a){var r=arguments[a-1];s(function(){return O(a,n,r,i._result)})}else C(i,n,e,t);return n}function A(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(R);return L(t,e),t}h?S=function(){return t.nextTick(p)}:c?(g=0,v=new c(p),y=document.createTextNode(""),v.observe(y,{characterData:!0}),S=function(){y.data=g=++g%2}):l?((m=new MessageChannel).port1.onmessage=p,S=function(){return m.port2.postMessage(0)}):S=void 0===d?(function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(p)}:u()}catch(e){return u()}})():u();var E=Math.random().toString(36).substring(2);function R(){}function T(t,i,n){i.constructor===t.constructor&&n===b&&i.constructor.resolve===A?(function(e,t){1===t._state?w(e,t._result):2===t._state?M(e,t._result):C(t,void 0,function(t){return L(e,t)},function(t){return M(e,t)})})(t,i):void 0===n?w(t,i):e(n)?(function(e,t,i){s(function(e){var n=!1,a=(function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}})(i,t,function(i){n||(n=!0,t!==i?L(e,i):w(e,i))},function(t){n||(n=!0,M(e,t))},e._label);!n&&a&&(n=!0,M(e,a))},e)})(t,i,n):w(t,i)}function L(e,t){if(e===t)M(e,new TypeError("You cannot resolve a promise with itself"));else if(a=typeof(n=t),null===n||"object"!==a&&"function"!==a)w(e,t);else{var i=void 0;try{i=t.then}catch(t){return void M(e,t)}T(e,t,i)}var n,a}function k(e){e._onerror&&e._onerror(e._result),D(e)}function w(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(D,e))}function M(e,t){void 0===e._state&&(e._state=2,e._result=t,s(k,e))}function C(e,t,i,n){var a=e._subscribers,r=a.length;e._onerror=null,a[r]=t,a[r+1]=i,a[r+2]=n,0===r&&e._state&&s(D,e)}function D(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,a=void 0,r=e._result,o=0;o<t.length;o+=3)n=t[o],a=t[o+i],n?O(i,n,a,r):a(r);e._subscribers.length=0}}function O(t,i,n,a){var r=e(n),o=void 0,s=void 0,d=!0;if(r){try{o=n(a)}catch(e){d=!1,s=e}if(i===o)return void M(i,new TypeError("A promises callback cannot return that same promise."))}else o=a;void 0!==i._state||(r&&d?L(i,o):!1===d?M(i,s):1===t?w(i,o):2===t&&M(i,o))}var B=0;function I(e){e[E]=B++,e._state=void 0,e._result=void 0,e._subscribers=[]}var P=(function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(R),this.promise[E]||I(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===A){var a=void 0,r=void 0,o=!1;try{a=e.then}catch(e){o=!0,r=e}if(a===b&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(i===x){var s=new i(R);o?M(s,r):T(s,e,a),this._willSettleAt(s,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?M(n,i):this._result[t]=i),0===this._remaining&&w(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;C(e,void 0,function(e){return i._settledAt(1,t,e)},function(e){return i._settledAt(2,t,e)})},e})(),x=(function(){function t(e){this[E]=B++,this._result=this._state=void 0,this._subscribers=[],R!==e&&("function"!=typeof e&&(function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")})(),this instanceof t?(function(e,t){try{t(function(t){L(e,t)},function(t){M(e,t)})}catch(t){M(e,t)}})(this,e):(function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")})())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})}):this.then(t,t)},t})();return x.prototype.then=b,x.all=function(e){return new P(this,e).promise},x.race=function(e){var t=this;return n(e)?new t(function(i,n){for(var a=e.length,r=0;r<a;r++)t.resolve(e[r]).then(i,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},x.resolve=A,x.reject=function(e){var t=new this(R);return M(t,e),t},x._setScheduler=function(e){o=e},x._setAsap=function(e){s=e},x._asap=s,x.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=x},x.Promise=x,x},e.exports=n()}).call(this,i(22),i(23))},function(e,t){var i,n,a=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!(function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}})();var d,_=[],c=!1,h=-1;function l(){c&&d&&(c=!1,d.length?_=d.concat(_):h=-1,_.length&&u())}function u(){if(!c){var e=s(l);c=!0;for(var t=_.length;t;){for(d=_,_=[];++h<t;)d&&d[h].run();h=-1,t=_.length}d=null,c=!1,(function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}})(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];_.push(new f(e,t)),1!==_.length||c||s(u)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){var i;i=(function(){return this})();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";i.r(t);var n=i(0),a=i(8),r=i(3),o=i(7),s=i(16),d=i(17),_=i(1),c=i(4),h=i(10);t.default=function(e){var t="PlayerEngineWorker",i=function(t,i){e.postMessage({msg:"logcat_callback",type:t,logcat:i})}.bind(void 0),l=null,u=null,f=null,p=null,m=!1,g=!1,v=0,y=0,S=!1;function b(){f&&(f.shutdown(),f.destroy(),f=null)}function A(){if(null==l||null==u)throw new r.a("Worker not initialized");if(p)throw new r.a("Transmuxer has been initialized");g||(!u.deferLoadAfterSourceOpen||m?((p=new d.a(l,u)).on(_.a.INIT_SEGMENT,function(e,t){f.appendInitSegment(t)}),p.on(_.a.MEDIA_SEGMENT,function(t,i){f.appendMediaSegment(i),e.postMessage({msg:"buffered_position_changed",buffered_position_milliseconds:i.info.endDts})}),p.on(_.a.LOADING_COMPLETE,function(){f.endOfStream(),e.postMessage({msg:"player_event",event:c.a.LOADING_COMPLETE})}),p.on(_.a.RECOVERED_EARLY_EOF,function(){e.postMessage({msg:"player_event",event:c.a.RECOVERED_EARLY_EOF})}),p.on(_.a.IO_ERROR,function(t,i){e.postMessage({msg:"player_event",event:c.a.ERROR,error_type:h.b.NETWORK_ERROR,error_detail:t,info:i})}),p.on(_.a.DEMUX_ERROR,function(t,i){e.postMessage({msg:"player_event",event:c.a.ERROR,error_type:h.b.MEDIA_ERROR,error_detail:t,info:i})}),p.on(_.a.MEDIA_INFO,function(e){w(_.a.MEDIA_INFO,e)}),p.on(_.a.STATISTICS_INFO,function(e){w(_.a.STATISTICS_INFO,e)}),p.on(_.a.RECOMMEND_SEEKPOINT,function(t){!(function(t){e.postMessage({msg:"transmuxing_event",event:_.a.RECOMMEND_SEEKPOINT,milliseconds:t})})(t)}),p.on(_.a.METADATA_ARRIVED,function(e){M(c.a.METADATA_ARRIVED,e)}),p.on(_.a.SCRIPTDATA_ARRIVED,function(e){M(c.a.SCRIPTDATA_ARRIVED,e)}),p.on(_.a.TIMED_ID3_METADATA_ARRIVED,function(e){M(c.a.TIMED_ID3_METADATA_ARRIVED,e)}),p.on(_.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,function(e){M(c.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,e)}),p.on(_.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,function(e){M(c.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,e)}),p.on(_.a.SMPTE2038_METADATA_ARRIVED,function(e){M(c.a.SMPTE2038_METADATA_ARRIVED,e)}),p.on(_.a.SCTE35_METADATA_ARRIVED,function(e){M(c.a.SCTE35_METADATA_ARRIVED,e)}),p.on(_.a.PES_PRIVATE_DATA_DESCRIPTOR,function(e){M(c.a.PES_PRIVATE_DATA_DESCRIPTOR,e)}),p.on(_.a.PES_PRIVATE_DATA_ARRIVED,function(e){M(c.a.PES_PRIVATE_DATA_ARRIVED,e)}),p.open()):g=!0)}function E(){f&&f.flush(),p&&(p.close(),p.destroy(),p=null)}function R(){m=!0,g&&(g=!1,A())}function T(){e.postMessage({msg:"mse_event",event:o.a.UPDATE_END})}function L(){n.a.v(t,"MSE SourceBuffer is full, report to main thread"),e.postMessage({msg:"mse_event",event:o.a.BUFFER_FULL})}function k(t){e.postMessage({msg:"player_event",event:c.a.ERROR,error_type:h.b.MEDIA_ERROR,error_detail:h.b.MEDIA_MSE_ERROR,info:t})}function w(t,i){e.postMessage({msg:"transmuxing_event",event:t,info:i})}function M(t,i){e.postMessage({msg:"player_event",event:t,extraData:i})}e.addEventListener("message",function(r){if(!S){var d=r.data;switch(d.cmd){case"logging_config":var _=d;a.a.applyConfig(_.logging_config),!0===_.logging_config.enableCallback?a.a.addLogListener(i):a.a.removeLogListener(i);break;case"init":l=(_=d).media_data_source,u=_.config;break;case"destroy":p&&E(),f&&b(),S=!0,e.postMessage({msg:"destroyed"});break;case"initialize_mse":!(function(){n.a.v(t,"Initializing MediaSource in DedicatedWorker"),(f=new s.a(u)).on(o.a.SOURCE_OPEN,R.bind(this)),f.on(o.a.UPDATE_END,T.bind(this)),f.on(o.a.BUFFER_FULL,L.bind(this)),f.on(o.a.ERROR,k.bind(this)),f.initialize({getCurrentTime:function(){return v},getReadyState:function(){return y}});var i=f.getHandle();e.postMessage({msg:"mse_init",handle:i},[i])})();break;case"shutdown_mse":b();break;case"load":A();break;case"unload":E();break;case"unbuffered_seek":_=d,f.flush(),p.seek(_.milliseconds);break;case"timeupdate":v=(_=d).current_time;break;case"readystatechange":y=(_=d).ready_state;break;case"pause_transmuxer":p.pause();break;case"resume_transmuxer":p.resume()}}})}},function(e,t,i){"use strict";i.r(t);var n=i(15),a=i(14),r={enableWorker:!1,enableWorkerForMSE:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyChasingOnPaused:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,liveSync:!1,liveSyncMaxLatency:1.2,liveSyncTargetLatency:.8,liveSyncPlaybackRate:1.2,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function o(){return Object.assign({},r)}var s=(function(){function e(){}return e.supportMSEH264Playback=function(){var e=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return e||t},e.supportMSEH265Playback=function(){var e=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"'),t=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"');return e||t},e.supportNetworkStreamIO=function(){var e=new a.a({},o()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new a.a({},o()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var i=e.videoElement.canPlayType(t);return"probably"===i||"maybe"==i},e.getFeatureList=function(){var t={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.msePlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLivePlayback=t.msePlayback&&t.networkStreamIO,t.mseH265Playback=e.supportMSEH265Playback(),t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeMP4H265Playback=e.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e})(),d=i(2),_=i(0),c=i(9),h=i.n(c),l=i(16),u=i(4),f=i(17),p=i(7),m=i(10),g=i(3),v=i(1),y=i(5),S=i(11),b=(function(){function e(e,t,i){this.TAG="SeekingHandler",this._config=null,this._media_element=null,this._always_seek_keyframe=!1,this._on_unbuffered_seek=null,this._request_set_current_time=!1,this._seek_request_record_clocktime=null,this._idr_sample_list=new S.a,this.e=null,this._config=e,this._media_element=t,this._on_unbuffered_seek=i,this.e={onMediaSeeking:this._onMediaSeeking.bind(this)};var n=y.a.chrome&&(y.a.version.major<50||50===y.a.version.major&&y.a.version.build<2661);this._always_seek_keyframe=!!(n||y.a.msedge||y.a.msie),this._always_seek_keyframe&&(this._config.accurateSeek=!1),this._media_element.addEventListener("seeking",this.e.onMediaSeeking)}return e.prototype.destroy=function(){this._idr_sample_list.clear(),this._idr_sample_list=null,this._media_element.removeEventListener("seeking",this.e.onMediaSeeking),this._media_element=null,this._on_unbuffered_seek=null},e.prototype.seek=function(e){var t=this._isPositionBuffered(e),i=!1;if(e<1&&this._media_element.buffered.length>0){var n=this._media_element.buffered.start(0);(n<1&&e<n||y.a.safari)&&(i=!0,e=y.a.safari?.1:n)}if(i)this.directSeek(e);else if(t)if(this._always_seek_keyframe){var a=this._getNearestKeyframe(Math.floor(1e3*e));null!=a&&(e=a.dts/1e3),this.directSeek(e)}else this.directSeek(e);else this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*e)),this._config.accurateSeek&&this.directSeek(e)},e.prototype.directSeek=function(e){this._request_set_current_time=!0,this._media_element.currentTime=e},e.prototype.appendSyncPoints=function(e){this._idr_sample_list.appendArray(e)},e.prototype._onMediaSeeking=function(t){if(this._request_set_current_time)this._request_set_current_time=!1;else{var i=this._media_element.currentTime,n=this._media_element.buffered;if(i<1&&n.length>0){var a=n.start(0);if(a<1&&i<a||y.a.safari){var r=y.a.safari?.1:a;return void this.directSeek(r)}}if(this._isPositionBuffered(i)){if(this._always_seek_keyframe){var o=this._getNearestKeyframe(Math.floor(1e3*i));null!=o&&(i=o.dts/1e3,this.directSeek(i))}}else this._seek_request_record_clocktime=e._getClockTime(),window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)}},e.prototype._pollAndApplyUnbufferedSeek=function(){if(null!=this._seek_request_record_clocktime)if(this._seek_request_record_clocktime<=e._getClockTime()-100){var t=this._media_element.currentTime;this._seek_request_record_clocktime=null,this._isPositionBuffered(t)||(this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*t)),this._config.accurateSeek&&this.directSeek(t))}else window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)},e.prototype._isPositionBuffered=function(e){for(var t=this._media_element.buffered,i=0;i<t.length;i++){var n=t.start(i),a=t.end(i);if(e>=n&&e<a)return!0}return!1},e.prototype._getNearestKeyframe=function(e){return this._idr_sample_list.getLastSyncPointBeforeDts(e)},e._getClockTime=function(){return self.performance&&self.performance.now?self.performance.now():Date.now()},e})(),A=(function(){function e(e,t,i,n){this.TAG="LoadingController",this._config=null,this._media_element=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null,this._paused=!1,this.e=null,this._config=e,this._media_element=t,this._on_pause_transmuxer=i,this._on_resume_transmuxer=n,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)}}return e.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this.e=null,this._media_element=null,this._config=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null},e.prototype.notifyBufferedPositionChanged=function(e){!this._config.isLive&&this._config.lazyLoad&&(null==e?this._suspendTransmuxerIfNeeded():this._suspendTransmuxerIfBufferedPositionExceeded(e))},e.prototype._onMediaTimeUpdate=function(e){this._paused&&this._resumeTransmuxerIfNeeded()},e.prototype._suspendTransmuxerIfNeeded=function(){for(var e=this._media_element.buffered,t=this._media_element.currentTime,i=0,n=0;n<e.length;n++){var a=e.start(n),r=e.end(n);if(a<=t&&t<r){i=r;break}}i>0&&this._suspendTransmuxerIfBufferedPositionExceeded(i)},e.prototype._suspendTransmuxerIfBufferedPositionExceeded=function(e){e>=this._media_element.currentTime+this._config.lazyLoadMaxDuration&&!this._paused&&(_.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this.suspendTransmuxer(),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate))},e.prototype.suspendTransmuxer=function(){this._paused=!0,this._on_pause_transmuxer()},e.prototype._resumeTransmuxerIfNeeded=function(){for(var e=this._media_element.buffered,t=this._media_element.currentTime,i=this._config.lazyLoadRecoverDuration,n=!1,a=0;a<e.length;a++){var r=e.start(a),o=e.end(a);if(t>=r&&t<o){t>=o-i&&(n=!0);break}}n&&(_.a.v(this.TAG,"Continue loading from paused position"),this.resumeTransmuxer(),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate))},e.prototype.resumeTransmuxer=function(){this._paused=!1,this._on_resume_transmuxer()},e})(),E=(function(){function e(e,t){this.TAG="StartupStallJumper",this._media_element=null,this._on_direct_seek=null,this._canplay_received=!1,this.e=null,this._media_element=e,this._on_direct_seek=t,this.e={onMediaCanPlay:this._onMediaCanPlay.bind(this),onMediaStalled:this._onMediaStalled.bind(this),onMediaProgress:this._onMediaProgress.bind(this)},this._media_element.addEventListener("canplay",this.e.onMediaCanPlay),this._media_element.addEventListener("stalled",this.e.onMediaStalled),this._media_element.addEventListener("progress",this.e.onMediaProgress)}return e.prototype.destroy=function(){this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay),this._media_element.removeEventListener("stalled",this.e.onMediaStalled),this._media_element.removeEventListener("progress",this.e.onMediaProgress),this._media_element=null,this._on_direct_seek=null},e.prototype._onMediaCanPlay=function(e){this._canplay_received=!0,this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay)},e.prototype._onMediaStalled=function(e){this._detectAndFixStuckPlayback(!0)},e.prototype._onMediaProgress=function(e){this._detectAndFixStuckPlayback()},e.prototype._detectAndFixStuckPlayback=function(e){var t=this._media_element,i=t.buffered;e||!this._canplay_received||t.readyState<2?i.length>0&&t.currentTime<i.start(0)&&(_.a.w(this.TAG,"Playback seems stuck at ".concat(t.currentTime,", seek to ").concat(i.start(0))),this._on_direct_seek(i.start(0)),this._media_element.removeEventListener("progress",this.e.onMediaProgress)):this._media_element.removeEventListener("progress",this.e.onMediaProgress)},e})(),R=(function(){function e(e,t,i){this._config=null,this._media_element=null,this._on_direct_seek=null,this._config=e,this._media_element=t,this._on_direct_seek=i}return e.prototype.destroy=function(){this._on_direct_seek=null,this._media_element=null,this._config=null},e.prototype.notifyBufferedRangeUpdate=function(){this._chaseLiveLatency()},e.prototype._chaseLiveLatency=function(){var e=this._media_element.buffered,t=this._media_element.currentTime,i=this._media_element.paused;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&0!=e.length&&(this._config.liveBufferLatencyChasingOnPaused||!i)){var n=e.end(e.length-1);if(n>this._config.liveBufferLatencyMaxLatency&&n-t>this._config.liveBufferLatencyMaxLatency){var a=n-this._config.liveBufferLatencyMinRemain;this._on_direct_seek(a)}}},e})(),T=(function(){function e(e,t){this._config=null,this._media_element=null,this.e=null,this._config=e,this._media_element=t,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)},this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate)}return e.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element=null,this._config=null},e.prototype._onMediaTimeUpdate=function(e){if(this._config.isLive&&this._config.liveSync){var t=this._getCurrentLatency();if(t>this._config.liveSyncMaxLatency){var i=Math.min(2,Math.max(1,this._config.liveSyncPlaybackRate));this._media_element.playbackRate=i}else t>this._config.liveSyncTargetLatency||1!==this._media_element.playbackRate&&0!==this._media_element.playbackRate&&(this._media_element.playbackRate=1)}},e.prototype._getCurrentLatency=function(){if(!this._media_element)return 0;var e=this._media_element.buffered,t=this._media_element.currentTime;return 0==e.length?0:e.end(e.length-1)-t},e})(),L=(function(){function e(e,t){this.TAG="PlayerEngineMainThread",this._emitter=new c,this._media_element=null,this._mse_controller=null,this._transmuxer=null,this._pending_seek_time=null,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._mse_source_opened=!1,this._has_pending_load=!1,this._loaded_metadata_received=!1,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=e,this._config=o(),"object"==typeof t&&Object.assign(this._config,t),!0===e.isLive&&(this._config.isLive=!0),this.e={onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this)}}return e.prototype.destroy=function(){this._emitter.emit(u.a.DESTROYING),this._transmuxer&&this.unload(),this._media_element&&this.detachMediaElement(),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;this._emitter.addListener(e,t),e===u.a.MEDIA_INFO&&this._media_info?Promise.resolve().then(function(){return i._emitter.emit(u.a.MEDIA_INFO,i.mediaInfo)}):e==u.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then(function(){return i._emitter.emit(u.a.STATISTICS_INFO,i.statisticsInfo)})},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;this._media_element=e,e.src="",e.removeAttribute("src"),e.srcObject=null,e.load(),e.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._mse_controller=new l.a(this._config),this._mse_controller.on(p.a.UPDATE_END,this._onMSEUpdateEnd.bind(this)),this._mse_controller.on(p.a.BUFFER_FULL,this._onMSEBufferFull.bind(this)),this._mse_controller.on(p.a.SOURCE_OPEN,this._onMSESourceOpen.bind(this)),this._mse_controller.on(p.a.ERROR,this._onMSEError.bind(this)),this._mse_controller.on(p.a.START_STREAMING,this._onMSEStartStreaming.bind(this)),this._mse_controller.on(p.a.END_STREAMING,this._onMSEEndStreaming.bind(this)),this._mse_controller.initialize({getCurrentTime:function(){return t._media_element.currentTime},getReadyState:function(){return t._media_element.readyState}}),this._mse_controller.isManagedMediaSource()?(e.disableRemotePlayback=!0,e.srcObject=this._mse_controller.getObject()):e.src=this._mse_controller.getObjectURL()},e.prototype.detachMediaElement=function(){this._media_element&&(this._mse_controller.shutdown(),this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null,this._mse_controller.revokeObjectURL()),this._mse_controller&&(this._mse_controller.destroy(),this._mse_controller=null)},e.prototype.load=function(){var e=this;if(!this._media_element)throw new g.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new g.a("load() has been called, please call unload() first!");this._has_pending_load||(!this._config.deferLoadAfterSourceOpen||this._mse_source_opened?(this._transmuxer=new f.a(this._media_data_source,this._config),this._transmuxer.on(v.a.INIT_SEGMENT,function(t,i){e._mse_controller.appendInitSegment(i)}),this._transmuxer.on(v.a.MEDIA_SEGMENT,function(t,i){e._mse_controller.appendMediaSegment(i),!e._config.isLive&&"video"===t&&i.data&&i.data.byteLength>0&&"info"in i&&e._seeking_handler.appendSyncPoints(i.info.syncPoints),e._loading_controller.notifyBufferedPositionChanged(i.info.endDts/1e3)}),this._transmuxer.on(v.a.LOADING_COMPLETE,function(){e._mse_controller.endOfStream(),e._emitter.emit(u.a.LOADING_COMPLETE)}),this._transmuxer.on(v.a.RECOVERED_EARLY_EOF,function(){e._emitter.emit(u.a.RECOVERED_EARLY_EOF)}),this._transmuxer.on(v.a.IO_ERROR,function(t,i){e._emitter.emit(u.a.ERROR,m.b.NETWORK_ERROR,t,i)}),this._transmuxer.on(v.a.DEMUX_ERROR,function(t,i){e._emitter.emit(u.a.ERROR,m.b.MEDIA_ERROR,t,i)}),this._transmuxer.on(v.a.MEDIA_INFO,function(t){e._media_info=t,e._emitter.emit(u.a.MEDIA_INFO,Object.assign({},t))}),this._transmuxer.on(v.a.STATISTICS_INFO,function(t){e._statistics_info=e._fillStatisticsInfo(t),e._emitter.emit(u.a.STATISTICS_INFO,Object.assign({},t))}),this._transmuxer.on(v.a.RECOMMEND_SEEKPOINT,function(t){e._media_element&&!e._config.accurateSeek&&e._seeking_handler.directSeek(t/1e3)}),this._transmuxer.on(v.a.METADATA_ARRIVED,function(t){e._emitter.emit(u.a.METADATA_ARRIVED,t)}),this._transmuxer.on(v.a.SCRIPTDATA_ARRIVED,function(t){e._emitter.emit(u.a.SCRIPTDATA_ARRIVED,t)}),this._transmuxer.on(v.a.TIMED_ID3_METADATA_ARRIVED,function(t){e._emitter.emit(u.a.TIMED_ID3_METADATA_ARRIVED,t)}),this._transmuxer.on(v.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,function(t){e._emitter.emit(u.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,t)}),this._transmuxer.on(v.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,function(t){e._emitter.emit(u.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,t)}),this._transmuxer.on(v.a.SMPTE2038_METADATA_ARRIVED,function(t){e._emitter.emit(u.a.SMPTE2038_METADATA_ARRIVED,t)}),this._transmuxer.on(v.a.SCTE35_METADATA_ARRIVED,function(t){e._emitter.emit(u.a.SCTE35_METADATA_ARRIVED,t)}),this._transmuxer.on(v.a.PES_PRIVATE_DATA_DESCRIPTOR,function(t){e._emitter.emit(u.a.PES_PRIVATE_DATA_DESCRIPTOR,t)}),this._transmuxer.on(v.a.PES_PRIVATE_DATA_ARRIVED,function(t){e._emitter.emit(u.a.PES_PRIVATE_DATA_ARRIVED,t)}),this._seeking_handler=new b(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new A(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new E(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new R(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new T(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0),this._transmuxer.open()):this._has_pending_load=!0)},e.prototype.unload=function(){var e,t,i,n,a,r,o,s,d;null===(e=this._media_element)||void 0===e||e.pause(),null===(t=this._live_latency_synchronizer)||void 0===t||t.destroy(),this._live_latency_synchronizer=null,null===(i=this._live_latency_chaser)||void 0===i||i.destroy(),this._live_latency_chaser=null,null===(n=this._startup_stall_jumper)||void 0===n||n.destroy(),this._startup_stall_jumper=null,null===(a=this._loading_controller)||void 0===a||a.destroy(),this._loading_controller=null,null===(r=this._seeking_handler)||void 0===r||r.destroy(),this._seeking_handler=null,null===(o=this._mse_controller)||void 0===o||o.flush(),null===(s=this._transmuxer)||void 0===s||s.close(),null===(d=this._transmuxer)||void 0===d||d.destroy(),this._transmuxer=null},e.prototype.play=function(){return this._media_element.play()},e.prototype.pause=function(){this._media_element.pause()},e.prototype.seek=function(e){this._media_element&&this._seeking_handler?this._seeking_handler.seek(e):this._pending_seek_time=e},Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),e.prototype._onMSESourceOpen=function(){this._mse_source_opened=!0,this._has_pending_load&&(this._has_pending_load=!1,this.load())},e.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},e.prototype._onMSEBufferFull=function(){_.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},e.prototype._onMSEError=function(e){this._emitter.emit(u.a.ERROR,m.b.MEDIA_ERROR,m.a.MEDIA_MSE_ERROR,e)},e.prototype._onMSEStartStreaming=function(){this._loaded_metadata_received&&(this._config.isLive||(_.a.v(this.TAG,"Resume transmuxing task due to ManagedMediaSource onStartStreaming"),this._loading_controller.resumeTransmuxer()))},e.prototype._onMSEEndStreaming=function(){this._config.isLive||(_.a.v(this.TAG,"Suspend transmuxing task due to ManagedMediaSource onEndStreaming"),this._loading_controller.suspendTransmuxer())},e.prototype._onMediaLoadedMetadata=function(e){this._loaded_metadata_received=!0,null!=this._pending_seek_time&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},e.prototype._onRequestDirectSeek=function(e){this._seeking_handler.directSeek(e)},e.prototype._onRequiredUnbufferedSeek=function(e){this._mse_controller.flush(),this._transmuxer.seek(e)},e.prototype._onRequestPauseTransmuxer=function(){this._transmuxer.pause()},e.prototype._onRequestResumeTransmuxer=function(){this._transmuxer.resume()},e.prototype._fillStatisticsInfo=function(e){if(e.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._media_element.getVideoPlaybackQuality){var a=this._media_element.getVideoPlaybackQuality();i=a.totalVideoFrames,n=a.droppedVideoFrames}else null!=this._media_element.webkitDecodedFrameCount?(i=this._media_element.webkitDecodedFrameCount,n=this._media_element.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},e})(),k=i(18),w=i(8),M=(function(){function e(e,t){this.TAG="PlayerEngineDedicatedThread",this._emitter=new c,this._media_element=null,this._worker_destroying=!1,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._pending_seek_time=null,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=e,this._config=o(),"object"==typeof t&&Object.assign(this._config,t),!0===e.isLive&&(this._config.isLive=!0),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this),onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this),onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this),onMediaReadyStateChanged:this._onMediaReadyStateChange.bind(this)},w.a.registerListener(this.e.onLoggingConfigChanged),this._worker=k(24,{all:!0}),this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",media_data_source:this._media_data_source,config:this._config}),this._worker.postMessage({cmd:"logging_config",logging_config:w.a.getConfig()})}return e.isSupported=function(){return!(!self.Worker||!(self.MediaSource&&"canConstructInDedicatedWorker"in self.MediaSource&&!0===self.MediaSource.canConstructInDedicatedWorker||self.ManagedMediaSource&&"canConstructInDedicatedWorker"in self.ManagedMediaSource&&!0===self.ManagedMediaSource.canConstructInDedicatedWorker))},e.prototype.destroy=function(){this._emitter.emit(u.a.DESTROYING),this.unload(),this.detachMediaElement(),this._worker_destroying=!0,this._worker.postMessage({cmd:"destroy"}),w.a.removeListener(this.e.onLoggingConfigChanged),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;this._emitter.addListener(e,t),e===u.a.MEDIA_INFO&&this._media_info?Promise.resolve().then(function(){return i._emitter.emit(u.a.MEDIA_INFO,i.mediaInfo)}):e==u.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then(function(){return i._emitter.emit(u.a.STATISTICS_INFO,i.statisticsInfo)})},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){this._media_element=e,this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.addEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._worker.postMessage({cmd:"initialize_mse"})},e.prototype.detachMediaElement=function(){this._worker.postMessage({cmd:"shutdown_mse"}),this._media_element&&(this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.removeEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null)},e.prototype.load=function(){this._worker.postMessage({cmd:"load"}),this._seeking_handler=new b(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new A(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new E(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new R(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new T(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0)},e.prototype.unload=function(){var e,t,i,n,a,r;null===(e=this._media_element)||void 0===e||e.pause(),this._worker.postMessage({cmd:"unload"}),null===(t=this._live_latency_synchronizer)||void 0===t||t.destroy(),this._live_latency_synchronizer=null,null===(i=this._live_latency_chaser)||void 0===i||i.destroy(),this._live_latency_chaser=null,null===(n=this._startup_stall_jumper)||void 0===n||n.destroy(),this._startup_stall_jumper=null,null===(a=this._loading_controller)||void 0===a||a.destroy(),this._loading_controller=null,null===(r=this._seeking_handler)||void 0===r||r.destroy(),this._seeking_handler=null},e.prototype.play=function(){return this._media_element.play()},e.prototype.pause=function(){this._media_element.pause()},e.prototype.seek=function(e){this._media_element&&this._seeking_handler?this._seeking_handler.seek(e):this._pending_seek_time=e},Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),e.prototype._onLoggingConfigChanged=function(e){var t;null===(t=this._worker)||void 0===t||t.postMessage({cmd:"logging_config",logging_config:e})},e.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},e.prototype._onMSEBufferFull=function(){_.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},e.prototype._onMediaLoadedMetadata=function(e){null!=this._pending_seek_time&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},e.prototype._onRequestDirectSeek=function(e){this._seeking_handler.directSeek(e)},e.prototype._onRequiredUnbufferedSeek=function(e){this._worker.postMessage({cmd:"unbuffered_seek",milliseconds:e})},e.prototype._onRequestPauseTransmuxer=function(){this._worker.postMessage({cmd:"pause_transmuxer"})},e.prototype._onRequestResumeTransmuxer=function(){this._worker.postMessage({cmd:"resume_transmuxer"})},e.prototype._onMediaTimeUpdate=function(e){this._worker.postMessage({cmd:"timeupdate",current_time:e.target.currentTime})},e.prototype._onMediaReadyStateChange=function(e){this._worker.postMessage({cmd:"readystatechange",ready_state:e.target.readyState})},e.prototype._onWorkerMessage=function(e){var t,i=e.data,n=i.msg;if("destroyed"==n||this._worker_destroying)return this._worker_destroying=!1,null===(t=this._worker)||void 0===t||t.terminate(),void(this._worker=null);switch(n){case"mse_init":var a=i;"ManagedMediaSource"in self&&!("MediaSource"in self)&&(this._media_element.disableRemotePlayback=!0),this._media_element.srcObject=a.handle;break;case"mse_event":(a=i).event==p.a.UPDATE_END?this._onMSEUpdateEnd():a.event==p.a.BUFFER_FULL&&this._onMSEBufferFull();break;case"transmuxing_event":if((a=i).event==v.a.MEDIA_INFO){var r=i;this._media_info=r.info,this._emitter.emit(u.a.MEDIA_INFO,Object.assign({},r.info))}else if(a.event==v.a.STATISTICS_INFO){var o=i;this._statistics_info=this._fillStatisticsInfo(o.info),this._emitter.emit(u.a.STATISTICS_INFO,Object.assign({},o.info))}else if(a.event==v.a.RECOMMEND_SEEKPOINT){var s=i;this._media_element&&!this._config.accurateSeek&&this._seeking_handler.directSeek(s.milliseconds/1e3)}break;case"player_event":if((a=i).event==u.a.ERROR){var d=i;this._emitter.emit(u.a.ERROR,d.error_type,d.error_detail,d.info)}else if("extraData"in a){var c=i;this._emitter.emit(c.event,c.extraData)}break;case"logcat_callback":a=i,_.a.emitter.emit("log",a.type,a.logcat);break;case"buffered_position_changed":a=i,this._loading_controller.notifyBufferedPositionChanged(a.buffered_position_milliseconds/1e3)}},e.prototype._fillStatisticsInfo=function(e){if(e.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._media_element.getVideoPlaybackQuality){var a=this._media_element.getVideoPlaybackQuality();i=a.totalVideoFrames,n=a.droppedVideoFrames}else null!=this._media_element.webkitDecodedFrameCount?(i=this._media_element.webkitDecodedFrameCount,n=this._media_element.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},e})(),C=(function(){function e(e,t){this.TAG="MSEPlayer",this._type="MSEPlayer",this._media_element=null,this._player_engine=null;var i=e.type.toLowerCase();if("mse"!==i&&"mpegts"!==i&&"m2ts"!==i&&"flv"!==i)throw new g.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");if(t&&t.enableWorkerForMSE&&M.isSupported())try{this._player_engine=new M(e,t)}catch(i){_.a.e(this.TAG,"Error while initializing PlayerEngineDedicatedThread, fallback to PlayerEngineMainThread"),this._player_engine=new L(e,t)}else this._player_engine=new L(e,t)}return e.prototype.destroy=function(){this._player_engine.destroy(),this._player_engine=null,this._media_element=null},e.prototype.on=function(e,t){this._player_engine.on(e,t)},e.prototype.off=function(e,t){this._player_engine.off(e,t)},e.prototype.attachMediaElement=function(e){this._media_element=e,this._player_engine.attachMediaElement(e)},e.prototype.detachMediaElement=function(){this._media_element=null,this._player_engine.detachMediaElement()},e.prototype.load=function(){this._player_engine.load()},e.prototype.unload=function(){this._player_engine.unload()},e.prototype.play=function(){return this._player_engine.play()},e.prototype.pause=function(){this._player_engine.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._media_element.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._media_element.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._media_element.volume},set:function(e){this._media_element.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._media_element.muted},set:function(e){this._media_element.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._media_element?this._media_element.currentTime:0},set:function(e){this._player_engine.seek(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return this._player_engine.mediaInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return this._player_engine.statisticsInfo},enumerable:!1,configurable:!0}),e})(),D=(function(){function e(e,t){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new h.a,this._config=o(),"object"==typeof t&&Object.assign(this._config,t);var i=e.type.toLowerCase();if("mse"===i||"mpegts"===i||"m2ts"===i||"flv"===i)throw new g.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new g.b("NativePlayer(".concat(e.type,") doesn't support multipart playback!"));this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._emitter.emit(u.a.DESTROYING),this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;e===u.a.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(u.a.MEDIA_INFO,i.mediaInfo)}):e===u.a.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(function(){i._emitter.emit(u.a.STATISTICS_INFO,i.statisticsInfo)}),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new g.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var a=this._mediaElement.getVideoPlaybackQuality();i=a.totalVideoFrames,n=a.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(u.a.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(u.a.STATISTICS_INFO,this.statisticsInfo)},e})();n.a.install();var O={createPlayer:function(e,t){var i=e;if(null==i||"object"!=typeof i)throw new g.b("MediaDataSource must be an javascript object!");if(!i.hasOwnProperty("type"))throw new g.b("MediaDataSource must has type field to indicate video file type!");switch(i.type){case"mse":case"mpegts":case"m2ts":case"flv":return new C(i,t);default:return new D(i,t)}},isSupported:function(){return s.supportMSEH264Playback()},getFeatureList:function(){return s.getFeatureList()}};O.BaseLoader=d.a,O.LoaderStatus=d.c,O.LoaderErrors=d.b,O.Events=u.a,O.ErrorTypes=m.b,O.ErrorDetails=m.a,O.MSEPlayer=C,O.NativePlayer=D,O.LoggingControl=w.a,Object.defineProperty(O,"version",{enumerable:!0,get:function(){return"1.8.0"}}),t.default=O}])},"object"==typeof r&&"object"==typeof a?a.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof r?r.mpegts=d():s.mpegts=d()},506,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},507,[508]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerCore=void 0,r(d[0]).__exportStar(r(d[1]),e),Object.defineProperty(e,"LoggerCore",{enumerable:!0,get:function(){return r(d[2]).LoggerCore}}),r(d[0]).__exportStar(r(d[3]),e)},508,[487,509,512,517]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},509,[510]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PackageMetaKeys=e.LEVELS=e.isSerializableObject=e.isPlainRecord=e.GlobalMetaKeys=e.extractAggregates=void 0,Object.defineProperty(e,"extractAggregates",{enumerable:!0,get:function(){return r(d[0]).extractAggregates}}),Object.defineProperty(e,"GlobalMetaKeys",{enumerable:!0,get:function(){return r(d[0]).GlobalMetaKeys}}),Object.defineProperty(e,"isPlainRecord",{enumerable:!0,get:function(){return r(d[0]).isPlainRecord}}),Object.defineProperty(e,"isSerializableObject",{enumerable:!0,get:function(){return r(d[0]).isSerializableObject}}),Object.defineProperty(e,"LEVELS",{enumerable:!0,get:function(){return r(d[0]).LEVELS}}),Object.defineProperty(e,"PackageMetaKeys",{enumerable:!0,get:function(){return r(d[0]).PackageMetaKeys}})},510,[511]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)&&"toJSON"in t&&"function"==typeof t.toJSON}function n(n){return null!=n&&"object"==typeof n&&!Array.isArray(n)&&!t(n)&&!Object.values(n).some(function(t){return null!=t&&!["number","string","boolean"].includes(typeof t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.extractAggregates=e.isPlainRecord=e.isSerializableObject=e.PackageMetaKeys=e.GlobalMetaKeys=e.LEVELS=void 0,e.LEVELS=["trace","debug","network","timing","local","info","warn","notice","deprecated","error","fatal"],e.GlobalMetaKeys=["source","logId","userAgent","referrer","loggerVer"],e.PackageMetaKeys=["package","component","service","release","chain","client","contextId","instanceId","commitHash"],e.isSerializableObject=t,e.isPlainRecord=n,e.extractAggregates=function(o){if(!t(o))return{};var c=o.toJSON();if(null==c||"object"!=typeof c||Array.isArray(c)||t(c))return{};var l=c.aggregates;if(!n(l))return{};for(var s=arguments.length,u=new Array(s>1?s-1:0),f=1;f<s;f++)u[f-1]=arguments[f];for(var y of u)delete l[y];return l}},511,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=(r(d[1]),r(d[2])),n=r(d[3]),o=r(d[4]),l=r(d[5]);Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerCore=void 0;var h=r(d[6]).__importDefault(r(d[7])),c=function(t){},u=new WeakMap;function v(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];for(var h of n)if("object"!=typeof h||Array.isArray(h))console.error("Invalid logger data:",h);else if((0,r(d[8]).isSerializableObject)(h))v(t,h.toJSON());else{var c=h.aggregates,u=r(d[6]).__rest(h,["aggregates"]);if("object"==typeof c)for(var f of Object.entries(c)){var p=l(f,2),k=p[0],y=p[1];t.aggregates[k]=y}for(var x of Object.entries(u)){var C=l(x,2),b=C[0],L=C[1];t[b]=null==L?L:JSON.parse(JSON.stringify(L))}}}var f=(function(){return o(function t(s){var o=this;n(this,t),this.debug=c,this.deprecated=c,this.error=c,this.fatal=c,this.info=c,this.local=c,this.network=c,this.notice=c,this.timing=c,this.trace=c,this.warn=c,this.packageContext={meta:{}},this.messageContext={},this.attachedObjects=new Set,this.emitter=new(r(d[9]).EventEmitter),this.printer={},this.lastLogged={},this.name=s,this.packageContext.meta={package:this.name},this.httpWriter=new(r(d[10]).LoggerGlobal),this.httpWriter.registerPackage(this),this.proxyingToEmitter=!1,this.debugLogger=(0,h.default)(this.name),r(d[8]).LEVELS.forEach(function(t){o[t]=o.log.bind(o,t),o.printer[t]=o.printLog.bind(o,t)})},[{key:"flush",value:function(){this.httpWriter.send()}},{key:"attachObject",value:function(t){var s=this;return t.on("disposed",function(){s.attachedObjects.delete(t)}),this.attachedObjects.add(t),this}},{key:"setMessageAggregate",value:function(t,n){return void 0===n?this.removeMessageAggregate(t):(null==this.messageContext.aggregates?this.messageContext.aggregates=s({},t,n):this.messageContext.aggregates[t]=n,this)}},{key:"appendChain",value:function(t){var s,n,o=0;u.has(t)&&(o=u.get(t)+1);var l=null!==(n=null===(s=this.messageContext.aggregates)||void 0===s?void 0:s.chain)&&void 0!==n?n:"",h=""===l?`${t.displayName}#${o}`:`${l}:${t.displayName}#${o}`;return this.setMessageAggregate("chain",h),u.set(t,o),this}},{key:"removeMessageAggregate",value:function(t){return null!=this.messageContext.aggregates&&null!=this.messageContext.aggregates[t]&&(delete this.messageContext.aggregates[t],0===Object.keys(this.messageContext.aggregates).length&&delete this.messageContext.aggregates),this}},{key:"clearMessageAggregates",value:function(){return this.messageContext={},this}},{key:"setLoggerAggregate",value:function(t,n){return null==this.packageContext.aggregates?this.packageContext.aggregates=s({},t,n):this.packageContext.aggregates[t]=n,this}},{key:"setLoggerMeta",value:function(t,n){return null==this.packageContext.meta?this.packageContext.meta=s(s({},t,n),"package",this.name):this.packageContext.meta[t]=n,this}},{key:"getLoggerMeta",value:function(t){var s;if((null===(s=this.packageContext)||void 0===s?void 0:s.meta)&&null!=this.packageContext.meta[t])return this.packageContext.meta[t]}},{key:"log",value:function(t,s,n){var o,h;null===(h=null===(o=this.printer)||void 0===o?void 0:o[t])||void 0===h||h.call(o,s,n,this.messageContext.aggregates);var c=this.handleLogData(s,n,!0),u=l(c,2),v=u[0],f=u[1],p=Object.assign({message:`${v}`,level:"trace"===t?"debug":t,time:(new Date).toISOString()},f);this.httpWriter.add(p,this),this.proxyingToEmitter&&this.emitter.emit(t,s,f)}},{key:"throttledLog",value:function(t,s,n,o){var l;(null==this.lastLogged[n]||Date.now()-(null!==(l=this.lastLogged[n])&&void 0!==l?l:0)>s)&&(this.lastLogged[n]=Date.now(),this.log(t,n,o))}},{key:"handleLogData",value:function(s,n){var o,l,h,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u="";null!=n||(n={}),s instanceof Error?(u=s.message,(0,r(d[8]).isSerializableObject)(s)?n.err=s:n.err={message:s.message,name:s.name,stack:s.stack}):u=s;var f={aggregates:{}};try{v.apply(void 0,[f,{aggregates:this.packageContext.aggregates},{aggregates:this.messageContext.aggregates},n].concat(t(this.attachedObjects)))}catch(t){var p=`logging data were dropped because it's not serializable; log message: ${s}; error: ${t};`;c&&this.printLog("error",p),f={aggregates:{chain:null===(o=f.aggregates)||void 0===o?void 0:o.chain,contextId:null===(l=f.aggregates)||void 0===l?void 0:l.contextId,instanceId:null===(h=f.aggregates)||void 0===h?void 0:h.instanceId},__logging_error__:p}}return[u,f]}},{key:"printLog",value:function(t,s,n){var o,h,c,u,v,f,p,k,y,x,C,b=this.handleLogData(s,n),L=l(b,2),w=L[0],O=L[1];switch(t){case"warn":case"error":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?console[t](`${null!==(h=null===(o=O.aggregates)||void 0===o?void 0:o.chain)&&void 0!==h?h:""} ${w}`,O):"undefined"!=typeof window&&"function"==typeof(null===(c=window.console)||void 0===c?void 0:c.error)?window.console[t](`%c ${null!==(v=null===(u=O.aggregates)||void 0===u?void 0:u.chain)&&void 0!==v?v:""} ${w}`,r(d[11]).browserStyles[t],[O]):this.debugLogger(`%c ${null!==(p=null===(f=O.aggregates)||void 0===f?void 0:f.chain)&&void 0!==p?p:""} ${w}`,r(d[11]).browserStyles[t],[O]);break;default:"undefined"!=typeof navigator&&"ReactNative"===navigator.product?console.log(`${null!==(y=null===(k=O.aggregates)||void 0===k?void 0:k.chain)&&void 0!==y?y:""} ${w}`,O):this.debugLogger(`%c ${null!==(C=null===(x=O.aggregates)||void 0===x?void 0:x.chain)&&void 0!==C?C:""} ${w}`,r(d[11]).browserStyles[t],[O])}}},{key:"proxyToEmitter",value:function(t,s){var n=this,o=function(s){n.emitter.on(s,function(n,o){t.emit(s,n,o)})};for(var l of s)o(l);this.proxyingToEmitter=!0}},{key:"extend",value:function(t){var s,n,o;if(null!=(null===(s=null==t?void 0:t.messageContext)||void 0===s?void 0:s.aggregates))for(var h of Object.entries(t.messageContext.aggregates)){var c=l(h,2),u=c[0],v=c[1];this.setMessageAggregate(u,v)}if(null!=(null===(n=null==t?void 0:t.packageContext)||void 0===n?void 0:n.aggregates))for(var f of Object.entries(t.packageContext.aggregates)){var p=l(f,2),k=p[0],y=p[1];this.setLoggerAggregate(k,y)}if(null!=(null===(o=null==t?void 0:t.packageContext)||void 0===o?void 0:o.meta))for(var x of Object.entries(t.packageContext.meta)){var C=l(x,2),b=C[0],L=C[1];this.setLoggerMeta(b,L)}return this}},{key:"destroy",value:function(){this.flush(),this.httpWriter.removePackage(this)}}])})();e.LoggerCore=f},512,[6,72,194,12,13,38,487,513,509,516,517,524]);
__d(function(g,_r,i,a,_m,e,d){var C;e.formatArgs=function(C){if(C[0]=(this.useColors?'%c':'')+this.namespace+(this.useColors?' %c':' ')+C[0]+(this.useColors?'%c ':' ')+'+'+_m.exports.humanize(this.diff),!this.useColors)return;var o='color: '+this.color;C.splice(1,0,o,'color: inherit');var t=0,n=0;C[0].replace(/%[a-zA-Z%]/g,function(C){'%%'!==C&&(t++,'%c'===C&&(n=t))}),C.splice(n,0,o)},e.save=function(C){try{C?e.storage.setItem('debug',C):e.storage.removeItem('debug')}catch(C){}},e.load=function(){var C;try{C=e.storage.getItem('debug')||e.storage.getItem('DEBUG')}catch(C){}!C&&'undefined'!=typeof process&&'env'in process&&(C=process.env.DEBUG);return C},e.useColors=function(){if('undefined'!=typeof window&&window.process&&('renderer'===window.process.type||window.process.__nwjs))return!0;if('undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;var C;return'undefined'!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||'undefined'!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||'undefined'!=typeof navigator&&navigator.userAgent&&(C=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(C[1],10)>=31||'undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=(function(){try{return localStorage}catch(C){}})(),e.destroy=(C=!1,function(){C||(C=!0,console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'))}),e.colors=['#0000CC','#0000FF','#0033CC','#0033FF','#0066CC','#0066FF','#0099CC','#0099FF','#00CC00','#00CC33','#00CC66','#00CC99','#00CCCC','#00CCFF','#3300CC','#3300FF','#3333CC','#3333FF','#3366CC','#3366FF','#3399CC','#3399FF','#33CC00','#33CC33','#33CC66','#33CC99','#33CCCC','#33CCFF','#6600CC','#6600FF','#6633CC','#6633FF','#66CC00','#66CC33','#9900CC','#9900FF','#9933CC','#9933FF','#99CC00','#99CC33','#CC0000','#CC0033','#CC0066','#CC0099','#CC00CC','#CC00FF','#CC3300','#CC3333','#CC3366','#CC3399','#CC33CC','#CC33FF','#CC6600','#CC6633','#CC9900','#CC9933','#CCCC00','#CCCC33','#FF0000','#FF0033','#FF0066','#FF0099','#FF00CC','#FF00FF','#FF3300','#FF3333','#FF3366','#FF3399','#FF33CC','#FF33FF','#FF6600','#FF6633','#FF9900','#FF9933','#FFCC00','#FFCC33'],e.log=console.debug||console.log||function(){},_m.exports=_r(d[0])(e),_m.exports.formatters.j=function(C){try{return JSON.stringify(C)}catch(C){return'[UnexpectedJSONParseError]: '+C.message}}},513,[514]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);m.exports=function(t){function o(n){var t,i,f,l=null;function c(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];if(c.enabled){var f=c,l=Number(new Date),u=l-(t||l);f.diff=u,f.prev=t,f.curr=l,t=l,s[0]=o.coerce(s[0]),'string'!=typeof s[0]&&s.unshift('%O');var p=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,t){if('%%'===n)return'%';p++;var i=o.formatters[t];if('function'==typeof i){var l=s[p];n=i.call(f,l),s.splice(p,1),p--}return n}),o.formatArgs.call(f,s),(f.log||o.log).apply(f,s)}}return c.namespace=n,c.useColors=o.useColors(),c.color=o.selectColor(n),c.extend=s,c.destroy=o.destroy,Object.defineProperty(c,'enabled',{enumerable:!0,configurable:!1,get:function(){return null!==l?l:(i!==o.namespaces&&(i=o.namespaces,f=o.enabled(n)),f)},set:function(n){l=n}}),'function'==typeof o.init&&o.init(c),c}function s(n,t){var s=o(this.namespace+(void 0===t?':':t)+n);return s.log=this.log,s}function i(n,t){for(var o=0,s=0,i=-1,f=0;o<n.length;)if(s<t.length&&(t[s]===n[o]||'*'===t[s]))'*'===t[s]?(i=s,f=o,s++):(o++,s++);else{if(-1===i)return!1;s=i+1,o=++f}for(;s<t.length&&'*'===t[s];)s++;return s===t.length}return o.debug=o,o.default=o,o.coerce=function(n){if(n instanceof Error)return n.stack||n.message;return n},o.disable=function(){var t=[].concat(n(o.names),n(o.skips.map(function(n){return'-'+n}))).join(',');return o.enable(''),t},o.enable=function(n){o.save(n),o.namespaces=n,o.names=[],o.skips=[];var t=('string'==typeof n?n:'').trim().replace(/\s+/g,',').split(',').filter(Boolean);for(var s of t)'-'===s[0]?o.skips.push(s.slice(1)):o.names.push(s)},o.enabled=function(n){for(var t of o.skips)if(i(n,t))return!1;for(var s of o.names)if(i(n,s))return!0;return!1},o.humanize=r(d[1]),o.destroy=function(){console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.')},Object.keys(t).forEach(function(n){o[n]=t[n]}),o.names=[],o.skips=[],o.formatters={},o.selectColor=function(n){for(var t=0,s=0;s<n.length;s++)t=(t<<5)-t+n.charCodeAt(s),t|=0;return o.colors[Math.abs(t)%o.colors.length]},o.enable(o.load()),o}},514,[6,515]);
__d(function(g,r,i,a,_m,e,_d){var s=1e3,n=6e4,c=36e5,t=864e5;function u(u){if(!((u=String(u)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(o){var d=parseFloat(o[1]);switch((o[2]||'ms').toLowerCase()){case'years':case'year':case'yrs':case'yr':case'y':return 315576e5*d;case'weeks':case'week':case'w':return 6048e5*d;case'days':case'day':case'd':return d*t;case'hours':case'hour':case'hrs':case'hr':case'h':return d*c;case'minutes':case'minute':case'mins':case'min':case'm':return d*n;case'seconds':case'second':case'secs':case'sec':case's':return d*s;case'milliseconds':case'millisecond':case'msecs':case'msec':case'ms':return d;default:return}}}}function o(u){var o=Math.abs(u);return o>=t?Math.round(u/t)+'d':o>=c?Math.round(u/c)+'h':o>=n?Math.round(u/n)+'m':o>=s?Math.round(u/s)+'s':u+'ms'}function d(u){var o=Math.abs(u);return o>=t?m(u,o,t,'day'):o>=c?m(u,o,c,'hour'):o>=n?m(u,o,n,'minute'):o>=s?m(u,o,s,'second'):u+' ms'}function m(s,n,c,t){var u=n>=1.5*c;return Math.round(s/c)+' '+t+(u?'s':'')}_m.exports=function(s,n){n=n||{};var c=typeof s;if('string'===c&&s.length>0)return u(s);if('number'===c&&isFinite(s))return n.long?d(s):o(s);throw new Error('val is not a non-empty string or a valid number. val='+JSON.stringify(s))}},515,[]);
__d(function(g,r,_i,a,_m,e,d){'use strict';var t,n='object'==typeof Reflect?Reflect:null,i=n&&'function'==typeof n.apply?n.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};t=n&&'function'==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}_m.exports=s,_m.exports.once=function(t,n){return new Promise(function(i,o){function s(i){t.removeListener(n,u),o(i)}function u(){'function'==typeof t.removeListener&&t.removeListener('error',s),i([].slice.call(arguments))}b(t,n,u,{once:!0}),'error'!==n&&w(t,s,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function f(t){if('function'!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function v(t,n,i,o){var s,u,v,p;if(f(i),void 0===(u=t._events)?(u=t._events=Object.create(null),t._eventsCount=0):(void 0!==u.newListener&&(t.emit('newListener',n,i.listener?i.listener:i),u=t._events),v=u[n]),void 0===v)v=u[n]=i,++t._eventsCount;else if('function'==typeof v?v=u[n]=o?[i,v]:[v,i]:o?v.unshift(i):v.push(i),(s=c(t))>0&&v.length>s&&!v.warned){v.warned=!0;var l=new Error('Possible EventEmitter memory leak detected. '+v.length+' '+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name='MaxListenersExceededWarning',l.emitter=t,l.type=n,l.count=v.length,p=l,console&&console.warn&&console.warn(p)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,n,i){var o={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},s=p.bind(o);return s.listener=i,o.wrapFn=s,s}function h(t,n,i){var o=t._events;if(void 0===o)return[];var s=o[n];return void 0===s?[]:'function'==typeof s?i?[s.listener||s]:[s]:i?_(s):m(s,s.length)}function y(t){var n=this._events;if(void 0!==n){var i=n[t];if('function'==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,n){for(var i=new Array(n),o=0;o<n;++o)i[o]=t[o];return i}function L(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function _(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}function w(t,n,i){'function'==typeof t.on&&b(t,'error',n,i)}function b(t,n,i,o){if('function'==typeof t.on)o.once?t.once(n,i):t.on(n,i);else{if('function'!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(n,function s(u){o.once&&t.removeEventListener(n,s),i(u)})}}Object.defineProperty(s,'defaultMaxListeners',{enumerable:!0,get:function(){return u},set:function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+'.');u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if('number'!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+'.');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);var s='error'===t,u=this._events;if(void 0!==u)s=s&&void 0===u.error;else if(!s)return!1;if(s){var f;if(n.length>0&&(f=n[0]),f instanceof Error)throw f;var c=new Error('Unhandled error.'+(f?' ('+f.message+')':''));throw c.context=f,c}var v=u[t];if(void 0===v)return!1;if('function'==typeof v)i(v,this,n);else{var p=v.length,l=m(v,p);for(o=0;o<p;++o)i(l[o],this,n)}return!0},s.prototype.addListener=function(t,n){return v(this,t,n,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,n){return v(this,t,n,!0)},s.prototype.once=function(t,n){return f(n),this.on(t,l(this,t,n)),this},s.prototype.prependOnceListener=function(t,n){return f(n),this.prependListener(t,l(this,t,n)),this},s.prototype.removeListener=function(t,n){var i,o,s,u,c;if(f(n),void 0===(o=this._events))return this;if(void 0===(i=o[t]))return this;if(i===n||i.listener===n)0===--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit('removeListener',t,i.listener||n));else if('function'!=typeof i){for(s=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){c=i[u].listener,s=u;break}if(s<0)return this;0===s?i.shift():L(i,s),1===i.length&&(o[t]=i[0]),void 0!==o.removeListener&&this.emit('removeListener',t,c||n)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var n,i,o;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var s,u=Object.keys(i);for(o=0;o<u.length;++o)'removeListener'!==(s=u[o])&&this.removeAllListeners(s);return this.removeAllListeners('removeListener'),this._events=Object.create(null),this._eventsCount=0,this}if('function'==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,n){return'function'==typeof t.listenerCount?t.listenerCount(n):y.call(t,n)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},516,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e,t=r(d[0]),o=r(d[1]),n=r(d[2]),l=r(d[3]),s=r(d[4]),u=r(d[5]);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.LoggerGlobal=void 0;var c=r(d[6]).__importDefault(r(d[7])),v=r(d[6]).__importDefault(r(d[8])),f=r(d[6]).__importDefault(r(d[9])),p=null!==(e=globalThis)&&void 0!==e?e:(function(){return this})(),b={maxRequestSize:1048576,level:"warn",limit:500,interval:3e4},k=(function(e){function k(){var e,t,n,u;return o(this,k),t=this,n=s(n=k),(e=l(t,h()?Reflect.construct(n,u||[],s(t).constructor):n.apply(t,u))).options=b,e.storage=[],e.packageContextStorage=[],e.globalContext={meta:{userAgent:"undefined"!=typeof navigator?navigator.userAgent:"unknown",referrer:"undefined"!=typeof document?document.referrer:"unknown",source:"client",logId:(0,r(d[10]).uuidv4)(),loggerVer:v.default.version}},e.watchTimeout=null,e.loggers=[],e.online=!0,e.throttleSend=(0,c.default)(e.send,5e3),p.LivelyHttpWriterV4?l(e,p.LivelyHttpWriterV4):(p.LivelyHttpWriterV4=e,null!=p.addEventListener&&(p.addEventListener("unload",function(){return e.send()}),p.addEventListener("online",function(){e.online=!0,e.send()}),g.addEventListener("offline",function(){e.online=!1})),e)}return u(k,e),n(k,[{key:"setOptions",value:function(e){null!=e.host&&(this.options.host=e.host),null!=e.level&&(this.options.level=e.level),null!=e.maxRequestSize&&(this.options.maxRequestSize=e.maxRequestSize),null!=e.limit&&(this.options.limit=e.limit),null!=e.interval&&(this.options.interval=e.interval),this.resetTimeout()}},{key:"setGlobalAggregate",value:function(e,o){null==this.globalContext.aggregates?this.globalContext.aggregates=t({},e,o):this.globalContext.aggregates[e]=o}},{key:"removeGlobalAggregate",value:function(e){null!=this.globalContext.aggregates&&null!=this.globalContext.aggregates[e]&&(delete this.globalContext.aggregates[e],0===Object.keys(this.globalContext.aggregates).length&&delete this.globalContext.aggregates)}},{key:"clearGlobalAggregates",value:function(){this.globalContext.aggregates={}}},{key:"setGlobalMeta",value:function(e,o){null==this.globalContext.meta?this.globalContext.meta=t({userAgent:"undefined"!=typeof navigator?navigator.userAgent:"unknown",referrer:"undefined"!=typeof document?document.referrer:"unknown",source:"client",logId:(0,r(d[10]).uuidv4)(),loggerVer:v.default.version},e,o):this.globalContext.meta[e]=o}},{key:"removeGlobalMeta",value:function(e){null!=this.globalContext.meta&&null!=this.globalContext.meta[e]&&delete this.globalContext.meta[e]}},{key:"resetTimeout",value:function(){this.options.interval&&(null!=this.watchTimeout&&("undefined"!=typeof window?window.clearTimeout(this.watchTimeout):clearTimeout(this.watchTimeout)),null!=this.send&&("undefined"!=typeof window?this.watchTimeout=window.setTimeout(this.send.bind(this),this.options.interval):this.watchTimeout=setTimeout(this.send.bind(this),this.options.interval)))}},{key:"registerPackage",value:function(e){this.loggers.push(e)}},{key:"removePackage",value:function(e){var t=this.loggers.indexOf(e);t>-1&&this.loggers.splice(t,1),this.loggers.push(e)}},{key:"add",value:function(e,t){if((0,r(d[11]).meetsLevel)(e.level,this.options.level))if(this.storage.push(e),null!=this.options.host&&this.online){if(null!=t)-1===this.packageContextStorage.indexOf(t.packageContext)&&this.packageContextStorage.push(t.packageContext);(0,r(d[11]).meetsLevel)(e.level,"error")&&this.throttleSend()}else this.checkStorageLimit()}},{key:"send",value:function(){var e=this;if(0!==this.storage.length){if(null==this.options.host)return this.checkStorageLimit(),void this.resetTimeout();var t=this.storage.splice(0,this.options.limit),o={},n={};this.packageContextStorage.forEach(function(e){null!=e.aggregates&&Object.keys(e.aggregates).forEach(function(t){var n,l=null===(n=e.aggregates)||void 0===n?void 0:n[t];null!=l&&(o[t]=l)}),null!=e.meta&&r(d[12]).PackageMetaKeys.forEach(function(t){var o;null!=(null===(o=e.meta)||void 0===o?void 0:o[t])&&(n[t]=e.meta[t])})});var l={aggregates:o,meta:n};this.packageContextStorage.splice(0,-1*this.packageContextStorage.length);var s,u={logs:t,sendTime:(new Date).toISOString(),context:{packageContexts:l,globalContext:this.globalContext}};try{s=JSON.stringify(u)}catch(e){return this.add({level:"error",message:"Failed to stringify in logger",error:`${e}`,time:(new Date).toISOString()}),void this.resetTimeout()}if((0,f.default)(s)>this.options.maxRequestSize)return this.add({level:"error",message:`Body exceeds maxRequestSize. Dropped ${t.length} logs.`,time:(new Date).toISOString()}),void this.resetTimeout();k.fetch(`${this.options.host}/client-logs/v4`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:s}).then(function(t){if(!t.ok)throw new TypeError(t.status.toString());return e.resetTimeout(),t}).catch(function(t){e.add({level:"network",message:"Network failure.",error:`${t}`,time:(new Date).toISOString()}),e.resetTimeout()})}else this.resetTimeout()}},{key:"checkStorageLimit",value:function(){this.storage.length>this.options.limit&&this.storage.slice(-1*this.options.limit)}}],[{key:"setOptions",value:function(e){(new k).setOptions(e)}},{key:"setGlobalAggregate",value:function(e,t){(new k).setGlobalAggregate(e,t)}},{key:"removeGlobalAggregate",value:function(e){(new k).removeGlobalAggregate(e)}},{key:"clearGlobalAggregates",value:function(){(new k).clearGlobalAggregates()}},{key:"setGlobalMeta",value:function(e,t){(new k).setGlobalMeta(e,t)}},{key:"removeGlobalMeta",value:function(e){(new k).removeGlobalMeta(e)}}])})(r(d[13]).EventEmitter);_e.LoggerGlobal=k,k.fetch="undefined"!=typeof window?window.fetch.bind(window):function(){return Promise.resolve(new Response)}},517,[194,12,13,23,25,28,487,518,519,520,521,522,509,523]);
__d(function(g,r,i,a,m,e,d){var t='Expected a function',n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,l='object'==typeof g&&g&&g.Object===Object&&g,v='object'==typeof self&&self&&self.Object===Object&&self,s=l||v||Function('return this')(),p=Object.prototype.toString,y=Math.max,b=Math.min,j=function(){return s.Date.now()};function h(n,o,u){var f,c,l,v,s,p,h=0,O=!1,T=!1,N=!0;if('function'!=typeof n)throw new TypeError(t);function $(t){var o=f,u=c;return f=c=void 0,h=t,v=n.apply(u,o)}function E(t){return h=t,s=setTimeout(S,o),O?$(t):v}function W(t){var n=o-(t-p);return T?b(n,l-(t-h)):n}function M(t){var n=t-p;return void 0===p||n>=o||n<0||T&&t-h>=l}function S(){var t=j();if(M(t))return _(t);s=setTimeout(S,W(t))}function _(t){return s=void 0,N&&f?$(t):(f=c=void 0,v)}function D(){var t=j(),n=M(t);if(f=arguments,c=this,p=t,n){if(void 0===s)return E(p);if(T)return s=setTimeout(S,o),$(p)}return void 0===s&&(s=setTimeout(S,o)),v}return o=w(o)||0,x(u)&&(O=!!u.leading,l=(T='maxWait'in u)?y(w(u.maxWait)||0,o):l,N='trailing'in u?!!u.trailing:N),D.cancel=function(){void 0!==s&&clearTimeout(s),h=0,f=p=c=s=void 0},D.flush=function(){return void 0===s?v:_(j())},D}function x(t){var n=typeof t;return!!t&&('object'==n||'function'==n)}function O(t){return!!t&&'object'==typeof t}function T(t){return'symbol'==typeof t||O(t)&&"[object Symbol]"==p.call(t)}function w(t){if('number'==typeof t)return t;if(T(t))return NaN;if(x(t)){var l='function'==typeof t.valueOf?t.valueOf():t;t=x(l)?l+'':l}if('string'!=typeof t)return 0===t?t:+t;t=t.replace(n,'');var v=u.test(t);return v||f.test(t)?c(t.slice(2),v?2:8):o.test(t)?NaN:+t}m.exports=function(n,o,u){var f=!0,c=!0;if('function'!=typeof n)throw new TypeError(t);return x(u)&&(f='leading'in u?!!u.leading:f,c='trailing'in u?!!u.trailing:c),h(n,o,{leading:f,maxWait:o,trailing:c})}},518,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"@video/log-client",version:"5.0.2"}},519,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var n=t.length,u=t.length-1;u>=0;u-=1){var o=t.charCodeAt(u);o>127&&o<=2047?n+=1:o>2047&&o<=65535&&(n+=2),o>=56320&&o<=57343&&(u-=1)}return n}},520,[]);
__d(function(g,_r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=void 0,e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var t=16*Math.random()|0;return("x"===x?t:3&t|8).toString(16)})}},521,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportedLevels=e.meetsLevel=e.supportsLevel=void 0;var t={fatal:0,error:0,warn:1,notice:1,deprecated:1,info:2,local:3,debug:3,timing:3,network:3,trace:3};function o(o){return void 0!==t[o]}e.supportedLevels=t,e.supportsLevel=o,e.meetsLevel=function(n,s){return!(!o(n)||!o(s))&&t[n]<=t[s]}},522,[]);
__d(function(g,r,i,a,m,e,d){m.exports={EventEmitter:r(d[0])}},523,[516]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttySyles=e.browserStyles=void 0,e.browserStyles={trace:"color: rgba(169,184,186,0.6)",debug:"color: #a9b8ba",network:"color: #a9b8ba",timing:"color: #a9b8ba",local:"color: #a9b8ba",info:"",warn:"color: #c0a044",notice:"color: #c0a044",deprecated:"color: #c0a044",error:"color: #f44336",fatal:"color: #f44336"},e.ttySyles={trace:"\x1b[38;5;239m",debug:"\x1b[38;5;239m",network:"\x1b[38;5;239m",timing:"\x1b[38;5;239m",local:"\x1b[38;5;239m",info:"\x1b[38;5;231m",warn:"\x1b[38;5;226m",notice:"\x1b[38;5;226m",deprecated:"\x1b[38;5;226m",error:"\x1b[38;5;196m",fatal:"\x1b[38;5;196m"}},524,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),s=r(d[4]),u=r(d[5]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.UserInteraction=void 0;var l=(function(l){function v(e){var n,u,l,h;return t(this,v),u=this,l=s(l=v),(n=o(u,c()?Reflect.construct(l,h||[],s(u).constructor):l.apply(u,h))).hadInteraction=!1,n.audioCtx=null,n.audioEl=null,n.audioTrack=null,n.logError=function(e){var t,o;null===(o=(t=n.logger).info)||void 0===o||o.call(t,`silentAudio: ${e}`)},(0,r(d[6]).makeObservable)(n,{hadInteraction:r(d[6]).observable}),n.logger=new(r(d[7]).LoggerCore)("VDC-core").setLoggerMeta("client","VDC").appendChain(v),n.logger.info("constructor()",e),n.options=e,n.options.silentAudio.playSilentAudio&&n.once("hadInteraction",n.playSilentAudio),n.init(),n.addInnerDisposer(function(){n.stopSilentAudio(),r(d[8]).userActivationEvents.forEach(function(e){r(d[9]).device.isImplements(r(d[9]).Feature.DOCUMENT)&&r(d[9]).device.document.body.removeEventListener(e,n.handleUserInteractionDOMEvent)})}),n}return u(v,l),n(v,[{key:"init",value:(p=e(function*(){var e=this;if(this.logger.info("init()"),r(d[9]).device.isImplements(r(d[9]).Feature.DOCUMENT)){if(r(d[9]).device.isImplements(r(d[9]).Feature.USER_ACTIVATION)&&r(d[9]).device.userActivation.hasBeenActive)return this.hadInteraction=r(d[9]).device.userActivation.hasBeenActive,void this.logger.info(`hasBeenActive: ${r(d[9]).device.userActivation.hasBeenActive}`);try{this.logger.info("trying to play audio to determine if user has interacted with page"),yield this.playSilentAudio(),this.hadInteraction=!0}catch(t){this.stopSilentAudio(),this.logger.info("unable to play audio, attaching userActivation event listeners"),r(d[8]).userActivationEvents.forEach(function(t){r(d[9]).device.isImplements(r(d[9]).Feature.DOCUMENT)&&r(d[9]).device.document.body.addEventListener(t,e.handleUserInteractionDOMEvent)}),this.once("hadInteraction",function(){r(d[8]).userActivationEvents.forEach(function(t){r(d[9]).device.isImplements(r(d[9]).Feature.DOCUMENT)&&r(d[9]).device.document.body.removeEventListener(t,e.handleUserInteractionDOMEvent)})})}}else this.logger.warn("device does not support UserActivationFeature")}),function(){return p.apply(this,arguments)})},{key:"playSilentAudio",value:(h=e(function*(){var e,t,n=this;if(this.logger.info("playSilentAudio()",this.options),r(d[9]).device.isImplements(r(d[9]).Feature.AUDIO_CONTEXT)&&r(d[9]).device.isImplements(r(d[9]).Feature.MEDIA_STREAM)&&r(d[9]).device.isImplements(r(d[9]).Feature.CREATE_AUDIO_ELEMENT)&&r(d[9]).device.isImplements(r(d[9]).Feature.DOCUMENT)){this.audioCtx=new(r(d[9]).device.AudioContext),this.audioTrack=(0,r(d[10]).createSilentAudioTrack)(this.audioCtx);var o=new(r(d[9]).device.MediaStream)([this.audioTrack]),s=r(d[9]).device.createAudioElement();s.srcObject=o,this.audioEl=r(d[9]).device.document.body.appendChild(s),null===(e=this.audioEl)||void 0===e||e.setAttribute("data-silent","true");try{yield null===(t=this.audioEl)||void 0===t?void 0:t.play(),!1!==this.options.silentAudio.infiniteLoop&&!1!==this.options.silentAudio.playSilentAudio||setTimeout(function(){n.stopSilentAudio()},100)}catch(e){throw this.logError(e),e}}}),function(){return h.apply(this,arguments)})},{key:"stopSilentAudio",value:function(){var e,t,n;this.logger.info("stopSilentAudio()",this.options),null===(e=this.audioTrack)||void 0===e||e.stop(),null===(t=this.audioCtx)||void 0===t||t.close().catch(this.logError),null===(n=this.audioEl)||void 0===n||n.remove(),this.audioCtx=null,this.audioEl=null,this.audioTrack=null}},{key:"isValidInteractionEvent",value:function(e){return(!(0,r(d[8]).isKeyboardEvent)(e)||"keydown"!==e.type||27!==e.keyCode)&&((!(0,r(d[8]).isPointerEvent)(e)||"pointerup"!==e.type||"mouse"!==e.pointerType)&&((!(0,r(d[8]).isPointerEvent)(e)||"pointerdown"!==e.type||"mouse"===e.pointerType)&&"touchend"!==e.type))}},{key:"handleUserInteractionDOMEvent",value:function(e){this.isValidInteractionEvent(e)&&!this.hadInteraction&&(this.hadInteraction=!0,this.logger.info(`user interacted with page via ${e.type}`))}}]);var h,p})(r(d[11]).ObservableEventEmitter);_e.UserInteraction=l,l.displayName="UserInteraction"},525,[345,12,13,23,25,28,526,507,527,502,497,528]);
__d(function(e,t,n,r,i,o,a){Object.defineProperty(o,"__esModule",{value:!0}),o.$mobx=void 0,o.FlowCancellationError=xn,o.Reaction=o.ObservableSet=o.ObservableMap=void 0,o._allowStateChanges=st,o.runInAction=o._allowStateChangesInsideComputed=function(e){return it(e.name||nn,!1,e,this,void 0)},o._allowStateReadsEnd=Et,o._allowStateReadsStart=xt,o._autoAction=void 0,o._endAction=at,o._getAdministration=Jr,o._getGlobalState=function(){return Ct},o._interceptReads=function(e,t,n){var r;Or(e)||pr(e)||ft(e)?r=Jr(e):Cr(e)&&(r=Jr(e,t));return r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}},o._isComputingDerivation=function(){return null!==Ct.trackingDerivation},o._resetGlobalState=function(){var e=new Mt;for(var t in e)-1===Tt.indexOf(t)&&(Ct[t]=e[t]);Ct.allowStateChanges=!Ct.enforceActions},o._startAction=ot,o.action=void 0,o.autorun=hn,o.computed=o.comparer=void 0,o.configure=function(e){!0===e.isolateGlobalState&&Dt();var t=e.useProxies,n=e.enforceActions;void 0!==t&&(Ct.useProxies=t===On||t!==mn&&"undefined"!=typeof Proxy);"ifavailable"===t&&(Ct.verifyProxies=!0);if(void 0!==n){var r=n===On?On:n===wn;Ct.enforceActions=r,Ct.allowStateChanges=!0!==r&&r!==On}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(Ct[t]=!!e[t])}),Ct.allowStateReads=!Ct.observableRequiresReaction,e.reactionScheduler&&(i=e.reactionScheduler,o=Yt,Yt=function(e){return i(function(){return o(e)})});var i,o},o.createAtom=re,o.defineProperty=function(e,t,n){if(Cr(e))return e[ee].defineProperty_(t,n);s(39)},o.entries=function(e){if(Cr(e))return Ln(e).map(function(t){return[t,e[t]]});if(Or(e))return Ln(e).map(function(t){return[t,e.get(t)]});if(jr(e))return Array.from(e.entries());if(pr(e))return e.map(function(e,t){return[t,e]});s(7)},o.extendObservable=Sn,o.flow=void 0,o.flowResult=function(e){return e},o.get=function(e,t){if(!In(e,t))return;if(Cr(e))return e[ee].get_(t);if(Or(e))return e.get(t);if(pr(e))return e[t];s(11)},o.getAtom=Yr,o.getDebugName=$r,o.getDependencyTree=function(e,t){return An(Yr(e,t))},o.getObserverTree=function(e,t){return kn(Yr(e,t))},o.has=In,o.intercept=function(e,t,n){return O(n)?Cn(e,t,n):Vn(e,t)},o.isAction=fn,o.isBoxedObservable=void 0,o.isComputed=function(e){return Dn(e)},o.isComputedProp=function(e,t){return Dn(e,t)},o.isFlow=Rn,o.isFlowCancellationError=function(e){return e instanceof xn},o.isObservable=Bn,o.isObservableArray=pr,o.isObservableMap=void 0,o.isObservableObject=Cr,o.isObservableProp=function(e,t){return Nn(e,t)},o.isObservableSet=void 0,o.keys=Ln,o.makeAutoObservable=function(e,t,n){if(A(e))return Sn(e,e,t,n);return Qr(function(){var r=Mr(e,n)[ee];if(!e[ir]){var i=Object.getPrototypeOf(e),o=new Set([].concat(V(e),V(i)));o.delete("constructor"),o.delete(ee),j(i,ir,o)}e[ir].forEach(function(e){return r.make_(e,!t||(!(e in t)||t[e]))})}),e},o.makeObservable=function(e,t,n){return Qr(function(){var r=Mr(e,n)[ee];null!=t||(t=Q(e)),V(t).forEach(function(e){return r.make_(e,t[e])})}),e},o.observable=void 0,o.observe=function(e,t,n,r){return O(n)?Gn(e,t,n,r):Kn(e,t,n)},o.onBecomeObserved=bn,o.onBecomeUnobserved=gn,o.onReactionError=function(e){return Ct.globalReactionErrorHandlers.push(e),function(){var t=Ct.globalReactionErrorHandlers.indexOf(e);t>=0&&Ct.globalReactionErrorHandlers.splice(t,1)}},o.override=void 0,o.ownKeys=Un,o.reaction=function(e,t,n){var r,i,o;void 0===n&&(n=d);var a,s=null!=(r=n.name)?r:"Reaction",u=cn(s,n.onError?(p=n.onError,b=t,function(){try{return b.apply(this,arguments)}catch(e){p.call(this,e)}}):t),c=!n.scheduler&&!n.delay,l=_n(n),f=!0,h=!1,v=n.compareStructural?ie.structural:n.equals||ie.default,_=new Ft(s,function(){f||c?g():h||(h=!0,l(g))},n.onError,n.requiresObservable);var p,b;function g(){if(h=!1,!_.isDisposed){var t=!1,r=a;_.track(function(){var n=st(!1,function(){return e(_)});t=f||!v(a,n),a=n}),(f&&n.fireImmediately||!f&&t)&&u(a,r,_),f=!1}}null!=(i=n)&&null!=(i=i.signal)&&i.aborted||_.schedule_();return _.getDisposer_(null==(o=n)?void 0:o.signal)},o.remove=function(e,t){Cr(e)?e[ee].delete_(t):Or(e)||jr(e)?e.delete(t):pr(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):s(9)},o.set=function e(t,n,r){if(2===arguments.length&&!jr(t)){Kt();var i=n;try{for(var o in i)e(t,o,i[o])}finally{Gt()}return}Cr(t)?t[ee].set_(n,r):Or(t)?t.set(n,r):jr(t)?t.add(n):pr(t)?("number"!=typeof n&&(n=parseInt(n,10)),n<0&&s("Invalid index: '"+n+"'"),Kt(),n>=t.length&&(t.length=n+1),t[n]=r,Gt()):s(8)},o.spy=Zt,o.toJS=function(e,t){return Hn(e,new Map)},o.trace=Wn,o.transaction=zn,o.untracked=At,o.values=function(e){if(Cr(e))return Ln(e).map(function(t){return e[t]});if(Or(e))return Ln(e).map(function(t){return e.get(t)});if(jr(e))return Array.from(e.values());if(pr(e))return e.slice();s(6)},o.when=function(e,t,n){if(1===arguments.length||t&&"object"==typeof t)return Xn(e,t);return Fn(e,t,n||{})};function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var u={};function c(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:u}var l=Object.assign,f=Object.getOwnPropertyDescriptor,h=Object.defineProperty,v=Object.prototype,_=[];Object.freeze(_);var d={};Object.freeze(d);var p="undefined"!=typeof Proxy,b=Object.toString();function g(){p||s("Proxy not available")}function y(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var m=function(){};function O(e){return"function"==typeof e}function w(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function S(e){return null!==e&&"object"==typeof e}function A(e){if(!S(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===b}function k(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function j(e,t,n){h(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function x(e,t,n){h(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function E(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return S(e)&&!0===e[n]}}function P(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function T(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var M=void 0!==Object.getOwnPropertySymbols;function R(e){var t=Object.keys(e);if(!M)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return v.propertyIsEnumerable.call(e,t)})):t}var V="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:M?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function C(e){return null===e?null:"object"==typeof e?""+e:e}function D(e,t){return v.hasOwnProperty.call(e,t)}var N=Object.getOwnPropertyDescriptors||function(e){var t={};return V(e).forEach(function(n){t[n]=f(e,n)}),t};function B(e,t){return!!(e&t)}function L(e,t,n){return n?e|=t:e&=~t,e}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function K(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=X(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(null,arguments)}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,W(e,t)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function z(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function F(e){var t=z(e,"string");return"symbol"==typeof t?t:t+""}function X(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}var Y=Symbol("mobx-stored-annotations");function J(e){return Object.assign(function(t,n){if(Z(n))return e.decorate_20223_(t,n);$(t,n,e)},e)}function $(e,t,n){D(e,Y)||j(e,Y,q({},e[Y])),ue(n)||(e[Y][t]=n)}function Q(e){return D(e,Y)||j(e,Y,q({},e[Y])),e[Y]}function Z(e){return"object"==typeof e&&"string"==typeof e.kind}var ee=o.$mobx=Symbol("mobx administration"),te=(function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=vt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return qt(this)},t.reportChanged=function(){Kt(),Ht(this),Gt()},t.toString=function(){return this.name_},K(e,[{key:"isBeingObserved",get:function(){return B(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=L(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return B(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=L(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return B(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=L(this.flags_,e.diffValueMask_,1===t)}}])})();te.isBeingObservedMask_=1,te.isPendingUnobservationMask_=2,te.diffValueMask_=4;var ne=E("Atom",te);function re(e,t,n){void 0===t&&(t=m),void 0===n&&(n=m);var r=new te(e);return t!==m&&bn(r,t),n!==m&&gn(r,n),r}var ie=o.comparer={identity:function(e,t){return e===t},structural:function(e,t){return ti(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return ti(e,t,1)}};function oe(e,t,n){return Bn(e)?e:Array.isArray(e)?Xe.array(e,{name:n}):A(e)?Xe.object(e,void 0,{name:n}):P(e)?Xe.map(e,{name:n}):T(e)?Xe.set(e,{name:n}):"function"!=typeof e||fn(e)||Rn(e)?e:k(e)?Tn(e):ln(n,e)}function ae(e){return e}var se="override";o.override=J({annotationType_:se,make_:function(e,t){return 0},extend_:function(e,t,n,r){s("'"+this.annotationType_+"' can only be used with 'makeObservable'")},decorate_20223_:function(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}});function ue(e){return e.annotationType_===se}function ce(e,t){return{annotationType_:e,options_:t,make_:le,extend_:fe,decorate_20223_:he}}function le(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(fn(n.value))return 1;var o=ve(e,this,t,n,!1);return h(r,t,o),2}function fe(e,t,n,r){var i=ve(e,this,t,n);return e.defineProperty_(t,i,r)}function he(e,t){var n,r=t.kind,i=t.name,o=t.addInitializer,a=this,u=function(e){var t,n,r,o;return rt(null!=(t=null==(n=a.options_)?void 0:n.name)?t:i.toString(),e,null!=(r=null==(o=a.options_)?void 0:o.autoAction)&&r)};return"field"==r?function(e){var t,n=e;return fn(n)||(n=u(n)),null!=(t=a.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==r?(fn(e)||(e=u(e)),null!=(n=this.options_)&&n.bound&&o(function(){var e=this,t=e[i].bind(e);t.isMobxAction=!0,e[i]=t}),e):void s("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+r+"):\n'"+a.annotationType_+"' can only be used on properties with a function value.")}function ve(e,t,n,r,i){var o,a,s,u,c,l,f,h;void 0===i&&(i=Ct.safeDescriptors),h=r,t.annotationType_,h.value;var v,_=r.value;null!=(o=t.options_)&&o.bound&&(_=_.bind(null!=(v=e.proxy_)?v:e.target_));return{value:rt(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),_,null!=(u=null==(c=t.options_)?void 0:c.autoAction)&&u,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function _e(e,t){return{annotationType_:e,options_:t,make_:de,extend_:pe,decorate_20223_:be}}function de(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!D(e.target_,t)||!Rn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Rn(n.value))return 1;var o=ge(e,this,t,n,!1,!1);return h(r,t,o),2}function pe(e,t,n,r){var i,o=ge(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function be(e,t){var n,r=t.name,i=t.addInitializer;return Rn(e)||(e=Tn(e)),null!=(n=this.options_)&&n.bound&&i(function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t}),e}function ge(e,t,n,r,i,o){var a;void 0===o&&(o=Ct.safeDescriptors),a=r,t.annotationType_,a.value;var s,u=r.value;(Rn(u)||(u=Tn(u)),i)&&((u=u.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function ye(e,t){return{annotationType_:e,options_:t,make_:me,extend_:Oe,decorate_20223_:we}}function me(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Oe(e,t,n,r){return Se(e,this,t,n),e.defineComputedProperty_(t,q({},this.options_,{get:n.get,set:n.set}),r)}function we(e,t){var n=this,r=t.name;return(0,t.addInitializer)(function(){var t=Mr(this)[ee],i=q({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new ht(i))}),function(){return this[ee].getObservablePropValue_(r)}}function Se(e,t,n,r){t.annotationType_,r.get}function Ae(e,t){return{annotationType_:e,options_:t,make_:ke,extend_:je,decorate_20223_:xe}}function ke(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function je(e,t,n,r){var i,o;return Ee(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:oe,r)}function xe(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function a(e,t){var r,a,s=Mr(e)[ee],u=new lt(t,null!=(r=null==(a=n.options_)?void 0:a.enhancer)?r:oe,"ObservableObject."+i.toString(),!1);s.values_.set(i,u),o.add(e)}if("accessor"==r)return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[ee].getObservablePropValue_(i)},set:function(e){return o.has(this)||a(this,e),this[ee].setObservablePropValue_(i,e)},init:function(e){return o.has(this)||a(this,e),e}}}function Ee(e,t,n,r){t.annotationType_}var Pe="true",Te=Me();function Me(e){return{annotationType_:Pe,options_:e,make_:Re,extend_:Ve,decorate_20223_:Ce}}function Re(e,t,n,r){var i,o,a,s;if(n.get)return Qe.make_(e,t,n,r);if(n.set){var u=rt(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Ct.safeDescriptors||e.isPlainObject_,set:u})?0:2:(h(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return k(n.value)?(null!=(s=this.options_)&&s.autoBind?Tn.bound:Tn).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?ln.bound:ln).make_(e,t,n,r);var c,l=!1===(null==(i=this.options_)?void 0:i.deep)?Xe.ref:Xe;"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return l.make_(e,t,n,r)}function Ve(e,t,n,r){var i,o,a;if(n.get)return Qe.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Ct.safeDescriptors||e.isPlainObject_,set:rt(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Xe.ref:Xe).extend_(e,t,n,r)}function Ce(e,t){s("'"+this.annotationType_+"' cannot be used as a decorator")}var De={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Ne(e){return e||De}Object.freeze(De);var Be=Ae("observable"),Le=Ae("observable.ref",{enhancer:ae}),Ie=Ae("observable.shallow",{enhancer:function(e,t,n){return null==e||Cr(e)||pr(e)||Or(e)||jr(e)?e:Array.isArray(e)?Xe.array(e,{name:n,deep:!1}):A(e)?Xe.object(e,void 0,{name:n,deep:!1}):P(e)?Xe.map(e,{name:n,deep:!1}):T(e)?Xe.set(e,{name:n,deep:!1}):void 0}}),Ue=Ae("observable.struct",{enhancer:function(e,t){return ti(e,t)?t:e}}),Ke=J(Be);function Ge(e){return!0===e.deep?oe:!1===e.deep?ae:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:oe;var t,n,r}function qe(e){var t;return e?null!=(t=e.defaultDecorator)?t:Me(e):void 0}function He(e,t,n){return Z(t)?Be.decorate_20223_(e,t):w(t)?void $(e,t,Be):Bn(e)?e:A(e)?Xe.object(e,t,n):Array.isArray(e)?Xe.array(e,t):P(e)?Xe.map(e,t):T(e)?Xe.set(e,t):"object"==typeof e&&null!==e?e:Xe.box(e,t)}l(He,Ke);var We,ze,Fe={box:function(e,t){var n=Ne(t);return new lt(e,Ge(n),n.name,!0,n.equals)},array:function(e,t){var n=Ne(t);return(!1===Ct.useProxies||!1===n.proxy?Xr:cr)(e,Ge(n),n.name)},map:function(e,t){var n=Ne(t);return new mr(e,Ge(n),n.name)},set:function(e,t){var n=Ne(t);return new kr(e,Ge(n),n.name)},object:function(e,t,n){return Qr(function(){return Sn(!1===Ct.useProxies||!1===(null==n?void 0:n.proxy)?Mr({},n):$n({},n),e,t)})},ref:J(Le),shallow:J(Ie),deep:Ke,struct:J(Ue)},Xe=o.observable=l(He,Fe),Ye="computed",Je=ye(Ye),$e=ye("computed.struct",{equals:ie.structural}),Qe=o.computed=function(e,t){if(Z(t))return Je.decorate_20223_(e,t);if(w(t))return $(e,t,Je);if(A(e))return J(ye(Ye,e));var n=A(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new ht(n)};Object.assign(Qe,Je),Qe.struct=J($e);var Ze=0,et=1,tt=null!=(We=null==(ze=f(function(){},"name"))?void 0:ze.configurable)&&We,nt={value:"action",configurable:!0,writable:!1,enumerable:!1};function rt(e,t,n,r){function i(){return it(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},tt&&(nt.value=e,h(i,"name",nt)),i}function it(e,t,n,r,i){var o=ot(e,t,r,i);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{at(o)}}function ot(e,t,n,r){var i=Ct.trackingDerivation,o=!t||!i;Kt();var a=Ct.allowStateChanges;o&&(kt(),a=ut(!0));var s={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:xt(!0),notifySpy_:!1,startTime_:0,actionId_:et++,parentActionId_:Ze};return Ze=s.actionId_,s}function at(e){Ze!==e.actionId_&&s(30),Ze=e.parentActionId_,void 0!==e.error_&&(Ct.suppressReactionErrors=!0),ct(e.prevAllowStateChanges_),Et(e.prevAllowStateReads_),Gt(),e.runAsAction_&&jt(e.prevDerivation_),Ct.suppressReactionErrors=!1}function st(e,t){var n=ut(e);try{return t()}finally{ct(n)}}function ut(e){var t=Ct.allowStateChanges;return Ct.allowStateChanges=e,t}function ct(e){Ct.allowStateChanges=e}var lt=(function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=ie.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}H(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==Ct.UNCHANGED){this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(yt(this),Qn(this)){var t=er(this,{object:this,type:ar,newValue:e});if(!t)return Ct.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Ct.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),tr(this)&&rr(this,{type:ar,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Zn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:ar,newValue:this.value_,oldValue:void 0}),nr(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return C(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(te),ft=o.isBoxedObservable=E("ObservableValue",lt),ht=(function(){function e(e){this.dependenciesState_=vt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=vt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new pt(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=_t.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||s(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=rt("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ie.structural:ie.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){zt(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing&&s(32,this.name_,this.derivation),0!==Ct.inBatch||0!==this.observers_.size||this.keepAlive_){if(qt(this),gt(this)){var e=Ct.trackingContext;this.keepAlive_&&!e&&(Ct.trackingContext=this),this.trackAndCompute()&&Wt(this),Ct.trackingContext=e}}else gt(this)&&(this.warnAboutUntrackedRead_(),Kt(),this.value_=this.computeValue_(!1),Gt());var t=this.value_;if(bt(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&s(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else s(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===vt.NOT_TRACKING_,n=this.computeValue_(!0),r=t||bt(e)||bt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing=!0;var t,n=ut(!1);if(e)t=mt(this,this.derivation,this.scope_);else if(!0===Ct.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new pt(e)}return ct(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(St(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return hn(function(){var o=n.get();if(!r||t){var a=kt();e({observableKind:"computed",debugObjectName:n.name_,type:ar,object:n,newValue:o,oldValue:i}),jt(a)}r=!1,i=o})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return C(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},K(e,[{key:"isComputing",get:function(){return B(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=L(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return B(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=L(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return B(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=L(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return B(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=L(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return B(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=L(this.flags_,e.diffValueMask_,1===t)}}])})();ht.isComputingMask_=1,ht.isRunningSetterMask_=2,ht.isBeingObservedMask_=4,ht.isPendingUnobservationMask_=8,ht.diffValueMask_=16;var vt,_t,dt=E("ComputedValue",ht);!(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(vt||(vt={})),(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(_t||(_t={}));var pt=function(e){this.cause=void 0,this.cause=e};function bt(e){return e instanceof pt}function gt(e){switch(e.dependenciesState_){case vt.UP_TO_DATE_:return!1;case vt.NOT_TRACKING_:case vt.STALE_:return!0;case vt.POSSIBLY_STALE_:for(var t=xt(!0),n=kt(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(dt(a)){if(Ct.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return jt(n),Et(t),!0}if(e.dependenciesState_===vt.STALE_)return jt(n),Et(t),!0}}return Pt(e),jt(n),Et(t),!1}}function yt(e){}function mt(e,t,n){var r=xt(!0);Pt(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Ct.runId;var i,o=Ct.trackingDerivation;if(Ct.trackingDerivation=e,Ct.inBatch++,!0===Ct.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new pt(e)}return Ct.inBatch--,Ct.trackingDerivation=o,wt(e),Ot(e),Et(r),i}function Ot(e){}function wt(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=vt.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var u=t[o];0===u.diffValue&&It(u,e),u.diffValue=0}for(;i--;){var c=n[i];1===c.diffValue&&(c.diffValue=0,Lt(c,e))}r!==vt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function St(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)It(t[n],e);e.dependenciesState_=vt.NOT_TRACKING_}function At(e){var t=kt();try{return e()}finally{jt(t)}}function kt(){var e=Ct.trackingDerivation;return Ct.trackingDerivation=null,e}function jt(e){Ct.trackingDerivation=e}function xt(e){var t=Ct.allowStateReads;return Ct.allowStateReads=e,t}function Et(e){Ct.allowStateReads=e}function Pt(e){if(e.dependenciesState_!==vt.UP_TO_DATE_){e.dependenciesState_=vt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=vt.UP_TO_DATE_}}var Tt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Mt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Rt=!0,Vt=!1,Ct=(function(){var e=c();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Rt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Mt).version&&(Rt=!1),Rt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Mt):(setTimeout(function(){Vt||s(35)},1),new Mt)})();function Dt(){if((Ct.pendingReactions.length||Ct.inBatch||Ct.isRunningReactions)&&s(36),Vt=!0,Rt){var e=c();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Ct=new Mt}}function Nt(e){return e.observers_&&e.observers_.size>0}function Bt(e){return e.observers_}function Lt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function It(e,t){e.observers_.delete(t),0===e.observers_.size&&Ut(e)}function Ut(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ct.pendingUnobservations.push(e))}function Kt(){Ct.inBatch++}function Gt(){if(0===--Ct.inBatch){Jt();for(var e=Ct.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ht&&n.suspend_())}Ct.pendingUnobservations=[]}}function qt(e){var t=Ct.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Ct.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&Ct.inBatch>0&&Ut(e),!1)}function Ht(e){e.lowestObserverState_!==vt.STALE_&&(e.lowestObserverState_=vt.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===vt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=vt.STALE_}))}function Wt(e){e.lowestObserverState_!==vt.STALE_&&(e.lowestObserverState_=vt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===vt.POSSIBLY_STALE_?t.dependenciesState_=vt.STALE_:t.dependenciesState_===vt.UP_TO_DATE_&&(e.lowestObserverState_=vt.UP_TO_DATE_)}))}function zt(e){e.lowestObserverState_===vt.UP_TO_DATE_&&(e.lowestObserverState_=vt.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===vt.UP_TO_DATE_&&(e.dependenciesState_=vt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Ft=o.Reaction=(function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=vt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=_t.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ct.pendingReactions.push(this),Jt())},t.runReaction_=function(){if(!this.isDisposed){Kt(),this.isScheduled=!1;var e=Ct.trackingContext;if(Ct.trackingContext=this,gt(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Ct.trackingContext=e,Gt()}},t.track=function(e){if(!this.isDisposed){Kt();this.isRunning=!0;var t=Ct.trackingContext;Ct.trackingContext=this;var n=mt(this,e,void 0);Ct.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&St(this),bt(n)&&this.reportExceptionInDerivation_(n.cause),Gt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Ct.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Ct.suppressReactionErrors||console.error(n,e),Ct.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Kt(),St(this),Gt()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[ee]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),Wn(this,e)},K(e,[{key:"isDisposed",get:function(){return B(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=L(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return B(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=L(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return B(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=L(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return B(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=L(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return B(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=L(this.flags_,e.diffValueMask_,1===t)}}])})();Ft.isDisposedMask_=1,Ft.isScheduledMask_=2,Ft.isTrackPendingMask_=4,Ft.isRunningMask_=8,Ft.diffValueMask_=16;var Xt=100,Yt=function(e){return e()};function Jt(){Ct.inBatch>0||Ct.isRunningReactions||Yt($t)}function $t(){Ct.isRunningReactions=!0;for(var e=Ct.pendingReactions,t=0;e.length>0;){++t===Xt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ct.isRunningReactions=!1}var Qt=E("Reaction",Ft);function Zt(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var en="action",tn="autoAction",nn="<unnamed action>",rn=ce(en),on=ce("action.bound",{bound:!0}),an=ce(tn,{autoAction:!0}),sn=ce("autoAction.bound",{autoAction:!0,bound:!0});function un(e){return function(t,n){return O(t)?rt(t.name||nn,t,e):O(n)?rt(t,n,e):Z(n)?(e?an:rn).decorate_20223_(t,n):w(n)?$(t,n,e?an:rn):w(t)?J(ce(e?tn:en,{name:t,autoAction:e})):void 0}}var cn=o.action=un(!1);Object.assign(cn,rn);var ln=o._autoAction=un(!0);function fn(e){return O(e)&&!0===e.isMobxAction}function hn(e,t){var n,r,i,o;void 0===t&&(t=d);var a,s=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Ft(s,function(){this.track(l)},t.onError,t.requiresObservable);else{var u=_n(t),c=!1;a=new Ft(s,function(){c||(c=!0,u(function(){c=!1,a.isDisposed||a.track(l)}))},t.onError,t.requiresObservable)}function l(){e(a)}return null!=(i=t)&&null!=(i=i.signal)&&i.aborted||a.schedule_(),a.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(ln,an),cn.bound=J(on),ln.bound=J(sn);var vn=function(e){return e()};function _n(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:vn}var dn="onBO",pn="onBUO";function bn(e,t,n){return yn(dn,e,t,n)}function gn(e,t,n){return yn(pn,e,t,n)}function yn(e,t,n,r){var i="function"==typeof r?Yr(t,n):Yr(t),o=O(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var mn="never",On="always",wn="observed";function Sn(e,t,n,r){var i=N(t);return Qr(function(){var t=Mr(e,r)[ee];V(i).forEach(function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))})}),e}function An(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(An)),n}function kn(e){var t={name:e.name_};return Nt(e)&&(t.observers=Array.from(Bt(e)).map(kn)),t}var jn=0;function xn(){this.message="FLOW_CANCELLED"}xn.prototype=Object.create(Error.prototype);var En=_e("flow"),Pn=_e("flow.bound",{bound:!0}),Tn=o.flow=Object.assign(function(e,t){if(Z(t))return En.decorate_20223_(e,t);if(w(t))return $(e,t,En);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++jn,o=cn(r+" - runid: "+i+" - init",n).apply(this,t),a=void 0,s=new Promise(function(t,n){var s=0;function u(e){var t;a=void 0;try{t=cn(r+" - runid: "+i+" - yield "+s++,o.next).call(o,e)}catch(e){return n(e)}l(t)}function c(e){var t;a=void 0;try{t=cn(r+" - runid: "+i+" - yield "+s++,o.throw).call(o,e)}catch(e){return n(e)}l(t)}function l(e){if(!O(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(u,c);e.then(l,n)}e=n,u(void 0)});return s.cancel=cn(r+" - runid: "+i+" - cancel",function(){try{a&&Mn(a);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(m,m),Mn(n),e(new xn)}catch(t){e(t)}}),s};return i.isMobXFlow=!0,i},En);function Mn(e){O(e.cancel)&&e.cancel()}function Rn(e){return!0===(null==e?void 0:e.isMobXFlow)}function Vn(e,t){return Jr(e).intercept_(t)}function Cn(e,t,n){return Jr(e,t).intercept_(n)}function Dn(e,t){if(void 0===t)return dt(e);if(!1===Cr(e))return!1;if(!e[ee].values_.has(t))return!1;var n=Yr(e,t);return dt(n)}function Nn(e,t){return!!e&&(void 0!==t?!!Cr(e)&&e[ee].values_.has(t):Cr(e)||!!e[ee]||ne(e)||Qt(e)||dt(e))}function Bn(e){return Nn(e)}function Ln(e){return Cr(e)?e[ee].keys_():Or(e)||jr(e)?Array.from(e.keys()):pr(e)?e.map(function(e,t){return t}):void s(5)}function In(e,t){return Cr(e)?e[ee].has_(t):Or(e)||jr(e)?e.has(t):pr(e)?t>=0&&t<e.length:void s(10)}function Un(e){if(Cr(e))return e[ee].ownKeys_();s(38)}function Kn(e,t,n){return Jr(e).observe_(t,n)}function Gn(e,t,n,r){return Jr(e,t).observe_(n,r)}function qn(e,t,n){return e.set(t,n),n}function Hn(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!Bn(e))return e;if(ft(e)||dt(e))return Hn(e.get(),t);if(t.has(e))return t.get(e);if(pr(e)){var n=qn(t,e,new Array(e.length));return e.forEach(function(e,r){n[r]=Hn(e,t)}),n}if(jr(e)){var r=qn(t,e,new Set);return e.forEach(function(e){r.add(Hn(e,t))}),r}if(Or(e)){var i=qn(t,e,new Map);return e.forEach(function(e,n){i.set(n,Hn(e,t))}),i}var o=qn(t,e,{});return Un(e).forEach(function(n){v.propertyIsEnumerable.call(e,n)&&(o[n]=Hn(e[n],t))}),o}function Wn(){}function zn(e,t){void 0===t&&(t=void 0),Kt();try{return e.apply(t)}finally{Gt()}}function Fn(e,t,n){var r;if("number"==typeof n.timeout){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!a[ee].isDisposed){if(a(),!n.onError)throw i;n.onError(i)}},n.timeout)}n.name="When";var o=rt("When-effect",t),a=hn(function(t){st(!1,e)&&(t.dispose(),r&&clearTimeout(r),o())},n);return a}function Xn(e,t){var n,r,i;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var o=new Promise(function(n,o){var a,s=Fn(e,n,q({},t,{onError:o}));r=function(){s(),o(new Error("WHEN_CANCELLED"))},i=function(){s(),o(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",i)}).finally(function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",i)});return o.cancel=r,o}function Yn(e){return e[ee]}Tn.bound=J(Pn);var Jn={has:function(e,t){return Yn(e).has_(t)},get:function(e,t){return Yn(e).get_(t)},set:function(e,t,n){var r;return!!w(t)&&(null==(r=Yn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!w(t)&&(null==(n=Yn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=Yn(e).defineProperty_(t,n))||r},ownKeys:function(e){return Yn(e).ownKeys_()},preventExtensions:function(e){s(13)}};function $n(e,t){var n,r;return g(),null!=(r=(n=(e=Mr(e,t))[ee]).proxy_)?r:n.proxy_=new Proxy(e,Jn)}function Qn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Zn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),y(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function er(e,t){var n=kt();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&s(14),t);i++);return t}finally{jt(n)}}function tr(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function nr(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),y(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function rr(e,t){var n=kt(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);jt(n)}}var ir=Symbol("mobx-keys");var or="splice",ar="update",sr={get:function(e,t){var n=e[ee];return t===ee?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?D(lr,t)?lr[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[ee];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){s(15)}},ur=(function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new te(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Zn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),nr(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&s("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&s(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Fr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=_),Qn(this)){var o=er(this,{object:this.proxy_,type:or,index:e,removedCount:t,added:n});if(!o)return _;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map(function(e){return r.enhancer_(e,void 0)}),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=tr(this),o=i||r?{observableKind:"array",object:this.proxy_,type:ar,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&rr(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=tr(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:or,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&rr(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&s(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(Qn(this)){var i=er(this,{type:ar,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var o=new Array(e+1-n.length),a=0;a<o.length-1;a++)o[a]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e})();function cr(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),g(),Qr(function(){var i=new ur(n,t,r,!1);x(i.values_,ee,i);var o=new Proxy(i.values_,sr);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var lr={clear:function(){return this.splice(0)},replace:function(e){var t=this[ee];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[ee];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[ee].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ee],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ee].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ee],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Ct.trackingDerivation&&s(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ct.trackingDerivation&&s(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ee],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function fr(e,t){"function"==typeof Array.prototype[e]&&(lr[e]=t(e))}function hr(e){return function(){var t=this[ee];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function vr(e){return function(t,n){var r=this,i=this[ee];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e](function(e,i){return t.call(n,e,i,r)})}}function _r(e){return function(){var t=this,n=this[ee];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}fr("at",hr),fr("concat",hr),fr("flat",hr),fr("includes",hr),fr("indexOf",hr),fr("join",hr),fr("lastIndexOf",hr),fr("slice",hr),fr("toString",hr),fr("toLocaleString",hr),fr("toSorted",hr),fr("toSpliced",hr),fr("with",hr),fr("every",vr),fr("filter",vr),fr("find",vr),fr("findIndex",vr),fr("findLast",vr),fr("findLastIndex",vr),fr("flatMap",vr),fr("forEach",vr),fr("map",vr),fr("some",vr),fr("toReversed",vr),fr("reduce",_r),fr("reduceRight",_r);var dr=E("ObservableArrayAdministration",ur);function pr(e){return S(e)&&dr(e[ee])}var br={},gr="add",yr="delete",mr=o.ObservableMap=(function(){function e(e,t,n){var r=this;void 0===t&&(t=oe),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ee]=br,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,O(Map)||s(18),Qr(function(){r.keysAtom_=re("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Ct.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new lt(this.has_(e),ae,"ObservableMap.key?",!1);this.hasMap_.set(e,r),gn(r,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(Qn(this)){var r=er(this,{type:n?ar:gr,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,Qn(this))&&!er(this,{type:yr,object:this,name:e}))return!1;if(this.has_(e)){var n=tr(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:yr,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return zn(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&rr(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Ct.UNCHANGED){var r=tr(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:ar,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&rr(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,zn(function(){var r,i=new lt(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()});var r=tr(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:gr,object:this,name:e,newValue:t}:null;r&&rr(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return wr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return wr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=G(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return Or(e)&&(e=new Map(e)),zn(function(){var n,r,i;A(e)?R(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],r=e[1];return t.set(n,r)}):P(e)?(n=e,r=Object.getPrototypeOf(n),i=Object.getPrototypeOf(r),null!==Object.getPrototypeOf(i)&&s(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&s(20,e)}),this},t.clear=function(){var e=this;zn(function(){At(function(){for(var t,n=G(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.replace=function(e){var t=this;return zn(function(){for(var n,r=Sr(e),i=new Map,o=!1,a=G(t.data_.keys());!(n=a()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))o=!0;else{var u=t.data_.get(s);i.set(s,u)}}for(var c,l=G(r.entries());!(c=l()).done;){var f=c.value,h=f[0],v=f[1],_=t.data_.has(h);if(t.set(h,v),t.data_.has(h)){var d=t.data_.get(h);i.set(h,d),_||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var p=t.data_.keys(),b=i.keys(),g=p.next(),y=b.next();!g.done;){if(g.value!==y.value){t.keysAtom_.reportChanged();break}g=p.next(),y=b.next()}t.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return nr(this,e)},t.intercept_=function(e){return Zn(this,e)},K(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Or=o.isObservableMap=E("ObservableMap",mr);function wr(e){return e[Symbol.toStringTag]="MapIterator",oi(e)}function Sr(e){if(P(e)||Or(e))return e;if(Array.isArray(e))return new Map(e);if(A(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return s(21,e)}var Ar={},kr=o.ObservableSet=(function(){function e(e,t,n){var r=this;void 0===t&&(t=oe),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ee]=Ar,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,O(Set)||s(22),this.enhancer_=function(e,r){return t(e,r,n)},Qr(function(){r.atom_=re(r.name_),e&&r.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;zn(function(){At(function(){for(var t,n=G(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.forEach=function(e,t){for(var n,r=G(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,Qn(this)){var n=er(this,{type:gr,object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){zn(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var r=tr(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:gr,object:this,newValue:e}:null;r&&rr(this,i)}return this},t.delete=function(e){var t=this;if(Qn(this)&&!er(this,{type:yr,object:this,oldValue:e}))return!1;if(this.has(e)){var n=tr(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:yr,object:this,oldValue:e}:null;return zn(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&rr(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return xr({next:function(){var t=e.next(),n=t.value,r=t.done;return r?{value:void 0,done:r}:{value:[n,n],done:r}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return xr({next:function(){var n=t.next(),r=n.value,i=n.done;return i?{value:void 0,done:i}:{value:e.dehanceValue_(r),done:i}}})},t.intersection=function(e){return T(e)&&!jr(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return T(e)&&!jr(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return T(e)&&!jr(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return T(e)&&!jr(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return jr(e)&&(e=new Set(e)),zn(function(){Array.isArray(e)||T(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&s("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return nr(this,e)},t.intercept_=function(e){return Zn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},K(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),jr=o.isObservableSet=E("ObservableSet",kr);function xr(e){return e[Symbol.toStringTag]="SetIterator",oi(e)}var Er=Object.create(null),Pr="remove",Tr=(function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Te),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new te("ObservableObject.keys"),this.isPlainObject_=A(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof ht)return n.set(t),!0;if(Qn(this)){var r=er(this,{type:ar,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==Ct.UNCHANGED){var i=tr(this),o=i?{type:ar,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&rr(this,o)}return!0},t.get_=function(e){return Ct.trackingDerivation&&!D(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),D(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!Ct.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new lt(e in this.target_,ae,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[Y])&&n[e])return;s(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==v;){var i=f(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}Dr(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&Dr(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Kt();var r=this.delete_(e);if(!r)return r;if(Qn(this)){var i=er(this,{object:this.proxy_||this.target_,name:e,type:gr,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=q({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else h(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Gt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{Kt();var i=this.delete_(e);if(!i)return i;if(Qn(this)){var o=er(this,{object:this.proxy_||this.target_,name:e,type:gr,newValue:t});if(!o)return null;t=o.newValue}var a=Vr(e),s={configurable:!Ct.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else h(this.target_,e,s);var u=new lt(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{Gt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Kt();var r=this.delete_(e);if(!r)return r;if(Qn(this))if(!er(this,{object:this.proxy_||this.target_,name:e,type:gr,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Vr(e),o={configurable:!Ct.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else h(this.target_,e,o);this.values_.set(e,new ht(t)),this.notifyPropertyAddition_(e,void 0)}finally{Gt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!D(this.target_,e))return!0;if(Qn(this)&&!er(this,{object:this.proxy_||this.target_,name:e,type:Pr}))return null;try{var n;Kt();var r,i=tr(this),o=this.values_.get(e),a=void 0;if(!o&&i)a=null==(r=f(this.target_,e))?void 0:r.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof lt&&(a=o.value_),Ht(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),i){var s={type:Pr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};i&&rr(this,s)}}finally{Gt()}return!0},t.observe_=function(e,t){return nr(this,e)},t.intercept_=function(e){return Zn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r=tr(this);if(r){var i=r?{type:gr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;r&&rr(this,i)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),V(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function Mr(e,t){var n;if(D(e,ee))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Tr(e,new Map,String(r),qe(t));return j(e,ee,i),e}var Rr=E("ObservableObjectAdministration",Tr);function Vr(e){return Er[e]||(Er[e]={get:function(){return this[ee].getObservablePropValue_(e)},set:function(t){return this[ee].setObservablePropValue_(e,t)}})}function Cr(e){return!!S(e)&&Rr(e[ee])}function Dr(e,t,n){var r;null==(r=e.target_[Y])||delete r[n]}var Nr,Br,Lr,Ir,Ur=Wr(0),Kr=(Nr=!1,Br={},Object.defineProperty(Br,"0",{set:function(){Nr=!0}}),Object.create(Br)[0]=1,!1===Nr),Gr=0,qr=function(){};Lr=qr,Ir=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Lr.prototype,Ir):void 0!==Lr.prototype.__proto__?Lr.prototype.__proto__=Ir:Lr.prototype=Ir;var Hr=(function(e){function t(t,n,r,i){var o;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this,Qr(function(){var e=new ur(r,n,i,!0);e.proxy_=o,x(o,ee,e),t&&t.length&&o.spliceWithArray(0,0,t),Kr&&Object.defineProperty(o,"0",Ur)}),o}H(t,e);var n=t.prototype;return n.concat=function(){this[ee].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return pr(e)?e.slice():e}))},n[Symbol.iterator]=function(){var e=this,t=0;return oi({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},K(t,[{key:"length",get:function(){return this[ee].getArrayLength_()},set:function(e){this[ee].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(qr);function Wr(e){return{enumerable:!1,configurable:!0,get:function(){return this[ee].get_(e)},set:function(t){this[ee].set_(e,t)}}}function zr(e){h(Hr.prototype,""+e,Wr(e))}function Fr(e){if(e>Gr){for(var t=Gr;t<e+100;t++)zr(t);Gr=e}}function Xr(e,t,n){return new Hr(e,t,n)}function Yr(e,t){if("object"==typeof e&&null!==e){if(pr(e))return void 0!==t&&s(23),e[ee].atom_;if(jr(e))return e.atom_;if(Or(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||s(25,t,$r(e)),n}if(Cr(e)){if(!t)return s(26);var r=e[ee].values_.get(t);return r||s(27,t,$r(e)),r}if(ne(e)||dt(e)||Qt(e))return e}else if(O(e)&&Qt(e[ee]))return e[ee];s(28)}function Jr(e,t){return e||s(29),void 0!==t?Jr(Yr(e,t)):ne(e)||dt(e)||Qt(e)||Or(e)||jr(e)?e:e[ee]?e[ee]:void s(24,e)}function $r(e,t){var n;if(void 0!==t)n=Yr(e,t);else{if(fn(e))return e.name;n=Cr(e)||Or(e)||jr(e)?Jr(e):Yr(e)}return n.name_}function Qr(e){var t=kt(),n=ut(!0);Kt();try{return e()}finally{Gt(),ct(n),jt(t)}}Object.entries(lr).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&j(Hr.prototype,t,n)}),Fr(1e3);var Zr,ei=v.toString;function ti(e,t,n){return void 0===n&&(n=-1),ni(e,t,n)}function ni(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=ei.call(e);if(a!==ei.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0===+e?1/+e==1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=ri(e),t=ri(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(O(u)&&u instanceof u&&O(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return i[l]===t;if(r.push(e),i.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!ni(e[l],t[l],n-1,r,i))return!1}else{var f=Object.keys(e),h=f.length;if(Object.keys(t).length!==h)return!1;for(var v=0;v<h;v++){var _=f[v];if(!D(t,_)||!ni(e[_],t[_],n-1,r,i))return!1}}return r.pop(),i.pop(),!0}function ri(e){return pr(e)?e.slice():P(e)||Or(e)||T(e)||jr(e)?Array.from(e.entries()):e}var ii=(null==(Zr=c().Iterator)?void 0:Zr.prototype)||{};function oi(e){return e[Symbol.iterator]=ai,Object.assign(Object.create(ii),e)}function ai(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===c()[e]&&s("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Zt,extras:{getDebugName:$r},$mobx:ee})},526,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPointerEvent=e.isKeyboardEvent=e.userActivationEvents=void 0,e.userActivationEvents=["touchend","mousedown","pointerup","pointerdown","keydown"];e.isKeyboardEvent=function(n){return void 0!==n.keyCode};e.isPointerEvent=function(n){return void 0!==n.pointerType}},527,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t,s,n=r(d[0]),o=r(d[1]);function h(t,s){return(0,r(d[2]).isObservableProp)(t,s)||(0,r(d[2]).isComputedProp)(t,s)}function u(t,s){return function(){return t[s]}}Object.defineProperty(e,"__esModule",{value:!0}),e.ObservableEventEmitter=void 0;var c=Symbol("Emitter"),l=Symbol("Observers"),v=(function(){return o(function o(){var h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n(this,o),this[t]=new(r(d[3]).EventEmitter),this[s]=new Map,this.disposers=[],this.disposed=!1,this.disposing=!1,h&&(0,r(d[4]).makeBounded)(this,[],!1)},[{key:"startEmitting",value:function(t){if(!this[l].has(t)){var s=this[c].emit.bind(this[c],t),n=(0,r(d[2]).reaction)(u(this,t),s,{name:`event:${this.constructor.name}.${String(t)}`});this[l].set(t,n)}}},{key:"stopEmitting",value:function(t){var s;null===(s=this[l].get(t))||void 0===s||s(),this[l].delete(t)}},{key:"setMaxListeners",value:function(t){return this[c].setMaxListeners(t),this}},{key:"getMaxListeners",value:function(){return this[c].getMaxListeners()}},{key:"addListener",value:function(t,s){return this[c].addListener(t,s),h(this,t)&&this.startEmitting(t),this}},{key:"emit",value:function(t,s){for(var n,o=arguments.length,h=new Array(o>2?o-2:0),u=2;u<o;u++)h[u-2]=arguments[u];return(n=this[c]).emit.apply(n,[t,s].concat(h))}},{key:"off",value:function(t,s){return this[c].off(t,s),0===r(d[3]).EventEmitter.listenerCount(this[c],t)&&this.stopEmitting(t),this}},{key:"on",value:function(t,s){return this[c].on(t,s),h(this,t)&&this.startEmitting(t),this}},{key:"once",value:function(t,s){return this[c].once(t,s),h(this,t)&&this.startEmitting(t),this}},{key:"prependListener",value:function(t,s){return this[c].prependListener(t,s),h(this,t)&&this.startEmitting(t),this}},{key:"prependOnceListener",value:function(t,s){return this[c].prependOnceListener(t,s),h(this,t)&&this.startEmitting(t),this}},{key:"removeAllListeners",value:function(t){for(var s of(this[c].removeAllListeners(t),this[l].keys()))this.stopEmitting(s);return this}},{key:"removeListener",value:function(t,s){return this[c].removeListener(t,s),0===r(d[3]).EventEmitter.listenerCount(this[c],t)&&this.stopEmitting(t),this}},{key:"addInnerDisposer",value:function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];for(var o of s)"function"==typeof o?this.disposers.unshift(o):this.disposers.unshift(o.dispose.bind(o))}},{key:"autorun",value:function(t){this.addInnerDisposer((0,r(d[2]).autorun)(t))}},{key:"isDisposed",get:function(){return this.disposed}},{key:"emitError",value:function(t){this[c].emit("error",t),!t.isMuted&&(0,r(d[5]).hasVcContext)(this)&&r(d[6]).VideoClientErrorDeprecated.log(t,this.ctx.logger)}},{key:"throwError",value:function(t){throw this.emitError(t),t}},{key:"throwErrorDeprecated",value:function(t){throw this.emitErrorDeprecated(t),t}},{key:"emitErrorDeprecated",value:function(t){try{this[c].emit("error",t),t.critical&&this.dispose(`due error: ${t.code}`)}catch(s){(0,r(d[5]).hasVcContext)(this)?this.ctx.logger.error("error handler throws another error",{err:t,handlerErr:(0,r(d[6]).wrapNativeError)(s)}):r(d[7]).device.isImplements(r(d[7]).Feature.DEBUGGING)&&r(d[7]).device.console.error("error handler throws another error",{err:t,handlerErr:s})}}},{key:"dispose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not provided";this.disposed||this.disposing||(this.disposing=!0,(0,r(d[8]).disposeObjects)(this,this.disposers,t),this.removeAllListeners(),(0,r(d[5]).hasVcContext)(this)&&(0,r(d[9]).cancel)(this.ctx),this.disposed=!0,this.emit("disposed"))}}])})();e.ObservableEventEmitter=v,t=c,s=l},528,[12,13,526,523,529,548,543,502,549,550]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeBounded=function(t){var n,f,s,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t||"object"!=typeof t)throw new Error("bindMethods works only on objects");var v=o(t),y=Object.keys(v).filter(function(t){return!p.includes(t)});for(var j of y){var w=Object.getOwnPropertyDescriptor(t,j),O=v[j].value;if("function"==typeof O&&"constructor"!==j&&(null==w||w.configurable)){var h=O.bind(t);Reflect.defineProperty(h,"name",{configurable:!0,value:u(t)+"."+O.name}),b&&(h="dispose"===j?l(t,O):c(t,O)),Object.defineProperty(t,j,{value:h,configurable:null===(n=null==w?void 0:w.configurable)||void 0===n||n,enumerable:null!==(f=null==w?void 0:w.writable)&&void 0!==f&&f,writable:null!==(s=null==w?void 0:w.writable)&&void 0!==s&&s})}}return t};var t=r(d[0]).__importStar(r(d[1]));function o(t){for(var o={},n=t;null!=n&&n!==Object.prototype;)o=Object.assign({},Object.getOwnPropertyDescriptors(n),o),n=Object.getPrototypeOf(n);return o}var n=new WeakMap;function c(t,o){return function(){var c;if("object"==typeof t&&t.isDisposed){var l=n.get(t),u=null==l?"":(0,r(d[2]).formatStacktrace)(l),f=new(r(d[3]).DisposedObjectError)("call on the disposed object",{className:null!==(c=t.constructor.displayName)&&void 0!==c?c:t.constructor.name,method:o.name});if("object"!=typeof t.ctx||"object"!=typeof t.ctx.logger||"function"!=typeof t.ctx.logger.error)throw f;t.ctx.logger.error(f.message,{err:f,target:t.name,method:o.name,stacktrace:u})}for(var s=arguments.length,p=new Array(s),b=0;b<s;b++)p[b]=arguments[b];return o.apply(t,p)}}function l(o,c){return function(){t.get().then(function(t){n.set(o,t)});for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return c.apply(o,u)}}function u(t){return String("displayName"in t.constructor?t.constructor.displayName:t.constructor.name)}},529,[487,530,542,543]);
__d(function(g,r,i,a,m,_e,d){!(function(t,n){'use strict';'function'==typeof define&&define.amd?define('stacktrace',['error-stack-parser','stack-generator','stacktrace-gps'],n):'object'==typeof _e?m.exports=n(r(d[0]),r(d[1]),r(d[2])):t.StackTrace=n(t.ErrorStackParser,t.StackGenerator,t.StackTraceGPS)})(this,function(t,n,e){var o={filter:function(t){return-1===(t.functionName||'').indexOf('StackTrace$$')&&-1===(t.functionName||'').indexOf('ErrorStackParser$$')&&-1===(t.functionName||'').indexOf('StackTraceGPS$$')&&-1===(t.functionName||'').indexOf('StackGenerator$$')},sourceCache:{}},c=function(){try{throw new Error}catch(t){return t}};function f(t,n){var e={};return[t,n].forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}),e}function u(t){return t.stack||t['opera#sourceloc']}function s(t,n){return'function'==typeof n?t.filter(n):t}return{get:function(t){var n=c();return u(n)?this.fromError(n,t):this.generateArtificially(t)},getSync:function(e){e=f(o,e);var p=c();return s(u(p)?t.parse(p):n.backtrace(e),e.filter)},fromError:function(n,c){c=f(o,c);var u=new e(c);return new Promise(function(e){var o=s(t.parse(n),c.filter);e(Promise.all(o.map(function(t){return new Promise(function(n){function e(){n(t)}u.pinpoint(t).then(n,e).catch(e)})})))}.bind(this))},generateArtificially:function(t){t=f(o,t);var e=n.backtrace(t);return'function'==typeof t.filter&&(e=e.filter(t.filter)),Promise.resolve(e)},instrument:function(t,n,e,o){if('function'!=typeof t)throw new Error('Cannot instrument non-function object');if('function'==typeof t.__stacktraceOriginalFn)return t;var c=function(){try{return this.get().then(n,e).catch(e),t.apply(o||this,arguments)}catch(t){throw u(t)&&this.fromError(t).then(n,e).catch(e),t}}.bind(this);return c.__stacktraceOriginalFn=t,c},deinstrument:function(t){if('function'!=typeof t)throw new Error('Cannot de-instrument non-function object');return'function'==typeof t.__stacktraceOriginalFn?t.__stacktraceOriginalFn:t},report:function(t,n,e,o){return new Promise(function(c,f){var u=new XMLHttpRequest;if(u.onerror=f,u.onreadystatechange=function(){4===u.readyState&&(u.status>=200&&u.status<400?c(u.responseText):f(new Error('POST to '+n+' failed with status: '+u.status)))},u.open('post',n),u.setRequestHeader('Content-Type','application/json'),o&&'object'==typeof o.headers){var s=o.headers;for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&u.setRequestHeader(p,s[p])}var h={stack:t};null!=e&&(h.message=e),u.send(JSON.stringify(h))})}}})},530,[531,533,534]);
__d(function(g,r,_i,a,m,_e,d){!(function(e,t){'use strict';'function'==typeof define&&define.amd?define('error-stack-parser',['stackframe'],t):'object'==typeof _e?m.exports=t(r(d[0])):e.ErrorStackParser=t(e.StackFrame)})(this,function(e){'use strict';var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e['opera#sourceloc'])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error('Cannot parse given Error object')},extractLocation:function(e){if(-1===e.indexOf(':'))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,''));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split('\n').filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf('(eval ')>-1&&(t=t.replace(/eval code/g,'eval').replace(/(\(eval at [^()]*)|(,.*$)/g,''));var n=t.replace(/^\s+/,'').replace(/\(eval code/g,'(').replace(/^.*?\s+/,''),i=n.match(/ (\(.+\)$)/);n=i?n.replace(i[0],''):n;var c=this.extractLocation(i?i[1]:n),s=i&&n||void 0,o=['eval','<anonymous>'].indexOf(c[0])>-1?void 0:c[0];return new e({functionName:s,fileName:o,lineNumber:c[1],columnNumber:c[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split('\n').filter(function(e){return!e.match(i)},this).map(function(t){if(t.indexOf(' > eval')>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,':$1')),-1===t.indexOf('@')&&-1===t.indexOf(':'))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=t.match(n),c=i&&i[1]?i[1]:void 0,s=this.extractLocation(t.replace(n,''));return new e({functionName:c,fileName:s[0],lineNumber:s[1],columnNumber:s[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf('\n')>-1&&e.message.split('\n').length>e.stacktrace.split('\n').length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split('\n'),c=[],s=2,o=i.length;s<o;s+=2){var u=n.exec(i[s]);u&&c.push(new e({fileName:u[2],lineNumber:u[1],source:i[s]}))}return c},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split('\n'),c=[],s=0,o=i.length;s<o;s+=2){var u=n.exec(i[s]);u&&c.push(new e({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:i[s]}))}return c},parseOpera11:function(n){return n.stack.split('\n').filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,i=t.split('@'),c=this.extractLocation(i.pop()),s=i.shift()||'',o=s.replace(/<anonymous function(: (\w+))?>/,'$2').replace(/\([^)]*\)/g,'')||void 0;s.match(/\(([^)]*)\)/)&&(n=s.replace(/^[^(]+\(([^)]*)\)$/,'$1'));var u=void 0===n||'[arguments not available]'===n?void 0:n.split(',');return new e({functionName:o,args:u,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:t})},this)}}})},531,[532]);
__d(function(g,r,_i,a,m,e,d){!(function(t,n){'use strict';'function'==typeof define&&define.amd?define('stackframe',[],n):'object'==typeof e?m.exports=n():t.StackFrame=n()})(this,function(){'use strict';function t(t){return t.charAt(0).toUpperCase()+t.substring(1)}function n(t){return function(){return this[t]}}var i=['isConstructor','isEval','isNative','isToplevel'],o=['columnNumber','lineNumber'],s=['fileName','functionName','source'],u=i.concat(o,s,['args'],['evalOrigin']);function f(n){if(n)for(var i=0;i<u.length;i++)void 0!==n[u[i]]&&this['set'+t(u[i])](n[u[i]])}f.prototype={getArgs:function(){return this.args},setArgs:function(t){if('[object Array]'!==Object.prototype.toString.call(t))throw new TypeError('Args must be an Array');this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof f)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError('Eval Origin must be an Object or StackFrame');this.evalOrigin=new f(t)}},toString:function(){var t=this.getFileName()||'',n=this.getLineNumber()||'',i=this.getColumnNumber()||'',o=this.getFunctionName()||'';return this.getIsEval()?t?'[eval] ('+t+':'+n+':'+i+')':'[eval]:'+n+':'+i:o?o+' ('+t+':'+n+':'+i+')':t+':'+n+':'+i}},f.fromString=function(t){var n=t.indexOf('('),i=t.lastIndexOf(')'),o=t.substring(0,n),s=t.substring(n+1,i).split(','),u=t.substring(i+1);if(0===u.indexOf('@'))var c=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(u,''),l=c[1],p=c[2],v=c[3];return new f({functionName:o,args:s||void 0,fileName:l,lineNumber:p||void 0,columnNumber:v||void 0})};for(var c=0;c<i.length;c++)f.prototype['get'+t(i[c])]=n(i[c]),f.prototype['set'+t(i[c])]=(function(t){return function(n){this[t]=Boolean(n)}})(i[c]);for(var l=0;l<o.length;l++)f.prototype['get'+t(o[l])]=n(o[l]),f.prototype['set'+t(o[l])]=(function(t){return function(n){if(i=n,isNaN(parseFloat(i))||!isFinite(i))throw new TypeError(t+' must be a Number');var i;this[t]=Number(n)}})(o[l]);for(var p=0;p<s.length;p++)f.prototype['get'+t(s[p])]=n(s[p]),f.prototype['set'+t(s[p])]=(function(t){return function(n){this[t]=String(n)}})(s[p]);return f})},532,[]);
__d(function(g,r,_i,a,m,_e,d){!(function(e,t){'use strict';'function'==typeof define&&define.amd?define('stack-generator',['stackframe'],t):'object'==typeof _e?m.exports=t(r(d[0])):e.StackGenerator=t(e.StackFrame)})(this,function(e){return{backtrace:function(t){var n=[],c=10;'object'==typeof t&&'number'==typeof t.maxStackSize&&(c=t.maxStackSize);for(var o=arguments.callee;o&&n.length<c&&o.arguments;){for(var f=new Array(o.arguments.length),i=0;i<f.length;++i)f[i]=o.arguments[i];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:f})):n.push(new e({args:f}));try{o=o.caller}catch(e){break}}return n}}})},533,[532]);
__d(function(g,r,_i,a,_m,e,d){!(function(n,t){'use strict';'function'==typeof define&&define.amd?define('stacktrace-gps',['source-map','stackframe'],t):'object'==typeof e?_m.exports=t(r(d[0]),r(d[1])):n.StackTraceGPS=t(n.SourceMap||n.sourceMap,n.StackFrame)})(this,function(n,t){'use strict';function o(n){return new Promise(function(t,o){var i=new XMLHttpRequest;i.open('get',n),i.onerror=o,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300||'file://'===n.substr(0,7)&&i.responseText?t(i.responseText):o(new Error('HTTP status: '+i.status+' retrieving '+n)))},i.send()})}function i(n){if('undefined'!=typeof window&&window.atob)return window.atob(n);throw new Error('You must supply a polyfill for window.atob in this environment')}function s(n){if('undefined'!=typeof JSON&&JSON.parse)return JSON.parse(n);throw new Error('You must supply a polyfill for JSON.parse in this environment')}function u(n,t){for(var o=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],i=n.split('\n'),s='',u=Math.min(t,20),c=0;c<u;++c){var f=i[t-c-1],h=f.indexOf('//');if(h>=0&&(f=f.substr(0,h)),f){s=f+s;for(var m=o.length,p=0;p<m;p++){var l=o[p].exec(s);if(l&&l[1])return l[1]}}}}function c(){if('function'!=typeof Object.defineProperty||'function'!=typeof Object.create)throw new Error('Unable to consume source maps in older browsers')}function f(n){if('object'!=typeof n)throw new TypeError('Given StackFrame is not an object');if('string'!=typeof n.fileName)throw new TypeError('Given file name is not a String');if('number'!=typeof n.lineNumber||n.lineNumber%1!=0||n.lineNumber<1)throw new TypeError('Given line number must be a positive integer');if('number'!=typeof n.columnNumber||n.columnNumber%1!=0||n.columnNumber<0)throw new TypeError('Given column number must be a non-negative integer');return!0}function h(n){for(var t,o,i=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;o=i.exec(n);)t=o[1];if(t)return t;throw new Error('sourceMappingURL not found')}function m(n,o,i){return new Promise(function(s,u){var c=o.originalPositionFor({line:n.lineNumber,column:n.columnNumber});if(c.source){var f=o.sourceContentFor(c.source);f&&(i[c.source]=f),s(new t({functionName:c.name||n.functionName,args:n.args,fileName:c.source,lineNumber:c.line,columnNumber:c.column}))}else u(new Error('Could not get original source for given stackframe and source map'))})}return function p(l){if(!(this instanceof p))return new p(l);l=l||{},this.sourceCache=l.sourceCache||{},this.sourceMapConsumerCache=l.sourceMapConsumerCache||{},this.ajax=l.ajax||o,this._atob=l.atob||i,this._get=function(n){return new Promise(function(t,o){var i='data:'===n.substr(0,5);if(this.sourceCache[n])t(this.sourceCache[n]);else if(l.offline&&!i)o(new Error('Cannot make network requests in offline mode'));else if(i){var s=n.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(s){var u=s[0].length,c=n.substr(u),f=this._atob(c);this.sourceCache[n]=f,t(f)}else o(new Error('The encoding of the inline sourcemap is not supported'))}else{var h=this.ajax(n,{method:'get'});this.sourceCache[n]=h,h.then(t,o)}}.bind(this))},this._getSourceMapConsumer=function(t,o){return new Promise(function(i){if(this.sourceMapConsumerCache[t])i(this.sourceMapConsumerCache[t]);else{var u=new Promise(function(i,u){return this._get(t).then(function(t){'string'==typeof t&&(t=s(t.replace(/^\)\]\}'/,''))),void 0===t.sourceRoot&&(t.sourceRoot=o),i(new n.SourceMapConsumer(t))}).catch(u)}.bind(this));this.sourceMapConsumerCache[t]=u,i(u)}}.bind(this))},this.pinpoint=function(n){return new Promise(function(t,o){this.getMappedLocation(n).then(function(n){function o(){t(n)}this.findFunctionName(n).then(t,o).catch(o)}.bind(this),o)}.bind(this))},this.findFunctionName=function(n){return new Promise(function(o,i){f(n),this._get(n.fileName).then(function(i){var s=n.lineNumber,c=n.columnNumber,f=u(i,s);o(f?new t({functionName:f,args:n.args,fileName:n.fileName,lineNumber:s,columnNumber:c}):n)},i).catch(i)}.bind(this))},this.getMappedLocation=function(n){return new Promise(function(t,o){c(),f(n);var i=this.sourceCache,s=n.fileName;this._get(s).then(function(o){var u=h(o),c='data:'===u.substr(0,5),f=s.substring(0,s.lastIndexOf('/')+1);return'/'===u[0]||c||/^https?:\/\/|^\/\//i.test(u)||(u=f+u),this._getSourceMapConsumer(u,f).then(function(o){return m(n,o,i).then(t).catch(function(){t(n)})})}.bind(this),o).catch(o)}.bind(this))}}})},534,[535,532]);
__d(function(g,r,_i,a,m,e,d){function n(n){var o=n;return'string'==typeof n&&(o=JSON.parse(n.replace(/^\)\]\}'/,''))),null!=o.sections?new i(o):new t(o)}function t(n){var t=n;'string'==typeof n&&(t=JSON.parse(n.replace(/^\)\]\}'/,'')));var o=r(d[0]).getArg(t,'version'),i=r(d[0]).getArg(t,'sources'),s=r(d[0]).getArg(t,'names',[]),u=r(d[0]).getArg(t,'sourceRoot',null),l=r(d[0]).getArg(t,'sourcesContent',null),p=r(d[0]).getArg(t,'mappings'),c=r(d[0]).getArg(t,'file',null);if(o!=this._version)throw new Error('Unsupported version: '+o);i=i.map(String).map(r(d[0]).normalize).map(function(n){return u&&r(d[0]).isAbsolute(u)&&r(d[0]).isAbsolute(n)?r(d[0]).relative(u,n):n}),this._names=r(d[2]).ArraySet.fromArray(s.map(String),!0),this._sources=r(d[2]).ArraySet.fromArray(i,!0),this.sourceRoot=u,this.sourcesContent=l,this._mappings=p,this.file=c}function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function i(t){var o=t;'string'==typeof t&&(o=JSON.parse(t.replace(/^\)\]\}'/,'')));var i=r(d[0]).getArg(o,'version'),s=r(d[0]).getArg(o,'sections');if(i!=this._version)throw new Error('Unsupported version: '+i);this._sources=new(r(d[2]).ArraySet),this._names=new(r(d[2]).ArraySet);var u={line:-1,column:0};this._sections=s.map(function(t){if(t.url)throw new Error('Support for url field in sections not implemented.');var o=r(d[0]).getArg(t,'offset'),i=r(d[0]).getArg(o,'line'),s=r(d[0]).getArg(o,'column');if(i<u.line||i===u.line&&s<u.column)throw new Error('Section offsets must be ordered and non-overlapping.');return u=o,{generatedOffset:{generatedLine:i+1,generatedColumn:s+1},consumer:new n(r(d[0]).getArg(t,'map'))}})}n.fromSourceMap=function(n){return t.fromSourceMap(n)},n.prototype._version=3,n.prototype.__generatedMappings=null,Object.defineProperty(n.prototype,'_generatedMappings',{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),n.prototype.__originalMappings=null,Object.defineProperty(n.prototype,'_originalMappings',{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),n.prototype._charIsMappingSeparator=function(n,t){var o=n.charAt(t);return";"===o||","===o},n.prototype._parseMappings=function(n,t){throw new Error("Subclasses must implement _parseMappings")},n.GENERATED_ORDER=1,n.ORIGINAL_ORDER=2,n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.prototype.eachMapping=function(t,o,i){var s,u=o||null;switch(i||n.GENERATED_ORDER){case n.GENERATED_ORDER:s=this._generatedMappings;break;case n.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;s.map(function(n){var t=null===n.source?null:this._sources.at(n.source);return null!=t&&null!=l&&(t=r(d[0]).join(l,t)),{source:t,generatedLine:n.generatedLine,generatedColumn:n.generatedColumn,originalLine:n.originalLine,originalColumn:n.originalColumn,name:null===n.name?null:this._names.at(n.name)}},this).forEach(t,u)},n.prototype.allGeneratedPositionsFor=function(n){var t=r(d[0]).getArg(n,'line'),o={source:r(d[0]).getArg(n,'source'),originalLine:t,originalColumn:r(d[0]).getArg(n,'column',0)};if(null!=this.sourceRoot&&(o.source=r(d[0]).relative(this.sourceRoot,o.source)),!this._sources.has(o.source))return[];o.source=this._sources.indexOf(o.source);var i=[],s=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",r(d[0]).compareByOriginalPositions,r(d[1]).LEAST_UPPER_BOUND);if(s>=0){var u=this._originalMappings[s];if(void 0===n.column)for(var l=u.originalLine;u&&u.originalLine===l;)i.push({line:r(d[0]).getArg(u,'generatedLine',null),column:r(d[0]).getArg(u,'generatedColumn',null),lastColumn:r(d[0]).getArg(u,'lastGeneratedColumn',null)}),u=this._originalMappings[++s];else for(var p=u.originalColumn;u&&u.originalLine===t&&u.originalColumn==p;)i.push({line:r(d[0]).getArg(u,'generatedLine',null),column:r(d[0]).getArg(u,'generatedColumn',null),lastColumn:r(d[0]).getArg(u,'lastGeneratedColumn',null)}),u=this._originalMappings[++s]}return i},e.SourceMapConsumer=n,t.prototype=Object.create(n.prototype),t.prototype.consumer=n,t.fromSourceMap=function(n){var i=Object.create(t.prototype),s=i._names=r(d[2]).ArraySet.fromArray(n._names.toArray(),!0),u=i._sources=r(d[2]).ArraySet.fromArray(n._sources.toArray(),!0);i.sourceRoot=n._sourceRoot,i.sourcesContent=n._generateSourcesContent(i._sources.toArray(),i.sourceRoot),i.file=n._file;for(var l=n._mappings.toArray().slice(),p=i.__generatedMappings=[],c=i.__originalMappings=[],h=0,f=l.length;h<f;h++){var _=l[h],A=new o;A.generatedLine=_.generatedLine,A.generatedColumn=_.generatedColumn,_.source&&(A.source=u.indexOf(_.source),A.originalLine=_.originalLine,A.originalColumn=_.originalColumn,_.name&&(A.name=s.indexOf(_.name)),c.push(A)),p.push(A)}return r(d[3]).quickSort(i.__originalMappings,r(d[0]).compareByOriginalPositions),i},t.prototype._version=3,Object.defineProperty(t.prototype,'sources',{get:function(){return this._sources.toArray().map(function(n){return null!=this.sourceRoot?r(d[0]).join(this.sourceRoot,n):n},this)}}),t.prototype._parseMappings=function(n,t){for(var i,s,u,l,p,c=1,h=0,f=0,_=0,A=0,C=0,y=n.length,v=0,L={},M={},O=[],R=[];v<y;)if(';'===n.charAt(v))c++,v++,h=0;else if(','===n.charAt(v))v++;else{for((i=new o).generatedLine=c,l=v;l<y&&!this._charIsMappingSeparator(n,l);l++);if(u=L[s=n.slice(v,l)])v+=s.length;else{for(u=[];v<l;)r(d[4]).decode(n,v,M),p=M.value,v=M.rest,u.push(p);if(2===u.length)throw new Error('Found a source, but no line and column');if(3===u.length)throw new Error('Found a source and line, but no column');L[s]=u}i.generatedColumn=h+u[0],h=i.generatedColumn,u.length>1&&(i.source=A+u[1],A+=u[1],i.originalLine=f+u[2],f=i.originalLine,i.originalLine+=1,i.originalColumn=_+u[3],_=i.originalColumn,u.length>4&&(i.name=C+u[4],C+=u[4])),R.push(i),'number'==typeof i.originalLine&&O.push(i)}r(d[3]).quickSort(R,r(d[0]).compareByGeneratedPositionsDeflated),this.__generatedMappings=R,r(d[3]).quickSort(O,r(d[0]).compareByOriginalPositions),this.__originalMappings=O},t.prototype._findMapping=function(n,t,o,i,s,u){if(n[o]<=0)throw new TypeError('Line must be greater than or equal to 1, got '+n[o]);if(n[i]<0)throw new TypeError('Column must be greater than or equal to 0, got '+n[i]);return r(d[1]).search(n,t,s,u)},t.prototype.computeColumnSpans=function(){for(var n=0;n<this._generatedMappings.length;++n){var t=this._generatedMappings[n];if(n+1<this._generatedMappings.length){var o=this._generatedMappings[n+1];if(t.generatedLine===o.generatedLine){t.lastGeneratedColumn=o.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},t.prototype.originalPositionFor=function(t){var o={generatedLine:r(d[0]).getArg(t,'line'),generatedColumn:r(d[0]).getArg(t,'column')},i=this._findMapping(o,this._generatedMappings,"generatedLine","generatedColumn",r(d[0]).compareByGeneratedPositionsDeflated,r(d[0]).getArg(t,'bias',n.GREATEST_LOWER_BOUND));if(i>=0){var s=this._generatedMappings[i];if(s.generatedLine===o.generatedLine){var u=r(d[0]).getArg(s,'source',null);null!==u&&(u=this._sources.at(u),null!=this.sourceRoot&&(u=r(d[0]).join(this.sourceRoot,u)));var l=r(d[0]).getArg(s,'name',null);return null!==l&&(l=this._names.at(l)),{source:u,line:r(d[0]).getArg(s,'originalLine',null),column:r(d[0]).getArg(s,'originalColumn',null),name:l}}}return{source:null,line:null,column:null,name:null}},t.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(n){return null==n}))},t.prototype.sourceContentFor=function(n,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(n=r(d[0]).relative(this.sourceRoot,n)),this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];var o;if(null!=this.sourceRoot&&(o=r(d[0]).urlParse(this.sourceRoot))){var i=n.replace(/^file:\/\//,"");if("file"==o.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!o.path||"/"==o.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(t)return null;throw new Error('"'+n+'" is not in the SourceMap.')},t.prototype.generatedPositionFor=function(t){var o=r(d[0]).getArg(t,'source');if(null!=this.sourceRoot&&(o=r(d[0]).relative(this.sourceRoot,o)),!this._sources.has(o))return{line:null,column:null,lastColumn:null};var i={source:o=this._sources.indexOf(o),originalLine:r(d[0]).getArg(t,'line'),originalColumn:r(d[0]).getArg(t,'column')},s=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",r(d[0]).compareByOriginalPositions,r(d[0]).getArg(t,'bias',n.GREATEST_LOWER_BOUND));if(s>=0){var u=this._originalMappings[s];if(u.source===i.source)return{line:r(d[0]).getArg(u,'generatedLine',null),column:r(d[0]).getArg(u,'generatedColumn',null),lastColumn:r(d[0]).getArg(u,'lastGeneratedColumn',null)}}return{line:null,column:null,lastColumn:null}},e.BasicSourceMapConsumer=t,i.prototype=Object.create(n.prototype),i.prototype.constructor=n,i.prototype._version=3,Object.defineProperty(i.prototype,'sources',{get:function(){for(var n=[],t=0;t<this._sections.length;t++)for(var o=0;o<this._sections[t].consumer.sources.length;o++)n.push(this._sections[t].consumer.sources[o]);return n}}),i.prototype.originalPositionFor=function(n){var t={generatedLine:r(d[0]).getArg(n,'line'),generatedColumn:r(d[0]).getArg(n,'column')},o=r(d[1]).search(t,this._sections,function(n,t){var o=n.generatedLine-t.generatedOffset.generatedLine;return o||n.generatedColumn-t.generatedOffset.generatedColumn}),i=this._sections[o];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:n.bias}):{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(n){return n.consumer.hasContentsOfAllSources()})},i.prototype.sourceContentFor=function(n,t){for(var o=0;o<this._sections.length;o++){var i=this._sections[o].consumer.sourceContentFor(n,!0);if(i)return i}if(t)return null;throw new Error('"'+n+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(n){for(var t=0;t<this._sections.length;t++){var o=this._sections[t];if(-1!==o.consumer.sources.indexOf(r(d[0]).getArg(n,'source'))){var i=o.consumer.generatedPositionFor(n);if(i)return{line:i.line+(o.generatedOffset.generatedLine-1),column:i.column+(o.generatedOffset.generatedLine===i.line?o.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},i.prototype._parseMappings=function(n,t){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var i=this._sections[o],s=i.consumer._generatedMappings,u=0;u<s.length;u++){var l=s[u],p=i.consumer._sources.at(l.source);null!==i.consumer.sourceRoot&&(p=r(d[0]).join(i.consumer.sourceRoot,p)),this._sources.add(p),p=this._sources.indexOf(p);var c=i.consumer._names.at(l.name);this._names.add(c),c=this._names.indexOf(c);var h={source:p,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:c};this.__generatedMappings.push(h),'number'==typeof h.originalLine&&this.__originalMappings.push(h)}r(d[3]).quickSort(this.__generatedMappings,r(d[0]).compareByGeneratedPositionsDeflated),r(d[3]).quickSort(this.__originalMappings,r(d[0]).compareByOriginalPositions)},e.IndexedSourceMapConsumer=i},535,[536,537,538,539,540]);
__d(function(g,r,_i,a,m,e,d){e.getArg=function(n,t,i){if(t in n)return n[t];if(3===arguments.length)return i;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,t=/^data:.+\,.+$/;function i(t){var i=t.match(n);return i?{scheme:i[1],auth:i[2],host:i[3],port:i[4],path:i[5]}:null}function o(n){var t='';return n.scheme&&(t+=n.scheme+':'),t+='//',n.auth&&(t+=n.auth+'@'),n.host&&(t+=n.host),n.port&&(t+=":"+n.port),n.path&&(t+=n.path),t}function u(n){var t=n,u=i(n);if(u){if(!u.path)return n;t=u.path}for(var c,l=e.isAbsolute(t),h=t.split(/\/+/),s=0,f=h.length-1;f>=0;f--)'.'===(c=h[f])?h.splice(f,1):'..'===c?s++:s>0&&(''===c?(h.splice(f+1,s),s=0):(h.splice(f,2),s--));return''===(t=h.join('/'))&&(t=l?'/':'.'),u?(u.path=t,o(u)):t}e.urlParse=i,e.urlGenerate=o,e.normalize=u,e.join=function(n,c){""===n&&(n="."),""===c&&(c=".");var l=i(c),h=i(n);if(h&&(n=h.path||'/'),l&&!l.scheme)return h&&(l.scheme=h.scheme),o(l);if(l||c.match(t))return c;if(h&&!h.host&&!h.path)return h.host=c,o(h);var s='/'===c.charAt(0)?c:u(n.replace(/\/+$/,'')+'/'+c);return h?(h.path=s,o(h)):s},e.isAbsolute=function(t){return'/'===t.charAt(0)||!!t.match(n)},e.relative=function(n,t){""===n&&(n="."),n=n.replace(/\/$/,'');for(var i=0;0!==t.indexOf(n+'/');){var o=n.lastIndexOf("/");if(o<0)return t;if((n=n.slice(0,o)).match(/^([^\/]+:\/)?\/*$/))return t;++i}return Array(i+1).join("../")+t.substr(n.length+1)};var c=!('__proto__'in Object.create(null));function l(n){return n}function h(n){if(!n)return!1;var t=n.length;if(t<9)return!1;if(95!==n.charCodeAt(t-1)||95!==n.charCodeAt(t-2)||111!==n.charCodeAt(t-3)||116!==n.charCodeAt(t-4)||111!==n.charCodeAt(t-5)||114!==n.charCodeAt(t-6)||112!==n.charCodeAt(t-7)||95!==n.charCodeAt(t-8)||95!==n.charCodeAt(t-9))return!1;for(var i=t-10;i>=0;i--)if(36!==n.charCodeAt(i))return!1;return!0}function s(n,t){return n===t?0:n>t?1:-1}e.toSetString=c?l:function(n){return h(n)?'$'+n:n},e.fromSetString=c?l:function(n){return h(n)?n.slice(1):n},e.compareByOriginalPositions=function(n,t,i){var o=n.source-t.source;return 0!==o||0!==(o=n.originalLine-t.originalLine)||0!==(o=n.originalColumn-t.originalColumn)||i||0!==(o=n.generatedColumn-t.generatedColumn)||0!==(o=n.generatedLine-t.generatedLine)?o:n.name-t.name},e.compareByGeneratedPositionsDeflated=function(n,t,i){var o=n.generatedLine-t.generatedLine;return 0!==o||0!==(o=n.generatedColumn-t.generatedColumn)||i||0!==(o=n.source-t.source)||0!==(o=n.originalLine-t.originalLine)||0!==(o=n.originalColumn-t.originalColumn)?o:n.name-t.name},e.compareByGeneratedPositionsInflated=function(n,t){var i=n.generatedLine-t.generatedLine;return 0!==i||0!==(i=n.generatedColumn-t.generatedColumn)||0!==(i=s(n.source,t.source))||0!==(i=n.originalLine-t.originalLine)||0!==(i=n.originalColumn-t.originalColumn)?i:s(n.name,t.name)}},536,[]);
__d(function(g,r,i,a,m,e,d){function n(E,_,t,U,f,u){var O=Math.floor((_-E)/2)+E,R=f(t,U[O],!0);return 0===R?O:R>0?_-O>1?n(O,_,t,U,f,u):u==e.LEAST_UPPER_BOUND?_<U.length?_:-1:O:O-E>1?n(E,O,t,U,f,u):u==e.LEAST_UPPER_BOUND?O:E<0?-1:E}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(E,_,t,U){if(0===_.length)return-1;var f=n(-1,_.length,E,_,t,U||e.GREATEST_LOWER_BOUND);if(f<0)return-1;for(;f-1>=0&&0===t(_[f],_[f-1],!0);)--f;return f}},537,[]);
__d(function(g,r,_i,a,m,e,d){var t=Object.prototype.hasOwnProperty;function n(){this._array=[],this._set=Object.create(null)}n.fromArray=function(t,o){for(var i=new n,s=0,h=t.length;s<h;s++)i.add(t[s],o);return i},n.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(n,o){var i=r(d[0]).toSetString(n),s=t.call(this._set,i),h=this._array.length;s&&!o||this._array.push(n),s||(this._set[i]=h)},n.prototype.has=function(n){var o=r(d[0]).toSetString(n);return t.call(this._set,o)},n.prototype.indexOf=function(n){var o=r(d[0]).toSetString(n);if(t.call(this._set,o))return this._set[o];throw new Error('"'+n+'" is not in the set.')},n.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error('No element indexed by '+t)},n.prototype.toArray=function(){return this._array.slice()},e.ArraySet=n},538,[536]);
__d(function(g,_r,_i,a,m,e,d){function n(n,r,o){var t=n[r];n[r]=n[o],n[o]=t}function r(o,t,f,i){if(f<i){var u=f-1;n(o,(M=f,_=i,Math.round(M+Math.random()*(_-M))),i);for(var c=o[i],v=f;v<i;v++)t(o[v],c)<=0&&n(o,u+=1,v);n(o,u+1,v);var h=u+1;r(o,t,f,h-1),r(o,t,h+1,i)}var M,_}e.quickSort=function(n,o){r(n,o,0,n.length-1)}},539,[]);
__d(function(g,r,i,a,m,e,d){function n(n){return n<0?1+(-n<<1):0+(n<<1)}e.encode=function(o){var t,c="",u=n(o);do{t=31&u,(u>>>=5)>0&&(t|=32),c+=r(d[0]).encode(t)}while(u>0);return c},e.decode=function(n,o,t){var c,u,h,f,l=n.length,w=0,v=0;do{if(o>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(u=r(d[0]).decode(n.charCodeAt(o++))))throw new Error("Invalid base64 digit: "+n.charAt(o-1));c=!!(32&u),w+=(u&=31)<<v,v+=5}while(c);t.value=(f=(h=w)>>1,1&~h?f:-f),t.rest=o}},540,[541]);
__d(function(g,r,i,a,m,e,d){var n='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');e.encode=function(t){if(0<=t&&t<n.length)return n[t];throw new TypeError("Must be between 0 and 63: "+t)},e.decode=function(n){return 65<=n&&n<=90?n-65:97<=n&&n<=122?n-97+26:48<=n&&n<=57?n-48+52:43==n?62:47==n?63:-1}},541,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.filterStacktrace=l,e.formatStacktrace=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(n)return l(t).map(function(t){return`\tat ${t.functionName} (${t.fileName}:${t.lineNumber})`}).join("\n");return t.map(function(t){return`\tat ${t.functionName}`}).join("\n")},e.startMobxDebugging=function(){var n=r(d[1]).device.isImplements(r(d[1]).Feature.LOCAL_STORAGE)?r(d[1]).device.localStorage.getItem("mobxDebug"):"";if("true"===n||"flat"===n){var o="flat"!==n,l=r(d[1]).device.globals.get("mobxSpyDisposer");"function"==typeof l&&l();var s=(0,r(d[2]).spy)(function(n){var l,s,u=n.type,f=null!==(l=n.name)&&void 0!==l?l:"";switch(u){case"action":"object"==typeof n.object&&(f=`${n.object.constructor.name}.${f}`);break;case"add":case"delete":case"create":case"remove":case"splice":case"update":f=null!==(s=null==n.name?n.debugObjectName:`${n.debugObjectName}.${n.name}`)&&void 0!==s?s:""}f.startsWith("event:")&&(u=`event ${u}`,f=f.slice(6)),n.observableKind&&(f=`${n.observableKind} ${f}`);var b=Object.entries(n).filter(function(n){var o=t(n,2),l=o[0];o[1];return!c.includes(l)});if(n.spyReportStart)o?(console.groupCollapsed(u,f),console.groupCollapsed("stacktrace"),console.trace(),console.groupEnd()):console.log(`%c${n.type}`,"font-weight: bold",f,Object.fromEntries(b));else{if("report-end"===n.type)return void(o&&console.groupEnd());console.log(`%c${n.type}`,"font-weight: bold",f)}o&&b.length>0&&console.log(Object.fromEntries(b))});r(d[1]).device.globals.set("mobxSpyDisposer",s)}};var n=/.*(bootstrap.*|node_modules.*|disposable\.ts)$/;function o(t){for(var n,o=t.split("/"),l=null;"src"!==l&&o.length>1;)l=null!==(n=o.shift())&&void 0!==n?n:null;return"src"===l&&o.unshift(l),`/${o.join("/")}`}function l(t){return t.filter(function(t){var o;return!n.test(null!==(o=t.fileName)&&void 0!==o?o:"")}).map(function(t){var n;return Object.assign({},t,{fileName:o(null!==(n=t.fileName)&&void 0!==n?n:"<unknown>")})})}var c=["name","type","spyReportStart","debugObjectName","observableKind"]},542,[38,502,526]);
__d(function(g,_r,i,a,m,_e2,d){"use strict";var r,e,t=_r(d[0]),n=_r(d[1]),o=_r(d[2]),s=_r(d[3]),u=_r(d[4]),c=_r(d[5]),v=_r(d[6]),E=_r(d[7]),l=_r(d[8]),f=_r(d[9]),h=["inner","critical"];function C(r,e,n,o){var s=t(E(1&o?r.prototype:r),e,n);return 2&o&&"function"==typeof s?function(r){return s.apply(n,r)}:s}function S(r,e,t){return e=E(e),v(r,p()?Reflect.construct(e,t||[],E(r).constructor):e.apply(r,t))}function p(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(p=function(){return!!r})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.LayerNotFoundError=_e2.HlsjsNotLoadedError=_e2.InvalidBitrateError=_e2.UserRequiredError=_e2.UnrecognizedDriverError=_e2.UnknownError=_e2.UnknownDriverError=_e2.PlaybackError=_e2.NoDriversError=_e2.WSNetworkError=_e2.InvalidElementError=_e2.InvalidPopoutURLError=_e2.InvalidMediaURLError=_e2.InvalidControlsError=_e2.ManifestNotFoundError=_e2.ManifestInternalError=_e2.ManifestForbiddenError=_e2.ManifestUnauthorizedError=_e2.ManifestUnexpectedResponseError=_e2.GetUserMediaFailedError=_e2.EmbedSWFFailedError=_e2.ElementRequiredError=_e2.DriverNotSupportedError=_e2.ManifestBadInputError=_e2.ManifestError=_e2.DisableAudioError=_e2.DisableVideoError=_e2.EnableAudioError=_e2.EnableVideoError=_e2.StreamNotFoundError=_e2.StreamExistsError=_e2.UpdateBroadcastError=_e2.StartBroadcastError=_e2.BroadcastError=_e2.JoinCallError=_e2.CallError=_e2.TrackEndedError=_e2.CapturableStreamError=_e2.DeviceNotFoundError=_e2.ConstraintsError=_e2.NetworkError=_e2.PermissionsError=_e2.InternalCallError=_e2.ValidationError=_e2.NotSupportedError=_e2.NotInitializedError=_e2.InternalError=_e2.NativeError=_e2.VideoClientErrorDeprecated=_e2.ErrorCode=void 0,_e2.HandleHlsJsError=_e2.Mp4BufferError=_e2.ChangeMSCDeviceError=_e2.UpdateMSCError=_e2.MediaRecorderError=_e2.TransportStateError=_e2.MediaError=_e2.MediasoupSetupError=_e2.WSRequestError=_e2.SFUProducerResumedEventError=_e2.SFUProducerPausedEventError=_e2.SFUProducerClosedEventError=_e2.SFUConsumerLayersChangedEventError=_e2.SFUConsumerScoreEventError=_e2.SFUConsumerResumedEventError=_e2.SFUConsumerPausedEventError=_e2.SFUConsumerClosedEventError=_e2.SFUSwitchConsumerTrackEventError=_e2.SFUPeerClosedEventError=_e2.SFUNewConsumerEventError=_e2.SFUConsumerSourcesEventError=_e2.SFUNewPeersEventError=_e2.RetrievingMediaStreamError=_e2.DisposedObjectError=_e2.MeowDriverError=_e2.PlayingIssueError=_e2.ConsumerNotFoundError=void 0,_e2.wrapNativeError=function(r){if(r instanceof Error)return new M(r.message,{native:r});return new M(String(r),{})},Object.defineProperty(_e2,"ErrorCode",{enumerable:!0,get:function(){return _r(d[10]).ErrorCode}});var U=new Set(["toJSON","ppStack","stack","detailed","handled","inner","aggregates"]);function F(r){var e;return null==r?null:"toJSON"in r&&"function"==typeof r.toJSON?r:{err:null!==(e=r.name)&&void 0!==e?e:r.constructor.name,message:r.message,stack:r.stack}}var b="Video Client Error: ";function k(r){return null==r||"object"!=typeof r||"string"!=typeof r.message?"":`${null==r.code?"; ":`; [${String(r.code)} `}${r.message}${k(r.inner)}`}var y=(function(t){function v(t,n){var c;u(this,v),(c=S(this,v)).inner=null,r.set(c,void 0),e.set(c,null),c.handled=!1,_r(d[11]).__classPrivateFieldSet(c,r,t,"f");var E=n.inner,l=n.critical,f=s(n,h);for(var C of(c.inner=E,c.critical=null!=l?l:E instanceof v&&E.critical,Object.entries(f))){var p=o(C,2),U=p[0],F=p[1];c[U]=F}return c}return l(v,t),c(v,[{key:"message",get:function(){var e,t=null===(e=this.inner)||void 0===e?void 0:e.message;return null!=t?(t.startsWith(b)&&(t=t.slice(20)),`${b}[${this.code}] ${_r(d[11]).__classPrivateFieldGet(this,r,"f")}; ${t}`):Reflect.has(this,"err")?`${b}[${this.code}] ${_r(d[11]).__classPrivateFieldGet(this,r,"f")}${k(Reflect.get(this,"err"))}`:`${b}[${this.code}] ${_r(d[11]).__classPrivateFieldGet(this,r,"f")}`}},{key:"toJSON",value:function(){var r,t,n={message:this.message,stack:null!==(t=null!==(r=_r(d[11]).__classPrivateFieldGet(this,e,"f"))&&void 0!==r?r:this.stack)&&void 0!==t?t:null,inner:F(this.inner),aggregates:this.aggregates()};for(var o of Object.keys(this))U.has(o)||(n[o.toString()]=this[o]);return n}},{key:"aggregates",value:function(){var r,e;return this.inner instanceof v?Object.assign({},this.inner.aggregates(),{errCode:this.code,errCritical:null!==(r=this.critical)&&void 0!==r&&r,errHandled:this.handled}):{errCode:this.code,errCritical:null!==(e=this.critical)&&void 0!==e&&e,errHandled:this.handled}}}],[{key:"loadPrettyPrintStacktrace",value:(E=n(function*(r){return Promise.resolve()}),function(r){return E.apply(this,arguments)})},{key:"log",value:function(r,e){v.loadPrettyPrintStacktrace(r).finally(function(){e.error(r.message,{err:r})})}}]);var E})(f(Error));_e2.VideoClientErrorDeprecated=y,r=new WeakMap,e=new WeakMap;var M=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.NativeError,r}return l(e,r),c(e)})(y);_e2.NativeError=M;var N=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.InternalError,r}return l(e,r),c(e)})(y);_e2.InternalError=N;var D=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.NotInitialized,r}return l(e,r),c(e)})(y);_e2.NotInitializedError=D;var P=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.NotSupported,r}return l(e,r),c(e)})(y);_e2.NotSupportedError=P;var I=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ValidationError,r}return l(e,r),c(e)})(y);_e2.ValidationError=I;var O=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.InternalCallError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.internalCall))}}])})(y);_e2.InternalCallError=O;var j=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.Permission,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.stream))}}])})(y);_e2.PermissionsError=j;var A=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.NetworkError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){var r;return Object.assign({},C(e,"aggregates",this,3)([]),{errStatus:null!==(r=this.status)&&void 0!==r?r:0})}}])})(y);_e2.NetworkError=A;var R=(function(r){function e(r,t){var n;u(this,e),(n=S(this,e,[r,t])).code=_r(d[10]).ErrorCode.Constraints;var o=t.inner;return n.failedConstraint=null!=o&&(0,_r(d[13]).isOverconstrainedError)(o)?o.constraint:"NA",n}return l(e,r),c(e)})(y);_e2.ConstraintsError=R;var w=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.DeviceNotFound,r}return l(e,r),c(e)})(y);_e2.DeviceNotFoundError=w;var x=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.CapturableStreamError,r}return l(e,r),c(e)})(y);_e2.CapturableStreamError=x;var L=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.TrackEnded,r}return l(e,r),c(e)})(y);_e2.TrackEndedError=L;var V=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.CallError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),{reason:this.reason})}}])})(y);_e2.CallError=V;var B=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.JoinCallError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.call))}}])})(y);_e2.JoinCallError=B;var $=(function(r){function e(){return u(this,e),S(this,e,arguments)}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.broadcast))}}])})(y);_e2.BroadcastError=$;var _=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.StartBroadcastError,r}return l(e,r),c(e)})($);_e2.StartBroadcastError=_;var W=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.UpdateBroadcastError,r}return l(e,r),c(e)})($);_e2.UpdateBroadcastError=W;var H=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.StreamExists,r}return l(e,r),c(e)})($);_e2.StreamExistsError=H;var J=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.StreamNotFound,r}return l(e,r),c(e)})($);_e2.StreamNotFoundError=J;var q=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.EnableVideoError,r}return l(e,r),c(e)})($);_e2.EnableVideoError=q;var z=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.EnableAudioError,r}return l(e,r),c(e)})($);_e2.EnableAudioError=z;var T=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.DisableVideoError,r}return l(e,r),c(e)})($);_e2.DisableVideoError=T;var G=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.DisableAudioError,r}return l(e,r),c(e)})($);_e2.DisableAudioError=G;var K=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ManifestError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.loader))}}])})(y);_e2.ManifestError=K;var Q=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.BadInput,r}return l(e,r),c(e)})(y);_e2.ManifestBadInputError=Q;var X=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.DriverNotSupported,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.loader))}}])})(y);_e2.DriverNotSupportedError=X;var Y=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ElementRequired,r}return l(e,r),c(e)})(y);_e2.ElementRequiredError=Y;var Z=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.EmbedSWFFailed,r}return l(e,r),c(e)})(y);_e2.EmbedSWFFailedError=Z;var rr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.GetUserMediaFailed,r}return l(e,r),c(e)})(y);_e2.GetUserMediaFailedError=rr;var er=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ManifestUnexpectedResponse,r}return l(e,r),c(e)})(y);_e2.ManifestUnexpectedResponseError=er;var tr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ManifestUnauthorized,r}return l(e,r),c(e)})(y);_e2.ManifestUnauthorizedError=tr;var nr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ManifestForbidden,r}return l(e,r),c(e)})(y);_e2.ManifestForbiddenError=nr;var or=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ManifestInternalError,r}return l(e,r),c(e)})(y);_e2.ManifestInternalError=or;var ir=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ManifestNotFound,r}return l(e,r),c(e)})(y);_e2.ManifestNotFoundError=ir;var ar=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.InvalidControls,r}return l(e,r),c(e)})(y);_e2.InvalidControlsError=ar;var sr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.InvalidMediaURL,r}return l(e,r),c(e)})(y);_e2.InvalidMediaURLError=sr;var ur=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.InvalidPopoutURL,r}return l(e,r),c(e)})(y);_e2.InvalidPopoutURLError=ur;var cr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.InvalidElement,r}return l(e,r),c(e)})(y);_e2.InvalidElementError=cr;var dr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.WSNetworkError,r}return l(e,r),c(e)})(y);_e2.WSNetworkError=dr;var vr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.NoDrivers,r}return l(e,r),c(e)})(y);_e2.NoDriversError=vr;var Er=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.PlaybackError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.loader))}}])})(y);_e2.PlaybackError=Er;var gr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.UnknownDriver,r}return l(e,r),c(e)})(y);_e2.UnknownDriverError=gr;var lr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.UnknownError,r}return l(e,r),c(e)})(y);_e2.UnknownError=lr;var fr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.UnrecognizedDriver,r}return l(e,r),c(e)})(y);_e2.UnrecognizedDriverError=fr;var hr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.UserRequired,r}return l(e,r),c(e)})(y);_e2.UserRequiredError=hr;var Cr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.InvalidBitrate,r}return l(e,r),c(e)})(y);_e2.InvalidBitrateError=Cr;var Sr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.HlsjsNotLoaded,r}return l(e,r),c(e)})(y);_e2.HlsjsNotLoadedError=Sr;var pr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.LayerNotFound,r}return l(e,r),c(e)})(y);_e2.LayerNotFoundError=pr;var mr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.ConsumerNotFound,r}return l(e,r),c(e)})(y);_e2.ConsumerNotFoundError=mr;var Ur=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.PlayingIssue,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.player))}}])})(y);_e2.PlayingIssueError=Ur;var Fr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.MeowDriverError,r}return l(e,r),c(e)})(y);_e2.MeowDriverError=Fr;var br=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.DisposedObject,r}return l(e,r),c(e)})(y);_e2.DisposedObjectError=br;var kr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.RetrievingMediaStreamError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),{streamName:this.streamName,mediaKind:this.mediaKind})}}])})(y);_e2.RetrievingMediaStreamError=kr;var yr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUNewPeersEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUNewPeersEventError=yr;var Mr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUConsumerSourcesEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUConsumerSourcesEventError=Mr;var Nr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUNewConsumerEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUNewConsumerEventError=Nr;var Dr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUPeerClosedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUPeerClosedEventError=Dr;var Pr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUSwitchConsumerTrackEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUSwitchConsumerTrackEventError=Pr;var Ir=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUConsumerClosedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUConsumerClosedEventError=Ir;var Or=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUConsumerPausedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUConsumerPausedEventError=Or;var jr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUConsumerResumedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUConsumerResumedEventError=jr;var Ar=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUConsumerScoreEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUConsumerScoreEventError=Ar;var Rr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUConsumerLayersChangedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUConsumerLayersChangedEventError=Rr;var wr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUProducerClosedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUProducerClosedEventError=wr;var xr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUProducerPausedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUProducerPausedEventError=xr;var Lr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.SFUProducerResumedEvent,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.peer))}}])})(y);_e2.SFUProducerResumedEventError=Lr;var Vr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.WSRequestError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.internalCall))}}])})(y);_e2.WSRequestError=Vr;var Br=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.MediasoupSetupError,r}return l(e,r),c(e)})(y);_e2.MediasoupSetupError=Br;var $r=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.MediaError,r}return l(e,r),c(e)})(y);_e2.MediaError=$r;var Wr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.TransportStateError,r}return l(e,r),c(e)})(y);_e2.TransportStateError=Wr;var Hr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.MediaRecorderError,r}return l(e,r),c(e)})(y);_e2.MediaRecorderError=Hr;var Jr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.UpdateMSCError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.msc))}}])})(y);_e2.UpdateMSCError=Jr;var qr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.UpdateMSCError,r}return l(e,r),c(e,[{key:"aggregates",value:function(){var r,t,n,o,s,u,c,v;return Object.assign({},C(e,"aggregates",this,3)([]),(0,_r(d[12]).extractAggregates)(this.msc),{prevVideoDeviceId:null!==(r=this.prevVideoDeviceId)&&void 0!==r?r:"",prevVideoDeviceLabel:null!==(t=this.prevVideoDeviceLabel)&&void 0!==t?t:"",failedVideoDeviceId:null!==(n=this.failedVideoDeviceId)&&void 0!==n?n:"",failedVideoDeviceLabel:null!==(o=this.failedVideoDeviceLabel)&&void 0!==o?o:"",prevAudioDeviceId:null!==(s=this.prevAudioDeviceId)&&void 0!==s?s:"",prevAudioDeviceLabel:null!==(u=this.prevAudioDeviceLabel)&&void 0!==u?u:"",failedAudioDeviceId:null!==(c=this.failedAudioDeviceId)&&void 0!==c?c:"",failedAudioDeviceLabel:null!==(v=this.failedAudioDeviceLabel)&&void 0!==v?v:""})}}])})(y);_e2.ChangeMSCDeviceError=qr;var zr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.Mp4BufferError,r}return l(e,r),c(e)})(y);_e2.Mp4BufferError=zr;var Tr=(function(r){function e(){var r;return u(this,e),(r=S(this,e,arguments)).code=_r(d[10]).ErrorCode.HandleHlsJsError,r}return l(e,r),c(e)})(y);_e2.HandleHlsJsError=Tr},543,[26,345,38,135,12,13,23,25,28,85,485,487,544,547]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},544,[545]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PackageMetaKeys=e.LEVELS=e.isSerializableObject=e.isPlainRecord=e.GlobalMetaKeys=e.extractAggregates=void 0,Object.defineProperty(e,"extractAggregates",{enumerable:!0,get:function(){return r(d[0]).extractAggregates}}),Object.defineProperty(e,"GlobalMetaKeys",{enumerable:!0,get:function(){return r(d[0]).GlobalMetaKeys}}),Object.defineProperty(e,"isPlainRecord",{enumerable:!0,get:function(){return r(d[0]).isPlainRecord}}),Object.defineProperty(e,"isSerializableObject",{enumerable:!0,get:function(){return r(d[0]).isSerializableObject}}),Object.defineProperty(e,"LEVELS",{enumerable:!0,get:function(){return r(d[0]).LEVELS}}),Object.defineProperty(e,"PackageMetaKeys",{enumerable:!0,get:function(){return r(d[0]).PackageMetaKeys}})},545,[546]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)&&"toJSON"in t&&"function"==typeof t.toJSON}function n(n){return null!=n&&"object"==typeof n&&!Array.isArray(n)&&!t(n)&&!Object.values(n).some(function(t){return null!=t&&!["number","string","boolean"].includes(typeof t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.extractAggregates=e.isPlainRecord=e.isSerializableObject=e.PackageMetaKeys=e.GlobalMetaKeys=e.LEVELS=void 0,e.LEVELS=["trace","debug","network","timing","local","info","warn","notice","deprecated","error","fatal"],e.GlobalMetaKeys=["source","logId","userAgent","referrer","loggerVer"],e.PackageMetaKeys=["package","component","service","release","chain","client","contextId","instanceId","commitHash"],e.isSerializableObject=t,e.isPlainRecord=n,e.extractAggregates=function(o){if(!t(o))return{};var c=o.toJSON();if(null==c||"object"!=typeof c||Array.isArray(c)||t(c))return{};var l=c.aggregates;if(!n(l))return{};for(var s=arguments.length,u=new Array(s>1?s-1:0),f=1;f<s;f++)u[f-1]=arguments[f];for(var y of u)delete l[y];return l}},546,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isErrorLike=function(n){if(null==n||"object"!=typeof n)return!1;return void 0!==n.message&&void 0!==n.name},e.isOverconstrainedError=function(n){return void 0!==n.constraint&&void 0!==n.name&&void 0!==n.message}},547,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasVcContext=function(t){var o=t;if("object"!=typeof o||!("ctx"in o))return!1;var c=o.ctx;return"object"==typeof c&&"object"==typeof c.logger&&"object"==typeof c.support&&"object"==typeof c.videoClient}},548,[]);
__d(function(g,r,i,a,m,e,_d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disposeObjects=function(s,o,t){var c,n=s.constructor,l=null!==(c=null==n?void 0:n.displayName)&&void 0!==c?c:n.name;if(s.isDisposed)return;(0,r(_d[0]).hasVcContext)(s)&&(s.ctx.logger.trace(`dispose() ${t}`,{aggregates:{reason:t}}),(0,r(_d[1]).cancel)(s.ctx,`${l} disposed: ${t}`));o.forEach(function(o){try{o(`${l} inner disposer: ${t}`)}catch(o){(0,r(_d[0]).hasVcContext)(s)&&s.ctx.logger.error("error in dispose logic",{object:(0,r(_d[2]).isSerializableObject)(s)?s:`${s}`,className:l,err:`${o}`,reason:t})}}),o.splice(0,o.length)}},549,[548,550,544]);
__d(function(g,_r,i,a,m,e,d){"use strict";var n=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NullContext=e.cancelFuncKey=e.cancelPromiseKey=e.canceledKey=e.childrenKey=e.idKey=void 0,e.context=function(l){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.NullContext,t=o===e.NullContext?{}:o,r=Object.assign({},t,l,n(n(n(n({},e.idKey,c++),e.childrenKey,[]),e.canceledKey,!1),e.cancelFuncKey,function(){}));r[e.cancelPromiseKey]=new Promise(function(n){r[e.cancelFuncKey]=n}).then(function(n){return r[e.canceledKey]=!0,n}),null!=t[e.childrenKey]&&(t[e.childrenKey].push(r),t[e.canceledKey]&&r[e.cancelFuncKey]("parent context is canceled"));return r},e.walk=l,e.cancel=function(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"not specified";if(n[e.canceledKey])return;var o=l(n,[],!0),t=function(n){_r(d[1]).device.setTimeout(function(){n[e.cancelFuncKey](c),n[e.canceledKey]=!0},0)};for(var r of o)t(r)},e.onceCanceled=function(n){return n[e.cancelPromiseKey]},e.idKey=Symbol("id"),e.childrenKey=Symbol("children"),e.canceledKey=Symbol("canceled"),e.cancelPromiseKey=Symbol("cancelPromise"),e.cancelFuncKey=Symbol("cancelFunc");var c=1;function l(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var t of n[e.childrenKey])l(t,c,o);return o&&n[e.childrenKey].splice(0,n[e.childrenKey].length),c.push(n),c}e.NullContext=n(n(n(n(n({},e.idKey,0),e.childrenKey,[]),e.canceledKey,!1),e.cancelPromiseKey,Promise.resolve("null context")),e.cancelFuncKey,function(){})},550,[194,502]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSafari=function(n){return"Safari"===n.browserInfo.browserName},e.isAndroidDevice=function(n){var t=!1;null!=n.userAgent&&(t=/Android/.test(n.userAgent));return t},e.isIosDevice=function(n){if(null!=n.platform)return!("macOS"!==n.platform&&"MacIntel"!==n.platform||!n.isImplements(r(d[3]).Feature.MULTI_TOUCH))||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod","iOS"].includes(n.platform);return!1},e.isMobileDevice=function(t){if(t.isImplements(r(d[3]).Feature.USER_AGENT_DATA)&&null!=t.userAgentData)return t.userAgentData.mobile;if(t.isImplements(r(d[3]).Feature.MULTI_TOUCH))return!0;if(null!=t.userAgent){var o=n.default.getParser(t.userAgent).getPlatform().type;if(null!=o)return"mobile"===o;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.userAgent))return!0}return!1},e.isFirefox=function(n){return"Firefox"===n.browserInfo.browserName},e.isChrome=function(n){var t,o;if(n.isImplements(r(d[3]).Feature.USER_AGENT_DATA)&&null!=(null===(t=n.userAgentData)||void 0===t?void 0:t.brands)){return null===(o=n.userAgentData)||void 0===o?void 0:o.brands.some(function(n){return["Google Chrome"].includes(n.brand)})}if(null!=n.browserInfo.browserName)return"Chrome"===n.browserInfo.browserName;return!1},e.supportsModernChrome=function(n){var o;if(n.isImplements(r(d[3]).Feature.USER_AGENT_DATA)&&null!=(null===(o=n.highEntropyValues)||void 0===o?void 0:o.fullVersionList)){var u=n.highEntropyValues.fullVersionList.find(function(n){return["Google Chrome"].includes(n.brand)}),l=t.default.coerce(null==u?void 0:u.version);if(l)return t.default.gte(l,"14.3.0")}if(null!=n.appVersion&&n.isChrome){var s=t.default.coerce(n.appVersion);if(s)return t.default.gte(s,"14.3.0")}return!1},e.isEdge=function(n){var t,o;if(n.isImplements(r(d[3]).Feature.USER_AGENT_DATA)&&null!=(null===(t=n.userAgentData)||void 0===t?void 0:t.brands)){return null===(o=n.userAgentData)||void 0===o?void 0:o.brands.some(function(n){return["Edge"].includes(n.brand)})}if(null!=n.browserInfo.browserName)return"Microsoft Edge"===n.browserInfo.browserName||"Edge"===n.browserInfo.browserName;return!1},e.isIE=function(n){return"Internet Explorer"===n.browserInfo.browserName},e.oldWindowsChrome=function(n){var o;if(!n.isWindows||!n.isChrome)return!1;if(n.isImplements(r(d[3]).Feature.USER_AGENT_DATA)&&null!=(null===(o=n.highEntropyValues)||void 0===o?void 0:o.fullVersionList)){var u=n.highEntropyValues.fullVersionList.find(function(n){return["Google Chrome"].includes(n.brand)}),l=t.default.coerce(null==u?void 0:u.version);if(l)return t.default.lt(l,"52.0.0")}if(null!=n.appVersion){var s=t.default.coerce(n.appVersion);if(s)return t.default.lt(s,"52.0.0")}return!1},e.isWindows=function(n){return"Windows"===n.browserInfo.platform},e.chromeWithoutMp4Support=function(n){var o;if(!n.isChrome)return!1;if(n.isImplements(r(d[3]).Feature.USER_AGENT_DATA)&&null!=(null===(o=n.highEntropyValues)||void 0===o?void 0:o.fullVersionList)){var u=n.highEntropyValues.fullVersionList.find(function(n){return["Google Chrome"].includes(n.brand)}),l=t.default.coerce(null==u?void 0:u.version);if(l)return t.default.lte(l,"49.0.0")}if(null!=n.appVersion){var s=t.default.coerce(n.appVersion);if(s)return t.default.lte(s,"49.0.0")}return!1},e.safariWithoutMp4Support=function(n){if(!n.isSafari)return!1;if(null!=n.appVersion){var o=t.default.coerce(n.appVersion);if(o)return t.default.lt(o,"10.0.0")}return!1},e.safariLessThan14=function(n){if(null!=n.appVersion&&n.isSafari){var o=t.default.coerce(n.appVersion);if(o)return t.default.lt(o,"14.0.0")}return!1},e.hasPermissionsChangeSupport=function(n){if(n.isIE)return!1;if(null!=n.appVersion&&n.isSafari){var o=t.default.coerce(n.appVersion);if(o)return t.default.gte(o,"16.4.0")}if(null!=n.appVersion&&n.isEdge){var u=t.default.coerce(n.appVersion);if(u)return t.default.gte(u,"79.0.0")}if(null!=n.appVersion&&n.isChrome){var l=t.default.coerce(n.appVersion);if(l)return t.default.gte(l,"43.0.0")}return!0};var n=r(d[0]).__importDefault(r(d[1])),t=r(d[0]).__importDefault(r(d[2]))},551,[487,504,552,486]);
__d(function(g,r,i,a,m,e,d){m.exports={parse:r(d[0]),valid:r(d[1]),clean:r(d[2]),inc:r(d[3]),diff:r(d[4]),major:r(d[5]),minor:r(d[6]),patch:r(d[7]),prerelease:r(d[8]),compare:r(d[9]),rcompare:r(d[10]),compareLoose:r(d[11]),compareBuild:r(d[12]),sort:r(d[13]),rsort:r(d[14]),gt:r(d[15]),lt:r(d[16]),eq:r(d[17]),neq:r(d[18]),gte:r(d[19]),lte:r(d[20]),cmp:r(d[21]),coerce:r(d[22]),Comparator:r(d[23]),Range:r(d[24]),satisfies:r(d[25]),toComparators:r(d[26]),maxSatisfying:r(d[27]),minSatisfying:r(d[28]),minVersion:r(d[29]),validRange:r(d[30]),outside:r(d[31]),gtr:r(d[32]),ltr:r(d[33]),intersects:r(d[34]),simplifyRange:r(d[35]),subset:r(d[36]),SemVer:r(d[37]),re:r(d[38]).re,src:r(d[38]).src,tokens:r(d[38]).t,SEMVER_SPEC_VERSION:r(d[39]).SEMVER_SPEC_VERSION,RELEASE_TYPES:r(d[39]).RELEASE_TYPES,compareIdentifiers:r(d[40]).compareIdentifiers,rcompareIdentifiers:r(d[40]).rcompareIdentifiers}},552,[553,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,587,588,589,590,591,592,593,594,595,596,597,598,554,558,556,559]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n instanceof r(d[0]))return n;try{return new(r(d[0]))(n,t)}catch(n){if(!o)return null;throw n}}},553,[554]);
__d(function(g,r,_i,_a,_m,e,d){var i=r(d[0]),t=r(d[1]),s=(function(){"use strict";function s(t,n){if(i(this,s),n=r(d[2])(n),t instanceof s){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if('string'!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>r(d[3]).MAX_LENGTH)throw new TypeError(`version is longer than ${r(d[3]).MAX_LENGTH} characters`);r(d[4])('SemVer',t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var a=t.trim().match(n.loose?r(d[5]).safeRe[r(d[5]).t.LOOSE]:r(d[5]).safeRe[r(d[5]).t.FULL]);if(!a)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>r(d[3]).MAX_SAFE_INTEGER||this.major<0)throw new TypeError('Invalid major version');if(this.minor>r(d[3]).MAX_SAFE_INTEGER||this.minor<0)throw new TypeError('Invalid minor version');if(this.patch>r(d[3]).MAX_SAFE_INTEGER||this.patch<0)throw new TypeError('Invalid patch version');a[4]?this.prerelease=a[4].split('.').map(function(i){if(/^[0-9]+$/.test(i)){var t=+i;if(t>=0&&t<r(d[3]).MAX_SAFE_INTEGER)return t}return i}):this.prerelease=[],this.build=a[5]?a[5].split('.'):[],this.format()}return t(s,[{key:"format",value:function(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join('.')}`),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(i){if(r(d[4])('SemVer.compare',this.version,this.options,i),!(i instanceof s)){if('string'==typeof i&&i===this.version)return 0;i=new s(i,this.options)}return i.version===this.version?0:this.compareMain(i)||this.comparePre(i)}},{key:"compareMain",value:function(i){return i instanceof s||(i=new s(i,this.options)),r(d[6]).compareIdentifiers(this.major,i.major)||r(d[6]).compareIdentifiers(this.minor,i.minor)||r(d[6]).compareIdentifiers(this.patch,i.patch)}},{key:"comparePre",value:function(i){if(i instanceof s||(i=new s(i,this.options)),this.prerelease.length&&!i.prerelease.length)return-1;if(!this.prerelease.length&&i.prerelease.length)return 1;if(!this.prerelease.length&&!i.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],a=i.prerelease[t];if(r(d[4])('prerelease compare',t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return r(d[6]).compareIdentifiers(n,a)}while(++t)}},{key:"compareBuild",value:function(i){i instanceof s||(i=new s(i,this.options));var t=0;do{var n=this.build[t],a=i.build[t];if(r(d[4])('prerelease compare',t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return r(d[6]).compareIdentifiers(n,a)}while(++t)}},{key:"inc",value:function(i,t,s){switch(i){case'premajor':this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc('pre',t,s);break;case'preminor':this.prerelease.length=0,this.patch=0,this.minor++,this.inc('pre',t,s);break;case'prepatch':this.prerelease.length=0,this.inc('patch',t,s),this.inc('pre',t,s);break;case'prerelease':0===this.prerelease.length&&this.inc('patch',t,s),this.inc('pre',t,s);break;case'major':0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case'minor':0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case'patch':0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case'pre':var n=Number(s)?1:0;if(!t&&!1===s)throw new Error('invalid increment argument: identifier is empty');if(0===this.prerelease.length)this.prerelease=[n];else{for(var a=this.prerelease.length;--a>=0;)'number'==typeof this.prerelease[a]&&(this.prerelease[a]++,a=-2);if(-1===a){if(t===this.prerelease.join('.')&&!1===s)throw new Error('invalid increment argument: identifier already exists');this.prerelease.push(n)}}if(t){var h=[t,n];!1===s&&(h=[t]),0===r(d[6]).compareIdentifiers(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break;default:throw new Error(`invalid increment argument: ${i}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join('.')}`),this}}])})();_m.exports=s},554,[12,13,555,556,557,558,559]);
__d(function(g,r,i,a,m,e,d){var t=Object.freeze({loose:!0}),o=Object.freeze({});m.exports=function(c){return c?'object'!=typeof c?t:c:o}},555,[]);
__d(function(g,r,i,a,m,e,d){var E=Number.MAX_SAFE_INTEGER||9007199254740991;m.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:E,RELEASE_TYPES:['major','premajor','minor','preminor','patch','prepatch','prerelease'],SEMVER_SPEC_VERSION:'2.0.0',FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},556,[]);
__d(function(g,r,i,a,m,e,d){var o='object'==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var o,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(o=console).error.apply(o,['SEMVER'].concat(s))}:function(){};m.exports=o},557,[]);
__d(function(g,r,i,a,m,e,d){var E=r(d[0]),I=(e=m.exports={}).re=[],R=e.safeRe=[],N=e.src=[],L=e.t={},O=0,$='[a-zA-Z0-9-]',A=[['\\s',1],['\\d',r(d[1]).MAX_LENGTH],[$,r(d[1]).MAX_SAFE_BUILD_LENGTH]],T=function(I){for(var R of A){var N=E(R,2),L=N[0],O=N[1];I=I.split(`${L}*`).join(`${L}{0,${O}}`).split(`${L}+`).join(`${L}{1,${O}}`)}return I},S=function(E,$,A){var S=T($),D=O++;r(d[2])(E,D,$),L[E]=D,N[D]=$,I[D]=new RegExp($,A?'g':void 0),R[D]=new RegExp(S,A?'g':void 0)};S('NUMERICIDENTIFIER','0|[1-9]\\d*'),S('NUMERICIDENTIFIERLOOSE','\\d+'),S('NONNUMERICIDENTIFIER',`\\d*[a-zA-Z-]${$}*`),S('MAINVERSION',`(${N[L.NUMERICIDENTIFIER]})\\.(${N[L.NUMERICIDENTIFIER]})\\.(${N[L.NUMERICIDENTIFIER]})`),S('MAINVERSIONLOOSE',`(${N[L.NUMERICIDENTIFIERLOOSE]})\\.(${N[L.NUMERICIDENTIFIERLOOSE]})\\.(${N[L.NUMERICIDENTIFIERLOOSE]})`),S('PRERELEASEIDENTIFIER',`(?:${N[L.NUMERICIDENTIFIER]}|${N[L.NONNUMERICIDENTIFIER]})`),S('PRERELEASEIDENTIFIERLOOSE',`(?:${N[L.NUMERICIDENTIFIERLOOSE]}|${N[L.NONNUMERICIDENTIFIER]})`),S('PRERELEASE',`(?:-(${N[L.PRERELEASEIDENTIFIER]}(?:\\.${N[L.PRERELEASEIDENTIFIER]})*))`),S('PRERELEASELOOSE',`(?:-?(${N[L.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${N[L.PRERELEASEIDENTIFIERLOOSE]})*))`),S('BUILDIDENTIFIER',`${$}+`),S('BUILD',`(?:\\+(${N[L.BUILDIDENTIFIER]}(?:\\.${N[L.BUILDIDENTIFIER]})*))`),S('FULLPLAIN',`v?${N[L.MAINVERSION]}${N[L.PRERELEASE]}?${N[L.BUILD]}?`),S('FULL',`^${N[L.FULLPLAIN]}$`),S('LOOSEPLAIN',`[v=\\s]*${N[L.MAINVERSIONLOOSE]}${N[L.PRERELEASELOOSE]}?${N[L.BUILD]}?`),S('LOOSE',`^${N[L.LOOSEPLAIN]}$`),S('GTLT','((?:<|>)?=?)'),S('XRANGEIDENTIFIERLOOSE',`${N[L.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S('XRANGEIDENTIFIER',`${N[L.NUMERICIDENTIFIER]}|x|X|\\*`),S('XRANGEPLAIN',`[v=\\s]*(${N[L.XRANGEIDENTIFIER]})(?:\\.(${N[L.XRANGEIDENTIFIER]})(?:\\.(${N[L.XRANGEIDENTIFIER]})(?:${N[L.PRERELEASE]})?${N[L.BUILD]}?)?)?`),S('XRANGEPLAINLOOSE',`[v=\\s]*(${N[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${N[L.XRANGEIDENTIFIERLOOSE]})(?:${N[L.PRERELEASELOOSE]})?${N[L.BUILD]}?)?)?`),S('XRANGE',`^${N[L.GTLT]}\\s*${N[L.XRANGEPLAIN]}$`),S('XRANGELOOSE',`^${N[L.GTLT]}\\s*${N[L.XRANGEPLAINLOOSE]}$`),S('COERCE',`(^|[^\\d])(\\d{1,${r(d[1]).MAX_SAFE_COMPONENT_LENGTH}})(?:\\.(\\d{1,${r(d[1]).MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\.(\\d{1,${r(d[1]).MAX_SAFE_COMPONENT_LENGTH}}))?(?:$|[^\\d])`),S('COERCERTL',N[L.COERCE],!0),S('LONETILDE','(?:~>?)'),S('TILDETRIM',`(\\s*)${N[L.LONETILDE]}\\s+`,!0),e.tildeTrimReplace='$1~',S('TILDE',`^${N[L.LONETILDE]}${N[L.XRANGEPLAIN]}$`),S('TILDELOOSE',`^${N[L.LONETILDE]}${N[L.XRANGEPLAINLOOSE]}$`),S('LONECARET','(?:\\^)'),S('CARETTRIM',`(\\s*)${N[L.LONECARET]}\\s+`,!0),e.caretTrimReplace='$1^',S('CARET',`^${N[L.LONECARET]}${N[L.XRANGEPLAIN]}$`),S('CARETLOOSE',`^${N[L.LONECARET]}${N[L.XRANGEPLAINLOOSE]}$`),S('COMPARATORLOOSE',`^${N[L.GTLT]}\\s*(${N[L.LOOSEPLAIN]})$|^$`),S('COMPARATOR',`^${N[L.GTLT]}\\s*(${N[L.FULLPLAIN]})$|^$`),S('COMPARATORTRIM',`(\\s*)${N[L.GTLT]}\\s*(${N[L.LOOSEPLAIN]}|${N[L.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace='$1$2$3',S('HYPHENRANGE',`^\\s*(${N[L.XRANGEPLAIN]})\\s+-\\s+(${N[L.XRANGEPLAIN]})\\s*$`),S('HYPHENRANGELOOSE',`^\\s*(${N[L.XRANGEPLAINLOOSE]})\\s+-\\s+(${N[L.XRANGEPLAINLOOSE]})\\s*$`),S('STAR','(<|>)?=?\\s*\\*'),S('GTE0','^\\s*>=\\s*0\\.0\\.0\\s*$'),S('GTE0PRE','^\\s*>=\\s*0\\.0\\.0-0\\s*$')},558,[38,556,557]);
__d(function(g,r,i,_a,m,e,d){var t=/^[0-9]+$/,n=function(n,o){var c=t.test(n),f=t.test(o);return c&&f&&(n=+n,o=+o),n===o?0:c&&!f?-1:f&&!c?1:n<o?-1:1};m.exports={compareIdentifiers:n,rcompareIdentifiers:function(t,o){return n(o,t)}}},559,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,o){var t=r(d[0])(n,o);return t?t.version:null}},560,[553]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){var o=r(d[0])(n.trim().replace(/^[=v]+/,''),t);return o?o.version:null}},561,[553]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,o,c,s){'string'==typeof o&&(s=c,c=o,o=void 0);try{return new(r(d[0]))(n instanceof r(d[0])?n.version:n,o).inc(t,c,s).version}catch(n){return null}}},562,[554]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,o){var t=r(d[0])(n,null,!0),p=r(d[0])(o,null,!0),l=t.compare(p);if(0===l)return null;var c=l>0,h=c?t:p,u=c?p:t,j=!!h.prerelease.length;if(!!u.prerelease.length&&!j)return u.patch||u.minor?h.patch?'patch':h.minor?'minor':'major':'major';var f=j?'pre':'';return t.major!==p.major?f+'major':t.minor!==p.minor?f+'minor':t.patch!==p.patch?f+'patch':'prerelease'}},563,[553]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,o){return new(r(d[0]))(n,o).major}},564,[554]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,o){return new(r(d[0]))(n,o).minor}},565,[554]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t){return new(r(d[0]))(n,t).patch}},566,[554]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,l){var t=r(d[0])(n,l);return t&&t.prerelease.length?t.prerelease:null}},567,[553]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,o,t){return new(r(d[0]))(n,t).compare(new(r(d[0]))(o,t))}},568,[554]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t,o){return r(d[0])(t,n,o)}},569,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t){return r(d[0])(n,t,!0)}},570,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,o,c){var t=new(r(d[0]))(n,c),u=new(r(d[0]))(o,c);return t.compare(u)||t.compareBuild(u)}},571,[554]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t){return n.sort(function(n,o){return r(d[0])(n,o,t)})}},572,[571]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t){return n.sort(function(n,o){return r(d[0])(o,n,t)})}},573,[571]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t,o){return r(d[0])(n,t,o)>0}},574,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t,o){return r(d[0])(n,t,o)<0}},575,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t,o){return 0===r(d[0])(n,t,o)}},576,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t,o){return 0!==r(d[0])(n,t,o)}},577,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t,o){return r(d[0])(n,t,o)>=0}},578,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(n,t,o){return r(d[0])(n,t,o)<=0}},579,[568]);
__d(function(g,r,i,_a,m,e,d){m.exports=function(t,o,n,c){switch(o){case'===':return'object'==typeof t&&(t=t.version),'object'==typeof n&&(n=n.version),t===n;case'!==':return'object'==typeof t&&(t=t.version),'object'==typeof n&&(n=n.version),t!==n;case'':case'=':case'==':return r(d[0])(t,n,c);case'!=':return r(d[1])(t,n,c);case'>':return r(d[2])(t,n,c);case'>=':return r(d[3])(t,n,c);case'<':return r(d[4])(t,n,c);case'<=':return r(d[5])(t,n,c);default:throw new TypeError(`Invalid operator: ${o}`)}}},580,[576,577,574,578,575,579]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){if(n instanceof r(d[0]))return n;if('number'==typeof n&&(n=String(n)),'string'!=typeof n)return null;var l=null;if((t=t||{}).rtl){for(var f;(f=r(d[1]).safeRe[r(d[1]).t.COERCERTL].exec(n))&&(!l||l.index+l[0].length!==n.length);)l&&f.index+f[0].length===l.index+l[0].length||(l=f),r(d[1]).safeRe[r(d[1]).t.COERCERTL].lastIndex=f.index+f[1].length+f[2].length;r(d[1]).safeRe[r(d[1]).t.COERCERTL].lastIndex=-1}else l=n.match(r(d[1]).safeRe[r(d[1]).t.COERCE]);return null===l?null:r(d[2])(`${l[2]}.${l[3]||'0'}.${l[4]||'0'}`,t)}},581,[554,558,553]);
__d(function(g,_r,i,a,_m,e,d){var t=_r(d[0]),r=_r(d[1]),s=Symbol('SemVer ANY'),o=(function(){"use strict";function o(r,h){if(t(this,o),h=_r(d[2])(h),r instanceof o){if(r.loose===!!h.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(' '),_r(d[3])('comparator',r,h),this.options=h,this.loose=!!h.loose,this.parse(r),this.semver===s?this.value='':this.value=this.operator+this.semver.version,_r(d[3])('comp',this)}return r(o,[{key:"parse",value:function(t){var r=this.options.loose?_r(d[4]).safeRe[_r(d[4]).t.COMPARATORLOOSE]:_r(d[4]).safeRe[_r(d[4]).t.COMPARATOR],o=t.match(r);if(!o)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==o[1]?o[1]:'','='===this.operator&&(this.operator=''),o[2]?this.semver=new(_r(d[5]))(o[2],this.options.loose):this.semver=s}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(t){if(_r(d[3])('Comparator.test',t,this.options.loose),this.semver===s||t===s)return!0;if('string'==typeof t)try{t=new(_r(d[5]))(t,this.options)}catch(t){return!1}return _r(d[6])(t,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,r){if(!(t instanceof o))throw new TypeError('a Comparator is required');return''===this.operator?''===this.value||new(_r(d[7]))(t.value,r).test(this.value):''===t.operator?''===t.value||new(_r(d[7]))(this.value,r).test(t.semver):(!(r=_r(d[2])(r)).includePrerelease||'<0.0.0-0'!==this.value&&'<0.0.0-0'!==t.value)&&(!(!r.includePrerelease&&(this.value.startsWith('<0.0.0')||t.value.startsWith('<0.0.0')))&&(!(!this.operator.startsWith('>')||!t.operator.startsWith('>'))||(!(!this.operator.startsWith('<')||!t.operator.startsWith('<'))||(!(this.semver.version!==t.semver.version||!this.operator.includes('=')||!t.operator.includes('='))||(!!(_r(d[6])(this.semver,'<',t.semver,r)&&this.operator.startsWith('>')&&t.operator.startsWith('<'))||!!(_r(d[6])(this.semver,'>',t.semver,r)&&this.operator.startsWith('<')&&t.operator.startsWith('>')))))))}}],[{key:"ANY",get:function(){return s}}])})();_m.exports=o},582,[12,13,555,557,558,554,580,583]);
__d(function(g,_r,_i2,a,_m,e,d){var t=_r(d[0]),r=_r(d[1]),n=_r(d[2]),i=(function(){"use strict";function i(t,n){var s=this;if(r(this,i),n=_r(d[3])(n),t instanceof i)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new i(t.raw,n);if(t instanceof _r(d[4]))return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t.trim().split(/\s+/).join(' '),this.set=this.raw.split('||').map(function(t){return s.parseRange(t.trim())}).filter(function(t){return t.length}),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){var $=this.set[0];if(this.set=this.set.filter(function(t){return!o(t[0])}),0===this.set.length)this.set=[$];else if(this.set.length>1)for(var l of this.set)if(1===l.length&&u(l[0])){this.set=[l];break}}this.format()}return n(i,[{key:"format",value:function(){return this.range=this.set.map(function(t){return t.join(' ').trim()}).join('||').trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(r){var n=this,i=((this.options.includePrerelease&&_r(d[5]).FLAG_INCLUDE_PRERELEASE)|(this.options.loose&&_r(d[5]).FLAG_LOOSE))+':'+r,u=s.get(i);if(u)return u;var $=this.options.loose,c=$?_r(d[6]).safeRe[_r(d[6]).t.HYPHENRANGELOOSE]:_r(d[6]).safeRe[_r(d[6]).t.HYPHENRANGE];r=r.replace(c,A(this.options.includePrerelease)),_r(d[7])('hyphen replace',r),r=r.replace(_r(d[6]).safeRe[_r(d[6]).t.COMPARATORTRIM],_r(d[6]).comparatorTrimReplace),_r(d[7])('comparator trim',r),r=r.replace(_r(d[6]).safeRe[_r(d[6]).t.TILDETRIM],_r(d[6]).tildeTrimReplace),_r(d[7])('tilde trim',r),r=r.replace(_r(d[6]).safeRe[_r(d[6]).t.CARETTRIM],_r(d[6]).caretTrimReplace),_r(d[7])('caret trim',r);var f=r.split(' ').map(function(t){return l(t,n.options)}).join(' ').split(/\s+/).map(function(t){return T(t,n.options)});$&&(f=f.filter(function(t){return _r(d[7])('loose invalid filter',t,n.options),!!t.match(_r(d[6]).safeRe[_r(d[6]).t.COMPARATORLOOSE])})),_r(d[7])('range list',f);var p=new Map,h=f.map(function(t){return new(_r(d[4]))(t,n.options)});for(var m of h){if(o(m))return[m];p.set(m.value,m)}p.size>1&&p.has('')&&p.delete('');var R=t(p.values());return s.set(i,R),R}},{key:"intersects",value:function(t,r){if(!(t instanceof i))throw new TypeError('a Range is required');return this.set.some(function(n){return $(n,r)&&t.set.some(function(t){return $(t,r)&&n.every(function(n){return t.every(function(t){return n.intersects(t,r)})})})})}},{key:"test",value:function(t){if(!t)return!1;if('string'==typeof t)try{t=new(_r(d[8]))(t,this.options)}catch(t){return!1}for(var r=0;r<this.set.length;r++)if(O(this.set[r],t,this.options))return!0;return!1}}])})();_m.exports=i;var s=new(_r(d[9]))({max:1e3}),o=function(t){return'<0.0.0-0'===t.value},u=function(t){return''===t.value},$=function(t,r){for(var n=!0,i=t.slice(),s=i.pop();n&&i.length;)n=i.every(function(t){return s.intersects(t,r)}),s=i.pop();return n},l=function(t,r){return _r(d[7])('comp',t,r),t=h(t,r),_r(d[7])('caret',t),t=f(t,r),_r(d[7])('tildes',t),t=R(t,r),_r(d[7])('xrange',t),t=E(t,r),_r(d[7])('stars',t),t},c=function(t){return!t||'x'===t.toLowerCase()||'*'===t},f=function(t,r){return t.trim().split(/\s+/).map(function(t){return p(t,r)}).join(' ')},p=function(t,r){var n=r.loose?_r(d[6]).safeRe[_r(d[6]).t.TILDELOOSE]:_r(d[6]).safeRe[_r(d[6]).t.TILDE];return t.replace(n,function(r,n,i,s,o){var u;return _r(d[7])('tilde',t,r,n,i,s,o),c(n)?u='':c(i)?u=`>=${n}.0.0 <${+n+1}.0.0-0`:c(s)?u=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:o?(_r(d[7])('replaceTilde pr',o),u=`>=${n}.${i}.${s}-${o} <${n}.${+i+1}.0-0`):u=`>=${n}.${i}.${s} <${n}.${+i+1}.0-0`,_r(d[7])('tilde return',u),u})},h=function(t,r){return t.trim().split(/\s+/).map(function(t){return m(t,r)}).join(' ')},m=function(t,r){_r(d[7])('caret',t,r);var n=r.loose?_r(d[6]).safeRe[_r(d[6]).t.CARETLOOSE]:_r(d[6]).safeRe[_r(d[6]).t.CARET],i=r.includePrerelease?'-0':'';return t.replace(n,function(r,n,s,o,u){var $;return _r(d[7])('caret',t,r,n,s,o,u),c(n)?$='':c(s)?$=`>=${n}.0.0${i} <${+n+1}.0.0-0`:c(o)?$='0'===n?`>=${n}.${s}.0${i} <${n}.${+s+1}.0-0`:`>=${n}.${s}.0${i} <${+n+1}.0.0-0`:u?(_r(d[7])('replaceCaret pr',u),$='0'===n?'0'===s?`>=${n}.${s}.${o}-${u} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}-${u} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o}-${u} <${+n+1}.0.0-0`):(_r(d[7])('no pr'),$='0'===n?'0'===s?`>=${n}.${s}.${o}${i} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}${i} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o} <${+n+1}.0.0-0`),_r(d[7])('caret return',$),$})},R=function(t,r){return _r(d[7])('replaceXRanges',t,r),t.split(/\s+/).map(function(t){return v(t,r)}).join(' ')},v=function(t,r){t=t.trim();var n=r.loose?_r(d[6]).safeRe[_r(d[6]).t.XRANGELOOSE]:_r(d[6]).safeRe[_r(d[6]).t.XRANGE];return t.replace(n,function(n,i,s,o,u,$){_r(d[7])('xRange',t,n,i,s,o,u,$);var l=c(s),f=l||c(o),p=f||c(u),h=p;return'='===i&&h&&(i=''),$=r.includePrerelease?'-0':'',l?n='>'===i||'<'===i?'<0.0.0-0':'*':i&&h?(f&&(o=0),u=0,'>'===i?(i='>=',f?(s=+s+1,o=0,u=0):(o=+o+1,u=0)):'<='===i&&(i='<',f?s=+s+1:o=+o+1),'<'===i&&($='-0'),n=`${i+s}.${o}.${u}${$}`):f?n=`>=${s}.0.0${$} <${+s+1}.0.0-0`:p&&(n=`>=${s}.${o}.0${$} <${s}.${+o+1}.0-0`),_r(d[7])('xRange return',n),n})},E=function(t,r){return _r(d[7])('replaceStars',t,r),t.trim().replace(_r(d[6]).safeRe[_r(d[6]).t.STAR],'')},T=function(t,r){return _r(d[7])('replaceGTE0',t,r),t.trim().replace(_r(d[6]).safeRe[r.includePrerelease?_r(d[6]).t.GTE0PRE:_r(d[6]).t.GTE0],'')},A=function(t){return function(r,n,i,s,o,u,$,l,f,p,h,m,R){return`${n=c(i)?'':c(s)?`>=${i}.0.0${t?'-0':''}`:c(o)?`>=${i}.${s}.0${t?'-0':''}`:u?`>=${n}`:`>=${n}${t?'-0':''}`} ${l=c(f)?'':c(p)?`<${+f+1}.0.0-0`:c(h)?`<${f}.${+p+1}.0-0`:m?`<=${f}.${p}.${h}-${m}`:t?`<${f}.${p}.${+h+1}-0`:`<=${l}`}`.trim()}},O=function(t,r,n){for(var i=0;i<t.length;i++)if(!t[i].test(r))return!1;if(r.prerelease.length&&!n.includePrerelease){for(var s=0;s<t.length;s++)if(_r(d[7])(t[s].semver),t[s].semver!==_r(d[4]).ANY&&t[s].semver.prerelease.length>0){var o=t[s].semver;if(o.major===r.major&&o.minor===r.minor&&o.patch===r.patch)return!0}return!1}return!0}},583,[6,12,13,555,582,556,558,557,554,584]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),u=Symbol('max'),s=Symbol('length'),h=Symbol('lengthCalculator'),o=Symbol('allowStale'),l=Symbol('maxAge'),f=Symbol('dispose'),v=Symbol('noDisposeOnSet'),y=Symbol('lruList'),c=Symbol('cache'),k=Symbol('updateAgeOnGet'),p=function(){return 1},b=(function(){return n(function n(s){if(t(this,n),'number'==typeof s&&(s={max:s}),s||(s={}),s.max&&('number'!=typeof s.max||s.max<0))throw new TypeError('max must be a non-negative number');this[u]=s.max||1/0;var y=s.length||p;if(this[h]='function'!=typeof y?p:y,this[o]=s.stale||!1,s.maxAge&&'number'!=typeof s.maxAge)throw new TypeError('maxAge must be a number');this[l]=s.maxAge||0,this[f]=s.dispose,this[v]=s.noDisposeOnSet||!1,this[k]=s.updateAgeOnGet||!1,this.reset()},[{key:"max",get:function(){return this[u]},set:function(t){if('number'!=typeof t||t<0)throw new TypeError('max must be a non-negative number');this[u]=t||1/0,A(this)}},{key:"allowStale",get:function(){return this[o]},set:function(t){this[o]=!!t}},{key:"maxAge",get:function(){return this[l]},set:function(t){if('number'!=typeof t)throw new TypeError('maxAge must be a non-negative number');this[l]=t,A(this)}},{key:"lengthCalculator",get:function(){return this[h]},set:function(t){var n=this;'function'!=typeof t&&(t=p),t!==this[h]&&(this[h]=t,this[s]=0,this[y].forEach(function(t){t.length=n[h](t.value,t.key),n[s]+=t.length})),A(this)}},{key:"length",get:function(){return this[s]}},{key:"itemCount",get:function(){return this[y].length}},{key:"rforEach",value:function(t,n){n=n||this;for(var u=this[y].tail;null!==u;){var s=u.prev;D(this,t,u,n),u=s}}},{key:"forEach",value:function(t,n){n=n||this;for(var u=this[y].head;null!==u;){var s=u.next;D(this,t,u,n),u=s}}},{key:"keys",value:function(){return this[y].toArray().map(function(t){return t.key})}},{key:"values",value:function(){return this[y].toArray().map(function(t){return t.value})}},{key:"reset",value:function(){var t=this;this[f]&&this[y]&&this[y].length&&this[y].forEach(function(n){return t[f](n.key,n.value)}),this[c]=new Map,this[y]=new(r(d[2])),this[s]=0}},{key:"dump",value:function(){var t=this;return this[y].map(function(n){return!w(t,n)&&{k:n.key,v:n.value,e:n.now+(n.maxAge||0)}}).toArray().filter(function(t){return t})}},{key:"dumpLru",value:function(){return this[y]}},{key:"set",value:function(t,n,o){if((o=o||this[l])&&'number'!=typeof o)throw new TypeError('maxAge must be a number');var k=o?Date.now():0,p=this[h](n,t);if(this[c].has(t)){if(p>this[u])return S(this,this[c].get(t)),!1;var b=this[c].get(t).value;return this[f]&&(this[v]||this[f](t,b.value)),b.now=k,b.maxAge=o,b.value=n,this[s]+=p-b.length,b.length=p,this.get(t),A(this),!0}var x=new E(t,n,p,k,o);return x.length>this[u]?(this[f]&&this[f](t,n),!1):(this[s]+=x.length,this[y].unshift(x),this[c].set(t,this[y].head),A(this),!0)}},{key:"has",value:function(t){if(!this[c].has(t))return!1;var n=this[c].get(t).value;return!w(this,n)}},{key:"get",value:function(t){return x(this,t,!0)}},{key:"peek",value:function(t){return x(this,t,!1)}},{key:"pop",value:function(){var t=this[y].tail;return t?(S(this,t),t.value):null}},{key:"del",value:function(t){S(this,this[c].get(t))}},{key:"load",value:function(t){this.reset();for(var n=Date.now(),u=t.length-1;u>=0;u--){var s=t[u],h=s.e||0;if(0===h)this.set(s.k,s.v);else{var o=h-n;o>0&&this.set(s.k,s.v,o)}}}},{key:"prune",value:function(){var t=this;this[c].forEach(function(n,u){return x(t,u,!1)})}}])})(),x=function(t,n,u){var s=t[c].get(n);if(s){var h=s.value;if(w(t,h)){if(S(t,s),!t[o])return}else u&&(t[k]&&(s.value.now=Date.now()),t[y].unshiftNode(s));return h.value}},w=function(t,n){if(!n||!n.maxAge&&!t[l])return!1;var u=Date.now()-n.now;return n.maxAge?u>n.maxAge:t[l]&&u>t[l]},A=function(t){if(t[s]>t[u])for(var n=t[y].tail;t[s]>t[u]&&null!==n;){var h=n.prev;S(t,n),n=h}},S=function(t,n){if(n){var u=n.value;t[f]&&t[f](u.key,u.value),t[s]-=u.length,t[c].delete(u.key),t[y].removeNode(n)}},E=n(function n(u,s,h,o,l){t(this,n),this.key=u,this.value=s,this.length=h,this.now=o,this.maxAge=l||0}),D=function(t,n,u,s){var h=u.value;w(t,h)&&(S(t,u),t[o]||(h=void 0)),h&&n.call(s,h.value,h.key,t)};m.exports=b},584,[12,13,585]);
__d(function(g,r,_i,a,m,e,d){'use strict';function t(i){var n=this;if(n instanceof t||(n=new t),n.tail=null,n.head=null,n.length=0,i&&'function'==typeof i.forEach)i.forEach(function(t){n.push(t)});else if(arguments.length>0)for(var h=0,l=arguments.length;h<l;h++)n.push(arguments[h]);return n}function i(t,i,n){var h=i===t.head?new l(n,null,i,t):new l(n,i,i.next,t);return null===h.next&&(t.tail=h),null===h.prev&&(t.head=h),t.length++,h}function n(t,i){t.tail=new l(i,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function h(t,i){t.head=new l(i,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function l(t,i,n,h){if(!(this instanceof l))return new l(t,i,n,h);this.list=h,this.value=t,i?(i.next=this,this.prev=i):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}m.exports=t,t.Node=l,t.create=t,t.prototype.removeNode=function(t){if(t.list!==this)throw new Error('removing node which does not belong to this list');var i=t.next,n=t.prev;return i&&(i.prev=n),n&&(n.next=i),t===this.head&&(this.head=i),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,i},t.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var i=this.head;t.list=this,t.next=i,i&&(i.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},t.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var i=this.tail;t.list=this,t.prev=i,i&&(i.next=t),this.tail=t,this.head||(this.head=t),this.length++}},t.prototype.push=function(){for(var t=0,i=arguments.length;t<i;t++)n(this,arguments[t]);return this.length},t.prototype.unshift=function(){for(var t=0,i=arguments.length;t<i;t++)h(this,arguments[t]);return this.length},t.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},t.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},t.prototype.forEach=function(t,i){i=i||this;for(var n=this.head,h=0;null!==n;h++)t.call(i,n.value,h,this),n=n.next},t.prototype.forEachReverse=function(t,i){i=i||this;for(var n=this.tail,h=this.length-1;null!==n;h--)t.call(i,n.value,h,this),n=n.prev},t.prototype.get=function(t){for(var i=0,n=this.head;null!==n&&i<t;i++)n=n.next;if(i===t&&null!==n)return n.value},t.prototype.getReverse=function(t){for(var i=0,n=this.tail;null!==n&&i<t;i++)n=n.prev;if(i===t&&null!==n)return n.value},t.prototype.map=function(i,n){n=n||this;for(var h=new t,l=this.head;null!==l;)h.push(i.call(n,l.value,this)),l=l.next;return h},t.prototype.mapReverse=function(i,n){n=n||this;for(var h=new t,l=this.tail;null!==l;)h.push(i.call(n,l.value,this)),l=l.prev;return h},t.prototype.reduce=function(t,i){var n,h=this.head;if(arguments.length>1)n=i;else{if(!this.head)throw new TypeError('Reduce of empty list with no initial value');h=this.head.next,n=this.head.value}for(var l=0;null!==h;l++)n=t(n,h.value,l),h=h.next;return n},t.prototype.reduceReverse=function(t,i){var n,h=this.tail;if(arguments.length>1)n=i;else{if(!this.tail)throw new TypeError('Reduce of empty list with no initial value');h=this.tail.prev,n=this.tail.value}for(var l=this.length-1;null!==h;l--)n=t(n,h.value,l),h=h.prev;return n},t.prototype.toArray=function(){for(var t=new Array(this.length),i=0,n=this.head;null!==n;i++)t[i]=n.value,n=n.next;return t},t.prototype.toArrayReverse=function(){for(var t=new Array(this.length),i=0,n=this.tail;null!==n;i++)t[i]=n.value,n=n.prev;return t},t.prototype.slice=function(i,n){(n=n||this.length)<0&&(n+=this.length),(i=i||0)<0&&(i+=this.length);var h=new t;if(n<i||n<0)return h;i<0&&(i=0),n>this.length&&(n=this.length);for(var l=0,s=this.head;null!==s&&l<i;l++)s=s.next;for(;null!==s&&l<n;l++,s=s.next)h.push(s.value);return h},t.prototype.sliceReverse=function(i,n){(n=n||this.length)<0&&(n+=this.length),(i=i||0)<0&&(i+=this.length);var h=new t;if(n<i||n<0)return h;i<0&&(i=0),n>this.length&&(n=this.length);for(var l=this.length,s=this.tail;null!==s&&l>n;l--)s=s.prev;for(;null!==s&&l>i;l--,s=s.prev)h.push(s.value);return h},t.prototype.splice=function(t,n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var h=0,l=this.head;null!==l&&h<t;h++)l=l.next;var s=[];for(h=0;l&&h<n;h++)s.push(l.value),l=this.removeNode(l);null===l&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(h=0;h<(arguments.length<=2?0:arguments.length-2);h++)l=i(this,l,h+2<2||arguments.length<=h+2?void 0:arguments[h+2]);return s},t.prototype.reverse=function(){for(var t=this.head,i=this.tail,n=t;null!==n;n=n.prev){var h=n.prev;n.prev=n.next,n.next=h}return this.head=i,this.tail=t,this};try{r(d[0])(t)}catch(t){}},585,[586]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(var t=this.head;t;t=t.next)yield t.value}}},586,[]);
__d(function(g,r,i,a,m,e,d){m.exports=function(t,n,c){try{n=new(r(d[0]))(n,c)}catch(t){return!1}return n.test(t)}},587,[583]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){return new(r(d[0]))(n,t).set.map(function(n){return n.map(function(n){return n.value}).join(' ').trim().split(' ')})}},588,[583]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,u){var l=null,c=null,o=null;try{o=new(r(d[0]))(t,u)}catch(n){return null}return n.forEach(function(n){o.test(n)&&(l&&-1!==c.compare(n)||(l=n,c=new(r(d[1]))(l,u)))}),l}},589,[583,554]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,u){var l=null,c=null,o=null;try{o=new(r(d[0]))(t,u)}catch(n){return null}return n.forEach(function(n){o.test(n)&&(l&&1!==c.compare(n)||(l=n,c=new(r(d[1]))(l,u)))}),l}},590,[583,554]);
__d(function(g,r,_i,a,m,e,d){m.exports=function(t,n){t=new(r(d[0]))(t,n);var o=new(r(d[1]))('0.0.0');if(t.test(o))return o;if(o=new(r(d[1]))('0.0.0-0'),t.test(o))return o;o=null;for(var s=function(){var n=t.set[c],s=null;n.forEach(function(t){var n=new(r(d[1]))(t.semver.version);switch(t.operator){case'>':0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case'':case'>=':s&&!r(d[2])(n,s)||(s=n);break;case'<':case'<=':break;default:throw new Error(`Unexpected operation: ${t.operator}`)}}),!s||o&&!r(d[2])(o,s)||(o=s)},c=0;c<t.set.length;++c)s();return o&&t.test(o)?o:null}},591,[583,554,574]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t){try{return new(r(d[0]))(n,t).range||'*'}catch(n){return null}}},592,[583]);
__d(function(g,r,_i,a,m,e,d){m.exports=function(o,t,n,v){var s,u,f,i,c;switch(o=new(r(d[0]))(o,v),t=new(r(d[1]))(t,v),n){case'>':s=r(d[2]),u=r(d[3]),f=r(d[4]),i='>',c='>=';break;case'<':s=r(d[4]),u=r(d[5]),f=r(d[2]),i='<',c='<=';break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(r(d[6])(o,t,v))return!1;for(var l,p=function(){var n=t.set[w],l=null,p=null;return n.forEach(function(o){o.semver===r(d[7]).ANY&&(o=new(r(d[7]))('>=0.0.0')),l=l||o,p=p||o,s(o.semver,l.semver,v)?l=o:f(o.semver,p.semver,v)&&(p=o)}),l.operator===i||l.operator===c?{v:!1}:p.operator&&p.operator!==i||!u(o,p.semver)?p.operator===c&&f(o,p.semver)?{v:!1}:void 0:{v:!1}},w=0;w<t.set.length;++w)if(l=p())return l.v;return!0}},593,[554,583,574,579,575,578,587,582]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,o){return r(d[0])(n,t,'>',o)}},594,[593]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,o){return r(d[0])(n,t,'<',o)}},595,[593]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n,t,c){return n=new(r(d[0]))(n,c),t=new(r(d[0]))(t,c),n.intersects(t,c)}},596,[583]);
__d(function(g,r,i,_a,m,e,d){var n=r(d[0]);m.exports=function(u,l,t){var o=[],s=null,a=null,h=u.sort(function(n,u){return r(d[1])(n,u,t)});for(var p of h){r(d[2])(p,l,t)?(a=p,s||(s=p)):(a&&o.push([s,a]),a=null,s=null)}s&&o.push([s,null]);var f=[];for(var v of o){var $=n(v,2),c=$[0],w=$[1];c===w?f.push(c):w||c!==h[0]?w?c===h[0]?f.push(`<=${w}`):f.push(`${c} - ${w}`):f.push(`>=${c}`):f.push('*')}var _=f.join(' || '),j='string'==typeof l.raw?l.raw:String(l);return _.length<j.length?_:l}},597,[38,568,587]);
__d(function(g,r,i,_a,m,e,d){var t=[new(r(d[1]))('>=0.0.0-0')],o=[new(r(d[1]))('>=0.0.0')],n=function(n,f,v){if(n===f)return!0;if(1===n.length&&n[0].semver===r(d[1]).ANY){if(1===f.length&&f[0].semver===r(d[1]).ANY)return!0;n=v.includePrerelease?t:o}if(1===f.length&&f[0].semver===r(d[1]).ANY){if(v.includePrerelease)return!0;f=o}var l,u,p,c,h,S,w,j=new Set;for(var P of n)'>'===P.operator||'>='===P.operator?l=a(l,P,v):'<'===P.operator||'<='===P.operator?u=s(u,P,v):j.add(P.semver);if(j.size>1)return null;if(l&&u){if((p=r(d[2])(l.semver,u.semver,v))>0)return null;if(0===p&&('>='!==l.operator||'<='!==u.operator))return null}for(var A of j){if(l&&!r(d[3])(A,String(l),v))return null;if(u&&!r(d[3])(A,String(u),v))return null;for(var N of f)if(!r(d[3])(A,String(N),v))return!1;return!0}var Y=!(!u||v.includePrerelease||!u.semver.prerelease.length)&&u.semver,_=!(!l||v.includePrerelease||!l.semver.prerelease.length)&&l.semver;for(var x of(Y&&1===Y.prerelease.length&&'<'===u.operator&&0===Y.prerelease[0]&&(Y=!1),f)){if(w=w||'>'===x.operator||'>='===x.operator,S=S||'<'===x.operator||'<='===x.operator,l)if(_&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===_.major&&x.semver.minor===_.minor&&x.semver.patch===_.patch&&(_=!1),'>'===x.operator||'>='===x.operator){if((c=a(l,x,v))===x&&c!==l)return!1}else if('>='===l.operator&&!r(d[3])(l.semver,String(x),v))return!1;if(u)if(Y&&x.semver.prerelease&&x.semver.prerelease.length&&x.semver.major===Y.major&&x.semver.minor===Y.minor&&x.semver.patch===Y.patch&&(Y=!1),'<'===x.operator||'<='===x.operator){if((h=s(u,x,v))===x&&h!==u)return!1}else if('<='===u.operator&&!r(d[3])(u.semver,String(x),v))return!1;if(!x.operator&&(u||l)&&0!==p)return!1}return!(l&&S&&!u&&0!==p)&&(!(u&&w&&!l&&0!==p)&&(!_&&!Y))},a=function(t,o,n){if(!t)return o;var a=r(d[2])(t.semver,o.semver,n);return a>0?t:a<0||'>'===o.operator&&'>='===t.operator?o:t},s=function(t,o,n){if(!t)return o;var a=r(d[2])(t.semver,o.semver,n);return a<0?t:a>0||'<'===o.operator&&'<='===t.operator?o:t};m.exports=function(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===o)return!0;t=new(r(d[0]))(t,a),o=new(r(d[0]))(o,a);var s=!1;r:for(var f of t.set){for(var v of o.set){var l=n(f,v,a);if(s=s||null!==l,l)continue r}if(s)return!1}return!0}},598,[583,582,568,587]);
__d(function(g,r,i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),l=r(d[4]),u=r(d[5]),s=r(d[6]),p=r(d[7]),c=["playerOptions","token"];function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.VideoClient=void 0;var y=r(d[8]).__importDefault(r(d[9])),h=r(d[8]).__importDefault(r(d[10])),f={autoPlay:!0,refetch:!1,displayPoster:"preview",players:[{id:"webrtc"},{id:"native-hls"},{id:"hlsjs"}],muted:!1,volume:.5,driverFailoverSeconds:10,pollingInterval:5e3,unauthorizedPollingInterval:2e3,notFoundPollingInterval:1e4,unauthorizedRecoveryDuration:1e4,retryCall:!0,urlParams:{vdc:!0,substitute:!1}},P=new(r(d[11]).EventsHandler),C=(function(C){function x(e){var t,l,p,c,h,f,C,k,I,E;o(this,x),k=this,E=[!1],I=s(I=x),(t=u(k,v()?Reflect.construct(I,E||[],s(k).constructor):I.apply(k,E))).options={backendEndpoints:[],userId:""},t.setMaxListeners(20);var O=null!==(l=null==e?void 0:e.logger)&&void 0!==l?l:new(r(d[12]).LoggerCore)("VDC-core");null==e||delete e.logger;var b=null!==(c=null===(p=null==e?void 0:e.loggerConfig)||void 0===p?void 0:p.clientName)&&void 0!==c?c:"VDC",w=O.getLoggerMeta("client"),M=O.getLoggerMeta("release"),N=O.getLoggerMeta("package"),S=r(d[13]).device.isImplements(r(d[13]).Feature.NETWORK_INFORMATION)?null===(h=null===r(d[13]).device||void 0===r(d[13]).device?void 0:r(d[13]).device.connection)||void 0===h?void 0:h.type:"information unavailable",F=(0,r(d[14]).getNetworkConnectionType)(),L=n(F,2),R=L[0],D=L[1];O.setLoggerMeta("package",null!=N&&"VDC-core"!==N?`${N}/VDC-core`:"VDC-core").setLoggerMeta("client",null!=w?`${w}/${b}`:b).setLoggerMeta("release",null!=M?`${M}/${y.default.version}`:y.default.version).setLoggerMeta("commitHash",y.default.commit).setLoggerMeta("contextId",null!==(f=(0,r(d[15]).contextId)())&&void 0!==f?f:"").setLoggerMeta("instanceId",null!==(C=(0,r(d[15]).instanceId)())&&void 0!==C?C:"").appendChain(x).setMessageAggregate("displayName",null==e?void 0:e.displayName).setMessageAggregate("networkConnection",S).setMessageAggregate("networkConnectionType",R).setMessageAggregate("networkConnectionEffectiveType",D);var q=new(r(d[16]).Support)(new(r(d[12]).LoggerCore)("VDC-core").extend(O).appendChain(r(d[16]).Support));r(d[13]).device.isIE&&t.emitError((0,r(d[17]).createError)(r(d[17]).ErrorCode.IENotSupported,"IE is not supported",{})),t.ctx=(0,r(d[18]).context)({logger:O,videoClient:t,support:q,chain:x.displayName,token:e.token}),(0,r(d[19]).makeObservable)(t,{requestPlayer:r(d[19]).action});var z=(0,r(d[20]).makeBounded)(new Proxy(t,P));return z.init(e),O.trace("constructor()",{backendEndpoints:null==e?void 0:e.backendEndpoints}),u(t,z)}return p(x,C),l(x,[{key:"init",value:function(e){var t,n=this;null!=(null==e?void 0:e.autoPlay)&&null!=(null==e?void 0:e.playerOptions)&&null==(null===(t=null==e?void 0:e.playerOptions)||void 0===t?void 0:t.autoPlay)&&(e.playerOptions.autoPlay=e.autoPlay),this.updateOptions(e),this.on("error",function(e){r(d[17]).VideoClientError.log(e,n.ctx.logger)})}},{key:"updateOptions",value:function(e){if(null!=e){var t=x.validateOptions(e);null!=t.logger&&(this.ctx.logger.warn("using `logger` in updateOptions() is not allowed"),delete t.logger),this.options=Object.assign({},this.options,t)}}},{key:"callSupported",value:(w=t(function*(){return yield this.ctx.support.ready,this.ctx.support.supports("h264")||this.ctx.support.supports("vp8")}),function(){return w.apply(this,arguments)})},{key:"createCall",value:(b=t(function*(e){var t;yield this.ctx.support.ready;var n=this.options,o=n.backendEndpoints,l=n.token;yield this.validateCallOptions();var u={token:l,backendEndpoints:o,sfu:Object.assign({},null!==(t=e.sfu)&&void 0!==t?t:{}),playerOptions:this.options.playerOptions,clientReferrer:e.clientReferrer,streamKey:e.streamKey},s=this.createSFUJoinParams(),p=new(r(d[21]).Call)((0,r(d[22]).extendContext)(this.ctx,r(d[21]).Call),!0,u,s);return this[r(d[11]).addProxy](p),p.ready()}),function(e){return b.apply(this,arguments)})},{key:"supportCheck",value:(O=t(function*(){return this.ctx.support.supportChecks()}),function(){return O.apply(this,arguments)})},{key:"joinCall",value:(E=t(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createSFUJoinParams();return this.internalJoinCall(e,n,t,this.ctx)}),function(e){return E.apply(this,arguments)})},{key:"internalJoinCall",value:(I=t(function*(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.ctx,u=o.playerOptions,s=o.token,p=e(o,c),v=this.options,y=v.backendEndpoints,h=v.displayName,f=v.userId,P=o.onCallJoinEndpoint,C=o.onSFUConnection;yield this.validateCallOptions();var x={token:null!=s?s:this.options.token,backendEndpoints:y,callId:t,sfu:p,playerOptions:null!=u?u:this.options.playerOptions},k=Object.assign({},n,{user:Object.assign({displayName:null!=h?h:f,userId:f},null==n?void 0:n.user)}),I=new(r(d[21]).Call)((0,r(d[22]).extendContext)(l,r(d[21]).Call),!1,x,k);return I.on("callJoinEndpoint",function(){P&&P()}),I.on("sfuConnection",function(){C&&C()}),this[r(d[11]).addProxy](I),I.ready()}),function(e,t){return I.apply(this,arguments)})},{key:"requestPlayer",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,o={autoPlay:null!=n.autoPlay?n.autoPlay:f.autoPlay,displayPoster:null!=n.displayPoster?n.displayPoster:f.displayPoster,players:null!=n.players?n.players:f.players,refetch:null!=n.refetch?n.refetch:f.refetch,muted:null!=n.muted?n.muted:f.muted,pollingInterval:null!=n.pollingInterval?n.pollingInterval:f.pollingInterval,unauthorizedPollingInterval:null!=n.unauthorizedPollingInterval?n.unauthorizedPollingInterval:f.unauthorizedPollingInterval,notFoundPollingInterval:null!=n.notFoundPollingInterval?n.notFoundPollingInterval:f.notFoundPollingInterval,unauthorizedRecoveryDuration:null!=n.unauthorizedRecoveryDuration?n.unauthorizedRecoveryDuration:f.unauthorizedRecoveryDuration,volume:null!=n.volume?n.volume:f.volume,driverFailoverSeconds:null!=n.driverFailoverSeconds?n.driverFailoverSeconds:f.driverFailoverSeconds,retryCall:null!=n.retryCall?n.retryCall:f.retryCall,urlParams:null!=n.urlParams?n.urlParams:f.urlParams,requestHeaders:null!=n.requestHeaders?n.requestHeaders:f.requestHeaders,experimental:null!==(t=n.experimental)&&void 0!==t&&t},l={muted:n.muted,autoPlay:n.autoPlay,refetch:n.refetch,volume:n.volume};this.ctx.logger.debug("requestPlayer()",{manifest:e,mergedPlayerOptions:JSON.stringify(o),options:l});var u;return null==(u=this.internalRequestPlayer(e,o))&&this.throwError((0,r(d[17]).createError)(r(d[17]).ErrorCode.NoPlayersAvailable,"No supported players",{},null)),this[r(d[11]).addProxy](u),u}},{key:"createSFUJoinParams",value:function(){var e=this.options,t=e.displayName,n=e.userId;return{user:{displayName:null!=t?t:n,userId:n}}}},{key:"validateCallOptions",value:(k=t(function*(){var e=this.options,t=e.backendEndpoints,n=e.userId;(yield this.callSupported())||this.throwError((0,r(d[17]).createError)(r(d[17]).ErrorCode.H264NotSupported,"h264 is not supported",{})),null==t&&this.throwError((0,r(d[17]).createError)(r(d[17]).ErrorCode.NoBackendEndpoints,"backendEndpoints is not provided",{})),null==n&&this.throwError((0,r(d[17]).createError)(r(d[17]).ErrorCode.NoUserId,"userId is not provided",{}))}),function(){return k.apply(this,arguments)})},{key:"internalRequestPlayer",value:function(e,t){var n=this;if(t.experimental){if("string"!=typeof e)throw new Error("source must be URL");return(0,r(d[23]).requestPlayer)((0,r(d[22]).extendContext)(this.ctx,r(d[23]).Player),e,t)}if((0,r(d[24]).isManifest)(e)){var o=(0,r(d[22]).extendContext)(this.ctx,r(d[25]).ManifestPlayer),l=new h.default((0,r(d[22]).extendContext)(o,h.default),e,{pollingInterval:t.pollingInterval,notFoundPollingInterval:t.notFoundPollingInterval,unauthorizedPollingInterval:t.unauthorizedPollingInterval,unauthorizedRecoveryDuration:t.unauthorizedRecoveryDuration,urlParams:t.urlParams,requestHeaders:t.requestHeaders});l.on("error",function(e){n.emit("error",e)});var u=t.players,s={autoPlay:t.autoPlay,muted:t.muted,volume:t.volume,blurred:t.blurred,retryCall:t.retryCall,requestHeaders:t.requestHeaders};u.forEach(function(e){"string"!=typeof e&&(e.options=Object.assign({},s,e.options))});var p=new(r(d[25]).ManifestPlayer)(o,l,Object.assign({},t,{players:u}));return null!=t.preferredScoreLevel&&(p.preferredLevel=t.preferredScoreLevel),p}if(e instanceof r(d[26]).MediasoupSource)return new(r(d[27]).MediasoupPlayer)((0,r(d[22]).extendContext)(this.ctx,r(d[27]).MediasoupPlayer),e,{});if(e instanceof r(d[28]).MediaStreamController)return new(r(d[27]).MediasoupPlayer)((0,r(d[22]).extendContext)(this.ctx,r(d[27]).MediasoupPlayer),e,{});throw new(r(d[29]).NotSupportedError)("source not supported",{})}}],[{key:"validateOptions",value:function(e){return e}}]);var k,I,E,O,b,w})(r(d[30]).ObservableEventEmitter);_e2.VideoClient=C,C.displayName="VideoClient"},599,[135,345,38,12,13,23,25,28,487,600,601,614,507,502,615,605,617,613,550,526,529,665,819,827,491,858,820,825,862,543,528]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"@video/video-client-core",version:"13.2.0",commit:"79ee25b1fd57cc49823e11b1b9305f4cd0df057c"}},600,[]);
__d(function(g,r,i,_a2,m,_e2,d){"use strict";var t=r(d[0]),e=r(d[1]),o=r(d[2]),n=r(d[3]),l=r(d[4]),s=r(d[5]);function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}Object.defineProperty(_e2,"__esModule",{value:!0});var a,v=r(d[6]).__importDefault(r(d[7])),h=r(d[6]).__importDefault(r(d[8])),c=["aac"];!(function(t){t.SBP="sbp",t.IMG="img",t.VDC="vdc",t.SUBSTITUTE="substitute"})(a||(a={}));var f=(function(f){function p(t,o,s){var a,h,c,f;if(e(this,p),h=this,c=l(c=p),(a=n(h,u()?Reflect.construct(c,f||[],l(h).constructor):c.apply(h,f))).source=null,a.currentState="offline",a.formats={},a.uri=null,a.originalAuthToken=null,a.viewCount=0,a.pingUri=null,a.destroyed=!1,a.shouldBePolling=!1,a.manifest=null,a.type=null,a.pollingTimeout=null,a.noLongerUnauthorizedPolling=!1,a.unauthorizedRecoveryTimout=null,a.ctx=t,(0,r(d[9]).onceCanceled)(t).then(function(t){return a.dispose(`MediaLoader Class Context Closed: ${t}`)}),(0,r(d[10]).makeObservable)(a,{source:r(d[10]).observable.ref}),a.currentState="offline",a.formats={},a.pingUri=null,a.destroyed=!1,a.options=s,a.setManifest(o),a.setUri(o),a.shouldBePolling=!1,t.logger.attachObject(a),null!=a.ctx.token){var y="string"==typeof a.ctx.token?{token:a.ctx.token}:{refreshToken:a.ctx.token};a.auth=new v.default({bootstrap:y})}return t.logger.trace("constructor()",{manifest:o,auth:{token:"string"===a.ctx.token?a.ctx.token:void 0,hasRefreshToken:!(null==a.ctx.token||"string"===a.ctx.token)}}),a.addInnerDisposer(function(){var t;null!=a.auth&&a.auth.destroy(),a.destroyed=!0,clearInterval(null!==(t=a.pollingTimeout)&&void 0!==t?t:0)}),a}return s(p,f),o(p,[{key:"load",value:(y=t(function*(){var t,e,o,n,l,s,u,v,c,f,y,k,E,b,C,P=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!=this.manifest||this.vod)return this.emit("manifest",{state:this.currentState,formats:this.formats}),void(null!=this.manifest&&"string"!=typeof this.manifest&&(this.source=this.manifest));if(null!=this.uri){this.ctx.logger.debug("loading manifest",{uri:this.uri});var S,T,U=null,x=null,w=this.uri.split("?");T=w[1]?`&${w[1]}`:"",T=`${T=(0,r(d[11]).removeSearchParameterFromUrl)(T,a.IMG)}&${a.IMG}=${P.toString()}`,T=(0,r(d[11]).removeSearchParameterFromUrl)(T,a.VDC),(null==(null===(e=null===(t=this.options)||void 0===t?void 0:t.urlParams)||void 0===e?void 0:e.vdc)||(null===(n=null===(o=this.options)||void 0===o?void 0:o.urlParams)||void 0===n?void 0:n.vdc))&&(T=`${T}&${a.VDC}=true`),T=(0,r(d[11]).removeSearchParameterFromUrl)(T,a.SBP),(null==(null===(s=null===(l=this.options)||void 0===l?void 0:l.urlParams)||void 0===s?void 0:s.sbp)||(null===(v=null===(u=this.options)||void 0===u?void 0:u.urlParams)||void 0===v?void 0:v.sbp))&&(T=`${T}&${a.SBP}=true`),T=(0,r(d[11]).removeSearchParameterFromUrl)(T,a.SUBSTITUTE),(null==(null===(f=null===(c=this.options)||void 0===c?void 0:c.urlParams)||void 0===f?void 0:f.substitute)||(null===(k=null===(y=this.options)||void 0===y?void 0:y.urlParams)||void 0===k?void 0:k.substitute))&&(T=`${T}&${a.SUBSTITUTE}=true`);var I=`${w[0]}?${T}`;try{S=null!==(E=null==(U=yield(0,h.default)(this.ctx,I,{auth:this.auth,method:"get",headers:this.options.requestHeaders}))?void 0:U.status)&&void 0!==E?E:0}catch(t){S=null!==(b=null==U?void 0:U.status)&&void 0!==b?b:0,x=(0,r(d[12]).createError)(r(d[13]).ErrorCode.NetworkError,"Internal Error",{status:S})}if(!this.isDisposed){S>499?x=(0,r(d[12]).createError)(r(d[13]).ErrorCode.NetworkError,"Internal Error",{status:S}):404===S?x=(0,r(d[12]).createError)(r(d[13]).ErrorCode.NetworkError,"Not Found",{status:S}):403===S?x=(0,r(d[12]).createError)(r(d[13]).ErrorCode.NetworkError,"Forbidden",{status:S}):401===S&&(x=(0,r(d[12]).createError)(r(d[13]).ErrorCode.NetworkError,"Unauthorized",{status:S}));var $=null;x||null==(null==U?void 0:U.body)||($=this.validateResponse(null==U?void 0:U.body)?null==U?void 0:U.body:null),x||null!=$||(x=(0,r(d[12]).createError)(r(d[13]).ErrorCode.NetworkError,"Unexpected Response",{status:S})),null!=x&&(404===S?this.ctx.logger.debug("manifest not found"):this.emitError(x)),this.ctx.logger.debug("manifest received",{body:$,code:S,uri:this.uri});var B=null;if(404===S||null==$||null==$.formats)B="offline";else if(200===S&&null!=$.self){var M=$.self;if(!M.includes("://")&&this.uri.includes("://")){var N=/(\w*:\/\/[^/]+)/.exec(this.uri);(null!==(C=null==N?void 0:N.length)&&void 0!==C?C:0)>1&&(M=`${null==N?void 0:N[1]}/${M}`)}this.uri=M}if(null==B&&null!=(null==$?void 0:$.formats)&&(this.formats=p.modifyFormats($.formats),B=0===Object.keys(this.formats).length?"offline":"online"),"online"===B&&null!=(null==$?void 0:$.viewCount)&&(this.viewCount=$.viewCount),null==B){var R=S>=400?"Network error while retrieving manifest":"Invalid manifest";this.throwError((0,r(d[12]).createError)(r(d[13]).ErrorCode.ManifestError,R,{url:this.uri},x))}B!==this.currentState&&this.emit(B),this.currentState=B,this.pingUri=null!=(null==$?void 0:$.ping)?$.ping:null,this.type=null!=(null==$?void 0:$.type)?$.type:"live",this.emit("manifest",{state:this.currentState,code:S,formats:this.formats,viewCount:this.viewCount}),null!=$&&(this.source=$),"recorded"!==(null==$?void 0:$.type)&&this.setNextPoll(S)}}}),function(){return y.apply(this,arguments)})},{key:"setNextPoll",value:function(t){var e,o=this;if(!this.vod){r(d[14]).device.clearTimeout(null!==(e=this.pollingTimeout)&&void 0!==e?e:0);var n=this.options.pollingInterval;switch(t){case 401:case 403:if(this.noLongerUnauthorizedPolling)return this.currentState="forbidden",void this.emit("manifest",{state:this.currentState,code:t,formats:this.formats});n=this.options.unauthorizedPollingInterval,null==this.unauthorizedRecoveryTimout&&(this.unauthorizedRecoveryTimout=r(d[14]).device.setTimeout(function(){o.noLongerUnauthorizedPolling=!0},this.options.unauthorizedRecoveryDuration));break;case 404:n=this.options.notFoundPollingInterval;break;default:this.noLongerUnauthorizedPolling=!1}this.pollingTimeout=r(d[14]).device.setTimeout(function(){o.load().catch(function(t){return o.emit("error",t)})},n)}}},{key:"setManifest",value:function(t){var e,o,n,l;if(this.type=null,this.formats={},"string"==typeof t?this.uri=t:this.validateResponse(t)&&(this.uri=null!==(e=t.self)&&void 0!==e?e:null,this.manifest=t,this.currentState="online",this.type=null!==(o=this.manifest.type)&&void 0!==o?o:null,this.formats=null!==(n=this.manifest.formats)&&void 0!==n?n:{}),null!=this.uri){var s=this.uri.indexOf("accessToken=");if(s>-1){var u=this.uri.slice(s+12),a=null!==(l=u.indexOf("&"))&&void 0!==l?l:-1;this.originalAuthToken=a>-1?u.slice(0,a):u}}}},{key:"hasPlayableMedia",get:function(){return null!=this.uri||null!=this.manifest}},{key:"validateResponse",value:function(t){var e,o,n;try{var l=null===(e=t.formats)||void 0===e?void 0:e.webrtc;null!=l&&("string"==typeof(null===(o=l.origin)||void 0===o?void 0:o.location)&&(l.origin.location=null===(n=l.origin)||void 0===n?void 0:n.location.replace(/https?:\/\/(https?):?\/\//,"$1://")),"string"==typeof l.origin.rsrc&&(l.origin.rsrc=l.origin.rsrc.replace(/:3000:3000/,":3000")))}catch(t){return this.emitError((0,r(d[12]).createError)(r(d[13]).ErrorCode.BadManifest,"bad manifest",{},t)),!1}return!0}},{key:"setUri",value:function(t){return null==t?null!=this.uri:"string"==typeof t?(this.uri=t,!0):this.validateResponse(t)?(this.manifest=t,null!=t.self&&(this.uri=t.self),!0):(this.emitError((0,r(d[12]).createError)(r(d[13]).ErrorCode.BadManifest,"Invalid Media URL",{})),!1)}},{key:"get",value:function(t){var e,o=this.formats[t];if(null==o)return{encodings:[],state:"online",auto:!1,driver:""};var n,l=[];return"origin"in o&&null!=o.origin&&((n=o.origin).origin=!0),"encodings"in o&&null!=o.encodings&&(l=o.encodings.sort(function(t,e){var o,n,l,s;return(null!==(o=t.videoKbps)&&void 0!==o?o:0)+(null!==(n=t.audioKbps)&&void 0!==n?n:0)>(null!==(l=e.videoKbps)&&void 0!==l?l:0)+(null!==(s=e.audioKbps)&&void 0!==s?s:0)?1:-1})),{type:null!==(e=this.type)&&void 0!==e?e:void 0,origin:null!=n?n:void 0,encodings:l,audioCodec:"audioCodec"in o?o.audioCodec:void 0,videoCodec:"videoCodec"in o?o.videoCodec:void 0,manifest:"manifest"in o?o.manifest:void 0,state:"online",auto:!1,driver:""}}},{key:"vod",get:function(){return"recorded"===this.type}},{key:"startInterval",value:function(){null==this.options.pollingInterval||null!=this.manifest||this.vod?this.shouldBePolling=!1:this.shouldBePolling=!0}},{key:"toJSON",value:function(){return{uri:this.uri,options:JSON.stringify(this.options),aggregates:{support:this.ctx.support.hash,state:this.currentState}}}}],[{key:"modifyFormats",value:function(t){for(var e of Object.keys(t))if("mp4-ws"===e){var o=t[e];null!=(null==o?void 0:o.origin)&&c.includes(o.audioCodec)&&(o.origin=void 0)}return t}}]);var y})(r(d[15]).ObservableEventEmitter);f.displayName="MediaLoader",_e2.default=f},601,[345,12,13,23,25,28,487,602,606,550,526,605,613,485,502,528]);
__d(function(g,r,i,a,m,_e3,d){"use strict";var e=r(d[0]),t=r(d[1]),o=r(d[2]),n=r(d[3]),s=r(d[4]),l=r(d[5]);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}Object.defineProperty(_e3,"__esModule",{value:!0}),_e3.defaultOptions=void 0,_e3.isJwtToken=v;var h=r(d[6]).__importDefault(r(d[7])),f=r(d[6]).__importDefault(r(d[8])),c=r(d[6]).__importDefault(r(d[9]));function v(e){try{return(0,r(d[10]).jwtDecode)(e),!0}catch(e){return!1}}_e3.defaultOptions={timeout:3e4,headers:{Accept:"application/json"}};var p=(function(h){function p(e){var o,l,h,v,k,_,y,b,w,T,E,q;t(this,p),T=this,E=s(E=p),(o=n(T,u()?Reflect.construct(E,q||[],s(T).constructor):E.apply(T,q)))._stopped=!1,o._fatalError=null,o._token=null,o._retry=0,o._retries=[0,200,1e3,3e3],o._autorefresh=null,o._url=null;var M=null!==(l=null==e?void 0:e.logger)&&void 0!==l?l:new(r(d[11]).LoggerCore)("VDC-core");null==e||delete e.logger;var L=null!==(v=null===(h=null==e?void 0:e.loggerConfig)||void 0===h?void 0:h.clientName)&&void 0!==v?v:"VDC",R=M.getLoggerMeta("client"),D=M.getLoggerMeta("release"),x=M.getLoggerMeta("package");if(M.setLoggerMeta("package",null!=x&&"VDC-core"!==x?`${x}/VDC-core`:"VDC-core").setLoggerMeta("client",null!=R?`${R}/${L}`:L).setLoggerMeta("release",null!=D?`${D}/${c.default.version}`:c.default.version).setLoggerMeta("commitHash",c.default.commit).setLoggerMeta("contextId",null!==(k=(0,r(d[12]).contextId)())&&void 0!==k?k:"").setLoggerMeta("instanceId",null!==(_=(0,r(d[12]).instanceId)())&&void 0!==_?_:"").appendChain(p),o.logger=M,o.options=(0,f.default)(_e3.defaultOptions,e),null==e.endpoint&&null==(null==e?void 0:e.bootstrap))return o.validationError("endpoint or bootstrap must be configured for auth"),n(o);if(null!=(null===(y=o.options.bootstrap)||void 0===y?void 0:y.token)&&(o._token=o.options.bootstrap.token,o.logger.setMessageAggregate("token",null!==(b=o._token)&&void 0!==b?b:"undefined"),o.logger.info("auth token set from bootstrap value")),o._headers=o.options.headers,null==o._token)o._retryRequest();else if(null!=(null===(w=o.options.bootstrap)||void 0===w?void 0:w.expire)){var O=o.options.bootstrap.expire.getTime()-Date.now()-6e4;o._autorefresh=r(d[13]).device.setTimeout(function(){o._autorefresh=null,o._stopped||o._retryRequest()},O)}return o}return l(p,h),o(p,[{key:"requestAsync",value:(y=e(function*(){var e=this;return new Promise(function(t,o){e.request(function(e,n,s){null==e?t([null!=n?n:null,null!=s&&s]):o(e)})})}),function(){return y.apply(this,arguments)})},{key:"validationError",value:function(e){var t=new Error(e);this._fatalError=t,this._stopped=!0,this.logger.error(e,{errName:null==t?void 0:t.name,errStack:null==t?void 0:t.stack})}},{key:"destroy",value:function(){this.logger.info("destroy()"),this._stopped=!0}},{key:"request",value:function(e){var t=this;if(this._fatalError)e(this._fatalError);else{if(null!=this._token)return this.logger.debug("existing token returned on token request"),void e(null,this._token,v(this._token));var o=function(){t.removeListener("fatal",n),r(d[13]).device.clearTimeout(s),t.logger.debug("new token returned on token request"),e(null,t._token,v(t._token))},n=function(){t.removeListener("token",o),r(d[13]).device.clearTimeout(s),t.logger.debug("new token returned on token request"),e(t._fatalError)},s=r(d[13]).device.setTimeout(function(){t.removeListener("token",o),t.removeListener("fatal",n),t.logger.info("token request timeout"),e(new Error("authorization: timeout"))},this.options.timeout);this.once("token",o),this.once("fatal",n)}}},{key:"refreshToken",value:function(e){var t,o=this;return this.logger.debug("refreshToken called",{token:e}),null==e&&null==this._token?(this.logger.debug("no token to refresh"),!1):null!=e?(this._token=e,this.logger.setMessageAggregate("token",null!==(t=this._token)&&void 0!==t?t:"undefined"),this.logger.info("token manually set from refreshToken"),this._fatalError=null,null!=this._autorefresh&&(r(d[13]).device.clearTimeout(this._autorefresh),this._autorefresh=null),!0):!this._fatalError&&(null!=this._token&&(null!=this._autorefresh&&(r(d[13]).device.clearTimeout(this._autorefresh),this._autorefresh=null),this._token=null,this.logger.removeMessageAggregate("token"),o._retryRequest()),!0)}},{key:"ensureToken",value:function(e){null!=this._token?e():this.once("token",function(){e()})}},{key:"_parseJSON",value:function(e){return e.text().then(function(e){if(e)try{return JSON.parse(e)}catch(e){}return{}})}},{key:"_retryRequest",value:function(){var e=this,t=this._retries[this._retry];t?setTimeout(function(){e._makeRequest()},t):this._makeRequest()}},{key:"toJSON",value:function(){return{}}},{key:"_tokenSuccess",value:function(e){var t=this;this._token=e,this.logger.setMessageAggregate("token",this._token),this._retry=0,setTimeout(function(){t.emit("token",{token:e})})}},{key:"_makeRequest",value:(_=e(function*(){var e,t,o;if(null!=(null===(t=null===(e=this.options)||void 0===e?void 0:e.bootstrap)||void 0===t?void 0:t.refreshToken))try{var n=yield this.options.bootstrap.refreshToken();return this._tokenSuccess(n),void this.logger.info("token set from async bootstrap refreshToken")}catch(e){return void(e instanceof Error&&(this._fatalError=e,this.logger.warn("unable to refresh token from bootstrap function",{errName:null==e?void 0:e.name,errStack:null==e?void 0:e.stack}),this.emit("fatal")))}if(null==(null===(o=this.options)||void 0===o?void 0:o.endpoint))throw new Error("authorization: no ability to refresh token (boostrap or endpoint)");-1===this.options.endpoint.uri.indexOf("?")?this._url=`${this.options.endpoint.uri}?scope=${this.options.endpoint.scope}`:this._url=`${this.options.endpoint.uri}&scope=${this.options.endpoint.scope}`,this._handleFetch()}),function(){return _.apply(this,arguments)})},{key:"_handleFetch",value:(k=e(function*(){if(null!=this._url)try{var e=yield r(d[13]).device.fetch(this._url,{credentials:"same-origin",headers:this._headers});this._handleFetchResponse(e)}catch(e){if(this._token=null,this.logger.removeMessageAggregate("token"),e instanceof TypeError)return this._fatalError=e,this.logger.error(e.message,{errName:null==e?void 0:e.name,errStack:null==e?void 0:e.stack}),void this.emit("fatal");this.logger.network("unable to refresh token from endpoint",{}),this._retryRequest(),this._retry<this._retries.length-1&&this._retry++}}),function(){return k.apply(this,arguments)})},{key:"_handleFetchResponse",value:function(e){var t=this;if(!(e.status>=200&&e.status<300)){var o;if(401===e.status)throw new Error("authorization: unauthorized");if(403===e.status)throw new Error("authorization: forbidden");throw new Error("authorization: non-200 response code from auth server")}var n=this._parseJSON(e);if(!(o=n,void 0===o.token&&void 0===o.expire||(null!=(null==n?void 0:n.token)&&(this._tokenSuccess(n.token),this.logger.info("token set from request response")),null==(null==n?void 0:n.expire)))){var s=new Date(n.expire).getTime()-Date.now()-6e4;this._autorefresh=r(d[13]).device.setTimeout(function(){t._autorefresh=null,t._stopped||(t.logger.info("refreshing token before expiration"),t._retryRequest())},s)}}}]);var k,_,y})(h.default);p.displayName="Authorization",_e3.default=p},602,[345,12,13,23,25,28,487,516,603,600,604,507,605,502]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=function(t){return n(t)&&!c(t)};function n(t){return!!t&&'object'==typeof t}function c(t){var n=Object.prototype.toString.call(t);return'[object RegExp]'===n||'[object Date]'===n||u(t)}var o='function'==typeof Symbol&&Symbol.for?Symbol.for('react.element'):60103;function u(t){return t.$$typeof===o}function f(t,n){return!1!==n.clone&&n.isMergeableObject(t)?M((c=t,Array.isArray(c)?[]:{}),t,n):t;var c}function y(t,n,c){return t.concat(n).map(function(t){return f(t,c)})}function b(t,n){if(!n.customMerge)return M;var c=n.customMerge(t);return'function'==typeof c?c:M}function l(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(n){return Object.propertyIsEnumerable.call(t,n)}):[]}function s(t){return Object.keys(t).concat(l(t))}function p(t,n){try{return n in t}catch(t){return!1}}function O(t,n){return p(t,n)&&!(Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n))}function j(t,n,c){var o={};return c.isMergeableObject(t)&&s(t).forEach(function(n){o[n]=f(t[n],c)}),s(n).forEach(function(u){O(t,u)||(p(t,u)&&c.isMergeableObject(n[u])?o[u]=b(u,c)(t[u],n[u],c):o[u]=f(n[u],c))}),o}function M(n,c,o){(o=o||{}).arrayMerge=o.arrayMerge||y,o.isMergeableObject=o.isMergeableObject||t,o.cloneUnlessOtherwiseSpecified=f;var u=Array.isArray(c);return u===Array.isArray(n)?u?o.arrayMerge(n,c,o):j(n,c,o):f(c,o)}M.all=function(t,n){if(!Array.isArray(t))throw new Error('first argument should be an array');return t.reduce(function(t,c){return M(t,c,n)},{})};var v=M;m.exports=v},603,[]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),c=r(d[4]),s=r(d[5]);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.jwtDecode=_e.InvalidTokenError=void 0;var l=(function(s){function l(){return t(this,l),e=this,s=arguments,c=o(c=l),n(e,u()?Reflect.construct(c,s||[],o(e).constructor):c.apply(e,s));var e,c,s}return c(l,s),e(l)})(s(Error));function f(e){return decodeURIComponent(atob(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function p(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return f(t)}catch(e){return atob(t)}}_e.InvalidTokenError=l,l.prototype.name="InvalidTokenError",_e.jwtDecode=function(e,t){if("string"!=typeof e)throw new l("Invalid token specified: must be a string");t||(t={});var n,o=!0===t.header?0:1,c=e.split(".")[o];if("string"!=typeof c)throw new l(`Invalid token specified: missing part #${o+1}`);try{n=p(c)}catch(e){throw new l(`Invalid token specified: invalid base64 for part #${o+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new l(`Invalid token specified: invalid json for part #${o+1} (${e.message})`)}}},604,[13,12,23,25,28,85]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ID_KEY=e.INSTANCE_ID_KEY=e.PACKAGE_NAME=void 0,e.instanceId=function(){if(r(d[0]).device.isImplements(r(d[0]).Feature.LOCAL_STORAGE))return null==r(d[0]).device.localStorage.getItem(e.INSTANCE_ID_KEY)&&r(d[0]).device.localStorage.setItem(e.INSTANCE_ID_KEY,(0,r(d[1]).uuidv4)()),r(d[0]).device.localStorage.getItem(e.INSTANCE_ID_KEY);return null},e.contextId=function(){r(d[0]).device.globals.has(e.CONTEXT_ID_KEY)||r(d[0]).device.globals.set(e.CONTEXT_ID_KEY,(0,r(d[1]).uuidv4)());var t=r(d[0]).device.globals.get(e.CONTEXT_ID_KEY);return"string"==typeof t?t:null},e.applyUserInteractionHook=function(){r(d[0]).device.applyUserInteractionHook()},e.removeSearchParameterFromUrl=function(t,n){var c=new RegExp(`([?&])${n}=[^&]*`,"g");return t.replace(c,"")},e.PACKAGE_NAME="VDC-core",e.INSTANCE_ID_KEY="vdc:instanceId",e.CONTEXT_ID_KEY="vdc:contextId"},605,[502,497]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.getAuthToken=l;var n=r(d[2]).__importDefault(r(d[3])),o=r(d[2]).__importDefault(r(d[4])),s={Accept:"application/json","Content-Type":"application/json"},u={headers:{},failoverUrls:[],reauth:!1,method:"get",warnStatuses:[],callId:""};function l(e){return c.apply(this,arguments)}function c(){return(c=t(function*(e){var t=e.auth,n=e.ctx;e.reauth&&t.refreshToken();try{return yield(0,o.default)(t)}catch(e){var s=e instanceof Error?e.message:"unknown error";throw n.logger.warn("Authorization error",{err:s}),e}})).apply(this,arguments)}_e.default=(function(){var o=t(function*(o,c,h){var f,v,p,w,y=Object.assign({},u,h);if(null!=h.auth&&"function"!=typeof h.auth.refreshToken)throw o.logger.error("auth must be a Authorization object"),new Error("auth must be a Authorization object");var b=null!==(f=y.auth)&&void 0!==f?f:null,U=null!==(v=y.headers)&&void 0!==v?v:{},k=Object.assign({},s,U),j=c,x=null!==(w=null===(p=y.failoverUrls)||void 0===p?void 0:p.slice())&&void 0!==w?w:[],A=x.length>0,E=function(){if(null==x[0])throw new Error("Failover URL is undefined");var t=e(x,1);j=t[0],x=x.slice(1),A=x.length>0},_=(function(){var e=t(function*(){var e,t,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=null;if(null!=b)try{u=yield l({ctx:o,auth:b,reauth:h.reauth})}catch(e){var c=e instanceof Error?e.message:"unknown error";throw o.logger.warn("Authorization error",{err:c}),e}var f,v,p={method:null!==(e=h.method)&&void 0!==e?e:"get",headers:null!=u?Object.assign({},k,{Authorization:`bearer ${u}`}):k};if(null!=h.body&&(p.body=h.body),null!=h.query){var w=n.default.stringify(h.query);j=j.includes("?")?`${j}&${w}`:`${j}?${w}`}try{f=yield r(d[5]).device.fetch(j,p)}catch(e){var y=e instanceof Error?e.message:"unknown error";if(o.logger.warn("Unable to reach server",{useUrl:j,err:y}),!s&&A)return E(),_(0===x.length);throw e}if(204===f.status)return null;try{v=yield f.json()}catch(e){var U;try{U=yield f.text()}catch(z){}if(o.logger.warn("Unexpected non-json response from server",{useUrl:j,body:U,statusCode:f.status}),!s&&A)return E(),_(0===x.length);throw e}if(401===f.status||403===f.status){if(null!=b&&!s)try{if(b.refreshToken())return _(!0)}catch(e){throw new Error(`Token may be invalid or expired, status code: ${f.status} error: ${e}`)}throw o.logger.warn("Authorization error from server",{useUrl:j,status:f.status,reasons:null==v?void 0:v.reasons}),new(r(d[6]).NetworkError)("Authorization error from server",{status:f.status})}if(null!=h.expectedStatus&&f.status!==h.expectedStatus||200!==f.status){A||(null===(t=h.warnStatuses)||void 0===t?void 0:t.includes(f.status))?o.logger.warn("Unexpected response code from server",{useUrl:j,status:f.status,reasons:null==v?void 0:v.reasons}):o.logger.error("Unexpected response code from server",{useUrl:j,status:f.status,reasons:null==v?void 0:v.reasons});var z=new(r(d[6]).NetworkError)("Unexpected response code from server",{status:f.status});if(!s&&A)return E(),_(0===x.length);throw z}return{authToken:u,body:v,status:f.status}});return function(){return e.apply(this,arguments)}})();return _()});return function(e,t,n){return o.apply(this,arguments)}})()},606,[38,345,487,607,612,502,543]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={formats:r(d[0]),parse:r(d[1]),stringify:r(d[2])}},607,[608,610,611]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=String.prototype.replace,n=/%20/g,o={RFC1738:'RFC1738',RFC3986:'RFC3986'};m.exports=r(d[0]).assign({default:o.RFC3986,formatters:{RFC1738:function(o){return t.call(o,n,'+')},RFC3986:function(t){return String(t)}}},o)},608,[609]);
__d(function(g,r,_i,_a,m,_e,d){'use strict';var t=Object.prototype.hasOwnProperty,e=Array.isArray,o=(function(){for(var t=[],e=0;e<256;++e)t.push('%'+((e<16?'0':'')+e.toString(16)).toUpperCase());return t})(),n=function(t){for(;t.length>1;){var o=t.pop(),n=o.obj[o.prop];if(e(n)){for(var c=[],u=0;u<n.length;++u)void 0!==n[u]&&c.push(n[u]);o.obj[o.prop]=c}}},c=function(t,e){for(var o=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(o[n]=t[n]);return o};m.exports={arrayToObject:c,assign:function(t,e){return Object.keys(e).reduce(function(t,o){return t[o]=e[o],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:'o'}],o=[],c=0;c<e.length;++c)for(var u=e[c],f=u.obj[u.prop],p=Object.keys(f),i=0;i<p.length;++i){var a=p[i],s=f[a];'object'==typeof s&&null!==s&&-1===o.indexOf(s)&&(e.push({obj:f,prop:a}),o.push(s))}return n(e),t},decode:function(t,e,o){var n=t.replace(/\+/g,' ');if('iso-8859-1'===o)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,n){if(0===t.length)return t;var c=t;if('symbol'==typeof t?c=Symbol.prototype.toString.call(t):'string'!=typeof t&&(c=String(t)),'iso-8859-1'===n)return escape(c).replace(/%u[0-9a-f]{4}/gi,function(t){return'%26%23'+parseInt(t.slice(2),16)+'%3B'});for(var u='',f=0;f<c.length;++f){var p=c.charCodeAt(f);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122?u+=c.charAt(f):p<128?u+=o[p]:p<2048?u+=o[192|p>>6]+o[128|63&p]:p<55296||p>=57344?u+=o[224|p>>12]+o[128|p>>6&63]+o[128|63&p]:(f+=1,p=65536+((1023&p)<<10|1023&c.charCodeAt(f)),u+=o[240|p>>18]+o[128|p>>12&63]+o[128|p>>6&63]+o[128|63&p])}return u},isBuffer:function(t){return!(!t||'object'!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return'[object RegExp]'===Object.prototype.toString.call(t)},maybeMap:function(t,o){if(e(t)){for(var n=[],c=0;c<t.length;c+=1)n.push(o(t[c]));return n}return o(t)},merge:function o(n,u,f){if(!u)return n;if('object'!=typeof u){if(e(n))n.push(u);else{if(!n||'object'!=typeof n)return[n,u];(f&&(f.plainObjects||f.allowPrototypes)||!t.call(Object.prototype,u))&&(n[u]=!0)}return n}if(!n||'object'!=typeof n)return[n].concat(u);var p=n;return e(n)&&!e(u)&&(p=c(n,f)),e(n)&&e(u)?(u.forEach(function(e,c){if(t.call(n,c)){var u=n[c];u&&'object'==typeof u&&e&&'object'==typeof e?n[c]=o(u,e,f):n.push(e)}else n[c]=e}),n):Object.keys(u).reduce(function(e,n){var c=u[n];return t.call(e,n)?e[n]=o(e[n],c,f):e[n]=c,e},p)}}},609,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=Object.prototype.hasOwnProperty,i=Array.isArray,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:'utf-8',charsetSentinel:!1,comma:!1,decoder:r(d[0]).decode,delimiter:'&',depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(t){return t.replace(/&#(\d+);/g,function(t,i){return String.fromCharCode(parseInt(i,10))})},l=function(t,i){return t&&'string'==typeof t&&i.comma&&t.indexOf(',')>-1?t.split(','):t},c=function(c,s){var p,u={},f=s.ignoreQueryPrefix?c.replace(/^\?/,''):c,y=s.parameterLimit===1/0?void 0:s.parameterLimit,h=f.split(s.delimiter,y),b=-1,O=s.charset;if(s.charsetSentinel)for(p=0;p<h.length;++p)0===h[p].indexOf('utf8=')&&("utf8=%E2%9C%93"===h[p]?O='utf-8':"utf8=%26%2310003%3B"===h[p]&&(O='iso-8859-1'),b=p,p=h.length);for(p=0;p<h.length;++p)if(p!==b){var v,w,j=h[p],x=j.indexOf(']='),N=-1===x?j.indexOf('='):x+1;-1===N?(v=s.decoder(j,n.decoder,O,'key'),w=s.strictNullHandling?null:''):(v=s.decoder(j.slice(0,N),n.decoder,O,'key'),w=r(d[0]).maybeMap(l(j.slice(N+1),s),function(t){return s.decoder(t,n.decoder,O,'value')})),w&&s.interpretNumericEntities&&'iso-8859-1'===O&&(w=o(w)),j.indexOf('[]=')>-1&&(w=i(w)?[w]:w),t.call(u,v)?u[v]=r(d[0]).combine(u[v],w):u[v]=w}return u},s=function(t,i,n,o){for(var c=o?i:l(i,n),s=t.length-1;s>=0;--s){var p,u=t[s];if('[]'===u&&n.parseArrays)p=[].concat(c);else{p=n.plainObjects?Object.create(null):{};var f='['===u.charAt(0)&&']'===u.charAt(u.length-1)?u.slice(1,-1):u,y=parseInt(f,10);n.parseArrays||''!==f?!isNaN(y)&&u!==f&&String(y)===f&&y>=0&&n.parseArrays&&y<=n.arrayLimit?(p=[])[y]=c:p[f]=c:p={0:c}}c=p}return c},p=function(i,n,o,l){if(i){var c=o.allowDots?i.replace(/\.([^.[]+)/g,'[$1]'):i,p=/(\[[^[\]]*])/g,u=o.depth>0&&/(\[[^[\]]*])/.exec(c),f=u?c.slice(0,u.index):c,y=[];if(f){if(!o.plainObjects&&t.call(Object.prototype,f)&&!o.allowPrototypes)return;y.push(f)}for(var h=0;o.depth>0&&null!==(u=p.exec(c))&&h<o.depth;){if(h+=1,!o.plainObjects&&t.call(Object.prototype,u[1].slice(1,-1))&&!o.allowPrototypes)return;y.push(u[1])}return u&&y.push('['+c.slice(u.index)+']'),s(y,n,o,l)}},u=function(t){if(!t)return n;if(null!==t.decoder&&void 0!==t.decoder&&'function'!=typeof t.decoder)throw new TypeError('Decoder has to be a function.');if(void 0!==t.charset&&'utf-8'!==t.charset&&'iso-8859-1'!==t.charset)throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');var i=void 0===t.charset?n.charset:t.charset;return{allowDots:void 0===t.allowDots?n.allowDots:!!t.allowDots,allowPrototypes:'boolean'==typeof t.allowPrototypes?t.allowPrototypes:n.allowPrototypes,arrayLimit:'number'==typeof t.arrayLimit?t.arrayLimit:n.arrayLimit,charset:i,charsetSentinel:'boolean'==typeof t.charsetSentinel?t.charsetSentinel:n.charsetSentinel,comma:'boolean'==typeof t.comma?t.comma:n.comma,decoder:'function'==typeof t.decoder?t.decoder:n.decoder,delimiter:'string'==typeof t.delimiter||r(d[0]).isRegExp(t.delimiter)?t.delimiter:n.delimiter,depth:'number'==typeof t.depth||!1===t.depth?+t.depth:n.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:'boolean'==typeof t.interpretNumericEntities?t.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:'number'==typeof t.parameterLimit?t.parameterLimit:n.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:'boolean'==typeof t.plainObjects?t.plainObjects:n.plainObjects,strictNullHandling:'boolean'==typeof t.strictNullHandling?t.strictNullHandling:n.strictNullHandling}};m.exports=function(t,i){var n=u(i);if(''===t||null==t)return n.plainObjects?Object.create(null):{};for(var o='string'==typeof t?c(t,n):t,l=n.plainObjects?Object.create(null):{},s=Object.keys(o),f=0;f<s.length;++f){var y=s[f],h=p(y,o[y],n,'string'==typeof t);l=r(d[0]).merge(l,h,n)}return r(d[0]).compact(l)}},610,[609]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=Object.prototype.hasOwnProperty,o={brackets:function(t){return t+'[]'},comma:'comma',indices:function(t,o){return t+'['+o+']'},repeat:function(t){return t}},n=Array.isArray,i=Array.prototype.push,l=function(t,o){i.apply(t,n(o)?o:[o])},f=Date.prototype.toISOString,s={addQueryPrefix:!1,allowDots:!1,charset:'utf-8',charsetSentinel:!1,delimiter:'&',encode:!0,encoder:r(d[0]).encode,encodeValuesOnly:!1,format:r(d[1]).default,formatter:r(d[1]).formatters[r(d[1]).default],indices:!1,serializeDate:function(t){return f.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(o,i,f,c,u,y,p,h,v,b,D,w,k){var N,O=o;if('function'==typeof p?O=p(i,O):O instanceof Date?O=b(O):'comma'===f&&n(O)&&(O=r(d[0]).maybeMap(O,function(t){return t instanceof Date?b(t):t}).join(',')),null===O){if(c)return y&&!w?y(i,s.encoder,k,'key'):i;O=''}if('string'==typeof(N=O)||'number'==typeof N||'boolean'==typeof N||'symbol'==typeof N||'bigint'==typeof N||r(d[0]).isBuffer(O))return y?[D(w?i:y(i,s.encoder,k,'key'))+'='+D(y(O,s.encoder,k,'value'))]:[D(i)+'='+D(String(O))];var S,x=[];if(void 0===O)return x;if(n(p))S=p;else{var P=Object.keys(O);S=h?P.sort(h):P}for(var j=0;j<S.length;++j){var z=S[j],H=O[z];if(!u||null!==H){var Q=n(O)?'function'==typeof f?f(i,z):i:i+(v?'.'+z:'['+z+']');l(x,t(H,Q,f,c,u,y,p,h,v,b,D,w,k))}}return x},u=function(o){if(!o)return s;if(null!==o.encoder&&void 0!==o.encoder&&'function'!=typeof o.encoder)throw new TypeError('Encoder has to be a function.');var i=o.charset||s.charset;if(void 0!==o.charset&&'utf-8'!==o.charset&&'iso-8859-1'!==o.charset)throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');var l=r(d[1]).default;if(void 0!==o.format){if(!t.call(r(d[1]).formatters,o.format))throw new TypeError('Unknown format option provided.');l=o.format}var f=r(d[1]).formatters[l],c=s.filter;return('function'==typeof o.filter||n(o.filter))&&(c=o.filter),{addQueryPrefix:'boolean'==typeof o.addQueryPrefix?o.addQueryPrefix:s.addQueryPrefix,allowDots:void 0===o.allowDots?s.allowDots:!!o.allowDots,charset:i,charsetSentinel:'boolean'==typeof o.charsetSentinel?o.charsetSentinel:s.charsetSentinel,delimiter:void 0===o.delimiter?s.delimiter:o.delimiter,encode:'boolean'==typeof o.encode?o.encode:s.encode,encoder:'function'==typeof o.encoder?o.encoder:s.encoder,encodeValuesOnly:'boolean'==typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly,filter:c,formatter:f,serializeDate:'function'==typeof o.serializeDate?o.serializeDate:s.serializeDate,skipNulls:'boolean'==typeof o.skipNulls?o.skipNulls:s.skipNulls,sort:'function'==typeof o.sort?o.sort:null,strictNullHandling:'boolean'==typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling}};m.exports=function(t,i){var f,s=t,y=u(i);'function'==typeof y.filter?s=(0,y.filter)('',s):n(y.filter)&&(f=y.filter);var p,h=[];if('object'!=typeof s||null===s)return'';p=i&&i.arrayFormat in o?i.arrayFormat:i&&'indices'in i?i.indices?'indices':'repeat':'indices';var v=o[p];f||(f=Object.keys(s)),y.sort&&f.sort(y.sort);for(var b=0;b<f.length;++b){var D=f[b];y.skipNulls&&null===s[D]||l(h,c(s[D],D,v,y.strictNullHandling,y.skipNulls,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.formatter,y.encodeValuesOnly,y.charset))}var w=h.join(y.delimiter),k=!0===y.addQueryPrefix?'?':'';return y.charsetSentinel&&('iso-8859-1'===y.charset?k+='utf8=%26%2310003%3B&':k+='utf8=%E2%9C%93&'),w.length>0?k+w:''}},611,[609,608]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return new Promise(function(u,t){n.request(function(n,l){null==n&&null!=l?u(l):t(n)})})}},612,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),n=r(d[1]),t=r(d[2]),o=r(d[3]),u=r(d[4]),s=r(d[5]),l=r(d[6]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.VideoClientError=_e.ErrorCode=void 0,_e.wrapError=h,_e.createError=y,Object.defineProperty(_e,"ErrorCode",{enumerable:!0,get:function(){return r(d[7]).ErrorCode}});var f=new Set(["toJSON","stack","detailed","handled","inner","aggregates"]);function v(e){var n;return null==e?null:"toJSON"in e&&"function"==typeof e.toJSON?e:{err:null!==(n=e.name)&&void 0!==n?n:e.constructor.name,message:e.message,stack:e.stack}}function h(e){return null==e?null:(0,r(d[8]).isVideoClientError)(e)?e:e instanceof Error?y(r(d[7]).ErrorCode.NativeError,e.message,{type:e.name}):e instanceof ErrorEvent?y(r(d[7]).ErrorCode.NativeError,e.message,{type:e.type}):y(r(d[7]).ErrorCode.NativeError,String(e),{type:"unknown"})}function E(e,n,t){for(var o=null==n?`[${e}]`:`[${e}] ${n}`;null!=t;)o+=`; [${t.code}] ${t.message}`,t=t.inner;return o}function y(e,n,t){return new k(e,n,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}var k=(function(l){function y(t,s){var l,f,v,k,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var O of(n(this,y),f=this,v=y,k=[E(t,s,h(C))],v=u(v),(l=o(f,c()?Reflect.construct(v,k||[],u(f).constructor):v.apply(f,k))).inner=null,l.innerCodes=new Set,l.muted=!1,l.code=t,l.inner=h(C),Object.entries(null!=p?p:{}))){var S=e(O,2),N=S[0],b=S[1];l[N]=b}return l}return s(y,l),t(y,[{key:"isMuted",get:function(){return this.muted}},{key:"toJSON",value:function(){var e,n={message:this.message,stack:null!==(e=this.stack)&&void 0!==e?e:null,inner:v(this.inner),aggregates:this.aggregates()};for(var t of Object.keys(this))f.has(t)||(n[t.toString()]=this[t]);return n}},{key:"aggregates",value:function(){return this.inner instanceof y?Object.assign({},this.inner.aggregates(),{errCode:this.code}):{errCode:this.code}}},{key:"mute",value:function(){this.muted=!0}}],[{key:"log",value:function(e,n){n.error(e.message,{err:e})}}])})(l(Error));_e.VideoClientError=k},613,[38,12,13,23,25,28,85,485,490]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=r(d[0]),i=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.EventsHandler=e.originalTarget=e.removeProxy=e.addProxy=e.emitterMethods=void 0;var n=["disposed"];function s(t){return"setMaxListeners"in t&&"getMaxListeners"in t}e.emitterMethods=new Map(Object.entries({addListener:"addListener",on:"addListener",prependListener:"prependListener",removeListener:"removeListener",off:"removeListener"})),e.addProxy=Symbol("AddProxy"),e.removeProxy=Symbol("RemoveProxy"),e.originalTarget=Symbol("originalTarget");var o=(function(){return i(function i(){t(this,i),this.proxies=new WeakMap,this.proxyEvents=new WeakMap},[{key:"getOrCreateEvent",value:function(t){var i=this.proxyEvents.get(t);return null==i&&(i=[],this.proxyEvents.set(t,i)),i}},{key:"addProxy",value:function(t,i){var n,o;if(s(t)&&s(i)){var v=t.getMaxListeners();i.getMaxListeners()<v&&i.setMaxListeners(v)}for(var l of null!==(n=this.proxyEvents.get(t))&&void 0!==n?n:[])i.addListener(l.type,l.listener);i.once("disposed",this.removeProxy.bind(this,t,i)),this.proxies.has(t)||this.proxies.set(t,new Set),null===(o=this.proxies.get(t))||void 0===o||o.add(i)}},{key:"removeProxy",value:function(t,i){var n;for(var s of null!==(n=this.proxyEvents.get(t))&&void 0!==n?n:[])i.removeListener(s.type,s.listener);var o=this.proxies.get(t);null!=o&&o.delete(i)}},{key:"addListener",value:function(t,i,s){var o,v=null!==(o=this.proxies.get(t))&&void 0!==o?o:[];if(this.getOrCreateEvent(t).push({type:i,listener:s}),t.addListener(i,s),!n.includes(i))for(var l of v)l.addListener(i,s)}},{key:"prependListener",value:function(t,i,s){var o,v=null!==(o=this.proxies.get(t))&&void 0!==o?o:[];if(this.getOrCreateEvent(t).unshift({type:i,listener:s}),t.prependListener(i,s),!n.includes(i))for(var l of v)l.prependListener(i,s)}},{key:"removeListener",value:function(t,i,s){for(var o,v=null!==(o=this.proxies.get(t))&&void 0!==o?o:[],l=this.getOrCreateEvent(t),u=0;u<l.length;u++)i===l[u].type&&s===l[u].listener&&l.splice(u,1);if(t.removeListener(i,s),!n.includes(i))for(var f of v)f.removeListener(i,s)}},{key:"get",value:function(t,i,n){if(i===e.originalTarget)return t;if(i===e.addProxy)return this.addProxy.bind(this,t);if(i===e.removeProxy)return this.removeProxy.bind(this,t);if(e.emitterMethods.has(i)){var s=e.emitterMethods.get(i);if(null!=s)return this[s].bind(this,t)}return Reflect.get(t,i,n)}}])})();e.EventsHandler=o},614,[12,13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(d[0]).__exportStar(r(d[1]),e)},615,[487,616]);
__d(function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.supportsMediasoupWebrtc=e.supportsFlvHttp=e.supportsNativeHls=e.supportsMp4=e.supportsHlsjs=e.H264_CAPABILITY=e.OPUS_CAPABILITY=e.VP8_CAPABILITY=void 0,e.getNetworkConnectionType=function(){var o,s,t="information unavailable",n="information unavailable";r(d[1]).device.isImplements(r(d[1]).Feature.NETWORK_INFORMATION)&&((null===(o=null===r(d[1]).device||void 0===r(d[1]).device?void 0:r(d[1]).device.connection)||void 0===o?void 0:o.type)&&(t=r(d[1]).device.connection.type),(null===(s=null===r(d[1]).device||void 0===r(d[1]).device?void 0:r(d[1]).device.connection)||void 0===s?void 0:s.effectiveType)&&(n=r(d[1]).device.connection.effectiveType));return[t,n]},e.VP8_CAPABILITY={clockRate:9e4,kind:"video",mimeType:"video/VP8"},e.OPUS_CAPABILITY={channels:2,clockRate:48e3,kind:"audio",mimeType:"audio/opus"},e.H264_CAPABILITY={clockRate:9e4,kind:"video",mimeType:"video/H264",parameters:{"packetization-mode":1}};var s=function(o){return"canPlayType"in o&&"function"==typeof o.canPlayType};e.supportsHlsjs=function(o){var s;return r(d[1]).device.isImplements(r(d[1]).Feature.HLSJS)?r(d[1]).device.isSafari?(null==o||o.info("HlsJsPlayer is NOT supported in Safari, use Native Hls player instead",Object.assign({},r(d[1]).device.browserInfo,{platform:r(d[1]).device.platform})),!1):(0,r(d[2]).oldWindowsChrome)(r(d[1]).device)?(null==o||o.info("HlsJsPlayer is NOT supported",Object.assign({},r(d[1]).device.browserInfo)),!1):r(d[1]).device.isImplements(r(d[1]).Feature.MEDIA_SOURCE)&&(null===(s=r(d[1]).device.MediaSource)||void 0===s?void 0:s.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'))?(null==o||o.debug("HlsJsPlayer is supported",Object.assign({},r(d[1]).device.browserInfo,{platform:r(d[1]).device.platform})),!0):(null==o||o.info("HlsJsPlayer is NOT supported",Object.assign({},r(d[1]).device.browserInfo,{platform:r(d[1]).device.platform})),!1):(null==o||o.info("HlsJsPlayer is NOT supported"),!1)};e.supportsMp4=function(o){var s;return(0,r(d[2]).safariWithoutMp4Support)(r(d[1]).device)||r(d[1]).device.isIE||(0,r(d[2]).chromeWithoutMp4Support)(r(d[1]).device)?(null==o||o.info("MP4Player is NOT supported",Object.assign({},r(d[1]).device.browserInfo,{platform:r(d[1]).device.platform})),!1):r(d[1]).device.isImplements(r(d[1]).Feature.WEB_SOCKET)&&r(d[1]).device.isImplements(r(d[1]).Feature.MEDIA_SOURCE)&&r(d[1]).device.isImplements(r(d[1]).Feature.MEDIA_DEVICE)&&r(d[1]).device.isImplements(r(d[1]).Feature.LOCAL_STORAGE)&&r(d[1]).device.isImplements(r(d[1]).Feature.DEBUGGING)&&(null===(s=r(d[1]).device.MediaSource)||void 0===s?void 0:s.isTypeSupported('video/mp4; codecs="avc1.4d4028,mp4a.40.2"'))?(null==o||o.debug("MP4Player is supported",Object.assign({},r(d[1]).device.browserInfo,{platform:r(d[1]).device.platform})),!0):(null==o||o.info("MP4Player is NOT supported",Object.assign({},r(d[1]).device.browserInfo,{platform:r(d[1]).device.platform})),!1)};e.supportsNativeHls=function(o){if(null==r(d[1]).device.isIosDevice||!r(d[1]).device.isIosDevice&&!r(d[1]).device.isSafari)return null==o||o.debug("NativeHlsPlayer is NOT supported on non Safari browsers outside of iOS"),!1;if(!r(d[1]).device.isImplements(r(d[1]).Feature.CREATE_VIDEO_ELEMENT))return null==o||o.info("NativeHlsPlayer is NOT supported"),!1;var t=r(d[1]).device.createVideoElement();return!s(t)||"probably"!==t.canPlayType("application/vnd.apple.mpegURL")&&"maybe"!==t.canPlayType("application/vnd.apple.mpegURL")?(null==o||o.info("NativeHlsPlayer is NOT supported",Object.assign({},r(d[1]).device.browserInfo)),!1):(null==o||o.debug("NativeHlsPlayer is supported",Object.assign({},r(d[1]).device.browserInfo,{platform:r(d[1]).device.platform})),!0)};var t=(function(){var s=o(function*(o){var s,t;if(r(d[1]).device.isSafari)return null==o||o.debug("FlvHttpPlayer is NOT supported on non Safari browsers"),!1;if(r(d[1]).device.isImplements(r(d[1]).Feature.MPEGTS)){yield r(d[1]).device.loadMpegtsScript();var n=null!==(t=null===(s=r(d[1]).device.mpegts)||void 0===s?void 0:s.isSupported())&&void 0!==t&&t;return n||null==o||o.info("FlvHttpPlayer is NOT supported"),n}return null==o||o.debug("NativeHlsPlayer is supported",Object.assign({},r(d[1]).device.browserInfo)),!0});return function(o){return s.apply(this,arguments)}})();e.supportsFlvHttp=t;var n=(function(){var s=o(function*(o,s){var t=new(r(d[3]).Support)(s?new(r(d[4]).LoggerCore)("VDC-core").extend(s):new(r(d[4]).LoggerCore)("VDC-core"));if(yield t.ready,!t.supports("h264"))return!1;if(!r(d[1]).device.isImplements(r(d[1]).Feature.MEDIA_STREAM))return null==s||s.info(`${o} is NOT supported`),!1;var n=[e.OPUS_CAPABILITY];r(d[1]).device.isAndroidDevice?n.push(e.VP8_CAPABILITY):n.push(e.H264_CAPABILITY);try{var p=(0,r(d[5]).createMediasoupDevice)();yield p.load({routerRtpCapabilities:{codecs:n}});var l={audio:p.canProduce("audio"),video:p.canProduce("video")};return p.canProduce("audio")&&p.canProduce("video")?(null==s||s.debug(`${o} is supported`,Object.assign({},{browserInfo:r(d[1]).device.browserInfo,avSupport:l})),!0):(null==s||s.info(`${o} is NOT supported`,Object.assign({},{browserInfo:r(d[1]).device.browserInfo,avSupport:l})),!1)}catch(t){return null==s||s.info(`${o} is NOT supported`,Object.assign({},r(d[1]).device.browserInfo)),!1}});return function(o,t){return s.apply(this,arguments)}})();e.supportsMediasoupWebrtc=n},616,[345,502,551,617,507,619]);
__d(function(g,r,i,a,m,e,d){"use strict";var s=r(d[0]),t=r(d[1]),o=r(d[2]),u=r(d[3]);Object.defineProperty(e,"__esModule",{value:!0}),e.Support=e.Codecs=void 0,e.videoSupported=function(){return r(d[6]).device.isImplements(r(d[8]).Feature.MEDIA_DEVICE)};var n,p=r(d[4]).__importStar(r(d[5]));!(function(s){s.H264="h264",s.VP8="vp8",s.OPUS="opus"})(n||(e.Codecs=n={}));var c=(function(){function c(u,l){var h=this;o(this,c),this.supportChecks=t(function*(){var t=[],o=yield p.hasH264Capability(),u=yield p.hasVP8Capability(),c=yield p.hasOpusCapability();return o&&(t=[n.H264]),u&&(t=[].concat(s(t),[n.VP8])),c&&(t=[].concat(s(t),[n.OPUS])),h.log.info("The following codecs are supported",{supported:t}),t}),this.log=u,null!=l&&this.log.setMessageAggregate("create",l),this.supportTags={opus:!1,vp8:!1,h264:!1};var v=null!=l?l:this.buildLocalSupportHashSync();v.includes("o")&&(this.supportTags.opus=!0),v.includes("v")&&(this.supportTags.vp8=!0),v.includes("h")&&(this.supportTags.h264=!0),this.ready=this.buildLocalSupportHashAsync().then(function(s){s.includes("o")&&(h.supportTags.opus=!0),s.includes("v")&&(h.supportTags.vp8=!0),s.includes("h")&&(h.supportTags.h264=!0)})}return u(c,[{key:"supports",value:function(s){return!!this.supportTags[s]}},{key:"any",get:function(){var s=this;return Object.keys(this.supportTags).some(function(t){return s.supportTags[t]})}},{key:"audio",get:function(){return this.supportTags.opus}},{key:"video",get:function(){return this.supportTags.vp8||this.supportTags.h264}},{key:"hash",get:function(){var s="";return this.supportTags.opus&&(s+="o"),this.supportTags.vp8&&(s+="v"),this.supportTags.h264&&(s+="h"),s}},{key:"shared",value:function(s){if(!this.any)return this;if(!s.any)return s;var t=this.hash,o="";return s.hash.split("").forEach(function(s){t.includes(s)&&(o+=s)}),new c(this.log,o)}},{key:"basicSupport",value:function(){var s;if("ReactNative"===r(d[6]).device.platform)return!0;if(null==(0,r(d[7]).detectDevice)())return this.log.warn("support: mediasoups says device is unsupported",Object.assign({},r(d[6]).device.browserInfo)),this.log.flush(),!1;if(!r(d[6]).device.isImplements(r(d[8]).Feature.MEDIA_DEVICE))return this.log.warn("support: no RTCPeerConnection",Object.assign({},r(d[6]).device.browserInfo)),this.log.flush(),!1;if(r(d[6]).device.isIosDevice&&!r(d[6]).device.isSafari){if(r(d[6]).device.isChrome){if((0,r(d[9]).supportsModernChrome)(r(d[6]).device))return r(d[6]).device.isImplements(r(d[8]).Feature.MEDIA_DEVICE);this.log.warn("support: ios chrome support is only available on versions >= 14.3",Object.assign({},r(d[6]).device.browserInfo))}else this.log.warn("support: non-safari ios",Object.assign({},r(d[6]).device.browserInfo));return this.log.flush(),!1}return r(d[6]).device.isEdge&&!r(d[6]).device.isImplements(r(d[8]).Feature.WEBRTC)?(this.log.warn("support: msedge with missing webrtc api",Object.assign({hasRTCRtpReceiver:null==(null===r(d[6]).device||void 0===r(d[6]).device?void 0:r(d[6]).device.RTCRtpReceiver)?"false":"true",hasRTCRtpSender:null==(null===r(d[6]).device||void 0===r(d[6]).device?void 0:r(d[6]).device.RTCRtpSender)?"false":"true",hasRTCRtpReceiverGetCapabilities:null!=(null===(s=null===r(d[6]).device||void 0===r(d[6]).device?void 0:r(d[6]).device.RTCRtpReceiver)||void 0===s?void 0:s.getCapabilities)?"true":"false"},r(d[6]).device.browserInfo)),this.log.flush(),!1):r(d[6]).device.isImplements(r(d[8]).Feature.MEDIA_DEVICE)}},{key:"buildLocalSupportHashSync",value:function(){if(!this.basicSupport())return"";var s="";return p.hasOpus()&&(s=s.concat("o")),p.hasVP8()&&(s=s.concat("v")),p.hasH264(this.log)&&(s=s.concat("h")),this.log.setLoggerAggregate("supportHash",s),this.log.debug("support: support hash generated",Object.assign({},r(d[6]).device.browserInfo)),s}},{key:"buildLocalSupportHashAsync",value:(l=t(function*(){if(!this.basicSupport())return"";var s="";return(yield p.hasOpusCapability(this.log))&&(s=s.concat("o")),(yield p.hasVP8Capability(this.log))&&(s=s.concat("v")),(yield p.hasH264Capability(this.log))&&(s=s.concat("h")),""!==s&&this.log.setLoggerAggregate("supportHash",s),this.log.debug("support: support hash generated",Object.assign({},r(d[6]).device.browserInfo)),s}),function(){return l.apply(this,arguments)})}]);var l})();e.Support=c,c.displayName="Support"},617,[6,345,12,13,487,618,502,620,486,551]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);function t(n){return o.apply(this,arguments)}function o(){return(o=n(function*(n){try{var t=(0,r(d[1]).createMediasoupDevice)();return yield t.load({routerRtpCapabilities:n}),{audio:t.canProduce("audio"),video:t.canProduce("video")}}catch(n){throw new Error(`current browser/device not supported: ${n}`)}})).apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0}),e.hasH264=e.hasVP8=e.getGlobalDocument=e.hasOpus=e.hasH264Capability=e.hasVP8Capability=e.hasOpusCapability=void 0,e.checkCapabilitiesForRoom=t;var s=(function(){var o=n(function*(n){var o;try{o=yield t({codecs:[r(d[2]).OPUS_CAPABILITY]})}catch(t){var s=t instanceof Error?t.message:"unknown error";return null==n||n.warn("support: no opus capabilities support",Object.assign({},r(d[3]).device.browserInfo,{err:s})),!1}return o.audio?(null==n||n.debug("support: have opus capabilities support",Object.assign({},r(d[3]).device.browserInfo)),!0):(null==n||n.warn("support: no opus capabilities support",Object.assign({},r(d[3]).device.browserInfo)),!1)});return function(n){return o.apply(this,arguments)}})();e.hasOpusCapability=s;var u=(function(){var o=n(function*(n){var o;try{o=yield t({codecs:[r(d[2]).VP8_CAPABILITY]})}catch(t){var s=t instanceof Error?t.message:"unknown error";return null==n||n.warn("support: no vp8 capabilities support",Object.assign({},r(d[3]).device.browserInfo,{err:s})),!1}return o.video?(null==n||n.debug("support: have vp8 capabilities support",Object.assign({},r(d[3]).device.browserInfo)),!0):(null==n||n.warn("support: no vp8 capabilities support",Object.assign({},r(d[3]).device.browserInfo)),!1)});return function(n){return o.apply(this,arguments)}})();e.hasVP8Capability=u;var c=(function(){var o=n(function*(n){var o;try{o=yield t({codecs:[r(d[2]).H264_CAPABILITY]})}catch(t){var s=t instanceof Error?t.message:"unknown error";return null==n||n.warn("support: no h264 capabilities support",Object.assign({},r(d[3]).device.browserInfo,{err:s})),!1}return o.video?(null==n||n.debug("support: have h264 capabilities support",Object.assign({},r(d[3]).device.browserInfo)),!0):(null==n||n.warn("support: no h264 capabilities support",Object.assign({},r(d[3]).device.browserInfo)),!1)});return function(n){return o.apply(this,arguments)}})();e.hasH264Capability=c;e.hasOpus=function(){return!0};e.getGlobalDocument=function(){return globalThis.document};e.hasVP8=function(){try{if(null==(0,e.getGlobalDocument)())return!0}catch(n){return!0}return!r(d[3]).device.isIosDevice&&!r(d[3]).device.isSafari&&!r(d[3]).device.isEdge};e.hasH264=function(n){try{if(null==(0,e.getGlobalDocument)())return!0}catch(n){return!0}if(r(d[3]).device.isChrome){if(!r(d[3]).device.isImplements(r(d[4]).Feature.MEDIA_RECORDER))return null==n||n.flush(),!1;if(r(d[3]).device.MediaRecorder.isTypeSupported("video/webm; codecs=h264"))return null==n||n.debug("support: h264 support: chrome"),!0;null==n||n.warn("support: no h264 support",Object.assign({reason:"chrome without h264"},r(d[3]).device.browserInfo))}return r(d[3]).device.isAndroidDevice?(null==n||n.warn("support: no h264 support",Object.assign({reason:"android device"},r(d[3]).device.browserInfo)),!1):r(d[3]).device.isImplements(r(d[4]).Feature.MEDIA_DEVICE)&&r(d[3]).device.isCodecSupported("h264")}},618,[345,619,615,502,486]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMediasoupDevice=function(){return new(r(d[0]).Device)}},619,[620]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=this&&this.__createBinding||(Object.create?function(t,n,u,c){void 0===c&&(c=u);var o=Object.getOwnPropertyDescriptor(n,u);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[u]}}),Object.defineProperty(t,c,o)}:function(t,n,u,c){void 0===c&&(c=u),t[c]=n[u]}),n=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),u=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(null!=u)for(var o in u)"default"!==o&&Object.prototype.hasOwnProperty.call(u,o)&&t(c,u,o);return n(c,u),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;var o=c(r(d[0]));e.debug=o.default,Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return r(d[1]).Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return r(d[1]).detectDevice}});var l=u(r(d[2]));e.types=l,e.version='3.6.84',Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return r(d[3]).parse}})},620,[513,621,662,638]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=this&&this.__createBinding||(Object.create?function(t,o,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(o,n);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[n]}}),Object.defineProperty(t,s,c)}:function(t,o,n,s){void 0===s&&(s=n),t[s]=o[n]}),c=this&&this.__setModuleDefault||(Object.create?function(t,o){Object.defineProperty(t,"default",{enumerable:!0,value:o})}:function(t,o){t.default=o}),l=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var o={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(o,t,n);return c(o,t),o},p=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Device=e.detectDevice=void 0;var h=p(r(d[3])),u=l(r(d[4])),f=l(r(d[5])),v=new(r(d[6]).Logger)('Device');function y(){if('object'==typeof navigator&&'ReactNative'===navigator.product)return'undefined'==typeof RTCPeerConnection?void v.warn('this._detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?'):'undefined'!=typeof RTCRtpTransceiver?(v.debug('this._detectDevice() | ReactNative UnifiedPlan handler chosen'),'ReactNativeUnifiedPlan'):(v.debug('this._detectDevice() | ReactNative PlanB handler chosen'),'ReactNative');if('object'!=typeof navigator||'string'!=typeof navigator.userAgent)v.warn('this._detectDevice() | unknown device');else{var t=navigator.userAgent,o=h.default.getParser(t),n=o.getEngine();if(o.satisfies({chrome:'>=111',chromium:'>=111','microsoft edge':'>=111'}))return'Chrome111';if(o.satisfies({chrome:'>=74',chromium:'>=74','microsoft edge':'>=88'}))return'Chrome74';if(o.satisfies({chrome:'>=70',chromium:'>=70'}))return'Chrome70';if(o.satisfies({chrome:'>=67',chromium:'>=67'}))return'Chrome67';if(o.satisfies({chrome:'>=55',chromium:'>=55'}))return'Chrome55';if(o.satisfies({firefox:'>=60'}))return'Firefox60';if(o.satisfies({ios:{OS:'>=14.3',firefox:'>=30.0'}}))return'Safari12';if(o.satisfies({safari:'>=12.0'})&&'undefined'!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty('currentDirection'))return'Safari12';if(o.satisfies({safari:'>=11'}))return'Safari11';if(o.satisfies({'microsoft edge':'>=11'})&&o.satisfies({'microsoft edge':'<=18'}))return'Edge11';if(n.name&&'blink'===n.name.toLowerCase()){var s=t.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(s){var c=Number(s[1]);return c>=111?'Chrome111':c>=74?'Chrome74':c>=70?'Chrome70':c>=67?'Chrome67':'Chrome55'}return'Chrome111'}v.warn('this._detectDevice() | browser not supported [name:%s, version:%s]',o.getBrowserName(),o.getBrowserVersion())}}e.detectDevice=y;var m=(function(){return n(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.handlerName,c=n.handlerFactory,l=n.Handler;if(o(this,t),this._loaded=!1,this._observer=new(r(d[7]).EnhancedEventEmitter),v.debug('constructor()'),l){if(v.warn('constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead'),'string'!=typeof l)throw new TypeError('non string Handler option no longer supported, use handlerFactory instead');s=l}if(s&&c)throw new TypeError('just one of handlerName or handlerInterface can be given');if(c)this._handlerFactory=c;else{if(s)v.debug('constructor() | handler given: %s',s);else{if(!(s=y()))throw new(r(d[8]).UnsupportedError)('device not supported');v.debug('constructor() | detected handler: %s',s)}switch(s){case'Chrome111':this._handlerFactory=r(d[9]).Chrome111.createFactory();break;case'Chrome74':this._handlerFactory=r(d[10]).Chrome74.createFactory();break;case'Chrome70':this._handlerFactory=r(d[11]).Chrome70.createFactory();break;case'Chrome67':this._handlerFactory=r(d[12]).Chrome67.createFactory();break;case'Chrome55':this._handlerFactory=r(d[13]).Chrome55.createFactory();break;case'Firefox60':this._handlerFactory=r(d[14]).Firefox60.createFactory();break;case'Safari12':this._handlerFactory=r(d[15]).Safari12.createFactory();break;case'Safari11':this._handlerFactory=r(d[16]).Safari11.createFactory();break;case'Edge11':this._handlerFactory=r(d[17]).Edge11.createFactory();break;case'ReactNativeUnifiedPlan':this._handlerFactory=r(d[18]).ReactNativeUnifiedPlan.createFactory();break;case'ReactNative':this._handlerFactory=r(d[19]).ReactNative.createFactory();break;default:throw new TypeError(`unknown handlerName "${s}"`)}}var p=this._handlerFactory();this._handlerName=p.name,p.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0},[{key:"handlerName",get:function(){return this._handlerName}},{key:"loaded",get:function(){return this._loaded}},{key:"rtpCapabilities",get:function(){if(!this._loaded)throw new(r(d[8]).InvalidStateError)('not loaded');return this._recvRtpCapabilities}},{key:"sctpCapabilities",get:function(){if(!this._loaded)throw new(r(d[8]).InvalidStateError)('not loaded');return this._sctpCapabilities}},{key:"observer",get:function(){return this._observer}},{key:"load",value:(s=t(function*(t){var o,n=t.routerRtpCapabilities;v.debug('load() [routerRtpCapabilities:%o]',n),n=u.clone(n,void 0);try{if(this._loaded)throw new(r(d[8]).InvalidStateError)('already loaded');f.validateRtpCapabilities(n),o=this._handlerFactory();var s=yield o.getNativeRtpCapabilities();v.debug('load() | got native RTP capabilities:%o',s),f.validateRtpCapabilities(s),this._extendedRtpCapabilities=f.getExtendedRtpCapabilities(s,n),v.debug('load() | got extended RTP capabilities:%o',this._extendedRtpCapabilities),this._canProduceByKind.audio=f.canSend('audio',this._extendedRtpCapabilities),this._canProduceByKind.video=f.canSend('video',this._extendedRtpCapabilities),this._recvRtpCapabilities=f.getRecvRtpCapabilities(this._extendedRtpCapabilities),f.validateRtpCapabilities(this._recvRtpCapabilities),v.debug('load() | got receiving RTP capabilities:%o',this._recvRtpCapabilities),this._sctpCapabilities=yield o.getNativeSctpCapabilities(),v.debug('load() | got native SCTP capabilities:%o',this._sctpCapabilities),f.validateSctpCapabilities(this._sctpCapabilities),v.debug('load() succeeded'),this._loaded=!0,o.close()}catch(t){throw o&&o.close(),t}}),function(t){return s.apply(this,arguments)})},{key:"canProduce",value:function(t){if(!this._loaded)throw new(r(d[8]).InvalidStateError)('not loaded');if('audio'!==t&&'video'!==t)throw new TypeError(`invalid kind "${t}"`);return this._canProduceByKind[t]}},{key:"createSendTransport",value:function(t){var o=t.id,n=t.iceParameters,s=t.iceCandidates,c=t.dtlsParameters,l=t.sctpParameters,p=t.iceServers,h=t.iceTransportPolicy,u=t.additionalSettings,f=t.proprietaryConstraints,y=t.appData;return v.debug('createSendTransport()'),this.createTransport({direction:'send',id:o,iceParameters:n,iceCandidates:s,dtlsParameters:c,sctpParameters:l,iceServers:p,iceTransportPolicy:h,additionalSettings:u,proprietaryConstraints:f,appData:y})}},{key:"createRecvTransport",value:function(t){var o=t.id,n=t.iceParameters,s=t.iceCandidates,c=t.dtlsParameters,l=t.sctpParameters,p=t.iceServers,h=t.iceTransportPolicy,u=t.additionalSettings,f=t.proprietaryConstraints,y=t.appData;return v.debug('createRecvTransport()'),this.createTransport({direction:'recv',id:o,iceParameters:n,iceCandidates:s,dtlsParameters:c,sctpParameters:l,iceServers:p,iceTransportPolicy:h,additionalSettings:u,proprietaryConstraints:f,appData:y})}},{key:"createTransport",value:function(t){var o=t.direction,n=t.id,s=t.iceParameters,c=t.iceCandidates,l=t.dtlsParameters,p=t.sctpParameters,h=t.iceServers,u=t.iceTransportPolicy,f=t.additionalSettings,v=t.proprietaryConstraints,y=t.appData;if(!this._loaded)throw new(r(d[8]).InvalidStateError)('not loaded');if('string'!=typeof n)throw new TypeError('missing id');if('object'!=typeof s)throw new TypeError('missing iceParameters');if(!Array.isArray(c))throw new TypeError('missing iceCandidates');if('object'!=typeof l)throw new TypeError('missing dtlsParameters');if(p&&'object'!=typeof p)throw new TypeError('wrong sctpParameters');if(y&&'object'!=typeof y)throw new TypeError('if given, appData must be an object');var m=new(r(d[20]).Transport)({direction:o,id:n,iceParameters:s,iceCandidates:c,dtlsParameters:l,sctpParameters:p,iceServers:h,iceTransportPolicy:u,additionalSettings:f,proprietaryConstraints:v,appData:y,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit('newtransport',m),m}}]);var s})();e.Device=m},621,[345,12,13,504,622,623,625,626,627,628,640,641,642,644,645,646,647,648,650,651,652]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomNumber=e.clone=void 0,e.clone=function(n,t){return void 0===n?t:JSON.parse(JSON.stringify(n))},e.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},622,[]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=this&&this.__createBinding||(Object.create?function(t,o,n,c){void 0===c&&(c=n);var p=Object.getOwnPropertyDescriptor(o,n);p&&!("get"in p?!o.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return o[n]}}),Object.defineProperty(t,c,p)}:function(t,o,n,c){void 0===c&&(c=n),t[c]=o[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,o){Object.defineProperty(t,"default",{enumerable:!0,value:o})}:function(t,o){t.default=o}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var c={};if(null!=n)for(var p in n)"default"!==p&&Object.prototype.hasOwnProperty.call(n,p)&&t(c,n,p);return o(c,n),c};Object.defineProperty(e,"__esModule",{value:!0}),e.canReceive=e.canSend=e.generateProbatorRtpParameters=e.reduceCodecs=e.getSendingRemoteRtpParameters=e.getSendingRtpParameters=e.getRecvRtpCapabilities=e.getExtendedRtpCapabilities=e.validateSctpStreamParameters=e.validateSctpParameters=e.validateNumSctpStreams=e.validateSctpCapabilities=e.validateRtcpParameters=e.validateRtpEncodingParameters=e.validateRtpHeaderExtensionParameters=e.validateRtpCodecParameters=e.validateRtpParameters=e.validateRtpHeaderExtension=e.validateRtcpFeedback=e.validateRtpCodecCapability=e.validateRtpCapabilities=void 0;var c=n(r(d[0])),p=n(r(d[1]));function s(t){var o=new RegExp('^(audio|video)/(.+)','i');if('object'!=typeof t)throw new TypeError('codec is not an object');if(!t.mimeType||'string'!=typeof t.mimeType)throw new TypeError('missing codec.mimeType');var n=o.exec(t.mimeType);if(!n)throw new TypeError('invalid codec.mimeType');if(t.kind=n[1].toLowerCase(),t.preferredPayloadType&&'number'!=typeof t.preferredPayloadType)throw new TypeError('invalid codec.preferredPayloadType');if('number'!=typeof t.clockRate)throw new TypeError('missing codec.clockRate');for(var c of('audio'===t.kind?'number'!=typeof t.channels&&(t.channels=1):delete t.channels,t.parameters&&'object'==typeof t.parameters||(t.parameters={}),Object.keys(t.parameters))){var p=t.parameters[c];if(void 0===p&&(t.parameters[c]='',p=''),'string'!=typeof p&&'number'!=typeof p)throw new TypeError(`invalid codec parameter [key:${c}s, value:${p}]`);if('apt'===c&&'number'!=typeof p)throw new TypeError('invalid codec apt parameter')}for(var s of(t.rtcpFeedback&&Array.isArray(t.rtcpFeedback)||(t.rtcpFeedback=[]),t.rtcpFeedback))f(s)}function f(t){if('object'!=typeof t)throw new TypeError('fb is not an object');if(!t.type||'string'!=typeof t.type)throw new TypeError('missing fb.type');t.parameter&&'string'==typeof t.parameter||(t.parameter='')}function y(t){if('object'!=typeof t)throw new TypeError('ext is not an object');if('audio'!==t.kind&&'video'!==t.kind)throw new TypeError('invalid ext.kind');if(!t.uri||'string'!=typeof t.uri)throw new TypeError('missing ext.uri');if('number'!=typeof t.preferredId)throw new TypeError('missing ext.preferredId');if(t.preferredEncrypt&&'boolean'!=typeof t.preferredEncrypt)throw new TypeError('invalid ext.preferredEncrypt');if(t.preferredEncrypt||(t.preferredEncrypt=!1),t.direction&&'string'!=typeof t.direction)throw new TypeError('invalid ext.direction');t.direction||(t.direction='sendrecv')}function m(t){if('object'!=typeof t)throw new TypeError('params is not an object');if(t.mid&&'string'!=typeof t.mid)throw new TypeError('params.mid is not a string');if(!Array.isArray(t.codecs))throw new TypeError('missing params.codecs');for(var o of t.codecs)l(o);if(t.headerExtensions&&!Array.isArray(t.headerExtensions))throw new TypeError('params.headerExtensions is not an array');for(var n of(t.headerExtensions||(t.headerExtensions=[]),t.headerExtensions))u(n);if(t.encodings&&!Array.isArray(t.encodings))throw new TypeError('params.encodings is not an array');for(var c of(t.encodings||(t.encodings=[]),t.encodings))v(c);if(t.rtcp&&'object'!=typeof t.rtcp)throw new TypeError('params.rtcp is not an object');t.rtcp||(t.rtcp={}),h(t.rtcp)}function l(t){var o=new RegExp('^(audio|video)/(.+)','i');if('object'!=typeof t)throw new TypeError('codec is not an object');if(!t.mimeType||'string'!=typeof t.mimeType)throw new TypeError('missing codec.mimeType');var n=o.exec(t.mimeType);if(!n)throw new TypeError('invalid codec.mimeType');if('number'!=typeof t.payloadType)throw new TypeError('missing codec.payloadType');if('number'!=typeof t.clockRate)throw new TypeError('missing codec.clockRate');var c=n[1].toLowerCase();for(var p of('audio'===c?'number'!=typeof t.channels&&(t.channels=1):delete t.channels,t.parameters&&'object'==typeof t.parameters||(t.parameters={}),Object.keys(t.parameters))){var s=t.parameters[p];if(void 0===s&&(t.parameters[p]='',s=''),'string'!=typeof s&&'number'!=typeof s)throw new TypeError(`invalid codec parameter [key:${p}s, value:${s}]`);if('apt'===p&&'number'!=typeof s)throw new TypeError('invalid codec apt parameter')}for(var y of(t.rtcpFeedback&&Array.isArray(t.rtcpFeedback)||(t.rtcpFeedback=[]),t.rtcpFeedback))f(y)}function u(t){if('object'!=typeof t)throw new TypeError('ext is not an object');if(!t.uri||'string'!=typeof t.uri)throw new TypeError('missing ext.uri');if('number'!=typeof t.id)throw new TypeError('missing ext.id');if(t.encrypt&&'boolean'!=typeof t.encrypt)throw new TypeError('invalid ext.encrypt');for(var o of(t.encrypt||(t.encrypt=!1),t.parameters&&'object'==typeof t.parameters||(t.parameters={}),Object.keys(t.parameters))){var n=t.parameters[o];if(void 0===n&&(t.parameters[o]='',n=''),'string'!=typeof n&&'number'!=typeof n)throw new TypeError('invalid header extension parameter')}}function v(t){if('object'!=typeof t)throw new TypeError('encoding is not an object');if(t.ssrc&&'number'!=typeof t.ssrc)throw new TypeError('invalid encoding.ssrc');if(t.rid&&'string'!=typeof t.rid)throw new TypeError('invalid encoding.rid');if(t.rtx&&'object'!=typeof t.rtx)throw new TypeError('invalid encoding.rtx');if(t.rtx&&'number'!=typeof t.rtx.ssrc)throw new TypeError('missing encoding.rtx.ssrc');if(t.dtx&&'boolean'==typeof t.dtx||(t.dtx=!1),t.scalabilityMode&&'string'!=typeof t.scalabilityMode)throw new TypeError('invalid encoding.scalabilityMode')}function h(t){if('object'!=typeof t)throw new TypeError('rtcp is not an object');if(t.cname&&'string'!=typeof t.cname)throw new TypeError('invalid rtcp.cname');t.reducedSize&&'boolean'==typeof t.reducedSize||(t.reducedSize=!0)}function w(t){if('object'!=typeof t)throw new TypeError('numStreams is not an object');if('number'!=typeof t.OS)throw new TypeError('missing numStreams.OS');if('number'!=typeof t.MIS)throw new TypeError('missing numStreams.MIS')}function b(t){return!!t&&/.+\/rtx$/i.test(t.mimeType)}function T(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=n.strict,s=void 0!==p&&p,f=n.modify,y=void 0!==f&&f,m=t.mimeType.toLowerCase();if(m!==o.mimeType.toLowerCase())return!1;if(t.clockRate!==o.clockRate)return!1;if(t.channels!==o.channels)return!1;switch(m){case'video/h264':if(s){var l;if((t.parameters['packetization-mode']||0)!==(o.parameters['packetization-mode']||0))return!1;if(!c.isSameProfile(t.parameters,o.parameters))return!1;try{l=c.generateProfileLevelIdForAnswer(t.parameters,o.parameters)}catch(t){return!1}y&&(l?(t.parameters['profile-level-id']=l,o.parameters['profile-level-id']=l):(delete t.parameters['profile-level-id'],delete o.parameters['profile-level-id']))}break;case'video/vp9':if(s)if((t.parameters['profile-id']||0)!==(o.parameters['profile-id']||0))return!1}return!0}function E(t,o){return(!t.kind||!o.kind||t.kind===o.kind)&&t.uri===o.uri}function k(t,o){var n=[],c=function(t){var c=(o.rtcpFeedback||[]).find(function(o){return o.type===t.type&&(o.parameter===t.parameter||!o.parameter&&!t.parameter)});c&&n.push(c)};for(var p of t.rtcpFeedback||[])c(p);return n}e.validateRtpCapabilities=function(t){if('object'!=typeof t)throw new TypeError('caps is not an object');if(t.codecs&&!Array.isArray(t.codecs))throw new TypeError('caps.codecs is not an array');for(var o of(t.codecs||(t.codecs=[]),t.codecs))s(o);if(t.headerExtensions&&!Array.isArray(t.headerExtensions))throw new TypeError('caps.headerExtensions is not an array');for(var n of(t.headerExtensions||(t.headerExtensions=[]),t.headerExtensions))y(n)},e.validateRtpCodecCapability=s,e.validateRtcpFeedback=f,e.validateRtpHeaderExtension=y,e.validateRtpParameters=m,e.validateRtpCodecParameters=l,e.validateRtpHeaderExtensionParameters=u,e.validateRtpEncodingParameters=v,e.validateRtcpParameters=h,e.validateSctpCapabilities=function(t){if('object'!=typeof t)throw new TypeError('caps is not an object');if(!t.numStreams||'object'!=typeof t.numStreams)throw new TypeError('missing caps.numStreams');w(t.numStreams)},e.validateNumSctpStreams=w,e.validateSctpParameters=function(t){if('object'!=typeof t)throw new TypeError('params is not an object');if('number'!=typeof t.port)throw new TypeError('missing params.port');if('number'!=typeof t.OS)throw new TypeError('missing params.OS');if('number'!=typeof t.MIS)throw new TypeError('missing params.MIS');if('number'!=typeof t.maxMessageSize)throw new TypeError('missing params.maxMessageSize')},e.validateSctpStreamParameters=function(t){if('object'!=typeof t)throw new TypeError('params is not an object');if('number'!=typeof t.streamId)throw new TypeError('missing params.streamId');var o=!1;if('boolean'==typeof t.ordered?o=!0:t.ordered=!0,t.maxPacketLifeTime&&'number'!=typeof t.maxPacketLifeTime)throw new TypeError('invalid params.maxPacketLifeTime');if(t.maxRetransmits&&'number'!=typeof t.maxRetransmits)throw new TypeError('invalid params.maxRetransmits');if(t.maxPacketLifeTime&&t.maxRetransmits)throw new TypeError('cannot provide both maxPacketLifeTime and maxRetransmits');if(o&&t.ordered&&(t.maxPacketLifeTime||t.maxRetransmits))throw new TypeError('cannot be ordered with maxPacketLifeTime or maxRetransmits');if(o||!t.maxPacketLifeTime&&!t.maxRetransmits||(t.ordered=!1),t.label&&'string'!=typeof t.label)throw new TypeError('invalid params.label');if(t.protocol&&'string'!=typeof t.protocol)throw new TypeError('invalid params.protocol')},e.getExtendedRtpCapabilities=function(t,o){var n={codecs:[],headerExtensions:[]},c=function(o){if(b(o))return 0;var c=(t.codecs||[]).find(function(t){return T(t,o,{strict:!0,modify:!0})});if(!c)return 0;var p={mimeType:c.mimeType,kind:c.kind,clockRate:c.clockRate,channels:c.channels,localPayloadType:c.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:o.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:c.parameters,remoteParameters:o.parameters,rtcpFeedback:k(c,o)};n.codecs.push(p)};for(var p of o.codecs||[])c(p);var s=function(n){var c=t.codecs.find(function(t){return b(t)&&t.parameters.apt===n.localPayloadType}),p=o.codecs.find(function(t){return b(t)&&t.parameters.apt===n.remotePayloadType});c&&p&&(n.localRtxPayloadType=c.preferredPayloadType,n.remoteRtxPayloadType=p.preferredPayloadType)};for(var f of n.codecs)s(f);var y=function(o){var c=t.headerExtensions.find(function(t){return E(t,o)});if(!c)return 1;var p={kind:o.kind,uri:o.uri,sendId:c.preferredId,recvId:o.preferredId,encrypt:c.preferredEncrypt,direction:'sendrecv'};switch(o.direction){case'sendrecv':p.direction='sendrecv';break;case'recvonly':p.direction='sendonly';break;case'sendonly':p.direction='recvonly';break;case'inactive':p.direction='inactive'}n.headerExtensions.push(p)};for(var m of o.headerExtensions)y(m);return n},e.getRecvRtpCapabilities=function(t){var o={codecs:[],headerExtensions:[]};for(var n of t.codecs){var c={mimeType:n.mimeType,kind:n.kind,preferredPayloadType:n.remotePayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(o.codecs.push(c),n.remoteRtxPayloadType){var p={mimeType:`${n.kind}/rtx`,kind:n.kind,preferredPayloadType:n.remoteRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.remotePayloadType},rtcpFeedback:[]};o.codecs.push(p)}}for(var s of t.headerExtensions)if('sendrecv'===s.direction||'recvonly'===s.direction){var f={kind:s.kind,uri:s.uri,preferredId:s.recvId,preferredEncrypt:s.encrypt,direction:s.direction};o.headerExtensions.push(f)}return o},e.getSendingRtpParameters=function(t,o){var n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(var c of o.codecs)if(c.kind===t){var p={mimeType:c.mimeType,payloadType:c.localPayloadType,clockRate:c.clockRate,channels:c.channels,parameters:c.localParameters,rtcpFeedback:c.rtcpFeedback};if(n.codecs.push(p),c.localRtxPayloadType){var s={mimeType:`${c.kind}/rtx`,payloadType:c.localRtxPayloadType,clockRate:c.clockRate,parameters:{apt:c.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}for(var f of o.headerExtensions)if(!(f.kind&&f.kind!==t||'sendrecv'!==f.direction&&'sendonly'!==f.direction)){var y={uri:f.uri,id:f.sendId,encrypt:f.encrypt,parameters:{}};n.headerExtensions.push(y)}return n},e.getSendingRemoteRtpParameters=function(t,o){var n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(var c of o.codecs)if(c.kind===t){var p={mimeType:c.mimeType,payloadType:c.localPayloadType,clockRate:c.clockRate,channels:c.channels,parameters:c.remoteParameters,rtcpFeedback:c.rtcpFeedback};if(n.codecs.push(p),c.localRtxPayloadType){var s={mimeType:`${c.kind}/rtx`,payloadType:c.localRtxPayloadType,clockRate:c.clockRate,parameters:{apt:c.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}for(var f of o.headerExtensions)if(!(f.kind&&f.kind!==t||'sendrecv'!==f.direction&&'sendonly'!==f.direction)){var y={uri:f.uri,id:f.sendId,encrypt:f.encrypt,parameters:{}};n.headerExtensions.push(y)}if(n.headerExtensions.some(function(t){return'http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01'===t.uri}))for(var m of n.codecs)m.rtcpFeedback=(m.rtcpFeedback||[]).filter(function(t){return'goog-remb'!==t.type});else if(n.headerExtensions.some(function(t){return'http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time'===t.uri}))for(var l of n.codecs)l.rtcpFeedback=(l.rtcpFeedback||[]).filter(function(t){return'transport-cc'!==t.type});else for(var u of n.codecs)u.rtcpFeedback=(u.rtcpFeedback||[]).filter(function(t){return'transport-cc'!==t.type&&'goog-remb'!==t.type});return n},e.reduceCodecs=function(t,o){var n=[];if(o){for(var c=0;c<t.length;++c)if(T(t[c],o)){n.push(t[c]),b(t[c+1])&&n.push(t[c+1]);break}if(0===n.length)throw new TypeError('no matching codec found')}else n.push(t[0]),b(t[1])&&n.push(t[1]);return n},e.generateProbatorRtpParameters=function(t){m(t=p.clone(t,{}));var o={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:'probator'}};return o.codecs.push(t.codecs[0]),o.codecs[0].payloadType=127,o.headerExtensions=t.headerExtensions,o},e.canSend=function(t,o){return o.codecs.some(function(o){return o.kind===t})},e.canReceive=function(t,o){if(m(t),0===t.codecs.length)return!1;var n=t.codecs[0];return o.codecs.some(function(t){return t.remotePayloadType===n.payloadType})}},623,[624,622]);
__d(function(g,r,i,_a,m,e,d){var l=r(d[0]),n=r(d[1]),o=r(d[2])('h264-profile-level-id'),t=r(d[2])('h264-profile-level-id:WARN');o.log=console.info.bind(console),t.log=console.warn.bind(console);e.ProfileConstrainedBaseline=1,e.ProfileBaseline=2,e.ProfileMain=3,e.ProfileConstrainedHigh=4,e.ProfileHigh=5,e.ProfilePredictiveHigh444=6;e.Level1_b=0,e.Level1=10,e.Level1_1=11,e.Level1_2=12,e.Level1_3=13,e.Level2=20,e.Level2_1=21,e.Level2_2=22,e.Level3=30,e.Level3_1=31,e.Level3_2=32,e.Level4=40,e.Level4_1=41,e.Level4_2=42,e.Level5=50,e.Level5_1=51,e.Level5_2=52;var a=l(function l(o,t){"use strict";n(this,l),this.profile=o,this.level=t});e.ProfileLevelId=a;var s=(function(){"use strict";return l(function l(o){n(this,l),this._mask=~u('x',o),this._maskedValue=u('1',o)},[{key:"isMatch",value:function(l){return this._maskedValue===(l&this._mask)}}])})(),c=l(function l(o,t,a){"use strict";n(this,l),this.profile_idc=o,this.profile_iop=t,this.profile=a}),f=[new c(66,new s('x1xx0000'),1),new c(77,new s('1xxx0000'),1),new c(88,new s('11xx0000'),1),new c(66,new s('x0xx0000'),2),new c(88,new s('10xx0000'),2),new c(77,new s('0x0x0000'),3),new c(100,new s('00000000'),5),new c(100,new s('00001100'),4),new c(244,new s('00000000'),6)];function u(l,n){return(n[0]===l)<<7|(n[1]===l)<<6|(n[2]===l)<<5|(n[3]===l)<<4|(n[4]===l)<<3|(n[5]===l)<<2|(n[6]===l)<<1|n[7]===l}function v(l,n){return 0===l?10!==n&&0!==n:0===n?10!==l:l<n}function p(){var l=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})['level-asymmetry-allowed'];return 1===l||'1'===l}e.parseProfileLevelId=function(l){if('string'!=typeof l||6!==l.length)return null;var n=parseInt(l,16);if(0===n)return null;var o,s=255&n,c=n>>8&255,u=n>>16&255;switch(s){case 11:o=16&c?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:o=s;break;default:return t(`parseProfileLevelId() | unrecognized level_idc [str:${l}, level_idc:${s}]`),null}for(var v of f)if(u===v.profile_idc&&v.profile_iop.isMatch(c))return new a(v.profile,o);return t(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${l}, profile_idc:${u}, profile_iop:${c}]`),null},e.profileLevelIdToString=function(l){if(0==l.level)switch(l.profile){case 1:return'42f00b';case 2:return'42100b';case 3:return'4d100b';default:return t(`profileLevelIdToString() | Level 1_b not is allowed for profile ${l.profile}`),null}var n;switch(l.profile){case 1:n='42e0';break;case 2:n='4200';break;case 3:n='4d00';break;case 4:n='640c';break;case 5:n='6400';break;case 6:n='f400';break;default:return t(`profileLevelIdToString() | unrecognized profile ${l.profile}`),null}var o=l.level.toString(16);return 1===o.length&&(o=`0${o}`),`${n}${o}`},e.profileToString=function(l){switch(l){case 1:return'ConstrainedBaseline';case 2:return'Baseline';case 3:return'Main';case 4:return'ConstrainedHigh';case 5:return'High';case 6:return'PredictiveHigh444';default:return t(`profileToString() | unrecognized profile ${l}`),null}},e.levelToString=function(l){switch(l){case 0:return'1b';case 10:return'1';case 11:return'1.1';case 12:return'1.2';case 13:return'1.3';case 20:return'2';case 21:return'2.1';case 22:return'2.2';case 30:return'3';case 31:return'3.1';case 32:return'3.2';case 40:return'4';case 41:return'4.1';case 42:return'4.2';case 50:return'5';case 51:return'5.1';case 52:return'5.2';default:return t(`levelToString() | unrecognized level ${l}`),null}},e.parseSdpProfileLevelId=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new a(1,31),o=l['profile-level-id'];return o?e.parseProfileLevelId(o):n},e.isSameProfile=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.parseSdpProfileLevelId(l),t=e.parseSdpProfileLevelId(n);return Boolean(o&&t&&o.profile===t.profile)},e.generateProfileLevelIdForAnswer=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l['profile-level-id']&&!n['profile-level-id'])return t('generateProfileLevelIdForAnswer() | profile-level-id missing in local and remote params'),null;var s=e.parseSdpProfileLevelId(l),c=e.parseSdpProfileLevelId(n);if(!s)throw new TypeError('invalid local_profile_level_id');if(!c)throw new TypeError('invalid remote_profile_level_id');if(s.profile!==c.profile)throw new TypeError('H264 Profile mismatch');var f,u,h=p(l)&&p(n),w=s.level,L=c.level,_=v(f=w,u=L)?f:u,P=h?w:_;return o(`generateProfileLevelIdForAnswer() | result [profile:${s.profile}, level:${P}]`),e.profileLevelIdToString(new a(s.profile,P))}},624,[13,12,513]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var u=o(r(d[2])),s='mediasoup-client',l=(function(){return n(function n(o){t(this,n),o?(this._debug=(0,u.default)(`${s}:${o}`),this._warn=(0,u.default)(`${s}:WARN:${o}`),this._error=(0,u.default)(`${s}:ERROR:${o}`)):(this._debug=(0,u.default)(s),this._warn=(0,u.default)(`${s}:WARN`),this._error=(0,u.default)(`${s}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)},[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}])})();e.Logger=l},625,[12,13,513]);
__d(function(g,_r,i,a,m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),n=_r(d[2]),r=_r(d[3]),u=_r(d[4]),o=_r(d[5]);function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e,t,n,o){var s=u(r(1&o?e.prototype:e),t,n);return 2&o&&"function"==typeof s?function(e){return s.apply(n,e)}:s}Object.defineProperty(_e,"__esModule",{value:!0}),_e.EnhancedEventEmitter=void 0;var f=new(_r(d[6]).Logger)('EnhancedEventEmitter'),l=(function(u){function l(){var t,u,o,c;return e(this,l),u=this,o=r(o=l),(t=n(u,s()?Reflect.construct(o,c||[],r(u).constructor):o.apply(u,c))).setMaxListeners(1/0),t}return o(l,u),t(l,[{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return c(l,"emit",this,3)([e].concat(n))}},{key:"safeEmit",value:function(e){var t=c(l,"listenerCount",this,3)([e]);try{for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];return c(l,"emit",this,3)([e].concat(r))}catch(n){return f.error('safeEmit() | event listener threw an error [eventName:%s]:%o',e,n),Boolean(t)}}},{key:"on",value:function(e,t){return c(l,"on",this,3)([e,t]),this}},{key:"off",value:function(e,t){return c(l,"off",this,3)([e,t]),this}},{key:"addListener",value:function(e,t){return c(l,"on",this,3)([e,t]),this}},{key:"prependListener",value:function(e,t){return c(l,"prependListener",this,3)([e,t]),this}},{key:"once",value:function(e,t){return c(l,"once",this,3)([e,t]),this}},{key:"prependOnceListener",value:function(e,t){return c(l,"prependOnceListener",this,3)([e,t]),this}},{key:"removeListener",value:function(e,t){return c(l,"off",this,3)([e,t]),this}},{key:"removeAllListeners",value:function(e){return c(l,"removeAllListeners",this,3)([e]),this}},{key:"listenerCount",value:function(e){return c(l,"listenerCount",this,3)([e])}},{key:"listeners",value:function(e){return c(l,"listeners",this,3)([e])}},{key:"rawListeners",value:function(e){return c(l,"rawListeners",this,3)([e])}}])})(_r(d[7]).EventEmitter);_e.EnhancedEventEmitter=l},626,[12,13,23,25,26,28,625,516]);
__d(function(g,r,i,a,m,_e,d){"use strict";var t=r(d[0]),e=r(d[1]),n=r(d[2]),o=r(d[3]),c=r(d[4]),u=r(d[5]);function s(t,e,c){return e=o(e),n(t,p()?Reflect.construct(e,c||[],o(t).constructor):e.apply(t,c))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.InvalidStateError=_e.UnsupportedError=void 0;var E=(function(n){function o(t){var n;return e(this,o),(n=s(this,o,[t])).name='UnsupportedError',Error.hasOwnProperty('captureStackTrace')?Error.captureStackTrace(n,o):n.stack=new Error(t).stack,n}return c(o,n),t(o)})(u(Error));_e.UnsupportedError=E;var f=(function(n){function o(t){var n;return e(this,o),(n=s(this,o,[t])).name='InvalidStateError',Error.hasOwnProperty('captureStackTrace')?Error.captureStackTrace(n,o):n.stack=new Error(t).stack,n}return c(o,n),t(o)})(u(Error));_e.InvalidStateError=f},627,[13,12,23,25,28,85]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(t,n);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,c)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Chrome111=void 0;var f=h(r(d[6])),v=h(r(d[7])),m=h(r(d[8])),y=h(r(d[9])),_=h(r(d[10])),S=h(r(d[11])),R=new(r(d[12]).Logger)('Chrome111'),D={OS:1024,MIS:1024},b=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=c(o=u),(e=s(n,p()?Reflect.construct(o,l||[],c(n).constructor):o.apply(n,l)))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'Chrome111'}},{key:"close",value:function(){if(R.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:($=e(function*(){R.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'});try{e.addTransceiver('audio'),e.addTransceiver('video');var t=yield e.createOffer();try{e.close()}catch(e){}var n=f.parse(t.sdp),s=y.extractRtpCapabilities({sdpObject:n});return S.addNackSuppportForOpus(s),s}catch(t){try{e.close()}catch(e){}throw t}}),function(){return $.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(F=e(function*(){return R.debug('getNativeSctpCapabilities()'),{numStreams:D}}),function(){return F.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,s=e.iceParameters,c=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,v=e.extendedRtpCapabilities;R.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[13]).RemoteSdp)({iceParameters:s,iceCandidates:c,dtlsParameters:o,sctpParameters:p}),this._sendingRtpParametersByKind={audio:m.getSendingRtpParameters('audio',v),video:m.getSendingRtpParameters('video',v)},this._sendingRemoteRtpParametersByKind={audio:m.getSendingRemoteRtpParameters('audio',v),video:m.getSendingRemoteRtpParameters('video',v)},o.role&&'auto'!==o.role&&(this._forcedLocalDtlsRole='server'===o.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):(R.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),this._pc.addEventListener('iceconnectionstatechange',function(){switch(t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}}))}},{key:"updateIceServers",value:(q=e(function*(e){R.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return q.apply(this,arguments)})},{key:"restartIce",value:(K=e(function*(e){if(R.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});R.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return K.apply(this,arguments)})},{key:"getTransportStats",value:(N=e(function*(){return this._pc.getStats()}),function(){return N.apply(this,arguments)})},{key:"send",value:(B=e(function*(e){var t,n=e.track,s=e.encodings,c=e.codecOptions,o=e.codec;if(this.assertSendDirection(),R.debug('send() [kind:%s, track.id:%s]',n.kind,n.id),s&&s.length>1){s.forEach(function(e,t){e.rid=`r${t}`});var p=1,l=1;for(var u of s){var h=u.scalabilityMode?(0,r(d[14]).parse)(u.scalabilityMode).temporalLayers:3;h>l&&(l=h)}for(var S of s)S.rid="r"+p++,S.scalabilityMode=`L1T${l}`}var D=v.clone(this._sendingRtpParametersByKind[n.kind],{});D.codecs=m.reduceCodecs(D.codecs,o);var b=v.clone(this._sendingRemoteRtpParametersByKind[n.kind],{});b.codecs=m.reduceCodecs(b.codecs,o);var w=this._remoteSdp.getNextMediaSectionIdx(),T=this._pc.addTransceiver(n,{direction:'sendonly',streams:[this._sendStream],sendEncodings:s}),k=yield this._pc.createOffer(),M=f.parse(k.sdp);this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:M})),R.debug('send() | calling pc.setLocalDescription() [offer:%o]',k),yield this._pc.setLocalDescription(k);var P=T.mid;D.mid=P;var C=(M=f.parse(this._pc.localDescription.sdp)).media[w.idx];if(D.rtcp.cname=y.getCname({offerMediaObject:C}),s)if(1===s.length){var L=_.getRtpEncodings({offerMediaObject:C});Object.assign(L[0],s[0]),D.encodings=L}else D.encodings=s;else D.encodings=_.getRtpEncodings({offerMediaObject:C});this._remoteSdp.send({offerMediaObject:C,reuseMid:w.reuseMid,offerRtpParameters:D,answerRtpParameters:b,codecOptions:c,extmapAllowMixed:!0});var O={type:'answer',sdp:this._remoteSdp.getSdp()};return R.debug('send() | calling pc.setRemoteDescription() [answer:%o]',O),yield this._pc.setRemoteDescription(O),this._mapMidTransceiver.set(P,T),{localId:P,rtpParameters:D,rtpSender:T.sender}}),function(e){return B.apply(this,arguments)})},{key:"stopSending",value:(A=e(function*(e){this.assertSendDirection(),R.debug('stopSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}var n=yield this._pc.createOffer();R.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(e)}),function(e){return A.apply(this,arguments)})},{key:"pauseSending",value:(j=e(function*(e){this.assertSendDirection(),R.debug('pauseSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='inactive',this._remoteSdp.pauseMediaSection(e);var n=yield this._pc.createOffer();R.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return j.apply(this,arguments)})},{key:"resumeSending",value:(E=e(function*(e){this.assertSendDirection(),R.debug('resumeSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='sendonly';var n=yield this._pc.createOffer();R.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return E.apply(this,arguments)})},{key:"replaceTrack",value:(x=e(function*(e,t){this.assertSendDirection(),t?R.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):R.debug('replaceTrack() [localId:%s, no track]',e);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');yield n.sender.replaceTrack(t)}),function(e,t){return x.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(I=e(function*(e,t){this.assertSendDirection(),R.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){e.active=n<=t}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return I.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(O=e(function*(e,t){this.assertSendDirection(),R.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){s.encodings[n]=Object.assign({},e,t)}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return O.apply(this,arguments)})},{key:"getSenderStats",value:(L=e(function*(e){this.assertSendDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.sender.getStats()}),function(e){return L.apply(this,arguments)})},{key:"sendDataChannel",value:(C=e(function*(e){var t,n=e.ordered,s=e.maxPacketLifeTime,c=e.maxRetransmits,o=e.label,p=e.protocol;this.assertSendDirection();var l={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:s,maxRetransmits:c,protocol:p};R.debug('sendDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(o,l);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%D.MIS,!this._hasDataChannelMediaSection){var h=yield this._pc.createOffer(),v=f.parse(h.sdp),m=v.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:v})),R.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:m});var y={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',y),yield this._pc.setRemoteDescription(y),this._hasDataChannelMediaSection=!0}return{dataChannel:u,sctpStreamParameters:{streamId:l.id,ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits}}}),function(e){return C.apply(this,arguments)})},{key:"receive",value:(P=e(function*(e){var t,n=this;this.assertRecvDirection();var s=[],c=new Map;for(var o of e){var p=o.trackId,l=o.kind,u=o.rtpParameters,h=o.streamId;R.debug('receive() [trackId:%s, kind:%s]',p,l);var v=u.mid||String(this._mapMidTransceiver.size);c.set(p,v),this._remoteSdp.receive({mid:v,kind:l,offerRtpParameters:u,streamId:h||u.rtcp.cname,trackId:p})}var m={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var _=yield this._pc.createAnswer(),S=f.parse(_.sdp),D=function*(){var e=b.trackId,t=b.rtpParameters,n=c.get(e),s=S.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})};for(var b of e)yield*D();_={type:'answer',sdp:f.write(S)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:S})),R.debug('receive() | calling pc.setLocalDescription() [answer:%o]',_),yield this._pc.setLocalDescription(_);var w=function*(){var e=T.trackId,t=c.get(e),o=n._pc.getTransceivers().find(function(e){return e.mid===t});if(!o)throw new Error('new RTCRtpTransceiver not found');n._mapMidTransceiver.set(t,o),s.push({localId:t,track:o.receiver.track,rtpReceiver:o.receiver})};for(var T of e)yield*w();return s}),function(e){return P.apply(this,arguments)})},{key:"stopReceiving",value:(M=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('stopReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');this._remoteSdp.closeMediaSection(n.mid)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();for(var o of(R.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c),e))this._mapMidTransceiver.delete(o)}),function(e){return M.apply(this,arguments)})},{key:"pauseReceiving",value:(k=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('pauseReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='inactive',this._remoteSdp.pauseMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return k.apply(this,arguments)})},{key:"resumeReceiving",value:(T=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('resumeReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='recvonly',this._remoteSdp.resumeReceivingMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return T.apply(this,arguments)})},{key:"getReceiverStats",value:(w=e(function*(e){this.assertRecvDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.receiver.getStats()}),function(e){return w.apply(this,arguments)})},{key:"receiveDataChannel",value:(b=e(function*(e){var t,n=e.sctpStreamParameters,s=e.label,c=e.protocol;this.assertRecvDirection();var o={negotiated:!0,id:n.streamId,ordered:n.ordered,maxPacketLifeTime:n.maxPacketLifeTime,maxRetransmits:n.maxRetransmits,protocol:c};R.debug('receiveDataChannel() [options:%o]',o);var p=this._pc.createDataChannel(s,o);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();var l={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',l),yield this._pc.setRemoteDescription(l);var u=yield this._pc.createAnswer();if(!this._transportReady){var h=f.parse(u.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:h})}R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',u),yield this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}),function(e){return b.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,s=e.localSdpObject;s||(s=f.parse(this._pc.localDescription.sdp));var c=y.extractDtlsParameters({sdpObject:s});c.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:c},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,b,w,T,k,M,P,C,L,O,I,x,E,j,A,B,N,K,q,F,$})(r(d[15]).HandlerInterface);_e.Chrome111=b},628,[345,12,13,23,25,28,629,622,623,633,634,635,625,636,638,639]);
__d(function(g,r,i,a,m,e,d){e.grammar=r(d[0]),e.write=r(d[1]),e.parse=r(d[2]).parse,e.parseParams=r(d[2]).parseParams,e.parseFmtpConfig=r(d[2]).parseFmtpConfig,e.parsePayloads=r(d[2]).parsePayloads,e.parseRemoteCandidates=r(d[2]).parseRemoteCandidates,e.parseImageAttributes=r(d[2]).parseImageAttributes,e.parseSimulcastStreamList=r(d[2]).parseSimulcastStreamList},629,[630,631,632]);
__d(function(g,r,i,a,m,e,d){var s=m.exports={v:[{name:'version',reg:/^(\d*)$/}],o:[{name:'origin',reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:['username','sessionId','sessionVersion','netType','ipVer','address'],format:'%s %s %d %s IP%d %s'}],s:[{name:'name'}],i:[{name:'description'}],u:[{name:'uri'}],e:[{name:'email'}],p:[{name:'phone'}],z:[{name:'timezones'}],r:[{name:'repeats'}],t:[{name:'timing',reg:/^(\d*) (\d*)/,names:['start','stop'],format:'%d %d'}],c:[{name:'connection',reg:/^IN IP(\d) (\S*)/,names:['version','ip'],format:'IN IP%d %s'}],b:[{push:'bandwidth',reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:['type','limit'],format:'%s:%s'}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:['type','port','protocol','payloads'],format:'%s %d %s %s'}],a:[{push:'rtp',reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:['payload','codec','rate','encoding'],format:function(s){return s.encoding?'rtpmap:%d %s/%s/%s':s.rate?'rtpmap:%d %s/%s':'rtpmap:%d %s'}},{push:'fmtp',reg:/^fmtp:(\d*) ([\S| ]*)/,names:['payload','config'],format:'fmtp:%d %s'},{name:'control',reg:/^control:(.*)/,format:'control:%s'},{name:'rtcp',reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:['port','netType','ipVer','address'],format:function(s){return null!=s.address?'rtcp:%d %s IP%d %s':'rtcp:%d'}},{push:'rtcpFbTrrInt',reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:['payload','value'],format:'rtcp-fb:%s trr-int %d'},{push:'rtcpFb',reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:['payload','type','subtype'],format:function(s){return null!=s.subtype?'rtcp-fb:%s %s %s':'rtcp-fb:%s %s'}},{push:'ext',reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:['value','direction','encrypt-uri','uri','config'],format:function(s){return'extmap:%d'+(s.direction?'/%s':'%v')+(s['encrypt-uri']?' %s':'%v')+' %s'+(s.config?' %s':'')}},{name:'extmapAllowMixed',reg:/^(extmap-allow-mixed)/},{push:'crypto',reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:['id','suite','config','sessionConfig'],format:function(s){return null!=s.sessionConfig?'crypto:%d %s %s %s':'crypto:%d %s %s'}},{name:'setup',reg:/^setup:(\w*)/,format:'setup:%s'},{name:'connectionType',reg:/^connection:(new|existing)/,format:'connection:%s'},{name:'mid',reg:/^mid:([^\s]*)/,format:'mid:%s'},{name:'msid',reg:/^msid:(.*)/,format:'msid:%s'},{name:'ptime',reg:/^ptime:(\d*(?:\.\d*)*)/,format:'ptime:%d'},{name:'maxptime',reg:/^maxptime:(\d*(?:\.\d*)*)/,format:'maxptime:%d'},{name:'direction',reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:'icelite',reg:/^(ice-lite)/},{name:'iceUfrag',reg:/^ice-ufrag:(\S*)/,format:'ice-ufrag:%s'},{name:'icePwd',reg:/^ice-pwd:(\S*)/,format:'ice-pwd:%s'},{name:'fingerprint',reg:/^fingerprint:(\S*) (\S*)/,names:['type','hash'],format:'fingerprint:%s %s'},{push:'candidates',reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:['foundation','component','transport','priority','ip','port','type','raddr','rport','tcptype','generation','network-id','network-cost'],format:function(s){var t='candidate:%s %d %s %d %s %d typ %s';return t+=null!=s.raddr?' raddr %s rport %d':'%v%v',t+=null!=s.tcptype?' tcptype %s':'%v',null!=s.generation&&(t+=' generation %d'),t+=null!=s['network-id']?' network-id %d':'%v',t+=null!=s['network-cost']?' network-cost %d':'%v'}},{name:'endOfCandidates',reg:/^(end-of-candidates)/},{name:'remoteCandidates',reg:/^remote-candidates:(.*)/,format:'remote-candidates:%s'},{name:'iceOptions',reg:/^ice-options:(\S*)/,format:'ice-options:%s'},{push:'ssrcs',reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:['id','attribute','value'],format:function(s){var t='ssrc:%d';return null!=s.attribute&&(t+=' %s',null!=s.value&&(t+=':%s')),t}},{push:'ssrcGroups',reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:['semantics','ssrcs'],format:'ssrc-group:%s %s'},{name:'msidSemantic',reg:/^msid-semantic:\s?(\w*) (\S*)/,names:['semantic','token'],format:'msid-semantic: %s %s'},{push:'groups',reg:/^group:(\w*) (.*)/,names:['type','mids'],format:'group:%s %s'},{name:'rtcpMux',reg:/^(rtcp-mux)/},{name:'rtcpRsize',reg:/^(rtcp-rsize)/},{name:'sctpmap',reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:['sctpmapNumber','app','maxMessageSize'],format:function(s){return null!=s.maxMessageSize?'sctpmap:%s %s %s':'sctpmap:%s %s'}},{name:'xGoogleFlag',reg:/^x-google-flag:([^\s]*)/,format:'x-google-flag:%s'},{push:'rids',reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:['id','direction','params'],format:function(s){return s.params?'rid:%s %s %s':'rid:%s %s'}},{push:'imageattrs',reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:['pt','dir1','attrs1','dir2','attrs2'],format:function(s){return'imageattr:%s %s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast',reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:['dir1','list1','dir2','list2'],format:function(s){return'simulcast:%s %s'+(s.dir2?' %s %s':'')}},{name:'simulcast_03',reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:['value'],format:'simulcast: %s'},{name:'framerate',reg:/^framerate:(\d+(?:$|\.\d+))/,format:'framerate:%s'},{name:'sourceFilter',reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:['filterMode','netType','addressTypes','destAddress','srcList'],format:'source-filter: %s %s %s %s %s'},{name:'bundleOnly',reg:/^(bundle-only)/},{name:'label',reg:/^label:(.+)/,format:'label:%s'},{name:'sctpPort',reg:/^sctp-port:(\d+)$/,format:'sctp-port:%s'},{name:'maxMessageSize',reg:/^max-message-size:(\d+)$/,format:'max-message-size:%s'},{push:'tsRefClocks',reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:['clksrc','clksrcExt'],format:function(s){return'ts-refclk:%s'+(null!=s.clksrcExt?'=%s':'')}},{name:'mediaClk',reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:['id','mediaClockName','mediaClockValue','rateNumerator','rateDenominator'],format:function(s){var t='mediaclk:';return t+=null!=s.id?'id=%s %s':'%v%s',t+=null!=s.mediaClockValue?'=%s':'',t+=null!=s.rateNumerator?' rate=%s':'',t+=null!=s.rateDenominator?'/%s':''}},{name:'keywords',reg:/^keywds:(.+)$/,format:'keywds:%s'},{name:'content',reg:/^content:(.+)/,format:'content:%s'},{name:'bfcpFloorCtrl',reg:/^floorctrl:(c-only|s-only|c-s)/,format:'floorctrl:%s'},{name:'bfcpConfId',reg:/^confid:(\d+)/,format:'confid:%s'},{name:'bfcpUserId',reg:/^userid:(\d+)/,format:'userid:%s'},{name:'bfcpFloorId',reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:['id','mStream'],format:'floorid:%s mstrm:%s'},{push:'invalid',names:['value']}]};Object.keys(s).forEach(function(t){s[t].forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format='%s')})})},630,[]);
__d(function(g,r,_i,a,m,e,d){var n=/%[sdv%]/g,u=function(u){var o=1,s=arguments,t=s.length;return u.replace(n,function(n){if(o>=t)return n;var u=s[o];switch(o+=1,n){case'%%':return'%';case'%s':return String(u);case'%d':return Number(u);case'%v':return''}})},o=function(n,o,s){var t=[n+'='+(o.format instanceof Function?o.format(o.push?s:s[o.name]):o.format)];if(o.names)for(var c=0;c<o.names.length;c+=1){var i=o.names[c];o.name?t.push(s[o.name][i]):t.push(s[o.names[c]])}else t.push(s[o.name]);return u.apply(null,t)},s=['v','o','s','i','u','e','p','c','b','t','r','z','a'],t=['i','c','b','a'];m.exports=function(n,u){u=u||{},null==n.version&&(n.version=0),null==n.name&&(n.name=' '),n.media.forEach(function(n){null==n.payloads&&(n.payloads='')});var c=u.outerOrder||s,i=u.innerOrder||t,f=[];return c.forEach(function(u){r(d[0])[u].forEach(function(s){s.name in n&&null!=n[s.name]?f.push(o(u,s,n)):s.push in n&&null!=n[s.push]&&n[s.push].forEach(function(n){f.push(o(u,s,n))})})}),n.media.forEach(function(n){f.push(o('m',r(d[0]).m[0],n)),i.forEach(function(u){r(d[0])[u].forEach(function(s){s.name in n&&null!=n[s.name]?f.push(o(u,s,n)):s.push in n&&null!=n[s.push]&&n[s.push].forEach(function(n){f.push(o(u,s,n))})})})}),f.join('\r\n')+'\r\n'}},631,[630]);
__d(function(g,r,_i,a,m,e,d){var t=function(t){return String(Number(t))===t?Number(t):t},n=function(n,u,s,i){if(i&&!s)u[i]=t(n[1]);else for(var p=0;p<s.length;p+=1)null!=n[p+1]&&(u[s[p]]=t(n[p+1]))},u=function(t,u,s){var i=t.name&&t.names;t.push&&!u[t.push]?u[t.push]=[]:i&&!u[t.name]&&(u[t.name]={});var p=t.push?{}:i?u[t.name]:u;n(s.match(t.reg),p,t.names,t.name),t.push&&u[t.push].push(p)},s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(t){var n={},i=[],p=n;return t.split(/(\r\n|\r|\n)/).filter(s).forEach(function(t){var n=t[0],s=t.slice(2);'m'===n&&(i.push({rtp:[],fmtp:[]}),p=i[i.length-1]);for(var o=0;o<(r(d[0])[n]||[]).length;o+=1){var l=r(d[0])[n][o];if(l.reg.test(s))return u(l,p,s)}}),n.media=i,n};var i=function(n,u){var s=u.split(/=(.+)/,2);return 2===s.length?n[s[0]]=t(s[1]):1===s.length&&u.length>1&&(n[s[0]]=void 0),n};e.parseParams=function(t){return t.split(/;\s?/).reduce(i,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(t){return t.toString().split(' ').map(Number)},e.parseRemoteCandidates=function(n){for(var u=[],s=n.split(' ').map(t),i=0;i<s.length;i+=3)u.push({component:s[i],ip:s[i+1],port:s[i+2]});return u},e.parseImageAttributes=function(t){return t.split(' ').map(function(t){return t.substring(1,t.length-1).split(',').reduce(i,{})})},e.parseSimulcastStreamList=function(n){return n.split(';').map(function(n){return n.split(',').map(function(n){var u,s=!1;return'~'!==n[0]?u=t(n):(u=t(n.substring(1,n.length)),s=!0),{scid:u,paused:s}})})}},632,[630]);
__d(function(g,_r,i,a,_m,e,d){"use strict";var r=this&&this.__createBinding||(Object.create?function(r,t,o,n){void 0===n&&(n=o);var p=Object.getOwnPropertyDescriptor(t,o);p&&!("get"in p?!t.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(r,n,p)}:function(r,t,o,n){void 0===n&&(n=o),r[n]=t[o]}),t=this&&this.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),o=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var n={};if(null!=o)for(var p in o)"default"!==p&&Object.prototype.hasOwnProperty.call(o,p)&&r(n,o,p);return t(n,o),n};Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodecParameters=e.getCname=e.extractDtlsParameters=e.extractRtpCapabilities=void 0;var n=o(_r(d[0]));e.extractRtpCapabilities=function(r){var t=r.sdpObject,o=new Map,p=[],c=!1,f=!1;for(var s of t.media){var u=s.type;switch(u){case'audio':if(c)continue;c=!0;break;case'video':if(f)continue;f=!0;break;default:continue}for(var l of s.rtp){var v={kind:u,mimeType:`${u}/${l.codec}`,preferredPayloadType:l.payload,clockRate:l.rate,channels:l.encoding,parameters:{},rtcpFeedback:[]};o.set(v.preferredPayloadType,v)}for(var y of s.fmtp||[]){var m=n.parseParams(y.config),b=o.get(y.payload);b&&(m&&m.hasOwnProperty('profile-level-id')&&(m['profile-level-id']=String(m['profile-level-id'])),b.parameters=m)}for(var h of s.rtcpFb||[]){var O={type:h.type,parameter:h.subtype};if(O.parameter||delete O.parameter,'*'!==h.payload){var P=o.get(h.payload);if(!P)continue;P.rtcpFeedback.push(O)}else for(var _ of o.values())_.kind!==u||/.+\/rtx$/i.test(_.mimeType)||_.rtcpFeedback.push(O)}for(var j of s.ext||[])if(!j['encrypt-uri']){var k={kind:u,uri:j.uri,preferredId:j.value};p.push(k)}}return{codecs:Array.from(o.values()),headerExtensions:p}},e.extractDtlsParameters=function(r){var t=r.sdpObject,o=(t.media||[]).find(function(r){return r.iceUfrag&&0!==r.port});if(!o)throw new Error('no active media section found');var n,p=o.fingerprint||t.fingerprint;switch(o.setup){case'active':n='client';break;case'passive':n='server';break;case'actpass':n='auto'}return{role:n,fingerprints:[{algorithm:p.type,value:p.hash}]}},e.getCname=function(r){var t=(r.offerMediaObject.ssrcs||[]).find(function(r){return'cname'===r.attribute});return t?t.value:''},e.applyCodecParameters=function(r){var t=r.offerRtpParameters,o=r.answerMediaObject,p=function(r){var t=r.mimeType.toLowerCase();if('audio/opus'!==t)return 0;if(!(o.rtp||[]).find(function(t){return t.payload===r.payloadType}))return 0;o.fmtp=o.fmtp||[];var p=o.fmtp.find(function(t){return t.payload===r.payloadType});p||(p={payload:r.payloadType,config:''},o.fmtp.push(p));var c=n.parseParams(p.config);if('audio/opus'===t){var f=r.parameters['sprop-stereo'];void 0!==f&&(c.stereo=f?1:0)}for(var s of(p.config='',Object.keys(c)))p.config&&(p.config+=';'),p.config+=`${s}=${c[s]}`};for(var c of t.codecs)p(c)}},633,[629]);
__d(function(g,r,_i3,a,m,e,d){"use strict";var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addLegacySimulcast=e.getRtpEncodings=void 0,e.getRtpEncodings=function(t){var n=t.offerMediaObject,i=new Set;for(var u of n.ssrcs||[]){var o=u.id;i.add(o)}if(0===i.size)throw new Error('no a=ssrc lines found');var c=new Map;for(var f of n.ssrcGroups||[])if('FID'===f.semantics){var v=f.ssrcs.split(/\s+/),l=s(v,2),p=l[0],h=l[1];p=Number(p),h=Number(h),i.has(p)&&(i.delete(p),i.delete(h),c.set(p,h))}for(var b of i)c.set(b,null);var w=[];for(var E of c){var S=s(E,2),$=S[0],G=S[1],M={ssrc:$};G&&(M.rtx={ssrc:G}),w.push(M)}return w},e.addLegacySimulcast=function(t){var n=t.offerMediaObject,i=t.numStreams;if(i<=1)throw new TypeError('numStreams must be greater than 1');var u=(n.ssrcs||[]).find(function(s){return'msid'===s.attribute});if(!u)throw new Error('a=ssrc line with msid information not found');var o,c=u.value.split(' '),f=s(c,2),v=f[0],l=f[1],p=u.id;(n.ssrcGroups||[]).some(function(s){if('FID'!==s.semantics)return!1;var t=s.ssrcs.split(/\s+/);return Number(t[0])===p&&(o=Number(t[1]),!0)});var h=n.ssrcs.find(function(s){return'cname'===s.attribute});if(!h)throw new Error('a=ssrc line with cname information not found');for(var b=h.value,w=[],E=[],S=0;S<i;++S)w.push(p+S),o&&E.push(o+S);n.ssrcGroups=[],n.ssrcs=[],n.ssrcGroups.push({semantics:'SIM',ssrcs:w.join(' ')});for(var $=0;$<w.length;++$){var G=w[$];n.ssrcs.push({id:G,attribute:'cname',value:b}),n.ssrcs.push({id:G,attribute:'msid',value:`${v} ${l}`})}for(var M=0;M<E.length;++M){var j=w[M],y=E[M];n.ssrcs.push({id:y,attribute:'cname',value:b}),n.ssrcs.push({id:y,attribute:'msid',value:`${v} ${l}`}),n.ssrcGroups.push({semantics:'FID',ssrcs:`${j} ${y}`})}}},634,[38]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addNackSuppportForOpus=void 0,e.addNackSuppportForOpus=function(o){var p;for(var t of o.codecs||[])'audio/opus'!==t.mimeType.toLowerCase()&&'audio/multiopus'!==t.mimeType.toLowerCase()||(null===(p=t.rtcpFeedback)||void 0===p?void 0:p.some(function(o){return'nack'===o.type&&!o.parameter}))||(t.rtcpFeedback||(t.rtcpFeedback=[]),t.rtcpFeedback.push({type:'nack'}))}},635,[]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=r(d[0]),s=r(d[1]),n=this&&this.__createBinding||(Object.create?function(t,s,n,o){void 0===o&&(o=n);var c=Object.getOwnPropertyDescriptor(s,n);c&&!("get"in c?!s.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return s[n]}}),Object.defineProperty(t,o,c)}:function(t,s,n,o){void 0===o&&(o=n),t[o]=s[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var c in t)"default"!==c&&Object.prototype.hasOwnProperty.call(t,c)&&n(s,t,c);return o(s,t),s};Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteSdp=void 0;var m=c(r(d[2])),l=new(r(d[3]).Logger)('RemoteSdp'),h=(function(){return s(function s(n){var o=n.iceParameters,c=n.iceCandidates,m=n.dtlsParameters,l=n.sctpParameters,h=n.plainRtpParameters,p=n.planB,u=void 0!==p&&p;if(t(this,s),this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=o,this._iceCandidates=c,this._dtlsParameters=m,this._sctpParameters=l,this._plainRtpParameters=h,this._planB=u,this._sdpObject={version:0,origin:{address:'0.0.0.0',ipVer:4,netType:'IN',sessionId:1e4,sessionVersion:0,username:'mediasoup-client'},name:'-',timing:{start:0,stop:0},media:[]},o&&o.iceLite&&(this._sdpObject.icelite='ice-lite'),m){this._sdpObject.msidSemantic={semantic:'WMS',token:'*'};var _=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:m.fingerprints[_-1].algorithm,hash:m.fingerprints[_-1].value},this._sdpObject.groups=[{type:'BUNDLE',mids:''}]}h&&(this._sdpObject.origin.address=h.ip,this._sdpObject.origin.ipVer=h.ipVersion)},[{key:"updateIceParameters",value:function(t){for(var s of(l.debug('updateIceParameters() [iceParameters:%o]',t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?'ice-lite':void 0,this._mediaSections))s.setIceParameters(t)}},{key:"updateDtlsRole",value:function(t){for(var s of(l.debug('updateDtlsRole() [role:%s]',t),this._dtlsParameters.role=t,this._mediaSections))s.setDtlsRole(t)}},{key:"getNextMediaSectionIdx",value:function(){for(var t=0;t<this._mediaSections.length;++t){var s=this._mediaSections[t];if(s.closed)return{idx:t,reuseMid:s.mid}}return{idx:this._mediaSections.length}}},{key:"send",value:function(t){var s=t.offerMediaObject,n=t.reuseMid,o=t.offerRtpParameters,c=t.answerRtpParameters,m=t.codecOptions,l=t.extmapAllowMixed,h=void 0!==l&&l,p=new(r(d[4]).AnswerMediaSection)({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:s,offerRtpParameters:o,answerRtpParameters:c,codecOptions:m,extmapAllowMixed:h});n?this._replaceMediaSection(p,n):this._midToIndex.has(p.mid)?this._replaceMediaSection(p):this._addMediaSection(p)}},{key:"receive",value:function(t){var s,n=t.mid,o=t.kind,c=t.offerRtpParameters,m=t.streamId,l=t.trackId,h=this._midToIndex.get(n);if(void 0!==h&&(s=this._mediaSections[h]),s)s.planBReceive({offerRtpParameters:c,streamId:m,trackId:l}),this._replaceMediaSection(s);else{s=new(r(d[4]).OfferMediaSection)({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:n,kind:o,offerRtpParameters:c,streamId:m,trackId:l});var p=this._mediaSections.find(function(t){return t.closed});p?this._replaceMediaSection(s,p.mid):this._addMediaSection(s)}}},{key:"pauseMediaSection",value:function(t){this._findMediaSection(t).pause()}},{key:"resumeSendingMediaSection",value:function(t){this._findMediaSection(t).resume()}},{key:"resumeReceivingMediaSection",value:function(t){this._findMediaSection(t).resume()}},{key:"disableMediaSection",value:function(t){this._findMediaSection(t).disable()}},{key:"closeMediaSection",value:function(t){var s=this._findMediaSection(t);return t===this._firstMid?(l.debug('closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]',t),this.disableMediaSection(t),!1):(s.close(),this._regenerateBundleMids(),!0)}},{key:"muxMediaSectionSimulcast",value:function(t,s){var n=this._findMediaSection(t);n.muxSimulcastStreams(s),this._replaceMediaSection(n)}},{key:"planBStopReceiving",value:function(t){var s=t.mid,n=t.offerRtpParameters,o=this._findMediaSection(s);o.planBStopReceiving({offerRtpParameters:n}),this._replaceMediaSection(o)}},{key:"sendSctpAssociation",value:function(t){var s=t.offerMediaObject,n=new(r(d[4]).AnswerMediaSection)({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:s});this._addMediaSection(n)}},{key:"receiveSctpAssociation",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).oldDataChannelSpec,s=void 0!==t&&t,n=new(r(d[4]).OfferMediaSection)({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:'datachannel',kind:'application',oldDataChannelSpec:s});this._addMediaSection(n)}},{key:"getSdp",value:function(){return this._sdpObject.origin.sessionVersion++,m.write(this._sdpObject)}},{key:"_addMediaSection",value:function(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}},{key:"_replaceMediaSection",value:function(t,s){if('string'==typeof s){var n=this._midToIndex.get(s);if(void 0===n)throw new Error(`no media section found for reuseMid '${s}'`);var o=this._mediaSections[n];this._mediaSections[n]=t,this._midToIndex.delete(o.mid),this._midToIndex.set(t.mid,n),this._sdpObject.media[n]=t.getObject(),this._regenerateBundleMids()}else{var c=this._midToIndex.get(t.mid);if(void 0===c)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[c]=t,this._sdpObject.media[c]=t.getObject()}}},{key:"_findMediaSection",value:function(t){var s=this._midToIndex.get(t);if(void 0===s)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[s]}},{key:"_regenerateBundleMids",value:function(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(function(t){return!t.closed}).map(function(t){return t.mid}).join(' '))}}])})();e.RemoteSdp=h},636,[12,13,629,625,637]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),c=r(d[2]),s=r(d[3]),o=r(d[4]);function n(c,s,o){return s=t(s),e(c,p()?Reflect.construct(s,o||[],t(c).constructor):s.apply(c,o))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var m=this&&this.__createBinding||(Object.create?function(e,t,c,s){void 0===s&&(s=c);var o=Object.getOwnPropertyDescriptor(t,c);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[c]}}),Object.defineProperty(e,s,o)}:function(e,t,c,s){void 0===s&&(s=c),e[s]=t[c]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var c in e)"default"!==c&&Object.prototype.hasOwnProperty.call(e,c)&&m(t,e,c);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.OfferMediaSection=_e.AnswerMediaSection=_e.MediaSection=void 0;var b=l(r(d[5])),f=l(r(d[6])),_=(function(){return o(function e(t){var c=t.iceParameters,o=t.iceCandidates,n=t.dtlsParameters,p=t.planB,m=void 0!==p&&p;if(s(this,e),this._mediaObject={},this._planB=m,c&&this.setIceParameters(c),o){for(var u of(this._mediaObject.candidates=[],o)){var l={component:1};l.foundation=u.foundation,l.ip=u.ip,l.port=u.port,l.priority=u.priority,l.transport=u.protocol,l.type=u.type,u.tcpType&&(l.tcptype=u.tcpType),this._mediaObject.candidates.push(l)}this._mediaObject.endOfCandidates='end-of-candidates',this._mediaObject.iceOptions='renomination'}n&&this.setDtlsRole(n.role)},[{key:"mid",get:function(){return String(this._mediaObject.mid)}},{key:"closed",get:function(){return 0===this._mediaObject.port}},{key:"getObject",value:function(){return this._mediaObject}},{key:"setIceParameters",value:function(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}},{key:"pause",value:function(){this._mediaObject.direction='inactive'}},{key:"disable",value:function(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}},{key:"close",value:function(){this.disable(),this._mediaObject.port=0}}])})();_e.MediaSection=_;var O=(function(e){function t(e){var c,o=e.iceParameters,p=e.iceCandidates,m=e.dtlsParameters,u=e.sctpParameters,l=e.plainRtpParameters,b=e.planB,_=void 0!==b&&b,O=e.offerMediaObject,j=e.offerRtpParameters,y=e.answerRtpParameters,h=e.codecOptions,x=e.extmapAllowMixed,P=void 0!==x&&x;switch(s(this,t),(c=n(this,t,[{iceParameters:o,iceCandidates:p,dtlsParameters:m,planB:_}]))._mediaObject.mid=String(O.mid),c._mediaObject.type=O.type,c._mediaObject.protocol=O.protocol,l?(c._mediaObject.connection={ip:l.ip,version:l.ipVersion},c._mediaObject.port=l.port):(c._mediaObject.connection={ip:'127.0.0.1',version:4},c._mediaObject.port=7),O.type){case'audio':case'video':c._mediaObject.direction='recvonly',c._mediaObject.rtp=[],c._mediaObject.rtcpFb=[],c._mediaObject.fmtp=[];var k=function(e){var t={payload:e.payloadType,codec:v(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),c._mediaObject.rtp.push(t);var s=f.clone(e.parameters,{}),o=f.clone(e.rtcpFeedback,[]);if(h){var n=h.opusStereo,p=h.opusFec,m=h.opusDtx,u=h.opusMaxPlaybackRate,l=h.opusMaxAverageBitrate,b=h.opusPtime,_=h.opusNack,O=h.videoGoogleStartBitrate,y=h.videoGoogleMaxBitrate,x=h.videoGoogleMinBitrate,P=j.codecs.find(function(t){return t.payloadType===e.payloadType});switch(e.mimeType.toLowerCase()){case'audio/opus':case'audio/multiopus':void 0!==n&&(P.parameters['sprop-stereo']=n?1:0,s.stereo=n?1:0),void 0!==p&&(P.parameters.useinbandfec=p?1:0,s.useinbandfec=p?1:0),void 0!==m&&(P.parameters.usedtx=m?1:0,s.usedtx=m?1:0),void 0!==u&&(s.maxplaybackrate=u),void 0!==l&&(s.maxaveragebitrate=l),void 0!==b&&(P.parameters.ptime=b,s.ptime=b),_||(P.rtcpFeedback=P.rtcpFeedback.filter(function(e){return'nack'!==e.type||e.parameter}),o=o.filter(function(e){return'nack'!==e.type||e.parameter}));break;case'video/vp8':case'video/vp9':case'video/h264':case'video/h265':void 0!==O&&(s['x-google-start-bitrate']=O),void 0!==y&&(s['x-google-max-bitrate']=y),void 0!==x&&(s['x-google-min-bitrate']=x)}}var k={payload:e.payloadType,config:''};for(var S of Object.keys(s))k.config&&(k.config+=';'),k.config+=`${S}=${s[S]}`;for(var M of(k.config&&c._mediaObject.fmtp.push(k),o))c._mediaObject.rtcpFb.push({payload:e.payloadType,type:M.type,subtype:M.parameter})};for(var S of y.codecs)k(S);c._mediaObject.payloads=y.codecs.map(function(e){return e.payloadType}).join(' '),c._mediaObject.ext=[];var M=function(e){if(!(O.ext||[]).some(function(t){return t.uri===e.uri}))return 1;c._mediaObject.ext.push({uri:e.uri,value:e.id})};for(var T of y.headerExtensions)M(T);if(P&&'extmap-allow-mixed'===O.extmapAllowMixed&&(c._mediaObject.extmapAllowMixed='extmap-allow-mixed'),O.simulcast)for(var w of(c._mediaObject.simulcast={dir1:'recv',list1:O.simulcast.list1},c._mediaObject.rids=[],O.rids||[]))'send'===w.direction&&c._mediaObject.rids.push({id:w.id,direction:'recv'});else if(O.simulcast_03)for(var $ of(c._mediaObject.simulcast_03={value:O.simulcast_03.value.replace(/send/g,'recv')},c._mediaObject.rids=[],O.rids||[]))'send'===$.direction&&c._mediaObject.rids.push({id:$.id,direction:'recv'});c._mediaObject.rtcpMux='rtcp-mux',c._mediaObject.rtcpRsize='rtcp-rsize',c._planB&&'video'===c._mediaObject.type&&(c._mediaObject.xGoogleFlag='conference');break;case'application':'number'==typeof O.sctpPort?(c._mediaObject.payloads='webrtc-datachannel',c._mediaObject.sctpPort=u.port,c._mediaObject.maxMessageSize=u.maxMessageSize):O.sctpmap&&(c._mediaObject.payloads=u.port,c._mediaObject.sctpmap={app:'webrtc-datachannel',sctpmapNumber:u.port,maxMessageSize:u.maxMessageSize})}return c}return c(t,e),o(t,[{key:"setDtlsRole",value:function(e){switch(e){case'client':this._mediaObject.setup='active';break;case'server':this._mediaObject.setup='passive';break;case'auto':this._mediaObject.setup='actpass'}}},{key:"resume",value:function(){this._mediaObject.direction='recvonly'}},{key:"muxSimulcastStreams",value:function(e){var t;if(this._mediaObject.simulcast&&this._mediaObject.simulcast.list1){var c={};for(var s of e)s.rid&&(c[s.rid]=s);var o=this._mediaObject.simulcast.list1,n=b.parseSimulcastStreamList(o);for(var p of n)for(var m of p)m.paused=!(null===(t=c[m.scid])||void 0===t?void 0:t.active);this._mediaObject.simulcast.list1=n.map(function(e){return e.map(function(e){return`${e.paused?'~':''}${e.scid}`}).join(',')}).join(';')}}}])})(_);_e.AnswerMediaSection=O;var j=(function(e){function t(e){var c,o=e.iceParameters,p=e.iceCandidates,m=e.dtlsParameters,u=e.sctpParameters,l=e.plainRtpParameters,b=e.planB,f=void 0!==b&&b,_=e.mid,O=e.kind,j=e.offerRtpParameters,y=e.streamId,h=e.trackId,x=e.oldDataChannelSpec,P=void 0!==x&&x;switch(s(this,t),(c=n(this,t,[{iceParameters:o,iceCandidates:p,dtlsParameters:m,planB:f}]))._mediaObject.mid=String(_),c._mediaObject.type=O,l?(c._mediaObject.connection={ip:l.ip,version:l.ipVersion},c._mediaObject.protocol='RTP/AVP',c._mediaObject.port=l.port):(c._mediaObject.connection={ip:'127.0.0.1',version:4},c._mediaObject.protocol=u?'UDP/DTLS/SCTP':'UDP/TLS/RTP/SAVPF',c._mediaObject.port=7),O){case'audio':case'video':for(var k of(c._mediaObject.direction='sendonly',c._mediaObject.rtp=[],c._mediaObject.rtcpFb=[],c._mediaObject.fmtp=[],c._planB||(c._mediaObject.msid=`${y||'-'} ${h}`),j.codecs)){var S={payload:k.payloadType,codec:v(k),rate:k.clockRate};k.channels>1&&(S.encoding=k.channels),c._mediaObject.rtp.push(S);var M={payload:k.payloadType,config:''};for(var T of Object.keys(k.parameters))M.config&&(M.config+=';'),M.config+=`${T}=${k.parameters[T]}`;for(var w of(M.config&&c._mediaObject.fmtp.push(M),k.rtcpFeedback))c._mediaObject.rtcpFb.push({payload:k.payloadType,type:w.type,subtype:w.parameter})}for(var $ of(c._mediaObject.payloads=j.codecs.map(function(e){return e.payloadType}).join(' '),c._mediaObject.ext=[],j.headerExtensions))c._mediaObject.ext.push({uri:$.uri,value:$.id});c._mediaObject.rtcpMux='rtcp-mux',c._mediaObject.rtcpRsize='rtcp-rsize';var R=j.encodings[0],B=R.ssrc,F=R.rtx&&R.rtx.ssrc?R.rtx.ssrc:void 0;c._mediaObject.ssrcs=[],c._mediaObject.ssrcGroups=[],j.rtcp.cname&&c._mediaObject.ssrcs.push({id:B,attribute:'cname',value:j.rtcp.cname}),c._planB&&c._mediaObject.ssrcs.push({id:B,attribute:'msid',value:`${y||'-'} ${h}`}),F&&(j.rtcp.cname&&c._mediaObject.ssrcs.push({id:F,attribute:'cname',value:j.rtcp.cname}),c._planB&&c._mediaObject.ssrcs.push({id:F,attribute:'msid',value:`${y||'-'} ${h}`}),c._mediaObject.ssrcGroups.push({semantics:'FID',ssrcs:`${B} ${F}`}));break;case'application':P?(c._mediaObject.payloads=u.port,c._mediaObject.sctpmap={app:'webrtc-datachannel',sctpmapNumber:u.port,maxMessageSize:u.maxMessageSize}):(c._mediaObject.payloads='webrtc-datachannel',c._mediaObject.sctpPort=u.port,c._mediaObject.maxMessageSize=u.maxMessageSize)}return c}return c(t,e),o(t,[{key:"setDtlsRole",value:function(e){this._mediaObject.setup='actpass'}},{key:"resume",value:function(){this._mediaObject.direction='sendonly'}},{key:"planBReceive",value:function(e){var t=this,c=e.offerRtpParameters,s=e.streamId,o=e.trackId,n=c.encodings[0],p=n.ssrc,m=n.rtx&&n.rtx.ssrc?n.rtx.ssrc:void 0,u=this._mediaObject.payloads.split(' ');for(var l of c.codecs)if(!u.includes(String(l.payloadType))){var b={payload:l.payloadType,codec:v(l),rate:l.clockRate};l.channels>1&&(b.encoding=l.channels),this._mediaObject.rtp.push(b);var f={payload:l.payloadType,config:''};for(var _ of Object.keys(l.parameters))f.config&&(f.config+=';'),f.config+=`${_}=${l.parameters[_]}`;for(var O of(f.config&&this._mediaObject.fmtp.push(f),l.rtcpFeedback))this._mediaObject.rtcpFb.push({payload:l.payloadType,type:O.type,subtype:O.parameter})}this._mediaObject.payloads+=` ${c.codecs.filter(function(e){return!t._mediaObject.payloads.includes(e.payloadType)}).map(function(e){return e.payloadType}).join(' ')}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),c.rtcp.cname&&this._mediaObject.ssrcs.push({id:p,attribute:'cname',value:c.rtcp.cname}),this._mediaObject.ssrcs.push({id:p,attribute:'msid',value:`${s||'-'} ${o}`}),m&&(c.rtcp.cname&&this._mediaObject.ssrcs.push({id:m,attribute:'cname',value:c.rtcp.cname}),this._mediaObject.ssrcs.push({id:m,attribute:'msid',value:`${s||'-'} ${o}`}),this._mediaObject.ssrcGroups.push({semantics:'FID',ssrcs:`${p} ${m}`}))}},{key:"planBStopReceiving",value:function(e){var t=e.offerRtpParameters.encodings[0],c=t.ssrc,s=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(function(e){return e.id!==c&&e.id!==s}),s&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(function(e){return e.ssrcs!==`${c} ${s}`}))}}])})(_);function v(e){var t=new RegExp('^(audio|video)/(.+)','i').exec(e.mimeType);if(!t)throw new TypeError('invalid codec.mimeType');return t[2]}_e.OfferMediaSection=j},637,[23,25,28,12,13,629,622]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var s=new RegExp('^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})');e.parse=function(t){var p=s.exec(t||'');return p?{spatialLayers:Number(p[1]),temporalLayers:Number(p[2])}:{spatialLayers:1,temporalLayers:1}}},638,[]);
__d(function(g,r,i,a,m,_e,d){"use strict";var t=r(d[0]),e=r(d[1]),n=r(d[2]),c=r(d[3]),o=r(d[4]);function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.HandlerInterface=void 0;var f=(function(f){function l(){return e(this,l),t=this,o=c(o=l),n(t,u()?Reflect.construct(o,f||[],c(t).constructor):o.apply(t,f));var t,o,f}return o(l,f),t(l)})(r(d[5]).EnhancedEventEmitter);_e.HandlerInterface=f},639,[13,12,23,25,28,626]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(t,n);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,c)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Chrome74=void 0;var f=h(r(d[6])),m=h(r(d[7])),v=h(r(d[8])),y=h(r(d[9])),_=h(r(d[10])),S=h(r(d[11])),R=new(r(d[12]).Logger)('Chrome74'),D={OS:1024,MIS:1024},b=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=c(o=u),(e=s(n,p()?Reflect.construct(o,l||[],c(n).constructor):o.apply(n,l)))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'Chrome74'}},{key:"close",value:function(){if(R.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(V=e(function*(){R.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'});try{e.addTransceiver('audio'),e.addTransceiver('video');var t=yield e.createOffer();try{e.close()}catch(e){}var n=f.parse(t.sdp),s=y.extractRtpCapabilities({sdpObject:n});return S.addNackSuppportForOpus(s),s}catch(t){try{e.close()}catch(e){}throw t}}),function(){return V.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(F=e(function*(){return R.debug('getNativeSctpCapabilities()'),{numStreams:D}}),function(){return F.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,s=e.iceParameters,c=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,m=e.extendedRtpCapabilities;R.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[13]).RemoteSdp)({iceParameters:s,iceCandidates:c,dtlsParameters:o,sctpParameters:p}),this._sendingRtpParametersByKind={audio:v.getSendingRtpParameters('audio',m),video:v.getSendingRtpParameters('video',m)},this._sendingRemoteRtpParametersByKind={audio:v.getSendingRemoteRtpParameters('audio',m),video:v.getSendingRemoteRtpParameters('video',m)},o.role&&'auto'!==o.role&&(this._forcedLocalDtlsRole='server'===o.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):(R.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),this._pc.addEventListener('iceconnectionstatechange',function(){switch(t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}}))}},{key:"updateIceServers",value:(q=e(function*(e){R.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return q.apply(this,arguments)})},{key:"restartIce",value:(K=e(function*(e){if(R.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});R.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return K.apply(this,arguments)})},{key:"getTransportStats",value:(N=e(function*(){return this._pc.getStats()}),function(){return N.apply(this,arguments)})},{key:"send",value:(B=e(function*(e){var t,n=e.track,s=e.encodings,c=e.codecOptions,o=e.codec;this.assertSendDirection(),R.debug('send() [kind:%s, track.id:%s]',n.kind,n.id),s&&s.length>1&&s.forEach(function(e,t){e.rid=`r${t}`});var p=m.clone(this._sendingRtpParametersByKind[n.kind],{});p.codecs=v.reduceCodecs(p.codecs,o);var l=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{});l.codecs=v.reduceCodecs(l.codecs,o);var u,h=this._remoteSdp.getNextMediaSectionIdx(),S=this._pc.addTransceiver(n,{direction:'sendonly',streams:[this._sendStream],sendEncodings:s}),D=yield this._pc.createOffer(),b=f.parse(D.sdp);this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:b}));var w=!1,T=(0,r(d[14]).parse)((s||[{}])[0].scalabilityMode);s&&1===s.length&&T.spatialLayers>1&&'video/vp9'===p.codecs[0].mimeType.toLowerCase()&&(R.debug('send() | enabling legacy simulcast for VP9 SVC'),w=!0,u=(b=f.parse(D.sdp)).media[h.idx],_.addLegacySimulcast({offerMediaObject:u,numStreams:T.spatialLayers}),D={type:'offer',sdp:f.write(b)}),R.debug('send() | calling pc.setLocalDescription() [offer:%o]',D),yield this._pc.setLocalDescription(D);var k=S.mid;if(p.mid=k,u=(b=f.parse(this._pc.localDescription.sdp)).media[h.idx],p.rtcp.cname=y.getCname({offerMediaObject:u}),s)if(1===s.length){var M=_.getRtpEncodings({offerMediaObject:u});Object.assign(M[0],s[0]),w&&(M=[M[0]]),p.encodings=M}else p.encodings=s;else p.encodings=_.getRtpEncodings({offerMediaObject:u});if(p.encodings.length>1&&('video/vp8'===p.codecs[0].mimeType.toLowerCase()||'video/h264'===p.codecs[0].mimeType.toLowerCase()))for(var C of p.encodings)C.scalabilityMode?C.scalabilityMode=`L1T${T.temporalLayers}`:C.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:u,reuseMid:h.reuseMid,offerRtpParameters:p,answerRtpParameters:l,codecOptions:c,extmapAllowMixed:!0});var P={type:'answer',sdp:this._remoteSdp.getSdp()};return R.debug('send() | calling pc.setRemoteDescription() [answer:%o]',P),yield this._pc.setRemoteDescription(P),this._mapMidTransceiver.set(k,S),{localId:k,rtpParameters:p,rtpSender:S.sender}}),function(e){return B.apply(this,arguments)})},{key:"stopSending",value:(A=e(function*(e){this.assertSendDirection(),R.debug('stopSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}var n=yield this._pc.createOffer();R.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(e)}),function(e){return A.apply(this,arguments)})},{key:"pauseSending",value:(j=e(function*(e){this.assertSendDirection(),R.debug('pauseSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='inactive',this._remoteSdp.pauseMediaSection(e);var n=yield this._pc.createOffer();R.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return j.apply(this,arguments)})},{key:"resumeSending",value:(E=e(function*(e){this.assertSendDirection(),R.debug('resumeSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='sendonly';var n=yield this._pc.createOffer();R.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return E.apply(this,arguments)})},{key:"replaceTrack",value:(x=e(function*(e,t){this.assertSendDirection(),t?R.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):R.debug('replaceTrack() [localId:%s, no track]',e);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');yield n.sender.replaceTrack(t)}),function(e,t){return x.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(I=e(function*(e,t){this.assertSendDirection(),R.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){e.active=n<=t}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return I.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(O=e(function*(e,t){this.assertSendDirection(),R.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){s.encodings[n]=Object.assign({},e,t)}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return O.apply(this,arguments)})},{key:"getSenderStats",value:(L=e(function*(e){this.assertSendDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.sender.getStats()}),function(e){return L.apply(this,arguments)})},{key:"sendDataChannel",value:(P=e(function*(e){var t,n=e.ordered,s=e.maxPacketLifeTime,c=e.maxRetransmits,o=e.label,p=e.protocol;this.assertSendDirection();var l={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:s,maxRetransmits:c,protocol:p};R.debug('sendDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(o,l);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%D.MIS,!this._hasDataChannelMediaSection){var h=yield this._pc.createOffer(),m=f.parse(h.sdp),v=m.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:m})),R.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:v});var y={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',y),yield this._pc.setRemoteDescription(y),this._hasDataChannelMediaSection=!0}return{dataChannel:u,sctpStreamParameters:{streamId:l.id,ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits}}}),function(e){return P.apply(this,arguments)})},{key:"receive",value:(C=e(function*(e){var t,n=this;this.assertRecvDirection();var s=[],c=new Map;for(var o of e){var p=o.trackId,l=o.kind,u=o.rtpParameters,h=o.streamId;R.debug('receive() [trackId:%s, kind:%s]',p,l);var m=u.mid||String(this._mapMidTransceiver.size);c.set(p,m),this._remoteSdp.receive({mid:m,kind:l,offerRtpParameters:u,streamId:h||u.rtcp.cname,trackId:p})}var v={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',v),yield this._pc.setRemoteDescription(v);var _=yield this._pc.createAnswer(),S=f.parse(_.sdp),D=function*(){var e=b.trackId,t=b.rtpParameters,n=c.get(e),s=S.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})};for(var b of e)yield*D();_={type:'answer',sdp:f.write(S)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:S})),R.debug('receive() | calling pc.setLocalDescription() [answer:%o]',_),yield this._pc.setLocalDescription(_);var w=function*(){var e=T.trackId,t=c.get(e),o=n._pc.getTransceivers().find(function(e){return e.mid===t});if(!o)throw new Error('new RTCRtpTransceiver not found');n._mapMidTransceiver.set(t,o),s.push({localId:t,track:o.receiver.track,rtpReceiver:o.receiver})};for(var T of e)yield*w();return s}),function(e){return C.apply(this,arguments)})},{key:"stopReceiving",value:(M=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('stopReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');this._remoteSdp.closeMediaSection(n.mid)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();for(var o of(R.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c),e))this._mapMidTransceiver.delete(o)}),function(e){return M.apply(this,arguments)})},{key:"pauseReceiving",value:(k=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('pauseReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='inactive',this._remoteSdp.pauseMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return k.apply(this,arguments)})},{key:"resumeReceiving",value:(T=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('resumeReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='recvonly',this._remoteSdp.resumeReceivingMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return T.apply(this,arguments)})},{key:"getReceiverStats",value:(w=e(function*(e){this.assertRecvDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.receiver.getStats()}),function(e){return w.apply(this,arguments)})},{key:"receiveDataChannel",value:(b=e(function*(e){var t,n=e.sctpStreamParameters,s=e.label,c=e.protocol;this.assertRecvDirection();var o={negotiated:!0,id:n.streamId,ordered:n.ordered,maxPacketLifeTime:n.maxPacketLifeTime,maxRetransmits:n.maxRetransmits,protocol:c};R.debug('receiveDataChannel() [options:%o]',o);var p=this._pc.createDataChannel(s,o);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();var l={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',l),yield this._pc.setRemoteDescription(l);var u=yield this._pc.createAnswer();if(!this._transportReady){var h=f.parse(u.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:h})}R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',u),yield this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}),function(e){return b.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,s=e.localSdpObject;s||(s=f.parse(this._pc.localDescription.sdp));var c=y.extractDtlsParameters({sdpObject:s});c.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:c},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,b,w,T,k,M,C,P,L,O,I,x,E,j,A,B,N,K,q,F,V})(r(d[15]).HandlerInterface);_e.Chrome74=b},640,[345,12,13,23,25,28,629,622,623,633,634,635,625,636,638,639]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(t,n);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,c)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Chrome70=void 0;var f=h(r(d[6])),m=h(r(d[7])),v=h(r(d[8])),y=h(r(d[9])),_=h(r(d[10])),S=new(r(d[11]).Logger)('Chrome70'),R={OS:1024,MIS:1024},b=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=c(o=u),(e=s(n,p()?Reflect.construct(o,l||[],c(n).constructor):o.apply(n,l)))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'Chrome70'}},{key:"close",value:function(){if(S.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(V=e(function*(){S.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'});try{e.addTransceiver('audio'),e.addTransceiver('video');var t=yield e.createOffer();try{e.close()}catch(e){}var n=f.parse(t.sdp);return y.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}),function(){return V.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(q=e(function*(){return S.debug('getNativeSctpCapabilities()'),{numStreams:R}}),function(){return q.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,s=e.iceParameters,c=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,m=e.extendedRtpCapabilities;S.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[12]).RemoteSdp)({iceParameters:s,iceCandidates:c,dtlsParameters:o,sctpParameters:p}),this._sendingRtpParametersByKind={audio:v.getSendingRtpParameters('audio',m),video:v.getSendingRtpParameters('video',m)},this._sendingRemoteRtpParametersByKind={audio:v.getSendingRemoteRtpParameters('audio',m),video:v.getSendingRemoteRtpParameters('video',m)},o.role&&'auto'!==o.role&&(this._forcedLocalDtlsRole='server'===o.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(S.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(K=e(function*(e){S.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return K.apply(this,arguments)})},{key:"restartIce",value:(N=e(function*(e){if(S.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});S.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var s={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();S.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return N.apply(this,arguments)})},{key:"getTransportStats",value:(A=e(function*(){return this._pc.getStats()}),function(){return A.apply(this,arguments)})},{key:"send",value:(B=e(function*(e){var t,n=e.track,s=e.encodings,c=e.codecOptions,o=e.codec;this.assertSendDirection(),S.debug('send() [kind:%s, track.id:%s]',n.kind,n.id);var p=m.clone(this._sendingRtpParametersByKind[n.kind],{});p.codecs=v.reduceCodecs(p.codecs,o);var l=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{});l.codecs=v.reduceCodecs(l.codecs,o);var u,h=this._remoteSdp.getNextMediaSectionIdx(),R=this._pc.addTransceiver(n,{direction:'sendonly',streams:[this._sendStream]}),b=yield this._pc.createOffer(),D=f.parse(b.sdp);this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:D})),s&&s.length>1&&(S.debug('send() | enabling legacy simulcast'),u=(D=f.parse(b.sdp)).media[h.idx],_.addLegacySimulcast({offerMediaObject:u,numStreams:s.length}),b={type:'offer',sdp:f.write(D)});var w=!1,k=(0,r(d[13]).parse)((s||[{}])[0].scalabilityMode);if(s&&1===s.length&&k.spatialLayers>1&&'video/vp9'===p.codecs[0].mimeType.toLowerCase()&&(S.debug('send() | enabling legacy simulcast for VP9 SVC'),w=!0,u=(D=f.parse(b.sdp)).media[h.idx],_.addLegacySimulcast({offerMediaObject:u,numStreams:k.spatialLayers}),b={type:'offer',sdp:f.write(D)}),S.debug('send() | calling pc.setLocalDescription() [offer:%o]',b),yield this._pc.setLocalDescription(b),s){S.debug('send() | applying given encodings');for(var T=R.sender.getParameters(),P=0;P<(T.encodings||[]).length;++P){var C=T.encodings[P],M=s[P];if(!M)break;T.encodings[P]=Object.assign(C,M)}yield R.sender.setParameters(T)}var L=R.mid;if(p.mid=L,u=(D=f.parse(this._pc.localDescription.sdp)).media[h.idx],p.rtcp.cname=y.getCname({offerMediaObject:u}),p.encodings=_.getRtpEncodings({offerMediaObject:u}),s)for(var O=0;O<p.encodings.length;++O)s[O]&&Object.assign(p.encodings[O],s[O]);if(w&&(p.encodings=[p.encodings[0]]),p.encodings.length>1&&('video/vp8'===p.codecs[0].mimeType.toLowerCase()||'video/h264'===p.codecs[0].mimeType.toLowerCase()))for(var x of p.encodings)x.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:u,reuseMid:h.reuseMid,offerRtpParameters:p,answerRtpParameters:l,codecOptions:c});var I={type:'answer',sdp:this._remoteSdp.getSdp()};return S.debug('send() | calling pc.setRemoteDescription() [answer:%o]',I),yield this._pc.setRemoteDescription(I),this._mapMidTransceiver.set(L,R),{localId:L,rtpParameters:p,rtpSender:R.sender}}),function(e){return B.apply(this,arguments)})},{key:"stopSending",value:(E=e(function*(e){this.assertSendDirection(),S.debug('stopSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}var n=yield this._pc.createOffer();S.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(e)}),function(e){return E.apply(this,arguments)})},{key:"pauseSending",value:(j=e(function*(e){}),function(e){return j.apply(this,arguments)})},{key:"resumeSending",value:(I=e(function*(e){}),function(e){return I.apply(this,arguments)})},{key:"replaceTrack",value:(x=e(function*(e,t){this.assertSendDirection(),t?S.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):S.debug('replaceTrack() [localId:%s, no track]',e);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');yield n.sender.replaceTrack(t)}),function(e,t){return x.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(O=e(function*(e,t){this.assertSendDirection(),S.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){e.active=n<=t}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();S.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return O.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(L=e(function*(e,t){this.assertSendDirection(),S.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){s.encodings[n]=Object.assign({},e,t)}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();S.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return L.apply(this,arguments)})},{key:"getSenderStats",value:(M=e(function*(e){this.assertSendDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.sender.getStats()}),function(e){return M.apply(this,arguments)})},{key:"sendDataChannel",value:(C=e(function*(e){var t,n=e.ordered,s=e.maxPacketLifeTime,c=e.maxRetransmits,o=e.label,p=e.protocol;this.assertSendDirection();var l={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:s,maxRetransmitTime:s,maxRetransmits:c,protocol:p};S.debug('sendDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(o,l);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){var h=yield this._pc.createOffer(),m=f.parse(h.sdp),v=m.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:m})),S.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:v});var y={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',y),yield this._pc.setRemoteDescription(y),this._hasDataChannelMediaSection=!0}return{dataChannel:u,sctpStreamParameters:{streamId:l.id,ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits}}}),function(e){return C.apply(this,arguments)})},{key:"receive",value:(P=e(function*(e){var t,n=this;this.assertRecvDirection();var s=[],c=new Map;for(var o of e){var p=o.trackId,l=o.kind,u=o.rtpParameters,h=o.streamId;S.debug('receive() [trackId:%s, kind:%s]',p,l);var m=u.mid||String(this._mapMidTransceiver.size);c.set(p,m),this._remoteSdp.receive({mid:m,kind:l,offerRtpParameters:u,streamId:h||u.rtcp.cname,trackId:p})}var v={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',v),yield this._pc.setRemoteDescription(v);var _=yield this._pc.createAnswer(),R=f.parse(_.sdp),b=function*(){var e=D.trackId,t=D.rtpParameters,n=c.get(e),s=R.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})};for(var D of e)yield*b();_={type:'answer',sdp:f.write(R)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:R})),S.debug('receive() | calling pc.setLocalDescription() [answer:%o]',_),yield this._pc.setLocalDescription(_);var w=function*(){var e=k.trackId,t=c.get(e),o=n._pc.getTransceivers().find(function(e){return e.mid===t});if(!o)throw new Error('new RTCRtpTransceiver not found');n._mapMidTransceiver.set(t,o),s.push({localId:t,track:o.receiver.track,rtpReceiver:o.receiver})};for(var k of e)yield*w();return s}),function(e){return P.apply(this,arguments)})},{key:"stopReceiving",value:(T=e(function*(e){for(var t of(this.assertRecvDirection(),e)){S.debug('stopReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');this._remoteSdp.closeMediaSection(n.mid)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();for(var o of(S.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c),e))this._mapMidTransceiver.delete(o)}),function(e){return T.apply(this,arguments)})},{key:"pauseReceiving",value:(k=e(function*(e){}),function(e){return k.apply(this,arguments)})},{key:"resumeReceiving",value:(w=e(function*(e){}),function(e){return w.apply(this,arguments)})},{key:"getReceiverStats",value:(D=e(function*(e){this.assertRecvDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.receiver.getStats()}),function(e){return D.apply(this,arguments)})},{key:"receiveDataChannel",value:(b=e(function*(e){var t,n=e.sctpStreamParameters,s=e.label,c=e.protocol;this.assertRecvDirection();var o=n.streamId,p=n.ordered,l=n.maxPacketLifeTime,u={negotiated:!0,id:o,ordered:p,maxPacketLifeTime:l,maxRetransmitTime:l,maxRetransmits:n.maxRetransmits,protocol:c};S.debug('receiveDataChannel() [options:%o]',u);var h=this._pc.createDataChannel(s,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();var m={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var v=yield this._pc.createAnswer();if(!this._transportReady){var y=f.parse(v.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:y})}S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',v),yield this._pc.setLocalDescription(v),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}),function(e){return b.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,s=e.localSdpObject;s||(s=f.parse(this._pc.localDescription.sdp));var c=y.extractDtlsParameters({sdpObject:s});c.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:c},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,b,D,w,k,T,P,C,M,L,O,x,I,j,E,B,A,N,K,q,V})(r(d[14]).HandlerInterface);_e.Chrome70=b},641,[345,12,13,23,25,28,629,622,623,633,634,625,636,638,639]);
__d(function(g,_r,i,a,_m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),c=_r(d[4]),s=_r(d[5]);function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}var p=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var c=Object.getOwnPropertyDescriptor(t,r);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,c)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&p(t,e,r);return l(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Chrome67=void 0;var h=u(_r(d[6])),f=u(_r(d[7])),m=u(_r(d[8])),v=u(_r(d[9])),S=u(_r(d[10])),y=new(_r(d[11]).Logger)('Chrome67'),_={OS:1024,MIS:1024},R=(function(p){function l(){var e,r,s,p;return t(this,l),r=this,s=c(s=l),(e=n(r,o()?Reflect.construct(s,p||[],c(r).constructor):s.apply(r,p)))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return s(l,p),r(l,[{key:"name",get:function(){return'Chrome67'}},{key:"close",value:function(){if(y.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(q=e(function*(){y.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'plan-b'});try{var t=yield e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}var r=h.parse(t.sdp);return v.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(e){}throw t}}),function(){return q.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(N=e(function*(){return y.debug('getNativeSctpCapabilities()'),{numStreams:_}}),function(){return N.apply(this,arguments)})},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,c=e.iceCandidates,s=e.dtlsParameters,o=e.sctpParameters,p=e.iceServers,l=e.iceTransportPolicy,u=e.additionalSettings,h=e.proprietaryConstraints,f=e.extendedRtpCapabilities;y.debug('run()'),this._direction=r,this._remoteSdp=new(_r(d[12]).RemoteSdp)({iceParameters:n,iceCandidates:c,dtlsParameters:s,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:m.getSendingRtpParameters('audio',f),video:m.getSendingRtpParameters('video',f)},this._sendingRemoteRtpParametersByKind={audio:m.getSendingRemoteRtpParameters('audio',f),video:m.getSendingRemoteRtpParameters('video',f)},s.role&&'auto'!==s.role&&(this._forcedLocalDtlsRole='server'===s.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:p||[],iceTransportPolicy:l||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'plan-b'},u),h),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(y.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(K=e(function*(e){y.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return K.apply(this,arguments)})},{key:"restartIce",value:(A=e(function*(e){if(y.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});y.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var r={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',r),yield this._pc.setRemoteDescription(r)}else{var n={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',n),yield this._pc.setRemoteDescription(n);var c=yield this._pc.createAnswer();y.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return A.apply(this,arguments)})},{key:"getTransportStats",value:(B=e(function*(){return this._pc.getStats()}),function(){return B.apply(this,arguments)})},{key:"send",value:(E=e(function*(e){var t,r=e.track,n=e.encodings,c=e.codecOptions,s=e.codec;this.assertSendDirection(),y.debug('send() [kind:%s, track.id:%s]',r.kind,r.id),s&&y.warn('send() | codec selection is not available in %s handler',this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream);var o,p=yield this._pc.createOffer(),l=h.parse(p.sdp),u=f.clone(this._sendingRtpParametersByKind[r.kind],{});u.codecs=m.reduceCodecs(u.codecs);var _=f.clone(this._sendingRemoteRtpParametersByKind[r.kind],{});if(_.codecs=m.reduceCodecs(_.codecs),this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:l})),'video'===r.kind&&n&&n.length>1&&(y.debug('send() | enabling simulcast'),o=(l=h.parse(p.sdp)).media.find(function(e){return'video'===e.type}),S.addLegacySimulcast({offerMediaObject:o,track:r,numStreams:n.length}),p={type:'offer',sdp:h.write(l)}),y.debug('send() | calling pc.setLocalDescription() [offer:%o]',p),yield this._pc.setLocalDescription(p),o=(l=h.parse(this._pc.localDescription.sdp)).media.find(function(e){return e.type===r.kind}),u.rtcp.cname=v.getCname({offerMediaObject:o}),u.encodings=S.getRtpEncodings({offerMediaObject:o,track:r}),n)for(var R=0;R<u.encodings.length;++R)n[R]&&Object.assign(u.encodings[R],n[R]);if(u.encodings.length>1&&'video/vp8'===u.codecs[0].mimeType.toLowerCase())for(var b of u.encodings)b.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:o,offerRtpParameters:u,answerRtpParameters:_,codecOptions:c});var k={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('send() | calling pc.setRemoteDescription() [answer:%o]',k),yield this._pc.setRemoteDescription(k);var D=String(this._nextSendLocalId);this._nextSendLocalId++;var w=this._pc.getSenders().find(function(e){return e.track===r});return this._mapSendLocalIdRtpSender.set(D,w),{localId:D,rtpParameters:u,rtpSender:w}}),function(e){return E.apply(this,arguments)})},{key:"stopSending",value:(M=e(function*(e){this.assertSendDirection(),y.debug('stopSending() [localId:%s]',e);var t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error('associated RTCRtpSender not found');this._pc.removeTrack(t),t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);var r=yield this._pc.createOffer();y.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',r);try{yield this._pc.setLocalDescription(r)}catch(e){if(0===this._sendStream.getTracks().length)return void y.warn('stopSending() | ignoring expected error due no sending tracks: %s',e.toString());throw e}if('stable'!==this._pc.signalingState){var n={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}}),function(e){return M.apply(this,arguments)})},{key:"pauseSending",value:(j=e(function*(e){}),function(e){return j.apply(this,arguments)})},{key:"resumeSending",value:(x=e(function*(e){}),function(e){return x.apply(this,arguments)})},{key:"replaceTrack",value:(O=e(function*(e,t){this.assertSendDirection(),t?y.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):y.debug('replaceTrack() [localId:%s, no track]',e);var r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error('associated RTCRtpSender not found');var n=r.track;yield r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}),function(e,t){return O.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(T=e(function*(e,t){this.assertSendDirection(),y.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error('associated RTCRtpSender not found');var n=r.getParameters();n.encodings.forEach(function(e,r){e.active=r<=t}),yield r.setParameters(n)}),function(e,t){return T.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(L=e(function*(e,t){this.assertSendDirection(),y.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error('associated RTCRtpSender not found');var n=r.getParameters();n.encodings.forEach(function(e,r){n.encodings[r]=Object.assign({},e,t)}),yield r.setParameters(n)}),function(e,t){return L.apply(this,arguments)})},{key:"getSenderStats",value:(C=e(function*(e){this.assertSendDirection();var t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error('associated RTCRtpSender not found');return t.getStats()}),function(e){return C.apply(this,arguments)})},{key:"sendDataChannel",value:(I=e(function*(e){var t,r=e.ordered,n=e.maxPacketLifeTime,c=e.maxRetransmits,s=e.label,o=e.protocol;this.assertSendDirection();var p={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:c,protocol:o};y.debug('sendDataChannel() [options:%o]',p);var l=this._pc.createDataChannel(s,p);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,!this._hasDataChannelMediaSection){var u=yield this._pc.createOffer(),f=h.parse(u.sdp),m=f.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:f})),y.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',u),yield this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:m});var v={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',v),yield this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}return{dataChannel:l,sctpStreamParameters:{streamId:p.id,ordered:p.ordered,maxPacketLifeTime:p.maxPacketLifeTime,maxRetransmits:p.maxRetransmits}}}),function(e){return I.apply(this,arguments)})},{key:"receive",value:(P=e(function*(e){var t,r=this;this.assertRecvDirection();var n=[];for(var c of e){var s=c.trackId,o=c.kind,p=c.rtpParameters,l=c.streamId;y.debug('receive() [trackId:%s, kind:%s]',s,o);var u=o;this._remoteSdp.receive({mid:u,kind:o,offerRtpParameters:p,streamId:l||p.rtcp.cname,trackId:s})}var f={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',f),yield this._pc.setRemoteDescription(f);var m=yield this._pc.createAnswer(),S=h.parse(m.sdp),_=function*(){var e=R.kind,t=R.rtpParameters,r=e,n=S.media.find(function(e){return String(e.mid)===r});v.applyCodecParameters({offerRtpParameters:t,answerMediaObject:n})};for(var R of e)yield*_();m={type:'answer',sdp:h.write(S)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:S})),y.debug('receive() | calling pc.setLocalDescription() [answer:%o]',m),yield this._pc.setLocalDescription(m);var b=function*(){var e=k.kind,t=k.trackId,c=k.rtpParameters,s=t,o=e,p=r._pc.getReceivers().find(function(e){return e.track&&e.track.id===s});if(!p)throw new Error('new RTCRtpReceiver not');r._mapRecvLocalIdInfo.set(s,{mid:o,rtpParameters:c,rtpReceiver:p}),n.push({localId:s,track:p.track,rtpReceiver:p})};for(var k of e)yield*b();return n}),function(e){return P.apply(this,arguments)})},{key:"stopReceiving",value:(w=e(function*(e){for(var t of(this.assertRecvDirection(),e)){y.debug('stopReceiving() [localId:%s]',t);var r=this._mapRecvLocalIdInfo.get(t)||{},n=r.mid,c=r.rtpParameters;this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:n,offerRtpParameters:c})}var s={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var o=yield this._pc.createAnswer();y.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',o),yield this._pc.setLocalDescription(o)}),function(e){return w.apply(this,arguments)})},{key:"pauseReceiving",value:(D=e(function*(e){}),function(e){return D.apply(this,arguments)})},{key:"resumeReceiving",value:(k=e(function*(e){}),function(e){return k.apply(this,arguments)})},{key:"getReceiverStats",value:(b=e(function*(e){this.assertRecvDirection();var t=(this._mapRecvLocalIdInfo.get(e)||{}).rtpReceiver;if(!t)throw new Error('associated RTCRtpReceiver not found');return t.getStats()}),function(e){return b.apply(this,arguments)})},{key:"receiveDataChannel",value:(R=e(function*(e){var t,r=e.sctpStreamParameters,n=e.label,c=e.protocol;this.assertRecvDirection();var s=r.streamId,o=r.ordered,p=r.maxPacketLifeTime,l={negotiated:!0,id:s,ordered:o,maxPacketLifeTime:p,maxRetransmitTime:p,maxRetransmits:r.maxRetransmits,protocol:c};y.debug('receiveDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(n,l);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});var f={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',f),yield this._pc.setRemoteDescription(f);var m=yield this._pc.createAnswer();if(!this._transportReady){var v=h.parse(m.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:v})}y.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',m),yield this._pc.setLocalDescription(m),this._hasDataChannelMediaSection=!0}return{dataChannel:u}}),function(e){return R.apply(this,arguments)})},{key:"setupTransport",value:(u=e(function*(e){var t=this,r=e.localDtlsRole,n=e.localSdpObject;n||(n=h.parse(this._pc.localDescription.sdp));var c=v.extractDtlsParameters({sdpObject:n});c.role=r,this._remoteSdp.updateDtlsRole('client'===r?'server':'client'),yield new Promise(function(e,r){t.safeEmit('@connect',{dtlsParameters:c},e,r)}),this._transportReady=!0}),function(e){return u.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new l}}}]);var u,R,b,k,D,w,P,I,C,L,T,O,x,j,M,E,B,A,K,N,q})(_r(d[13]).HandlerInterface);_e.Chrome67=R},642,[345,12,13,23,25,28,629,622,623,633,643,625,636,639]);
__d(function(g,r,_i3,a,m,e,d){"use strict";var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addLegacySimulcast=e.getRtpEncodings=void 0,e.getRtpEncodings=function(t){var i,n=t.offerMediaObject,u=t.track,c=new Set;for(var o of n.ssrcs||[]){if('msid'===o.attribute)if(o.value.split(' ')[1]===u.id){var f=o.id;c.add(f),i||(i=f)}}if(0===c.size)throw new Error(`a=ssrc line with msid information not found [track.id:${u.id}]`);var v=new Map;for(var l of n.ssrcGroups||[])if('FID'===l.semantics){var p=l.ssrcs.split(/\s+/),h=s(p,2),b=h[0],w=h[1];b=Number(b),w=Number(w),c.has(b)&&(c.delete(b),c.delete(w),v.set(b,w))}for(var $ of c)v.set($,null);var E=[];for(var G of v){var S=s(G,2),k=S[0],M=S[1],j={ssrc:k};M&&(j.rtx={ssrc:M}),E.push(j)}return E},e.addLegacySimulcast=function(s){var t,i,n,u=s.offerMediaObject,c=s.track,o=s.numStreams;if(o<=1)throw new TypeError('numStreams must be greater than 1');if(!(u.ssrcs||[]).find(function(s){return'msid'===s.attribute&&(s.value.split(' ')[1]===c.id&&(t=s.id,n=s.value.split(' ')[0],!0))}))throw new Error(`a=ssrc line with msid information not found [track.id:${c.id}]`);(u.ssrcGroups||[]).some(function(s){if('FID'!==s.semantics)return!1;var n=s.ssrcs.split(/\s+/);return Number(n[0])===t&&(i=Number(n[1]),!0)});var f=u.ssrcs.find(function(s){return'cname'===s.attribute&&s.id===t});if(!f)throw new Error(`a=ssrc line with cname information not found [track.id:${c.id}]`);for(var v=f.value,l=[],p=[],h=0;h<o;++h)l.push(t+h),i&&p.push(i+h);u.ssrcGroups=u.ssrcGroups||[],u.ssrcs=u.ssrcs||[],u.ssrcGroups.push({semantics:'SIM',ssrcs:l.join(' ')});for(var b=0;b<l.length;++b){var w=l[b];u.ssrcs.push({id:w,attribute:'cname',value:v}),u.ssrcs.push({id:w,attribute:'msid',value:`${n} ${c.id}`})}for(var $=0;$<p.length;++$){var E=l[$],G=p[$];u.ssrcs.push({id:G,attribute:'cname',value:v}),u.ssrcs.push({id:G,attribute:'msid',value:`${n} ${c.id}`}),u.ssrcGroups.push({semantics:'FID',ssrcs:`${E} ${G}`})}}},643,[38]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),c=r(d[3]),s=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,c){void 0===c&&(c=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,c,s)}:function(e,t,n,c){void 0===c&&(c=n),e[c]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Chrome55=void 0;var f=h(r(d[6])),m=h(r(d[7])),v=h(r(d[8])),y=h(r(d[9])),_=h(r(d[10])),S=new(r(d[11]).Logger)('Chrome55'),R={OS:1024,MIS:1024},b=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=s(o=u),(e=c(n,p()?Reflect.construct(o,l||[],s(n).constructor):o.apply(n,l)))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'Chrome55'}},{key:"close",value:function(){if(S.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(q=e(function*(){S.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'plan-b'});try{var t=yield e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}var n=f.parse(t.sdp);return y.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}),function(){return q.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(N=e(function*(){return S.debug('getNativeSctpCapabilities()'),{numStreams:R}}),function(){return N.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,c=e.iceParameters,s=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,m=e.extendedRtpCapabilities;S.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[12]).RemoteSdp)({iceParameters:c,iceCandidates:s,dtlsParameters:o,sctpParameters:p,planB:!0}),this._sendingRtpParametersByKind={audio:v.getSendingRtpParameters('audio',m),video:v.getSendingRtpParameters('video',m)},this._sendingRemoteRtpParametersByKind={audio:v.getSendingRemoteRtpParameters('audio',m),video:v.getSendingRemoteRtpParameters('video',m)},o.role&&'auto'!==o.role&&(this._forcedLocalDtlsRole='server'===o.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'plan-b'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(S.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(K=e(function*(e){S.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return K.apply(this,arguments)})},{key:"restartIce",value:(U=e(function*(e){if(S.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});S.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var c={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',c),yield this._pc.setRemoteDescription(c);var s=yield this._pc.createAnswer();S.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',s),yield this._pc.setLocalDescription(s)}}),function(e){return U.apply(this,arguments)})},{key:"getTransportStats",value:(A=e(function*(){return this._pc.getStats()}),function(){return A.apply(this,arguments)})},{key:"send",value:(B=e(function*(e){var t,n=e.track,c=e.encodings,s=e.codecOptions,o=e.codec;this.assertSendDirection(),S.debug('send() [kind:%s, track.id:%s]',n.kind,n.id),o&&S.warn('send() | codec selection is not available in %s handler',this.name),this._sendStream.addTrack(n),this._pc.addStream(this._sendStream);var p,l=yield this._pc.createOffer(),u=f.parse(l.sdp),h=m.clone(this._sendingRtpParametersByKind[n.kind],{});h.codecs=v.reduceCodecs(h.codecs);var R=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{});if(R.codecs=v.reduceCodecs(R.codecs),this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:u})),'video'===n.kind&&c&&c.length>1&&(S.debug('send() | enabling simulcast'),p=(u=f.parse(l.sdp)).media.find(function(e){return'video'===e.type}),_.addLegacySimulcast({offerMediaObject:p,track:n,numStreams:c.length}),l={type:'offer',sdp:f.write(u)}),S.debug('send() | calling pc.setLocalDescription() [offer:%o]',l),yield this._pc.setLocalDescription(l),p=(u=f.parse(this._pc.localDescription.sdp)).media.find(function(e){return e.type===n.kind}),h.rtcp.cname=y.getCname({offerMediaObject:p}),h.encodings=_.getRtpEncodings({offerMediaObject:p,track:n}),c)for(var b=0;b<h.encodings.length;++b)c[b]&&Object.assign(h.encodings[b],c[b]);if(h.encodings.length>1&&'video/vp8'===h.codecs[0].mimeType.toLowerCase())for(var D of h.encodings)D.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:h,answerRtpParameters:R,codecOptions:s});var k={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('send() | calling pc.setRemoteDescription() [answer:%o]',k),yield this._pc.setRemoteDescription(k);var w=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(w,n),{localId:w,rtpParameters:h}}),function(e){return B.apply(this,arguments)})},{key:"stopSending",value:(E=e(function*(e){this.assertSendDirection(),S.debug('stopSending() [localId:%s]',e);var t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error('track not found');this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);var n=yield this._pc.createOffer();S.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n);try{yield this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void S.warn('stopSending() | ignoring expected error due no sending tracks: %s',e.toString());throw e}if('stable'!==this._pc.signalingState){var c={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',c),yield this._pc.setRemoteDescription(c)}}),function(e){return E.apply(this,arguments)})},{key:"pauseSending",value:(M=e(function*(e){}),function(e){return M.apply(this,arguments)})},{key:"resumeSending",value:(j=e(function*(e){}),function(e){return j.apply(this,arguments)})},{key:"replaceTrack",value:(x=e(function*(e,t){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e,t){return x.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(T=e(function*(e,t){throw new(r(d[13]).UnsupportedError)(' not implemented')}),function(e,t){return T.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(O=e(function*(e,t){throw new(r(d[13]).UnsupportedError)('not supported')}),function(e,t){return O.apply(this,arguments)})},{key:"getSenderStats",value:(L=e(function*(e){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e){return L.apply(this,arguments)})},{key:"sendDataChannel",value:(C=e(function*(e){var t,n=e.ordered,c=e.maxPacketLifeTime,s=e.maxRetransmits,o=e.label,p=e.protocol;this.assertSendDirection();var l={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:c,maxRetransmitTime:c,maxRetransmits:s,protocol:p};S.debug('sendDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(o,l);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){var h=yield this._pc.createOffer(),m=f.parse(h.sdp),v=m.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:m})),S.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:v});var y={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',y),yield this._pc.setRemoteDescription(y),this._hasDataChannelMediaSection=!0}return{dataChannel:u,sctpStreamParameters:{streamId:l.id,ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits}}}),function(e){return C.apply(this,arguments)})},{key:"receive",value:(I=e(function*(e){var t,n=this;this.assertRecvDirection();var c=[];for(var s of e){var o=s.trackId,p=s.kind,l=s.rtpParameters,u=s.streamId;S.debug('receive() [trackId:%s, kind:%s]',o,p);var h=p;this._remoteSdp.receive({mid:h,kind:p,offerRtpParameters:l,streamId:u||l.rtcp.cname,trackId:o})}var m={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var v=yield this._pc.createAnswer(),_=f.parse(v.sdp),R=function*(){var e=b.kind,t=b.rtpParameters,n=e,c=_.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:c})};for(var b of e)yield*R();v={type:'answer',sdp:f.write(_)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:_})),S.debug('receive() | calling pc.setLocalDescription() [answer:%o]',v),yield this._pc.setLocalDescription(v);var D=function*(){var e=k.kind,t=k.trackId,s=k.rtpParameters,o=e,p=t,l=k.streamId||s.rtcp.cname,u=n._pc.getRemoteStreams().find(function(e){return e.id===l}).getTrackById(p);if(!u)throw new Error('remote track not found');n._mapRecvLocalIdInfo.set(p,{mid:o,rtpParameters:s}),c.push({localId:p,track:u})};for(var k of e)yield*D();return c}),function(e){return I.apply(this,arguments)})},{key:"stopReceiving",value:(P=e(function*(e){for(var t of(this.assertRecvDirection(),e)){S.debug('stopReceiving() [localId:%s]',t);var n=this._mapRecvLocalIdInfo.get(t)||{},c=n.mid,s=n.rtpParameters;this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:c,offerRtpParameters:s})}var o={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',o),yield this._pc.setRemoteDescription(o);var p=yield this._pc.createAnswer();S.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',p),yield this._pc.setLocalDescription(p)}),function(e){return P.apply(this,arguments)})},{key:"pauseReceiving",value:(w=e(function*(e){}),function(e){return w.apply(this,arguments)})},{key:"resumeReceiving",value:(k=e(function*(e){}),function(e){return k.apply(this,arguments)})},{key:"getReceiverStats",value:(D=e(function*(e){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e){return D.apply(this,arguments)})},{key:"receiveDataChannel",value:(b=e(function*(e){var t,n=e.sctpStreamParameters,c=e.label,s=e.protocol;this.assertRecvDirection();var o=n.streamId,p=n.ordered,l=n.maxPacketLifeTime,u={negotiated:!0,id:o,ordered:p,maxPacketLifeTime:l,maxRetransmitTime:l,maxRetransmits:n.maxRetransmits,protocol:s};S.debug('receiveDataChannel() [options:%o]',u);var h=this._pc.createDataChannel(c,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});var m={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var v=yield this._pc.createAnswer();if(!this._transportReady){var y=f.parse(v.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:y})}S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',v),yield this._pc.setLocalDescription(v),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}),function(e){return b.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,c=e.localSdpObject;c||(c=f.parse(this._pc.localDescription.sdp));var s=y.extractDtlsParameters({sdpObject:c});s.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:s},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,b,D,k,w,P,I,C,L,O,T,x,j,M,E,B,A,U,K,N,q})(r(d[14]).HandlerInterface);_e.Chrome55=b},644,[345,12,13,23,25,28,629,622,623,633,643,625,636,627,639]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(t,n);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,c)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Firefox60=void 0;var f=h(r(d[6])),m=h(r(d[7])),v=h(r(d[8])),y=h(r(d[9])),_=h(r(d[10])),S=new(r(d[11]).Logger)('Firefox60'),R={OS:16,MIS:2048},D=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=c(o=u),(e=s(n,p()?Reflect.construct(o,l||[],c(n).constructor):o.apply(n,l)))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'Firefox60'}},{key:"close",value:function(){if(S.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(q=e(function*(){S.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require'}),t=document.createElement('canvas');t.getContext('2d');var n=t.captureStream().getVideoTracks()[0];try{e.addTransceiver('audio',{direction:'sendrecv'});var s=e.addTransceiver(n,{direction:'sendrecv'}),c=s.sender.getParameters();c.encodings=[{rid:'r0',maxBitrate:1e5},{rid:'r1',maxBitrate:5e5}],yield s.sender.setParameters(c);var o=yield e.createOffer();try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}var p=f.parse(o.sdp);return y.extractRtpCapabilities({sdpObject:p})}catch(s){try{t.remove()}catch(e){}try{n.stop()}catch(e){}try{e.close()}catch(e){}throw s}}),function(){return q.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(N=e(function*(){return S.debug('getNativeSctpCapabilities()'),{numStreams:R}}),function(){return N.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,s=e.iceParameters,c=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,m=e.extendedRtpCapabilities;S.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[12]).RemoteSdp)({iceParameters:s,iceCandidates:c,dtlsParameters:o,sctpParameters:p}),this._sendingRtpParametersByKind={audio:v.getSendingRtpParameters('audio',m),video:v.getSendingRtpParameters('video',m)},this._sendingRemoteRtpParametersByKind={audio:v.getSendingRemoteRtpParameters('audio',m),video:v.getSendingRemoteRtpParameters('video',m)},this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(S.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(K=e(function*(e){throw new(r(d[13]).UnsupportedError)('not supported')}),function(e){return K.apply(this,arguments)})},{key:"restartIce",value:(F=e(function*(e){if(S.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});S.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var s={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();S.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return F.apply(this,arguments)})},{key:"getTransportStats",value:(B=e(function*(){return this._pc.getStats()}),function(){return B.apply(this,arguments)})},{key:"send",value:(A=e(function*(e){var t=e.track,n=e.encodings,s=e.codecOptions,c=e.codec;this.assertSendDirection(),S.debug('send() [kind:%s, track.id:%s]',t.kind,t.id),n&&(n=m.clone(n,[])).length>1&&(n.forEach(function(e,t){e.rid=`r${t}`}),n.reverse());var o=m.clone(this._sendingRtpParametersByKind[t.kind],{});o.codecs=v.reduceCodecs(o.codecs,c);var p=m.clone(this._sendingRemoteRtpParametersByKind[t.kind],{});p.codecs=v.reduceCodecs(p.codecs,c);var l=this._pc.addTransceiver(t,{direction:'sendonly',streams:[this._sendStream]});if(n){var u=l.sender.getParameters();u.encodings=n,yield l.sender.setParameters(u)}var h=yield this._pc.createOffer(),R=f.parse(h.sdp);this._transportReady||(yield this.setupTransport({localDtlsRole:'client',localSdpObject:R}));var D=(0,r(d[14]).parse)((n||[{}])[0].scalabilityMode);S.debug('send() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h);var b=l.mid;o.mid=b;var w=(R=f.parse(this._pc.localDescription.sdp)).media[R.media.length-1];if(o.rtcp.cname=y.getCname({offerMediaObject:w}),n)if(1===n.length){var T=_.getRtpEncodings({offerMediaObject:w});Object.assign(T[0],n[0]),o.encodings=T}else o.encodings=n.reverse();else o.encodings=_.getRtpEncodings({offerMediaObject:w});if(o.encodings.length>1&&('video/vp8'===o.codecs[0].mimeType.toLowerCase()||'video/h264'===o.codecs[0].mimeType.toLowerCase()))for(var k of o.encodings)k.scalabilityMode?k.scalabilityMode=`L1T${D.temporalLayers}`:k.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:w,offerRtpParameters:o,answerRtpParameters:p,codecOptions:s,extmapAllowMixed:!0});var P={type:'answer',sdp:this._remoteSdp.getSdp()};return S.debug('send() | calling pc.setRemoteDescription() [answer:%o]',P),yield this._pc.setRemoteDescription(P),this._mapMidTransceiver.set(b,l),{localId:b,rtpParameters:o,rtpSender:l.sender}}),function(e){return A.apply(this,arguments)})},{key:"stopSending",value:(j=e(function*(e){S.debug('stopSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated transceiver not found');t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.disableMediaSection(t.mid);var n=yield this._pc.createOffer();S.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(e)}),function(e){return j.apply(this,arguments)})},{key:"pauseSending",value:(E=e(function*(e){this.assertSendDirection(),S.debug('pauseSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='inactive',this._remoteSdp.pauseMediaSection(e);var n=yield this._pc.createOffer();S.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return E.apply(this,arguments)})},{key:"resumeSending",value:(I=e(function*(e){this.assertSendDirection(),S.debug('resumeSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='sendonly',this._remoteSdp.resumeSendingMediaSection(e);var n=yield this._pc.createOffer();S.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return I.apply(this,arguments)})},{key:"replaceTrack",value:(O=e(function*(e,t){this.assertSendDirection(),t?S.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):S.debug('replaceTrack() [localId:%s, no track]',e);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');yield n.sender.replaceTrack(t)}),function(e,t){return O.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(x=e(function*(e,t){this.assertSendDirection(),S.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated transceiver not found');var s=n.sender.getParameters();t=s.encodings.length-1-t,s.encodings.forEach(function(e,n){e.active=n>=t}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();S.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return x.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(L=e(function*(e,t){this.assertSendDirection(),S.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){s.encodings[n]=Object.assign({},e,t)}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();S.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return L.apply(this,arguments)})},{key:"getSenderStats",value:(C=e(function*(e){this.assertSendDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.sender.getStats()}),function(e){return C.apply(this,arguments)})},{key:"sendDataChannel",value:(M=e(function*(e){var t=e.ordered,n=e.maxPacketLifeTime,s=e.maxRetransmits,c=e.label,o=e.protocol;this.assertSendDirection();var p={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:s,protocol:o};S.debug('sendDataChannel() [options:%o]',p);var l=this._pc.createDataChannel(c,p);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){var u=yield this._pc.createOffer(),h=f.parse(u.sdp),m=h.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:'client',localSdpObject:h})),S.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',u),yield this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:m});var v={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',v),yield this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}return{dataChannel:l,sctpStreamParameters:{streamId:p.id,ordered:p.ordered,maxPacketLifeTime:p.maxPacketLifeTime,maxRetransmits:p.maxRetransmits}}}),function(e){return M.apply(this,arguments)})},{key:"receive",value:(P=e(function*(e){var t=this;this.assertRecvDirection();var n=[],s=new Map;for(var c of e){var o=c.trackId,p=c.kind,l=c.rtpParameters,u=c.streamId;S.debug('receive() [trackId:%s, kind:%s]',o,p);var h=l.mid||String(this._mapMidTransceiver.size);s.set(o,h),this._remoteSdp.receive({mid:h,kind:p,offerRtpParameters:l,streamId:u||l.rtcp.cname,trackId:o})}var m={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var v=yield this._pc.createAnswer(),_=f.parse(v.sdp),R=function*(){var e=D.trackId,t=D.rtpParameters,n=s.get(e),c=_.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:c}),v={type:'answer',sdp:f.write(_)}};for(var D of e)yield*R();this._transportReady||(yield this.setupTransport({localDtlsRole:'client',localSdpObject:_})),S.debug('receive() | calling pc.setLocalDescription() [answer:%o]',v),yield this._pc.setLocalDescription(v);var b=function*(){var e=w.trackId,c=s.get(e),o=t._pc.getTransceivers().find(function(e){return e.mid===c});if(!o)throw new Error('new RTCRtpTransceiver not found');t._mapMidTransceiver.set(c,o),n.push({localId:c,track:o.receiver.track,rtpReceiver:o.receiver})};for(var w of e)yield*b();return n}),function(e){return P.apply(this,arguments)})},{key:"stopReceiving",value:(k=e(function*(e){for(var t of(this.assertRecvDirection(),e)){S.debug('stopReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');this._remoteSdp.closeMediaSection(n.mid)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();for(var o of(S.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c),e))this._mapMidTransceiver.delete(o)}),function(e){return k.apply(this,arguments)})},{key:"pauseReceiving",value:(T=e(function*(e){for(var t of(this.assertRecvDirection(),e)){S.debug('pauseReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='inactive',this._remoteSdp.pauseMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();S.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return T.apply(this,arguments)})},{key:"resumeReceiving",value:(w=e(function*(e){for(var t of(this.assertRecvDirection(),e)){S.debug('resumeReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='recvonly',this._remoteSdp.resumeReceivingMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();S.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return w.apply(this,arguments)})},{key:"getReceiverStats",value:(b=e(function*(e){this.assertRecvDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.receiver.getStats()}),function(e){return b.apply(this,arguments)})},{key:"receiveDataChannel",value:(D=e(function*(e){var t=e.sctpStreamParameters,n=e.label,s=e.protocol;this.assertRecvDirection();var c={negotiated:!0,id:t.streamId,ordered:t.ordered,maxPacketLifeTime:t.maxPacketLifeTime,maxRetransmits:t.maxRetransmits,protocol:s};S.debug('receiveDataChannel() [options:%o]',c);var o=this._pc.createDataChannel(n,c);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();var p={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',p),yield this._pc.setRemoteDescription(p);var l=yield this._pc.createAnswer();if(!this._transportReady){var u=f.parse(l.sdp);yield this.setupTransport({localDtlsRole:'client',localSdpObject:u})}S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',l),yield this._pc.setLocalDescription(l),this._hasDataChannelMediaSection=!0}return{dataChannel:o}}),function(e){return D.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,s=e.localSdpObject;s||(s=f.parse(this._pc.localDescription.sdp));var c=y.extractDtlsParameters({sdpObject:s});c.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:c},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,D,b,w,T,k,P,M,C,L,x,O,I,E,j,A,B,F,K,N,q})(r(d[15]).HandlerInterface);_e.Firefox60=D},645,[345,12,13,23,25,28,629,622,623,633,634,625,636,627,638,639]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(t,n);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,c)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Safari12=void 0;var f=h(r(d[6])),v=h(r(d[7])),m=h(r(d[8])),y=h(r(d[9])),S=h(r(d[10])),_=h(r(d[11])),R=new(r(d[12]).Logger)('Safari12'),D={OS:1024,MIS:1024},b=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=c(o=u),(e=s(n,p()?Reflect.construct(o,l||[],c(n).constructor):o.apply(n,l)))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'Safari12'}},{key:"close",value:function(){if(R.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(z=e(function*(){R.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require'});try{e.addTransceiver('audio'),e.addTransceiver('video');var t=yield e.createOffer();try{e.close()}catch(e){}var n=f.parse(t.sdp),s=y.extractRtpCapabilities({sdpObject:n});return _.addNackSuppportForOpus(s),s}catch(t){try{e.close()}catch(e){}throw t}}),function(){return z.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(F=e(function*(){return R.debug('getNativeSctpCapabilities()'),{numStreams:D}}),function(){return F.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,s=e.iceParameters,c=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,v=e.extendedRtpCapabilities;R.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[13]).RemoteSdp)({iceParameters:s,iceCandidates:c,dtlsParameters:o,sctpParameters:p}),this._sendingRtpParametersByKind={audio:m.getSendingRtpParameters('audio',v),video:m.getSendingRtpParameters('video',v)},this._sendingRemoteRtpParametersByKind={audio:m.getSendingRemoteRtpParameters('audio',v),video:m.getSendingRemoteRtpParameters('video',v)},o.role&&'auto'!==o.role&&(this._forcedLocalDtlsRole='server'===o.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(R.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(q=e(function*(e){R.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return q.apply(this,arguments)})},{key:"restartIce",value:(K=e(function*(e){if(R.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});R.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return K.apply(this,arguments)})},{key:"getTransportStats",value:(N=e(function*(){return this._pc.getStats()}),function(){return N.apply(this,arguments)})},{key:"send",value:(B=e(function*(e){var t,n=e.track,s=e.encodings,c=e.codecOptions,o=e.codec;this.assertSendDirection(),R.debug('send() [kind:%s, track.id:%s]',n.kind,n.id);var p=v.clone(this._sendingRtpParametersByKind[n.kind],{});p.codecs=m.reduceCodecs(p.codecs,o);var l=v.clone(this._sendingRemoteRtpParametersByKind[n.kind],{});l.codecs=m.reduceCodecs(l.codecs,o);var u,h=this._remoteSdp.getNextMediaSectionIdx(),_=this._pc.addTransceiver(n,{direction:'sendonly',streams:[this._sendStream]}),D=yield this._pc.createOffer(),b=f.parse(D.sdp);this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:b}));var w=(0,r(d[14]).parse)((s||[{}])[0].scalabilityMode);s&&s.length>1&&(R.debug('send() | enabling legacy simulcast'),u=(b=f.parse(D.sdp)).media[h.idx],S.addLegacySimulcast({offerMediaObject:u,numStreams:s.length}),D={type:'offer',sdp:f.write(b)}),R.debug('send() | calling pc.setLocalDescription() [offer:%o]',D),yield this._pc.setLocalDescription(D);var T=_.mid;if(p.mid=T,u=(b=f.parse(this._pc.localDescription.sdp)).media[h.idx],p.rtcp.cname=y.getCname({offerMediaObject:u}),p.encodings=S.getRtpEncodings({offerMediaObject:u}),s)for(var k=0;k<p.encodings.length;++k)s[k]&&Object.assign(p.encodings[k],s[k]);if(p.encodings.length>1&&('video/vp8'===p.codecs[0].mimeType.toLowerCase()||'video/h264'===p.codecs[0].mimeType.toLowerCase()))for(var M of p.encodings)M.scalabilityMode?M.scalabilityMode=`L1T${w.temporalLayers}`:M.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:u,reuseMid:h.reuseMid,offerRtpParameters:p,answerRtpParameters:l,codecOptions:c});var P={type:'answer',sdp:this._remoteSdp.getSdp()};return R.debug('send() | calling pc.setRemoteDescription() [answer:%o]',P),yield this._pc.setRemoteDescription(P),this._mapMidTransceiver.set(T,_),{localId:T,rtpParameters:p,rtpSender:_.sender}}),function(e){return B.apply(this,arguments)})},{key:"stopSending",value:(A=e(function*(e){this.assertSendDirection(),R.debug('stopSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}var n=yield this._pc.createOffer();R.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(e)}),function(e){return A.apply(this,arguments)})},{key:"pauseSending",value:(E=e(function*(e){this.assertSendDirection(),R.debug('pauseSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='inactive',this._remoteSdp.pauseMediaSection(e);var n=yield this._pc.createOffer();R.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return E.apply(this,arguments)})},{key:"resumeSending",value:(j=e(function*(e){this.assertSendDirection(),R.debug('resumeSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='sendonly',this._remoteSdp.resumeSendingMediaSection(e);var n=yield this._pc.createOffer();R.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return j.apply(this,arguments)})},{key:"replaceTrack",value:(x=e(function*(e,t){this.assertSendDirection(),t?R.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):R.debug('replaceTrack() [localId:%s, no track]',e);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');yield n.sender.replaceTrack(t)}),function(e,t){return x.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(I=e(function*(e,t){this.assertSendDirection(),R.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){e.active=n<=t}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return I.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(O=e(function*(e,t){this.assertSendDirection(),R.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){s.encodings[n]=Object.assign({},e,t)}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return O.apply(this,arguments)})},{key:"getSenderStats",value:(L=e(function*(e){this.assertSendDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.sender.getStats()}),function(e){return L.apply(this,arguments)})},{key:"sendDataChannel",value:(C=e(function*(e){var t,n=e.ordered,s=e.maxPacketLifeTime,c=e.maxRetransmits,o=e.label,p=e.protocol;this.assertSendDirection();var l={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:s,maxRetransmits:c,protocol:p};R.debug('sendDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(o,l);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%D.MIS,!this._hasDataChannelMediaSection){var h=yield this._pc.createOffer(),v=f.parse(h.sdp),m=v.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:v})),R.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:m});var y={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',y),yield this._pc.setRemoteDescription(y),this._hasDataChannelMediaSection=!0}return{dataChannel:u,sctpStreamParameters:{streamId:l.id,ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits}}}),function(e){return C.apply(this,arguments)})},{key:"receive",value:(P=e(function*(e){var t,n=this;this.assertRecvDirection();var s=[],c=new Map;for(var o of e){var p=o.trackId,l=o.kind,u=o.rtpParameters,h=o.streamId;R.debug('receive() [trackId:%s, kind:%s]',p,l);var v=u.mid||String(this._mapMidTransceiver.size);c.set(p,v),this._remoteSdp.receive({mid:v,kind:l,offerRtpParameters:u,streamId:h||u.rtcp.cname,trackId:p})}var m={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var S=yield this._pc.createAnswer(),_=f.parse(S.sdp),D=function*(){var e=b.trackId,t=b.rtpParameters,n=c.get(e),s=_.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})};for(var b of e)yield*D();S={type:'answer',sdp:f.write(_)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:_})),R.debug('receive() | calling pc.setLocalDescription() [answer:%o]',S),yield this._pc.setLocalDescription(S);var w=function*(){var e=T.trackId,t=c.get(e),o=n._pc.getTransceivers().find(function(e){return e.mid===t});if(!o)throw new Error('new RTCRtpTransceiver not found');n._mapMidTransceiver.set(t,o),s.push({localId:t,track:o.receiver.track,rtpReceiver:o.receiver})};for(var T of e)yield*w();return s}),function(e){return P.apply(this,arguments)})},{key:"stopReceiving",value:(M=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('stopReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');this._remoteSdp.closeMediaSection(n.mid)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();for(var o of(R.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c),e))this._mapMidTransceiver.delete(o)}),function(e){return M.apply(this,arguments)})},{key:"pauseReceiving",value:(k=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('pauseReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='inactive',this._remoteSdp.pauseMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return k.apply(this,arguments)})},{key:"resumeReceiving",value:(T=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('resumeReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='recvonly',this._remoteSdp.resumeReceivingMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return T.apply(this,arguments)})},{key:"getReceiverStats",value:(w=e(function*(e){this.assertRecvDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.receiver.getStats()}),function(e){return w.apply(this,arguments)})},{key:"receiveDataChannel",value:(b=e(function*(e){var t,n=e.sctpStreamParameters,s=e.label,c=e.protocol;this.assertRecvDirection();var o={negotiated:!0,id:n.streamId,ordered:n.ordered,maxPacketLifeTime:n.maxPacketLifeTime,maxRetransmits:n.maxRetransmits,protocol:c};R.debug('receiveDataChannel() [options:%o]',o);var p=this._pc.createDataChannel(s,o);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();var l={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',l),yield this._pc.setRemoteDescription(l);var u=yield this._pc.createAnswer();if(!this._transportReady){var h=f.parse(u.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:h})}R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',u),yield this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}),function(e){return b.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,s=e.localSdpObject;s||(s=f.parse(this._pc.localDescription.sdp));var c=y.extractDtlsParameters({sdpObject:s});c.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:c},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,b,w,T,k,M,P,C,L,O,I,x,j,E,A,B,N,K,q,F,z})(r(d[15]).HandlerInterface);_e.Safari12=b},646,[345,12,13,23,25,28,629,622,623,633,634,635,625,636,638,639]);
__d(function(g,_r,i,a,_m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),c=_r(d[4]),s=_r(d[5]);function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}var p=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var c=Object.getOwnPropertyDescriptor(t,r);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,c)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&p(t,e,r);return l(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Safari11=void 0;var f=u(_r(d[6])),h=u(_r(d[7])),m=u(_r(d[8])),v=u(_r(d[9])),S=u(_r(d[10])),y=new(_r(d[11]).Logger)('Safari11'),_={OS:1024,MIS:1024},R=(function(p){function l(){var e,r,s,p;return t(this,l),r=this,s=c(s=l),(e=n(r,o()?Reflect.construct(s,p||[],c(r).constructor):s.apply(r,p)))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return s(l,p),r(l,[{key:"name",get:function(){return'Safari11'}},{key:"close",value:function(){if(y.debug('close()'),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(q=e(function*(){y.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'plan-b'});try{var t=yield e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}var r=f.parse(t.sdp);return v.extractRtpCapabilities({sdpObject:r})}catch(t){try{e.close()}catch(e){}throw t}}),function(){return q.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(N=e(function*(){return y.debug('getNativeSctpCapabilities()'),{numStreams:_}}),function(){return N.apply(this,arguments)})},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,c=e.iceCandidates,s=e.dtlsParameters,o=e.sctpParameters,p=e.iceServers,l=e.iceTransportPolicy,u=e.additionalSettings,f=e.proprietaryConstraints,h=e.extendedRtpCapabilities;y.debug('run()'),this._direction=r,this._remoteSdp=new(_r(d[12]).RemoteSdp)({iceParameters:n,iceCandidates:c,dtlsParameters:s,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:m.getSendingRtpParameters('audio',h),video:m.getSendingRtpParameters('video',h)},this._sendingRemoteRtpParametersByKind={audio:m.getSendingRemoteRtpParameters('audio',h),video:m.getSendingRemoteRtpParameters('video',h)},s.role&&'auto'!==s.role&&(this._forcedLocalDtlsRole='server'===s.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:p||[],iceTransportPolicy:l||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require'},u),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(y.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(K=e(function*(e){y.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return K.apply(this,arguments)})},{key:"restartIce",value:(A=e(function*(e){if(y.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});y.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var r={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',r),yield this._pc.setRemoteDescription(r)}else{var n={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',n),yield this._pc.setRemoteDescription(n);var c=yield this._pc.createAnswer();y.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return A.apply(this,arguments)})},{key:"getTransportStats",value:(B=e(function*(){return this._pc.getStats()}),function(){return B.apply(this,arguments)})},{key:"send",value:(E=e(function*(e){var t,r=e.track,n=e.encodings,c=e.codecOptions,s=e.codec;this.assertSendDirection(),y.debug('send() [kind:%s, track.id:%s]',r.kind,r.id),s&&y.warn('send() | codec selection is not available in %s handler',this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream);var o,p=yield this._pc.createOffer(),l=f.parse(p.sdp),u=h.clone(this._sendingRtpParametersByKind[r.kind],{});u.codecs=m.reduceCodecs(u.codecs);var _=h.clone(this._sendingRemoteRtpParametersByKind[r.kind],{});if(_.codecs=m.reduceCodecs(_.codecs),this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:l})),'video'===r.kind&&n&&n.length>1&&(y.debug('send() | enabling simulcast'),o=(l=f.parse(p.sdp)).media.find(function(e){return'video'===e.type}),S.addLegacySimulcast({offerMediaObject:o,track:r,numStreams:n.length}),p={type:'offer',sdp:f.write(l)}),y.debug('send() | calling pc.setLocalDescription() [offer:%o]',p),yield this._pc.setLocalDescription(p),o=(l=f.parse(this._pc.localDescription.sdp)).media.find(function(e){return e.type===r.kind}),u.rtcp.cname=v.getCname({offerMediaObject:o}),u.encodings=S.getRtpEncodings({offerMediaObject:o,track:r}),n)for(var R=0;R<u.encodings.length;++R)n[R]&&Object.assign(u.encodings[R],n[R]);if(u.encodings.length>1&&'video/vp8'===u.codecs[0].mimeType.toLowerCase())for(var b of u.encodings)b.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:o,offerRtpParameters:u,answerRtpParameters:_,codecOptions:c});var k={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('send() | calling pc.setRemoteDescription() [answer:%o]',k),yield this._pc.setRemoteDescription(k);var D=String(this._nextSendLocalId);this._nextSendLocalId++;var w=this._pc.getSenders().find(function(e){return e.track===r});return this._mapSendLocalIdRtpSender.set(D,w),{localId:D,rtpParameters:u,rtpSender:w}}),function(e){return E.apply(this,arguments)})},{key:"stopSending",value:(M=e(function*(e){this.assertSendDirection();var t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error('associated RTCRtpSender not found');t.track&&this._sendStream.removeTrack(t.track),this._mapSendLocalIdRtpSender.delete(e);var r=yield this._pc.createOffer();y.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',r);try{yield this._pc.setLocalDescription(r)}catch(e){if(0===this._sendStream.getTracks().length)return void y.warn('stopSending() | ignoring expected error due no sending tracks: %s',e.toString());throw e}if('stable'!==this._pc.signalingState){var n={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}}),function(e){return M.apply(this,arguments)})},{key:"pauseSending",value:(j=e(function*(e){}),function(e){return j.apply(this,arguments)})},{key:"resumeSending",value:(x=e(function*(e){}),function(e){return x.apply(this,arguments)})},{key:"replaceTrack",value:(O=e(function*(e,t){this.assertSendDirection(),t?y.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):y.debug('replaceTrack() [localId:%s, no track]',e);var r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error('associated RTCRtpSender not found');var n=r.track;yield r.replaceTrack(t),n&&this._sendStream.removeTrack(n),t&&this._sendStream.addTrack(t)}),function(e,t){return O.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(T=e(function*(e,t){this.assertSendDirection(),y.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error('associated RTCRtpSender not found');var n=r.getParameters();n.encodings.forEach(function(e,r){e.active=r<=t}),yield r.setParameters(n)}),function(e,t){return T.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(C=e(function*(e,t){this.assertSendDirection(),y.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var r=this._mapSendLocalIdRtpSender.get(e);if(!r)throw new Error('associated RTCRtpSender not found');var n=r.getParameters();n.encodings.forEach(function(e,r){n.encodings[r]=Object.assign({},e,t)}),yield r.setParameters(n)}),function(e,t){return C.apply(this,arguments)})},{key:"getSenderStats",value:(L=e(function*(e){this.assertSendDirection();var t=this._mapSendLocalIdRtpSender.get(e);if(!t)throw new Error('associated RTCRtpSender not found');return t.getStats()}),function(e){return L.apply(this,arguments)})},{key:"sendDataChannel",value:(I=e(function*(e){var t,r=e.ordered,n=e.maxPacketLifeTime,c=e.maxRetransmits,s=e.label,o=e.protocol;this.assertSendDirection();var p={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:n,maxRetransmits:c,protocol:o};y.debug('sendDataChannel() [options:%o]',p);var l=this._pc.createDataChannel(s,p);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,!this._hasDataChannelMediaSection){var u=yield this._pc.createOffer(),h=f.parse(u.sdp),m=h.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:h})),y.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',u),yield this._pc.setLocalDescription(u),this._remoteSdp.sendSctpAssociation({offerMediaObject:m});var v={type:'answer',sdp:this._remoteSdp.getSdp()};y.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',v),yield this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}return{dataChannel:l,sctpStreamParameters:{streamId:p.id,ordered:p.ordered,maxPacketLifeTime:p.maxPacketLifeTime,maxRetransmits:p.maxRetransmits}}}),function(e){return I.apply(this,arguments)})},{key:"receive",value:(P=e(function*(e){var t,r=this;this.assertRecvDirection();var n=[];for(var c of e){var s=c.trackId,o=c.kind,p=c.rtpParameters,l=c.streamId;y.debug('receive() [trackId:%s, kind:%s]',s,o);var u=o;this._remoteSdp.receive({mid:u,kind:o,offerRtpParameters:p,streamId:l||p.rtcp.cname,trackId:s})}var h={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',h),yield this._pc.setRemoteDescription(h);var m=yield this._pc.createAnswer(),S=f.parse(m.sdp),_=function*(){var e=R.kind,t=R.rtpParameters,r=e,n=S.media.find(function(e){return String(e.mid)===r});v.applyCodecParameters({offerRtpParameters:t,answerMediaObject:n})};for(var R of e)yield*_();m={type:'answer',sdp:f.write(S)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:S})),y.debug('receive() | calling pc.setLocalDescription() [answer:%o]',m),yield this._pc.setLocalDescription(m);var b=function*(){var e=k.kind,t=k.trackId,c=k.rtpParameters,s=e,o=t,p=r._pc.getReceivers().find(function(e){return e.track&&e.track.id===o});if(!p)throw new Error('new RTCRtpReceiver not');r._mapRecvLocalIdInfo.set(o,{mid:s,rtpParameters:c,rtpReceiver:p}),n.push({localId:o,track:p.track,rtpReceiver:p})};for(var k of e)yield*b();return n}),function(e){return P.apply(this,arguments)})},{key:"stopReceiving",value:(w=e(function*(e){for(var t of(this.assertRecvDirection(),e)){y.debug('stopReceiving() [localId:%s]',t);var r=this._mapRecvLocalIdInfo.get(t)||{},n=r.mid,c=r.rtpParameters;this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:n,offerRtpParameters:c})}var s={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var o=yield this._pc.createAnswer();y.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',o),yield this._pc.setLocalDescription(o)}),function(e){return w.apply(this,arguments)})},{key:"getReceiverStats",value:(D=e(function*(e){this.assertRecvDirection();var t=(this._mapRecvLocalIdInfo.get(e)||{}).rtpReceiver;if(!t)throw new Error('associated RTCRtpReceiver not found');return t.getStats()}),function(e){return D.apply(this,arguments)})},{key:"pauseReceiving",value:(k=e(function*(e){}),function(e){return k.apply(this,arguments)})},{key:"resumeReceiving",value:(b=e(function*(e){}),function(e){return b.apply(this,arguments)})},{key:"receiveDataChannel",value:(R=e(function*(e){var t,r=e.sctpStreamParameters,n=e.label,c=e.protocol;this.assertRecvDirection();var s={negotiated:!0,id:r.streamId,ordered:r.ordered,maxPacketLifeTime:r.maxPacketLifeTime,maxRetransmits:r.maxRetransmits,protocol:c};y.debug('receiveDataChannel() [options:%o]',s);var o=this._pc.createDataChannel(n,s);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});var p={type:'offer',sdp:this._remoteSdp.getSdp()};y.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',p),yield this._pc.setRemoteDescription(p);var l=yield this._pc.createAnswer();if(!this._transportReady){var u=f.parse(l.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:u})}y.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',l),yield this._pc.setLocalDescription(l),this._hasDataChannelMediaSection=!0}return{dataChannel:o}}),function(e){return R.apply(this,arguments)})},{key:"setupTransport",value:(u=e(function*(e){var t=this,r=e.localDtlsRole,n=e.localSdpObject;n||(n=f.parse(this._pc.localDescription.sdp));var c=v.extractDtlsParameters({sdpObject:n});c.role=r,this._remoteSdp.updateDtlsRole('client'===r?'server':'client'),yield new Promise(function(e,r){t.safeEmit('@connect',{dtlsParameters:c},e,r)}),this._transportReady=!0}),function(e){return u.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new l}}}]);var u,R,b,k,D,w,P,I,L,C,T,O,x,j,M,E,B,A,K,N,q})(_r(d[13]).HandlerInterface);_e.Safari11=R},647,[345,12,13,23,25,28,629,622,623,633,643,625,636,639]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}var p=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(t,n);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,c)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&p(t,e,n);return l(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Edge11=void 0;var v=h(r(d[6])),f=h(r(d[7])),y=h(r(d[8])),m=new(r(d[9]).Logger)('Edge11'),R=(function(p){function l(){var e,n,o,p;return t(this,l),n=this,o=c(o=l),(e=s(n,u()?Reflect.construct(o,p||[],c(n).constructor):o.apply(n,p)))._rtpSenders=new Map,e._rtpReceivers=new Map,e._nextSendLocalId=0,e._transportReady=!1,e}return o(l,p),n(l,[{key:"name",get:function(){return'Edge11'}},{key:"close",value:function(){m.debug('close()');try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}for(var e of this._rtpSenders.values())try{e.stop()}catch(e){}for(var t of this._rtpReceivers.values())try{t.stop()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(B=e(function*(){return m.debug('getNativeRtpCapabilities()'),y.getCapabilities()}),function(){return B.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(N=e(function*(){return m.debug('getNativeSctpCapabilities()'),{numStreams:{OS:0,MIS:0}}}),function(){return N.apply(this,arguments)})},{key:"run",value:function(e){e.direction;var t=e.iceParameters,n=e.iceCandidates,s=e.dtlsParameters,c=(e.sctpParameters,e.iceServers),o=e.iceTransportPolicy,u=(e.additionalSettings,e.proprietaryConstraints,e.extendedRtpCapabilities);m.debug('run()'),this._sendingRtpParametersByKind={audio:f.getSendingRtpParameters('audio',u),video:f.getSendingRtpParameters('video',u)},this._remoteIceParameters=t,this._remoteIceCandidates=n,this._remoteDtlsParameters=s,this._cname=`CNAME-${v.generateRandomNumber()}`,this.setIceGatherer({iceServers:c,iceTransportPolicy:o}),this.setIceTransport(),this.setDtlsTransport()}},{key:"updateIceServers",value:(j=e(function*(e){throw new(r(d[10]).UnsupportedError)('not supported')}),function(e){return j.apply(this,arguments)})},{key:"restartIce",value:(x=e(function*(e){if(m.debug('restartIce()'),this._remoteIceParameters=e,this._transportReady){for(var t of(m.debug('restartIce() | calling iceTransport.start()'),this._iceTransport.start(this._iceGatherer,e,'controlling'),this._remoteIceCandidates))this._iceTransport.addRemoteCandidate(t);this._iceTransport.addRemoteCandidate({})}}),function(e){return x.apply(this,arguments)})},{key:"getTransportStats",value:(M=e(function*(){return this._iceTransport.getStats()}),function(){return M.apply(this,arguments)})},{key:"send",value:(G=e(function*(e){var t=e.track,n=e.encodings,s=(e.codecOptions,e.codec);m.debug('send() [kind:%s, track.id:%s]',t.kind,t.id),this._transportReady||(yield this.setupTransport({localDtlsRole:'server'})),m.debug('send() | calling new RTCRtpSender()');var c=new RTCRtpSender(t,this._dtlsTransport),o=v.clone(this._sendingRtpParametersByKind[t.kind],{});o.codecs=f.reduceCodecs(o.codecs,s);var u=o.codecs.some(function(e){return/.+\/rtx$/i.test(e.mimeType)});for(var p of(n||(n=[{}]),n))p.ssrc=v.generateRandomNumber(),u&&(p.rtx={ssrc:v.generateRandomNumber()});o.encodings=n,o.rtcp={cname:this._cname,reducedSize:!0,mux:!0};var l=y.mangleRtpParameters(o);m.debug('send() | calling rtpSender.send() [params:%o]',l),yield c.send(l);var h=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(h,c),{localId:h,rtpParameters:o,rtpSender:c}}),function(e){return G.apply(this,arguments)})},{key:"stopSending",value:(O=e(function*(e){m.debug('stopSending() [localId:%s]',e);var t=this._rtpSenders.get(e);if(!t)throw new Error('RTCRtpSender not found');this._rtpSenders.delete(e);try{m.debug('stopSending() | calling rtpSender.stop()'),t.stop()}catch(e){throw m.warn('stopSending() | rtpSender.stop() failed:%o',e),e}}),function(e){return O.apply(this,arguments)})},{key:"pauseSending",value:(D=e(function*(e){}),function(e){return D.apply(this,arguments)})},{key:"resumeSending",value:(L=e(function*(e){}),function(e){return L.apply(this,arguments)})},{key:"replaceTrack",value:(E=e(function*(e,t){t?m.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):m.debug('replaceTrack() [localId:%s, no track]',e);var n=this._rtpSenders.get(e);if(!n)throw new Error('RTCRtpSender not found');n.setTrack(t)}),function(e,t){return E.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(I=e(function*(e,t){m.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var n=this._rtpSenders.get(e);if(!n)throw new Error('RTCRtpSender not found');var s=n.getParameters();s.encodings.forEach(function(e,n){e.active=n<=t}),yield n.setParameters(s)}),function(e,t){return I.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(C=e(function*(e,t){m.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var n=this._rtpSenders.get(e);if(!n)throw new Error('RTCRtpSender not found');var s=n.getParameters();s.encodings.forEach(function(e,n){s.encodings[n]=Object.assign({},e,t)}),yield n.setParameters(s)}),function(e,t){return C.apply(this,arguments)})},{key:"getSenderStats",value:(P=e(function*(e){var t=this._rtpSenders.get(e);if(!t)throw new Error('RTCRtpSender not found');return t.getStats()}),function(e){return P.apply(this,arguments)})},{key:"sendDataChannel",value:(w=e(function*(e){throw new(r(d[10]).UnsupportedError)('not implemented')}),function(e){return w.apply(this,arguments)})},{key:"receive",value:(T=e(function*(e){var t=[];for(var n of e){var s=n.trackId,c=n.kind;m.debug('receive() [trackId:%s, kind:%s]',s,c)}for(var o of(this._transportReady||(yield this.setupTransport({localDtlsRole:'server'})),e)){var u=o.trackId,p=o.kind,l=o.rtpParameters;m.debug('receive() | calling new RTCRtpReceiver()');var h=new RTCRtpReceiver(this._dtlsTransport,p);h.addEventListener('error',function(e){m.error('rtpReceiver "error" event [event:%o]',e)});var v=y.mangleRtpParameters(l);m.debug('receive() | calling rtpReceiver.receive() [params:%o]',v),yield h.receive(v);var f=u;this._rtpReceivers.set(f,h),t.push({localId:f,track:h.track,rtpReceiver:h})}return t}),function(e){return T.apply(this,arguments)})},{key:"stopReceiving",value:(b=e(function*(e){for(var t of e){m.debug('stopReceiving() [localId:%s]',t);var n=this._rtpReceivers.get(t);if(!n)throw new Error('RTCRtpReceiver not found');this._rtpReceivers.delete(t);try{m.debug('stopReceiving() | calling rtpReceiver.stop()'),n.stop()}catch(e){m.warn('stopReceiving() | rtpReceiver.stop() failed:%o',e)}}}),function(e){return b.apply(this,arguments)})},{key:"pauseReceiving",value:(S=e(function*(e){}),function(e){return S.apply(this,arguments)})},{key:"resumeReceiving",value:(k=e(function*(e){}),function(e){return k.apply(this,arguments)})},{key:"getReceiverStats",value:(_=e(function*(e){var t=this._rtpReceivers.get(e);if(!t)throw new Error('RTCRtpReceiver not found');return t.getStats()}),function(e){return _.apply(this,arguments)})},{key:"receiveDataChannel",value:(R=e(function*(e){throw new(r(d[10]).UnsupportedError)('not implemented')}),function(e){return R.apply(this,arguments)})},{key:"setIceGatherer",value:function(e){var t=e.iceServers,n=e.iceTransportPolicy,s=new RTCIceGatherer({iceServers:t||[],gatherPolicy:n||'all'});s.addEventListener('error',function(e){m.error('iceGatherer "error" event [event:%o]',e)});try{s.gather()}catch(e){m.debug('setIceGatherer() | iceGatherer.gather() failed: %s',e.toString())}this._iceGatherer=s}},{key:"setIceTransport",value:function(){var e=this,t=new RTCIceTransport(this._iceGatherer);t.addEventListener('statechange',function(){switch(t.state){case'checking':e.emit('@connectionstatechange','connecting');break;case'connected':case'completed':e.emit('@connectionstatechange','connected');break;case'failed':e.emit('@connectionstatechange','failed');break;case'disconnected':e.emit('@connectionstatechange','disconnected');break;case'closed':e.emit('@connectionstatechange','closed')}}),t.addEventListener('icestatechange',function(){switch(t.state){case'checking':e.emit('@connectionstatechange','connecting');break;case'connected':case'completed':e.emit('@connectionstatechange','connected');break;case'failed':e.emit('@connectionstatechange','failed');break;case'disconnected':e.emit('@connectionstatechange','disconnected');break;case'closed':e.emit('@connectionstatechange','closed')}}),t.addEventListener('candidatepairchange',function(e){m.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)}),this._iceTransport=t}},{key:"setDtlsTransport",value:function(){var e=this,t=new RTCDtlsTransport(this._iceTransport);t.addEventListener('statechange',function(){m.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener('dtlsstatechange',function(){m.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),'closed'===t.state&&e.emit('@connectionstatechange','closed')}),t.addEventListener('error',function(e){m.error('dtlsTransport "error" event [event:%o]',e)}),this._dtlsTransport=t}},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole;m.debug('setupTransport()');var s=this._dtlsTransport.getLocalParameters();for(var c of(s.role=n,yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:s},e,n)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,'controlling'),this._remoteIceCandidates))this._iceTransport.addRemoteCandidate(c);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(function(e){return'sha-256'===e.algorithm||'sha-384'===e.algorithm||'sha-512'===e.algorithm}),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}),function(e){return h.apply(this,arguments)})}],[{key:"createFactory",value:function(){return function(){return new l}}}]);var h,R,_,k,S,b,T,w,P,C,I,E,L,D,O,G,M,x,j,N,B})(r(d[11]).HandlerInterface);_e.Edge11=R},648,[345,12,13,23,25,28,622,623,649,625,627,639]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=this&&this.__createBinding||(Object.create?function(t,n,o,c){void 0===c&&(c=o);var l=Object.getOwnPropertyDescriptor(n,o);l&&!("get"in l?!n.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return n[o]}}),Object.defineProperty(t,c,l)}:function(t,n,o,c){void 0===c&&(c=o),t[c]=n[o]}),n=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),o=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(null!=o)for(var l in o)"default"!==l&&Object.prototype.hasOwnProperty.call(o,l)&&t(c,o,l);return n(c,o),c};Object.defineProperty(e,"__esModule",{value:!0}),e.mangleRtpParameters=e.getCapabilities=void 0;var c=o(r(d[0]));e.getCapabilities=function(){var t=RTCRtpReceiver.getCapabilities(),n=c.clone(t,{});for(var o of n.codecs){if(o.channels=o.numChannels,delete o.numChannels,o.mimeType=o.mimeType||`${o.kind}/${o.name}`,o.parameters){var l=o.parameters;l.apt&&(l.apt=Number(l.apt)),l['packetization-mode']&&(l['packetization-mode']=Number(l['packetization-mode']))}for(var m of o.rtcpFeedback||[])m.parameter||(m.parameter='')}return n},e.mangleRtpParameters=function(t){var n=c.clone(t,{});for(var o of(n.mid&&(n.muxId=n.mid,delete n.mid),n.codecs))o.channels&&(o.numChannels=o.channels,delete o.channels),o.mimeType&&!o.name&&(o.name=o.mimeType.split('/')[1]),delete o.mimeType;return n}},649,[622]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),c=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var c=Object.getOwnPropertyDescriptor(t,n);c&&!("get"in c?!t.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,c)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.ReactNativeUnifiedPlan=void 0;var f=h(r(d[6])),v=h(r(d[7])),m=h(r(d[8])),y=h(r(d[9])),_=h(r(d[10])),S=h(r(d[11])),R=new(r(d[12]).Logger)('ReactNativeUnifiedPlan'),D={OS:1024,MIS:1024},b=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=c(o=u),(e=s(n,p()?Reflect.construct(o,l||[],c(n).constructor):o.apply(n,l)))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'ReactNativeUnifiedPlan'}},{key:"close",value:function(){if(R.debug('close()'),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(F=e(function*(){R.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'});try{e.addTransceiver('audio'),e.addTransceiver('video');var t=yield e.createOffer();try{e.close()}catch(e){}var n=f.parse(t.sdp),s=y.extractRtpCapabilities({sdpObject:n});return S.addNackSuppportForOpus(s),s}catch(t){try{e.close()}catch(e){}throw t}}),function(){return F.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(q=e(function*(){return R.debug('getNativeSctpCapabilities()'),{numStreams:D}}),function(){return q.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,s=e.iceParameters,c=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,v=e.extendedRtpCapabilities;R.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[13]).RemoteSdp)({iceParameters:s,iceCandidates:c,dtlsParameters:o,sctpParameters:p}),this._sendingRtpParametersByKind={audio:m.getSendingRtpParameters('audio',v),video:m.getSendingRtpParameters('video',v)},this._sendingRemoteRtpParametersByKind={audio:m.getSendingRemoteRtpParameters('audio',v),video:m.getSendingRemoteRtpParameters('video',v)},o.role&&'auto'!==o.role&&(this._forcedLocalDtlsRole='server'===o.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'unified-plan'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(R.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(U=e(function*(e){R.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return U.apply(this,arguments)})},{key:"restartIce",value:(K=e(function*(e){if(R.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});R.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}}),function(e){return K.apply(this,arguments)})},{key:"getTransportStats",value:(B=e(function*(){return this._pc.getStats()}),function(){return B.apply(this,arguments)})},{key:"send",value:(A=e(function*(e){var t,n=e.track,s=e.encodings,c=e.codecOptions,o=e.codec;this.assertSendDirection(),R.debug('send() [kind:%s, track.id:%s]',n.kind,n.id),s&&s.length>1&&s.forEach(function(e,t){e.rid=`r${t}`});var p=v.clone(this._sendingRtpParametersByKind[n.kind],{});p.codecs=m.reduceCodecs(p.codecs,o);var l=v.clone(this._sendingRemoteRtpParametersByKind[n.kind],{});l.codecs=m.reduceCodecs(l.codecs,o);var u,h=this._remoteSdp.getNextMediaSectionIdx(),S=this._pc.addTransceiver(n,{direction:'sendonly',streams:[this._sendStream],sendEncodings:s}),D=yield this._pc.createOffer(),b=f.parse(D.sdp);this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:b}));var w=!1,T=(0,r(d[14]).parse)((s||[{}])[0].scalabilityMode);s&&1===s.length&&T.spatialLayers>1&&'video/vp9'===p.codecs[0].mimeType.toLowerCase()&&(R.debug('send() | enabling legacy simulcast for VP9 SVC'),w=!0,u=(b=f.parse(D.sdp)).media[h.idx],_.addLegacySimulcast({offerMediaObject:u,numStreams:T.spatialLayers}),D={type:'offer',sdp:f.write(b)}),R.debug('send() | calling pc.setLocalDescription() [offer:%o]',D),yield this._pc.setLocalDescription(D);var k=S.mid;if(p.mid=k,u=(b=f.parse(this._pc.localDescription.sdp)).media[h.idx],p.rtcp.cname=y.getCname({offerMediaObject:u}),s)if(1===s.length){var P=_.getRtpEncodings({offerMediaObject:u});Object.assign(P[0],s[0]),w&&(P=[P[0]]),p.encodings=P}else p.encodings=s;else p.encodings=_.getRtpEncodings({offerMediaObject:u});if(p.encodings.length>1&&('video/vp8'===p.codecs[0].mimeType.toLowerCase()||'video/h264'===p.codecs[0].mimeType.toLowerCase()))for(var M of p.encodings)M.scalabilityMode?M.scalabilityMode=`L1T${T.temporalLayers}`:M.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:u,reuseMid:h.reuseMid,offerRtpParameters:p,answerRtpParameters:l,codecOptions:c,extmapAllowMixed:!0});var L={type:'answer',sdp:this._remoteSdp.getSdp()};return R.debug('send() | calling pc.setRemoteDescription() [answer:%o]',L),yield this._pc.setRemoteDescription(L),this._mapMidTransceiver.set(k,S),{localId:k,rtpParameters:p,rtpSender:S.sender}}),function(e){return A.apply(this,arguments)})},{key:"stopSending",value:(N=e(function*(e){this.assertSendDirection(),R.debug('stopSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');if(t.sender.replaceTrack(null),this._pc.removeTrack(t.sender),this._remoteSdp.closeMediaSection(t.mid))try{t.stop()}catch(e){}var n=yield this._pc.createOffer();R.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s),this._mapMidTransceiver.delete(e)}),function(e){return N.apply(this,arguments)})},{key:"pauseSending",value:(j=e(function*(e){this.assertSendDirection(),R.debug('pauseSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='inactive',this._remoteSdp.pauseMediaSection(e);var n=yield this._pc.createOffer();R.debug('pauseSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('pauseSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return j.apply(this,arguments)})},{key:"resumeSending",value:(E=e(function*(e){this.assertSendDirection(),R.debug('resumeSending() [localId:%s]',e);var t=this._mapMidTransceiver.get(e);if(this._remoteSdp.resumeSendingMediaSection(e),!t)throw new Error('associated RTCRtpTransceiver not found');t.direction='sendonly';var n=yield this._pc.createOffer();R.debug('resumeSending() | calling pc.setLocalDescription() [offer:%o]',n),yield this._pc.setLocalDescription(n);var s={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('resumeSending() | calling pc.setRemoteDescription() [answer:%o]',s),yield this._pc.setRemoteDescription(s)}),function(e){return E.apply(this,arguments)})},{key:"replaceTrack",value:(x=e(function*(e,t){this.assertSendDirection(),t?R.debug('replaceTrack() [localId:%s, track.id:%s]',e,t.id):R.debug('replaceTrack() [localId:%s, no track]',e);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');yield n.sender.replaceTrack(t)}),function(e,t){return x.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(I=e(function*(e,t){this.assertSendDirection(),R.debug('setMaxSpatialLayer() [localId:%s, spatialLayer:%s]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){e.active=n<=t}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return I.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(O=e(function*(e,t){this.assertSendDirection(),R.debug('setRtpEncodingParameters() [localId:%s, params:%o]',e,t);var n=this._mapMidTransceiver.get(e);if(!n)throw new Error('associated RTCRtpTransceiver not found');var s=n.sender.getParameters();s.encodings.forEach(function(e,n){s.encodings[n]=Object.assign({},e,t)}),yield n.sender.setParameters(s),this._remoteSdp.muxMediaSectionSimulcast(e,s.encodings);var c=yield this._pc.createOffer();R.debug('setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]',c),yield this._pc.setLocalDescription(c);var o={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]',o),yield this._pc.setRemoteDescription(o)}),function(e,t){return O.apply(this,arguments)})},{key:"getSenderStats",value:(C=e(function*(e){this.assertSendDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.sender.getStats()}),function(e){return C.apply(this,arguments)})},{key:"sendDataChannel",value:(L=e(function*(e){var t,n=e.ordered,s=e.maxPacketLifeTime,c=e.maxRetransmits,o=e.label,p=e.protocol;this.assertSendDirection();var l={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:s,maxRetransmits:c,protocol:p};R.debug('sendDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(o,l);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%D.MIS,!this._hasDataChannelMediaSection){var h=yield this._pc.createOffer(),v=f.parse(h.sdp),m=v.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:v})),R.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:m});var y={type:'answer',sdp:this._remoteSdp.getSdp()};R.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',y),yield this._pc.setRemoteDescription(y),this._hasDataChannelMediaSection=!0}return{dataChannel:u,sctpStreamParameters:{streamId:l.id,ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits}}}),function(e){return L.apply(this,arguments)})},{key:"receive",value:(M=e(function*(e){var t,n=this;this.assertRecvDirection();var s=[],c=new Map;for(var o of e){var p=o.trackId,l=o.kind,u=o.rtpParameters,h=o.streamId;R.debug('receive() [trackId:%s, kind:%s]',p,l);var v=u.mid||String(this._mapMidTransceiver.size);c.set(p,v),this._remoteSdp.receive({mid:v,kind:l,offerRtpParameters:u,streamId:h||u.rtcp.cname,trackId:p})}var m={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var _=yield this._pc.createAnswer(),S=f.parse(_.sdp),D=function*(){var e=b.trackId,t=b.rtpParameters,n=c.get(e),s=S.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:s})};for(var b of e)yield*D();_={type:'answer',sdp:f.write(S)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:S})),R.debug('receive() | calling pc.setLocalDescription() [answer:%o]',_),yield this._pc.setLocalDescription(_);var w=function*(){var e=T.trackId,t=c.get(e),o=n._pc.getTransceivers().find(function(e){return e.mid===t});if(!o)throw new Error('new RTCRtpTransceiver not found');n._mapMidTransceiver.set(t,o),s.push({localId:t,track:o.receiver.track,rtpReceiver:o.receiver})};for(var T of e)yield*w();return s}),function(e){return M.apply(this,arguments)})},{key:"stopReceiving",value:(P=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('stopReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');this._remoteSdp.closeMediaSection(n.mid)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();for(var o of(R.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c),e))this._mapMidTransceiver.delete(o)}),function(e){return P.apply(this,arguments)})},{key:"pauseReceiving",value:(k=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('pauseReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='inactive',this._remoteSdp.pauseMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('pauseReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return k.apply(this,arguments)})},{key:"resumeReceiving",value:(T=e(function*(e){for(var t of(this.assertRecvDirection(),e)){R.debug('resumeReceiving() [localId:%s]',t);var n=this._mapMidTransceiver.get(t);if(!n)throw new Error('associated RTCRtpTransceiver not found');n.direction='recvonly',this._remoteSdp.resumeReceivingMediaSection(t)}var s={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]',s),yield this._pc.setRemoteDescription(s);var c=yield this._pc.createAnswer();R.debug('resumeReceiving() | calling pc.setLocalDescription() [answer:%o]',c),yield this._pc.setLocalDescription(c)}),function(e){return T.apply(this,arguments)})},{key:"getReceiverStats",value:(w=e(function*(e){this.assertRecvDirection();var t=this._mapMidTransceiver.get(e);if(!t)throw new Error('associated RTCRtpTransceiver not found');return t.receiver.getStats()}),function(e){return w.apply(this,arguments)})},{key:"receiveDataChannel",value:(b=e(function*(e){var t,n=e.sctpStreamParameters,s=e.label,c=e.protocol;this.assertRecvDirection();var o={negotiated:!0,id:n.streamId,ordered:n.ordered,maxPacketLifeTime:n.maxPacketLifeTime,maxRetransmits:n.maxRetransmits,protocol:c};R.debug('receiveDataChannel() [options:%o]',o);var p=this._pc.createDataChannel(s,o);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();var l={type:'offer',sdp:this._remoteSdp.getSdp()};R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',l),yield this._pc.setRemoteDescription(l);var u=yield this._pc.createAnswer();if(!this._transportReady){var h=f.parse(u.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:h})}R.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',u),yield this._pc.setLocalDescription(u),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}),function(e){return b.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,s=e.localSdpObject;s||(s=f.parse(this._pc.localDescription.sdp));var c=y.extractDtlsParameters({sdpObject:s});c.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:c},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,b,w,T,k,P,M,L,C,O,I,x,E,j,N,A,B,K,U,q,F})(r(d[15]).HandlerInterface);_e.ReactNativeUnifiedPlan=b},650,[345,12,13,23,25,28,629,622,623,633,634,635,625,636,638,639]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),c=r(d[3]),s=r(d[4]),o=r(d[5]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,c){void 0===c&&(c=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,c,s)}:function(e,t,n,c){void 0===c&&(c=n),e[c]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return u(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0}),_e.ReactNative=void 0;var f=h(r(d[6])),m=h(r(d[7])),v=h(r(d[8])),y=h(r(d[9])),_=h(r(d[10])),S=new(r(d[11]).Logger)('ReactNative'),R={OS:1024,MIS:1024},b=(function(l){function u(){var e,n,o,l;return t(this,u),n=this,o=s(o=u),(e=c(n,p()?Reflect.construct(o,l||[],s(n).constructor):o.apply(n,l)))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return o(u,l),n(u,[{key:"name",get:function(){return'ReactNative'}},{key:"close",value:function(){if(S.debug('close()'),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}this.emit('@close')}},{key:"getNativeRtpCapabilities",value:(q=e(function*(){S.debug('getNativeRtpCapabilities()');var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'plan-b'});try{var t=yield e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{e.close()}catch(e){}var n=f.parse(t.sdp);return y.extractRtpCapabilities({sdpObject:n})}catch(t){try{e.close()}catch(e){}throw t}}),function(){return q.apply(this,arguments)})},{key:"getNativeSctpCapabilities",value:(K=e(function*(){return S.debug('getNativeSctpCapabilities()'),{numStreams:R}}),function(){return K.apply(this,arguments)})},{key:"run",value:function(e){var t=this,n=e.direction,c=e.iceParameters,s=e.iceCandidates,o=e.dtlsParameters,p=e.sctpParameters,l=e.iceServers,u=e.iceTransportPolicy,h=e.additionalSettings,f=e.proprietaryConstraints,m=e.extendedRtpCapabilities;S.debug('run()'),this._direction=n,this._remoteSdp=new(r(d[12]).RemoteSdp)({iceParameters:c,iceCandidates:s,dtlsParameters:o,sctpParameters:p,planB:!0}),this._sendingRtpParametersByKind={audio:v.getSendingRtpParameters('audio',m),video:v.getSendingRtpParameters('video',m)},this._sendingRemoteRtpParametersByKind={audio:v.getSendingRemoteRtpParameters('audio',m),video:v.getSendingRemoteRtpParameters('video',m)},o.role&&'auto'!==o.role&&(this._forcedLocalDtlsRole='server'===o.role?'client':'server'),this._pc=new RTCPeerConnection(Object.assign({iceServers:l||[],iceTransportPolicy:u||'all',bundlePolicy:'max-bundle',rtcpMuxPolicy:'require',sdpSemantics:'plan-b'},h),f),this._pc.connectionState?this._pc.addEventListener('connectionstatechange',function(){t.emit('@connectionstatechange',t._pc.connectionState)}):this._pc.addEventListener('iceconnectionstatechange',function(){switch(S.warn('run() | pc.connectionState not supported, using pc.iceConnectionState'),t._pc.iceConnectionState){case'checking':t.emit('@connectionstatechange','connecting');break;case'connected':case'completed':t.emit('@connectionstatechange','connected');break;case'failed':t.emit('@connectionstatechange','failed');break;case'disconnected':t.emit('@connectionstatechange','disconnected');break;case'closed':t.emit('@connectionstatechange','closed')}})}},{key:"updateIceServers",value:(U=e(function*(e){S.debug('updateIceServers()');var t=this._pc.getConfiguration();t.iceServers=e,this._pc.setConfiguration(t)}),function(e){return U.apply(this,arguments)})},{key:"restartIce",value:(A=e(function*(e){if(S.debug('restartIce()'),this._remoteSdp.updateIceParameters(e),this._transportReady)if('send'===this._direction){var t=yield this._pc.createOffer({iceRestart:!0});S.debug('restartIce() | calling pc.setLocalDescription() [offer:%o]',t),yield this._pc.setLocalDescription(t);var n={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [answer:%o]',n),yield this._pc.setRemoteDescription(n)}else{var c={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('restartIce() | calling pc.setRemoteDescription() [offer:%o]',c),yield this._pc.setRemoteDescription(c);var s=yield this._pc.createAnswer();S.debug('restartIce() | calling pc.setLocalDescription() [answer:%o]',s),yield this._pc.setLocalDescription(s)}}),function(e){return A.apply(this,arguments)})},{key:"getTransportStats",value:(N=e(function*(){return this._pc.getStats()}),function(){return N.apply(this,arguments)})},{key:"send",value:(B=e(function*(e){var t,n=e.track,c=e.encodings,s=e.codecOptions,o=e.codec;this.assertSendDirection(),S.debug('send() [kind:%s, track.id:%s]',n.kind,n.id),o&&S.warn('send() | codec selection is not available in %s handler',this.name),this._sendStream.addTrack(n),this._pc.addStream(this._sendStream);var p,l=yield this._pc.createOffer(),u=f.parse(l.sdp),h=m.clone(this._sendingRtpParametersByKind[n.kind],{});h.codecs=v.reduceCodecs(h.codecs);var R=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{});if(R.codecs=v.reduceCodecs(R.codecs),this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:u})),'video'===n.kind&&c&&c.length>1&&(S.debug('send() | enabling simulcast'),p=(u=f.parse(l.sdp)).media.find(function(e){return'video'===e.type}),_.addLegacySimulcast({offerMediaObject:p,track:n,numStreams:c.length}),l={type:'offer',sdp:f.write(u)}),S.debug('send() | calling pc.setLocalDescription() [offer:%o]',l),yield this._pc.setLocalDescription(l),p=(u=f.parse(this._pc.localDescription.sdp)).media.find(function(e){return e.type===n.kind}),h.rtcp.cname=y.getCname({offerMediaObject:p}),h.encodings=_.getRtpEncodings({offerMediaObject:p,track:n}),c)for(var b=0;b<h.encodings.length;++b)c[b]&&Object.assign(h.encodings[b],c[b]);if(h.encodings.length>1&&('video/vp8'===h.codecs[0].mimeType.toLowerCase()||'video/h264'===h.codecs[0].mimeType.toLowerCase()))for(var k of h.encodings)k.scalabilityMode='L1T3';this._remoteSdp.send({offerMediaObject:p,offerRtpParameters:h,answerRtpParameters:R,codecOptions:s});var D={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('send() | calling pc.setRemoteDescription() [answer:%o]',D),yield this._pc.setRemoteDescription(D);var w=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(w,n),{localId:w,rtpParameters:h}}),function(e){return B.apply(this,arguments)})},{key:"stopSending",value:(E=e(function*(e){this.assertSendDirection(),S.debug('stopSending() [localId:%s]',e);var t=this._mapSendLocalIdTrack.get(e);if(!t)throw new Error('track not found');this._mapSendLocalIdTrack.delete(e),this._sendStream.removeTrack(t),this._pc.addStream(this._sendStream);var n=yield this._pc.createOffer();S.debug('stopSending() | calling pc.setLocalDescription() [offer:%o]',n);try{yield this._pc.setLocalDescription(n)}catch(e){if(0===this._sendStream.getTracks().length)return void S.warn('stopSending() | ignoring expected error due no sending tracks: %s',e.toString());throw e}if('stable'!==this._pc.signalingState){var c={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('stopSending() | calling pc.setRemoteDescription() [answer:%o]',c),yield this._pc.setRemoteDescription(c)}}),function(e){return E.apply(this,arguments)})},{key:"pauseSending",value:(j=e(function*(e){}),function(e){return j.apply(this,arguments)})},{key:"resumeSending",value:(M=e(function*(e){}),function(e){return M.apply(this,arguments)})},{key:"replaceTrack",value:(x=e(function*(e,t){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e,t){return x.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(T=e(function*(e,t){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e,t){return T.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(O=e(function*(e,t){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e,t){return O.apply(this,arguments)})},{key:"getSenderStats",value:(C=e(function*(e){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e){return C.apply(this,arguments)})},{key:"sendDataChannel",value:(L=e(function*(e){var t,n=e.ordered,c=e.maxPacketLifeTime,s=e.maxRetransmits,o=e.label,p=e.protocol;this.assertSendDirection();var l={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:c,maxRetransmitTime:c,maxRetransmits:s,protocol:p};S.debug('sendDataChannel() [options:%o]',l);var u=this._pc.createDataChannel(o,l);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){var h=yield this._pc.createOffer(),m=f.parse(h.sdp),v=m.media.find(function(e){return'application'===e.type});this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:m})),S.debug('sendDataChannel() | calling pc.setLocalDescription() [offer:%o]',h),yield this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:v});var y={type:'answer',sdp:this._remoteSdp.getSdp()};S.debug('sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]',y),yield this._pc.setRemoteDescription(y),this._hasDataChannelMediaSection=!0}return{dataChannel:u,sctpStreamParameters:{streamId:l.id,ordered:l.ordered,maxPacketLifeTime:l.maxPacketLifeTime,maxRetransmits:l.maxRetransmits}}}),function(e){return L.apply(this,arguments)})},{key:"receive",value:(I=e(function*(e){var t,n=this;this.assertRecvDirection();var c=[],s=new Map;for(var o of e){var p=o.trackId,l=o.kind,u=o.rtpParameters;S.debug('receive() [trackId:%s, kind:%s]',p,l);var h=l,v=o.streamId||u.rtcp.cname;S.debug('receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc'),v+=`-hack-${m.generateRandomNumber()}`,s.set(p,v),this._remoteSdp.receive({mid:h,kind:l,offerRtpParameters:u,streamId:v,trackId:p})}var _={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receive() | calling pc.setRemoteDescription() [offer:%o]',_),yield this._pc.setRemoteDescription(_);var R=yield this._pc.createAnswer(),b=f.parse(R.sdp),k=function*(){var e=D.kind,t=D.rtpParameters,n=e,c=b.media.find(function(e){return String(e.mid)===n});y.applyCodecParameters({offerRtpParameters:t,answerMediaObject:c})};for(var D of e)yield*k();R={type:'answer',sdp:f.write(b)},this._transportReady||(yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:b})),S.debug('receive() | calling pc.setLocalDescription() [answer:%o]',R),yield this._pc.setLocalDescription(R);var w=function*(){var e=P.kind,t=P.trackId,o=P.rtpParameters,p=t,l=e,u=s.get(t),h=n._pc.getRemoteStreams().find(function(e){return e.id===u}).getTrackById(p);if(!h)throw new Error('remote track not found');n._mapRecvLocalIdInfo.set(p,{mid:l,rtpParameters:o}),c.push({localId:p,track:h})};for(var P of e)yield*w();return c}),function(e){return I.apply(this,arguments)})},{key:"stopReceiving",value:(P=e(function*(e){for(var t of(this.assertRecvDirection(),e)){S.debug('stopReceiving() [localId:%s]',t);var n=this._mapRecvLocalIdInfo.get(t)||{},c=n.mid,s=n.rtpParameters;this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:c,offerRtpParameters:s})}var o={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('stopReceiving() | calling pc.setRemoteDescription() [offer:%o]',o),yield this._pc.setRemoteDescription(o);var p=yield this._pc.createAnswer();S.debug('stopReceiving() | calling pc.setLocalDescription() [answer:%o]',p),yield this._pc.setLocalDescription(p)}),function(e){return P.apply(this,arguments)})},{key:"pauseReceiving",value:(w=e(function*(e){}),function(e){return w.apply(this,arguments)})},{key:"resumeReceiving",value:(D=e(function*(e){}),function(e){return D.apply(this,arguments)})},{key:"getReceiverStats",value:(k=e(function*(e){throw new(r(d[13]).UnsupportedError)('not implemented')}),function(e){return k.apply(this,arguments)})},{key:"receiveDataChannel",value:(b=e(function*(e){var t,n=e.sctpStreamParameters,c=e.label,s=e.protocol;this.assertRecvDirection();var o=n.streamId,p=n.ordered,l=n.maxPacketLifeTime,u={negotiated:!0,id:o,ordered:p,maxPacketLifeTime:l,maxRetransmitTime:l,maxRetransmits:n.maxRetransmits,protocol:s};S.debug('receiveDataChannel() [options:%o]',u);var h=this._pc.createDataChannel(c,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});var m={type:'offer',sdp:this._remoteSdp.getSdp()};S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]',m),yield this._pc.setRemoteDescription(m);var v=yield this._pc.createAnswer();if(!this._transportReady){var y=f.parse(v.sdp);yield this.setupTransport({localDtlsRole:null!==(t=this._forcedLocalDtlsRole)&&void 0!==t?t:'client',localSdpObject:y})}S.debug('receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]',v),yield this._pc.setLocalDescription(v),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}),function(e){return b.apply(this,arguments)})},{key:"setupTransport",value:(h=e(function*(e){var t=this,n=e.localDtlsRole,c=e.localSdpObject;c||(c=f.parse(this._pc.localDescription.sdp));var s=y.extractDtlsParameters({sdpObject:c});s.role=n,this._remoteSdp.updateDtlsRole('client'===n?'server':'client'),yield new Promise(function(e,n){t.safeEmit('@connect',{dtlsParameters:s},e,n)}),this._transportReady=!0}),function(e){return h.apply(this,arguments)})},{key:"assertSendDirection",value:function(){if('send'!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"assertRecvDirection",value:function(){if('recv'!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new u}}}]);var h,b,k,D,w,P,I,L,C,O,T,x,M,j,E,B,N,A,U,K,q})(r(d[14]).HandlerInterface);_e.ReactNative=b},651,[345,12,13,23,25,28,629,622,623,633,643,625,636,627,639]);
__d(function(g,r,i,a,_m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),s=r(d[4]),c=r(d[5]),u=r(d[6]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var l=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,s)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),h=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),m=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return h(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Transport=void 0;var _=f(r(d[7])),v=m(r(d[8])),P=m(r(d[9])),y=new(r(d[10]).Logger)('Transport'),w=c(function e(t){var n=this;u(this,e),this.consumerOptions=t,this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}),C=(function(l){function h(e){var t,s,c,l,m=e.direction,f=e.id,_=e.iceParameters,P=e.iceCandidates,w=e.dtlsParameters,C=e.sctpParameters,b=e.iceServers,S=e.iceTransportPolicy,I=e.additionalSettings,k=e.proprietaryConstraints,E=e.appData,T=e.handlerFactory,D=e.extendedRtpCapabilities,R=e.canProduceByKind;return u(this,h),s=this,c=o(c=h),(t=n(s,p()?Reflect.construct(c,l||[],o(s).constructor):c.apply(s,l)))._closed=!1,t._connectionState='new',t._producers=new Map,t._consumers=new Map,t._dataProducers=new Map,t._dataConsumers=new Map,t._probatorConsumerCreated=!1,t._awaitQueue=new(r(d[11]).AwaitQueue),t._pendingConsumerTasks=[],t._consumerCreationInProgress=!1,t._pendingPauseConsumers=new Map,t._consumerPauseInProgress=!1,t._pendingResumeConsumers=new Map,t._consumerResumeInProgress=!1,t._pendingCloseConsumers=new Map,t._consumerCloseInProgress=!1,t._observer=new(r(d[12]).EnhancedEventEmitter),y.debug('constructor() [id:%s, direction:%s]',f,m),t._id=f,t._direction=m,t._extendedRtpCapabilities=D,t._canProduceByKind=R,t._maxSctpMessageSize=C?C.maxMessageSize:null,delete(I=v.clone(I,{})).iceServers,delete I.iceTransportPolicy,delete I.bundlePolicy,delete I.rtcpMuxPolicy,delete I.sdpSemantics,t._handler=T(),t._handler.run({direction:m,iceParameters:_,iceCandidates:P,dtlsParameters:w,sctpParameters:C,iceServers:b,iceTransportPolicy:S,additionalSettings:I,proprietaryConstraints:k,extendedRtpCapabilities:D}),t._appData=E||{},t.handleHandler(),t}return s(h,l),c(h,[{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"direction",get:function(){return this._direction}},{key:"handler",get:function(){return this._handler}},{key:"connectionState",get:function(){return this._connectionState}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){if(!this._closed){for(var e of(y.debug('close()'),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._producers.values()))e.transportClosed();for(var t of(this._producers.clear(),this._consumers.values()))t.transportClosed();for(var n of(this._consumers.clear(),this._dataProducers.values()))n.transportClosed();for(var o of(this._dataProducers.clear(),this._dataConsumers.values()))o.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit('close')}}},{key:"getStats",value:(E=t(function*(){if(this._closed)throw new(r(d[13]).InvalidStateError)('closed');return this._handler.getTransportStats()}),function(){return E.apply(this,arguments)})},{key:"restartIce",value:(k=t(function*(e){var n=this,o=e.iceParameters;if(y.debug('restartIce()'),this._closed)throw new(r(d[13]).InvalidStateError)('closed');if(!o)throw new TypeError('missing iceParameters');return this._awaitQueue.push(t(function*(){return n._handler.restartIce(o)}),'transport.restartIce()')}),function(e){return k.apply(this,arguments)})},{key:"updateIceServers",value:(I=t(function*(){var e=this,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).iceServers;if(y.debug('updateIceServers()'),this._closed)throw new(r(d[13]).InvalidStateError)('closed');if(!Array.isArray(n))throw new TypeError('missing iceServers');return this._awaitQueue.push(t(function*(){return e._handler.updateIceServers(n)}),'transport.updateIceServers()')}),function(){return I.apply(this,arguments)})},{key:"produce",value:(S=t(function*(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.track,s=n.encodings,c=n.codecOptions,u=n.codec,p=n.stopTracks,l=void 0===p||p,h=n.disableTrackOnPause,m=void 0===h||h,f=n.zeroRtpOnPause,_=void 0!==f&&f,v=n.appData,w=void 0===v?{}:v;if(y.debug('produce() [track:%o]',o),this._closed)throw new(r(d[13]).InvalidStateError)('closed');if(!o)throw new TypeError('missing track');if('send'!==this._direction)throw new(r(d[13]).UnsupportedError)('not a sending Transport');if(!this._canProduceByKind[o.kind])throw new(r(d[13]).UnsupportedError)(`cannot produce ${o.kind}`);if('ended'===o.readyState)throw new(r(d[13]).InvalidStateError)('track ended');if(0===this.listenerCount('connect')&&'new'===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount('produce'))throw new TypeError('no "produce" listener set into this transport');if(w&&'object'!=typeof w)throw new TypeError('if given, appData must be an object');return this._awaitQueue.push(t(function*(){var t;if(s&&!Array.isArray(s))throw TypeError('encodings must be an array');s&&0===s.length?t=void 0:s&&(t=s.map(function(e){var t={active:!0};return!1===e.active&&(t.active=!1),'boolean'==typeof e.dtx&&(t.dtx=e.dtx),'string'==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),'number'==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),'number'==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),'number'==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),'boolean'==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),'string'==typeof e.priority&&(t.priority=e.priority),'string'==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t}));var n=yield e._handler.send({track:o,encodings:t,codecOptions:c,codec:u}),p=n.localId,h=n.rtpParameters,f=n.rtpSender;try{P.validateRtpParameters(h);var v=(yield new Promise(function(t,n){e.safeEmit('produce',{kind:o.kind,rtpParameters:h,appData:w},t,n)})).id,y=new(r(d[14]).Producer)({id:v,localId:p,rtpSender:f,track:o,rtpParameters:h,stopTracks:l,disableTrackOnPause:m,zeroRtpOnPause:_,appData:w});return e._producers.set(y.id,y),e.handleProducer(y),e._observer.safeEmit('newproducer',y),y}catch(t){throw e._handler.stopSending(p).catch(function(){}),t}}),'transport.produce()').catch(function(e){if(l)try{o.stop()}catch(e){}throw e})}),function(){return S.apply(this,arguments)})},{key:"consume",value:(b=t(function*(e){var t=this,n=e.id,o=e.producerId,s=e.kind,c=e.rtpParameters,u=e.streamId,p=e.appData,l=void 0===p?{}:p;if(y.debug('consume()'),c=v.clone(c,void 0),this._closed)throw new(r(d[13]).InvalidStateError)('closed');if('recv'!==this._direction)throw new(r(d[13]).UnsupportedError)('not a receiving Transport');if('string'!=typeof n)throw new TypeError('missing id');if('string'!=typeof o)throw new TypeError('missing producerId');if('audio'!==s&&'video'!==s)throw new TypeError(`invalid kind '${s}'`);if(0===this.listenerCount('connect')&&'new'===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(l&&'object'!=typeof l)throw new TypeError('if given, appData must be an object');if(!P.canReceive(c,this._extendedRtpCapabilities))throw new(r(d[13]).UnsupportedError)('cannot consume this Producer');var h=new w({id:n,producerId:o,kind:s,rtpParameters:c,streamId:u,appData:l});return this._pendingConsumerTasks.push(h),(0,_.default)(function(){t._closed||!1===t._consumerCreationInProgress&&t.createPendingConsumers()}),h.promise}),function(e){return b.apply(this,arguments)})},{key:"produceData",value:(C=t(function*(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.ordered,s=void 0===o||o,c=n.maxPacketLifeTime,u=n.maxRetransmits,p=n.label,l=void 0===p?'':p,h=n.protocol,m=void 0===h?'':h,f=n.appData,_=void 0===f?{}:f;if(y.debug('produceData()'),this._closed)throw new(r(d[13]).InvalidStateError)('closed');if('send'!==this._direction)throw new(r(d[13]).UnsupportedError)('not a sending Transport');if(!this._maxSctpMessageSize)throw new(r(d[13]).UnsupportedError)('SCTP not enabled by remote Transport');if(0===this.listenerCount('connect')&&'new'===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(0===this.listenerCount('producedata'))throw new TypeError('no "producedata" listener set into this transport');if(_&&'object'!=typeof _)throw new TypeError('if given, appData must be an object');return(c||u)&&(s=!1),this._awaitQueue.push(t(function*(){var t=yield e._handler.sendDataChannel({ordered:s,maxPacketLifeTime:c,maxRetransmits:u,label:l,protocol:m}),n=t.dataChannel,o=t.sctpStreamParameters;P.validateSctpStreamParameters(o);var p=(yield new Promise(function(t,n){e.safeEmit('producedata',{sctpStreamParameters:o,label:l,protocol:m,appData:_},t,n)})).id,h=new(r(d[15]).DataProducer)({id:p,dataChannel:n,sctpStreamParameters:o,appData:_});return e._dataProducers.set(h.id,h),e.handleDataProducer(h),e._observer.safeEmit('newdataproducer',h),h}),'transport.produceData()')}),function(){return C.apply(this,arguments)})},{key:"consumeData",value:(f=t(function*(e){var n=this,o=e.id,s=e.dataProducerId,c=e.sctpStreamParameters,u=e.label,p=void 0===u?'':u,l=e.protocol,h=void 0===l?'':l,m=e.appData,f=void 0===m?{}:m;if(y.debug('consumeData()'),c=v.clone(c,void 0),this._closed)throw new(r(d[13]).InvalidStateError)('closed');if('recv'!==this._direction)throw new(r(d[13]).UnsupportedError)('not a receiving Transport');if(!this._maxSctpMessageSize)throw new(r(d[13]).UnsupportedError)('SCTP not enabled by remote Transport');if('string'!=typeof o)throw new TypeError('missing id');if('string'!=typeof s)throw new TypeError('missing dataProducerId');if(0===this.listenerCount('connect')&&'new'===this._connectionState)throw new TypeError('no "connect" listener set into this transport');if(f&&'object'!=typeof f)throw new TypeError('if given, appData must be an object');return P.validateSctpStreamParameters(c),this._awaitQueue.push(t(function*(){var e=(yield n._handler.receiveDataChannel({sctpStreamParameters:c,label:p,protocol:h})).dataChannel,t=new(r(d[16]).DataConsumer)({id:o,dataProducerId:s,dataChannel:e,sctpStreamParameters:c,appData:f});return n._dataConsumers.set(t.id,t),n.handleDataConsumer(t),n._observer.safeEmit('newdataconsumer',t),t}),'transport.consumeData()')}),function(e){return f.apply(this,arguments)})},{key:"createPendingConsumers",value:(m=t(function*(){var n=this;this._consumerCreationInProgress=!0,this._awaitQueue.push(t(function*(){if(0!==n._pendingConsumerTasks.length){var t=e(n._pendingConsumerTasks);n._pendingConsumerTasks=[];var o=void 0,s=[];for(var c of t){var u=c.consumerOptions,p=u.id,l=u.kind,h=u.rtpParameters,m=u.streamId;s.push({trackId:p,kind:l,rtpParameters:h,streamId:m})}try{for(var f=yield n._handler.receive(s),_=0;_<f.length;++_){var v=t[_],w=f[_],C=v.consumerOptions,b=C.id,S=C.producerId,I=C.kind,k=C.rtpParameters,E=C.appData,T=w.localId,D=w.rtpReceiver,R=w.track,x=new(r(d[17]).Consumer)({id:b,localId:T,producerId:S,rtpReceiver:D,track:R,rtpParameters:k,appData:E});n._consumers.set(x.id,x),n.handleConsumer(x),n._probatorConsumerCreated||o||'video'!==I||(o=x),n._observer.safeEmit('newconsumer',x),v.resolve(x)}}catch(e){for(var M of t)M.reject(e)}if(o)try{var O=P.generateProbatorRtpParameters(o.rtpParameters);yield n._handler.receive([{trackId:'probator',kind:'video',rtpParameters:O}]),y.debug('createPendingConsumers() | Consumer for RTP probation created'),n._probatorConsumerCreated=!0}catch(e){y.error('createPendingConsumers() | failed to create Consumer for RTP probation:%o',e)}}else y.debug('createPendingConsumers() | there is no Consumer to be created')}),'transport.createPendingConsumers()').then(function(){n._consumerCreationInProgress=!1,n._pendingConsumerTasks.length>0&&n.createPendingConsumers()}).catch(function(){})}),function(){return m.apply(this,arguments)})},{key:"pausePendingConsumers",value:function(){var e=this;this._consumerPauseInProgress=!0,this._awaitQueue.push(t(function*(){if(0!==e._pendingPauseConsumers.size){var t=Array.from(e._pendingPauseConsumers.values());e._pendingPauseConsumers.clear();try{var n=t.map(function(e){return e.localId});yield e._handler.pauseReceiving(n)}catch(e){y.error('pausePendingConsumers() | failed to pause Consumers:',e)}}else y.debug('pausePendingConsumers() | there is no Consumer to be paused')}),'transport.pausePendingConsumers').then(function(){e._consumerPauseInProgress=!1,e._pendingPauseConsumers.size>0&&e.pausePendingConsumers()}).catch(function(){})}},{key:"resumePendingConsumers",value:function(){var e=this;this._consumerResumeInProgress=!0,this._awaitQueue.push(t(function*(){if(0!==e._pendingResumeConsumers.size){var t=Array.from(e._pendingResumeConsumers.values());e._pendingResumeConsumers.clear();try{var n=t.map(function(e){return e.localId});yield e._handler.resumeReceiving(n)}catch(e){y.error('resumePendingConsumers() | failed to resume Consumers:',e)}}else y.debug('resumePendingConsumers() | there is no Consumer to be resumed')}),'transport.resumePendingConsumers').then(function(){e._consumerResumeInProgress=!1,e._pendingResumeConsumers.size>0&&e.resumePendingConsumers()}).catch(function(){})}},{key:"closePendingConsumers",value:function(){var e=this;this._consumerCloseInProgress=!0,this._awaitQueue.push(t(function*(){if(0!==e._pendingCloseConsumers.size){var t=Array.from(e._pendingCloseConsumers.values());e._pendingCloseConsumers.clear();try{yield e._handler.stopReceiving(t.map(function(e){return e.localId}))}catch(e){y.error('closePendingConsumers() | failed to close Consumers:',e)}}else y.debug('closePendingConsumers() | there is no Consumer to be closed')}),'transport.closePendingConsumers').then(function(){e._consumerCloseInProgress=!1,e._pendingCloseConsumers.size>0&&e.closePendingConsumers()}).catch(function(){})}},{key:"handleHandler",value:function(){var e=this,t=this._handler;t.on('@connect',function(t,n,o){var s=t.dtlsParameters;e._closed?o(new(r(d[13]).InvalidStateError)('closed')):e.safeEmit('connect',{dtlsParameters:s},n,o)}),t.on('@connectionstatechange',function(t){t!==e._connectionState&&(y.debug('connection state changed to %s',t),e._connectionState=t,e._closed||e.safeEmit('connectionstatechange',t))})}},{key:"handleProducer",value:function(e){var n=this;e.on('@close',function(){n._producers.delete(e.id),n._closed||n._awaitQueue.push(t(function*(){return n._handler.stopSending(e.localId)}),'producer @close event').catch(function(e){return y.warn('producer.close() failed:%o',e)})}),e.on('@pause',function(o,s){n._awaitQueue.push(t(function*(){return n._handler.pauseSending(e.localId)}),'producer @pause event').then(o).catch(s)}),e.on('@resume',function(o,s){n._awaitQueue.push(t(function*(){return n._handler.resumeSending(e.localId)}),'producer @resume event').then(o).catch(s)}),e.on('@replacetrack',function(o,s,c){n._awaitQueue.push(t(function*(){return n._handler.replaceTrack(e.localId,o)}),'producer @replacetrack event').then(s).catch(c)}),e.on('@setmaxspatiallayer',function(o,s,c){n._awaitQueue.push(t(function*(){return n._handler.setMaxSpatialLayer(e.localId,o)}),'producer @setmaxspatiallayer event').then(s).catch(c)}),e.on('@setrtpencodingparameters',function(o,s,c){n._awaitQueue.push(t(function*(){return n._handler.setRtpEncodingParameters(e.localId,o)}),'producer @setrtpencodingparameters event').then(s).catch(c)}),e.on('@getstats',function(t,o){if(n._closed)return o(new(r(d[13]).InvalidStateError)('closed'));n._handler.getSenderStats(e.localId).then(t).catch(o)})}},{key:"handleConsumer",value:function(e){var t=this;e.on('@close',function(){t._consumers.delete(e.id),t._pendingPauseConsumers.delete(e.id),t._pendingResumeConsumers.delete(e.id),t._closed||(t._pendingCloseConsumers.set(e.id,e),!1===t._consumerCloseInProgress&&t.closePendingConsumers())}),e.on('@pause',function(){t._pendingResumeConsumers.has(e.id)&&t._pendingResumeConsumers.delete(e.id),t._pendingPauseConsumers.set(e.id,e),(0,_.default)(function(){t._closed||!1===t._consumerPauseInProgress&&t.pausePendingConsumers()})}),e.on('@resume',function(){t._pendingPauseConsumers.has(e.id)&&t._pendingPauseConsumers.delete(e.id),t._pendingResumeConsumers.set(e.id,e),(0,_.default)(function(){t._closed||!1===t._consumerResumeInProgress&&t.resumePendingConsumers()})}),e.on('@getstats',function(n,o){if(t._closed)return o(new(r(d[13]).InvalidStateError)('closed'));t._handler.getReceiverStats(e.localId).then(n).catch(o)})}},{key:"handleDataProducer",value:function(e){var t=this;e.on('@close',function(){t._dataProducers.delete(e.id)})}},{key:"handleDataConsumer",value:function(e){var t=this;e.on('@close',function(){t._dataConsumers.delete(e.id)})}}]);var m,f,C,b,S,I,k,E})(r(d[12]).EnhancedEventEmitter);_e.Transport=C},652,[6,345,23,25,28,13,12,653,622,623,625,654,626,627,658,659,660,661]);
__d(function(g,r,i,a,m,e,d){
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n;m.exports='function'==typeof queueMicrotask?queueMicrotask.bind('undefined'!=typeof window?window:g):function(t){return(n||(n=Promise.resolve())).then(t).catch(function(n){return setTimeout(function(){throw n},0)})}},653,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AwaitQueueRemovedTaskError=e.AwaitQueueStoppedError=e.AwaitQueue=void 0,Object.defineProperty(e,"AwaitQueue",{enumerable:!0,get:function(){return r(d[0]).AwaitQueue}}),Object.defineProperty(e,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return r(d[1]).AwaitQueueStoppedError}}),Object.defineProperty(e,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return r(d[1]).AwaitQueueRemovedTaskError}})},654,[655,657]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),u=r(d[2]),s=r(d[3]);Object.defineProperty(e,"__esModule",{value:!0}),e.AwaitQueue=void 0;var o=new(r(d[4]).Logger)('AwaitQueue'),c=(function(){return s(function t(){u(this,t),this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1,o.debug('constructor()')},[{key:"size",get:function(){return this.pendingTasks.size}},{key:"push",value:(p=n(function*(n,u){var s=this;if(u=null!=u?u:n.name,o.debug(`push() [name:${u}]`),'function'!=typeof n)throw new TypeError('given task is not a function');if(u)try{Object.defineProperty(n,'name',{value:u})}catch(t){}return new Promise(function(c,p){var v={id:s.nextTaskId++,task:n,name:u,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:function(n){if(!v.completed){v.completed=!0,s.pendingTasks.delete(v.id),o.debug(`resolving task [name:${v.name}]`),c(n);var u=s.pendingTasks.values(),p=t(u,1)[0];p&&!p.executedAt&&s.execute(p)}},reject:function(n){if(!v.completed&&(v.completed=!0,s.pendingTasks.delete(v.id),o.debug(`rejecting task [name:${v.name}]: %s`,String(n)),p(n),!s.stopping)){var u=s.pendingTasks.values(),c=t(u,1)[0];c&&!c.executedAt&&s.execute(c)}}};s.pendingTasks.set(v.id,v),1===s.pendingTasks.size&&s.execute(v)})}),function(t,n){return p.apply(this,arguments)})},{key:"stop",value:function(){for(var t of(o.debug('stop()'),this.stopping=!0,this.pendingTasks.values()))o.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new(r(d[5]).AwaitQueueStoppedError));this.stopping=!1}},{key:"remove",value:function(t){o.debug(`remove() [taskIdx:${t}]`);var n=Array.from(this.pendingTasks.values())[t];n?n.reject(new(r(d[5]).AwaitQueueRemovedTaskError)):o.debug(`stop() | no task with given idx [taskIdx:${t}]`)}},{key:"dump",value:function(){var t=Date.now(),n=0;return Array.from(this.pendingTasks.values()).map(function(u){return{idx:n++,task:u.task,name:u.name,enqueuedTime:u.executedAt?u.executedAt-u.enqueuedAt:t-u.enqueuedAt,executionTime:u.executedAt?t-u.executedAt:0}})}},{key:"execute",value:(c=n(function*(t){if(o.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error('task already being executed');t.executedAt=Date.now();try{var n=yield t.task();t.resolve(n)}catch(n){t.reject(n)}}),function(t){return c.apply(this,arguments)})}]);var c,p})();e.AwaitQueue=c},655,[38,345,12,13,656,657]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]),o=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var t='awaitqueue',s=(function(){return o(function o(s){n(this,o),s?(this._debug=r(d[2])(`${t}:${s}`),this._warn=r(d[2])(`${t}:WARN:${s}`),this._error=r(d[2])(`${t}:ERROR:${s}`)):(this._debug=r(d[2])(t),this._warn=r(d[2])(`${t}:WARN`),this._error=r(d[2])(`${t}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)},[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}])})();e.Logger=s},656,[12,13,513]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),u=r(d[2]),o=r(d[3]),n=r(d[4]),c=r(d[5]);function p(e,t,n){return t=o(t),u(e,f()?Reflect.construct(t,n||[],o(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.AwaitQueueRemovedTaskError=_e.AwaitQueueStoppedError=void 0;var s=(function(u){function o(e){var u;return t(this,o),(u=p(this,o,[null!=e?e:'queue stopped'])).name='AwaitQueueStoppedError','function'==typeof Error.captureStackTrace&&Error.captureStackTrace(u,o),u}return n(o,u),e(o)})(c(Error));_e.AwaitQueueStoppedError=s;var l=(function(u){function o(e){var u;return t(this,o),(u=p(this,o,[null!=e?e:'queue task removed'])).name='AwaitQueueRemovedTaskError','function'==typeof Error.captureStackTrace&&Error.captureStackTrace(u,o),u}return n(o,u),e(o)})(c(Error));_e.AwaitQueueRemovedTaskError=l},657,[13,12,23,25,28,85]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),s=r(d[2]),n=r(d[3]),o=r(d[4]),c=r(d[5]);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.Producer=void 0;var l=new(r(d[6]).Logger)('Producer'),h=(function(h){function p(e){var s,c,h,k,_=e.id,f=e.localId,y=e.rtpSender,v=e.track,E=e.rtpParameters,b=e.stopTracks,P=e.disableTrackOnPause,T=e.zeroRtpOnPause,w=e.appData;return t(this,p),c=this,h=o(h=p),(s=n(c,u()?Reflect.construct(h,k||[],o(c).constructor):h.apply(c,k)))._closed=!1,s._observer=new(r(d[7]).EnhancedEventEmitter),l.debug('constructor()'),s._id=_,s._localId=f,s._rtpSender=y,s._track=v,s._kind=v.kind,s._rtpParameters=E,s._paused=!!P&&!v.enabled,s._maxSpatialLayer=void 0,s._stopTracks=b,s._disableTrackOnPause=P,s._zeroRtpOnPause=T,s._appData=w||{},s.onTrackEnded=s.onTrackEnded.bind(s),s.handleTrack(),s}return c(p,h),s(p,[{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._kind}},{key:"rtpSender",get:function(){return this._rtpSender}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"maxSpatialLayer",get:function(){return this._maxSpatialLayer}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(l.debug('close()'),this._closed=!0,this.destroyTrack(),this.emit('@close'),this._observer.safeEmit('close'))}},{key:"transportClosed",value:function(){this._closed||(l.debug('transportClosed()'),this._closed=!0,this.destroyTrack(),this.safeEmit('transportclose'),this._observer.safeEmit('close'))}},{key:"getStats",value:(y=e(function*(){var e=this;if(this._closed)throw new(r(d[8]).InvalidStateError)('closed');return new Promise(function(t,s){e.safeEmit('@getstats',t,s)})}),function(){return y.apply(this,arguments)})},{key:"pause",value:function(){var e=this;l.debug('pause()'),this._closed?l.error('pause() | Producer closed'):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise(function(t,s){e.safeEmit('@pause',t,s)}).catch(function(){}),this._observer.safeEmit('pause'))}},{key:"resume",value:function(){var e=this;l.debug('resume()'),this._closed?l.error('resume() | Producer closed'):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise(function(t,s){e.safeEmit('@resume',t,s)}).catch(function(){}),this._observer.safeEmit('resume'))}},{key:"replaceTrack",value:(f=e(function*(e){var t=this,s=e.track;if(l.debug('replaceTrack() [track:%o]',s),this._closed){if(s&&this._stopTracks)try{s.stop()}catch(e){}throw new(r(d[8]).InvalidStateError)('closed')}if(s&&'ended'===s.readyState)throw new(r(d[8]).InvalidStateError)('track ended');s!==this._track?(yield new Promise(function(e,n){t.safeEmit('@replacetrack',s,e,n)}),this.destroyTrack(),this._track=s,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()):l.debug('replaceTrack() | same track, ignored')}),function(e){return f.apply(this,arguments)})},{key:"setMaxSpatialLayer",value:(_=e(function*(e){var t=this;if(this._closed)throw new(r(d[8]).InvalidStateError)('closed');if('video'!==this._kind)throw new(r(d[8]).UnsupportedError)('not a video Producer');if('number'!=typeof e)throw new TypeError('invalid spatialLayer');e!==this._maxSpatialLayer&&(yield new Promise(function(s,n){t.safeEmit('@setmaxspatiallayer',e,s,n)}).catch(function(){}),this._maxSpatialLayer=e)}),function(e){return _.apply(this,arguments)})},{key:"setRtpEncodingParameters",value:(k=e(function*(e){var t=this;if(this._closed)throw new(r(d[8]).InvalidStateError)('closed');if('object'!=typeof e)throw new TypeError('invalid params');yield new Promise(function(s,n){t.safeEmit('@setrtpencodingparameters',e,s,n)})}),function(e){return k.apply(this,arguments)})},{key:"onTrackEnded",value:function(){l.debug('track "ended" event'),this.safeEmit('trackended'),this._observer.safeEmit('trackended')}},{key:"handleTrack",value:function(){this._track&&this._track.addEventListener('ended',this.onTrackEnded)}},{key:"destroyTrack",value:function(){if(this._track)try{this._track.removeEventListener('ended',this.onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}]);var k,_,f,y})(r(d[7]).EnhancedEventEmitter);_e.Producer=h},658,[345,12,13,23,25,28,625,626,627]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),s=r(d[4]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.DataProducer=void 0;var l=new(r(d[5]).Logger)('DataProducer'),u=(function(u){function h(t){var s,u,f,_,v=t.id,C=t.dataChannel,p=t.sctpStreamParameters,b=t.appData;return e(this,h),u=this,f=o(f=h),(s=n(u,c()?Reflect.construct(f,_||[],o(u).constructor):f.apply(u,_)))._closed=!1,s._observer=new(r(d[6]).EnhancedEventEmitter),l.debug('constructor()'),s._id=v,s._dataChannel=C,s._sctpStreamParameters=p,s._appData=b||{},s.handleDataChannel(),s}return s(h,u),t(h,[{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"bufferedAmount",get:function(){return this._dataChannel.bufferedAmount}},{key:"bufferedAmountLowThreshold",get:function(){return this._dataChannel.bufferedAmountLowThreshold},set:function(e){this._dataChannel.bufferedAmountLowThreshold=e}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(l.debug('close()'),this._closed=!0,this._dataChannel.close(),this.emit('@close'),this._observer.safeEmit('close'))}},{key:"transportClosed",value:function(){this._closed||(l.debug('transportClosed()'),this._closed=!0,this._dataChannel.close(),this.safeEmit('transportclose'),this._observer.safeEmit('close'))}},{key:"send",value:function(e){if(l.debug('send()'),this._closed)throw new(r(d[7]).InvalidStateError)('closed');this._dataChannel.send(e)}},{key:"handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener('open',function(){e._closed||(l.debug('DataChannel "open" event'),e.safeEmit('open'))}),this._dataChannel.addEventListener('error',function(t){if(!e._closed){var n=t.error;n||(n=new Error('unknown DataChannel error')),'sctp-failure'===n.errorDetail?l.error('DataChannel SCTP error [sctpCauseCode:%s]: %s',n.sctpCauseCode,n.message):l.error('DataChannel "error" event: %o',n),e.safeEmit('error',n)}}),this._dataChannel.addEventListener('close',function(){e._closed||(l.warn('DataChannel "close" event'),e._closed=!0,e.emit('@close'),e.safeEmit('close'),e._observer.safeEmit('close'))}),this._dataChannel.addEventListener('message',function(){e._closed||l.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener('bufferedamountlow',function(){e._closed||e.safeEmit('bufferedamountlow')})}}])})(r(d[6]).EnhancedEventEmitter);_e.DataProducer=u},659,[12,13,23,25,28,625,626,627]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),o=r(d[4]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.DataConsumer=void 0;var l=new(r(d[5]).Logger)('DataConsumer'),u=(function(u){function h(t){var o,u,_,f,p=t.id,C=t.dataProducerId,v=t.dataChannel,y=t.sctpStreamParameters,E=t.appData;return e(this,h),u=this,_=s(_=h),(o=n(u,c()?Reflect.construct(_,f||[],s(u).constructor):_.apply(u,f)))._closed=!1,o._observer=new(r(d[6]).EnhancedEventEmitter),l.debug('constructor()'),o._id=p,o._dataProducerId=C,o._dataChannel=v,o._sctpStreamParameters=y,o._appData=E||{},o.handleDataChannel(),o}return o(h,u),t(h,[{key:"id",get:function(){return this._id}},{key:"dataProducerId",get:function(){return this._dataProducerId}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"binaryType",get:function(){return this._dataChannel.binaryType},set:function(e){this._dataChannel.binaryType=e}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(l.debug('close()'),this._closed=!0,this._dataChannel.close(),this.emit('@close'),this._observer.safeEmit('close'))}},{key:"transportClosed",value:function(){this._closed||(l.debug('transportClosed()'),this._closed=!0,this._dataChannel.close(),this.safeEmit('transportclose'),this._observer.safeEmit('close'))}},{key:"handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener('open',function(){e._closed||(l.debug('DataChannel "open" event'),e.safeEmit('open'))}),this._dataChannel.addEventListener('error',function(t){if(!e._closed){var n=t.error;n||(n=new Error('unknown DataChannel error')),'sctp-failure'===n.errorDetail?l.error('DataChannel SCTP error [sctpCauseCode:%s]: %s',n.sctpCauseCode,n.message):l.error('DataChannel "error" event: %o',n),e.safeEmit('error',n)}}),this._dataChannel.addEventListener('close',function(){e._closed||(l.warn('DataChannel "close" event'),e._closed=!0,e.emit('@close'),e.safeEmit('close'),e._observer.safeEmit('close'))}),this._dataChannel.addEventListener('message',function(t){e._closed||e.safeEmit('message',t.data)})}}])})(r(d[6]).EnhancedEventEmitter);_e.DataConsumer=u},660,[12,13,23,25,28,625,626]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),s=r(d[2]),n=r(d[3]),o=r(d[4]),c=r(d[5]);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.Consumer=void 0;var l=new(r(d[6]).Logger)('Consumer'),h=(function(h){function p(e){var s,c,h,_,k=e.id,f=e.localId,v=e.producerId,y=e.rtpReceiver,E=e.track,b=e.rtpParameters,T=e.appData;return t(this,p),c=this,h=o(h=p),(s=n(c,u()?Reflect.construct(h,_||[],o(c).constructor):h.apply(c,_)))._closed=!1,s._observer=new(r(d[7]).EnhancedEventEmitter),l.debug('constructor()'),s._id=k,s._localId=f,s._producerId=v,s._rtpReceiver=y,s._track=E,s._rtpParameters=b,s._paused=!E.enabled,s._appData=T||{},s.onTrackEnded=s.onTrackEnded.bind(s),s.handleTrack(),s}return c(p,h),s(p,[{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"producerId",get:function(){return this._producerId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._track.kind}},{key:"rtpReceiver",get:function(){return this._rtpReceiver}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"appData",get:function(){return this._appData},set:function(e){this._appData=e}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(l.debug('close()'),this._closed=!0,this.destroyTrack(),this.emit('@close'),this._observer.safeEmit('close'))}},{key:"transportClosed",value:function(){this._closed||(l.debug('transportClosed()'),this._closed=!0,this.destroyTrack(),this.safeEmit('transportclose'),this._observer.safeEmit('close'))}},{key:"getStats",value:(_=e(function*(){var e=this;if(this._closed)throw new(r(d[8]).InvalidStateError)('closed');return new Promise(function(t,s){e.safeEmit('@getstats',t,s)})}),function(){return _.apply(this,arguments)})},{key:"pause",value:function(){l.debug('pause()'),this._closed?l.error('pause() | Consumer closed'):this._paused?l.debug('pause() | Consumer is already paused'):(this._paused=!0,this._track.enabled=!1,this.emit('@pause'),this._observer.safeEmit('pause'))}},{key:"resume",value:function(){l.debug('resume()'),this._closed?l.error('resume() | Consumer closed'):this._paused?(this._paused=!1,this._track.enabled=!0,this.emit('@resume'),this._observer.safeEmit('resume')):l.debug('resume() | Consumer is already resumed')}},{key:"onTrackEnded",value:function(){l.debug('track "ended" event'),this.safeEmit('trackended'),this._observer.safeEmit('trackended')}},{key:"handleTrack",value:function(){this._track.addEventListener('ended',this.onTrackEnded)}},{key:"destroyTrack",value:function(){try{this._track.removeEventListener('ended',this.onTrackEnded),this._track.stop()}catch(e){}}}]);var _})(r(d[7]).EnhancedEventEmitter);_e.Consumer=h},661,[345,12,13,23,25,28,625,626,627]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=this&&this.__createBinding||(Object.create?function(t,n,o,c){void 0===c&&(c=o);var u=Object.getOwnPropertyDescriptor(n,o);u&&!("get"in u?!n.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return n[o]}}),Object.defineProperty(t,c,u)}:function(t,n,o,c){void 0===c&&(c=o),t[c]=n[o]}),n=this&&this.__exportStar||function(n,o){for(var c in n)"default"===c||Object.prototype.hasOwnProperty.call(o,c)||t(o,n,c)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(d[0]),e),n(r(d[1]),e),n(r(d[2]),e),n(r(d[3]),e),n(r(d[4]),e),n(r(d[5]),e),n(r(d[6]),e),n(r(d[7]),e),n(r(d[8]),e),n(r(d[9]),e)},662,[621,652,658,661,659,660,663,664,639,627]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},663,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},664,[]);
__d(function(g,r,_i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),i=r(d[2]),n=r(d[3]),l=r(d[4]),o=r(d[5]),s=r(d[6]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.Call=void 0;var u=r(d[7]).__importDefault(r(d[8])),h=r(d[7]).__importDefault(r(d[9])),v=r(d[7]).__importDefault(r(d[10])),p="v2",f=new(r(d[11]).EventsHandler),C=(function(C){function E(e,t,n,s){var u,h,v,p;i(this,E),h=this,p=[!1],v=o(v=E),(u=l(h,c()?Reflect.construct(v,p||[],o(h).constructor):v.apply(h,p))).state="active",u.failover=[],u.failoverCallUrls=[],u.region=null,u.auth=void 0,u.pvcCall=null,u.connectedPeers=[],u.joinUrl=null,u.failoverJoinUrls=[],u.broadcasts=new Map,u.isOwner=!1,(0,r(d[12]).makeObservable)(u,{broadcasts:r(d[12]).observable}),u.ctx=e,(0,r(d[13]).onceCanceled)(e).then(function(e){return u.dispose(`VideoClient Context Cancelled: ${e}`)});var C=(0,r(d[14]).makeBounded)(new Proxy(u,f));return C.init(t,n,s),e.logger.attachObject(C),e.logger.trace("constructor()"),l(u,C)}return s(E,C),n(E,[{key:"init",value:function(i,n,l){var o,s,c,u,h,f,C=this;if(this.isOwner=i,this.options=n,0===(null!==(s=null===(o=n.backendEndpoints)||void 0===o?void 0:o.length)&&void 0!==s?s:0)&&null==this.options.sfu.joinUrl&&this.throwError((0,r(d[15]).createError)(r(d[16]).ErrorCode.NoBackendEndpoints,"backendEndpoints or joinUrl are required",{})),this.joinUrl=null!==(c=this.options.sfu.joinUrl)&&void 0!==c?c:null,null!=n.backendEndpoints){var E=t(n.backendEndpoints),y=E[0],k=E.slice(1);this.backendEndpoint=y,this.failover=k,this.callUrl=`${y}/lb/calls`,this.failoverCallUrls=k.map(function(e){return`${e}/lb/calls`}),null==this.joinUrl&&(this.joinUrl=`${this.backendEndpoint}/lb/${p}/calls/${this.options.callId}/join`,this.failoverJoinUrls=this.failover.map(function(e){return`${e}/lb/${p}/calls/${C.options.callId}/join`}))}"string"==typeof n.token?this.token=n.token:this.tokenRefresher=n.token,null!=n.callId&&this.emit("callId",{callId:n.callId,user:null!==(h=null===(u=this.pvcCall)||void 0===u?void 0:u.user)&&void 0!==h?h:null}),this.auth=new v.default({bootstrap:{token:this.token,refreshToken:this.tokenRefresher}});var b=this.options.callId,P=null!==(f=n.sfu)&&void 0!==f?f:{};this.readyPromise=e(function*(){var e=yield(0,r(d[17]).retry)(0,1e3,C.createInternalCall.bind(C,b,n,l,P),C.ctx.logger);C.pvcCall=e})(),this.addInnerDisposer(this.close)}},{key:"createInternalCall",value:(O=e(function*(e,t,i,n,l){var o,s,c,u=this;if(null==e)null==this.callUrl&&this.throwError((0,r(d[15]).createError)(r(d[16]).ErrorCode.NoBackendEndpoints,"backendEndpoints or joinUrl are required",{})),c=yield this.createCallAndJoin(t,n);else{var h=null===(o=t.playerOptions)||void 0===o?void 0:o.retryCall;l>0&&h&&(null==i||delete i.call),c=yield this.joinCall(e,i,n)}return c.on("error",function(e){u.emit("error",e)}),this.emit("callId",{callId:c.call.id,user:null!==(s=c.user)&&void 0!==s?s:null}),c.on("CALL_ADD_PEER",this.handleAddPeer),c.on("CALL_REMOVE_PEER",this.handleRemovePeer),c.on("CALL_SFU_CONNECTION",function(){return u.emit("sfuConnection")}),c.on("CALL_DOMINANT_SPEAKER",function(e){u.emit("dominantSpeaker",e)}),this[r(d[11]).addProxy](c),c.on("CALL_PRODUCER_KICKED",function(){u.emit("viewerKicked")}),c.on("CALL_PEER_AT_CAPACITY",function(e){u.emit("peerAtCapacity",e)}),c.on("CALL_ACCESS_DENIED",function(e){u.emit("accessDenied",e)}),c.on("CALL_PRODUCER_STATS",function(e){u.emit("producerStats",e)}),c.on("CALL_CONNECTING",function(e){u.emit("isConnecting",e)}),c.on("CALL_SET_CONNECTED",function(e){var t=e.connected;u.emit("isConnected",t)}),c.on("CALL_WEBSOCKET_RECONNECT",function(){u.emit("websocketReconnect")}),c.on("CALL_ENDED",function(){u.emit("callEnded")}),new Promise(function(e,t){c.start().catch(function(e){t((0,r(d[15]).createError)(r(d[16]).ErrorCode.UnableJoinCall,"Unable to start call",{},e)),c.dispose(`Join call error: ${String(e)}`)}),c.once("CALL_READY",function(){e(c)})})}),function(e,t,i,n,l){return O.apply(this,arguments)})},{key:"id",get:function(){var e,t,i;return null!==(i=null===(t=null===(e=this.pvcCall)||void 0===e?void 0:e.call)||void 0===t?void 0:t.id)&&void 0!==i?i:""}},{key:"peers",get:function(){return this.connectedPeers}},{key:"handleAddPeer",value:function(e){var t,i,n,l,o,s,c=this,u=e.peer;if(null!=this.pvcCall)if(this.connectedPeers.some(function(e){return e.peerId===u.id}))this.ctx.logger.debug("handleAddPeer() peer already exists",{aggregates:{peerId:null!==(l=u.peerId)&&void 0!==l?l:"",displayName:null!==(o=u.displayName)&&void 0!==o?o:"",scope:null!==(s=u.scope)&&void 0!==s?s:""}});else{var h=new(r(d[18]).Peer)((0,r(d[19]).extendContext)(this.ctx,r(d[18]).Peer),this,this.pvcCall,u,this.options.playerOptions);this.connectedPeers.push(h),h.on("videoConsumer",function(){c.emit("videoConsumer")}),this[r(d[11]).addProxy](h),this.ctx.logger.debug("handleAddPeer() peer added",h),this.emit("peerAdded",{call:this,peer:h})}else this.ctx.logger.warn("handleAddPeer() call is null",{aggregates:{peerId:null!==(t=u.peerId)&&void 0!==t?t:"",displayName:null!==(i=u.displayName)&&void 0!==i?i:"",scope:null!==(n=u.scope)&&void 0!==n?n:""}})}},{key:"handleRemovePeer",value:function(e){var t=e.peerId,i=this.connectedPeers.findIndex(function(e){return e.peerId===t});if(-1!==i){var n=this.peers.splice(i,1)[0];n instanceof r(d[18]).Peer&&(this.ctx.logger.debug("handleRemovePeer() peer removed",n),n.dispose("removing peer")),this.emit("peerRemoved",{call:this,peer:n})}}},{key:"ready",value:(x=e(function*(){return yield this.readyPromise,this}),function(){return x.apply(this,arguments)})},{key:"createCall",value:(I=e(function*(e){var t;null==this.callUrl&&this.throwErrorDeprecated(new(r(d[20]).ValidationError)("callUrl is null",{critical:!0}));var i={mode:"broadcast",region:null!==(t=this.region)&&void 0!==t?t:"",msVersion:[3]};Object.assign(i,e),this.ctx.logger.info("call creation",{callUrl:this.callUrl,auth:{token:this.token,hasRefreshToken:null!=this.tokenRefresher},body:i});var n=yield(0,h.default)(this.ctx,this.callUrl,{auth:this.auth,method:"post",body:JSON.stringify(i),failoverUrls:this.failoverCallUrls});return null!=n?n.body:(this.ctx.logger.error("response is null",Object.assign({callUrl:this.callUrl,auth:{token:this.token,hasRefreshToken:null!=this.tokenRefresher}},i)),null)}),function(e){return I.apply(this,arguments)})},{key:"createCallAndJoin",value:(_=e(function*(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=(null===(t=this.options)||void 0===t?void 0:t.clientReferrer)&&(e.clientReferrer=this.options.clientReferrer);var l=yield this.createCall(e),o=null!==(i=null==l?void 0:l.id)&&void 0!==i?i:"";return(0,u.default)(this.ctx,o,`${this.backendEndpoint}/lb/${p}/calls/${o}/join`,Object.assign({auth:this.auth,failoverUrls:this.failover.map(function(e){return`${e}/lb/${p}/calls/${o}/join`})},n),this)}),function(e){return _.apply(this,arguments)})},{key:"joinCall",value:(U=e(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null==this.joinUrl&&this.throwErrorDeprecated(new(r(d[20]).ValidationError)("joinUrl is null",{}));var n=Object.assign({},this.options.sfu,i);return(0,u.default)(this.ctx,e,this.joinUrl,Object.assign({auth:this.auth,failoverUrls:this.failoverJoinUrls},n),this,t)}),function(e){return U.apply(this,arguments)})},{key:"broadcast",value:(A=e(function*(e,t){var i,n=this;null==this.pvcCall&&this.throwErrorDeprecated(new(r(d[20]).InternalCallError)("call is not started; pvcCall is null",{})),(null!=this.pvcCall.streams[t.streamName]||this.broadcasts.has(t.streamName))&&this.throwErrorDeprecated(new(r(d[20]).StreamExistsError)("stream name already exists",{broadcast:null!==(i=this.broadcasts.get(t.streamName))&&void 0!==i?i:{},call:this})),this.ctx.logger.debug("starting broadcast",{hasAudio:e.hasActiveAudioTrack(),hasVideo:e.hasActiveVideoTrack(),broadcastOptions:t}),this.pvcCall.setStream(t.streamName,{audio:{streamProvider:e},video:{streamProvider:e}});var l=new(r(d[21]).Broadcast)((0,r(d[19]).extendContext)(this.ctx,r(d[21]).Broadcast),this,this.pvcCall,e,t);return this[r(d[11]).addProxy](l),l.once("disposed",function(){n.broadcasts.delete(t.streamName),n[r(d[11]).removeProxy](l)}),this.broadcasts.set(t.streamName,l),l}),function(e,t){return A.apply(this,arguments)})},{key:"close",value:function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Implementer did not pass debugString";if(null!=this.auth&&this.auth.destroy(),"closed"!==this.state){null===(e=this.pvcCall)||void 0===e||e.off("CALL_ADD_PEER",this.handleAddPeer),null===(t=this.pvcCall)||void 0===t||t.off("CALL_REMOVE_PEER",this.handleRemovePeer);try{null===(i=this.pvcCall)||void 0===i||i.close(n)}catch(e){}this.connectedPeers.splice(0,this.connectedPeers.length),(0,r(d[13]).cancel)(this.ctx,"Call has been closed"),this.emit("callClosed",{callId:this.id}),this.state="closed"}}},{key:"kickViewer",value:(P=e(function*(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null===(i=this.pvcCall)||void 0===i?void 0:i.kickViewer(e,t,n)}),function(e,t){return P.apply(this,arguments)})},{key:"kickPeer",value:(b=e(function*(e,t,i){var n;return null===(n=this.pvcCall)||void 0===n?void 0:n.kickPeer(e,t,i)}),function(e,t,i){return b.apply(this,arguments)})},{key:"promoteViewer",value:(k=e(function*(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null===(i=this.pvcCall)||void 0===i?void 0:i.promoteViewer(e,t,n)}),function(e,t){return k.apply(this,arguments)})},{key:"demoteViewer",value:(y=e(function*(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null===(i=this.pvcCall)||void 0===i?void 0:i.demoteViewer(e,t,n)}),function(e,t){return y.apply(this,arguments)})},{key:"toJSON",value:function(){var e,t,i,n;return{callUrl:this.callUrl,joinUrl:this.joinUrl,backendEndpoint:this.backendEndpoint,peersIds:this.connectedPeers.map(function(e){return e.peerId}),options:{callId:null===(e=this.options)||void 0===e?void 0:e.callId,backendEndpoints:null===(t=this.options)||void 0===t?void 0:t.backendEndpoints,playerOptions:null===(i=this.options)||void 0===i?void 0:i.playerOptions,sfu:null===(n=this.options)||void 0===n?void 0:n.sfu},aggregates:Object.assign({},(0,r(d[22]).extractAggregates)(this.pvcCall,"support"),{support:this.ctx.support.hash,state:this.state})}}}]);var y,k,b,P,A,U,_,I,x,O})(r(d[23]).ObservableEventEmitter);_e2.Call=C,C.displayName="Call"},665,[345,666,12,13,23,25,28,487,667,606,602,614,526,550,529,613,485,823,824,819,543,826,545,528]);
__d(function(g,_r,i,a,m,e,d){m.exports=function(t){return _r(d[0])(t)||_r(d[1])(t)||_r(d[2])(t)||_r(d[3])()},m.exports.__esModule=!0,m.exports.default=m.exports},666,[39,9,10,41]);
__d(function(g,_r,i,a,m,_e2,d){"use strict";var e=_r(d[0]),r=_r(d[1]),s=_r(d[2]),t=_r(d[3]),n=_r(d[4]),o=_r(d[5]),l=_r(d[6]),u=_r(d[7]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.Call=void 0;var h=_r(d[8]).__importDefault(_r(d[9])),v=_r(d[8]).__importDefault(_r(d[10])),p=_r(d[8]).__importDefault(_r(d[11])),f=_r(d[8]).__importStar(_r(d[12])),_=_r(d[8]).__importDefault(_r(d[13])),y=function(){var e,r,s,t,n,o,l=_r(d[14]).device.isMobileDevice?"mobile":"desktop";return _r(d[14]).device.isImplements(_r(d[14]).Feature.USER_AGENT_DATA)&&null!=(null===(e=_r(d[14]).device.highEntropyValues)||void 0===e?void 0:e.brands)?[(null!==(t=null===(s=null===(r=_r(d[14]).device.highEntropyValues)||void 0===r?void 0:r.brands.map(function(e){return e.brand}))||void 0===s?void 0:s.join("_"))&&void 0!==t?t:"browser-name-not-available").replace(/[\W]+/g,""),_r(d[14]).device.platform,l].join("-"):[null!==(n=_r(d[14]).device.browserInfo.browserName)&&void 0!==n?n:"brand-not-available",null!==(o=_r(d[14]).device.platform)&&void 0!==o?o:"platform-not-available",l].join("-")},w=(function(h){function v(e,r,t){var o,u,h,p,f,_,y,w,E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(this,v),_=this,y=l(y=v),(o=n(_,c()?Reflect.construct(y,w||[],l(_).constructor):y.apply(_,w))).setPreferredEncodingProcessing=!1,o.callResolve=Promise.resolve,o.callReject=Promise.reject,o._startPromise=null,o._iceTransportPolicyUsed=null,o.isDisposed=!1,(0,_r(d[15]).makeBounded)(o),o.ctx=e,(0,_r(d[16]).onceCanceled)(e).then(function(e){return o.dispose(`VideoClient Context Cancelled: ${e}`)}),e.logger.trace("constructor()",{options:E});var k=E.maxProducingViewers,S=E.auth;if(o.options={call:{maxProducingViewers:k},auth:S},o.gwTransport=new(_r(d[17]).GwTransport)(e),o.gwTransport.options({maxRetries:null!==(u=E.retries)&&void 0!==u?u:1/0}),o.gwTransport.on("message:prepare-rejoin-call",o.onMessagePrepareRejoinCall),o.gwTransport.on("message:call-ended",o.onMessageCallEnded),o.gwTransport.on("message:callEnded",o.onMessageCallEnded),o.gwTransport.on("message:callError",o.onMessageCallError),o.gwTransport.on("message:disconnect",o.onMessageDisconnect),o.gwTransport.on("message:need-user",o.onMessageNeedUser),o.gwTransport.on("message:join-refresh",o.onMessageJoinRefresh),o.gwTransport.on("message:join-call-error",o.onMessageJoinCallError),o.gwTransport.on("message:call-rejected",o.onMessageCallRejected),o.gwTransport.on("message:callRejected",o.onMessageCallRejected),o.gwTransport.on("message:Forbidden",o.onMessageForbidden),o.gwTransport.on("message:call-refresh",o.onMessageCallRefresh),o.gwTransport.on("message:peerAtCapacity",o.onMessagePeerAtCapacity),o.gwTransport.on("message:producersKicked",o.onMessageProducersKicked),o.gwTransport.on("message:dominantSpeaker",o.onMessageDominantSpeaker),o.gwTransport.on("message:consumer-stats",o.onMessageConsumerStats),o.gwTransport.on("message:producer-stats",o.onMessageProducerStats),o.gwTransport.on("message:permissions",o.onMessagePermissions),o.gwTransport.on("message:options",o.onMessageOptions),o.gwTransport.on("message:ready",o.onMessageReady),o._maxBitrate=E.maxBitrate,o._messages=new(_r(d[18]).MessageList),o._handleOffline=function(){o.emit("CALL_EMIT_MESSAGES",{messages:_r(d[18]).offlineMessages.messages})},o._handleOnline=function(){o.emit("CALL_EMIT_MESSAGES",{messages:_r(d[18]).offlineMessages.messages})},_r(d[14]).device.addEventListener("offline",o._handleOffline),_r(d[14]).device.addEventListener("online",o._handleOnline),null==r.call)throw new Error("join.call is undefined");o.call=r.call,o._userOverrides=E.user,o.user=Object.assign({},r.user,o._userOverrides),o._stunServers=null!==(f=null===(p=null===(h=o.call.stun)||void 0===h?void 0:h.servers)||void 0===p?void 0:p.map(function(e){return`stun:${e}`}))&&void 0!==f?f:[],o._stunIndex=5,o.__iceServers=function(){var e,r,s,t;if(0===o._stunIndex||0===o._stunServers.length)return(null===(r=null===(e=o.call.turn)||void 0===e?void 0:e.servers)||void 0===r?void 0:r.length)>0?o.call.turn.servers:[];var n=[{urls:o._stunServers.slice(o._stunIndex-5,o._stunIndex)}];return(null===(t=null===(s=o.call.turn)||void 0===s?void 0:s.servers)||void 0===t?void 0:t.length)>0?o.call.turn.servers.concat(n):n},o.__edgeIceServers=function(){var e,r,s=[];return(null===(r=null===(e=o.call.turn)||void 0===e?void 0:e.servers)||void 0===r?void 0:r.length)>0&&o.call.turn.servers.forEach(function(e){if(Array.isArray(e.urls)){var r=e.urls.filter(function(e){return e.startsWith("turn:")});(null==r?void 0:r.length)>0&&s.push(Object.assign({},e,{urls:r.map(function(e){var r;return null!==(r=e.split("?")[0])&&void 0!==r?r:""})}))}}),s},o._joinCall=t,o._localPeerId=null,o.__iceTransportPolicy=E.iceTransportPolicy,o.__requireRecv=!0===E.requireRecv,o.__requireSend=!0===E.requireSend,o._flushLogs=!E.test,o._iceTransportPolicyUsed=null,o._ip=null,o._permissions=[],o._behaviours=[],o._initialRun=!0,o.__closed=!1,o._startResolve=null,o._startPromise=null,o._serverOptions=null,o._stableTimeout=void 0,o._stable=null,o._streams={};var C=E.streams;return null!=C&&Object.keys(C).length>0?Object.keys(C).forEach(function(e){var r=C[e];o.setStream(e,r)}):o.ctx.logger.debug("Setting stream failed, there are no defined streams",{streams:C}),o.setLogData(),o}return o(v,h),t(v,[{key:"emit",value:function(e){for(var r=arguments.length,s=new Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];return(n=v,o="emit",c=this,p=u(l(1&(h=3)?n.prototype:n),o,c),2&h&&"function"==typeof p?function(e){return p.apply(c,e)}:p)([e].concat(s));var n,o,c,h,p}},{key:"peer",get:function(){return this._peer}},{key:"_iceServers",get:function(){return this.__iceServers}},{key:"_edgeIceServers",get:function(){return this.__edgeIceServers}},{key:"_iceTransportPolicy",get:function(){return this.__iceTransportPolicy}},{key:"maxBitrate",get:function(){return this._maxBitrate}},{key:"_requireRecv",get:function(){return this.__requireRecv}},{key:"_requireSend",get:function(){return this.__requireSend}},{key:"_closed",get:function(){return this.__closed}},{key:"streams",get:function(){return this._streams}},{key:"permissions",get:function(){return this._permissions}},{key:"peerId",get:function(){return this._localPeerId}},{key:"behaviours",get:function(){return this._behaviours}},{key:"userShould",value:function(e){return!!this.hasPermission(e)&&this._behaviours.includes(e)}},{key:"transport",get:function(){return this.gwTransport}},{key:"networkCheck",value:function(e){var r,s,t,n,o,l,u,c,h;null!=this._stable&&"video"===e.mediaType&&(null!==(t=null===(s=null===(r=this._serverOptions)||void 0===r?void 0:r.call)||void 0===s?void 0:s.defaultMinBitrate)&&void 0!==t?t:0)>0&&((null!==(n=e.consumerBitrate)&&void 0!==n?n:0)<(null!==(u=null===(l=null===(o=this._serverOptions)||void 0===o?void 0:o.call)||void 0===l?void 0:l.defaultMinBitrate)&&void 0!==u?u:0)?0===this._stable.consumerBitrate?this._stable.consumerBitrate=Date.now():Date.now()>(null!==(h=null===(c=this._stable)||void 0===c?void 0:c.consumerBitrate)&&void 0!==h?h:0)+1e3&&this._addMessage(_r(d[18]).TROUBLESHOOTING.UNSTABLE_NETWORK):delete this._stable.consumerBitrate)}},{key:"onMessagePrepareRejoinCall",value:function(){for(var e of this.streamsIterator())e.close(!1)}},{key:"onMessageCallEnded",value:function(){this.close("call already ended on websocket",!0).catch(this.ctx.logger.error),this.callResolve(),this.ctx.logger.info("calls-core/call: end"),this.emit("CALL_ENDED")}},{key:"onMessageCallError",value:function(e){var r,s;this.callReject(new(_r(d[19]).CallError)(null!==(r=e.errorMessage)&&void 0!==r?r:"Unknown call error",{reason:e.reason})),"sfu-busy"===e.reason&&this.emit("error",(0,_r(d[20]).createError)(_r(d[21]).ErrorCode.SFUBusy,null!==(s=e.errorMessage)&&void 0!==s?s:"unknown reason",{})),this.close("call error on websocket",!0,!0).catch(this.ctx.logger.error)}},{key:"onMessageDisconnect",value:function(){this.emit("CALL_CONNECTING",!1)}},{key:"onMessageNeedUser",value:function(){this.gwTransport.send("user",this.user)}},{key:"onMessageJoinRefresh",value:function(e){null!=e.body.call?(this.user=Object.assign({},e.body.user,this._userOverrides),this.call=e.body.call):this.ctx.logger.error("response.body.call is undefined")}},{key:"onMessageJoinCallError",value:function(e){var r=e.error instanceof Error?e.error:null,s=new(_r(d[19]).JoinCallError)("WS: Join Call Error",{inner:r});this.emit("error",s),this.callReject(s)}},{key:"onMessageCallRejected",value:function(){this.ctx.logger.info("call rejected");var e=new(_r(d[19]).CallError)("WS: Call Rejected",{reason:"rejected"});this.emit("error",e),this.callReject(e),this.close("call was rejected by websocket",!0).catch(this.ctx.logger.error)}},{key:"onMessageForbidden",value:function(){this.ctx.logger.info("call ended - kicked"),this.emit("CALL_FORBIDDEN"),this.close("call ended - kicked (Forbidden)",!0)}},{key:"onMessageCallRefresh",value:function(e){this.call=e}},{key:"onMessagePeerAtCapacity",value:function(e){var r=Object.keys(e);this.emit("CALL_PEER_AT_CAPACITY",e[r[0]])}},{key:"onMessageProducersKicked",value:function(){this.ctx.logger.info("Call ended - producers kicked"),this.emit("CALL_PRODUCER_KICKED")}},{key:"onMessageDominantSpeaker",value:function(e){this.ctx.logger.debug("websocket transport dominantSpeaker",{dominantSpeaker:e}),this.emit("CALL_DOMINANT_SPEAKER",{userId:e.userId,displayName:e.displayName,peerId:e.peerId,streamName:e.streamName,producerId:e.producerId})}},{key:"onMessageConsumerStats",value:function(e){this.networkCheck(e),this.emit("CALL_SET_CONSUMER_STATS",{peerId:e.peerId,streamName:e.streamName,consumerId:e.id,stats:e})}},{key:"onMessageProducerStats",value:function(e){this.networkCheck(e),this.emit("CALL_SET_PRODUCER_STATS",{streamName:e.streamName,producerId:e.id,stats:e})}},{key:"onMessagePermissions",value:function(e){this._permissions=e.permissions,this.emit("CALL_PERMISSIONS",{permissions:e.permissions})}},{key:"onMessageOptions",value:function(e){this.ctx.logger.debug("websocket transport options",{options:e}),this._serverOptions=e,this.emit("CALL_OPTIONS",{options:e})}},{key:"onMessageReady",value:function(e){var r,s,t,n,o,l,u=this;if(this.emit("CALL_SFU_CONNECTION"),this.__closed)return this.ctx.logger.debug("call: ready event fired after call was closed"),void this.gwTransport.finish();this.ctx.logger.info("websocket transport ready",{readyData:e}),this._ip=e.ip,this._localPeerId=e.peerId,this.ctx.logger.setMessageAggregate("peerId",this._localPeerId),(null===(r=e.permissions)||void 0===r?void 0:r.length)>0&&(this._permissions=e.permissions,this.emit("CALL_PERMISSIONS",{permissions:e.permissions})),(null===(s=e.behaviours)||void 0===s?void 0:s.length)>0&&(this._behaviours=e.behaviours),"v3"===e.version&&null!=this.user&&(this.user.scope=e.scope,null!=e.userId&&(this.user.userId=e.userId),null!=e.displayName&&(this.user.displayName=e.displayName),this.clearLogData(),this.setLogData()),this.emit("CALL_ROOM_DATA",{scope:null!==(n=null===(t=this.user)||void 0===t?void 0:t.scope)&&void 0!==n?n:"",peerId:e.peerId});var c=this._closed||(null===(o=this._peer)||void 0===o?void 0:o._closed);this._request("options",this.options).catch(function(e){var r,s=u._closed||(null===(r=u._peer)||void 0===r?void 0:r._closed);if(!(!c&&s)){var t=e instanceof Error?e:null;u.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:t,request:"options",args:u.options,internalCall:u}))}}),null===(l=this._peer)||void 0===l||l.dispose("Create a new peer after ws reconnection"),this._peer=new(_r(d[22]).Peer)((0,_r(d[23]).extendContext)(this.ctx,_r(d[22]).Peer),this),this._peer.on("error",function(e){e.critical?(u.ctx.logger.error(`Peer error: ${e.code}; ${e.message}`,{err:e,call:u}),u.close("peer error",!0),u.callReject(e)):u.ctx.logger.warn(`Peer error: ${e.code}; ${e.message}`,{err:e,call:u})}),this._peer._setup(e.rtpCapabilities).then(function(){u.ctx.logger.debug("websocket ready",{rtpCapabilities:e.rtpCapabilities}),u.emit("CALL_READY")})}},{key:"dispose",value:function(e){this.close(`disposed: ${e}`),this.isDisposed=!0}},{key:"hasPermission",value:function(e){var r;return null===(r=this._permissions)||void 0===r?void 0:r.includes(e)}},{key:"streamNames",get:function(){return Object.keys(this._streams)}},{key:"setStream",value:function(e,r){this._streams[e]=new p.default((0,_r(d[23]).extendContext)(this.ctx,p.default),e,this,r)}},{key:"getStream",value:function(e){return this._streams[e]}},{key:"removeStream",value:function(e){delete this._streams[e]}},{key:"forEachStream",value:function(e){var r=this;null!=this._streams&&Object.keys(this._streams).length>0?Object.keys(this._streams).forEach(function(s){e(r._streams[s],s)}):this.ctx.logger.debug("Stream close() failed, there are no defined streams to close",{streams:this._streams})}},{key:"streamsIterator",value:function*(){for(var e of Object.keys(this._streams))yield this._streams[e]}},{key:"setLogData",value:function(){var e;this.ctx.logger.setMessageAggregate("callId",this.call.id),this.ctx.logger.setMessageAggregate("userId",this.user.userId),this.ctx.logger.setMessageAggregate("scope",null!==(e=this.user.scope)&&void 0!==e?e:"no scope"),this.ctx.logger.setMessageAggregate("displayName",this.user.displayName)}},{key:"clearLogData",value:function(){this.ctx.logger.removeMessageAggregate("callId"),this.ctx.logger.removeMessageAggregate("peerId"),this.ctx.logger.removeMessageAggregate("userId"),this.ctx.logger.removeMessageAggregate("scope"),this.ctx.logger.removeMessageAggregate("displayName"),this.ctx.logger.removeMessageAggregate("recvTransportId"),this.ctx.logger.removeMessageAggregate("recvTransportState"),this.ctx.logger.removeMessageAggregate("sendTransportId"),this.ctx.logger.removeMessageAggregate("sendTransportState")}},{key:"_addMessage",value:function(e){this._messages.addMessage(e),this.emit("CALL_EMIT_MESSAGES",{messages:_r(d[18]).offlineMessages.messages})}},{key:"_removeMessage",value:function(e){this._messages.removeMessage(e),this.emit("CALL_EMIT_MESSAGES",{messages:_r(d[18]).offlineMessages.messages})}},{key:"messages",get:function(){return this._messages.messages}},{key:"close",value:(R=r(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Implementer did not pass debugString",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.__closed?null:(this.ctx.logger.info("Call Class, call closed()",{aggregates:{internal:r,reason:e}}),this._flushLogs&&this.ctx.logger.flush(),null!=this._peer&&(yield this._peer.close(e)),_r(d[14]).device.removeEventListener("offline",this._handleOffline),_r(d[14]).device.removeEventListener("online",this._handleOnline),this.__closed=!0,this.forEachStream(function(e){return e.close()}),_r(d[14]).device.clearTimeout(this._stableTimeout),this._stable=null,this._cleanup(s),Promise.resolve())}),function(){return R.apply(this,arguments)})},{key:"_cleanup",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||null==this._startResolve||this._startResolve(),this.gwTransport.finish(),this.emit("CALL_SET_ROOM_DONE"),this.clearLogData()}},{key:"updateMaxBitrate",value:(L=r(function*(e){var r={bitrate:e};try{yield this._request("updateMaxBitrate",r),this._maxBitrate=e}catch(e){var s=e instanceof Error?e:null;this.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:s,request:"updateMaxBitrate",args:r,internalCall:this}))}}),function(e){return L.apply(this,arguments)})},{key:"setDisplayName",value:function(e){this.ctx.logger.info("updating displayName",{displayName:e}),this.user.displayName=e,this.gwTransport.send("options",{peer:{displayName:e}})}},{key:"setMaxProducingViewers",value:function(e){this.ctx.logger.info("updating maxProducingViewers",{maxProducingViewers:e}),this.gwTransport.send("options",{call:{maxProducingViewers:e}})}},{key:"getViewers",value:function(){throw new Error("getViewers is deprecated")}},{key:"promoteViewer",value:(T=r(function*(e,r){var s,t,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.hasPermission(_r(d[24]).PERMISSIONS.CHANGE_PEER_SCOPE))throw this.ctx.logger.warn("viewer does not have permission to promote other viewers"),new Error("no admin change scope permissions");var o={userId:e,permissions:r,webhook:n};try{t=yield this._request("promote",o)}catch(e){var l=e instanceof Error?e:null;return void this.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:l,request:"promote",args:o,internalCall:this}))}this.emit("CALL_VIEWERS",{viewers:null!==(s=t.viewers)&&void 0!==s?s:[]})}),function(e,r){return T.apply(this,arguments)})},{key:"demoteViewer",value:(N=r(function*(e,r){var s,t,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.hasPermission(_r(d[24]).PERMISSIONS.CHANGE_PEER_SCOPE))throw this.ctx.logger.warn("viewer does not have permission to demote other viewers"),new Error("no admin change scope permissions");var o={userId:e,webhook:n,permissions:r};try{t=yield this._request("demote",o)}catch(e){var l=e instanceof Error?e:null;return void this.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:l,request:"demote",args:o,internalCall:this}))}this.emit("CALL_VIEWERS",{viewers:null!==(s=t.viewers)&&void 0!==s?s:[]})}),function(e,r){return N.apply(this,arguments)})},{key:"kickViewer",value:(M=r(function*(e,r){var s,t;if(!this.hasPermission(_r(d[24]).PERMISSIONS.CHANGE_PEER_SCOPE))throw this.ctx.logger.warn("viewer does not have permission to kick other viewers"),new Error("no admin change scope permissions");var n={userId:e};try{t=yield this._request("kick",n)}catch(e){var o=e instanceof Error?e:null;return void this.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:o,request:"kick",args:n,internalCall:this}))}this.emit("CALL_VIEWERS",{viewers:null!==(s=t.viewers)&&void 0!==s?s:[]})}),function(e,r){return M.apply(this,arguments)})},{key:"kickPeer",value:(A=r(function*(e,r){var s,t;if(!this.hasPermission(_r(d[24]).PERMISSIONS.CHANGE_PEER_SCOPE))throw this.ctx.logger.warn("viewer does not have permission to kick other peers"),new Error("no admin change scope permissions");var n={peerId:e};try{t=yield this._request("kick",n)}catch(e){var o=e instanceof Error?e:null;return void this.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:o,request:"kick",args:n,internalCall:this}))}this.emit("CALL_VIEWERS",{viewers:null!==(s=t.viewers)&&void 0!==s?s:[]})}),function(e,r){return A.apply(this,arguments)})},{key:"connect",value:(x=r(function*(){var s,t,n=this;return this.emit("CALL_CONNECTING",!0),this.gwTransport.finish(),null===(s=this._peer)||void 0===s||s.peers.forEach(function(e){var r;null===(r=n._peer)||void 0===r||r._onPeerClosed(e)}),yield null===(t=this._peer)||void 0===t?void 0:t.dispose("Reconnecting"),this._peer=void 0,new Promise((function(){var s=r(function*(r,s){if(null==n.call.callUri)throw n.emit("CALL_CONNECTING",!1),new Error("callUri is undefined");n.callResolve=r,n.callReject=s;var t=yield n.authJwt(n.options.auth),o=e(t,2),l=o[0],u=o[1],c={jwt:null!=u?u:void 0};if(!l)return n.emit("CALL_FORBIDDEN"),void n.close("call ended - jwt auth failed",!0);n.gwTransport.connect(n.call.callUri,c).then(function(){n.emit("CALL_CONNECTING",!1),n.emit("CALL_SET_CONNECTED",{connected:!0})}).catch(s)});return function(e,r){return s.apply(this,arguments)}})())}),function(){return x.apply(this,arguments)})},{key:"authJwt",value:(P=r(function*(r){if(null==r)return[!0,null];try{var s=yield r.requestAsync(),t=e(s,2),n=t[0];return t[1]?[!0,n]:[!0,null]}catch(e){return[!1,null]}}),function(e){return P.apply(this,arguments)})},{key:"start",value:function(){var e=this;return this.ctx.logger.info("calls-core/call: start",{}),null!=this._startPromise?(this.ctx.logger.info("call: start has already been called"),this._startPromise):(this._startPromise=new Promise(function(r,s){e.ctx.support.any?(e._startResolve=r,e._initialRun||(e.emit("CALL_SET_CONNECTED",{connected:!1}),e.emit("CALL_EMIT_MESSAGES",{messages:_r(d[18]).disconnectedMessages.messages})),null!=e.call.callUri?e.connect().then(function(){var r;e._messages=new(_r(d[18]).MessageList),e.emit("CALL_EMIT_MESSAGES",{messages:null!==(r=e._messages.messages)&&void 0!==r?r:[]}),e._initialRun=!1}).catch(s):s(new Error("Call URI is undefined"))):s(new Error("Device is not supported"))}),this._startPromise)}},{key:"_setup",value:function(e,r){this.ctx.logger.debug("call setup")}},{key:"createProducer",value:(I=r(function*(e,r,s){var t,n;if(null==this._peer){var o="creating a producer on a room which has not been set up";throw this.ctx.logger.warn(o),new Error(o)}var l=this._closed||(null===(t=this._peer)||void 0===t?void 0:t._closed);try{return yield this._peer.produce(e,r,s)}catch(e){var u=this._closed||(null===(n=this._peer)||void 0===n?void 0:n._closed);throw!l&&u||(e instanceof _r(d[25]).types.InvalidStateError&&"track ended"===e.message?this.ctx.logger.warn("createProducer: track ended"):this.ctx.logger.error(new(_r(d[19]).MediasoupSetupError)("createProducer: error creating producer",{inner:(0,_r(d[19]).wrapNativeError)(e)}))),e}}),function(e,r,s){return I.apply(this,arguments)})},{key:"_localSettings",get:function(){if(!_r(d[14]).device.isImplements(_r(d[14]).Feature.LOCAL_STORAGE))return{};var e,r=_r(d[14]).device.localStorage.getItem(`pvc:${this._ip}:settings`);if(null==r)return{};try{e=JSON.parse(r)}catch(e){var s=e instanceof Error?e.message:"unknown error";return this.ctx.logger.error("unable to parse settings",{data:r,err:s}),{}}return e},set:function(e){_r(d[14]).device.isImplements(_r(d[14]).Feature.LOCAL_STORAGE)&&"false"!==_r(d[14]).device.localStorage.getItem("debug")&&_r(d[14]).device.localStorage.setItem(`pvc:${this._ip}:settings`,JSON.stringify(e))}},{key:"_request",value:(b=r(function*(e,r){var s=yield this.gwTransport.request(e,r);if(null==s){var t=new Error("response is null");throw this.ctx.logger.warn("call _request",{err:null==t?void 0:t.message}),t}return s}),function(e,r){return b.apply(this,arguments)})},{key:"requestSources",value:(C=r(function*(e,r){var s=this,t={streamName:e,peerId:r};return this._request("consumerSources",t).catch(function(e){var r=e instanceof Error?e:null;return e instanceof Error&&"request error: peer-closed"!==e.message&&s.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:r,request:"consumerSources",args:t,internalCall:s})),e})}),function(e,r){return C.apply(this,arguments)})},{key:"setPreferredEncoding",value:function(e,r){var s,t=this;if(null===(s=this.peer)||void 0===s?void 0:s.hasConsumerId(e))if(this.setPreferredEncodingProcessing)this.ctx.logger.warn("setPreferredEncoding already processing",{consumerId:e,id:r});else{var n={consumerId:e,id:r};this.setPreferredEncodingProcessing=!0,this._request("setPreferredEncoding",n).catch(function(r){var s,o=r instanceof Error?r:null;t._consumerNotFoundError(e,o)?(null===(s=t.peer)||void 0===s?void 0:s.hasConsumerId(e))&&t.ctx.logger.warn("consumer does not exist on server, but still exists in videoclient",{err:null==r?void 0:r.message,consumerId:e}):t.emit("error",new(_r(d[19]).WSRequestError)("ws request error",{inner:o,request:"setPreferredEncoding",args:n,internalCall:t}))}).finally(function(){t.setPreferredEncodingProcessing=!1})}else this.emit("error",new(_r(d[19]).ConsumerNotFoundError)("consumer not found for consumer event",{consumerId:e}))}},{key:"_consumerNotFoundError",value:function(e,r){return null!=r&&"request error: consumer not found"===(null==r?void 0:r.message)}},{key:"setVideoStreamProvider",value:(S=r(function*(e,r,s,t){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null==this._streams[e]){var o="setVideoStreamRetriever on invalid stream";throw this.ctx.logger.error(o),new Error(o)}return this._streams[e].setVideoStreamProvider(r,s,t,n)}),function(e,r,s,t){return S.apply(this,arguments)})},{key:"setAudioStreamProvider",value:(k=r(function*(e,r,s,t){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null==this._streams[e]){var o="setAudioStreamRetriever on invalid stream";throw this.ctx.logger.error(o),new Error(o)}return this._streams[e].setAudioStreamProvider(r,s,t,n)}),function(e,r,s,t){return k.apply(this,arguments)})},{key:"muteAudio",value:function(e){if(null==this._streams[e]){var r="muteAudio on invalid stream";throw this.ctx.logger.error(r,{streamName:e}),new Error(r)}this._streams[e].pauseAudio()}},{key:"unmuteAudio",value:(E=r(function*(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==this._streams[e]){var s="unmuteAudio on invalid stream";throw this.ctx.logger.error(s,{streamName:e}),new Error(s)}return this._streams[e].enableAudio(r,!1)}),function(e){return E.apply(this,arguments)})},{key:"disableAudio",value:function(e){if(null==this._streams[e]){var r="disableAudio on invalid stream";throw this.ctx.logger.error(r,{streamName:e}),new Error(r)}this._streams[e].disableAudio()}},{key:"enableAudio",value:(w=r(function*(e,r){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.ctx.logger.debug("enable audio",{streamName:e,refresh:r}),null==this._streams[e]){var n="enableAudio on invalid stream";throw this.ctx.logger.error(n,{streamName:e}),new Error(n)}return this._streams[e].enableAudio(t,r,s)}),function(e,r){return w.apply(this,arguments)})},{key:"enableVideo",value:(y=r(function*(e,r){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t.audioOnly){if(this.ctx.logger.debug("enable video",{streamName:e,refresh:r}),null==this._streams[e]){var n="enableVideo on invalid stream";throw this.ctx.logger.error(n,{streamName:e}),new Error(n)}return this._streams[e].enableVideo(t,r,s)}this.ctx.logger.debug("enable video",{streamName:e,refresh:r})}),function(e,r){return y.apply(this,arguments)})},{key:"disableVideo",value:function(e){if(null==this._streams[e]){var r="disableVideo on invalid stream";throw this.ctx.logger.error(r,{streamName:e}),new Error(r)}this._streams[e].disableVideo()}},{key:"unpauseVideo",value:(_=r(function*(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==this._streams[e]){var s="unpauseVideo on invalid stream";throw this.ctx.logger.error(s,{streamName:e}),new Error(s)}return this._streams[e].enableVideo(r,!1)}),function(e){return _.apply(this,arguments)})},{key:"pauseVideo",value:function(e){if(this.ctx.logger.debug("calls-core/call: pause video"),null==this._streams[e]){var r="pauseVideo on invalid stream";throw this.ctx.logger.error(r,{streamName:e}),new Error(r)}return this._streams[e].pauseVideo()}},{key:"_pauseProducer",value:function(e,r){var s=this;this.gwTransport.request("pauseProducer",{producerId:e}).catch(function(e){s.ctx.logger.warn("call.pauseProducer: error pausing server producer",e)}),this.emit("CALL_SET_PRODUCER_PAUSED",{streamName:r,producerId:e,originator:"client"})}},{key:"_resumeProducer",value:function(e,r){var s=this;this.gwTransport.request("resumeProducer",{producerId:e}).catch(function(e){s.ctx.logger.warn("call.resumeProducer: error resuming server producer",e)}),this.emit("CALL_SET_PRODUCER_RESUMED",{streamName:r,producerId:e,originator:"client"})}},{key:"_closeProducer",value:function(e,r){var s=this;this.gwTransport.request("closeProducer",{producerId:e}).catch(function(r){s.ctx.logger.warn("call.closeProducer: error closing server producer",{err:`${r}`,producerId:e})}),this.emit("CALL_REMOVE_PRODUCER",{streamName:r,producerId:e,originator:"client"})}},{key:"hotswapProducer",value:(f=r(function*(e,r,s){if(this.ctx.logger.debug("calls-core/call: hotswwap producer"),null==this._streams[r]){var t="hotswapProducer on invalid stream";throw this.ctx.logger.error(t,{streamName:r}),new Error(t)}yield this._streams[r].hotswapProducer(e,s)}),function(e,r,s){return f.apply(this,arguments)})},{key:"toJSON",value:function(){return{streamNames:this.streamNames,peer:this._peer,aggregates:{support:this.ctx.support.hash,url:this.call.callUri,callId:this.call.id,userId:this.user.userId,peerId:this.peerId,isConnected:this.gwTransport.isConnected}}}}]);var f,_,y,w,E,k,S,C,b,I,P,x,A,M,N,T,L,R})(_r(d[26]).EventEmitter);_e2.Call=w,w.displayName="PvcCall";var E=function(e,r,s,t){var n,o={support:e.support.hash,client_name:y(),client_version:null!==(n=_r(d[14]).device.appVersion)&&void 0!==n?n:"",vdcVersion:_.default.version};return!!_r(d[14]).device.isImplements(_r(d[14]).Feature.LOCAL_STORAGE)&&"true"===_r(d[14]).device.localStorage.getItem("pvc:debug")&&(o.debug=!0),"string"==typeof s&&s.length>0&&!(0,f.isJwtToken)(s)&&(o.t=s),t.test&&(o.t="test"),null!=t.displayName&&(o.displayName=t.displayName),!1===t.sendAudio&&!1!==t.sendVideo?o.videoOnly=!0:!1!==t.sendAudio&&!1===t.sendVideo&&(o.audioOnly=!0),null!=t.rsrc&&(o.rsrc=t.rsrc),null!=t.xkey&&(o.xkey=t.xkey),null!=t.bpeerId&&(o.bpeerId=t.bpeerId),t.suspendPlay&&(o.sp=!0),null!=t.user&&(o.udata=!0),`${r.sfu.uri}/v3/${r.id}?${h.default.stringify(o)}`};_e2.default=(function(){var e=r(function*(e,s,t,n,o){var l,u,c,h,p,_,y,k,S=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;e.logger.debug("joining call",{id:s,options:n});var C=Object.assign({},n),b={method:"post",callId:s,failoverUrls:n.failoverUrls};null!=C.auth&&(b.auth=C.auth),null!=C.authOptions&&(b.auth=new f.default(C.authOptions)),b.query={};var I=(0,_r(d[27]).contextId)();null!=I&&(b.query.contextId=I);var P=(0,_r(d[27]).instanceId)();null!=P&&(b.query.instanceId=P),null!=(null===(l=C.sfu)||void 0===l?void 0:l.id)&&(b.query.id=null===(u=C.sfu)||void 0===u?void 0:u.id),null!=(null===(c=C.sfu)||void 0===c?void 0:c.region)&&(b.query.region=null===(h=C.sfu)||void 0===h?void 0:h.region),null!=(null===(p=C.sfu)||void 0===p?void 0:p.version)&&(b.query.version=null===(_=C.sfu)||void 0===_?void 0:_.version),null!=(null===(y=C.sfu)||void 0===y?void 0:y.pool)&&(b.query.pool=null===(k=C.sfu)||void 0===k?void 0:k.pool);var x={sfu:{msVersion:[3]}};null!=C.sfu&&(x.sfu=Object.assign({},C.sfu,{msVersion:[3]})),b.body=JSON.stringify(x);var A,M=(function(){var n=r(function*(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.logger.debug("calls-core/call:joinCall");try{var l=yield(0,v.default)(e,t,Object.assign({},b,n,{warnStatuses:[404,422]}));if(null==(null===(r=null==l?void 0:l.body)||void 0===r?void 0:r.call))throw new Error("response is null or incorrect");return l.body.call.callUri=E(e,l.body.call,l.authToken,C),e.logger.debug("joinCall() response",{response:l}),o.emit("callJoinEndpoint"),l}catch(r){var u=r instanceof Error?r.message:"unknown error";throw r instanceof Response?404===r.status?e.logger.warn("sfu unavailable",{id:s,joinUrl:t,err:u}):503===r.status&&e.logger.error("unable to join a call - no sfus available",{id:s,joinUrl:t,err:u}):e.logger.warn("unable to get sfu uri",{id:s,joinUrl:t,err:u}),r}});return function(){return n.apply(this,arguments)}})();return null!=(null==S?void 0:S.call)?(S.call.callUri=E(e,S.call,S.user.authorizeToken,C),A=S,setTimeout(function(){return o.emit("callJoinEndpoint")},0)):A=(yield M()).body,new w((0,_r(d[23]).extendContext)(e,w),A,M,C)});return function(r,s,t,n,o){return e.apply(this,arguments)}})()},667,[38,345,12,13,23,28,25,26,487,607,606,668,602,600,502,529,550,672,671,543,613,485,807,819,670,620,523,605]);
__d(function(g,r,i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),o=r(d[2]),s=r(d[3]),l=r(d[4]),n=r(d[5]),u=r(d[6]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0});var h=r(d[7]).__importDefault(r(d[8])),v=null;r(d[9]).onceDeviceReady.then(function(e){e.isImplements(r(d[10]).Feature.AUDIO_CONTEXT)&&(v=new e.AudioContext)});var _="video",p="audio",P=(function(P){function T(e,t,s,u){var h,v,_,p,P,k,S,b,y,f,O,D;o(this,T),f=this,O=n(O=T),h=l(f,c()?Reflect.construct(O,D||[],n(f).constructor):O.apply(f,D)),(0,r(d[11]).onceCanceled)(e).then(function(e){return h.dispose(`Stream Context Cancelled: ${e}`)}),h.ctx=e,h.streamName=t,h.call=s;var E=null!=u?u:{};return h._audioOptions=null!==(v=E.audio)&&void 0!==v?v:{},null!=h._audioOptions.streamProvider?(h._audioStreamProvider=null!==(_=h._audioOptions.streamProvider)&&void 0!==_?_:null,h._audioStreamProviderType=null!==(p=h._audioOptions.streamProviderType)&&void 0!==p?p:r(d[12]).CUSTOM_STREAM_TYPE):(h._audioStreamProvider=null,h._audioStreamProviderType=null),h._useEchoDetection=null!==(P=h._audioOptions.echoDetection)&&void 0!==P&&P,h._videoOptions=null!==(k=E.video)&&void 0!==k?k:{},null!=h._videoOptions.streamProvider?(h._videoStreamProvider=null!==(S=h._videoOptions.streamProvider)&&void 0!==S?S:null,h._videoStreamProviderType=null!==(b=h._videoOptions.streamProviderType)&&void 0!==b?b:r(d[12]).CUSTOM_STREAM_TYPE):(h._videoStreamProvider=null,h._videoStreamProviderType=null),h._videoProducer=null,h._audioProducer=null,h._statsInterval=null!==(y=E.statsInterval)&&void 0!==y?y:5e3,e.logger.attachObject(h),e.logger.trace("constructor()",h),h.addInnerDisposer(function(){h.close()}),h}return u(T,P),s(T,[{key:"logData",get:function(){return{streamName:this.streamName}}},{key:"audioProducer",get:function(){return this._audioProducer}},{key:"videoProducer",get:function(){return this._videoProducer}},{key:"hasVideoStreamTrack",get:function(){var e,t=null===(e=this._videoStreamProvider)||void 0===e?void 0:e.source;return null!=t&&t.getVideoTracks().length>0}},{key:"hasAudioStreamTrack",get:function(){var e,t=null===(e=this._audioStreamProvider)||void 0===e?void 0:e.source;return null!=t&&t.getAudioTracks().length>0}},{key:"setVideoStreamProvider",value:(D=t(function*(e,t,o,s){return this._setMediaStreamProvider(_,e,t,o,!1,s)}),function(e,t,o,s){return D.apply(this,arguments)})},{key:"setAudioStreamProvider",value:(O=t(function*(e,t,o,s){return this._setMediaStreamProvider(p,e,t,o,!1,s)}),function(e,t,o,s){return O.apply(this,arguments)})},{key:"checkPermissions",value:function(e){e&&!this.call.hasPermission(r(d[12]).PERMISSIONS.STREAM_VIDEO)?this.throwErrorDeprecated(new(r(d[13]).PermissionsError)("no permission to stream video",{stream:this,permissions:this.call.permissions})):e||this.call.hasPermission(r(d[12]).PERMISSIONS.STREAM_AUDIO)||this.throwErrorDeprecated(new(r(d[13]).PermissionsError)("no permission to stream audio",{stream:this,permissions:this.call.permissions}))}},{key:"_setMediaStreamProvider",value:(f=t(function*(t,o,s,l,n,u){var c,h,v;this.ctx.logger.debug("setMediaStreamRetriever",Object.assign({},this.logData,{kind:t}));var p,P=t===_,T=null,k=null;if(P?(k=this._videoStreamProvider,p=this._videoStreamProviderType,this._videoStreamProvider=o,this._videoStreamProviderType=null!==(c=s.streamType)&&void 0!==c?c:r(d[12]).CUSTOM_STREAM_TYPE,T=this._videoProducer):(k=this._audioStreamProvider,p=this._audioStreamProviderType,this._audioStreamProvider=o,this._audioStreamProviderType=null!==(h=s.streamType)&&void 0!==h?h:r(d[12]).CUSTOM_STREAM_TYPE,T=this._audioProducer),!l)return null;if(this.checkPermissions(P),null!=T&&!T.closed){var S,b;null!=T.track&&T.track.stop();try{if(null==(S=o.source))return this.ctx.logger.error("Stream provider returned null",Object.assign({},this.logData,{kind:t})),null}catch(e){var y=e instanceof Error?e.message:"unknown error";if(this.ctx.logger.warn("Unable to get media stream",Object.assign({err:y},this.logData,{kind:t})),!n&&null!=k)try{var f=Object.assign({},s,{streamType:null!=p?p:r(d[12]).CUSTOM_STREAM_TYPE});yield this._setMediaStreamProvider(t,k,f,!0,!0,!1)}catch(e){this.emitErrorDeprecated(new(r(d[13]).InternalError)(`Unable to revert media stream: ${t}`,{}))}throw e}if(P){var O=S.getVideoTracks();b=e(O,1)[0]}else{var D=S.getAudioTracks();b=e(D,1)[0]}if(this.ctx.logger.info("replacing producer track",Object.assign({},this.logData,{kind:t,trackLabel:null==b?void 0:b.label,trackState:null==b?void 0:b.readyState,settings:null!=(null==b?void 0:b.getSettings)?b.getSettings():null,capabilities:null!=(null==b?void 0:b.getCapabilities)?b.getCapabilities():null,constraints:null!=(null==b?void 0:b.getConstraints)?b.getConstraints():null})),null==b)throw this.ctx.logger.error("stream has no tracks of this kind",Object.assign({},this.logData,{kind:t,stream:S})),new Error("Unable to get track");return yield T.replaceTrack({track:b}),T.paused&&(T.resume(),this.call._resumeProducer(T.id,this.streamName)),this.call.emit("CALL_SET_PRODUCER_TRACK",{streamName:this.streamName,streamType:null!==(v=s.streamType)&&void 0!==v?v:r(d[12]).CUSTOM_STREAM_TYPE,producerId:T.id,track:b}),T}this.ctx.logger.info("cannot replaceTrack, so resetting producer",Object.assign({},this.logData));try{T=yield this._setProducer(t,s,u)}catch(e){this.ctx.logger.warn("unable to set new producer",Object.assign({},this.logData,{kind:t}))}return T}),function(e,t,o,s,l,n){return f.apply(this,arguments)})},{key:"_setProducer",value:(y=t(function*(t,o){var s,l,n,u,c,P,T,k,S,b,y,f,O,D=this,E=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],N=t===_;this.checkPermissions(N);try{if(N){w||null==(null===(s=this._videoProducer)||void 0===s?void 0:s.track)||this._videoProducer.track.stop(),null==this._videoStreamProvider&&this.throwErrorDeprecated(new(r(d[13]).RetrievingMediaStreamError)("videoStreamProvider is not provided",{streamName:this.logData.streamName,mediaKind:t}));var A=this._videoStreamProvider.source;null==A&&this.throwErrorDeprecated(new(r(d[13]).RetrievingMediaStreamError)("videoStreamProvider returned null",{streamName:this.logData.streamName,mediaKind:t})),O=A,this.ctx.logger.debug("retrieve a new video stream",{stream:O})}else{w||null==(null===(l=this._audioProducer)||void 0===l?void 0:l.track)||this._audioProducer.track.stop(),null==this._audioStreamProvider&&this.throwErrorDeprecated(new(r(d[13]).RetrievingMediaStreamError)("audioStreamProvider is not provided",{streamName:this.logData.streamName,mediaKind:t}));var M=this._audioStreamProvider.source;null==M&&this.throwErrorDeprecated(new(r(d[13]).RetrievingMediaStreamError)("audioStreamProvider returned null",{streamName:this.logData.streamName,mediaKind:t})),O=M,this.ctx.logger.debug("retrieve a new audio stream",{stream:O})}}catch(V){var x=V instanceof Error?V.message:"unknown error";throw this.ctx.logger.warn("Unable to get media stream",Object.assign({err:x},this.logData,{kind:t})),V}var j,R,C=!1;if(N){var I=O.getVideoTracks();j=e(I,1)[0];var U={streamName:this.streamName,userId:this.call.user.userId,trackEnabled:null==j?void 0:j.enabled,displayName:this.call.user.displayName};if(N&&r(d[9]).device.isImplements(r(d[10]).Feature.SCREEN_ORIENTATION)&&(U.orientation=r(d[9]).device.screenOrientation),null==j){var V=new Error("stream.getVideoTracks()[0] is undefined");throw this.ctx.logger.warn("Unable to get media track",Object.assign({err:null==V?void 0:V.message},this.logData,{kind:t})),V}if(!this._videoProducer||w||r(d[9]).device.isIosDevice)R=yield this.call.createProducer(j,o,U);else try{yield this._videoProducer.replaceTrack({track:j}),R=this._videoProducer,C=!0}catch(V){var Y=V instanceof Error?V.message:"unknown error";this.ctx.logger.warn("Unable to replace track",Object.assign({err:Y},this.logData,{kind:t})),R=yield this.call.createProducer(j,o,U)}}else{var G,L={streamName:this.streamName,userId:this.call.user.userId,displayName:this.call.user.displayName};if(this._useEchoDetection&&null!=(null==v?void 0:v.createMediaStreamSource)&&null!=(null==v?void 0:v.createMediaStreamDestination)&&null!=this._gainNode){v.createMediaStreamSource(O).connect(this._gainNode);var $=v.createMediaStreamDestination();this._gainNode.connect($);var B=$.stream.getAudioTracks();j=e(B,1)[0];var K=O.getAudioTracks();G=e(K,1)[0]}else{var F=O.getAudioTracks();j=e(F,1)[0]}if(null==j){var H=new Error("stream.getAudioTracks()[0] is undefined");throw this.ctx.logger.warn("Unable to get media track",Object.assign({err:null==H?void 0:H.message},this.logData,{kind:t})),H}if(this._audioProducer&&!w)try{yield this._audioProducer.replaceTrack({track:j}),R=this._audioProducer,C=!0}catch(V){var J=V instanceof Error?V.message:"unknown error";this.ctx.logger.warn("Unable to replace track",Object.assign({err:J},this.logData,{kind:t})),(R=yield this.call.createProducer(j,o,L)).appData.parallelTrack=G}else(R=yield this.call.createProducer(j,o,L)).appData.parallelTrack=G}var W=null;if(N)C||(W=this._videoProducer,this._videoProducer=R);else if(C||(W=this._audioProducer,this._audioProducer=R),this._useEchoDetection)try{this._echoDetector=new h.default(R.track),null===(n=this._echoDetector)||void 0===n||n.on("echo",function(){var e;D.ctx.logger.debug(`echo detected at ${Date.now()}. Gain at ${null===(e=D._gainNode)||void 0===e?void 0:e.gain.value}`,Object.assign({},D.logData)),D._reduceGain()}),null===(u=this._echoDetector)||void 0===u||u.on("noecho",function(){var e;D.ctx.logger.debug(`echo stopped at ${Date.now()}. Gain at ${null===(e=D._gainNode)||void 0===e?void 0:e.gain.value}`,Object.assign({},D.logData)),D._restoreGain()})}catch(V){var X=V instanceof Error?V.message:"unknown error";this.ctx.logger.error("unable to set up echo detector",Object.assign({err:X},this.logData))}var q=function(e){D.ctx.logger.debug(e,Object.assign({},D.logData)),null!=R.appData.parallelTrack&&R.appData.parallelTrack.stop();var t="";N&&null!=D._videoProducer?(t=D._videoProducer.id,D._videoProducer=null):null!=D._audioProducer&&(t=D._audioProducer.id,D._audioProducer=null),D.call._closeProducer(t,D.streamName)};return null==R||R.once("transportclose",function(){return q("producer transportclose")}),null==R||R.once("trackended",function(){return q("producer trackended")}),this.call._closed||(N?(this.call._removeMessage(r(d[14]).TROUBLESHOOTING.NO_WEBCAM),this.call.emit("CALL_ADD_PRODUCER",{streamerName:this.streamName,producer:{id:R.id,kind:_,streamName:this.streamName,streamType:null!==(c=o.streamType)&&void 0!==c?c:r(d[12]).CUSTOM_STREAM_TYPE,paused:R.paused,track:R.track,codec:null!==(k=null===(T=null===(P=R.rtpParameters)||void 0===P?void 0:P.codecs[0])||void 0===T?void 0:T.mimeType.split("/")[1])&&void 0!==k?k:"",preview:E}})):(this.call._removeMessage(r(d[14]).TROUBLESHOOTING.NO_MIC),this.call.emit("CALL_ADD_PRODUCER",{streamerName:this.streamName,producer:{id:R.id,kind:p,streamName:this.streamName,streamType:null!==(S=o.streamType)&&void 0!==S?S:r(d[12]).CUSTOM_STREAM_TYPE,paused:R.paused,track:R.track,codec:null!==(f=null===(y=null===(b=R.rtpParameters)||void 0===b?void 0:b.codecs[0])||void 0===y?void 0:y.mimeType.split("/")[1])&&void 0!==f?f:"",preview:E}})),this.ctx.logger.debug("producer set",Object.assign({},this.logData,{kind:t,producerId:R.id}))),null==W||W.closed||(W.close(),this.call._closeProducer(W.id,this.streamName)),R}),function(e,t){return y.apply(this,arguments)})},{key:"disableAudio",value:function(){if(null!=this._audioProducer){this.ctx.logger.debug("disableAudio",Object.assign({},this.logData));try{this._audioProducer.close()}catch(t){var e=t instanceof Error?t.message:"unknown error";throw this.ctx.logger.error("unable to close audio producer",Object.assign({err:e},this.logData)),t}this.call._closeProducer(this._audioProducer.id,this.streamName),this._audioProducer=null}else this.ctx.logger.warn("stream.disableAudio: calling disableAudio without an audio producer",Object.assign({},this.logData))}},{key:"pauseAudio",value:function(){null!=this._audioProducer?(this.ctx.logger.debug("pauseAudio",Object.assign({},this.logData)),this._audioProducer.pause(),this.call._pauseProducer(this._audioProducer.id,this.streamName)):this.ctx.logger.warn("stream.pauseAudio: calling pauseAudio without an audio producer",Object.assign({},this.logData))}},{key:"enableAudio",value:(b=t(function*(){var e,t,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ctx.logger.debug("enableAudio",Object.assign({},this.logData)),null==this._audioProducer||this._audioProducer.closed||l){if(null==this._audioStreamProvider){var u="no default audio stream retriever";throw this.ctx.logger.error(u,Object.assign({},this.logData)),new Error(u)}try{var c=Object.assign({},s,{streamType:null!==(e=this._videoStreamProviderType)&&void 0!==e?e:r(d[12]).CUSTOM_STREAM_TYPE});yield this._setProducer(p,c,n)}catch(e){var h=e instanceof Error?e.message:"unknown error";throw this.ctx.logger.warn("unable to set up audio producer",Object.assign({err:h},this.logData)),e}(null===(o=null===(t=this._audioProducer)||void 0===t?void 0:t.track)||void 0===o?void 0:o.enabled)||this.pauseAudio()}else this._audioProducer.resume(),this.call._resumeProducer(this._audioProducer.id,this.streamName)}),function(){return b.apply(this,arguments)})},{key:"enableVideo",value:(S=t(function*(){var e,t,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ctx.logger.debug("enableVideo",Object.assign({},this.logData,{options:s,refresh:l,preview:n})),null==this._videoProducer||this._videoProducer.closed||l){if(null==this._videoStreamProvider){var u="no default video stream retriever";throw this.ctx.logger.error(u,Object.assign({},this.logData)),new Error(u)}try{var c=Object.assign({},s,{streamType:null!==(e=this._videoStreamProviderType)&&void 0!==e?e:r(d[12]).CUSTOM_STREAM_TYPE});yield this._setProducer(_,c,n)}catch(e){var h=e instanceof Error?e.message:"unknown error";throw this.ctx.logger.warn("unable to set up video producer",Object.assign({err:h},this.logData)),e}(null===(o=null===(t=this._videoProducer)||void 0===t?void 0:t.track)||void 0===o?void 0:o.enabled)||this.pauseVideo()}else this._videoProducer.resume(),this.call._resumeProducer(this._videoProducer.id,this.streamName)}),function(){return S.apply(this,arguments)})},{key:"disableVideo",value:function(){if(null!=this._videoProducer){this.ctx.logger.debug("disableVideo",Object.assign({},this.logData));try{this._videoProducer.close()}catch(t){var e=t instanceof Error?t.message:"unknown error";throw this.ctx.logger.error("unable to close video producer",Object.assign({err:e},this.logData)),t}this.call._closeProducer(this._videoProducer.id,this.streamName),this._videoProducer=null}else this.ctx.logger.warn("stream.disableVideo: calling disable video without a video producer",Object.assign({},this.logData))}},{key:"pauseVideo",value:function(){null!=this._videoProducer?(this.ctx.logger.debug("pauseVideo",Object.assign({},this.logData)),this._videoProducer.pause(),this.call._pauseProducer(this._videoProducer.id,this.streamName)):this.ctx.logger.warn("stream.pauseVideo: calling pause video without a video producer",Object.assign({},this.logData))}},{key:"hotswapProducer",value:(k=t(function*(e,t){var o,s;try{null==t.streamType&&(t.streamType="video"===e?null!==(o=this._videoStreamProviderType)&&void 0!==o?o:r(d[12]).CUSTOM_STREAM_TYPE:null!==(s=this._audioStreamProviderType)&&void 0!==s?s:r(d[12]).CUSTOM_STREAM_TYPE),yield this._setProducer(_,t,!1,!0)}catch(o){var l=o instanceof Error?o.message:"unknown error";throw this.ctx.logger.warn("unable to hotswap producer",Object.assign({kind:e,producerOptions:t,err:l},this.logData)),o}}),function(e,t){return k.apply(this,arguments)})},{key:"_reduceGain",value:function(){var e,t;null!=this._gainNode&&(this._gainNode.gain.cancelScheduledValues(null!==(e=null==v?void 0:v.currentTime)&&void 0!==e?e:0),this._gainNode.gain.exponentialRampToValueAtTime(.5,null!==(t=null==v?void 0:v.currentTime)&&void 0!==t?t:0))}},{key:"_restoreGain",value:function(){var e,t;null!=this._gainNode&&null!=this._baseGainValue&&(this._gainNode.gain.cancelScheduledValues(null!==(e=null==v?void 0:v.currentTime)&&void 0!==e?e:0),this._gainNode.gain.exponentialRampToValueAtTime(this._baseGainValue,(null!==(t=null==v?void 0:v.currentTime)&&void 0!==t?t:0)+30))}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!=this._audioProducer&&(e&&this.call._closeProducer(this._audioProducer.id,this.streamName),this._audioProducer.close(),this._audioProducer=null),null!=this._videoProducer&&(e&&this.call._closeProducer(this._videoProducer.id,this.streamName),this._videoProducer.close(),this._videoProducer=null),null!=this._echoDetector&&(this._echoDetector.close(),this._echoDetector=null)}},{key:"toJSON",value:function(){var e,t;return{audioProducer:null==this.audioProducer?null:{id:this.audioProducer.id,closed:this.audioProducer.closed,paused:this.audioProducer.paused,trackId:null===(e=this.audioProducer.track)||void 0===e?void 0:e.id},videoProducer:null==this.videoProducer?null:{id:this.videoProducer.id,closed:this.videoProducer.closed,paused:this.videoProducer.paused,trackId:null===(t=this.videoProducer.track)||void 0===t?void 0:t.id},aggregates:Object.assign({support:this.ctx.support.hash},(0,r(d[15]).extractAggregates)(this.call),{streamName:this.streamName})}}}]);var k,S,b,y,f,O,D})(r(d[16]).ObservableEventEmitter);P.displayName="PvcStream",_e2.default=P},668,[38,345,12,13,23,25,28,487,669,502,486,550,670,543,671,544,528]);
__d(function(g,r,_i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),o=r(d[2]),i=r(d[3]),n=r(d[4]),s=r(d[5]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0});var u=function(){var e;!0===r(d[6]).device.globals.get("printOutput")&&r(d[6]).device.isImplements(r(d[7]).Feature.DEBUGGING)&&(e=r(d[6]).device.console).log.apply(e,arguments)},c=(function(c){function h(e){var o,s,u,c;if(t(this,h),s=this,u=n(u=h),(o=i(s,l()?Reflect.construct(u,c||[],n(s).constructor):u.apply(s,c))).total=0,o.echo=!1,o._history=[],o._currBucket=0,!r(d[6]).device.isImplements(r(d[7]).Feature.AUDIO_CONTEXT))throw new Error("Audio management is not supported");if(o._audioContext=new(r(d[6]).device.AudioContext),o._analyserNode=o._audioContext.createAnalyser(),o._processorNode=o._audioContext.createScriptProcessor(),o._dataArray=new(r(d[6]).device.Uint8Array)(o._analyserNode.fftSize),o._analyserNode.smoothingTimeConstant=.4,o._analyserNode.fftSize=64,o._processorNode.onaudioprocess=function(){var e;o._analyserNode.getByteTimeDomainData(o._dataArray);var t=Date.now(),i=Math.floor(t/1e3);o._currBucket!==i&&(o._history.length>2&&(o._history=o._history.slice(1,o._history.length),o.runAnalysis()),o._history.push([]),o._currBucket=i),null===(e=o._history[o._history.length-1])||void 0===e||e.push(o.dataResult()),o.total+=1},!r(d[6]).device.isImplements(r(d[7]).Feature.MEDIA_STREAM))throw new Error("media stream is not implemented");return o._mediaStream=new(r(d[6]).device.MediaStream),o._mediaStream.addTrack(e),o._mediaStreamSource=o._audioContext.createMediaStreamSource(o._mediaStream),o._mediaStreamSource.connect(o._analyserNode),o._analyserNode.connect(o._processorNode),o}return s(h,c),o(h,[{key:"close",value:function(){this._audioContext.close()}},{key:"dataResult",value:function(){for(var e=null,t=null,o=0,i=0;i<this._dataArray.length;i+=1){var n=this._dataArray[i];(null==e||n<e)&&(e=n),(null==t||n>t)&&(t=n),o+=n}return{lowest:e,highest:t,total:this._dataArray.length,sum:o,average:o/this._dataArray.length}}},{key:"runAnalysis",value:function(){var t,o,i,n=0,s=0,l=0,c=[];for(var h of this._history.entries()){var _=e(h,2),y=_[0],v=_[1];for(var f of v.entries()){var p=e(f,2),A=p[0],S=p[1],N=this._history[y-1];if(null!=N){var w=null!==(t=v[A-1])&&void 0!==t?t:N[N.length-1];if(null!=w){var E=null!==(o=S.highest)&&void 0!==o?o:0,C=null!==(i=w.highest)&&void 0!==i?i:0;if(E>=C-.09*Math.abs(C))E<=C+.09*Math.abs(C)?(l+=1,c.push("s")):(n+=1,c.push("i"));else s+=1,c.push("d")}}}}var M=n+s,k=M+l;M/k>.4?this.echo||(this.echo=!0,this.emit("echo")):this.echo&&(this.echo=!1,this.emit("noecho")),u(`${c.join("")} - (${n}/${s}/${l}) (${M})/${k})`)}}])})(r(d[8]).EventEmitter);c.displayName="EchoDetector",_e.default=c},669,[38,12,13,23,25,28,502,486,523]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CUSTOM_STREAM_TYPE=e.PERMISSIONS=void 0,e.PERMISSIONS={STREAM_VIDEO:"produceVideo",STREAM_AUDIO:"produceAudio",CHANGE_PEER_SCOPE:"changePeerScope"},e.CUSTOM_STREAM_TYPE="custom"},670,[]);
__d(function(g,r,i,_a,m,e,d){"use strict";var n=r(d[0]),s=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.disconnectedMessages=e.offlineMessages=e.PEER_MESSAGES=e.TROUBLESHOOTING=e.MessageList=void 0;var o=(function(){return s(function s(){n(this,s),this._messages={}},[{key:"addMessage",value:function(n){this._messages[n.code]=n}},{key:"removeMessage",value:function(n){delete this._messages[n.code]}},{key:"messages",get:function(){var n=this;return Object.keys(this._messages).map(function(s){return n._messages[parseInt(s,10)]}).sort(function(n,s){return n.code-s.code})}}])})();e.MessageList=o,o.displayName="MessageList";var t=new o;e.offlineMessages=t,t.addMessage({code:1001,type:"network",level:"error",message:"Internet disconnected",explanation:"Check your internet connection and reconnect to the network"});var a=new o;e.disconnectedMessages=a,a.addMessage({code:1002,type:"network",level:"error",message:"Call disconnected",explanation:"Please wait while the call reconnects"});e.TROUBLESHOOTING={NO_WEBCAM:{code:1003,type:"webcam",level:"warn",message:"No webcam found",explanation:"Make sure your webcam is connected and your browser has permission to use it"},NO_MIC:{code:1004,type:"microphone",level:"warn",message:"No microphone found",explanation:"Make sure your microphone is connected and your browser has permission to use it"},NETWORK_FIREWALLED:{code:1005,type:"network",level:"error",message:"Connection blocked by firewall",explanation:"Disable firewall"},UNSTABLE_NETWORK:{code:1006,type:"network",level:"warn",message:"Unstable connection",explanation:"If on wifi, try connecting to a stronger network"},WEBRTC_RECV_DISCONNECTED:{code:1007,type:"network",level:"error",message:"Unable to receive stream",explanation:"If on wifi, try connecting to a stronger network"},WEBRTC_SEND_DISCONNECTED:{code:1008,type:"network",level:"warn",message:"Unable to send stream",explanation:"If on wifi, try connecting to a stronger network"},ONE_TO_ONE_PEER_DISCONNECTED:{code:1009,type:"network",level:"error",message:"Peer disconnected",explanation:"Please wait for the other user to come back online"}};e.PEER_MESSAGES={UNSTABLE_PEER:{code:2001,type:"network",level:"error",message:"This user's connection is unstable"}}},671,[12,13]);
__d(function(g,r,i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),o=r(d[4]),l=r(d[5]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.GwTransport=_e2.GwTransportOptions=void 0;var u=r(d[6]).__importStar(r(d[7]));_e2.GwTransportOptions=r(d[8]).z.object({clientPing:r(d[8]).z.boolean().default(!0).describe("Whether to send a ping message to the server"),pingInterval:r(d[8]).z.number().min(500).max(6e4).default(5e3).describe("The interval in milliseconds to send a ping message to the server (0 - disabled)"),pingTimeout:r(d[8]).z.number().min(500).max(6e4).default(5e3).describe("The timeout in milliseconds to wait for a pong message from the server"),responseTimeout:r(d[8]).z.number().min(500).max(6e4).default(5e3).describe("The timeout in milliseconds to wait for a response from the server"),connectingTimeout:r(d[8]).z.number().min(500).max(6e4).default(5e3).describe("The timeout in milliseconds to wait for the connection to the server"),maxRetries:r(d[8]).z.number().min(1).max(1/0).default(1/0).describe("The maximum number of retries to connect to the server"),retryDelay:r(d[8]).z.array(r(d[8]).z.tuple([r(d[8]).z.number().min(0).max(6e4),r(d[8]).z.number().min(0).max(6e5)])).default([[100,6e5],[15,1e4],[5,1e3],[0,500]]).describe("The delay in milliseconds to wait before retrying to connect to the server after a failed attempt")});var v=(function(v){function h(e){var n,l,u,v;return t(this,h),l=this,u=o(u=h),(n=s(l,c()?Reflect.construct(u,v||[],o(l).constructor):u.apply(l,v))).ctx=e,n.websocket=null,(0,r(d[9]).makeBounded)(n),n.sf=r(d[10]).GwStateFlow.initialize(n),r(d[11]).device.addEventListener("offline",n.handleOffline),r(d[11]).device.addEventListener("online",n.handleOnline),r(d[11]).device.addEventListener("visibilitychange",n.handleVisibilityChange),n}return l(h,v),n(h,[{key:"isConnected",get:function(){return u.Connected.is(this.sf.websocket)}},{key:"isConnecting",get:function(){return u.Connecting.is(this.sf.websocket)}},{key:"initStateFlow",value:function(e){e.handleExit(u.Connected,this.onDisconnecting),e.handleEnter(u.Connecting,this.onConnecting),e.handleEnter(u.Connected,this.onConnected),e.onCommit(u.Closed,this.onClosed)}},{key:"options",value:function(e){this.sf.dispatch("options",_e2.GwTransportOptions.parse(e)).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}},{key:"connect",value:(k=e(function*(t,n){var s=this;return new Promise((function(){var o=e(function*(e,o){var l,c=yield s.sf.dispatchAsync("connect",{uri:t});c.ok?(s.once("connect",e),s.once("connectError",o),null!=(null==n?void 0:n.jwt)&&(yield s.request("JWT",{token:n.jwt}))):s.sf.dispatch("error",{reason:null!==(l=c.message)&&void 0!==l?l:void 0}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)});return function(e,t){return o.apply(this,arguments)}})())}),function(e,t){return k.apply(this,arguments)})},{key:Symbol.dispose,value:function(){r(d[11]).device.removeEventListener("offline",this.handleOffline),r(d[11]).device.removeEventListener("online",this.handleOnline),r(d[11]).device.removeEventListener("visibilitychange",this.handleVisibilityChange),null!=this.websocket&&(this.removeWebsocketListeners(this.websocket),this.websocket=null)}},{key:"finish",value:function(){this.sf.dispatch("finish",{}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}},{key:"send",value:function(e,t){var n=this;if((0,r(d[12]).isTransitioning)(this.sf.websocket))throw(0,r(d[13]).createError)(r(d[14]).ErrorCode.WebSocketInTransit,"The websocket state is in transit",{uri:this.sf.websocket.uri,event:e});this.sf.dispatch("messageSend",{event:e,data:t},function(){return null==n.websocket?r(d[12]).Result.reject("no websocket"):(n.websocket.send(JSON.stringify({event:e,data:t})),r(d[12]).Result.ok())}).expect(r(d[12]).ResultKind.OK)}},{key:"request",value:(p=e(function*(e,t){var n=this;if((0,r(d[12]).isTransitioning)(this.sf.websocket))throw(0,r(d[13]).createError)(r(d[14]).ErrorCode.WebSocketInTransit,"The websocket state is in transit",{uri:this.sf.websocket.uri,event:"request"});return new Promise(function(s,o){try{n.sf.dispatch("requestSend",{type:e,payload:t,resolve:s,reject:o},function(s){return null==n.websocket?r(d[12]).Result.reject("no websocket"):(n.websocket.send(JSON.stringify({event:"request",data:{requestId:s.websocket.requestId,type:e,request:t}})),r(d[12]).Result.ok())}).expect(r(d[12]).ResultKind.OK)}catch(e){o(e)}})}),function(e,t){return p.apply(this,arguments)})},{key:"onConnecting",value:function(e){var t=this,n=e.websocket,s=new WebSocket(n.uri);return r(d[12]).Result.transition(new Promise(function(e,n){var o=function(){s.removeEventListener("open",o),t.websocket=s,t.addWebsocketListeners(s),e(r(d[12]).Result.ok())};s.addEventListener("open",o);var l=function(n){s.removeEventListener("close",l),e(r(d[12]).Result.reject(`websocket closed: ${n.code}; attempt: ${t.sf.websocket.attempt}`))};s.addEventListener("close",l)}),n.options.connectingTimeout)}},{key:"onConnected",value:function(e){return e.websocket.options.clientPing&&(0,r(d[15]).setInterval)(this.ping,this.sf.websocket.options.pingInterval),this.emit("connect"),r(d[12]).Result.ok()}},{key:"onDisconnecting",value:function(e){return null==this.websocket?r(d[12]).Result.ignore("no websocket"):((0,r(d[15]).removeInterval)(this.ping),this.removeWebsocketListeners(this.websocket),this.websocket.close(3e3),r(d[12]).Result.ok())}},{key:"onClosed",value:function(e){return e.websocket.nextRetry>0?((0,r(d[15]).setTimeout)(this.connect.bind(this,e.websocket.uri),e.websocket.nextRetry),r(d[12]).Result.ok()):r(d[12]).Result.ignore("no retry")}},{key:"handleOffline",value:function(){this.sf.dispatch("networkOffline",{}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}},{key:"handleOnline",value:(f=e(function*(){var e,t=yield this.sf.dispatchAsync("networkOnline",{});t.ok||this.sf.dispatch("error",{reason:null!==(e=t.message)&&void 0!==e?e:void 0}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}),function(){return f.apply(this,arguments)})},{key:"handleVisibilityChange",value:function(){}},{key:"addWebsocketListeners",value:function(e){e.addEventListener("close",this.wsClose),e.addEventListener("message",this.wsMessage),e.addEventListener("error",this.wsError)}},{key:"removeWebsocketListeners",value:function(e){e.removeEventListener("close",this.wsClose),e.removeEventListener("message",this.wsMessage),e.removeEventListener("error",this.wsError)}},{key:"wsClose",value:function(){this.sf.dispatch("internalClose",{reason:"ws close event"}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}},{key:"wsMessage",value:function(e){var t,n,s,o,l,c,u,v,h;if((0,r(d[12]).isTransitioning)(this.sf))r(d[11]).device.setTimeout(this.wsMessage.bind(this,e),50);else if("pong"!==e.data)if("ping"!==e.data&&"0"!==e.data){var f;try{f=JSON.parse(e.data)}catch(t){var p=t instanceof Error?t.stack:"unknown error";return void this.ctx.logger.error("websocket parse error",{data:null==e?void 0:e.data,uri:this.sf.websocket.uri,err:p})}if("ready"===f.event){var k=this.sf.dispatch("ready",{});if(!k.ok&&k.kind!==r(d[12]).ResultKind.Ignored)return}if("ping"!==f.event)if("request"!==f.event){if("callError"===f.event){var w,b,y="unknown";try{b=null!==(o=null===(s=null==(w=JSON.parse(null==e?void 0:e.data))?void 0:w.data)||void 0===s?void 0:s.reason)&&void 0!==o?o:"unknown",y=(null===(c=null===(l=null==w?void 0:w.data)||void 0===l?void 0:l.causes)||void 0===c?void 0:c.length)>0?(null!==(u=w.data.causes.map(function(e){return e.message}))&&void 0!==u?u:[]).join("; "):null!==(h=null===(v=null==w?void 0:w.data)||void 0===v?void 0:v.errorMessage)&&void 0!==h?h:"unknown"}catch(e){}return this.ctx.logger.error(`Call Error: ${y}`,{data:w,uri:this.sf.websocket.uri,event:f.event}),(0,r(d[12]).isTransitioning)(this.sf.websocket)||this.sf.dispatch("error",{message:y,reason:b}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored),void this.emit("connectError",y)}var R;if(String(f.event).startsWith("response-"))this.onServerResponse((R=f.event,Number(String(R).split("-",2)[1])),f);else this.emit(`message:${f.event}`,f.data)}else this.onServerRequest(f);else null===(n=this.websocket)||void 0===n||n.send("pong")}else null===(t=this.websocket)||void 0===t||t.send("pong");else this.sf.dispatch("pong",{}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}},{key:"wsError",value:function(e){this.sf.dispatch("error",{}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}},{key:"ping",value:function(){var e=this;this.sf.dispatch("ping",{},function(){return null!=e.websocket?(e.websocket.send("ping"),r(d[12]).Result.ok()):r(d[12]).Result.ignore("no websocket")}).ok||this.sf.dispatch("internalClose",{reason:"ping failed"}).expect(r(d[12]).ResultKind.OK,r(d[12]).ResultKind.Ignored)}},{key:"onServerResponse",value:function(e,t){var n=this.sf.websocket.requestPool[e];null!=n?this.sf.dispatch("responseReceive",{id:e,response:t},function(){var e;if(null!=t.reasons&&t.reasons.length>0){var s=null===(e=t.reasons[0])||void 0===e?void 0:e.text,o=new Error(`request error: ${s}`);return n.reject(o),r(d[12]).Result.ok()}return n.resolve(t.data),r(d[12]).Result.ok()}).expect(r(d[12]).ResultKind.OK):this.ctx.logger.error(`transport: Request with id ${e} not found`,{response:t})}},{key:"onServerRequest",value:function(e){var t=this,n=e.data,s=n.method,o=n.requestId,l=n.request;if(Number.isNaN(o))this.ctx.logger.error("transport: Invalid request from server",{json:e});else{this.emit(`request:${s}`,l,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.send("response",{requestId:o,response:e,error:n})})}}}]);var f,p,k})(r(d[16]).EventEmitter);_e2.GwTransport=v},672,[345,12,13,23,25,28,487,673,795,529,805,502,675,613,485,806,523]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),n=_r(d[2]);function r(e){var t=o(e,"string");return"symbol"==typeof t?t:t+""}function o(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function s(e,t){return t>=e.maxRetries?-1:e.retryDelay.reduce(function(e,r){var o=n(r,2),s=o[0],i=o[1];return t>=s?i:e},500)}function i(e,t){var n=e.websocket;return"sfu-busy"===t.reason?(0,_e.NotConnected)(n):(0,_e.Closed)(Object.assign({},n,{nextRetry:s(n.options,n.attempt),attempt:n.attempt+1}))}function u(e,t){var n=e.websocket;return(0,_e.Connecting)(Object.assign({},n,{uri:t.uri}))}function c(e,n){var r=e.websocket,o=r.requestId+1;return{requestId:o,requestPool:Object.assign({},r.requestPool,t({},o,{resolve:n.resolve,reject:n.reject,type:n.type,timestamp:Date.now()}))}}function p(t,n){var o=t.websocket.requestPool,s=n.id;o[s];return{requestPool:e(o,[s].map(r))}}function l(t,n){var o=t.websocket.requestPool,s=n.id;o[s];return{requestPool:e(o,[s].map(r))}}function b(e,t){var n=e.websocket;return(0,_e.NotConnected)({attempt:0,nextRetry:0,lastPing:0,lastPong:0,uri:"",requestId:0,requestPool:{},options:n.options})}Object.defineProperty(_e,"__esModule",{value:!0}),_e.Closed=_e.Suspended=_e.Connected=_e.Connecting=_e.NotConnected=_e.WebsocketGroup=void 0,_e.WebsocketGroup=_r(d[3]).GwStateFlow.registerGroup("websocket").bootstrap(function(){return(0,_e.NotConnected)({uri:"",nextRetry:0,attempt:0,lastPing:0,lastPong:0,requestId:0,requestPool:{},options:_r(d[4]).GwTransportOptions.parse({})})}),_e.NotConnected=_e.WebsocketGroup.registerState("notConnected",{ready:function(){return _r(d[5]).Result.reject("invalid state: not connected")},connect:u,options:function(e,t){var n=e.websocket;return Object.assign({},n,{options:Object.assign({},t)})}}),_e.Connecting=_e.WebsocketGroup.registerState("connecting",{ready:function(e,t){var n=e.websocket;return(0,_e.Connected)(Object.assign({},n,{nextRetry:0,attempt:0}))},requestSend:function(e,t){return"JWT"===t.type?c(e,t):_r(d[5]).Result.reject("Only JWT methods are allowed for auth while in the connecting state")},responseReceive:p,responseTimeout:l,error:i,finish:b}),_e.Connected=_e.WebsocketGroup.registerState("connected",{networkOffline:function(e,t){var n=e.websocket;return(0,_e.Suspended)(Object.assign({},n))},ping:function(e,t){var n=e.websocket;return Object.assign({},n,{lastPing:Date.now()})},pong:function(e,t){var n=e.websocket;return Object.assign({},n,{lastPong:Date.now()})},finish:b,messageSend:function(e,t){return{requestId:e.websocket.requestId+1}},requestSend:c,responseReceive:p,responseTimeout:l,internalClose:function(e){var t=e.websocket;return(0,_e.Closed)(t)},error:i}),_e.Suspended=_e.WebsocketGroup.registerState("suspended",{ready:function(){return _r(d[5]).Result.reject("invalid state: suspended")},networkOnline:function(e,t){var n=e.websocket;return(0,_e.Connecting)(n)},finish:b,error:i}),_e.Closed=_e.WebsocketGroup.registerState("closed",{ready:function(){return _r(d[5]).Result.reject("invalid state: closed")},connect:u,connectFailed:function(e){var t=e.websocket;return(0,_e.Closed)(Object.assign({},t,{nextRetry:s(t.options,t.attempt),attempt:t.attempt+1}))},finish:b,error:i})},673,[135,194,38,674,672,675]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GwStateFlow=void 0,e.GwStateFlow=new(r(d[0]).StateFlow)},674,[675]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cloneState=e.isTransitioning=e.getStateName=e.MergedError=e.StateFlow=e.SignalType=e.createSignal=e.ResultKind=e.Result=void 0;var t=r(d[0]).__importDefault(r(d[1]));void 0===Symbol.dispose&&Object.defineProperty(Symbol,"dispose",{value:t.default}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return r(d[2]).Result}}),Object.defineProperty(e,"ResultKind",{enumerable:!0,get:function(){return r(d[2]).ResultKind}}),Object.defineProperty(e,"createSignal",{enumerable:!0,get:function(){return r(d[3]).createSignal}}),Object.defineProperty(e,"SignalType",{enumerable:!0,get:function(){return r(d[3]).SignalType}}),Object.defineProperty(e,"StateFlow",{enumerable:!0,get:function(){return r(d[4]).StateFlow}}),Object.defineProperty(e,"MergedError",{enumerable:!0,get:function(){return r(d[5]).MergedError}}),Object.defineProperty(e,"getStateName",{enumerable:!0,get:function(){return r(d[5]).getStateName}}),Object.defineProperty(e,"isTransitioning",{enumerable:!0,get:function(){return r(d[5]).isTransitioning}}),Object.defineProperty(e,"cloneState",{enumerable:!0,get:function(){return r(d[5]).cloneState}})},675,[487,676,720,794,724,721]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports=r(d[1])},676,[677,718]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])},677,[678]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])('dispose')},678,[679]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(o){var t=r(d[0]).Symbol||(r(d[0]).Symbol={});r(d[1])(t,o)||r(d[2]).f(t,o,{value:r(d[3]).f(o)})}},679,[680,681,688,717]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={}},680,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])({}.hasOwnProperty);m.exports=Object.hasOwn||function(n,s){return t(r(d[1])(n),s)}},681,[682,685]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=Function.prototype,t=n.call,o=r(d[0])&&n.bind.bind(t,t);m.exports=r(d[0])?o:function(n){return function(){return t.apply(n,arguments)}}},682,[683]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=!r(d[0])(function(){var t=function(){}.bind();return'function'!=typeof t||t.hasOwnProperty('prototype')})},683,[684]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){try{return!!t()}catch(t){return!0}}},684,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Object;m.exports=function(n){return t(r(d[0])(n))}},685,[686]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=TypeError;m.exports=function(n){if(r(d[0])(n))throw new t("Can't call method on "+n);return n}},686,[687]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){return null==n}},687,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=TypeError,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u='enumerable',c='configurable',f='writable';e.f=r(d[0])?r(d[1])?function(t,l,p){if(r(d[2])(t),l=r(d[3])(l),r(d[2])(p),'function'==typeof t&&'prototype'===l&&'value'in p&&f in p&&!p[f]){var b=o(t,l);b&&b[f]&&(t[l]=p.value,p={configurable:c in p?p[c]:b[c],enumerable:u in p?p[u]:b[u],writable:!1})}return n(t,l,p)}:n:function(o,u,c){if(r(d[2])(o),u=r(d[3])(u),r(d[2])(c),r(d[4]))try{return n(o,u,c)}catch(t){}if('get'in c||'set'in c)throw new t('Accessors not supported');return'value'in c&&(o[u]=c.value),o}},688,[689,690,691,694,715]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=!r(d[0])(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},689,[684]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])&&r(d[1])(function(){return 42!==Object.defineProperty(function(){},'prototype',{value:42,writable:!1}).prototype})},690,[689,684]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=String,n=TypeError;m.exports=function(o){if(r(d[0])(o))return o;throw new n(t(o)+' is not an object')}},691,[692]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return'object'==typeof t?null!==t:r(d[0])(t)}},692,[693]);
__d(function(g,r,i,a,m,e,d){'use strict';var t='object'==typeof document&&document.all;m.exports=void 0===t&&void 0!==t?function(n){return'function'==typeof n||n===t}:function(t){return'function'==typeof t}},693,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n=r(d[0])(t,'string');return r(d[1])(n)?n:n+''}},694,[695,707]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=TypeError,n=r(d[0])('toPrimitive');m.exports=function(o,u){if(!r(d[1])(o)||r(d[2])(o))return o;var v,f=r(d[3])(o,n);if(f){if(void 0===u&&(u='default'),v=r(d[4])(f,o,u),!r(d[1])(v)||r(d[2])(v))return v;throw new t("Can't convert object to primitive value")}return void 0===u&&(u='number'),r(d[5])(o,u)}},695,[696,692,707,710,713,714]);
__d(function(g,r,i,a,m,e,d){'use strict';var o=r(d[0])('wks'),t=r(d[1])?r(d[2]).Symbol.for||r(d[2]).Symbol:r(d[2]).Symbol&&r(d[2]).Symbol.withoutSetter||r(d[3]);m.exports=function(S){return r(d[4])(o,S)||(o[S]=r(d[5])&&r(d[4])(r(d[2]).Symbol,S)?r(d[2]).Symbol[S]:t('Symbol.'+S)),o[S]}},696,[697,702,699,706,681,703]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return r(d[0])[t]||(r(d[0])[t]=n||{})}},697,[698]);
__d(function(g,r,i,a,m,e,d){'use strict';var o='__core-js_shared__',s=m.exports=r(d[0])[o]||r(d[1])(o,{});(s.versions||(s.versions=[])).push({version:'3.44.0',mode:r(d[2])?'pure':'global',copyright:'\xa9 2014-2025 Denis Pushkarev (zloirock.ru)',license:'https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE',source:'https://github.com/zloirock/core-js'})},698,[699,700,701]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=function(t){return t&&t.Math===Math&&t};m.exports=t('object'==typeof globalThis&&globalThis)||t('object'==typeof window&&window)||t('object'==typeof self&&self)||t('object'==typeof g&&g)||t('object'==typeof this&&this)||(function(){return this})()||Function('return this')()},699,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Object.defineProperty;m.exports=function(c,n){try{t(r(d[0]),c,{value:n,configurable:!0,writable:!0})}catch(t){r(d[0])[c]=n}return n}},700,[699]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=!0},701,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])&&!Symbol.sham&&'symbol'==typeof Symbol.iterator},702,[703]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=!!Object.getOwnPropertySymbols&&!r(d[0])(function(){var t=Symbol('symbol detection');return!r(d[1]).String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r(d[2])&&r(d[2])<41})},703,[684,699,704]);
__d(function(g,r,i,a,m,e,d){'use strict';var s,o,t=r(d[0]).process&&r(d[0]).process.versions||r(d[0]).Deno&&r(d[0]).Deno.version,c=t&&t.v8;c&&(o=(s=c.split('.'))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&r(d[1])&&(!(s=r(d[1]).match(/Edge\/(\d+)/))||s[1]>=74)&&(s=r(d[1]).match(/Chrome\/(\d+)/))&&(o=+s[1]),m.exports=o},704,[699,705]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).navigator&&r(d[0]).navigator.userAgent;m.exports=t?String(t):''},705,[699]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=0,n=Math.random(),o=r(d[0])(1.1.toString);m.exports=function(u){return'Symbol('+(void 0===u?'':u)+')_'+o(++t+n,36)}},706,[682]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Object;m.exports=r(d[0])?function(t){return'symbol'==typeof t}:function(o){var n=r(d[1])('Symbol');return r(d[2])(n)&&r(d[3])(n.prototype,t(o))}},707,[702,708,693,709]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=function(n){return r(d[0])(n)?n:void 0};m.exports=function(t,u){return arguments.length<2?n(r(d[1])[t])||n(r(d[2])[t]):r(d[1])[t]&&r(d[1])[t][u]||r(d[2])[t]&&r(d[2])[t][u]}},708,[693,680,699]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])({}.isPrototypeOf)},709,[682]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){var o=t[n];return r(d[0])(o)?void 0:r(d[1])(o)}},710,[687,711]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=TypeError;m.exports=function(t){if(r(d[0])(t))return t;throw new n(r(d[1])(t)+' is not a function')}},711,[693,712]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=String;m.exports=function(n){try{return t(n)}catch(t){return'Object'}}},712,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Function.prototype.call;m.exports=r(d[0])?t.bind(t):function(){return t.apply(t,arguments)}},713,[683]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=TypeError;m.exports=function(n,o){var u,f;if('string'===o&&r(d[0])(u=n.toString)&&!r(d[1])(f=r(d[2])(u,n)))return f;if(r(d[0])(u=n.valueOf)&&!r(d[1])(f=r(d[2])(u,n)))return f;if('string'!==o&&r(d[0])(u=n.toString)&&!r(d[1])(f=r(d[2])(u,n)))return f;throw new t("Can't convert object to primitive value")}},714,[693,692,713]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=!r(d[0])&&!r(d[1])(function(){return 7!==Object.defineProperty(r(d[2])('div'),'a',{get:function(){return 7}}).a})},715,[689,684,716]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])(r(d[1]).document)&&r(d[0])(r(d[1]).document.createElement);m.exports=function(n){return t?r(d[1]).document.createElement(n):{}}},716,[692,699]);
__d(function(g,r,i,a,m,e,d){'use strict';e.f=r(d[0])},717,[696]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},718,[719]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),m.exports=r(d[1]).f('dispose')},719,[678,717]);
__d(function(g,r,i,_a2,m,e,d){"use strict";var t,n,s,a,u=r(d[0]),o=r(d[1]),l=r(d[2]);Object.defineProperty(e,"__esModule",{value:!0}),e.Result=e.ResultKind=void 0,(function(t){t[t.OK=0]="OK",t[t.Ignored=1]="Ignored",t[t.InTransition=2]="InTransition",t[t.Rejected=3]="Rejected",t[t.Error=4]="Error"})(a||(e.ResultKind=a={}));var c=(function(c){function h(u,l){o(this,h),this.kind=u,this.data=l,t.set(this,[]),n.set(this,null),s.set(this,null),u===a.InTransition&&r(d[3]).__classPrivateFieldGet(this,t,"f").push(l),Object.freeze(this)}return l(h,[{key:"ok",get:function(){return this.kind===a.OK}},{key:"hasError",get:function(){return this.kind===a.Error||this.kind===a.Rejected}},{key:"ready",get:function(){return this.readyExecutors.then(function(t){return new Promise(function(n){return setTimeout(function(){return n(t)},0)})})}},{key:"error",get:function(){return this.data instanceof Error?this.data:null}},{key:"message",get:function(){return"string"==typeof this.data?this.data:null}},{key:"readyExecutors",get:function(){return null==r(d[3]).__classPrivateFieldGet(this,n,"f")&&(this.kind===a.InTransition?r(d[3]).__classPrivateFieldSet(this,n,Promise.all(r(d[3]).__classPrivateFieldGet(this,t,"f")).then(function(t){return t.reduce(function(t,n){return t.merge(n)},h.ignore())}),"f"):r(d[3]).__classPrivateFieldSet(this,n,Promise.resolve(this),"f")),r(d[3]).__classPrivateFieldGet(this,n,"f")}},{key:"expect",value:function(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];if(this.kind===a.InTransition&&!n.includes(a.InTransition))throw new Error("Result is in transition state but expected synchronous result");if(!n.includes(this.kind))throw new Error((o=n,l=this.kind,c=this.error,h=this.message,f=String(r(d[3]).__classPrivateFieldGet(this,s,"f")),v=`${o.map(function(t){return a[t]}).join(" or ")} but got ${a[l]}`,null!=c&&(v+=`; ${c}`),null!=h&&(v+=`; ${h}`),v=null!=f?`[state-flow] Signal '${f}' expected ${v}`:`[state-flow] Expected ${v}`));var o,l,c,h,f,v;return this}},{key:"withContext",value:function(t){return r(d[3]).__classPrivateFieldSet(this,s,t,"f"),this}},{key:"merge",value:function(n){var o,l,c;if(this.kind===n.kind)switch(this.kind){case a.Ignored:return h.ignore((0,r(d[4]).mergeStrings)(this.data,n.data)).withContext(r(d[3]).__classPrivateFieldGet(this,s,"f"));case a.OK:if(null!=this.data||null!=n.data)throw new Error("Cannot merge handled state results with data");return this;case a.InTransition:return(o=r(d[3]).__classPrivateFieldGet(this,t,"f")).push.apply(o,u(r(d[3]).__classPrivateFieldGet(n,t,"f"))),this;case a.Rejected:return this;case a.Error:return h.error(new(r(d[4]).MergedError)([this.data,n.data])).withContext(r(d[3]).__classPrivateFieldGet(this,s,"f"))}var f=function(n,s){switch(n.kind){case a.Ignored:return s;case a.InTransition:return r(d[3]).__classPrivateFieldGet(n,t,"f").push(s.ready),n;case a.Rejected:case a.Error:return n}return null};return(null!==(c=null!==(l=f(this,n))&&void 0!==l?l:f(n,this))&&void 0!==c?c:this).withContext(r(d[3]).__classPrivateFieldGet(this,s,"f"))}},{key:c,value:function(){return`SignalResult(${a[this.kind]})`}},{key:Symbol.toPrimitive,value:function(){return this.kind===a.Error?`${this.error}${null!=this.message?`; ${this.message}`:""}`:`${a[this.kind]}${null!=this.message?`: ${this.message}`:""}`}}],[{key:"ignore",value:function(t){return new h(a.Ignored,t)}},{key:"ok",value:function(t){return new h(a.OK,t)}},{key:"transition",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15e3;return new h(a.InTransition,(0,r(d[4]).withTimeout)(t.catch(function(t){return h.error(t)}),n))}},{key:"reject",value:function(t){return new h(a.Rejected,t)}},{key:"error",value:function(t){return t instanceof Error?new h(a.Error,t):new h(a.Error,new Error(String(t)))}}])})((t=new WeakMap,n=new WeakMap,s=new WeakMap,Symbol.toStringTag));e.Result=c},720,[6,12,13,487,721]);
__d(function(g,r,i,_a2,m,_e,d){"use strict";var t=r(d[0]),e=r(d[1]),n=r(d[2]),o=r(d[3]),u=r(d[4]),s=r(d[5]);function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.disableDebug=_e.enableDebug=_e.withTimeout=_e.Collector=_e.cloneState=_e.isTransitioning=_e.getStateName=_e.mergeStrings=_e.MergedError=_e.DEBUG_MODE=void 0;var l=r(d[6]).__importDefault(r(d[7]));_e.DEBUG_MODE=(0,l.default)('state-flow').enabled;var c=(function(s){function l(t){var u,s,c,f;return e(this,l),s=this,c=l,f=[t.map(function(t){return String(t)}).join("; ")],c=o(c),(u=n(s,a()?Reflect.construct(c,f||[],o(s).constructor):c.apply(s,f))).errors=t,u}return u(l,s),t(l)})(s(Error));_e.MergedError=c,_e.mergeStrings=function(t,e){if(null!=t||null!=e)return null==t?String(e):null==e?String(t):`${t}; ${e}`},_e.getStateName=function(t){if(t instanceof r(d[8]).StateInstance)return t[r(d[9]).stateNameSym];throw new Error("invalid state")},_e.isTransitioning=function t(e){if(e instanceof r(d[8]).StateInstance)return e[r(d[9]).isTransitioningSym];if(e instanceof r(d[10]).Instance)return Object.values(e).some(function(e){return t(e)});throw new Error("invalid state")},_e.cloneState=function(t,e){if(t instanceof r(d[8]).StateInstance)return r(d[8]).StateInstance.clone(t,e);throw new Error("invalid state")};var f=(function(){return t(function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(d[11]).Result.ignore();e(this,t),this.result=n,this.logs={},this.results=[]},[{key:"merge",value:function(){return this.results=[this.results.reduce(function(t,e){return t.merge(e)},this.result)],this.results[0]}},{key:"push",value:function(t){var e=t instanceof r(d[11]).Result?t:r(d[11]).Result.error(t);this.results.push(e)}},{key:"log",value:function(t){var e,n;null!==(e=(n=this.logs)[t])&&void 0!==e||(n[t]=[]);for(var o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];this.logs[t].push(u)}}])})();_e.Collector=f,_e.withTimeout=function(t,e){return new Promise(function(n,o){var u=setTimeout(function(){n(r(d[11]).Result.error(new Error("timeout")))},e);t.then(function(t){clearTimeout(u),n(t)},function(t){clearTimeout(u),o(t)})})},_e.enableDebug=function(){_e.DEBUG_MODE=!0},_e.disableDebug=function(){_e.DEBUG_MODE=!1}},721,[13,12,23,25,28,85,487,513,722,723,724,720]);
__d(function(g,r,i,a,m,e,d){"use strict";var t,s,n,c=r(d[0]),l=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.StateInstance=void 0;var o=(function(o,u,_){return l(function l(o,u,_){var f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return c(this,l),t.set(this,!1),s.set(this,void 0),n.set(this,void 0),r(d[2]).__classPrivateFieldSet(this,s,u,"f"),r(d[2]).__classPrivateFieldSet(this,t,f,"f"),r(d[2]).__classPrivateFieldSet(this,n,o,"f"),Object.freeze(Object.assign(this,_))},[{key:o,get:function(){return r(d[2]).__classPrivateFieldGet(this,t,"f")}},{key:u,set:function(s){r(d[2]).__classPrivateFieldSet(this,t,s,"f")}},{key:_,get:function(){return r(d[2]).__classPrivateFieldGet(this,s,"f")}},{key:Symbol.toStringTag,get:function(){return this[r(d[3]).stateNameSym]}}],[{key:"clone",value:function(t,s){return r(d[2]).__classPrivateFieldGet(t,n,"f").call(t,Object.assign({},t,s))}}])})((t=new WeakMap,s=new WeakMap,n=new WeakMap,r(d[3]).isTransitioningSym),r(d[3]).isTransitioningSym,r(d[3]).stateNameSym);e.StateInstance=o},722,[12,13,487,723]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearSym=e.applySym=e.stateNameSym=e.isInitializedSym=e.isTransitioningSym=e.emitterSym=e.instanceSym=void 0,e.instanceSym=Symbol("instance"),e.emitterSym=Symbol("emitter"),e.isTransitioningSym=Symbol("isTransitioning"),e.isInitializedSym=Symbol("isInitialized"),e.stateNameSym=Symbol("stateName"),e.applySym=Symbol("apply"),e.clearSym=Symbol("clear")},723,[]);
__d(function(_g,r,i,a,m,e,d){"use strict";var t,n,s,o=r(d[0]),l=r(d[1]),u=r(d[2]),h=r(d[3]),c=r(d[4]);Object.defineProperty(e,"__esModule",{value:!0}),e.Instance=e.StateFlow=void 0;var f=r(d[5]).__importDefault(r(d[6])),g=r(d[5]).__importDefault(r(d[7]));function y(t,n,s){return s instanceof r(d[8]).StateInstance?`${t}:${String(n)}:${(0,r(d[9]).getStateName)(s)}`:`${t}:${String(n)}:${s.stateName}`}function v(t,n,s,o){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(r(d[9]).DEBUG_MODE){for(var u of(l?console.groupCollapsed(`[SIGNAL/ASYNC] ${String(t)} - ${n}`):console.groupCollapsed(`[SIGNAL] ${String(t)} - ${n}`),console.log("Params:",s),Object.entries(o))){var f=c(u,2),g=(f[0],f[1]);for(var y of g){var v;(v=console).log.apply(v,h(y))}}console.groupEnd()}}var p=(function(){return u(function n(){l(this,n),this.registeredGroups=[],t.set(this,new WeakSet)},[{key:"registerGroup",value:function(t){var n=new(r(d[10]).Group)(t);return this.registeredGroups.some(function(t){return t.name===n.name})?(console.error(new Error(`Group ${String(n.name)} is already registered`)),n):(this.registeredGroups.push(n),n)}},{key:"initialize",value:function(){var t=new S(this);for(var n of this.registeredGroups)null!=n.initFactory&&t[r(d[11]).applySym](n.name,n.initFactory());for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];for(var u of o)"displayName"in u.constructor?String(u.constructor.displayName):u.constructor.name,u.initStateFlow(t);if(t[r(d[11]).isInitializedSym]=!0,r(d[9]).DEBUG_MODE)for(var h of this.registeredGroups)for(var c of h.registeredStates)console.debug(`Registered state ${h.name}(${c.stateName}) with ${Object.keys(h.registeredHandlers[c.stateName]).length} handlers`);return t}}])})();e.StateFlow=p,t=new WeakMap;var S=(function(t,h){return u(function t(o){l(this,t),this[s]=!1,n.set(this,new g.default),this[r(d[11]).instanceSym]=o,this[r(d[11]).emitterSym]=r(d[5]).__classPrivateFieldGet(this,n,"f").adopt(new(r(d[12]).EventEmitter),function(t){t.removeAllListeners()})},[{key:"dispatch",value:function(t,n,s){if(!this[r(d[11]).isInitializedSym])throw new Error("State flow is not initialized");var o=new(r(d[9]).Collector)(r(d[13]).Result.ok()),l=r(d[13]).Result.ignore();try{if(!(l=this.prepareChangelog(t,n,o)).ok||null==l.data)return l.withContext(t);var u=c(l.data,2),h=u[0],f=u[1];if(this.processExitHandlers(f,h,o),(l=o.merge()).hasError)return l.withContext(t);if(l.kind===r(d[13]).ResultKind.InTransition)return r(d[13]).Result.error(new Error("async handlers are not allowed in sync dispatch")).withContext(t);if(null!=s){var g=s(h,this);null==o||o.log("LOCAL",`\tonChange: local handler => ${String(g)}`),null==o||o.push(g),l=o.merge()}if(l.hasError)return l.withContext(t);if(l.kind===r(d[13]).ResultKind.InTransition)return r(d[13]).Result.error(new Error("async handlers are not allowed in sync dispatch")).withContext(t);if(this.processChangesHandlers(f,h,o),(l=o.merge()).hasError)return l.withContext(t);if(l.kind===r(d[13]).ResultKind.InTransition)return r(d[13]).Result.error(new Error("async handlers are not allowed in sync dispatch")).withContext(t);if(this.processEnterHandlers(f,h,o),(l=o.merge()).hasError)return l.withContext(t);if(l.kind===r(d[13]).ResultKind.InTransition)return r(d[13]).Result.error(new Error("async handlers are not allowed in sync dispatch")).withContext(t);for(var y of f){var p=c(y,2),S=p[0],w=p[1];this[r(d[11]).applySym](S,w)}return this.processCommitEvents(f,h),l.withContext(t)}finally{this[r(d[11]).clearSym](),v(t,l,n,o.logs)}}},{key:"dispatchAsync",value:(p=o(function*(t,n){if(!this[r(d[11]).isInitializedSym])throw new Error("State flow is not initialized");var s=new(r(d[9]).Collector)(r(d[13]).Result.ok()),o=r(d[13]).Result.ignore();try{if(!(o=this.prepareChangelog(t,n,s)).ok||null==o.data)return o.withContext(t);var l=c(o.data,2),u=l[0],h=l[1];if(this.processExitHandlers(h,u,s),(o=yield s.merge().ready).hasError)return o.withContext(t);if(this.processChangesHandlers(h,u,s),(o=yield s.merge().ready).hasError)return o.withContext(t);if(this.processEnterHandlers(h,u,s),(o=yield s.merge().ready).hasError)return o.withContext(t);for(var f of h){var g=c(f,2),y=g[0],p=g[1];this[r(d[11]).applySym](y,p)}return this.processCommitEvents(h,u),o.withContext(t)}finally{this[r(d[11]).clearSym](),v(t,o,n,s.logs,!0)}}),function(t,n){return p.apply(this,arguments)})},{key:t,value:function(t,n){this[t]=n}},{key:h,value:function(){Object.values(this).forEach(function(t){return t[r(d[11]).isTransitioningSym]=!1})}},{key:"handleEnter",value:function(t,n){this.feedbackWatch(t,n,"onEnter")}},{key:"handleChanges",value:function(t,n){this.feedbackWatch(t,n,"onChanges")}},{key:"handleExit",value:function(t,n){this.feedbackWatch(t,n,"onExit")}},{key:"onCommit",value:function(t,n){this.notifyWatch(t,n)}},{key:Symbol.dispose,value:function(){r(d[5]).__classPrivateFieldGet(this,n,"f").dispose(),this[r(d[11]).emitterSym].removeAllListeners(),this[r(d[11]).isInitializedSym]=!1}},{key:"isStateChanged",value:function(t,n){if(null==n)return!1;var s=this[t];return null==s||!((0,r(d[9]).getStateName)(s)===(0,r(d[9]).getStateName)(n)&&(0,f.default)(this[t],n))}},{key:"processEnterHandlers",value:function(t,n,s){for(var o of t){var l=c(o,2),u=l[0];l[1];if((0,r(d[9]).getStateName)(this[u])!==(0,r(d[9]).getStateName)(n[u])){var h=y("onEnter",u,n[u]);this[r(d[11]).emitterSym].emit(h,n,s)}}}},{key:"processChangesHandlers",value:function(t,n,s){for(var o of t){var l=c(o,2),u=l[0];l[1];if((0,r(d[9]).getStateName)(this[u])===(0,r(d[9]).getStateName)(n[u])){var h=y("onChanges",u,n[u]);this[r(d[11]).emitterSym].emit(h,n,s)}}}},{key:"processExitHandlers",value:function(t,n,s){for(var o of t){var l=c(o,2),u=l[0];l[1];if((0,r(d[9]).getStateName)(this[u])!==(0,r(d[9]).getStateName)(n[u])){var h=y("onExit",u,this[u]);this[r(d[11]).emitterSym].emit(h,n,s)}}}},{key:"processCommitEvents",value:function(t,n,s){for(var o of t){var l=c(o,2),u=l[0],h=(l[1],y("onCommit",u,this[u]));this[r(d[11]).emitterSym].emit(h,n,s)}}},{key:"prepareChangelog",value:function(t,n,s){var o=t instanceof r(d[14]).SignalType?t.name:t,l=[],u={};for(var h of this[r(d[11]).instanceSym].registeredGroups){var c=this.get(h.name);if(u[h.name]=c,h.accepts(c,o)){var f=h.handle(this,o,n);switch(f.kind){case r(d[13]).ResultKind.OK:if(this.isStateChanged(h.name,f.data)){if(c[r(d[11]).isTransitioningSym])return r(d[13]).Result.error(Error(`Cannot handle '${String(t)}' signal: '${h.name}' is in transition`));c[r(d[11]).isTransitioningSym]=!0,l.push([h.name,f.data]),u[h.name]=f.data,s.log(h.name,`State ${h.name}: ${(0,r(d[9]).getStateName)(c)} => ${(0,r(d[9]).getStateName)(f.data)}`,[Object.assign({},f.data)])}break;case r(d[13]).ResultKind.InTransition:return r(d[13]).Result.error(new Error("Transition is not allowed in signal handlers"));case r(d[13]).ResultKind.Rejected:case r(d[13]).ResultKind.Error:return f}}}return 0===l.length?r(d[13]).Result.ignore("no changes"):r(d[13]).Result.ok([u,l])}},{key:"get",value:function(t){if(!(t in this))throw new Error(`State ${t} not found`);return this[t]}},{key:"clone",value:function(){var t=this;return this[r(d[11]).instanceSym].registeredGroups.reduce(function(n,s){var o=s.name;return n[o]=Object.assign({},t[o]),n},{})}},{key:"feedbackWatch",value:function(t,n,s){var o=this;if(this[r(d[11]).isInitializedSym])throw new Error("Cannot add handlers after initialization");this[r(d[11]).emitterSym].on(y(s,String(t.groupName),t),function(l,u){try{var h=n(l,o);null==u||u.log(String(t.groupName),`\t${s}: ${n.name}() => ${String(h)}`),null==u||u.push(h)}catch(o){null==u||u.log(String(t.groupName),`\t${s}: ${n.name}() => Error: ${String(o)}`),null==u||u.push(o)}})}},{key:"notifyWatch",value:function(t,n){var s=this;this[r(d[11]).emitterSym].on(y("onCommit",String(t.groupName),t),function(o,l){try{n(o,s)}catch(n){console.error(`Error in ${String(t)} "onCommit" callback: ${n}`,n)}})}}]);var p})((n=new WeakMap,s=r(d[11]).isInitializedSym,r(d[11]).applySym),r(d[11]).clearSym);e.Instance=S},724,[345,12,13,6,38,487,725,726,722,721,793,723,516,720,794]);
__d(function(g,r,_i,_a,m,e,d){'use strict';m.exports=function t(n,f){if(n===f)return!0;if(n&&f&&'object'==typeof n&&'object'==typeof f){if(n.constructor!==f.constructor)return!1;var i,o,u;if(Array.isArray(n)){if((i=n.length)!=f.length)return!1;for(o=i;0!==o--;)if(!t(n[o],f[o]))return!1;return!0}if(n instanceof Map&&f instanceof Map){if(n.size!==f.size)return!1;for(o of n.entries())if(!f.has(o[0]))return!1;for(o of n.entries())if(!t(o[1],f.get(o[0])))return!1;return!0}if(n instanceof Set&&f instanceof Set){if(n.size!==f.size)return!1;for(o of n.entries())if(!f.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(f)){if((i=n.length)!=f.length)return!1;for(o=i;0!==o--;)if(n[o]!==f[o])return!1;return!0}if(n.constructor===RegExp)return n.source===f.source&&n.flags===f.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===f.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===f.toString();if((i=(u=Object.keys(n)).length)!==Object.keys(f).length)return!1;for(o=i;0!==o--;)if(!Object.prototype.hasOwnProperty.call(f,u[o]))return!1;for(o=i;0!==o--;){var s=u[o];if(!t(n[s],f[s]))return!1}return!0}return n!=n&&f!=f}},725,[]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),r(d[1]),r(d[2]),m.exports=r(d[3])},726,[727,772,781,784]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])},727,[728]);
__d(function(g,r,i,a,m,e,d){'use strict';var s=r(d[0])('toStringTag'),o=Error,t=!!r(d[1]).SuppressedError&&3!==r(d[1]).SuppressedError.length,p=!!r(d[1]).SuppressedError&&r(d[2])(function(){return 4===new(r(d[1]).SuppressedError)(1,2,3,{cause:4}).cause}),u=t||p,n=function(t,p,E){var S,h=r(d[3])(c,this);return r(d[4])?S=!u||h&&r(d[5])(this)!==c?r(d[4])(new o,h?r(d[5])(this):c):new(r(d[1]).SuppressedError):(S=h?this:r(d[6])(c),r(d[7])(S,s,'Error')),void 0!==E&&r(d[7])(S,'message',r(d[8])(E)),r(d[9])(S,n,S.stack,1),r(d[7])(S,'error',t),r(d[7])(S,'suppressed',p),S};r(d[4])?r(d[4])(n,o):r(d[10])(n,o,{name:!0});var c=n.prototype=u?r(d[1]).SuppressedError.prototype:r(d[6])(o.prototype,{constructor:r(d[11])(1,n),message:r(d[11])(1,''),name:r(d[11])(1,'SuppressedError')});u&&!r(d[12])&&(c.constructor=n),r(d[13])({global:!0,constructor:!0,arity:3,forced:u},{SuppressedError:n})},728,[696,699,684,709,729,733,736,752,754,758,761,753,701,767]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=Object.setPrototypeOf||('__proto__'in{}?(function(){var t,o=!1,_={};try{(t=r(d[0])(Object.prototype,'__proto__','set'))(_,[]),o=_ instanceof Array}catch(t){}return function(_,n){return r(d[1])(_),r(d[2])(n),r(d[3])(_)?(o?t(_,n):_.__proto__=n,_):_}})():void 0)},729,[730,686,731,692]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,c,n){try{return r(d[0])(r(d[1])(Object.getOwnPropertyDescriptor(t,c)[n]))}catch(t){}}},730,[682,711]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=String,n=TypeError;m.exports=function(o){if(r(d[0])(o))return o;throw new n("Can't set "+t(o)+' as a prototype')}},731,[732]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){return r(d[0])(n)||null===n}},732,[692]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('IE_PROTO'),o=Object,n=o.prototype;m.exports=r(d[1])?o.getPrototypeOf:function(c){var u=r(d[2])(c);if(r(d[3])(u,t))return u[t];var f=u.constructor;return r(d[4])(f)&&u instanceof f?f.prototype:u instanceof o?n:null}},733,[734,735,685,681,693]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('keys');m.exports=function(n){return t[n]||(t[n]=r(d[1])(n))}},734,[697,706]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=!r(d[0])(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},735,[684]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n='prototype',c=r(d[0])('IE_PROTO'),o=function(){},u=function(t){return"<script>"+t+"<\/script>"},l=function(t){t.write(u('')),t.close();var n=t.parentWindow.Object;return t=null,n},f=function(){try{t=new ActiveXObject('htmlfile')}catch(t){}var c,o;f='undefined'!=typeof document?document.domain&&t?l(t):((o=r(d[1])('iframe')).style.display='none',r(d[2]).appendChild(o),o.src=String("javascript:"),(c=o.contentWindow.document).open(),c.write(u('document.F=Object')),c.close(),c.F):l(t);for(var p=r(d[3]).length;p--;)delete f[n][r(d[3])[p]];return f()};r(d[4])[c]=!0,m.exports=Object.create||function(t,u){var l;return null!==t?(o[n]=r(d[5])(t),l=new o,o[n]=null,l[c]=t):l=f(),void 0===u?l:r(d[6]).f(l,u)}},736,[734,716,737,738,739,691,740]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])('document','documentElement')},737,[708]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf']},738,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={}},739,[]);
__d(function(g,r,i,a,m,e,d){'use strict';e.f=r(d[0])&&!r(d[1])?Object.defineProperties:function(t,n){r(d[2])(t);for(var f,c=r(d[3])(n),o=r(d[4])(n),u=o.length,s=0;u>s;)r(d[5]).f(t,f=o[s++],c[f]);return t}},740,[689,690,691,741,744,688]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return r(d[0])(r(d[1])(t))}},741,[742,686]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Object,n=r(d[0])(''.split);m.exports=r(d[1])(function(){return!t('z').propertyIsEnumerable(0)})?function(u){return'String'===r(d[2])(u)?n(u,''):t(u)}:t},742,[682,684,743]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])({}.toString),n=r(d[0])(''.slice);m.exports=function(c){return n(t(c),8,-1)}},743,[682]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=Object.keys||function(t){return r(d[0])(t,r(d[1]))}},744,[745,738]);
__d(function(g,r,_i,a,m,e,d){'use strict';var n=r(d[0])([].push);m.exports=function(t,f){var i,o=r(d[1])(t),u=0,s=[];for(i in o)!r(d[2])(r(d[3]),i)&&r(d[2])(o,i)&&n(s,i);for(;f.length>u;)r(d[2])(o,i=f[u++])&&(~r(d[4]).indexOf(s,i)||n(s,i));return s}},745,[682,741,681,739,746]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=function(n){return function(t,f,u){var o=r(d[0])(t),c=r(d[1])(o);if(0===c)return!n&&-1;var s,v=r(d[2])(u,c);if(n&&f!=f){for(;c>v;)if((s=o[v++])!=s)return!0}else for(;c>v;v++)if((n||v in o)&&o[v]===f)return n||v||0;return!n&&-1}};m.exports={includes:n(!0),indexOf:n(!1)}},746,[741,747,751]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return r(d[0])(t.length)}},747,[748]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Math.min;m.exports=function(n){var u=r(d[0])(n);return u>0?t(u,9007199254740991):0}},748,[749]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){var n=+t;return n!=n||0===n?0:r(d[0])(n)}},749,[750]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Math.ceil,n=Math.floor;m.exports=Math.trunc||function(c){var o=+c;return(o>0?n:t)(o)}},750,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Math.max,n=Math.min;m.exports=function(u,c){var o=r(d[0])(u);return o<0?t(o+c,0):n(o,c)}},751,[749]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])?function(n,t,u){return r(d[1]).f(n,t,r(d[2])(1,u))}:function(n,t,u){return n[t]=u,n}},752,[689,688,753]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},753,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){return void 0===t?arguments.length<2?'':n:r(d[0])(t)}},754,[755]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=String;m.exports=function(n){if('Symbol'===r(d[0])(n))throw new TypeError('Cannot convert a Symbol value to a string');return t(n)}},755,[756]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('toStringTag'),n=Object,u='Arguments'===r(d[1])((function(){return arguments})()),c=function(t,n){try{return t[n]}catch(t){}};m.exports=r(d[2])?r(d[1]):function(o){var f,l,s;return void 0===o?'Undefined':null===o?'Null':'string'==typeof(l=c(f=n(o),t))?l:u?r(d[1])(f):'Object'===(s=r(d[1])(f))&&r(d[3])(f.callee)?'Arguments':s}},756,[696,743,757,693]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={};t[r(d[0])('toStringTag')]='z',m.exports='[object z]'===String(t)},757,[696]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Error.captureStackTrace;m.exports=function(c,n,o,s){r(d[0])&&(t?t(c,n):r(d[1])(c,'stack',r(d[2])(o,s)))}},758,[759,752,760]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=!r(d[0])(function(){var t=new Error('a');return!('stack'in t)||(Object.defineProperty(t,'stack',r(d[1])(1,7)),7!==t.stack)})},759,[684,753]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Error,n=r(d[0])(''.replace),c=String(new t('zxcasd').stack),s=/\n\s*at [^:]*:[^\n]*/,o=s.test(c);m.exports=function(c,f){if(o&&'string'==typeof c&&!t.prepareStackTrace)for(;f--;)c=n(c,s,'');return c}},760,[682]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=function(t,f,n){for(var o=r(d[0])(f),c=r(d[1]).f,i=r(d[2]).f,s=0;s<o.length;s++){var u=o[s];r(d[3])(t,u)||n&&r(d[3])(n,u)||c(t,u,i(f,u))}}},761,[762,688,765,681]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])([].concat);m.exports=r(d[1])('Reflect','ownKeys')||function(n){var c=r(d[2]).f(r(d[3])(n)),f=r(d[4]).f;return f?t(c,f(n)):c}},762,[682,708,763,691,764]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]).concat('length','prototype');e.f=Object.getOwnPropertyNames||function(n){return r(d[1])(n,t)}},763,[738,745]);
__d(function(g,r,i,a,m,e,d){'use strict';e.f=Object.getOwnPropertySymbols},764,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Object.getOwnPropertyDescriptor;e.f=r(d[0])?t:function(c,n){if(c=r(d[1])(c),n=r(d[2])(n),r(d[3]))try{return t(c,n)}catch(t){}if(r(d[4])(c,n))return r(d[5])(!r(d[6])(r(d[7]).f,c,n),c[n])}},765,[689,741,694,715,681,753,713,766]);
__d(function(g,r,i,a,m,e,d){'use strict';var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,c=n&&!t.call({1:2},1);e.f=c?function(t){var c=n(this,t);return!!c&&c.enumerable}:t},766,[]);
__d(function(g,r,i,_a,m,e,d){'use strict';r(d[0]);var t=function(t){var n=function(o,a,s){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(o);case 2:return new t(o,a)}return new t(o,a,s)}return r(d[1])(t,this,arguments)};return n.prototype=t.prototype,n};m.exports=function(n,o){var a,s,p,u,c,f,h,l,y,w=n.target,v=n.global,b=n.stat,_=n.proto,x=v?r(d[2]):b?r(d[2])[w]:r(d[2])[w]&&r(d[2])[w].prototype,C=v?r(d[3]):r(d[3])[w]||r(d[4])(r(d[3]),w,{})[w],G=C.prototype;for(u in o)s=!(a=r(d[5])(v?u:w+(b?'.':'#')+u,n.forced))&&x&&r(d[6])(x,u),f=C[u],s&&(h=n.dontCallGetSet?(y=r(d[7]).f(x,u))&&y.value:x[u]),c=s&&h?h:o[u],(a||_||typeof f!=typeof c)&&(l=n.bind&&s?r(d[8])(c,r(d[2])):n.wrap&&s?t(c):_&&r(d[9])(c)?r(d[10])(c):c,(n.sham||c&&c.sham||f&&f.sham)&&r(d[4])(l,'sham',!0),r(d[4])(C,u,l),_&&(p=w+'Prototype',r(d[6])(r(d[3]),p)||r(d[4])(r(d[3]),p,{}),r(d[4])(r(d[3])[p],u,c),n.real&&G&&(a||!G[u])&&r(d[4])(G,u,c)))}},767,[698,768,699,680,752,769,681,765,770,693,771]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=Function.prototype,p=t.apply,c=t.call;m.exports='object'==typeof Reflect&&Reflect.apply||(r(d[0])?c.bind(p):function(){return c.apply(p,arguments)})},768,[683]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=/#|\.prototype\./,n=function(t,n){var s=u[o(t)];return s===p||s!==c&&(r(d[0])(n)?r(d[1])(n):!!n)},o=n.normalize=function(n){return String(n).replace(t,'.').toLowerCase()},u=n.data={},c=n.NATIVE='N',p=n.POLYFILL='P';m.exports=n},769,[693,684]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])(r(d[0]).bind);m.exports=function(t,u){return r(d[1])(t),void 0===u?t:r(d[2])?n(t,u):function(){return t.apply(u,arguments)}}},770,[771,711,683]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){if('Function'===r(d[0])(n))return r(d[1])(n)}},771,[743,682]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])},772,[773]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=r(d[0])('SuppressedError'),s=ReferenceError,i=r(d[1])('dispose'),o=r(d[1])('toStringTag'),n='DisposableStack',c=r(d[2]).getterFor(n),u='sync-dispose',p='disposed',f=function(t){var i=c(t);if(i.state===p)throw new s("DisposableStack already disposed");return i},h=function(){r(d[2]).set(r(d[3])(this,l),{type:n,state:"pending",stack:[]}),r(d[4])||(this.disposed=!1)},l=h.prototype;r(d[5])(l,{dispose:function(){var s=c(this);if(s.state!==p){s.state=p,r(d[4])||(this.disposed=!0);for(var i,o=s.stack,n=o.length,u=!1;n;){var f=o[--n];o[n]=null;try{f()}catch(s){u?i=new t(s,i):(u=!0,i=s)}}if(s.stack=null,u)throw i}},use:function(t){return r(d[6])(f(this),t,u),t},adopt:function(t,s){var i=f(this);return r(d[7])(s),r(d[6])(i,void 0,u,function(){s(t)}),t},defer:function(t){var s=f(this);r(d[7])(t),r(d[6])(s,void 0,u,t)},move:function(){var t=f(this),s=new h;return c(s).stack=t.stack,t.stack=[],t.state=p,r(d[4])||(this.disposed=!0),s}}),r(d[4])&&r(d[8])(l,'disposed',{configurable:!0,get:function(){return c(this).state===p}}),r(d[9])(l,i,l.dispose,{name:'dispose'}),r(d[9])(l,o,n,{nonWritable:!0}),r(d[10])({global:!0,constructor:!0},{DisposableStack:h})},773,[708,696,774,776,689,777,779,711,780,778,767]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,u,o='Object already initialized';if(r(d[2])||r(d[3]).state){var c=r(d[3]).state||(r(d[3]).state=new(r(d[1]).WeakMap));c.get=c.get,c.has=c.has,c.set=c.set,t=function(t,n){if(c.has(t))throw new(r(d[1]).TypeError)(o);return n.facade=t,c.set(t,n),n},n=function(t){return c.get(t)||{}},u=function(t){return c.has(t)}}else{var f=r(d[4])('state');r(d[5])[f]=!0,t=function(t,n){if(r(d[6])(t,f))throw new(r(d[1]).TypeError)(o);return n.facade=t,r(d[7])(t,f,n),n},n=function(t){return r(d[6])(t,f)?t[f]:{}},u=function(t){return r(d[6])(t,f)}}m.exports={set:t,get:n,has:u,enforce:function(o){return u(o)?n(o):t(o,{})},getterFor:function(t){return function(u){var o;if(!r(d[0])(u)||(o=n(u)).type!==t)throw new(r(d[1]).TypeError)('Incompatible receiver, '+t+' required');return o}}}},774,[692,699,775,698,734,739,681,752]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])(r(d[1]).WeakMap)&&/native code/.test(String(r(d[1]).WeakMap))},775,[693,699]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=TypeError;m.exports=function(t,o){if(r(d[0])(o,t))return t;throw new n('Incorrect invocation')}},776,[709]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,t,u){for(var f in t)u&&u.unsafe&&n[f]?n[f]=t[f]:r(d[0])(n,f,t[f],u);return n}},777,[778]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,t,u,c){return c&&c.enumerable?n[t]=u:r(d[0])(n,t,u),n}},778,[752]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0])('asyncDispose'),s=r(d[0])('dispose'),t=r(d[1])([].push),o=function(t,o){if('async-dispose'===o){var u=r(d[2])(t,n);return void 0!==u||void 0===(u=r(d[2])(t,s))?u:function(){var n=this;return new(r(d[3])('Promise'))(function(s){r(d[4])(u,n),s(void 0)})}}return r(d[2])(t,s)},u=function(n,s,t){return arguments.length<3&&!r(d[5])(n)&&(t=r(d[6])(o(r(d[7])(n),s))),void 0===t?function(){}:r(d[8])(t,n)};m.exports=function(n,s,o,c){var f;if(arguments.length<4){if(r(d[5])(s)&&'sync-dispose'===o)return;f=u(s,o)}else f=u(void 0,o,c);t(n.stack,f)}},779,[696,682,710,708,713,687,711,691,770]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,u){return r(d[0]).f(t,n,u)}},780,[688]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0])},781,[782]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0])('dispose');r(d[1])(r(d[2]).IteratorPrototype,t)||r(d[3])(r(d[2]).IteratorPrototype,t,function(){var t=r(d[4])(this,'return');t&&r(d[5])(t,this)})},782,[696,681,783,778,710,713]);
__d(function(g,r,i,a,m,e,d){'use strict';var t,n,o,c=r(d[0])('iterator'),s=!1;[].keys&&('next'in(o=[].keys())?(n=r(d[1])(r(d[1])(o)))!==Object.prototype&&(t=n):s=!0),!r(d[2])(t)||r(d[3])(function(){var n={};return t[c].call(n)!==n})?t={}:r(d[4])&&(t=r(d[5])(t)),r(d[6])(t[c])||r(d[7])(t,c,function(){return this}),m.exports={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:s}},783,[696,733,692,684,701,736,693,778]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},784,[785]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]),r(d[1]),r(d[2]),r(d[3]),r(d[4]),r(d[5]),m.exports=r(d[6]).DisposableStack},785,[786,791,792,728,773,782,680]);
__d(function(g,r,i,a,m,e,d){'use strict';var n='WebAssembly',t=7!==new Error('e',{cause:7}).cause,u=function(n,u){var o={};o[n]=r(d[0])(n,u,t),r(d[1])({global:!0,constructor:!0,arity:1,forced:t},o)},o=function(u,o){if(r(d[2])[n]&&r(d[2])[n][u]){var c={};c[u]=r(d[0])("WebAssembly."+u,o,t),r(d[1])({target:n,stat:!0,constructor:!0,arity:1,forced:t},c)}};u('Error',function(n){return function(t){return r(d[3])(n,this,arguments)}}),u('EvalError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),u('RangeError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),u('ReferenceError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),u('SyntaxError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),u('TypeError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),u('URIError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),o('CompileError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),o('LinkError',function(n){return function(t){return r(d[3])(n,this,arguments)}}),o('RuntimeError',function(n){return function(t){return r(d[3])(n,this,arguments)}})},786,[787,767,699,768]);
__d(function(g,r,i,_a,m,e,d){'use strict';m.exports=function(t,n,a,c){var o='stackTraceLimit',s=c?2:1,u=t.split('.'),p=u[u.length-1],l=r(d[0]).apply(null,u);if(l){var f=l.prototype;if(!r(d[1])&&r(d[2])(f,'cause')&&delete f.cause,!a)return l;var h=r(d[0])('Error'),v=n(function(t,n){var a=r(d[3])(c?n:t,void 0),o=c?new l(t):new l;return void 0!==a&&r(d[4])(o,'message',a),r(d[5])(o,v,o.stack,2),this&&r(d[6])(f,this)&&r(d[7])(o,this,v),arguments.length>s&&r(d[8])(o,arguments[s]),o});if(v.prototype=f,'Error'!==p?r(d[9])?r(d[9])(v,h):r(d[10])(v,h,{name:!0}):r(d[11])&&o in l&&(r(d[12])(v,l,o),r(d[12])(v,l,'prepareStackTrace')),r(d[10])(v,l),!r(d[1]))try{f.name!==p&&r(d[4])(f,'name',p),f.constructor=v}catch(t){}return v}}},787,[708,701,681,754,752,758,709,788,789,729,761,689,790]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,o,n){var c,p;return r(d[0])&&r(d[1])(c=o.constructor)&&c!==n&&r(d[2])(p=c.prototype)&&p!==n.prototype&&r(d[0])(t,p),t}},788,[729,693,692]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(c,s){r(d[0])(s)&&'cause'in s&&r(d[1])(c,'cause',s.cause)}},789,[692,752]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,t,u){u in n||r(d[0]).f(n,u,{configurable:!0,get:function(){return t[u]},set:function(n){t[u]=n}})}},790,[688]);
__d(function(g,r,i,a,m,e,d){},791,[]);
__d(function(g,r,i,a,m,e,d){},792,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;var s=(function(){return n(function n(s){t(this,n),this.name=s,this.registeredStates=[],this.registeredHandlers={}},[{key:"registerState",value:function(t,n){var s=function(n){return new(r(d[2]).StateInstance)(s,t,n)};return s.is=function(n){return n instanceof r(d[2]).StateInstance&&n[r(d[3]).stateNameSym]===t},s.stateName=t,s.groupName=this.name,this.registeredStates.push(s),this.registeredHandlers[t]=n,s}},{key:"bootstrap",value:function(t){return this.initFactory=t,this}},{key:"accepts",value:function(t,n){return n in this.registeredHandlers[t[r(d[3]).stateNameSym]]}},{key:"handle",value:function(t,n,s){var u=t[this.name],o=this.registeredHandlers[u[r(d[3]).stateNameSym]][n];if(null==o)return r(d[4]).Result.ignore(`Signal ${String(n)} is not handled in state ${u[r(d[3]).stateNameSym]}`);try{var c=o(t,s);return c instanceof r(d[4]).Result?c:c instanceof r(d[2]).StateInstance?r(d[4]).Result.ok(c):r(d[4]).Result.ok(r(d[2]).StateInstance.clone(u,c))}catch(t){return r(d[4]).Result.error(t)}}}])})();e.Group=s},793,[12,13,722,723,720]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]),t=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.SignalType=e.createSignal=void 0,e.createSignal=function(n){return new c(n)};var c=n(function n(c){t(this,n),this.name=c});e.SignalType=c},794,[13,12]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=this&&this.__createBinding||(Object.create?function(t,n,o,u){void 0===u&&(u=o);var c=Object.getOwnPropertyDescriptor(n,o);c&&!("get"in c?!n.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return n[o]}}),Object.defineProperty(t,u,c)}:function(t,n,o,u){void 0===u&&(u=o),t[u]=n[o]}),n=this&&this.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),o=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(null!=o)for(var c in o)"default"!==c&&Object.prototype.hasOwnProperty.call(o,c)&&t(u,o,c);return n(u,o),u},u=this&&this.__exportStar||function(n,o){for(var u in n)"default"===u||Object.prototype.hasOwnProperty.call(o,u)||t(o,n,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;var c=o(r(d[0]));e.z=c,u(r(d[0]),e),e.default=c},795,[796]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=this&&this.__createBinding||(Object.create?function(t,n,o,c){void 0===c&&(c=o);var u=Object.getOwnPropertyDescriptor(n,o);u&&!("get"in u?!n.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return n[o]}}),Object.defineProperty(t,c,u)}:function(t,n,o,c){void 0===c&&(c=o),t[c]=n[o]}),n=this&&this.__exportStar||function(n,o){for(var c in n)"default"===c||Object.prototype.hasOwnProperty.call(o,c)||t(o,n,c)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(d[0]),e),n(r(d[1]),e),n(r(d[2]),e),n(r(d[3]),e),n(r(d[4]),e),n(r(d[5]),e)},796,[797,801,802,800,803,799]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultErrorMap=void 0,e.setErrorMap=function(t){o=t},e.getErrorMap=function(){return o};var u=t(r(d[0]));e.defaultErrorMap=u.default;var o=u.default},797,[798]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,n){var s;switch(t.code){case r(d[0]).ZodIssueCode.invalid_type:s=t.received===r(d[1]).ZodParsedType.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case r(d[0]).ZodIssueCode.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,r(d[1]).util.jsonStringifyReplacer)}`;break;case r(d[0]).ZodIssueCode.unrecognized_keys:s=`Unrecognized key(s) in object: ${r(d[1]).util.joinValues(t.keys,", ")}`;break;case r(d[0]).ZodIssueCode.invalid_union:s="Invalid input";break;case r(d[0]).ZodIssueCode.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${r(d[1]).util.joinValues(t.options)}`;break;case r(d[0]).ZodIssueCode.invalid_enum_value:s=`Invalid enum value. Expected ${r(d[1]).util.joinValues(t.options)}, received '${t.received}'`;break;case r(d[0]).ZodIssueCode.invalid_arguments:s="Invalid function arguments";break;case r(d[0]).ZodIssueCode.invalid_return_type:s="Invalid function return type";break;case r(d[0]).ZodIssueCode.invalid_date:s="Invalid date";break;case r(d[0]).ZodIssueCode.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:r(d[1]).util.assertNever(t.validation):s="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case r(d[0]).ZodIssueCode.too_small:s="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type||"bigint"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:"Invalid input";break;case r(d[0]).ZodIssueCode.too_big:s="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:"Invalid input";break;case r(d[0]).ZodIssueCode.custom:s="Invalid input";break;case r(d[0]).ZodIssueCode.invalid_intersection_types:s="Intersection results could not be merged";break;case r(d[0]).ZodIssueCode.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case r(d[0]).ZodIssueCode.not_finite:s="Number must be finite";break;default:s=n.defaultError,r(d[1]).util.assertNever(t)}return{message:s}}},798,[799,800]);
__d(function(g,r,_i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),o=r(d[4]),i=r(d[5]),u=r(d[6]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.ZodError=_e.quotelessJson=_e.ZodIssueCode=void 0,_e.ZodIssueCode=r(d[7]).util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);_e.quotelessJson=function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")};var c=(function(u){function c(n){var i,u,f,_;t(this,c),u=this,f=o(f=c),(i=s(u,l()?Reflect.construct(f,_||[],o(u).constructor):f.apply(u,_))).issues=[],i.addIssue=function(t){i.issues=[].concat(e(i.issues),[t])},i.addIssues=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i.issues=[].concat(e(i.issues),e(t))};var v=new.target.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(i,v):i.__proto__=v,i.name="ZodError",i.issues=n,i}return i(c,u),n(c,[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]},s=function(e){for(var o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(s);else if("invalid_return_type"===o.code)s(o.returnTypeError);else if("invalid_arguments"===o.code)s(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else for(var i=n,u=0;u<o.path.length;){var l=o.path[u];u===o.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(t(o))):i[l]=i[l]||{_errors:[]},i=i[l],u++}};return s(this),n}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,r(d[7]).util.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},t={},n=[];for(var s of this.issues)if(s.path.length>0){var o=s.path[0];t[o]=t[o]||[],t[o].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:t}}},{key:"formErrors",get:function(){return this.flatten()}}],[{key:"assert",value:function(e){if(!(e instanceof c))throw new Error(`Not a ZodError: ${e}`)}}])})(u(Error));_e.ZodError=c,c.create=function(e){return new c(e)}},799,[6,12,13,23,25,28,85,800]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e,n;Object.defineProperty(_e,"__esModule",{value:!0}),_e.getParsedType=_e.ZodParsedType=_e.objectUtil=_e.util=void 0,(function(e){e.assertEqual=function(e){},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var n={};for(var t of e)n[t]=t;return n},e.getValidEnumValues=function(n){var t=e.objectKeys(n).filter(function(e){return"number"!=typeof n[n[e]]}),o={};for(var u of t)o[u]=n[u];return e.objectValues(o)},e.objectValues=function(n){return e.objectKeys(n).map(function(e){return n[e]})},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},e.find=function(e,n){for(var t of e)if(n(t))return t},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(function(e){return"string"==typeof e?`'${e}'`:e}).join(n)},e.jsonStringifyReplacer=function(e,n){return"bigint"==typeof n?n.toString():n}})(e||(_e.util=e={})),(function(e){e.mergeShapes=function(e,n){return Object.assign({},e,n)}})(n||(_e.objectUtil=n={})),_e.ZodParsedType=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);_e.getParsedType=function(e){switch(typeof e){case"undefined":return _e.ZodParsedType.undefined;case"string":return _e.ZodParsedType.string;case"number":return Number.isNaN(e)?_e.ZodParsedType.nan:_e.ZodParsedType.number;case"boolean":return _e.ZodParsedType.boolean;case"function":return _e.ZodParsedType.function;case"bigint":return _e.ZodParsedType.bigint;case"symbol":return _e.ZodParsedType.symbol;case"object":return Array.isArray(e)?_e.ZodParsedType.array:null===e?_e.ZodParsedType.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?_e.ZodParsedType.promise:"undefined"!=typeof Map&&e instanceof Map?_e.ZodParsedType.map:"undefined"!=typeof Set&&e instanceof Set?_e.ZodParsedType.set:"undefined"!=typeof Date&&e instanceof Date?_e.ZodParsedType.date:_e.ZodParsedType.object;default:return _e.ZodParsedType.unknown}}},800,[]);
__d(function(g,r,i,a,_m,e,d){"use strict";var t=r(d[0]),u=r(d[1]),s=r(d[2]),n=r(d[3]),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=e.isValid=e.isDirty=e.isAborted=e.OK=e.DIRTY=e.INVALID=e.ParseStatus=e.EMPTY_PATH=e.makeIssue=void 0,e.addIssueToContext=function(t,u){var s=(0,r(d[5]).getErrorMap)(),n=(0,e.makeIssue)({issueData:u,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===v.default?void 0:v.default].filter(function(t){return!!t})});t.common.issues.push(n)};var v=o(r(d[4]));e.makeIssue=function(t){var u=t.data,s=t.path,o=t.errorMaps,v=t.issueData,l=[].concat(n(s),n(v.path||[])),f=Object.assign({},v,{path:l});if(void 0!==v.message)return Object.assign({},v,{path:l,message:v.message});var c="",y=o.filter(function(t){return!!t}).slice().reverse();for(var p of y)c=p(f,{data:u,defaultError:c}).message;return Object.assign({},v,{path:l,message:c})},e.EMPTY_PATH=[];var l=(function(){function n(){u(this,n),this.value="valid"}return s(n,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(t,u){var s=[];for(var n of u){if("aborted"===n.status)return e.INVALID;"dirty"===n.status&&t.dirty(),s.push(n.value)}return{status:t.value,value:s}}},{key:"mergeObjectAsync",value:(o=t(function*(t,u){var s=[];for(var o of u){var v=yield o.key,l=yield o.value;s.push({key:v,value:l})}return n.mergeObjectSync(t,s)}),function(t,u){return o.apply(this,arguments)})},{key:"mergeObjectSync",value:function(t,u){var s={};for(var n of u){var o=n.key,v=n.value;if("aborted"===o.status)return e.INVALID;if("aborted"===v.status)return e.INVALID;"dirty"===o.status&&t.dirty(),"dirty"===v.status&&t.dirty(),"__proto__"===o.value||void 0===v.value&&!n.alwaysSet||(s[o.value]=v.value)}return{status:t.value,value:s}}}]);var o})();e.ParseStatus=l,e.INVALID=Object.freeze({status:"aborted"});e.DIRTY=function(t){return{status:"dirty",value:t}};e.OK=function(t){return{status:"valid",value:t}};e.isAborted=function(t){return"aborted"===t.status};e.isDirty=function(t){return"dirty"===t.status};e.isValid=function(t){return"valid"===t.status};e.isAsync=function(t){return"undefined"!=typeof Promise&&t instanceof Promise}},801,[345,12,13,6,798,797]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},802,[]);
__d(function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),n=_r(d[2]),r=_r(d[3]),a=_r(d[4]),i=_r(d[5]),s=_r(d[6]),u=_r(d[7]),o=_r(d[8]);function c(e,r,a){return r=n(r),t(e,l()?Reflect.construct(r,a||[],n(e).constructor):r.apply(e,a))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.discriminatedUnion=_e.date=_e.boolean=_e.bigint=_e.array=_e.any=_e.coerce=_e.ZodFirstPartyTypeKind=_e.late=_e.ZodSchema=_e.Schema=_e.ZodReadonly=_e.ZodPipeline=_e.ZodBranded=_e.BRAND=_e.ZodNaN=_e.ZodCatch=_e.ZodDefault=_e.ZodNullable=_e.ZodOptional=_e.ZodTransformer=_e.ZodEffects=_e.ZodPromise=_e.ZodNativeEnum=_e.ZodEnum=_e.ZodLiteral=_e.ZodLazy=_e.ZodFunction=_e.ZodSet=_e.ZodMap=_e.ZodRecord=_e.ZodTuple=_e.ZodIntersection=_e.ZodDiscriminatedUnion=_e.ZodUnion=_e.ZodObject=_e.ZodArray=_e.ZodVoid=_e.ZodNever=_e.ZodUnknown=_e.ZodAny=_e.ZodNull=_e.ZodUndefined=_e.ZodSymbol=_e.ZodDate=_e.ZodBoolean=_e.ZodBigInt=_e.ZodNumber=_e.ZodString=_e.ZodType=void 0,_e.NEVER=_e.void=_e.unknown=_e.union=_e.undefined=_e.tuple=_e.transformer=_e.symbol=_e.string=_e.strictObject=_e.set=_e.record=_e.promise=_e.preprocess=_e.pipeline=_e.ostring=_e.optional=_e.onumber=_e.oboolean=_e.object=_e.number=_e.nullable=_e.null=_e.never=_e.nativeEnum=_e.nan=_e.map=_e.literal=_e.lazy=_e.intersection=_e.instanceof=_e.function=_e.enum=_e.effect=void 0,_e.datetimeRegex=R,_e.custom=Ne;var f=(function(){return o(function e(t,n,r,a){u(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a},[{key:"path",get:function(){var e,t;this._cachedPath.length||(Array.isArray(this._key)?(e=this._cachedPath).push.apply(e,s(this._path).concat(s(this._key))):(t=this._cachedPath).push.apply(t,s(this._path).concat([this._key])));return this._cachedPath}}])})(),h=function(e,t){if((0,_r(d[9]).isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new(_r(d[10]).ZodError)(e.common.issues);return this._error=t,this._error}}};function p(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,a=e.description;if(t&&(n||r))throw new Error("Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.");if(t)return{errorMap:t,description:a};return{errorMap:function(t,a){var i,s,u=e.message;return"invalid_enum_value"===t.code?{message:null!=u?u:a.defaultError}:void 0===a.data?{message:null!=(s=null!=u?u:r)?s:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!=(i=null!=u?u:n)?i:a.defaultError}},description:a}}var v=(function(){return o(function e(t){var n=this;u(this,e),this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:function(e){return n["~validate"](e)}}},[{key:"description",get:function(){return this._def.description}},{key:"_getType",value:function(e){return(0,_r(d[11]).getParsedType)(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,_r(d[11]).getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new(_r(d[9]).ParseStatus),ctx:{common:e.parent.common,data:e.data,parsedType:(0,_r(d[11]).getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if((0,_r(d[9]).isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){var t=this._parse(e);return Promise.resolve(t)}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!=(n=null==t?void 0:t.async)&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,_r(d[11]).getParsedType)(e)},a=this._parseSync({data:e,path:r.path,parent:r});return h(r,a)}},{key:"~validate",value:function(e){var t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,_r(d[11]).getParsedType)(e)};if(!this["~standard"].async)try{var n=this._parseSync({data:e,path:[],parent:t});return(0,_r(d[9]).isValid)(n)?{value:n.value}:{issues:t.common.issues}}catch(e){var r;null!=e&&null!=(r=e.message)&&null!=(r=r.toLowerCase())&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(function(e){return(0,_r(d[9]).isValid)(e)?{value:e.value}:{issues:t.common.issues}})}},{key:"parseAsync",value:(t=i(function*(e,t){var n=yield this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}),function(e,n){return t.apply(this,arguments)})},{key:"safeParseAsync",value:(e=i(function*(e,t){var n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,_r(d[11]).getParsedType)(e)},r=this._parse({data:e,path:n.path,parent:n}),a=yield(0,_r(d[9]).isAsync)(r)?r:Promise.resolve(r);return h(n,a)}),function(t,n){return e.apply(this,arguments)})},{key:"refine",value:function(e,t){var n=function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t};return this._refinement(function(t,r){var a=e(t),i=function(){return r.addIssue(Object.assign({code:_r(d[10]).ZodIssueCode.custom},n(t)))};return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return!!e||(i(),!1)}):!!a||(i(),!1)})}},{key:"refinement",value:function(e,t){return this._refinement(function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)})}},{key:"_refinement",value:function(e){return new ke({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"optional",value:function(){return Ze.create(this,this._def)}},{key:"nullable",value:function(){return be.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return ee.create(this)}},{key:"promise",value:function(){return ge.create(this,this._def)}},{key:"or",value:function(e){return re.create([this,e],this._def)}},{key:"and",value:function(e){return ue.create(this,e,this._def)}},{key:"transform",value:function(e){return new ke(Object.assign({},p(this._def),{schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){var t="function"==typeof e?e:function(){return e};return new Ie(Object.assign({},p(this._def),{innerType:this,defaultValue:t,typeName:je.ZodDefault}))}},{key:"brand",value:function(){return new Ce(Object.assign({typeName:je.ZodBranded,type:this},p(this._def)))}},{key:"catch",value:function(e){var t="function"==typeof e?e:function(){return e};return new Te(Object.assign({},p(this._def),{innerType:this,catchValue:t,typeName:je.ZodCatch}))}},{key:"describe",value:function(e){return new(0,this.constructor)(Object.assign({},this._def,{description:e}))}},{key:"pipe",value:function(e){return Oe.create(this,e)}},{key:"readonly",value:function(){return we.create(this)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]);var e,t})();_e.ZodType=v,_e.Schema=v,_e.ZodSchema=v;var y,_=/^c[^\s-]{8,}$/i,k=/^[0-9a-z]+$/,Z=/^[0-9A-HJKMNP-TV-Z]{26}$/i,b=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,I=/^[a-z0-9_-]{21}$/i,T=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,x=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,O=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,j=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,w=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,N=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,S="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",L=new RegExp(`^${S}$`);function U(e){var t="[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function D(e){return new RegExp(`^${U(e)}$`)}function R(e){var t=`${S}T${U(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function E(e,t){return!("v4"!==t&&t||!O.test(e))||!("v6"!==t&&t||!w.test(e))}function V(e,t){if(!T.test(e))return!1;try{var n=e.split("."),r=a(n,1)[0];if(!r)return!1;var i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(i));return"object"==typeof s&&null!==s&&((!("typ"in s)||"JWT"===(null==s?void 0:s.typ))&&(!!s.alg&&(!t||s.alg===t)))}catch(e){return!1}}function F(e,t){return!("v4"!==t&&t||!j.test(e))||!("v6"!==t&&t||!A.test(e))}var M=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_r(d[11]).ZodParsedType.string){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.string,received:t.parsedType}),_r(d[9]).INVALID}var n=new(_r(d[9]).ParseStatus),r=void 0;for(var a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if("max"===a.kind)e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if("length"===a.kind){var i=e.data.length>a.value,s=e.data.length<a.value;(i||s)&&(r=this._getOrReturnCtx(e,r),i?(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if("email"===a.kind)C.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"email",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty());else if("emoji"===a.kind)y||(y=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),y.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"emoji",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty());else if("uuid"===a.kind)b.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"uuid",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty());else if("nanoid"===a.kind)I.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"nanoid",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty());else if("cuid"===a.kind)_.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"cuid",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty());else if("cuid2"===a.kind)k.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"cuid2",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty());else if("ulid"===a.kind)Z.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"ulid",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(t){r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"url",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"regex",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty());else if("datetime"===a.kind){R(a).test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_string,validation:"datetime",message:a.message}),n.dirty())}else if("date"===a.kind){L.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_string,validation:"date",message:a.message}),n.dirty())}else if("time"===a.kind){D(a).test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_string,validation:"time",message:a.message}),n.dirty())}else"duration"===a.kind?x.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"duration",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty()):"ip"===a.kind?E(e.data,a.version)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"ip",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty()):"jwt"===a.kind?V(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"jwt",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty()):"cidr"===a.kind?F(e.data,a.version)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"cidr",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty()):"base64"===a.kind?N.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"base64",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty()):"base64url"===a.kind?P.test(e.data)||(r=this._getOrReturnCtx(e,r),(0,_r(d[9]).addIssueToContext)(r,{validation:"base64url",code:_r(d[10]).ZodIssueCode.invalid_string,message:a.message}),n.dirty()):_r(d[11]).util.assertNever(a);return{status:n.value,value:e.data}}},{key:"_regex",value:function(e,t,n){return this.refinement(function(t){return e.test(t)},Object.assign({validation:t,code:_r(d[10]).ZodIssueCode.invalid_string},_r(d[12]).errorUtil.errToObj(n)))}},{key:"_addCheck",value:function(e){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(Object.assign({kind:"email"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(Object.assign({kind:"url"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(Object.assign({kind:"emoji"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(Object.assign({kind:"uuid"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"nanoid",value:function(e){return this._addCheck(Object.assign({kind:"nanoid"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(Object.assign({kind:"cuid"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(Object.assign({kind:"cuid2"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(Object.assign({kind:"ulid"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"base64",value:function(e){return this._addCheck(Object.assign({kind:"base64"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"base64url",value:function(e){return this._addCheck(Object.assign({kind:"base64url"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"jwt",value:function(e){return this._addCheck(Object.assign({kind:"jwt"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(Object.assign({kind:"ip"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"cidr",value:function(e){return this._addCheck(Object.assign({kind:"cidr"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"datetime",value:function(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(Object.assign({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,local:null!=(n=null==e?void 0:e.local)&&n},_r(d[12]).errorUtil.errToObj(null==e?void 0:e.message)))}},{key:"date",value:function(e){return this._addCheck({kind:"date",message:e})}},{key:"time",value:function(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(Object.assign({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},_r(d[12]).errorUtil.errToObj(null==e?void 0:e.message)))}},{key:"duration",value:function(e){return this._addCheck(Object.assign({kind:"duration"},_r(d[12]).errorUtil.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(Object.assign({kind:"regex",regex:e},_r(d[12]).errorUtil.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(Object.assign({kind:"includes",value:e,position:null==t?void 0:t.position},_r(d[12]).errorUtil.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(Object.assign({kind:"startsWith",value:e},_r(d[12]).errorUtil.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(Object.assign({kind:"endsWith",value:e},_r(d[12]).errorUtil.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(Object.assign({kind:"min",value:e},_r(d[12]).errorUtil.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(Object.assign({kind:"max",value:e},_r(d[12]).errorUtil.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(Object.assign({kind:"length",value:e},_r(d[12]).errorUtil.errToObj(t)))}},{key:"nonempty",value:function(e){return this.min(1,_r(d[12]).errorUtil.errToObj(e))}},{key:"trim",value:function(){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[{kind:"trim"}])}))}},{key:"toLowerCase",value:function(){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[{kind:"toLowerCase"}])}))}},{key:"toUpperCase",value:function(){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[{kind:"toUpperCase"}])}))}},{key:"isDatetime",get:function(){return!!this._def.checks.find(function(e){return"datetime"===e.kind})}},{key:"isDate",get:function(){return!!this._def.checks.find(function(e){return"date"===e.kind})}},{key:"isTime",get:function(){return!!this._def.checks.find(function(e){return"time"===e.kind})}},{key:"isDuration",get:function(){return!!this._def.checks.find(function(e){return"duration"===e.kind})}},{key:"isEmail",get:function(){return!!this._def.checks.find(function(e){return"email"===e.kind})}},{key:"isURL",get:function(){return!!this._def.checks.find(function(e){return"url"===e.kind})}},{key:"isEmoji",get:function(){return!!this._def.checks.find(function(e){return"emoji"===e.kind})}},{key:"isUUID",get:function(){return!!this._def.checks.find(function(e){return"uuid"===e.kind})}},{key:"isNANOID",get:function(){return!!this._def.checks.find(function(e){return"nanoid"===e.kind})}},{key:"isCUID",get:function(){return!!this._def.checks.find(function(e){return"cuid"===e.kind})}},{key:"isCUID2",get:function(){return!!this._def.checks.find(function(e){return"cuid2"===e.kind})}},{key:"isULID",get:function(){return!!this._def.checks.find(function(e){return"ulid"===e.kind})}},{key:"isIP",get:function(){return!!this._def.checks.find(function(e){return"ip"===e.kind})}},{key:"isCIDR",get:function(){return!!this._def.checks.find(function(e){return"cidr"===e.kind})}},{key:"isBase64",get:function(){return!!this._def.checks.find(function(e){return"base64"===e.kind})}},{key:"isBase64url",get:function(){return!!this._def.checks.find(function(e){return"base64url"===e.kind})}},{key:"minLength",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}},{key:"maxLength",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}])})(v);function z(e,t){var n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}_e.ZodString=M,M.create=function(e){var t;return new M(Object.assign({checks:[],typeName:je.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t},p(e)))};var $=(function(e){function t(){var e;return u(this,t),(e=c(this,t,arguments)).min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_r(d[11]).ZodParsedType.number){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.number,received:t.parsedType}),_r(d[9]).INVALID}var n=void 0,r=new(_r(d[9]).ParseStatus);for(var a of this._def.checks)if("int"===a.kind)_r(d[11]).util.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty())}else"multipleOf"===a.kind?0!==z(e.data,a.value)&&(n=this._getOrReturnCtx(e,n),(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.not_finite,message:a.message}),r.dirty()):_r(d[11]).util.assertNever(a);return{status:r.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,_r(d[12]).errorUtil.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,_r(d[12]).errorUtil.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,_r(d[12]).errorUtil.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,_r(d[12]).errorUtil.toString(t))}},{key:"setLimit",value:function(e,n,r,a){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[{kind:e,value:n,inclusive:r,message:_r(d[12]).errorUtil.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:_r(d[12]).errorUtil.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_r(d[12]).errorUtil.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_r(d[12]).errorUtil.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_r(d[12]).errorUtil.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_r(d[12]).errorUtil.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_r(d[12]).errorUtil.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:_r(d[12]).errorUtil.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_r(d[12]).errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_r(d[12]).errorUtil.toString(e)})}},{key:"minValue",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}},{key:"maxValue",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}},{key:"isInt",get:function(){return!!this._def.checks.find(function(e){return"int"===e.kind||"multipleOf"===e.kind&&_r(d[11]).util.isInteger(e.value)})}},{key:"isFinite",get:function(){var e=null,t=null;for(var n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}])})(v);_e.ZodNumber=$,$.create=function(e){return new $(Object.assign({checks:[],typeName:je.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},p(e)))};var K=(function(e){function t(){var e;return u(this,t),(e=c(this,t,arguments)).min=e.gte,e.max=e.lte,e}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==_r(d[11]).ZodParsedType.bigint)return this._getInvalidInput(e);var t=void 0,n=new(_r(d[9]).ParseStatus);for(var r of this._def.checks){if("min"===r.kind)(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty());else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):_r(d[11]).util.assertNever(r)}return{status:n.value,value:e.data}}},{key:"_getInvalidInput",value:function(e){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.bigint,received:t.parsedType}),_r(d[9]).INVALID}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,_r(d[12]).errorUtil.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,_r(d[12]).errorUtil.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,_r(d[12]).errorUtil.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,_r(d[12]).errorUtil.toString(t))}},{key:"setLimit",value:function(e,n,r,a){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[{kind:e,value:n,inclusive:r,message:_r(d[12]).errorUtil.toString(a)}])}))}},{key:"_addCheck",value:function(e){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_r(d[12]).errorUtil.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_r(d[12]).errorUtil.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_r(d[12]).errorUtil.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_r(d[12]).errorUtil.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_r(d[12]).errorUtil.toString(t)})}},{key:"minValue",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}},{key:"maxValue",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}])})(v);_e.ZodBigInt=K,K.create=function(e){var t;return new K(Object.assign({checks:[],typeName:je.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t},p(e)))};var B=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==_r(d[11]).ZodParsedType.boolean){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.boolean,received:t.parsedType}),_r(d[9]).INVALID}return(0,_r(d[9]).OK)(e.data)}}])})(v);_e.ZodBoolean=B,B.create=function(e){return new B(Object.assign({typeName:je.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},p(e)))};var W=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_r(d[11]).ZodParsedType.date){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.date,received:t.parsedType}),_r(d[9]).INVALID}if(Number.isNaN(e.data.getTime())){var n=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.invalid_date}),_r(d[9]).INVALID}var r=new(_r(d[9]).ParseStatus),a=void 0;for(var i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),(0,_r(d[9]).addIssueToContext)(a,{code:_r(d[10]).ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),(0,_r(d[9]).addIssueToContext)(a,{code:_r(d[10]).ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):_r(d[11]).util.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new t(Object.assign({},this._def,{checks:[].concat(s(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_r(d[12]).errorUtil.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_r(d[12]).errorUtil.toString(t)})}},{key:"minDate",get:function(){var e=null;for(var t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}},{key:"maxDate",get:function(){var e=null;for(var t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}])})(v);_e.ZodDate=W,W.create=function(e){return new W(Object.assign({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:je.ZodDate},p(e)))};var Y=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._getType(e)!==_r(d[11]).ZodParsedType.symbol){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.symbol,received:t.parsedType}),_r(d[9]).INVALID}return(0,_r(d[9]).OK)(e.data)}}])})(v);_e.ZodSymbol=Y,Y.create=function(e){return new Y(Object.assign({typeName:je.ZodSymbol},p(e)))};var q=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._getType(e)!==_r(d[11]).ZodParsedType.undefined){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.undefined,received:t.parsedType}),_r(d[9]).INVALID}return(0,_r(d[9]).OK)(e.data)}}])})(v);_e.ZodUndefined=q,q.create=function(e){return new q(Object.assign({typeName:je.ZodUndefined},p(e)))};var H=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._getType(e)!==_r(d[11]).ZodParsedType.null){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.null,received:t.parsedType}),_r(d[9]).INVALID}return(0,_r(d[9]).OK)(e.data)}}])})(v);_e.ZodNull=H,H.create=function(e){return new H(Object.assign({typeName:je.ZodNull},p(e)))};var J=(function(e){function t(){var e;return u(this,t),(e=c(this,t,arguments))._any=!0,e}return r(t,e),o(t,[{key:"_parse",value:function(e){return(0,_r(d[9]).OK)(e.data)}}])})(v);_e.ZodAny=J,J.create=function(e){return new J(Object.assign({typeName:je.ZodAny},p(e)))};var G=(function(e){function t(){var e;return u(this,t),(e=c(this,t,arguments))._unknown=!0,e}return r(t,e),o(t,[{key:"_parse",value:function(e){return(0,_r(d[9]).OK)(e.data)}}])})(v);_e.ZodUnknown=G,G.create=function(e){return new G(Object.assign({typeName:je.ZodUnknown},p(e)))};var X=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.never,received:t.parsedType}),_r(d[9]).INVALID}}])})(v);_e.ZodNever=X,X.create=function(e){return new X(Object.assign({typeName:je.ZodNever},p(e)))};var Q=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._getType(e)!==_r(d[11]).ZodParsedType.undefined){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.void,received:t.parsedType}),_r(d[9]).INVALID}return(0,_r(d[9]).OK)(e.data)}}])})(v);_e.ZodVoid=Q,Q.create=function(e){return new Q(Object.assign({typeName:je.ZodVoid},p(e)))};var ee=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,a=this._def;if(n.parsedType!==_r(d[11]).ZodParsedType.array)return(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.array,received:n.parsedType}),_r(d[9]).INVALID;if(null!==a.exactLength){var i=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(i||u)&&((0,_r(d[9]).addIssueToContext)(n,{code:i?_r(d[10]).ZodIssueCode.too_big:_r(d[10]).ZodIssueCode.too_small,minimum:u?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&n.data.length<a.minLength.value&&((0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&n.data.length>a.maxLength.value&&((0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all(s(n.data).map(function(e,t){return a.type._parseAsync(new f(n,e,n.path,t))})).then(function(e){return _r(d[9]).ParseStatus.mergeArray(r,e)});var o=s(n.data).map(function(e,t){return a.type._parseSync(new f(n,e,n.path,t))});return _r(d[9]).ParseStatus.mergeArray(r,o)}},{key:"element",get:function(){return this._def.type}},{key:"min",value:function(e,n){return new t(Object.assign({},this._def,{minLength:{value:e,message:_r(d[12]).errorUtil.toString(n)}}))}},{key:"max",value:function(e,n){return new t(Object.assign({},this._def,{maxLength:{value:e,message:_r(d[12]).errorUtil.toString(n)}}))}},{key:"length",value:function(e,n){return new t(Object.assign({},this._def,{exactLength:{value:e,message:_r(d[12]).errorUtil.toString(n)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}}])})(v);function te(e){if(e instanceof ne){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=Ze.create(te(r))}return new ne(Object.assign({},e._def,{shape:function(){return t}}))}return e instanceof ee?new ee(Object.assign({},e._def,{type:te(e.element)})):e instanceof Ze?Ze.create(te(e.unwrap())):e instanceof be?be.create(te(e.unwrap())):e instanceof oe?oe.create(e.items.map(function(e){return te(e)})):e}_e.ZodArray=ee,ee.create=function(e,t){return new ee(Object.assign({type:e,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray},p(t)))};var ne=(function(t){function n(){var e;return u(this,n),(e=c(this,n,arguments))._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return r(n,t),o(n,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=_r(d[11]).util.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}},{key:"_parse",value:function(e){if(this._getType(e)!==_r(d[11]).ZodParsedType.object){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.object,received:t.parsedType}),_r(d[9]).INVALID}var n=this._processInputParams(e),r=n.status,a=n.ctx,s=this._getCached(),u=s.shape,o=s.keys,c=[];if(!(this._def.catchall instanceof X&&"strip"===this._def.unknownKeys))for(var l in a.data)o.includes(l)||c.push(l);var h=[];for(var p of o){var v=u[p],y=a.data[p];h.push({key:{status:"valid",value:p},value:v._parse(new f(a,y,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof X){var _=this._def.unknownKeys;if("passthrough"===_)for(var k of c)h.push({key:{status:"valid",value:k},value:{status:"valid",value:a.data[k]}});else if("strict"===_)c.length>0&&((0,_r(d[9]).addIssueToContext)(a,{code:_r(d[10]).ZodIssueCode.unrecognized_keys,keys:c}),r.dirty());else if("strip"!==_)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var Z=this._def.catchall;for(var b of c){var I=a.data[b];h.push({key:{status:"valid",value:b},value:Z._parse(new f(a,I,a.path,b)),alwaysSet:b in a.data})}}return a.common.async?Promise.resolve().then(i(function*(){var e=[];for(var t of h){var n=yield t.key,r=yield t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then(function(e){return _r(d[9]).ParseStatus.mergeObjectSync(r,e)}):_r(d[9]).ParseStatus.mergeObjectSync(r,h)}},{key:"shape",get:function(){return this._def.shape()}},{key:"strict",value:function(e){var t=this;return _r(d[12]).errorUtil.errToObj,new n(Object.assign({},this._def,{unknownKeys:"strict"},void 0!==e?{errorMap:function(n,r){var a,i,s=null!=(a=null==t._def.errorMap?void 0:t._def.errorMap(n,r).message)?a:r.defaultError;return"unrecognized_keys"===n.code?{message:null!=(i=_r(d[12]).errorUtil.errToObj(e).message)?i:s}:{message:s}}}:{}))}},{key:"strip",value:function(){return new n(Object.assign({},this._def,{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new n(Object.assign({},this._def,{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var t=this;return new n(Object.assign({},this._def,{shape:function(){return Object.assign({},t._def.shape(),e)}}))}},{key:"merge",value:function(e){var t=this;return new n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return Object.assign({},t._def.shape(),e._def.shape())},typeName:je.ZodObject})}},{key:"setKey",value:function(t,n){return this.augment(e({},t,n))}},{key:"catchall",value:function(e){return new n(Object.assign({},this._def,{catchall:e}))}},{key:"pick",value:function(e){var t={};for(var r of _r(d[11]).util.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new n(Object.assign({},this._def,{shape:function(){return t}}))}},{key:"omit",value:function(e){var t={};for(var r of _r(d[11]).util.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new n(Object.assign({},this._def,{shape:function(){return t}}))}},{key:"deepPartial",value:function(){return te(this)}},{key:"partial",value:function(e){var t={};for(var r of _r(d[11]).util.objectKeys(this.shape)){var a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}return new n(Object.assign({},this._def,{shape:function(){return t}}))}},{key:"required",value:function(e){var t={};for(var r of _r(d[11]).util.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{for(var a=this.shape[r];a instanceof Ze;)a=a._def.innerType;t[r]=a}return new n(Object.assign({},this._def,{shape:function(){return t}}))}},{key:"keyof",value:function(){return ve(_r(d[11]).util.objectKeys(this.shape))}}])})(v);_e.ZodObject=ne,ne.create=function(e,t){return new ne(Object.assign({shape:function(){return e},unknownKeys:"strip",catchall:X.create(),typeName:je.ZodObject},p(t)))},ne.strictCreate=function(e,t){return new ne(Object.assign({shape:function(){return e},unknownKeys:"strict",catchall:X.create(),typeName:je.ZodObject},p(t)))},ne.lazycreate=function(e,t){return new ne(Object.assign({shape:e,unknownKeys:"strip",catchall:X.create(),typeName:je.ZodObject},p(t)))};var re=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map((function(){var e=i(function*(e){var n=Object.assign({},t,{common:Object.assign({},t.common,{issues:[]}),parent:null});return{result:yield e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}});return function(t){return e.apply(this,arguments)}})())).then(function(e){for(var n of e)if("valid"===n.result.status)return n.result;for(var r of e){var a;if("dirty"===r.result.status)return(a=t.common.issues).push.apply(a,s(r.ctx.common.issues)),r.result}var i=e.map(function(e){return new(_r(d[10]).ZodError)(e.ctx.common.issues)});return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_union,unionErrors:i}),_r(d[9]).INVALID});var r,a=void 0,u=[];for(var o of n){var c=Object.assign({},t,{common:Object.assign({},t.common,{issues:[]}),parent:null}),l=o._parseSync({data:t.data,path:t.path,parent:c});if("valid"===l.status)return l;"dirty"!==l.status||a||(a={result:l,ctx:c}),c.common.issues.length&&u.push(c.common.issues)}if(a)return(r=t.common.issues).push.apply(r,s(a.ctx.common.issues)),a.result;var f=u.map(function(e){return new(_r(d[10]).ZodError)(e)});return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_union,unionErrors:f}),_r(d[9]).INVALID}},{key:"options",get:function(){return this._def.options}}])})(v);_e.ZodUnion=re,re.create=function(e,t){return new re(Object.assign({options:e,typeName:je.ZodUnion},p(t)))};var ae=function(e){return e instanceof he?ae(e.schema):e instanceof ke?ae(e.innerType()):e instanceof pe?[e.value]:e instanceof ye?e.options:e instanceof me?_r(d[11]).util.objectValues(e.enum):e instanceof Ie?ae(e._def.innerType):e instanceof q?[void 0]:e instanceof H?[null]:e instanceof Ze?[void 0].concat(s(ae(e.unwrap()))):e instanceof be?[null].concat(s(ae(e.unwrap()))):e instanceof Ce||e instanceof we?ae(e.unwrap()):e instanceof Te?ae(e._def.innerType):[]},ie=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==_r(d[11]).ZodParsedType.object)return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.object,received:t.parsedType}),_r(d[9]).INVALID;var n=this.discriminator,r=t.data[n],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):((0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_r(d[9]).INVALID)}},{key:"discriminator",get:function(){return this._def.discriminator}},{key:"options",get:function(){return this._def.options}},{key:"optionsMap",get:function(){return this._def.optionsMap}}],[{key:"create",value:function(e,n,r){var a=new Map;for(var i of n){var s=ae(i.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(var u of s){if(a.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);a.set(u,i)}}return new t(Object.assign({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a},p(r)))}}])})(v);function se(e,t){var n=(0,_r(d[11]).getParsedType)(e),r=(0,_r(d[11]).getParsedType)(t);if(e===t)return{valid:!0,data:e};if(n===_r(d[11]).ZodParsedType.object&&r===_r(d[11]).ZodParsedType.object){var a=_r(d[11]).util.objectKeys(t),i=_r(d[11]).util.objectKeys(e).filter(function(e){return-1!==a.indexOf(e)}),s=Object.assign({},e,t);for(var u of i){var o=se(e[u],t[u]);if(!o.valid)return{valid:!1};s[u]=o.data}return{valid:!0,data:s}}if(n===_r(d[11]).ZodParsedType.array&&r===_r(d[11]).ZodParsedType.array){if(e.length!==t.length)return{valid:!1};for(var c=[],l=0;l<e.length;l++){var f=se(e[l],t[l]);if(!f.valid)return{valid:!1};c.push(f.data)}return{valid:!0,data:c}}return n===_r(d[11]).ZodParsedType.date&&r===_r(d[11]).ZodParsedType.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}_e.ZodDiscriminatedUnion=ie;var ue=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,i=function(e,t){if((0,_r(d[9]).isAborted)(e)||(0,_r(d[9]).isAborted)(t))return _r(d[9]).INVALID;var a=se(e.value,t.value);return a.valid?(((0,_r(d[9]).isDirty)(e)||(0,_r(d[9]).isDirty)(t))&&n.dirty(),{status:n.value,value:a.data}):((0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_intersection_types}),_r(d[9]).INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(function(e){var t=a(e,2),n=t[0],r=t[1];return i(n,r)}):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}])})(v);_e.ZodIntersection=ue,ue.create=function(e,t,n){return new ue(Object.assign({left:e,right:t,typeName:je.ZodIntersection},p(n)))};var oe=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.parsedType!==_r(d[11]).ZodParsedType.array)return(0,_r(d[9]).addIssueToContext)(a,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.array,received:a.parsedType}),_r(d[9]).INVALID;if(a.data.length<this._def.items.length)return(0,_r(d[9]).addIssueToContext)(a,{code:_r(d[10]).ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_r(d[9]).INVALID;!this._def.rest&&a.data.length>this._def.items.length&&((0,_r(d[9]).addIssueToContext)(a,{code:_r(d[10]).ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var i=s(a.data).map(function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new f(a,e,a.path,n)):null}).filter(function(e){return!!e});return a.common.async?Promise.all(i).then(function(e){return _r(d[9]).ParseStatus.mergeArray(r,e)}):_r(d[9]).ParseStatus.mergeArray(r,i)}},{key:"items",get:function(){return this._def.items}},{key:"rest",value:function(e){return new t(Object.assign({},this._def,{rest:e}))}}])})(v);_e.ZodTuple=oe,oe.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oe(Object.assign({items:e,typeName:je.ZodTuple,rest:null},p(t)))};var de=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==_r(d[11]).ZodParsedType.object)return(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.object,received:r.parsedType}),_r(d[9]).INVALID;var a=[],i=this._def.keyType,s=this._def.valueType;for(var u in r.data)a.push({key:i._parse(new f(r,u,r.path,u)),value:s._parse(new f(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?_r(d[9]).ParseStatus.mergeObjectAsync(n,a):_r(d[9]).ParseStatus.mergeObjectSync(n,a)}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,n,r){return new t(n instanceof v?Object.assign({keyType:e,valueType:n,typeName:je.ZodRecord},p(r)):Object.assign({keyType:M.create(),valueType:e,typeName:je.ZodRecord},p(n)))}}])})(v);_e.ZodRecord=de;var ce=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==_r(d[11]).ZodParsedType.map)return(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.map,received:r.parsedType}),_r(d[9]).INVALID;var u=this._def.keyType,o=this._def.valueType,c=s(r.data.entries()).map(function(e,t){var n=a(e,2),i=n[0],s=n[1];return{key:u._parse(new f(r,i,r.path,[t,"key"])),value:o._parse(new f(r,s,r.path,[t,"value"]))}});if(r.common.async){var l=new Map;return Promise.resolve().then(i(function*(){for(var e of c){var t=yield e.key,r=yield e.value;if("aborted"===t.status||"aborted"===r.status)return _r(d[9]).INVALID;"dirty"!==t.status&&"dirty"!==r.status||n.dirty(),l.set(t.value,r.value)}return{status:n.value,value:l}}))}var h=new Map;for(var p of c){var v=p.key,y=p.value;if("aborted"===v.status||"aborted"===y.status)return _r(d[9]).INVALID;"dirty"!==v.status&&"dirty"!==y.status||n.dirty(),h.set(v.value,y.value)}return{status:n.value,value:h}}}])})(v);_e.ZodMap=ce,ce.create=function(e,t,n){return new ce(Object.assign({valueType:t,keyType:e,typeName:je.ZodMap},p(n)))};var le=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==_r(d[11]).ZodParsedType.set)return(0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.set,received:r.parsedType}),_r(d[9]).INVALID;var a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&((0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&((0,_r(d[9]).addIssueToContext)(r,{code:_r(d[10]).ZodIssueCode.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());var i=this._def.valueType;function u(e){var t=new Set;for(var r of e){if("aborted"===r.status)return _r(d[9]).INVALID;"dirty"===r.status&&n.dirty(),t.add(r.value)}return{status:n.value,value:t}}var o=s(r.data.values()).map(function(e,t){return i._parse(new f(r,e,r.path,t))});return r.common.async?Promise.all(o).then(function(e){return u(e)}):u(o)}},{key:"min",value:function(e,n){return new t(Object.assign({},this._def,{minSize:{value:e,message:_r(d[12]).errorUtil.toString(n)}}))}},{key:"max",value:function(e,n){return new t(Object.assign({},this._def,{maxSize:{value:e,message:_r(d[12]).errorUtil.toString(n)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}])})(v);_e.ZodSet=le,le.create=function(e,t){return new le(Object.assign({valueType:e,minSize:null,maxSize:null,typeName:je.ZodSet},p(t)))};var fe=(function(e){function t(){var e;return u(this,t),(e=c(this,t,arguments)).validate=e.implement,e}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==_r(d[11]).ZodParsedType.function)return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.function,received:t.parsedType}),_r(d[9]).INVALID;function n(e,n){return(0,_r(d[9]).makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,_r(d[13]).getErrorMap)(),_r(d[13]).defaultErrorMap].filter(function(e){return!!e}),issueData:{code:_r(d[10]).ZodIssueCode.invalid_arguments,argumentsError:n}})}function r(e,n){return(0,_r(d[9]).makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,_r(d[13]).getErrorMap)(),_r(d[13]).defaultErrorMap].filter(function(e){return!!e}),issueData:{code:_r(d[10]).ZodIssueCode.invalid_return_type,returnTypeError:n}})}var a={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof ge){var u=this;return(0,_r(d[9]).OK)(i(function*(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=new(_r(d[10]).ZodError)([]),c=yield u._def.args.parseAsync(t,a).catch(function(e){throw o.addIssue(n(t,e)),o}),l=yield Reflect.apply(s,this,c);return yield u._def.returns._def.type.parseAsync(l,a).catch(function(e){throw o.addIssue(r(l,e)),o})}))}var o=this;return(0,_r(d[9]).OK)(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var u=o._def.args.safeParse(t,a);if(!u.success)throw new(_r(d[10]).ZodError)([n(t,u.error)]);var c=Reflect.apply(s,this,u.data),l=o._def.returns.safeParse(c,a);if(!l.success)throw new(_r(d[10]).ZodError)([r(c,l.error)]);return l.data})}},{key:"parameters",value:function(){return this._def.args}},{key:"returnType",value:function(){return this._def.returns}},{key:"args",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t(Object.assign({},this._def,{args:oe.create(n).rest(G.create())}))}},{key:"returns",value:function(e){return new t(Object.assign({},this._def,{returns:e}))}},{key:"implement",value:function(e){return this.parse(e)}},{key:"strictImplement",value:function(e){return this.parse(e)}}],[{key:"create",value:function(e,n,r){return new t(Object.assign({args:e||oe.create([]).rest(G.create()),returns:n||G.create(),typeName:je.ZodFunction},p(r)))}}])})(v);_e.ZodFunction=fe;var he=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"schema",get:function(){return this._def.getter()}},{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}])})(v);_e.ZodLazy=he,he.create=function(e,t){return new he(Object.assign({getter:e,typeName:je.ZodLazy},p(t)))};var pe=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{received:t.data,code:_r(d[10]).ZodIssueCode.invalid_literal,expected:this._def.value}),_r(d[9]).INVALID}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}])})(v);function ve(e,t){return new ye(Object.assign({values:e,typeName:je.ZodEnum},p(t)))}_e.ZodLiteral=pe,pe.create=function(e,t){return new pe(Object.assign({value:e,typeName:je.ZodLiteral},p(t)))};var ye=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return(0,_r(d[9]).addIssueToContext)(t,{expected:_r(d[11]).util.joinValues(n),received:t.parsedType,code:_r(d[10]).ZodIssueCode.invalid_type}),_r(d[9]).INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){var r=this._getOrReturnCtx(e),a=this._def.values;return(0,_r(d[9]).addIssueToContext)(r,{received:r.data,code:_r(d[10]).ZodIssueCode.invalid_enum_value,options:a}),_r(d[9]).INVALID}return(0,_r(d[9]).OK)(e.data)}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e={};for(var t of this._def.values)e[t]=t;return e}},{key:"Values",get:function(){var e={};for(var t of this._def.values)e[t]=t;return e}},{key:"Enum",get:function(){var e={};for(var t of this._def.values)e[t]=t;return e}},{key:"extract",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(e,Object.assign({},this._def,n))}},{key:"exclude",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(this.options.filter(function(t){return!e.includes(t)}),Object.assign({},this._def,n))}}])})(v);_e.ZodEnum=ye,ye.create=ve;var me=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=_r(d[11]).util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==_r(d[11]).ZodParsedType.string&&n.parsedType!==_r(d[11]).ZodParsedType.number){var r=_r(d[11]).util.objectValues(t);return(0,_r(d[9]).addIssueToContext)(n,{expected:_r(d[11]).util.joinValues(r),received:n.parsedType,code:_r(d[10]).ZodIssueCode.invalid_type}),_r(d[9]).INVALID}if(this._cache||(this._cache=new Set(_r(d[11]).util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){var a=_r(d[11]).util.objectValues(t);return(0,_r(d[9]).addIssueToContext)(n,{received:n.data,code:_r(d[10]).ZodIssueCode.invalid_enum_value,options:a}),_r(d[9]).INVALID}return(0,_r(d[9]).OK)(e.data)}},{key:"enum",get:function(){return this._def.values}}])})(v);_e.ZodNativeEnum=me,me.create=function(e,t){return new me(Object.assign({values:e,typeName:je.ZodNativeEnum},p(t)))};var ge=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==_r(d[11]).ZodParsedType.promise&&!1===n.common.async)return(0,_r(d[9]).addIssueToContext)(n,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.promise,received:n.parsedType}),_r(d[9]).INVALID;var r=n.parsedType===_r(d[11]).ZodParsedType.promise?n.data:Promise.resolve(n.data);return(0,_r(d[9]).OK)(r.then(function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})}))}}])})(v);_e.ZodPromise=ge,ge.create=function(e,t){return new ge(Object.assign({type:e,typeName:je.ZodPromise},p(t)))};var ke=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx,s=this._def.effect||null,u={addIssue:function(e){(0,_r(d[9]).addIssueToContext)(a,e),e.fatal?r.abort():r.dirty()},get path(){return a.path}};if(u.addIssue=u.addIssue.bind(u),"preprocess"===s.type){var o=s.transform(a.data,u);if(a.common.async)return Promise.resolve(o).then((function(){var e=i(function*(e){if("aborted"===r.value)return _r(d[9]).INVALID;var n=yield t._def.schema._parseAsync({data:e,path:a.path,parent:a});return"aborted"===n.status?_r(d[9]).INVALID:"dirty"===n.status||"dirty"===r.value?(0,_r(d[9]).DIRTY)(n.value):n});return function(t){return e.apply(this,arguments)}})());if("aborted"===r.value)return _r(d[9]).INVALID;var c=this._def.schema._parseSync({data:o,path:a.path,parent:a});return"aborted"===c.status?_r(d[9]).INVALID:"dirty"===c.status||"dirty"===r.value?(0,_r(d[9]).DIRTY)(c.value):c}if("refinement"===s.type){var l=function(e){var t=s.refinement(e,u);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){var f=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===f.status?_r(d[9]).INVALID:("dirty"===f.status&&r.dirty(),l(f.value),{status:r.value,value:f.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(function(e){return"aborted"===e.status?_r(d[9]).INVALID:("dirty"===e.status&&r.dirty(),l(e.value).then(function(){return{status:r.value,value:e.value}}))})}if("transform"===s.type){if(!1===a.common.async){var h=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!(0,_r(d[9]).isValid)(h))return _r(d[9]).INVALID;var p=s.transform(h.value,u);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:p}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(function(e){return(0,_r(d[9]).isValid)(e)?Promise.resolve(s.transform(e.value,u)).then(function(e){return{status:r.value,value:e}}):_r(d[9]).INVALID})}_r(d[11]).util.assertNever(s)}}])})(v);_e.ZodEffects=ke,_e.ZodTransformer=ke,ke.create=function(e,t,n){return new ke(Object.assign({schema:e,typeName:je.ZodEffects,effect:t},p(n)))},ke.createWithPreprocess=function(e,t,n){return new ke(Object.assign({schema:t,effect:{type:"preprocess",transform:e},typeName:je.ZodEffects},p(n)))};var Ze=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){return this._getType(e)===_r(d[11]).ZodParsedType.undefined?(0,_r(d[9]).OK)(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])})(v);_e.ZodOptional=Ze,Ze.create=function(e,t){return new Ze(Object.assign({innerType:e,typeName:je.ZodOptional},p(t)))};var be=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){return this._getType(e)===_r(d[11]).ZodParsedType.null?(0,_r(d[9]).OK)(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])})(v);_e.ZodNullable=be,be.create=function(e,t){return new be(Object.assign({innerType:e,typeName:je.ZodNullable},p(t)))};var Ie=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===_r(d[11]).ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}])})(v);_e.ZodDefault=Ie,Ie.create=function(e,t){return new Ie(Object.assign({innerType:e,typeName:je.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},p(t)))};var Te=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=Object.assign({},n,{common:Object.assign({},n.common,{issues:[]})}),a=this._def.innerType._parse({data:r.data,path:r.path,parent:Object.assign({},r)});return(0,_r(d[9]).isAsync)(a)?a.then(function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new(_r(d[10]).ZodError)(r.common.issues)},input:r.data})}}):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new(_r(d[10]).ZodError)(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}])})(v);_e.ZodCatch=Te,Te.create=function(e,t){return new Te(Object.assign({innerType:e,typeName:je.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},p(t)))};var xe=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){if(this._getType(e)!==_r(d[11]).ZodParsedType.nan){var t=this._getOrReturnCtx(e);return(0,_r(d[9]).addIssueToContext)(t,{code:_r(d[10]).ZodIssueCode.invalid_type,expected:_r(d[11]).ZodParsedType.nan,received:t.parsedType}),_r(d[9]).INVALID}return{status:"valid",value:e.data}}}])})(v);_e.ZodNaN=xe,xe.create=function(e){return new xe(Object.assign({typeName:je.ZodNaN},p(e)))},_e.BRAND=Symbol("zod_brand");var Ce=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}])})(v);_e.ZodBranded=Ce;var Oe=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,a=n.ctx;if(a.common.async){var s=(function(){var e=i(function*(){var e=yield t._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?_r(d[9]).INVALID:"dirty"===e.status?(r.dirty(),(0,_r(d[9]).DIRTY)(e.value)):t._def.out._parseAsync({data:e.value,path:a.path,parent:a})});return function(){return e.apply(this,arguments)}})();return s()}var u=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===u.status?_r(d[9]).INVALID:"dirty"===u.status?(r.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:a.path,parent:a})}}],[{key:"create",value:function(e,n){return new t({in:e,out:n,typeName:je.ZodPipeline})}}])})(v);_e.ZodPipeline=Oe;var je,we=(function(e){function t(){return u(this,t),c(this,t,arguments)}return r(t,e),o(t,[{key:"_parse",value:function(e){var t=this._def.innerType._parse(e),n=function(e){return(0,_r(d[9]).isValid)(e)&&(e.value=Object.freeze(e.value)),e};return(0,_r(d[9]).isAsync)(t)?t.then(function(e){return n(e)}):n(t)}},{key:"unwrap",value:function(){return this._def.innerType}}])})(v);function Ae(e,t){var n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?J.create().superRefine(function(r,a){var i=e(r);if(i instanceof Promise)return i.then(function(e){if(!e){var i,s,u=Ae(t,r),o=null==(i=null!=(s=u.fatal)?s:n)||i;a.addIssue(Object.assign({code:"custom"},u,{fatal:o}))}});if(!i){var s,u,o=Ae(t,r),c=null==(s=null!=(u=o.fatal)?u:n)||s;a.addIssue(Object.assign({code:"custom"},o,{fatal:c}))}}):J.create()}_e.ZodReadonly=we,we.create=function(e,t){return new we(Object.assign({innerType:e,typeName:je.ZodReadonly},p(t)))},_e.late={object:ne.lazycreate},(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(je||(_e.ZodFirstPartyTypeKind=je={}));_e.instanceof=function(e){return Ne(function(t){return t instanceof e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})};var Pe=M.create;_e.string=Pe;var Se=$.create;_e.number=Se;var Le=xe.create;_e.nan=Le;var Ue=K.create;_e.bigint=Ue;var De=B.create;_e.boolean=De;var Re=W.create;_e.date=Re;var Ee=Y.create;_e.symbol=Ee;var Ve=q.create;_e.undefined=Ve;var Fe=H.create;_e.null=Fe;var Me=J.create;_e.any=Me;var ze=G.create;_e.unknown=ze;var $e=X.create;_e.never=$e;var Ke=Q.create;_e.void=Ke;var Be=ee.create;_e.array=Be;var We=ne.create;_e.object=We;var Ye=ne.strictCreate;_e.strictObject=Ye;var qe=re.create;_e.union=qe;var He=ie.create;_e.discriminatedUnion=He;var Je=ue.create;_e.intersection=Je;var Ge=oe.create;_e.tuple=Ge;var Xe=de.create;_e.record=Xe;var Qe=ce.create;_e.map=Qe;var et=le.create;_e.set=et;var tt=fe.create;_e.function=tt;var nt=he.create;_e.lazy=nt;var rt=pe.create;_e.literal=rt;var at=ye.create;_e.enum=at;var it=me.create;_e.nativeEnum=it;var st=ge.create;_e.promise=st;var ut=ke.create;_e.effect=ut,_e.transformer=ut;var ot=Ze.create;_e.optional=ot;var dt=be.create;_e.nullable=dt;var ct=ke.createWithPreprocess;_e.preprocess=ct;var lt=Oe.create;_e.pipeline=lt;_e.ostring=function(){return Pe().optional()};_e.onumber=function(){return Se().optional()};_e.oboolean=function(){return De().optional()},_e.coerce={string:function(e){return M.create(Object.assign({},e,{coerce:!0}))},number:function(e){return $.create(Object.assign({},e,{coerce:!0}))},boolean:function(e){return B.create(Object.assign({},e,{coerce:!0}))},bigint:function(e){return K.create(Object.assign({},e,{coerce:!0}))},date:function(e){return W.create(Object.assign({},e,{coerce:!0}))}},_e.NEVER=_r(d[9]).INVALID},803,[194,23,25,28,38,345,6,12,13,801,799,800,804,797]);
__d(function(g,r,i,a,m,e,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.errorUtil=void 0,(function(t){t.errToObj=function(t){return"string"==typeof t?{message:t}:t||{}},t.toString=function(t){return"string"==typeof t?t:null==t?void 0:t.message}})(t||(e.errorUtil=t={}))},804,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GwStateFlow=void 0,r(d[0]),Object.defineProperty(e,"GwStateFlow",{enumerable:!0,get:function(){return r(d[1]).GwStateFlow}})},805,[673,674]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setTimeout=function(u,v){n(u);var l=r(d[0]).device.setTimeout(u,v);return t.set(u,l),l},e.removeTimeout=n,e.setInterval=function(n,v){u(n);var l=r(d[0]).device.setInterval(n,v);return t.set(n,l),l},e.removeInterval=u;var t=new WeakMap;function n(n){var u=t.get(n);return null!=u?(r(d[0]).device.clearTimeout(u),u):null}function u(n){var u=t.get(n);null!=u&&r(d[0]).device.clearInterval(u)}},806,[502]);
__d(function(g,r,_i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),s=r(d[4]),i=r(d[5]),c=r(d[6]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.Peer=void 0;var u=(function(u){function p(e,t){var o,c,u,v;n(this,p),c=this,u=i(u=p),(o=s(c,l()?Reflect.construct(u,v||[],i(c).constructor):u.apply(c,v)))._closed=!1,o._iceTimeouts=new Map,o._mediasoupDevice=null,o._sendTransport=null,o._recvTransport=null,o._producers=new Map,o._consumerStatIntervals=new Map,o._delayVideoStart=!1,o.peers=new Map,o.sendLock=null,o.recvLock=null,o.ctx=e,o.call=t,(0,r(d[7]).onceCanceled)(e).then(o.dispose),e.logger.attachObject(o),e.logger.trace("constructor()");var h=o.call.transport;return h.on("message:newPeers",o._handleNewPeers),h.on("message:consumerSources",o._handleConsumerSources),h.on("message:kicked",o._handleAccessDenied),h.on("message:producerstats",o._handleProducerStats),o.addInnerDisposer(function(){h.off("message:newPeers",o._handleNewPeers),h.off("message:consumerSources",o._handleConsumerSources),h.off("message:kicked",o._handleAccessDenied),h.off("message:producerstats",o._handleProducerStats)}),o._peerEvent("newConsumer",o._onNewConsumer.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUNewConsumerEventError)("unable to handle `newConsumer` peer event",{peer:o,request:{id:t.id,kind:t.kind,producerPaused:t.producerPaused,producerId:t.producerId,rtpParameters:t.rtpParameters},inner:e instanceof Error?e:null}))}),o._peerEvent("peerClosed",o._onPeerClosed.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUPeerClosedEventError)("unable to handle `peerClosed` peer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._peerEvent("switchConsumerTrack",o._onSwitchConsumerTrack.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUSwitchConsumerTrackEventError)("unable to handle `switchConsumerTrack` peer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._consumerEvent("consumerClosed",o._onConsumerClosed.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUConsumerClosedEventError)("unable to handle `consumerClosed` consumer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._consumerEvent("consumerPaused",o._onConsumerPaused.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUConsumerPausedEventError)("unable to handle `consumerPaused` consumer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._consumerEvent("consumerResumed",o._onConsumerResumed.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUConsumerResumedEventError)("unable to handle `consumerResumed` consumer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._consumerEvent("consumerScore",o._onConsumerScore.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUConsumerScoreEventError)("unable to handle `consumerScore` consumer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._consumerEvent("consumerLayersChanged",o._onConsumerLayersChanged.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUConsumerLayersChangedEventError)("unable to handle `consumerLayersChanged` consumer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._producerEvent("producerClosed",o._onProducerClosed.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUProducerClosedEventError)("unable to handle `producerClosed` producer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._producerEvent("producerPaused",o._onProducerPaused.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUProducerPausedEventError)("unable to handle `producerPaused` producer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o._producerEvent("producerResumed",o._onProducerResumed.bind(o),function(e,t){o.emitErrorDeprecated(new(r(d[8]).SFUProducerResumedEventError)("unable to handle `producerResumed` producer event",{peer:o,request:t,inner:e instanceof Error?e:null}))}),o.call.transport.on("message:createSendWebRtcTransport",o.handleCreateSendTransport),o.call.transport.on("message:createReceiveWebRtcTransport",o.handleCreateReceiveTransport),o.addInnerDisposer(function(){o.call.transport.off("message:createSendWebRtcTransport",o.handleCreateSendTransport),o.call.transport.off("message:createReceiveWebRtcTransport",o.handleCreateReceiveTransport)}),o.addInnerDisposer(o.clear),o}return c(p,u),o(p,[{key:"_handleConsumerSources",value:function(e){try{this._onConsumerSources(e)}catch(t){this.emitErrorDeprecated(new(r(d[8]).SFUConsumerSourcesEventError)("unable to handle `newPeers` peer event",{peer:this,request:e,inner:t instanceof Error?t:null}))}}},{key:"_handleAccessDenied",value:(k=t(function*(e){this.call.emit("CALL_ACCESS_DENIED",e)}),function(e){return k.apply(this,arguments)})},{key:"_handleProducerStats",value:function(e){this.call.emit("CALL_PRODUCER_STATS",e.producerStats)}},{key:"_handleNewPeers",value:function(e){try{this._onNewPeers(e)}catch(t){this.emitErrorDeprecated(new(r(d[8]).SFUNewPeersEventError)("unable to handle `newPeers` peer event",{peer:this,request:e,inner:t instanceof Error?t:null}))}}},{key:"_setup",value:(I=t(function*(e){var n=this;this._mediasoupDevice=new(r(d[9]).ExtendedDevice)(r(d[10]).device),yield this._mediasoupDevice.load({routerRtpCapabilities:e});var o=[];Object.keys(this.call.streams).length>0&&o.push(this._createSendTransport()),o.push(this._createReceiveTransport()),yield Promise.all(o),this.call.emit("CALL_SET_MEDIA_CAPABILITIES",{canSendMic:this._mediasoupDevice.canProduce("audio"),canSendWebcam:this._mediasoupDevice.canProduce("video")}),o=[];var s=function*(e){e.hasVideoStreamTrack&&!n._delayVideoStart&&n.call.hasPermission(r(d[11]).PERMISSIONS.STREAM_VIDEO)&&o.push(t(function*(){var t;try{(null===(t=n._mediasoupDevice)||void 0===t?void 0:t.canProduce("video"))&&(yield e.enableVideo())}catch(e){var o=e instanceof Error?e.message:"unknown error";n.ctx.logger.warn("Unable to set video producer",{err:o}),n.call._addMessage(r(d[12]).TROUBLESHOOTING.NO_WEBCAM)}})()),e.hasAudioStreamTrack&&n.call.hasPermission(r(d[11]).PERMISSIONS.STREAM_AUDIO)&&o.push(t(function*(){var t;try{(null===(t=n._mediasoupDevice)||void 0===t?void 0:t.canProduce("audio"))&&(yield e.enableAudio())}catch(e){var o=e instanceof Error?e.message:"unknown error";n.ctx.logger.warn("Unable to set audio producer",{err:o}),n.call._addMessage(r(d[12]).TROUBLESHOOTING.NO_MIC)}})())};for(var i of this.call.streamsIterator())yield*s(i);yield Promise.all(o)}),function(e){return I.apply(this,arguments)})},{key:"_createSendTransport",value:(b=t(function*(){if(null==this._mediasoupDevice)throw new Error("Peer._mediasoupDevice is null");var e;this.sendLock=this._initLock();var t={producing:!0,consuming:!1,rtpCapabilities:this._mediasoupDevice.rtpCapabilities,maxBitrate:this.call.maxBitrate,appData:{producerStats:!0}};try{e=yield this.call._request("createWebRtcTransport",t)}catch(e){var n=e instanceof Error?e:null,o=new(r(d[8]).WSRequestError)("createSendTransport: ws request error",{inner:n,request:"createWebRtcTransport",args:t,internalCall:this.call});throw this.call.emit("error",o),o}this._sendTransport=this._mediasoupDevice.createSendTransport(Object.assign({id:e.id,iceParameters:e.iceParameters,iceCandidates:e.iceCandidates,dtlsParameters:e.dtlsParameters},this._transportOptions())),this.sendLock.resolve(),this.ctx.logger.debug("ms3._createSendTransport: created",{transportInfo:e,deviceCapabilities:this._mediasoupDevice.rtpCapabilities}),this._handleTransportEvents(this._sendTransport,"send")}),function(){return b.apply(this,arguments)})},{key:"handleCreateSendTransport",value:function(e){if(null==this._mediasoupDevice)throw new Error("Peer._mediasoupDevice is null");this._sendTransport=this._mediasoupDevice.createSendTransport(Object.assign({id:e.id,iceParameters:e.iceParameters,iceCandidates:e.iceCandidates,dtlsParameters:e.dtlsParameters},this._transportOptions())),this.ctx.logger.debug("ms3._createSendTransport: created",{transportInfo:e,deviceCapabilities:this._mediasoupDevice.rtpCapabilities}),this._handleTransportEvents(this._sendTransport,"send")}},{key:"_createReceiveTransport",value:(D=t(function*(){if(null==this._mediasoupDevice)throw new Error("Peer._mediasoupDevice is null");var e;this.recvLock=this._initLock();var t={forceTcp:this._forceRecvTcp,producing:!1,consuming:!0,rtpCapabilities:this._mediasoupDevice.rtpCapabilities},n=this._closed||this.call._closed;try{e=yield this.call._request("createWebRtcTransport",t)}catch(e){var o=this._closed||this.call._closed;if(!n&&o)return;var s=e instanceof Error?e:null,i=new(r(d[8]).WSRequestError)("createReceiveTransport: ws request error",{inner:s,request:"createWebRtcTransport",args:t,internalCall:this.call});throw this.call.emit("error",i),i}e=Object.assign({},e,this._transportOptions()),this._recvTransport=this._mediasoupDevice.createRecvTransport(e),this.recvLock.resolve(),this.ctx.logger.debug("ms3._createReceiveTransport: created",{transportInfo:e}),this._handleTransportEvents(this._recvTransport,"recv")}),function(){return D.apply(this,arguments)})},{key:"handleCreateReceiveTransport",value:function(e){if(null==this._mediasoupDevice)throw new Error("Peer._mediasoupDevice is null");e=Object.assign({},e,this._transportOptions()),this._recvTransport=this._mediasoupDevice.createRecvTransport(e),this.ctx.logger.debug("ms3._createReceiveTransport: created",{transportInfo:e}),this._handleTransportEvents(this._recvTransport,"recv")}},{key:"_transportOptions",value:function(){var e,t,n=r(d[10]).device.isEdge?this.call._edgeIceServers():this.call._iceServers();return this.call._iceTransportPolicyUsed=null!==(t=null!==(e=this.call._iceTransportPolicy)&&void 0!==e?e:this.call._localSettings.iceTransportPolicy)&&void 0!==t?t:"all",{iceServers:n,iceTransportPolicy:this.call._iceTransportPolicyUsed}}},{key:"_handleTransportEvents",value:function(e,t){var n,o=this;("send"===t&&this.call._requireSend||"recv"===t&&this.call._requireRecv)&&(n=r(d[10]).device.setTimeout(function(){"new"===e.connectionState&&o.emitErrorDeprecated(new(r(d[8]).TransportStateError)("Transport failed to change connection state",{critical:!0}))},2e4));var s=t.toUpperCase(),i=null;e.on("connectionstatechange",function(c){r(d[10]).device.clearTimeout(n),"SEND"===s?o.call.emit("CALL_SET_SENDING_ICE_STATE",{state:c}):o.call.emit("CALL_SET_RECEIVING_ICE_STATE",{state:c}),o.ctx.logger.setMessageAggregate(`${t}TransportId`,e.id),o.ctx.logger.setMessageAggregate(`${t}TransportState`,c);var l=r(d[10]).device.isImplements(r(d[13]).Feature.NETWORK_INFORMATION)?r(d[10]).device.connection:null;switch(o.ctx.logger.info(`${t} transport connection state change`,{state:c,transportType:t,prevState:i,connection:l}),i=c,"completed"===c&&(c="connected"),c){case"connected":e.appData.onceConnected=!0,o.call._removeMessage(r(d[12]).TROUBLESHOOTING.NETWORK_FIREWALLED),o.call._removeMessage(r(d[12]).TROUBLESHOOTING["SEND"===s?"WEBRTC_SEND_DISCONNECTED":"WEBRTC_RECV_DISCONNECTED"]),r(d[10]).device.clearTimeout(o._iceTimeouts.get(t)),o._iceTimeouts.delete(t),o.ctx.logger.info(`${t} transport entered connected state`),o.emit("webrtc-transport-connected",t);break;case"disconnected":o.call._addMessage(r(d[12]).TROUBLESHOOTING["SEND"===s?"WEBRTC_SEND_DISCONNECTED":"WEBRTC_RECV_DISCONNECTED"]),o._restartIce(t),o.ctx.logger.warn(`${t} transport entered disconnected state`),o.emit("webrtc-transport-disconnected",t);break;case"failed":if(o.ctx.logger.warn(`${t} transport entered failed state`),o.emit("webrtc-transport-failed",t),"SEND"===s&&o.call._requireSend)o.emitErrorDeprecated(new(r(d[8]).TransportStateError)("Send transport failed",{critical:!0}));else if("RECV"===s&&o.call._requireRecv){var u=new Error("Receive transport failed");null!=o.recvLock&&o.recvLock.reject(u),o.emitErrorDeprecated(new(r(d[8]).TransportStateError)("Receive transport failed",{critical:!0}))}else o.call._removeMessage(r(d[12]).TROUBLESHOOTING["SEND"===s?"WEBRTC_SEND_DISCONNECTED":"WEBRTC_RECV_DISCONNECTED"]),o._restartIce(t),e.appData.onceConnected||o.call._addMessage(r(d[12]).TROUBLESHOOTING.NETWORK_FIREWALLED);break;case"closed":"send"===s?null!=o.sendLock&&o.sendLock.reject(new Error("send transport closed")):null!=o.recvLock&&o.recvLock.reject(new Error("recv transport closed")),o._closed||o.emitErrorDeprecated(new(r(d[8]).TransportStateError)(`${t} transport closed prematurely`,{critical:!0})),o.ctx.logger.warn(`${t} transport entered closed state`),o.emit("webrtc-transport-closed",t)}}),e.observer.on("close",function(){o.ctx.logger.info(`${t} transport.observer.closed state`),o.emit("webrtc-transport-closed",t)});var c=this._closed||this.call._closed;e.on("connect",function(n,s,i){var l=n.dtlsParameters,u={transportId:e.id,dtlsParameters:l};o.call._request("connectWebRtcTransport",u).then(function(){var e;s(),null===(e=o.recvLock)||void 0===e||e.resolve(),o.ctx.logger.debug("ms3._handleTransportEvents connected",{transportType:t})}).catch(function(e){var t=o._closed||o.call._closed;if(c||!t){var n=e instanceof Error?e:null,s=new(r(d[8]).WSRequestError)("handleTransportEvents: ws request error",{inner:n,request:"connectWebRtcTransport",args:u,internalCall:o.call});o.call.emit("error",s),i(s)}})}),e.on("produce",function(t,n,s){var i=t.kind,c=t.rtpParameters,l=t.appData,u={transportId:e.id,kind:i,rtpParameters:c,appData:l};o.call._request("produce",u).then(function(e){n(e),o.ctx.logger.debug("ms3._handleTransportEvents: produce",{kind:i,appData:l})}).catch(function(e){var t=e instanceof Error?e:null,n=new(r(d[8]).WSRequestError)("handleTransportEvents: ws request error",{inner:t,request:"produce",args:u,internalCall:o.call});o.call.emit("error",n),s(n)})})}},{key:"_addPeers",value:function(e){var t=this;e.forEach(function(e){null!=e.id?(t.peers.set(e.id,e),t.call.emit("CALL_ADD_PEER",{peer:e}),t.call.emit("PEER_CHANGE",{peer:e,action:"added"})):t.emitErrorDeprecated(new(r(d[8]).InternalError)("peerId is undefined",{}))})}},{key:"_restartIce",value:function(e){var n=this;if(this.call.transport.isConnected){if(null==this._iceTimeouts.get(e)){var o=(function(){var s=t(function*(){if(!n._closed){if(n.ctx.logger.throttledLog("debug",15e3,"ice restart",{online:r(d[10]).device.onLine}),!r(d[10]).device.onLine)return r(d[10]).device.clearTimeout(n._iceTimeouts.get(e)),void n._iceTimeouts.set(e,r(d[10]).device.setTimeout(o.bind(n),500));try{var t,s={dir:e};try{t=yield n.call._request("restartIce",s)}catch(e){var i=e instanceof Error?e:null,c=new(r(d[8]).WSRequestError)("restartIce: ws request error",{inner:i,request:"restartIce",args:s,internalCall:n.call});throw n.call.emit("error",c),c}if("send"===e){if(null==n._sendTransport)return void n.ctx.logger.error("call: restartIce error",{err:"_sendTransport is null"});yield n._sendTransport.restartIce(t)}else{if(null==n._recvTransport)return void n.ctx.logger.error("call: restartIce error",{err:"_recvTransport is null"});yield n._recvTransport.restartIce(t)}return void n._iceTimeouts.delete(e)}catch(e){var l=e instanceof Error?e.message:"unknown error";n.ctx.logger.warn("call: restartIce error",{err:l})}r(d[10]).device.clearTimeout(n._iceTimeouts.get(e)),n._iceTimeouts.set(e,r(d[10]).device.setTimeout(o.bind(n),5e3))}});return function(){return s.apply(this,arguments)}})();o().catch(this.ctx.logger.error)}}else this.call.transport.once("connected",function(){n._restartIce(e)})}},{key:"_onNewPeers",value:function(e){this._addPeers(e.peers)}},{key:"_onConsumerSources",value:function(e){var t,n,o,s={};for(var i of e.consumers){var c=null!==(t=s[`${i.peerId}-${i.streamName}`])&&void 0!==t?t:{peerId:i.peerId,streamName:i.streamName,layers:[]};for(var l of i.encodings)c.layers.push({id:l.id,bitrate:null!==(o=null!==(n=l.bitrate)&&void 0!==n?n:l.maxBitrate)&&void 0!==o?o:0,isSource:!i.xcode,appData:{consumerId:i.consumerId}});s[`${i.peerId}-${i.streamName}`]=c}for(var u of Object.values(s))this.call.emit("CALL_CONSUMER_SOURCES",u)}},{key:"getLayers",value:(S=t(function*(e,t){var n,o,s=[],i=null,c=null,l=this._closed||this.call._closed;try{for(var u of(c=yield this.call.requestSources(e,t),this.ctx.logger.debug("request consumerSources from ws",{sources:c}),c.consumers))for(var p of u.encodings){var v={id:p.id,bitrate:null!==(o=null!==(n=p.bitrate)&&void 0!==n?n:p.maxBitrate)&&void 0!==o?o:0,isSource:!u.xcode,appData:{consumerId:u.consumerId}};s.push(v),p.active&&(i=v)}}catch(e){var h=this._closed||this.call._closed;if(!l&&h)return[null,[]];this.ctx.logger.error(`unable to get consumer sources: ${e}`,{sources:c})}return[i,s=(0,r(d[14]).sortEncodings)(s)]}),function(e,t){return S.apply(this,arguments)})},{key:"_onNewConsumer",value:(y=t(function*(t,n,o){var s,i,c,l,u,p,v,h=this;if(this.ctx.logger.info("call: _onNewConsumer"),null!=this.recvLock?yield this.recvLock.ready():yield this._createReceiveTransport(),null==this._recvTransport)return this.ctx.logger.error("call: _onNewConsumer error",{err:"_recvTransport is null"}),void o(null,"_recvTransport is null");if(this._recvTransport.closed)return yield this._createReceiveTransport(),yield null===(s=this.recvLock)||void 0===s?void 0:s.ready(),void o(null,"_recvTransport closed");var f=yield this._recvTransport.consume(n);!1!==(null===(i=n.appData)||void 0===i?void 0:i.trackEnabled)&&!n.producerPaused||f.paused||f.pause(),null===(c=t.consumers)||void 0===c||c.push(f),f.on("transportclose",function(){h.ctx.logger.debug("consumer event",{event:"transportclose",kind:n.kind}),h._deleteConsumers(t,[f.id])}),f.on("trackended",function(){h.ctx.logger.debug("consumer event",{event:"trackended",kind:n.kind}),h._deleteConsumers(t,[f.id])});var _=f.rtpParameters.encodings;if(null==_||0===(null==_?void 0:_.length))return this.ctx.logger.error("call: _onNewConsumer error",{err:"consumer doesn't have any encodings"}),void o(null,"consumer doesn't have any encodings");var E=(0,r(d[15]).parseScalabilityMode)(null!==(u=null===(l=_[0])||void 0===l?void 0:l.scalabilityMode)&&void 0!==u?u:""),T=E.spatialLayers,C=E.temporalLayers,y=f.appData.streamName;if("string"!=typeof y)return this.ctx.logger.error("call: _onNewConsumer error",{err:"consumer.appData doesn't have a proper stream name"}),void o(null,"consumer.appData doesn't have a proper stream name");if(null==t.id)return this.ctx.logger.error("call: _onNewConsumer error",{err:"peer.id is null"}),void o(null,"peer.id is null");var S="object"==typeof n&&n.dontAdd,D=null,b=[];if(!S){var I=this._closed||this.call._closed;if("video"===f.kind)try{var k=yield this.getLayers(y,t.id),w=e(k,2);D=w[0],b=w[1]}catch(e){var P=this._closed||this.call._closed;if(!I&&P)return;throw e}}var R={peerId:t.id,streamName:y,consumer:{id:f.id,peerId:t.id,kind:f.kind,streamName:String(f.appData.streamName),supported:!0,locallyPaused:!1,paused:f.paused,track:f.track,codec:null!==(v=null===(p=f.rtpParameters.codecs[0])||void 0===p?void 0:p.mimeType.split("/")[1])&&void 0!==v?v:"",pause:function(){f.pause();var e={consumerId:f.id};h.call._request("pauseConsumer",e).catch(function(t){var n=t instanceof Error?t:null,o=new(r(d[8]).WSRequestError)("pause: ws request error",{inner:n,request:"pauseConsumer",args:e,internalCall:h.call});h.call.emit("error",o)})},resume:function(){f.resume();var e={consumerId:f.id};h.call._request("resumeConsumer",e).catch(function(t){var n=t instanceof Error?t:null,o=new(r(d[8]).WSRequestError)("resume: ws request error",{inner:n,request:"resumeConsumer",args:e,internalCall:h.call});return h.call.emit("error",o),o})},layers:b,activeLayer:D,preferredSpatialLayer:T-1,preferredTemporalLayer:C-1,rtpParameters:f.rtpParameters,dontAdd:S}};this.call.emit("CALL_ADD_CONSUMER",R),S||(this.call.emit("CALL_SET_CONSUMER_TRACK",{peerId:t.id,streamName:y,consumerId:f.id,track:f.track}),this.call.emit("PEER_CHANGE",{peer:t,action:"consumer_added"})),o({})}),function(e,t,n){return y.apply(this,arguments)})},{key:"hasConsumerId",value:function(e){return Array.from(this.peers.values()).some(function(t){var n;return null===(n=t.consumers)||void 0===n?void 0:n.some(function(t){return t.id===e})})}},{key:"_peerEvent",value:function(e,n,o){var s=this,i=this.call.transport,c=(function(){var i=t(function*(t,i){if(null==t.peerId||""===t.peerId)return s.ctx.logger.warn("invalid peer event request: no peerId",{event:e,req:t}),void i(null,"invalid peer event request: no peerId");var c=s.peers.get(t.peerId);if(null==c)return s.ctx.logger.warn("peer not found for peer event",{event:e,req:t}),void i(null,"peer not found for peer event");s.ctx.logger.debug("peer event",{event:e,req:t});try{yield n(c,t,i)}catch(n){o(n instanceof Error?n:null,t),"function"==typeof i?n instanceof Error?i(null,`peer event error: ${n.message}`):i(null,"peer event error: undefined error"):s.ctx.logger.debug(`BUG: check '${e}' event in PvcTransport, it doesn't provide 'resp' callback`,{aggregates:{bug:!0}})}});return function(e,t){return i.apply(this,arguments)}})();i.on(`request:${e}`,c),i.on(`message:${e}`,c),this.addInnerDisposer(function(){i.off(`request:${e}`,c),i.off(`message:${e}`,c)})}},{key:"_onPeerClosed",value:(C=t(function*(e){var t,n;if(null!=e.id){if(this.peers.has(e.id)){this.peers.delete(e.id);var o=null===(t=e.consumers)||void 0===t?void 0:t.map(function(e){return e.id});if(yield this._deleteConsumers(e,null!=o?o:[]),this.call._closed)return;this.call.emit("CALL_REMOVE_PEER",{peerId:null!==(n=e.id)&&void 0!==n?n:""}),this.call.emit("PEER_CHANGE",{peer:e,action:"removed"})}}else this.emitErrorDeprecated(new(r(d[8]).InternalError)("peerId is undefined",{}))}),function(e){return C.apply(this,arguments)})},{key:"_producerEvent",value:function(e,n,o){var s=this,i=this.call.transport,c=(function(){var i=t(function*(t){if(t.peerId===s.call.peerId){var i=s._producers.get(t.producerId);if(null!=i)try{yield n(i,t)}catch(e){o(e instanceof Error?e:null,t)}else console.trace("producer not found for producer event",{event:e,req:t})}else s.ctx.logger.debug("wrong peer ID for producer event",{event:e,req:t})});return function(e){return i.apply(this,arguments)}})();i.on(`message:${e}`,c),this.addInnerDisposer(function(){i.off(`message:${e}`,c)})}},{key:"_consumerEvent",value:function(e,n,o){var s=this,i=this.call.transport,c=(function(){var i=t(function*(t){var i,c=s.peers.get(t.peerId);if(null!=c){var l=null===(i=c.consumers)||void 0===i?void 0:i.find(function(e){return e.id===t.consumerId});if(null!=l){s.ctx.logger.debug("consumer event",{event:e,req:t});try{yield n(l,c,t)}catch(e){o(e instanceof Error?e:null,t)}}else"consumerClosed"!==e&&s.ctx.logger.debug("consumer not found for consumer event",{event:e,req:t})}else s.ctx.logger.debug("peer not found for consumer event",{event:e,req:t})});return function(e){return i.apply(this,arguments)}})();i.on(`message:${e}`,c),this.addInnerDisposer(function(){i.off(`message:${e}`,c)})}},{key:"_deleteConsumers",value:function(e,t){var n=this;return t.forEach(function(t){var o,s,i,c,l=null===(o=e.consumers)||void 0===o?void 0:o.find(function(e){return e.id===t});if(null!=l){n.call.emit("CALL_REMOVE_CONSUMER",{peerId:null!==(s=e.id)&&void 0!==s?s:"",streamName:String(l.appData.streamName),consumerId:l.id}),n.call.emit("PEER_CHANGE",{peer:e,action:"consumer_removed"});var u=null===(i=e.consumers)||void 0===i?void 0:i.indexOf(l);null===(c=e.consumers)||void 0===c||c.splice(null!=u?u:0,1)}}),Promise.resolve()}},{key:"_onConsumerClosed",value:(T=t(function*(e,t){e.close();var n=this._consumerStatIntervals.get(e.id);clearInterval(n),this._consumerStatIntervals.delete(e.id),yield this._deleteConsumers(t,[e.id])}),function(e,t){return T.apply(this,arguments)})},{key:"_onConsumerPaused",value:function(e,t){var n;return e.pause(),this.call.emit("CALL_SET_CONSUMER_PAUSED",{peerId:null!==(n=t.id)&&void 0!==n?n:"",streamName:String(e.appData.streamName),consumerId:e.id,originator:"peer"}),Promise.resolve()}},{key:"_onConsumerResumed",value:function(e,t){var n;return e.resume(),this.call.emit("CALL_SET_CONSUMER_RESUMED",{peerId:null!==(n=t.id)&&void 0!==n?n:"",streamName:String(e.appData.streamName),consumerId:e.id,originator:"peer"}),Promise.resolve()}},{key:"_onConsumerScore",value:(E=t(function*(e,t){}),function(e,t){return E.apply(this,arguments)})},{key:"_onConsumerLayersChanged",value:(_=t(function*(e,t,n){return this.call.emit("CALL_CONSUMER_LAYER_CHANGED",n),Promise.resolve()}),function(e,t,n){return _.apply(this,arguments)})},{key:"_onSwitchConsumerTrack",value:(f=t(function*(t,n,o){var s,i,c,l,u=this,p=t.id;if(null!=p){var v,h=new Map,f=function*(e){var o=null===(s=t.consumers)||void 0===s?void 0:s.find(function(t){return t.id===e.consumerId});if(!o){var c=new(r(d[8]).SFUSwitchConsumerTrackEventError)("unable to switch tracks: consumer not found",{consumerId:e.consumerId,peer:u,request:n});return u.emitErrorDeprecated(c),{v:void 0}}var l=String(o.appData.streamName);h.has(l)||h.set(l,{add:[],remove:[]}),null===(i=h.get(l))||void 0===i||i.add.push(o.track)};for(var _ of n.add)if(v=yield*f(_))return v.v;var E,T=function*(e){var o=null===(c=t.consumers)||void 0===c?void 0:c.find(function(t){return t.id===e.consumerId});if(!o){var s=new(r(d[8]).SFUSwitchConsumerTrackEventError)("unable to switch tracks: consumer not found",{consumerId:e.consumerId,peer:u,request:n});return u.emitErrorDeprecated(s),{v:void 0}}var i=String(o.appData.streamName);h.has(i)||h.set(i,{add:[],remove:[]}),null===(l=h.get(i))||void 0===l||l.remove.push(o.track)};for(var C of n.remove)if(E=yield*T(C))return E.v;for(var y of h.entries()){var S=e(y,2),D=S[0],b=S[1];if(0===b.add.length||0===b.remove.length){var I=new(r(d[8]).SFUSwitchConsumerTrackEventError)("unable to switch tracks: consumers have different stream names",{peer:this,request:n});return void this.emitErrorDeprecated(I)}this.call.emit("CALL_SWAP_CONSUMERS",{peerId:p,streamName:D,add:b.add,remove:b.remove})}o({})}}),function(e,t,n){return f.apply(this,arguments)})},{key:"_onProducerClosed",value:function(e,t){return e.closed||(this.call.emit("CALL_REMOVE_PRODUCER",{streamName:t.streamName,producerId:t.producerId,originator:"client"}),e.close()),Promise.resolve()}},{key:"_onProducerPaused",value:function(e){return e.pause(),Promise.resolve()}},{key:"_onProducerResumed",value:function(e){return e.resume(),Promise.resolve()}},{key:"produce",value:(h=t(function*(e,t,n){var o,s=this;if(null!=this.sendLock)try{yield this.sendLock.ready()}catch(e){throw new Error("unable to acquire a lock")}else try{yield this._createSendTransport()}catch(c){var i=c instanceof Error?c.message:"unknown error";throw this.ctx.logger.error("unable to create send transport",{err:i}),c}if(null==this._sendTransport){var c=new Error("_sendTransport is null");throw this.ctx.logger.error("ms3.produce error",{err:c.message}),c}var l=t.simulcast,u=(l=void 0===l?{}:l).maxBitrates;if(u&&"video"===e.kind){var p=Object.assign({},t,{track:e,appData:n,encodings:[{maxBitrate:u[0],dtx:!0},{maxBitrate:u[1],dtx:!0}],stopTracks:!1});t.audioOnly&&(p.appData.audioOnly=t.audioOnly),t.videoOnly&&(p.appData.videoOnly=t.videoOnly),p.appData.trackEnabled=p.track.enabled,p.appData.userId=this.call.user.userId,p.appData.displayName=this.call.user.displayName,this.ctx.logger.debug("create maxBitrates producer",Object.assign({},p,{track:null,appData:null})),o=yield this._sendTransport.produce(p)}else{var v=Object.assign({},t,{track:e,appData:n,stopTracks:!1});t.audioOnly&&(v.appData.audioOnly=t.audioOnly),t.videoOnly&&(v.appData.videoOnly=t.videoOnly),v.appData.trackEnabled=v.track.enabled,v.appData.userId=this.call.user.userId,v.appData.displayName=this.call.user.displayName,this.ctx.logger.debug("create basic producer",Object.assign({},v,{track:null,appData:null})),v.encodings&&v.encodings.length>1&&r(d[10]).device.isIosDevice&&r(d[10]).device.isChrome&&(v.encodings=[{maxBitrate:25e5}],this.emitError((0,r(d[16]).createError)(r(d[17]).ErrorCode.SimulcastDisabled,"simulcast is disabled due to ios chrome limitations",{}))),o=yield this._sendTransport.produce(v)}return this._producers.set(o.id,o),this.ctx.logger.debug("ms3.produce",{appData:n,trackLabel:e.label}),o.on("transportclose",function(){s.ctx.logger.debug("ms3.produce: transport closed",{trackLabel:e.label,appData:n})}),o.on("trackended",function(){s.ctx.logger.debug("ms3.produce: track ended",{trackLabel:e.label,appData:n})}),o}),function(e,t,n){return h.apply(this,arguments)})},{key:"clear",value:function(e){this._iceTimeouts.forEach(function(e){r(d[10]).device.clearTimeout(e)}),this._iceTimeouts.clear(),null!=this._recvTransport&&this._recvTransport.close(),null!=this._sendTransport&&this._sendTransport.close()}},{key:"close",value:(v=t(function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Implementer did not pass debugString",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._closed){this.clear(e),this._closed=!0;var n="Reason for close not given",o="PlayerUiState inner disposer:";if(e){var s=e.indexOf(o);n=-1!==s?e.substring(s+29).trim():e}try{yield this.call.transport.request("closePeer",{internal:t,reason:n})}catch(n){var i=n instanceof Error?n.toString():"unknown error";this.ctx.logger.info("ms3.close: error closing peer on the server",{aggregates:{err:i,internal:t,reason:e}})}}}),function(){return v.apply(this,arguments)})},{key:"_initLock",value:function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=function(){e.resolved=!0,t()},e.reject=function(t){e.resolved?e.promise=Promise.reject(t):n(t)}}),e.ready=function(){return e.promise},e}},{key:"toJSON",value:function(){return{peers:Array.from(this.peers.values()).map(function(e){return{id:e.id,name:e.name,peerId:e.peerId,userId:e.userId,displayName:e.displayName,scope:e.scope,permissions:e.permissions,behaviours:e.behaviours}}),aggregates:{support:this.ctx.support.hash,localPeerId:this.call._localPeerId}}}}]);var v,h,f,_,E,T,C,y,S,D,b,I,k})(r(d[18]).ObservableEventEmitter);_e2.Peer=u,u.displayName="PvcPeer"},807,[38,345,12,13,23,25,28,550,543,808,502,670,671,486,809,620,613,490,528]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),l=r(d[3]),o=r(d[4]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.ExtendedDevice=void 0;var s=(function(s){function c(t){var o,s,u,C,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,c),s=this,C=[f],u=l(u=c),(o=n(s,p()?Reflect.construct(u,C||[],l(s).constructor):u.apply(s,C))).device=t,o.directionContext=null,o.originalRtpCapabilities=Reflect.get(o,"_extendedRtpCapabilities"),o.originalCreateTransport=Reflect.get(o,"createTransport"),Reflect.defineProperty(o,"_extendedRtpCapabilities",{get:o.getterRtpCapabilities.bind(o),set:o.setterRtpCapabilities.bind(o),enumerable:!0}),Reflect.defineProperty(o,"_createTransport",{value:o.wrapperCreateTransport.bind(o),enumerable:!1}),o}return o(c,s),t(c,[{key:"getterRtpCapabilities",value:function(){return null==this.directionContext||null==this.originalRtpCapabilities?this.originalRtpCapabilities:this.device.processRtpCapabilities(this.directionContext,this.originalRtpCapabilities)}},{key:"setterRtpCapabilities",value:function(e){this.originalRtpCapabilities=e}},{key:"wrapperCreateTransport",value:function(e){try{return this.directionContext=e.direction,this.originalCreateTransport(e)}finally{this.directionContext=null}}}])})(r(d[5]).types.Device);_e.ExtendedDevice=s},808,[12,13,23,25,28,620]);
__d(function(g,r,_i,_a2,m,_e2,d){"use strict";var e=r(d[0]);function n(e){return"id"in e&&"bitrate"in e&&"isSource"in e}function o(o){return e(o).sort(function(e,o){var l,i,c,a,t,u,s=n(e)?null!==(l=e.bitrate)&&void 0!==l?l:e.maxBitrate:(null!==(i=e.audioKbps)&&void 0!==i?i:0)+(null!==(c=e.videoKbps)&&void 0!==c?c:0),v=n(o)?null!==(a=o.bitrate)&&void 0!==a?a:o.maxBitrate:(null!==(t=o.audioKbps)&&void 0!==t?t:0)+(null!==(u=o.videoKbps)&&void 0!==u?u:0);return 0===s?-1:v-s})}function l(e){var o,l,i,c,a;if(n(e))return{id:e.id,bitrate:null!==(o=e.bitrate)&&void 0!==o?o:e.maxBitrate,isSource:null!==(l=e.isSource)&&void 0!==l&&l,appData:null!==(i=e.appData)&&void 0!==i?i:{}};var t={id:e.location,bitrate:(null!==(c=e.audioKbps)&&void 0!==c?c:0)+(null!==(a=e.videoKbps)&&void 0!==a?a:0),isSource:!1,appData:{},encoding:e};return null!=t.appData&&e.videoWidth&&e.videoHeight&&(t.appData.videoWidth=e.videoWidth,t.appData.videoHeight=e.videoHeight),t}function i(e){switch(e){case r(d[2]).SourceScoreLevel.Low:return r(d[2]).SourceScoreLevel.Medium;case r(d[2]).SourceScoreLevel.Medium:return r(d[2]).SourceScoreLevel.High;case r(d[2]).SourceScoreLevel.High:return null;case r(d[2]).TranscodeScoreLevel.Lowest:return r(d[2]).TranscodeScoreLevel.Low;case r(d[2]).TranscodeScoreLevel.Low:return r(d[2]).TranscodeScoreLevel.MediumLow;case r(d[2]).TranscodeScoreLevel.MediumLow:return r(d[2]).TranscodeScoreLevel.Medium;case r(d[2]).TranscodeScoreLevel.Medium:return r(d[2]).TranscodeScoreLevel.MediumHigh;case r(d[2]).TranscodeScoreLevel.MediumHigh:return r(d[2]).TranscodeScoreLevel.High;case r(d[2]).TranscodeScoreLevel.High:return r(d[2]).TranscodeScoreLevel.Highest;default:return null}}function c(e){switch(e){case r(d[2]).SourceScoreLevel.High:return r(d[2]).SourceScoreLevel.Medium;case r(d[2]).SourceScoreLevel.Medium:return r(d[2]).SourceScoreLevel.Low;case r(d[2]).SourceScoreLevel.Low:return null;case r(d[2]).TranscodeScoreLevel.Highest:return r(d[2]).TranscodeScoreLevel.High;case r(d[2]).TranscodeScoreLevel.High:return r(d[2]).TranscodeScoreLevel.MediumHigh;case r(d[2]).TranscodeScoreLevel.MediumHigh:return r(d[2]).TranscodeScoreLevel.Medium;case r(d[2]).TranscodeScoreLevel.Medium:return r(d[2]).TranscodeScoreLevel.MediumLow;case r(d[2]).TranscodeScoreLevel.MediumLow:return r(d[2]).TranscodeScoreLevel.Low;case r(d[2]).TranscodeScoreLevel.Low:return r(d[2]).TranscodeScoreLevel.Lowest;default:return null}}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.lowPowerModeMsg=_e2.ERRORS=void 0,_e2.playOncePossible=function(e,n){if(n.debug("playOncePossible()",{aggregates:e.dumpVideoElement()}),!e.paused&&!e.ended)return Promise.resolve();if(e.readyState>2)return e.play();return new Promise(function(o,l){n.debug("playOncePossible() returned Promise",{aggregates:e.dumpVideoElement()});var i=function(){e.readyState>2&&(e.removeListener("loadeddata",i),e.play().catch(l).then(function(){if(e.paused)var n=20,i=r(d[1]).device.setInterval(function(){e.paused||(r(d[1]).device.clearInterval(i),o()),0===--n&&(r(d[1]).device.clearInterval(i),l(new Error("Video element remains paused for 1s after play() call")))},50);else o()}))};e.addListener("loadeddata",i)})},_e2.isBitrateLayer=n,_e2.getBitrateLayersFromQualities=function(e){return e.map(function(e){return e.layer}).filter(function(e){return null!=e&&void 0!==e})},_e2.sortEncodings=o,_e2.encodingToLayer=l,_e2.fetchManifestQualities=function(e,n,i){var c;c=Array.isArray(e)?e:null!=e.substitute?[e.substitute]:e.encodings;var a=o(null!=c?c:[]),t=[];if(null!=n)t.push({level:r(d[2]).SourceScoreLevel.High,layer:{bitrate:0,isSource:!0,id:n}});else{var u=a.map(function(e){return l(e)}).filter(function(e){return e.isSource});u.sort(function(e,n){return e.bitrate>n.bitrate?1:-1});for(var s=0;s<u.length;s++)switch(s){case 0:t.push({level:r(d[2]).SourceScoreLevel.Low,layer:u[s],encoding:u[s].encoding});break;case 1:t.push({level:r(d[2]).SourceScoreLevel.Medium,layer:u[s],encoding:u[s].encoding});break;case 2:t.push({level:r(d[2]).SourceScoreLevel.High,layer:u[s],encoding:u[s].encoding})}}var v=a.map(function(e){return l(e)}).filter(function(e){return!e.isSource});switch(v.length){case 0:break;case 1:t.push({level:r(d[2]).TranscodeScoreLevel.Medium,layer:l(v[0]),encoding:v[0].encoding});break;case 2:t.push({level:r(d[2]).TranscodeScoreLevel.Low,layer:l(v[1]),encoding:v[1].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.High,layer:l(v[0]),encoding:v[0].encoding});break;case 3:t.push({level:r(d[2]).TranscodeScoreLevel.Low,layer:l(v[2]),encoding:v[2].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.Medium,layer:l(v[1]),encoding:v[1].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.High,layer:l(v[0]),encoding:v[0].encoding});break;case 4:t.push({level:r(d[2]).TranscodeScoreLevel.Low,layer:l(v[3]),encoding:v[3].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumLow,layer:l(v[2]),encoding:v[2].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumHigh,layer:l(v[1]),encoding:v[1].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.High,layer:l(v[0]),encoding:v[0].encoding});break;case 5:t.push({level:r(d[2]).TranscodeScoreLevel.Low,layer:l(v[4]),encoding:v[4].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumLow,layer:l(v[3]),encoding:v[3].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.Medium,layer:l(v[2]),encoding:v[2].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumHigh,layer:l(v[1]),encoding:v[1].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.High,layer:l(v[0]),encoding:v[0].encoding});break;case 6:t.push({level:r(d[2]).TranscodeScoreLevel.Lowest,layer:l(v[5]),encoding:v[5].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.Low,layer:l(v[4]),encoding:v[4].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumLow,layer:l(v[3]),encoding:v[3].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumHigh,layer:l(v[2]),encoding:v[2].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.High,layer:l(v[1]),encoding:v[1].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.Highest,layer:l(v[0]),encoding:v[0].encoding});break;default:t.push({level:r(d[2]).TranscodeScoreLevel.Lowest,layer:l(v[6]),encoding:v[6].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.Low,layer:l(v[5]),encoding:v[5].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumLow,layer:l(v[4]),encoding:v[4].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.Medium,layer:l(v[3]),encoding:v[3].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.MediumHigh,layer:l(v[2]),encoding:v[2].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.High,layer:l(v[1]),encoding:v[1].encoding}),t.push({level:r(d[2]).TranscodeScoreLevel.Highest,layer:l(v[0]),encoding:v[0].encoding})}null!=i&&(i instanceof r(d[3]).HlsJsPlayer||i instanceof r(d[4]).NativeHlsPlayer)&&t.push({level:r(d[2]).AutoQualityLevel.Auto});return t},_e2.isFatalError=function(e){if(e&&"object"==typeof e&&"fatal"in e)return!0===e.fatal;return!1},_e2.findClosestQuality=function(e,n){if(0===n.length)return null;if(e===r(d[2]).AutoQualityLevel.Auto)return{level:e};var o,l=Object.fromEntries(n.map(function(e){return[e.level,e]}));o=e;for(;null!=o&&null==l[o];)o=c(o);if(null==o)for(o=e;null!=o&&null==l[o];)o=i(o);if(null!=o)return l[o];return null},_e2.equalQualities=function(e,n){if(e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(e[o].level!==n[o].level)return!1;return!0},_e2.dataProperties=function(e){return{details:e.details,fatal:e.fatal,type:e.type,url:e.url}},_e2.isInLowPowerMode=function(e){return r(d[1]).device.isIosDevice&&e instanceof Error&&"NotAllowedError"===e.name&&e.message===_e2.lowPowerModeMsg},_e2.attachVideoElement=function(e){return e},_e2.ERRORS={BAD_INPUT:"bad-input",DRIVER_NOT_SUPPORTED:"driver-not-supported",ELEMENT_REQUIRED:"element-required",EMBED_SWF_FAILED:"embedding-flash-swf-failed",GET_USER_MEDIA_FAILED:"get-user-media-failed",HTTP_SERVER_UNEXPECTED_RESPONSE:"http-server-unexpected-response",HTTP_SERVER_UNAUTHORIZED:"http-server-unauthorized",HTTP_SERVER_FORBIDDEN:"http-server-forbidden",HTTP_SERVER_INTERNAL_ERROR:"http-server-internal-error",HTTP_SERVER_NOT_FOUND:"http-server-not-found",MANIFEST:"http-response",INVALID_CONTROLS:"invalid-controls-parent",INVALID_MEDIA_URL:"invalid-media-url",INVALID_POPOUT_URL:"invalid-popout-url",INVALID_EL:"invalid-element",WS_NETWORK_ERROR:"websocket-network-error",NETWORK_ERROR:"network-error",NO_DRIVERS:"no-valid-drivers",PLAYBACK_ERROR:"playback-error",UNKNOWN_DRIVER:"unknown-driver",UNKNOWN_ERROR:"unknown-error",UNRECOGNIZED_DRIVER:"unrecognized-driver",USER_REQUIRED:"user-required",INVALD_BITRATE:"invalid-bitrate",HLSJS_NOT_LOADED:"hlsjs-not-loaded"},_e2.lowPowerModeMsg="The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission."},809,[6,502,495,810,822]);
__d(function(g,_r,i,a,_m,_e2,d){"use strict";var e=_r(d[0]),t=_r(d[1]),r=_r(d[2]),s=_r(d[3]),n=_r(d[4]),o=_r(d[5]),l=_r(d[6]),u=_r(d[7]);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function c(e,t,r,s){var n=u(l(1&s?e.prototype:e),t,r);return 2&s&&"function"==typeof n?function(e){return n.apply(r,e)}:n}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.HlsJsPlayer=void 0;var v=function(){},f=(function(u){function f(e,t,s){var o,u,c,v;if(r(this,f),u=this,v=[e,t,s],c=l(c=f),(o=n(u,h()?Reflect.construct(c,v||[],l(u).constructor):c.apply(u,v))).lastProgress=0,o.manifestJson=null,o.destroyed=!1,o.m3u8ManifestLoadId=0,o.indexManifestLoadId=0,o.initialFragmentLoadId=0,o.isStarting=!1,o._firstSourceEv=!0,o.lastFrag=null,o.loadingHls=!1,o.loadFailure=null,o.recoverDecodingErrorDate=0,o.recoverSwapAudioCodecDate=0,o.hls=null,o.isAttached=!1,o._device=null,o.inactivePageEventListener=!1,o.chosenLevel=null,o.hlsJsInitId=_r(d[8]).stats.start(_r(d[8]).STATS_EVENTS.HLSJS_INIT),!_r(d[9]).device.isImplements(_r(d[10]).Feature.HLSJS))throw new Error("Device is not supported");return o.loadHls(),o.addInnerDisposer(o.destroy),o.on("error",function(){}),o}return o(f,u),s(f,[{key:"hostEl",get:function(){return null==this.elementSupervisor?null:Reflect.get(this.elementSupervisor,"element")}},{key:"isSupported",value:(_=t(function*(){return f.isSupported()}),function(){return _.apply(this,arguments)})},{key:"format",get:function(){return f.format}},{key:"ready",value:(S=t(function*(){yield this.device.loadHlsScript(this.options.hlsjsPath),yield c(f,"ready",this,3)([])}),function(){return S.apply(this,arguments)})},{key:"handleSource",value:(R=t(function*(e){var t,r,s,n;if(!this.suspended){var o=null!=(null===(r=null===(t=this.manifestJson)||void 0===t?void 0:t.formats["mp4-hls"])||void 0===r?void 0:r.substitute);if(this.manifestJson=e,null!=(null==e?void 0:e.formats["mp4-hls"])){if(this.source=this.manifest,null!=(null===(s=null==e?void 0:e.formats["mp4-hls"])||void 0===s?void 0:s.substitute)!==o&&!this._firstSourceEv)return this.ctx.logger.debug("Changing stream to/from blurredStream. Restart hlsjs."),void this.restart(!0);if(this._firstSourceEv&&(this._firstSourceEv=!1),null!=this.hostEl&&null!=this.source&&(!this.hostEl.src||null!=this.hostEl.srcObject||this.qualityHasChanged||_r(d[9]).device.isImplements(_r(d[9]).Feature.URL_LOCATION)&&this.hostEl.src===_r(d[9]).device.location)){var l=this.hostEl.currentTime;this.qualityHasChanged=!1,this.hostEl.srcObject=null,"recorded"===(null===(n=this.manifestJson)||void 0===n?void 0:n.type)&&l>0&&(this.hostEl.currentTime=l),this.ctx.logger.debug("hlsjs: await play()",{aggregates:(0,_r(d[12]).dumpVideoElement)(this.hostEl)}),yield this.play()}}else this.emitErrorDeprecated(new(_r(d[11]).DriverNotSupportedError)("Manifest did not receive a 'mp4-hls' format, the driver was not provided.",{manifest:e}))}}),function(e){return R.apply(this,arguments)})},{key:"implementedFeatures",get:function(){return[_r(d[13]).Feature.BITRATE_SWITCHING,_r(d[13]).Feature.MUTED_AUTOPLAY]}},{key:"device",get:function(){if(null!=this._device)return this._device;if(!_r(d[9]).device.isImplements(_r(d[10]).Feature.HLSJS))throw new Error("Device is not supported");return this._device=_r(d[9]).device,this._device}},{key:"data",get:function(){var e,t;return null!==(t=null===(e=this.manifestJson)||void 0===e?void 0:e.formats["mp4-hls"])&&void 0!==t?t:null}},{key:"mediaLoader",get:function(){return this.provider}},{key:"manifest",get:function(){var e,t,r,s,n,o,l,u,h=this.data;if(null==h)return null;if(null==(u=h.substitute?h.substitute.location:(null===(e=this.currentQuality)||void 0===e?void 0:e.level)!==_r(d[14]).SourceScoreLevel.High&&(null===(t=this.currentQuality)||void 0===t?void 0:t.level)!==_r(d[14]).SourceScoreLevel.Medium&&(null===(r=this.currentQuality)||void 0===r?void 0:r.level)!==_r(d[14]).SourceScoreLevel.Low||null==(null===(s=h.origin)||void 0===s?void 0:s.location)?null!=(null===(l=null===(o=this.currentQuality)||void 0===o?void 0:o.layer)||void 0===l?void 0:l.id)&&""!==this.currentQuality.layer.id?this.currentQuality.layer.id.toString():h.manifest:null===(n=h.origin)||void 0===n?void 0:n.location))return this.ctx.logger.info("Returning null in manifest getter. Data: ",{format:h}),null;var c=u.includes("?")?"&":"?";u+=c;var v=this.device.globals.get("lv_auto_last_kbps");if(null!=v){var f=u.includes("?")?"&":"?";u+=`${f}kbps=${v}`}return u}},{key:"reloadAndRestart",value:(L=t(function*(){this.isDisposed||(yield this.mediaLoader.load(),"online"===this.mediaLoader.currentState&&(yield this.restart(!1)))}),function(){return L.apply(this,arguments)})},{key:"loadHls",value:function(e){var t=this,r=null!=e?e:v;this.device.loadHlsScript(this.options.hlsjsPath).then(function(){return r()}).catch(function(e){t.ctx.logger.error("hlsjs not loaded",{path:t.options.hlsjsPath,err:e}),r(e)})}},{key:"handleVisibilityChange",value:function(){if(!this.device.hidden){var e=this.manifest;null!=e?this.startIt(e):this.emitErrorDeprecated(new(_r(d[11]).ManifestNotFoundError)("cannot play, manifest is null",{}))}}},{key:"startIt",value:(D=t(function*(t){var r=this;if(!this.device.isHlsLoaded())throw new Error(_r(d[15]).ERRORS.HLSJS_NOT_LOADED);if(!this.isDisposed&&!this.isStarting&&null!=t){if(!this.device.isHlsLoaded())throw new Error("Hls.js is not loaded");this.isStarting=!0,this.device.removeEventListener("visibilitychange",this.handleVisibilityChange),this.inactivePageEventListener=!1;var s=yield this.getAuthHeader(),n=Object.assign({},s,this.options.requestHeaders),o={debug:this.options.debug,maxBufferLength:this.options.maxBufferLength,maxBufferSize:this.options.maxBufferSize,fragLoadingTimeOut:3900,maxBufferHole:2,backBufferLength:90,progressive:!1,enableWorker:null!=r.options.enableWorker?r.options.enableWorker:null!=r.options.workerPath||"false"===process.env.HLSJS_BUNDLED,workerPath:this.options.workerPath};this.logger.debug("creating new Hls instance",{hlsjsConfig:o});var l=this.hls=new this.device.Hls(Object.assign({},o,this.options.hlsjsConfig,{xhrSetup:function(t,r){null!=n&&Object.entries(n).forEach(function(r){var s=e(r,2),n=s[0],o=s[1];t.setRequestHeader(n,o)})}}));this.logger.debug("new hls instance created",{options:o}),this.listen(),l.loadSource(t),l.attachMedia(this.hostEl),this.mediaLoader.vod||l.on(this.device.Hls.Events.BUFFER_APPENDED,function(){null==r.hostEl||0===r.hostEl.buffered.length||r.hostEl.paused||r.hostEl.buffered.end(r.hostEl.buffered.length-1)-r.hostEl.currentTime>25&&(r.ctx.logger.warn("player fell behind more than 25s, restarting"),r.reloadAndRestart())}),l.on(this.device.Hls.Events.MEDIA_ATTACHED,this.handleMediaAttached),l.on(this.device.Hls.Events.MEDIA_DETACHED,function(){r.isAttached=!1}),l.on(this.device.Hls.Events.MANIFEST_PARSED,function(){r.counters.lastProgress=Date.now()}),this.isStarting=!1}}),function(e){return D.apply(this,arguments)})},{key:"playNow",value:(y=t(function*(){this.logger.debug("playNow()");var e=this.manifest;if(!this.device.isHlsLoaded())throw new Error(_r(d[15]).ERRORS.HLSJS_NOT_LOADED);if(null==e&&"online"===this.mediaLoader.currentState)return this.emitErrorDeprecated(new(_r(d[11]).DriverNotSupportedError)("manifest doesn't contains 'flv-http' format",{manifest:e,loader:this.mediaLoader})),!1;if(null==e)return this.emitErrorDeprecated(new(_r(d[11]).ManifestNotFoundError)("cannot play, manifest is null",{})),!1;if(null==this.hostEl)return this.emitErrorDeprecated(new(_r(d[11]).ElementRequiredError)("cannot play, no video element",{})),!1;if(null!=this.hls){if(this.mediaLoader.vod&&e===this.hls.url){try{yield c(f,"play",this,3)([])}catch(e){var t=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(d[11]).PlayingIssueError)("vod play failed in playNow()",{inner:t,player:this}))}return!0}this.destroyHls()}return this.device.hidden?this.inactivePageEventListener||(this.device.addEventListener("visibilitychange",this.handleVisibilityChange),this.inactivePageEventListener=!0):yield this.startIt(e),!this.hostEl.paused}),function(){return y.apply(this,arguments)})},{key:"handleMediaAttached",value:function(){if(null!=this.hostEl&&!this.localVideoPaused)try{c(f,"play",this,3)([!0])}catch(t){var e=t instanceof Error?t:null;this.emitErrorDeprecated(new(_r(d[11]).PlayingIssueError)("play failed in startIt() method",{inner:e,player:this}))}this.isAttached=!0}},{key:"play",value:(m=t(function*(){if(this.ctx.logger.debug("play()"),null==this.hostEl)return!1;if(null!=this.hls&&!this.localVideoPaused){try{yield this.playNow()}catch(t){var e=t instanceof Error?t:null;this.emitErrorDeprecated(new(_r(d[11]).PlayingIssueError)("playNow() failed",{inner:e,player:this}))}return!0}this.hostEl.onprogress=null,yield this.ready();try{yield this.playNow()}catch(e){var t=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(d[11]).PlayingIssueError)("play failed",{inner:t,player:this}))}return!0}),function(){return m.apply(this,arguments)})},{key:"autoLevelEnabled",get:function(){var e,t;return null!==(t=null===(e=this.hls)||void 0===e?void 0:e.autoLevelEnabled)&&void 0!==t&&t}},{key:"bitrate",set:function(e){var t=this;if(null!=this.hostEl&&(_r(d[9]).device.isFirefox||this.mediaLoader.vod)){var r=this.hostEl.currentTime;if(this.stop(),this.mediaLoader.vod){var s=this.hostEl,n=function(){var e;null===(e=t.hostEl)||void 0===e||e.removeEventListener("loadedmetadata",n),s.currentTime=r};this.hostEl.addEventListener("loadedmetadata",n)}this.play().catch(function(e){var r=e instanceof Error?e:null;t.emitErrorDeprecated(new(_r(d[11]).PlayingIssueError)("play failed after changing bitrate",{inner:r,player:t}))})}}},{key:"stop",value:function(){null!=this.hls&&this.destroyHls()}},{key:"pause",value:function(){var e;null===(e=this.hostEl)||void 0===e||e.pause()}},{key:"destroy",value:function(){this.destroyed=!0,this.destroyHls()}},{key:"destroyHls",value:function(){var e=this.hls;null!=e&&(null!=this.hostEl&&this.hostEl.removeEventListener("error",this._handleElError),null==e||e.off(this.device.Hls.Events.ERROR,this._handleHlsErrors),e.off(this.device.Hls.Events.MEDIA_ATTACHED,this.handleMediaAttached),null==e||e.detachMedia(),null==e||e.destroy(),this.hls=null,this.loadFailure=null)}},{key:"recoverFromBufferSeekOverHole",value:(p=t(function*(){if(null!=this.data){this.stop();try{yield this.play()}catch(t){var e=t instanceof Error?t:null;this.emitErrorDeprecated(new(_r(d[11]).PlayingIssueError)("play failed after recoverFromBufferSeekOverHole()",{inner:e,player:this}))}}}),function(){return p.apply(this,arguments)})},{key:"pickEncoding",value:function(e){if(null==this.data)return null;if(null!=e&&(this.options.bitrate=e),null==this.options.bitrate)return null;var t=this.data.encodings;return 0===t.length||null==this.chosenLevel?null:t[this.chosenLevel]}},{key:"ifNoProgress",value:function(e){var t=this.hostEl;if(null!=t){var r=t.currentTime;_r(d[9]).device.setTimeout(function(){t.currentTime<=r&&e()},250)}}},{key:"emitProgress",value:function(){_r(d[9]).device.isImplements(_r(d[10]).Feature.DEBUGGING)?this.lastProgress=_r(d[9]).device.performance.now():this.lastProgress=Date.now(),this.emit("progress")}},{key:"listen",value:function(){var e,t,r,s,n=this,o=this.hls,l=this.hostEl;if(null==o)throw new Error(_r(d[15]).ERRORS.HLSJS_NOT_LOADED);if(null==l)throw new Error(_r(d[15]).ERRORS.ELEMENT_REQUIRED);o.on(this.device.Hls.Events.ERROR,this._handleHlsErrors),l.addEventListener("progress",function(){n.emitProgress()}),l.addEventListener("ended",function(){n.emit("ended")});var u={driver:this.format,abr:null===(e=this.manifestJson)||void 0===e?void 0:e.abr,aor:null===(t=this.manifestJson)||void 0===t?void 0:t.aor,atr:null===(r=this.manifestJson)||void 0===r?void 0:r.atr,rep:null===(s=this.manifestJson)||void 0===s?void 0:s.rep};_r(d[16]).timeupdateWrapper.wrap(l,function(){(n.emit("timeupdate"),-1!==n.initialFragmentLoadId)&&(l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2&&(n.emit("initialFragmentLoad",_r(d[8]).stats.stop(n.initialFragmentLoadId,u)),n.initialFragmentLoadId=-1))}),l.addEventListener("error",this._handleElError),o.on(this.device.Hls.Events.MANIFEST_LOADING,function(e,t){n.emit("hlsJsInit",_r(d[8]).stats.stop(n.hlsJsInitId,u)),n.m3u8ManifestLoadId=_r(d[8]).stats.start(_r(d[8]).STATS_EVENTS.M3U8_MANIFEST_LOAD)}),o.on(this.device.Hls.Events.MANIFEST_LOADED,function(e,t){n.emit("m3u8ManifestLoad",_r(d[8]).stats.stop(n.m3u8ManifestLoadId,u)),n.indexManifestLoadId=_r(d[8]).stats.start(_r(d[8]).STATS_EVENTS.INDEX_MANIFEST_LOAD)}),o.once(this.device.Hls.Events.LEVEL_UPDATED,function(e,t){n.emit("indexManifestLoad",_r(d[8]).stats.stop(n.indexManifestLoadId,u))}),o.once(this.device.Hls.Events.FRAG_LOADING,function(e){n.initialFragmentLoadId=_r(d[8]).stats.start(_r(d[8]).STATS_EVENTS.INITIAL_FRAGMENT_LOAD)}),o.on(this.device.Hls.Events.FRAG_LOADED,function(e,t){n.loadedFrag(t.frag)})}},{key:"_handleHlsErrors",value:function(e,t){var r,s=this,n=0,o=this.hostEl;try{switch(t.details){case this.device.Hls.ErrorDetails.LEVEL_LOAD_ERROR:case this.device.Hls.ErrorDetails.FRAG_LOAD_TIMEOUT:if(this.mediaLoader.vod){var l=(0,_r(d[15]).dataProperties)(t);return void this.emitErrorDeprecated(new(_r(d[11]).PlaybackError)("hlsjs playback error",Object.assign({},l,{loader:this.mediaLoader})))}if("offline"===this.mediaLoader.currentState)return void this.stop();if(this.ctx.logger.warn("level load reload and restart",{type:String(e)}),this.reloadAndRestart().catch(function(e){var t=(0,_r(d[17]).isVideoClientError)(e)&&e.code===_r(d[11]).ErrorCode.ManifestNotLoaded?"hlsjs restart failed because manifest has not loaded":"hlsjs restart failed";s.emitError((0,_r(d[18]).createError)(_r(d[11]).ErrorCode.PlayerLoadingFailed,t,{player:f.displayName,format:s.format},e))}),null!=o)return n=o.currentTime,void _r(d[9]).device.setTimeout(function(){o.currentTime<=n&&(s.ctx.logger.warn("level load reload and restart",{type:String(e)}),s.reloadAndRestart().catch(function(e){var t=(0,_r(d[17]).isVideoClientError)(e)&&e.code===_r(d[11]).ErrorCode.ManifestNotLoaded?"hlsjs restart failed because manifest has not loaded":"hlsjs restart failed";s.emitError((0,_r(d[18]).createError)(_r(d[11]).ErrorCode.PlayerLoadingFailed,t,{player:f.displayName,format:s.format},e))}))},100);break;case this.device.Hls.ErrorDetails.BUFFER_SEEK_OVER_HOLE:return void this.ifNoProgress(function(){s.recoverFromBufferSeekOverHole()});case this.device.Hls.ErrorDetails.BUFFER_APPEND_ERROR:case this.device.Hls.ErrorDetails.BUFFER_FULL_ERROR:this.counters.bufferOverflowCount++;break;case this.device.Hls.ErrorDetails.FRAG_LOAD_ERROR:case this.device.Hls.ErrorDetails.FRAG_DECRYPT_ERROR:case this.device.Hls.ErrorDetails.FRAG_PARSING_ERROR:case this.device.Hls.ErrorDetails.BUFFER_APPENDING_ERROR:case this.device.Hls.ErrorDetails.BUFFER_STALLED_ERROR:this.counters.bufferUnderflowCount++;break;case this.device.Hls.ErrorDetails.MANIFEST_LOAD_ERROR:return this.ctx.logger.error("unable to load m3u8 manifest",{url:t.url}),void this.setPreferredLevel(_r(d[14]).TranscodeScoreLevel.Highest)}switch(t.type){case this.device.Hls.ErrorTypes.NETWORK_ERROR:t.details!==this.device.Hls.ErrorDetails.FRAG_LOAD_TIMEOUT?this.counters.currentErrorCount++:this.counters.currentErrorCount=null!==(r=this.options.recoverErrorCount)&&void 0!==r?r:0,this.emitErrorDeprecated(new(_r(d[11]).NetworkError)("hlsjs playback error",{data:(0,_r(d[15]).dataProperties)(t)}));break;case this.device.Hls.ErrorTypes.MEDIA_ERROR:if(t.fatal)return void this.handleMediaError();if(t.details===this.device.Hls.ErrorDetails.BUFFER_STALLED_ERROR)return void this.emitErrorDeprecated(new(_r(d[11]).PlaybackError)("hlsjs media error",{data:(0,_r(d[15]).dataProperties)(t),loader:this.mediaLoader}));t.details===this.device.Hls.ErrorDetails.FRAG_LOAD_ERROR&&this.counters.currentErrorCount++,this.emitErrorDeprecated(new(_r(d[11]).PlaybackError)("hlsjs media error",{data:(0,_r(d[15]).dataProperties)(t),loader:this.mediaLoader}));break;case this.device.Hls.ErrorTypes.OTHER_ERROR:this.counters.currentErrorCount++,this.ctx.logger.warn("hlsjs other error",(0,_r(d[15]).dataProperties)(t));break;default:return void this.ctx.logger.error("unhandled hlsjs error",(0,_r(d[15]).dataProperties)(t))}this.checkRestart(t);var u=(0,_r(d[15]).dataProperties)(t);this.ctx.logger.warn(`${e}`,u)}catch(e){var h=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(d[11]).HandleHlsJsError)("error handling error from hlsjs library",{inner:h}))}}},{key:"_handleElError",value:function(e){var t;if((0,_r(d[19]).isVideoElement)(e.target)&&null!=e.target.error){switch(e.target.error.code){case _r(d[19]).MediaErrorCodeConstants.MEDIA_ERR_DECODE:this.handleMediaError();break;case _r(d[19]).MediaErrorCodeConstants.MEDIA_ERR_SRC_NOT_SUPPORTED:this.emitErrorDeprecated(new(_r(d[11]).DriverNotSupportedError)("hlsjs src not supported",{manifest:this.manifest,loader:this.mediaLoader}))}this.autoPlay&&(null===(t=this.hostEl)||void 0===t||t.play())}}},{key:"handleMediaError",value:function(){var e=this,t=this.device.isImplements(_r(d[10]).Feature.DEBUGGING)?this.device.performance.now():Date.now(),r=this.hls;if(null==r){if(this.destroyed||this.isDisposed)return;throw new Error(_r(d[15]).ERRORS.HLSJS_NOT_LOADED)}null!=this.recoverDecodingErrorDate||t-this.recoverDecodingErrorDate>3e3?(this.recoverDecodingErrorDate=t,r.recoverMediaError()):(null!=this.recoverSwapAudioCodecDate||t-this.recoverSwapAudioCodecDate>3e3)&&(this.recoverSwapAudioCodecDate=t,r.swapAudioCodec(),r.recoverMediaError()),this.ifNoProgress(function(){e.recoverFromBufferSeekOverHole()})}},{key:"currentLevel",get:function(){var e=this.hls;return null==e||null==e.abrController.fragCurrent?null:e.abrController.fragCurrent.level}},{key:"nextLevel",get:function(){var e=this.hls;if(null==e)throw new Error(_r(d[15]).ERRORS.HLSJS_NOT_LOADED);return e.abrController.nextAutoLevel}},{key:"bitrateSwitch",value:function(e){var t;null!=this.hls&&(e>(null!==(t=this.currentLevel)&&void 0!==t?t:0)?this.counters.upshift++:this.counters.downshift++,this.emit("bitrate-switch"))}},{key:"loadedFrag",value:function(e){var t,r,s,n=e;this.counters.fragCounts++,n.request=null!=this.lastFrag?n.trequest-(null!==(r=null===(t=this.lastFrag)||void 0===t?void 0:t.trequest)&&void 0!==r?r:0):n.trequest,this.lastFrag=n,this.counters.fragSize+=n.loaded,this.counters.fragDuration+=n.duration,this.counters.fragDownloadTime+=n.request,this.counters.fragMaxTime=Math.max(this.counters.fragMaxTime,n.request),this.counters.fragMinTime=Math.min(null!==(s=this.counters.fragMinTime)&&void 0!==s?s:n.request,n.request)}}],[{key:"isSupported",value:(E=t(function*(e){return(0,_r(d[20]).supportsHlsjs)(e)}),function(e){return E.apply(this,arguments)})},{key:"format",get:function(){return"mp4-hls"}}]);var E,p,m,y,D,L,R,S,_})(_r(d[16]).CorePlayer);_e2.HlsJsPlayer=f,f.displayName="HlsJsPlayer"},810,[38,345,12,13,23,28,25,26,811,502,486,543,814,493,495,809,816,490,613,815,615]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STATS_EVENTS=e.stats=void 0;var t=r(d[0]).__importDefault(r(d[1]));e.STATS_EVENTS=t.default;var s=new(r(d[2]).Stats);e.stats=s},811,[487,812,813]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={AUTOPLAY_PROGRESS:"autoplay-first-progress",FIRST_LOAD:"first-load",MANIFEST_LOAD:"manifest-load",HLSJS_INIT:"hlsjs-init",M3U8_MANIFEST_LOAD:"m3u8-manifest-load",INDEX_MANIFEST_LOAD:"index-manifest-load",INITIAL_FRAGMENT_LOAD:"initial-fragment-load",JOIN_CALL_ENDPOINT:"join-call-endpoint",SFU_CONNECTION:"sfu-connection",VIDEO_CONSUMER:"video-consumer",FIRST_TIME_UPDATE:"first-time-update"}},812,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.Stats=void 0;var s=(function(){return n(function n(){t(this,n),this.eventCounter=0,this.timings={}},[{key:"start",value:function(t){this.eventCounter+=1;var n=this.eventCounter;return this.timings[n]={ms:Date.now(),name:t},n}},{key:"stop",value:function(t,n){var s,u,o=null===(s=this.timings[t])||void 0===s?void 0:s.ms;if(null==o)return{};var v=null!==(u=Object.assign({},n))&&void 0!==u?u:{};return v.ms=Date.now()-o,delete this.timings[t],v}}])})();e.Stats=s},813,[12,13]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dumpVideoElement=function(t){var u,l,n,b;if(null==t)return{};var y={playDebugHasSrcObject:null!=t.srcObject,playDebugMuted:t.muted,playDebugPaused:t.paused,playDebugHeight:t.videoHeight,playDebugWidth:t.videoWidth,playDebugAutoplay:t.autoplay,playDebugReadyState:t.readyState,playDebugPlaysInLineAttr:null!==(u=t.getAttribute("playsinline"))&&void 0!==u?u:"undefined",playDebugWebkitPlaysInLineAttr:null!==(l=t.getAttribute("webkit-playsinline"))&&void 0!==l?l:"undefined"};(0,r(d[0]).isMediaStream)(t.srcObject)&&(y.playDebugHasAudioTrack=(null===(n=t.srcObject)||void 0===n?void 0:n.getAudioTracks().length)>0,y.playDebugHasVideoTrack=(null===(b=t.srcObject)||void 0===b?void 0:b.getVideoTracks().length)>0);return y}},814,[815]);
__d(function(g,r,i,a,m,e,d){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.MediaErrorCodeConstants=void 0,e.isMediaStream=function(E){if("object"!=typeof E||null==E)return!1;return"getAudioTracks"in E&&"getVideoTracks"in E},e.isVideoElement=function(E){return void 0!==(null==E?void 0:E.src)},(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",E[E.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",E[E.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",E[E.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",E[E.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"})(E||(e.MediaErrorCodeConstants=E={}))},815,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),r=_r(d[2]),i=_r(d[3]),o=_r(d[4]),n=_r(d[5]),l=_r(d[6]),s=_r(d[7]);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.CorePlayer=_e.proxyHandler=_e.timeupdateWrapper=void 0;var c=_r(d[8]).__importDefault(_r(d[9])),h=[0,1e3,2e3,5e3,25e3],p={bufferOverflowCount:0,bufferUnderflowCount:0,currentErrorCount:0,downshift:0,fragCounts:0,fragDownloadTime:0,fragDuration:0,fragMaxTime:0,fragMinTime:0,fragFetchTime:0,fragSize:0,lastProgress:0,recentErrorCount:0,restartCount:0,upshift:0};_e.timeupdateWrapper=new(_r(d[10]).TimeupdateWrapper),_e.proxyHandler=new(_r(d[11]).SyncHandler)({logger:new(_r(d[12]).LoggerCore)("VDC-core"),methods:{isSupported:"postpone",initVideoEl:"postpone",getClosestQuality:"stub"}});var v={bitrate:null,muted:!1,volume:.75,autoPlay:!0,origin:!1,preset:null,recoverErrorCount:0,timeout:3e4,driverFailover:!0},f=(function(f){function y(e,i,l){var s,h,f,P,b,w;if(r(this,y),P=this,b=n(b=y),(s=o(P,u()?Reflect.construct(b,w||[],n(P).constructor):b.apply(P,w))).counters=p,s.lockRestart=!1,s.clearRestartCount=0,s.playingPromise=null,s.elementSupervisor=null,s.consumerAudioMuted=void 0,s.consumerVideoPaused=void 0,s.lowPowerMode=!1,s.internalPaused=!1,s.qualityEqual=!1,s.internalMuted=!1,s.internalVolume=1,s.startedPlaying=!1,s.pausedOnUnmount=!1,s.mutedOnHidden=!1,s.autoPlay=!0,s.driverFailover=!0,s.forcedMute=!1,s.source=null,s.errors={},s.availableQualities=[],s.currentQuality=null,s.isConnecting=null,s.isConnected=null,s.blurred=!1,s.qualityHasChanged=!1,s.successfulPlayTimeStamp=null,s._poster=null,s.preferredLevel=_r(d[13]).AutoQualityLevel.Auto,(0,_r(d[14]).makeObservable)(s,{consumerAudioMuted:_r(d[14]).observable,consumerVideoPaused:_r(d[14]).observable,internalPaused:_r(d[14]).observable,internalMuted:_r(d[14]).observable,internalVolume:_r(d[14]).observable,forcedMute:_r(d[14]).observable,source:_r(d[14]).observable.ref,availableQualities:_r(d[14]).observable.shallow,currentQuality:_r(d[14]).observable.shallow,_poster:_r(d[14]).observable,driverFailover:_r(d[14]).observable,blurred:_r(d[14]).observable,preferredLevel:_r(d[14]).observable,lowPowerMode:_r(d[14]).observable,attached:_r(d[14]).computed,localVideoPaused:_r(d[14]).computed,localAudioMuted:_r(d[14]).computed,localAudioVolume:_r(d[14]).computed,poster:_r(d[14]).computed,attachTo:_r(d[14]).action}),s.ctx=e,s.options=null!=l?l:v,null!=s.options.autoPlay&&(s.autoPlay=s.options.autoPlay),s.provider=i,s.internalPaused=!s.autoPlay,null!=(null===(h=s.options)||void 0===h?void 0:h.muted)&&(s.internalMuted=s.options.muted),null!=(null===(f=s.options)||void 0===f?void 0:f.volume)&&(s.localAudioVolume=s.options.volume),null!=s.ctx.token){var S="string"==typeof s.ctx.token?{token:s.ctx.token}:{refreshToken:s.ctx.token};s.auth=new c.default({bootstrap:S})}if(s.addInnerDisposer((0,_r(d[14]).reaction)(function(){return[s.availableQualities,s.preferredLevel]},function(r){var i,o,n,l=t(r,2),u=l[0],c=l[1];if(null!=c||1!==(null==u?void 0:u.length)&&"flv-http"!==s.format){if(null==c&&1!==(null==u?void 0:u.length))return void(s.currentQuality=null)}else c=_r(d[13]).TranscodeScoreLevel.Highest;if(null!=c&&null!=u){var h=(0,_r(d[15]).findClosestQuality)(c,u);h!==s.currentQuality&&(s.qualityHasChanged=!0,e.logger.debug("quality change",{format:s.format,oldQuality:null!==(o=null===(i=s.currentQuality)||void 0===i?void 0:i.level)&&void 0!==o?o:null,newQuality:null!==(n=null==h?void 0:h.level)&&void 0!==n?n:null,preferredQuality:c})),s.currentQuality=h,s.qualityHasChanged&&s.updatePosterWithLatestFrame(),null!=s.currentQuality&&null!=s.provider.source&&s.handleSource(s.provider.source)}},{equals:_r(d[14]).comparer.structural})),e.logger.attachObject(s),e.logger.trace("constructor()",{options:s.options}),(0,_r(d[16]).onceCanceled)(e).then(function(e){return s.dispose(`Core Player Context Cancelled: ${e}`)}),s._handleVisibilityChange=function(){(_r(d[17]).device.isIosDevice||_r(d[17]).device.isAndroidDevice)&&(_r(d[17]).device.hidden?(s.mutedOnHidden=s.internalMuted,s.localAudioMuted=!0):s.localAudioMuted=s.mutedOnHidden)},_r(d[17]).device.addEventListener("visibilitychange",s._handleVisibilityChange),s.provider.on("source",s.handleSource),s.provider.on("source",s.isSource),s.provider.on("audioMuted",s.handleAudioMuted),s.provider.on("videoPaused",s.handleVideoPaused),s.provider instanceof _r(d[18]).MediasoupSource&&s.provider.on("accessDenied",s.handleProviderAccessDenied),s.addInnerDisposer(function(){s.provider.off("source",s.handleSource),s.provider.off("source",s.isSource),s.provider.off("audioMuted",s.handleAudioMuted),s.provider.off("videoPaused",s.handleVideoPaused),_r(d[17]).device.removeEventListener("visibilitychange",s._handleVisibilityChange),null!=s.auth&&s.auth.destroy(),s.provider instanceof _r(d[18]).MediasoupSource&&s.provider.off("accessDenied",s.handleProviderAccessDenied)}),null!=s.provider.source){var E=s.provider.source;setTimeout(function(){s.handleSource(E)},0)}return s}return s(y,f),i(y,[{key:"logger",get:function(){return this.ctx.logger}},{key:"poster",get:function(){return this._poster},set:function(e){null!=e&&null!=this.elementSupervisor&&this.elementSupervisor.setPoster(e),this._poster=e}},{key:"activeLayer",get:function(){var e,t;return null!==(t=null===(e=this.currentQuality)||void 0===e?void 0:e.layer)&&void 0!==t?t:null}},{key:"layers",get:function(){return(0,_r(d[15]).getBitrateLayersFromQualities)(this.availableQualities)}},{key:"updatePosterWithLatestFrame",value:function(){null!=this.elementSupervisor&&_r(d[17]).device.isImplements(_r(d[19]).Feature.CREATE_SCREENSHOT)?this.poster=this.elementSupervisor.createScreenshot():this.ctx.logger.warn("Unable to set update poster. Create screenshot is not compatible with device.")}},{key:"ready",value:(C=e(function*(){var e=this;if(null==this.source)return this.ctx.logger.debug("no source, not ready"),new Promise(function(t,r){var i,o=(0,_r(d[14]).autorun)(function(r){null!=e.source&&(r.dispose(),_r(d[17]).device.clearTimeout(i),t())});null!=e.options.timeout&&(i=_r(d[17]).device.setTimeout(function(){o();var t=new(_r(d[20]).PlayingIssueError)(`timeout after ${e.options.timeout}ms`,{player:e});e.emitErrorDeprecated(t),e.options.driverFailover&&e.emit("driverFailover",!0),r(t)},e.options.timeout))})}),function(){return C.apply(this,arguments)})},{key:"handleAudioMuted",value:function(e){this.consumerAudioMuted=e}},{key:"handleVideoPaused",value:function(e){this.consumerVideoPaused=e}},{key:"handleProviderAccessDenied",value:function(e){this.emit("playerAccessDenied",e)}},{key:"isSource",value:function(){this.provider instanceof _r(d[18]).MediasoupSource&&(this.consumerVideoPaused=!this.provider.hasVideo||this.provider.videoPaused)}},{key:"attached",get:function(){return null!=this.elementSupervisor}},{key:"localVideoPaused",get:function(){return this.internalPaused},set:function(t){var r=this;this.internalPaused=t,null!=this.elementSupervisor&&(this.internalPaused?this.pauseEl():e(function*(){try{yield r.play()}catch(e){r.emitErrorDeprecated(new(_r(d[20]).PlayingIssueError)("VideoElement.play() error",{inner:e instanceof Error?e:null,player:r}))}})())}},{key:"pauseEl",value:function(){var e;null===(e=this.elementSupervisor)||void 0===e||e.pause()}},{key:"localAudioMuted",get:function(){return this.internalMuted},set:function(e){this.internalMuted=e,null!=this.elementSupervisor&&(this.elementSupervisor.muted=e)}},{key:"localAudioVolume",get:function(){return this.internalVolume},set:function(e){e>1||e<0?this.ctx.logger.warn(`Volume level not set. ${e} is not a valid volume value for an HTMLMediaElement. Volume levels must be between 0-1.`):(this.internalVolume=e,null!=this.elementSupervisor&&(this.elementSupervisor.volume=e))}},{key:"handleElPlay",value:function(){this.suspended||(this.internalPaused?(this.ctx.logger.warn("A try to call .play() on HTMLVideoElement outside the Player"),_r(d[17]).device.isSafari?this.localVideoPaused=!0:this.internalPaused=!1):this.ctx.logger.info(".play() called on HTMLVideoElement"))}},{key:"handleElPause",value:function(){var e=this;if(!this.suspended&&!this.internalPaused&&null!=this.elementSupervisor){if(!this.elementSupervisor.paused)return;this.play().catch(function(t){_r(d[17]).device.setTimeout(e.handleElPause,50),e.ctx.logger.error("An error occured on the play() request",{err:(0,_r(d[20]).wrapNativeError)(t)})})}}},{key:"handleElError",value:function(){var e,t;if(null!=this.elementSupervisor&&!this.suspended){var r=_r(d[21]).MediaErrorCodeConstants[null!==(t=null===(e=this.elementSupervisor.error)||void 0===e?void 0:e.code)&&void 0!==t?t:0];this.ctx.logger.warn(`VideoElement Error: ${r}`)}}},{key:"handleElVolumeChange",value:function(){null==this.elementSupervisor||this.suspended||(Math.abs(this.internalVolume-this.elementSupervisor.volume)>.01&&(this.ctx.logger.warn("A try to change volume on HTMLVideoElement outside the Player"),this.elementSupervisor.volume=this.internalVolume),this.elementSupervisor.muted!==this.internalMuted&&(this.elementSupervisor.muted=this.internalMuted))}},{key:"attachTo",value:(k=e(function*(e){var t=this;this.ctx.logger.trace("attachTo()",{el:(0,_r(d[22]).dumpVideoElement)(e)}),this.elementSupervisor=_r(d[23]).MediaElementSupervisor.getSupervisor(e).attachToPlayer(this),this.pausedOnUnmount=this.internalPaused,this.ctx.logger.debug("attach to host element",{element:(0,_r(d[22]).dumpVideoElement)(e),options:this.options}),this.initVideoEl(this.elementSupervisor).catch(function(e){return t.ctx.logger.error(`Unable to initialize VideoElement: ${e}`)}),null!=this.source&&(this.emit("hostElementAttached",{el:e}),this.ctx.logger.debug("hostElementAttached",{el:(0,_r(d[22]).dumpVideoElement)(e)}))}),function(e){return k.apply(this,arguments)})},{key:"initVideoEl",value:(x=e(function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.muted=this.internalMuted,e.volume=this.internalVolume,t&&(this.pausedOnUnmount=this.internalPaused),this.pausedOnUnmount||"flv-http"===this.format?e.autoplay=!1:e.autoplay=!0,this.startedPlaying=!1,null!=this._poster&&e.setPoster(this._poster),this.ctx.logger.debug("host element is initialized",{autoPlay:this.options.autoPlay,internalPaused:this.internalPaused,internalMuted:this.internalMuted}),null==this.source&&"mp4-ws"!==this.format||("string"==typeof this.source?e.updateSrc(this.source):"mp4-ws"===this.format&&""===e.element.src||e.updateSrcObject(this.source)),this.pausedOnUnmount||(this.ctx.logger.info("core: initVideoEl() -> await play()"),yield this.play())}),function(e){return x.apply(this,arguments)})},{key:"handleElProgress",value:function(){_r(d[17]).device.isImplements(_r(d[19]).Feature.DEBUGGING)?this.counters.lastProgress=_r(d[17]).device.performance.now():this.counters.lastProgress=Date.now(),this.emit("progress")}},{key:"handleElTimeupdate",value:function(){null!=this.elementSupervisor&&(this.elementSupervisor.isVideoPlaying()&&!this.startedPlaying&&(this.startedPlaying=!0,this.successfulPlayTimeStamp=Date.now(),this.emit("videoFirstPlay")));null!=this.successfulPlayTimeStamp&&(15===Math.floor((Date.now()-this.successfulPlayTimeStamp)/1e3)&&(this.ctx.logger.debug("Successful playback."),this.successfulPlayTimeStamp=null));this.counters.fragCounts+=1,this.emit("timeupdate")}},{key:"resetCounts",value:function(){this.counters=p}},{key:"bufferTimes",value:function*(){for(var e,t,r,i=null!==(r=null===(t=null===(e=this.elementSupervisor)||void 0===e?void 0:e.buffered)||void 0===t?void 0:t.length)&&void 0!==r?r:0,o=0;null!=this.elementSupervisor&&o<i;o++)yield[this.elementSupervisor.buffered.start(o),this.elementSupervisor.buffered.end(o)]}},{key:"details",get:function(){var e;return{bufferOverflowCount:this.counters.bufferOverflowCount,bufferUnderflowCount:this.counters.bufferUnderflowCount,downshift:this.counters.downshift,errors:null!==(e=this.errors)&&void 0!==e?e:{},muted:this.localAudioMuted,segments:this.counters.fragCounts,segmentsSize:this.counters.fragSize,segmentsDuration:this.counters.fragDuration,segmentTotalDownloadTime:this.counters.fragDownloadTime,segMaxTime:this.counters.fragMaxTime,segMinTime:this.counters.fragMinTime,upshift:this.counters.upshift,volume:this.localAudioVolume}}},{key:"restart",value:(M=e(function*(e){var t,r=this;if(this.ctx.logger.info("restart()",{immediate:e}),!this.lockRestart)return this.lockRestart=!0,this.counters.currentErrorCount=0,this.counters.recentErrorCount=0,this.counters.restartCount+=1,e?new Promise(function(t){r.stop();try{r.play(e).then(function(){r.lockRestart=!1,t()})}catch(e){r.ctx.logger.error("An error occured on the play() request",{err:(0,_r(d[20]).wrapNativeError)(e)})}}):(_r(d[17]).device.clearTimeout(null!==(t=this.clearRestartCount)&&void 0!==t?t:0),this.clearRestartCount=_r(d[17]).device.setTimeout(function(){r.counters.restartCount=0},2*h[h.length-1]),this.emit("restartDriver",{timeout:h[Math.min(this.counters.restartCount,h.length-1)]}),this.restartTimeout())}),function(e){return M.apply(this,arguments)})},{key:"restartTimeout",value:(E=e(function*(){var e=this;return new Promise(function(t){_r(d[17]).device.setTimeout(function(){if(!e.isDisposed){e.stop();try{e.play().then(function(){e.lockRestart=!1,t()})}catch(t){e.ctx.logger.error("An error occured on the play() request",{err:(0,_r(d[20]).wrapNativeError)(t)})}}},h[Math.min(e.counters.restartCount,h.length-1)])})}),function(){return E.apply(this,arguments)})},{key:"stop",value:function(){null!=this.elementSupervisor&&(this.elementSupervisor.updateSrc(""),this.elementSupervisor.updateSrcObject(null))}},{key:"play",value:(S=e(function*(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.ctx.logger.info("play()",{videoEl:null===(e=this.elementSupervisor)||void 0===e?void 0:e.dumpVideoElement(),aggregates:{debug:"play"}}),yield this.ready(),this.ctx.logger.info("ready to play",{aggregates:{debug:"play"}}),null==this.elementSupervisor?(this.ctx.logger.warn("a try to play without host element attached",{aggregates:{debug:"play"}}),!1):this.elementSupervisor.isSourceSet()?(null==this.playingPromise&&(this.ctx.logger.setMessageAggregate("debug","play"),this.ctx.logger.setMessageAggregate("playImmediately",r),this.ctx.logger.setMessageAggregate("hasPlayingPromise",null!=this.playingPromise),this.playingPromise=this.playInternal(this.elementSupervisor,r).then(function(){var e;return t.ctx.logger.trace("playingPromise.then()"),!(null===(e=t.elementSupervisor)||void 0===e?void 0:e.paused)}).catch(function(e){return t.ctx.logger.trace("playingPromise.catch()",{err:(0,_r(d[20]).wrapNativeError)(e)}),e}).finally(function(){t.ctx.logger.trace("playingPromise.finally()"),t.playingPromise=null,t.ctx.logger.removeMessageAggregate("debug"),t.ctx.logger.removeMessageAggregate("playImmediately"),t.ctx.logger.removeMessageAggregate("hasPlayingPromise")})),this.playingPromise):(this.ctx.logger.debug("nothing to play",{aggregates:{debug:"play"}}),!1)}),function(){return S.apply(this,arguments)})},{key:"playInternal",value:(w=e(function*(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ctx.logger.trace("playInternal()"),!((0,_r(d[21]).isMediaStream)(e.srcObject)&&(null===(t=e.srcObject)||void 0===t?void 0:t.getTracks().length)<=0)){_r(d[17]).device.isSafari&&"mp4-hls"===this.format&&(this.ctx.logger.info("playInternal safari hls bypassing loadeddata check"),r=!0);var i=r?e.play.bind(e):_r(d[15]).playOncePossible.bind(null,e,this.ctx.logger);try{this.ctx.logger.trace("playInternal() trying playDelegate (first time)"),yield i()}catch(e){if(!(e instanceof Error))throw this.ctx.logger.info("playDelegate unknown error type",{errType:typeof e,player:this}),e;var o={inner:(0,_r(d[20]).wrapNativeError)(e),playImmediately:r,player:this};if("AbortError"!==e.name&&"NotAllowedError"!==e.name||this.localAudioMuted||!this.isImplements(_r(d[24]).Feature.MUTED_AUTOPLAY)){this.ctx.logger.info("bypassed forcedMute autoplay",{errName:e.name,localAudioMuted:this.localAudioMuted,implementsMutedAutoplay:this.isImplements(_r(d[24]).Feature.MUTED_AUTOPLAY)});try{yield new Promise(function(e){_r(d[17]).device.setTimeout(e,500)}),yield i(),this.ctx.logger.info("playDelegate playing (one more time just in case)",o)}catch(t){t instanceof Error&&(0,_r(d[15]).isInLowPowerMode)(t)?(this.lowPowerMode=!0,this.ctx.logger.info("iOS Device in low power mode, cannot autoplay",{err:(0,_r(d[20]).wrapNativeError)(e),lowPowerMode:this.lowPowerMode})):this.throwErrorDeprecated(new(_r(d[20]).PlayingIssueError)("playDelegate error after second try",o))}}else{this.ctx.logger.info("attempting forcedMute play",o),this.localAudioMuted=!0,this.forcedMute=!0;try{yield i(),this.ctx.logger.info("playDelegate playing muted due to low page engagement",o)}catch(t){t instanceof Error&&(0,_r(d[15]).isInLowPowerMode)(t)?(this.lowPowerMode=!0,this.ctx.logger.info("iOS Device in low power mode, cannot autoplay",{err:(0,_r(d[20]).wrapNativeError)(e),lowPowerMode:this.lowPowerMode})):this.throwErrorDeprecated(new(_r(d[20]).PlayingIssueError)("playDelegate error after mute play",o))}}}finally{this.ctx.logger.trace("playInternal() finally"),this.internalPaused=e.paused}}}),function(e){return w.apply(this,arguments)})},{key:"getAuthHeader",value:(b=e(function*(){if(null!=this.auth)try{return{Authorization:`bearer ${yield(0,_r(d[25]).getAuthToken)({ctx:this.ctx,auth:this.auth,reauth:!1})}`}}catch(t){var e=t instanceof Error?t.message:"unknown error";throw this.ctx.logger.warn("Authorization error",{err:e}),t}return null}),function(){return b.apply(this,arguments)})},{key:"checkRestart",value:(P=e(function*(e){var t=this,r=e;if(this.counters.recentErrorCount+=1,_r(d[17]).device.setTimeout(function(){t.counters.recentErrorCount-=1,t.counters.recentErrorCount=Math.max(t.counters.recentErrorCount,0)},1e4),this.counters.recentErrorCount>=10&&(r.fatal=!0),this.counters.currentErrorCount>=10&&(r.fatal=!0),r.fatal)return this.restart(!1)}),function(e){return P.apply(this,arguments)})},{key:"setPreferredLevel",value:function(e){this.preferredLevel=e}},{key:"getClosestQuality",value:function(e){return(0,_r(d[15]).findClosestQuality)(e,this.availableQualities)}},{key:"isImplements",value:function(e){return this.implementedFeatures.includes(e)}},{key:"replaceManifestUrl",value:function(e){throw(0,_r(d[26]).createError)(_r(d[27]).ErrorCode.NotSupported)}},{key:"dispose",value:function(e){var t,r,i,o,s;this.updatePosterWithLatestFrame(),(t=y,r="dispose",i=this,s=l(n(1&(o=3)?t.prototype:t),r,i),2&o&&"function"==typeof s?function(e){return s.apply(i,e)}:s)([e])}},{key:"toJSON",value:function(){var e;return{availableQualities:(0,_r(d[14]).toJS)(this.availableQualities),currentQuality:(0,_r(d[14]).toJS)(this.currentQuality),attached:this.attached,counters:this.counters,aggregates:Object.assign({support:this.ctx.support.hash,autoPlay:this.autoPlay,localAudioMuted:this.localAudioMuted,localVideoPaused:this.localVideoPaused,playingPromise:null==this.playingPromise,format:this.format},null===(e=this.elementSupervisor)||void 0===e?void 0:e.dumpVideoElement())}}}]);var P,b,w,S,E,M,x,k,C})(_r(d[28]).ObservableEventEmitter);_e.CorePlayer=f},816,[345,38,12,13,23,25,26,28,487,602,817,818,507,495,526,809,550,502,820,486,543,815,814,821,493,606,613,485,528]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=r(d[1]);Object.defineProperty(e,"__esModule",{value:!0}),e.TimeupdateWrapper=void 0;var n=(function(){return s(function s(){var n=this;t(this,s),this.paused=!1,this.handlersMap=new WeakMap,this.pauseUpdates=function(){n.paused=!0},this.resumeUpdates=function(){n.paused=!1}},[{key:"wrap",value:function(t,s){var n;null==this.handlersMap.get(t)&&this.handlersMap.set(t,[]);var u=this.handle.bind(this,s);null===(n=this.handlersMap.get(t))||void 0===n||n.push(u),t.addEventListener("timeupdate",u),t.addEventListener("vdc:timeupdatePause",this.pauseUpdates),t.addEventListener("vdc:timeupdateResume",this.resumeUpdates)}},{key:"handle",value:function(t){this.paused||t()}},{key:"unwrap",value:function(t){var s;for(var n of null!==(s=this.handlersMap.get(t))&&void 0!==s?s:[])t.removeEventListener("timeupdate",n),t.removeEventListener("vdc:timeupdatePause",this.pauseUpdates),t.removeEventListener("vdc:timeupdateResume",this.resumeUpdates)}}])})();e.TimeupdateWrapper=n},817,[12,13]);
__d(function(g,_r,i,a,m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),n=_r(d[2]),r=_r(d[3]),o=_r(d[4]),l=_r(d[5]),s=_r(d[6]);function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function p(e,r,o,l){var s=n(t(1&l?e.prototype:e),r,o);return 2&l&&"function"==typeof s?function(e){return s.apply(o,e)}:s}Object.defineProperty(_e,"__esModule",{value:!0}),_e.SyncHandler=_e.implementation=void 0;var c=(function(){return s(function e(t,n){l(this,e),this.key=t,this._fn=n,this.stack=[]},[{key:"wrapper",get:function(){var e=this,t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)};return Object.defineProperty(t,"name",{value:`${String(this.key)}SyncWrapper`}),t}},{key:"fn",get:function(){return this._fn},set:function(e){this._fn=e,null!=e&&(this.stack.forEach(function(t){var n=o(t,4),r=n[0],l=n[1],s=n[2],u=n[3];e.apply(r,l).then(s,u)}),this.stack.splice(0,this.stack.length))}},{key:"postpone",value:function(e,t){var n=this;return new Promise(function(r,o){n.stack.push([e,t,r,o])})}},{key:"apply",value:function(e,t){return null!=this.fn?this.fn.apply(e,t):this.postpone(e,t)}}])})();_e.implementation=Symbol("implementation");var v=(function(n){function v(){var n,r,o,s,p,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,v),o=this,s=t(s=v),(n=e(o,u()?Reflect.construct(s,p||[],t(o).constructor):s.apply(o,p))).options=c,n.implementation=new WeakMap,n.syncProperties=new WeakMap,n.logger=null!==(r=c.logger)&&void 0!==r?r:new(_r(d[7]).LoggerCore)("SyncHandler"),n}return r(v,n),s(v,[{key:"sync",value:function(e,t,n,r){var o;if(null==r||"postpone"!==Reflect.get(null!==(o=this.options.methods)&&void 0!==o?o:{},n)){null!=r&&t.changed&&Reflect.set(r,n,t.val),this.updateReaction(e,t,n,r);var l=null==r?void 0:Reflect.get(r,n);t.changed||t.val===l||(t.val=l,t.atom.reportChanged())}else t.method.fn=Reflect.get(r,n)}},{key:"updateReaction",value:function(e,t,n,r){var o;null===(o=t.disposer)||void 0===o||o.call(t),delete t.disposer,null!=r&&(t.disposer=(0,_r(d[8]).reaction)(function(){return Reflect.get(r,n)},function(e){t.val=e,t.atom.reportChanged()},{name:`proxy:${String(n)}`}))}},{key:"propBecomeObservable",value:function(e,t){var n,r,o=this.getOrCrateMeta(e,t);this.updateReaction(e,o,t,null!==(r=null===(n=this.implementation.get(e))||void 0===n?void 0:n.impl)&&void 0!==r?r:null)}},{key:"propBecomeUnobservable",value:function(e,t){var n,r=this.getOrCrateMeta(e,t);null===(n=r.disposer)||void 0===n||n.call(r),delete r.disposer}},{key:"getOrCrateMeta",value:function(e,t){var n,r,o;this.syncProperties.has(e)||this.syncProperties.set(e,new Map);var l=null===(n=this.syncProperties.get(e))||void 0===n?void 0:n.get(t);if(null==l){var s=null===(r=this.implementation.get(e))||void 0===r?void 0:r.impl,u=null==s?void 0:(0,_r(d[8]).untracked)(function(){return Reflect.get(s,t)});l={val:u,atom:(0,_r(d[8]).createAtom)(`proxy:${String(t)}`,this.propBecomeObservable.bind(this,e,t),this.propBecomeUnobservable.bind(this,e,t)),changed:!1,method:new c(t,null!=u?u:null)},null===(o=this.syncProperties.get(e))||void 0===o||o.set(t,l)}return l}},{key:"getObservedProp",value:function(e,t){var n=this.getOrCrateMeta(e,t);return n.atom.reportObserved(),n.val}},{key:"deleteObservedProp",value:function(e,t){var n,r=this.getOrCrateMeta(e,t),o=null===(n=this.implementation.get(e))||void 0===n?void 0:n.impl;return r.val=null==o?void 0:Reflect.get(o,t),r.changed=!1,r.atom.reportObserved(),r.val}},{key:"reportObservedProp",value:function(e,t,n){var r=this.getOrCrateMeta(e,t);r.val=n,r.changed=!0,r.atom.reportChanged()}},{key:"getObservableImplementation",value:function(e){var t=this.implementation.get(e);return null==t&&(t={atom:(0,_r(d[8]).createAtom)("proxy:implementation"),impl:null,sentWarn:!1},this.implementation.set(e,t)),t.atom.reportObserved()||0!==_r(d[9]).EventEmitter.listenerCount(e,"implementation")||t.sentWarn||(t.sentWarn=!0),t.impl}},{key:"setImplementation",value:function(e,t){var n,r,l;for(var s of null!==(r=null===(n=this.syncProperties.get(e))||void 0===n?void 0:n.entries())&&void 0!==r?r:[]){var u=o(s,2),c=u[0],h=u[1];this.sync(e,h,c,t)}var f=this.implementation.get(e);null==f&&(f={impl:null,atom:(0,_r(d[8]).createAtom)("proxy:implementation"),sentWarn:!1},this.implementation.set(e,f)),null!=f.impl&&(null===(l=f.impl)||void 0===l||l.emit("detached"),p(v,"removeProxy",this,3)([e,f.impl])),null!=t&&p(v,"addProxy",this,3)([e,t]),f.impl=t,f.atom.reportChanged(),e.emit("implementation"),null!=t&&(null==t||t.emit("attached"))}},{key:"getImplMethod",value:function(e,t){var n,r=null===(n=this.implementation.get(e))||void 0===n?void 0:n.impl;if(null!=r){var o=Reflect.get(r,t);if(null!=o&&"function"==typeof o)return o}}},{key:"get",value:function(e,t,n){if(t===_r(d[10]).originalTarget)return e;if(t===_e.implementation)return this.getObservableImplementation(e);if(_r(d[10]).emitterMethods.has(t)){var r=_r(d[10]).emitterMethods.get(t);if(null!=r)return this[r].bind(this,e)}if(null!=this.options.methods&&t in this.options.methods){var o=this.getImplMethod(e,t);switch(this.options.methods[t]){case"stub":return null!=o?o:function(){};case"optional":return o;case"strict":if(null==o)throw new Error(`No implementations of method '${String(t)}' found`);return o;case"postpone":return this.getOrCrateMeta(e,t).method.wrapper}}return Reflect.has(e,t)?Reflect.get(e,t,n):this.getObservedProp(e,t)}},{key:"set",value:function(e,t,n,r){var o=this;if(t===_e.implementation)return(0,_r(d[8]).runInAction)(function(){o.setImplementation(e,n)}),!0;if(Reflect.has(e,t)){if(!Reflect.set(e,t,n,r)){var l=(0,_r(d[11]).isNamedClass)(e.constructor)?e.constructor.displayName:e.constructor.name;this.logger.warn(`Property '${String(t)}' of class '${l}' is not writable`)}return!0}this.reportObservedProp(e,t,n);var s=this.implementation.get(e);if(null!=(null==s?void 0:s.impl)){if(!Reflect.set(s.impl,t,n)){var u=(0,_r(d[11]).isNamedClass)(s.impl.constructor)?s.impl.constructor.displayName:s.impl.constructor.name;this.logger.warn(`Property '${String(t)}' of class '${u}' is not writable`)}return!0}return!0}},{key:"deleteProperty",value:function(e,t){return t===_e.implementation?(this.setImplementation(e,null),!0):Reflect.has(e,t)?Reflect.deleteProperty(e,t):(this.deleteObservedProp(e,t),!0)}}])})(_r(d[10]).EventsHandler);_e.SyncHandler=v},818,[23,25,26,28,38,12,13,507,526,523,614,819]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNamedClass=function(n){return"string"==typeof Reflect.get(n,"displayName")},e.extendContext=function(n,t){return(0,r(d[0]).context)({logger:new(r(d[1]).LoggerCore)(r(d[2]).PACKAGE_NAME).extend(n.logger).appendChain(t),chain:`${n.chain}:${t.displayName}`},n)}},819,[550,507,605]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),s=r(d[2]),n=r(d[3]),u=r(d[4]);function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.MediasoupSource=void 0;var c={replaceTracks:!0},l=(function(l){function h(t,u,l){var v,f,k,p,y,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c;return e(this,h),k=this,p=n(p=h),(v=s(k,o()?Reflect.construct(p,y||[],n(k).constructor):p.apply(k,y))).consumers={},v.currentQuality=null,v.availableQualities=[],v.ctx=t,(0,r(d[5]).makeObservable)(v,{currentQuality:r(d[5]).observable.ref,availableQualities:r(d[5]).observable.shallow}),r(d[6]).device.isImplements(r(d[6]).Feature.MEDIA_STREAM)||v.throwError((0,r(d[7]).createError)(r(d[8]).ErrorCode.MediaStreamNotSupported,"MediaStream is not supported by device",{})),v.options=b,v.peer=u,v.streamName=l,v.stream=new(r(d[6]).device.MediaStream),null===(f=v.peer.call)||void 0===f||f.on("accessDenied",v.handlePeerAccessDenied),v.addInnerDisposer(function(){var e;null===(e=v.peer.call)||void 0===e||e.removeListener("accessDenied",v.handlePeerAccessDenied)}),t.logger.attachObject(v),t.logger.trace("constructor()"),v}return u(h,l),t(h,[{key:"handlePeerAccessDenied",value:function(e){this.emit("accessDenied",e)}},{key:"source",get:function(){return this.stream}},{key:"consumerIds",get:function(){return Object.keys(this.consumers)}},{key:"addConsumer",value:function(e){var t=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.dontAdd){if("video"===e.track.kind&&this.stream.getVideoTracks().length>0&&this.stream.getVideoTracks().forEach(function(e){return t.stream.removeTrack(e)}),"audio"===e.track.kind&&this.stream.getAudioTracks().length>0&&this.stream.getAudioTracks().forEach(function(e){return t.stream.removeTrack(e)}),"video"===e.track.kind){var n=(0,r(d[9]).fetchManifestQualities)(e.layers,null);(0,r(d[5]).runInAction)(function(){t.availableQualities=n;var s=e.activeLayer;if(null!=s){var u=t.availableQualities.find(function(e){var t;return(null===(t=e.layer)||void 0===t?void 0:t.id)===s.id});null!=u?t.currentQuality=u:t.ctx.logger.warn("Consumer refers to a layer which doesn't exist",{layers:e.layers,activeLayer:e.activeLayer})}})}this.stream.addTrack(e.track)}this.consumers[e.id]=e,s&&!e.dontAdd&&this.emit("source",this.stream)}},{key:"removeConsumer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this.consumers[e];null!=s&&(this.stream.removeTrack(s.track),delete this.consumers[e],this.stream.getTracks().length>0&&t&&this.emit("source",this.stream))}},{key:"swapConsumers",value:function(e,t){var s=this;t.forEach(function(e){s.stream.removeTrack(e)}),e.forEach(function(e){s.stream.addTrack(e)}),this.emit("source",this.stream)}},{key:"pauseConsumer",value:function(e){var t=this.consumers[e];null!=t&&(t.paused=!0,this.stream.getTracks().some(function(e){return e.id===t.track.id})&&("video"===t.kind?this.emit("videoPaused",t.paused):this.emit("audioMuted",t.paused)))}},{key:"resumeConsumer",value:function(e){var t=this.consumers[e];null!=t&&(t.paused=!1,this.stream.getTracks().some(function(e){return e.id===t.track.id})&&("video"===t.kind?this.emit("videoPaused",t.paused):this.emit("audioMuted",t.paused)))}},{key:"consumerLayersChanged",value:function(e){var t=this.availableQualities.find(function(t){var s;return(null===(s=t.layer)||void 0===s?void 0:s.id)===e.id});null!=t&&(this.currentQuality=t)}},{key:"consumerSourcesChanged",value:function(e){var t=(0,r(d[9]).fetchManifestQualities)(e,null);this.availableQualities=t}},{key:"getTracks",value:function(){return this.stream.getTracks()}},{key:"hasAudio",get:function(){return Object.values(this.consumers).some(function(e){return"audio"===e.kind&&!1===e.dontAdd})}},{key:"hasVideo",get:function(){return Object.values(this.consumers).some(function(e){return"video"===e.kind&&!1===e.dontAdd})}},{key:"audioMuted",get:function(){var e=Object.values(this.consumers).filter(function(e){return"audio"===e.kind&&!1===e.dontAdd});return 0===e.length||e.some(function(e){return e.paused})}},{key:"videoPaused",get:function(){var e=Object.values(this.consumers).filter(function(e){return"video"===e.kind&&!1===e.dontAdd});return 0===e.length||e.some(function(e){return e.paused})}},{key:"toJSON",value:function(){return{hasAudio:this.hasAudio,hasVideo:this.hasVideo,audioMuted:this.audioMuted,videoPaused:this.videoPaused,options:this.options,aggregates:Object.assign({},(0,r(d[10]).extractAggregates)(this.peer,"support"),{support:this.ctx.support.hash,streamName:this.streamName})}}}])})(r(d[11]).ObservableEventEmitter);_e.MediasoupSource=l,l.displayName="MediasoupSource"},820,[12,13,23,25,28,526,502,613,485,809,544,528]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),l=r(d[3]),u=r(d[4]);function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.MediaElementSupervisor=void 0;var c=new WeakMap,o=(function(o){function h(t){var u,c,o,v;return e(this,h),c=this,o=l(o=h),(u=n(c,s()?Reflect.construct(o,v||[],l(c).constructor):o.apply(c,v))).element=t,u.activePlayer=null,u.debugSuspendTimeupdate=!1,t.setAttribute("playsinline","true"),t.setAttribute("webkit-playsinline","true"),u.startListenEvent("play","handleElPlay"),u.startListenEvent("pause","handleElPause"),u.startListenEvent("volumechange","handleElVolumeChange"),u.startListenEvent("error","handleElError"),u.startListenEvent("progress","handleElProgress"),r(d[5]).timeupdateWrapper.wrap(t,u.createEventHandler("handleElTimeupdate")),r(d[5]).timeupdateWrapper.wrap(t,u.createEventHandler("handleElTimeupdate")),u.element.addEventListener("loadeddata",function(){u.emit("loadeddata")}),u}return u(h,o),t(h,[{key:"muted",get:function(){return this.element.muted},set:function(e){this.element.muted=e}},{key:"paused",get:function(){return this.element.paused}},{key:"volume",get:function(){return this.element.volume},set:function(e){this.element.volume=e}},{key:"error",get:function(){return this.element.error}},{key:"autoplay",get:function(){return this.element.autoplay},set:function(e){this.element.autoplay=e}},{key:"buffered",get:function(){return this.element.buffered}},{key:"ended",get:function(){return this.element.ended}},{key:"readyState",get:function(){return this.element.readyState}},{key:"currentTime",get:function(){return this.element.currentTime},set:function(e){this.element.currentTime=e}},{key:"playbackRate",get:function(){return this.element.playbackRate},set:function(e){this.element.playbackRate=e}},{key:"sourceKind",get:function(){var e=r(d[6]).device.isImplements(r(d[6]).Feature.URL_LOCATION)?r(d[6]).device.location:"";return null!=this.element.srcObject?"srcObject":null!=this.element.src&&""!==this.element.src&&this.element.src!==e?"src":null}},{key:"srcObject",get:function(){return this.element.srcObject}},{key:"attachToPlayer",value:function(e){return this.element.src="",this.element.srcObject=null,this.activePlayer=e,this}},{key:"isVideoPlaying",value:function(){return this.element.currentTime>0&&!this.element.paused&&!this.element.ended&&this.element.readyState>2}},{key:"setPoster",value:function(e){this.element.setAttribute("poster",e)}},{key:"hasPoster",value:function(){return null!=this.element.getAttribute("poster")}},{key:"createScreenshot",value:function(){try{return r(d[6]).device.isImplements(r(d[6]).Feature.CREATE_SCREENSHOT)?r(d[6]).device.createScreenshot(this.element):null}catch(e){return null}}},{key:"pause",value:function(){this.element.pause()}},{key:"updateSrc",value:function(e){this.element.src=e,this.element.srcObject=null}},{key:"updateSrcObject",value:function(e){this.element.src="",this.element.srcObject=e}},{key:"dumpVideoElement",value:function(){return(0,r(d[7]).dumpVideoElement)(this.element)}},{key:"isSourceSet",value:function(){var e=r(d[6]).device.isImplements(r(d[6]).Feature.URL_LOCATION)?r(d[6]).device.location:"";return null!=this.element.src&&""!==this.element.src&&this.element.src!==e||null!=this.element.srcObject}},{key:"play",value:function(){return this.element.play()}},{key:"createEventHandler",value:function(e){var t=this;return function(){var n,l;null==t.activePlayer||t.activePlayer.isDisposed||"handleElTimeupdate"===e&&t.debugSuspendTimeupdate||null===(l=null===(n=t.activePlayer)||void 0===n?void 0:n[e])||void 0===l||l.call(n)}}},{key:"startListenEvent",value:function(e,t){var n=this.createEventHandler(t);this.element.addEventListener(e,n),this.addInnerDisposer(this.stopListenEvent.bind(this,e,n))}},{key:"stopListenEvent",value:function(e,t){this.element.removeEventListener(e,t)}}],[{key:"getSupervisor",value:function(e){return c.has(e)||c.set(e,new h(e)),c.get(e)}}])})(r(d[8]).ObservableEventEmitter);_e.MediaElementSupervisor=o},821,[12,13,23,25,28,816,502,814,528]);
__d(function(g,_r,i,a,m,_e2,d){"use strict";var e=_r(d[0]),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),s=_r(d[4]),u=_r(d[5]),l=_r(d[6]);function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.NativeHlsPlayer=void 0;var c=(function(c){function h(e,r,u){var l,c,p,f;return t(this,h),c=this,f=[e,r,u],p=s(p=h),(l=n(c,o()?Reflect.construct(p,f||[],s(c).constructor):p.apply(c,f))).srcReset=!1,l.manifestJson=null,l.on("currentQuality",l.handleCurrentQuality),l.addInnerDisposer(function(){l.off("currentQuality",l.handleCurrentQuality)}),l}return l(h,c),r(h,[{key:"handleCurrentQuality",value:function(){this.srcReset=!1,this.handleSource(this.manifestJson)}},{key:"isSupported",value:(v=e(function*(){return h.isSupported()}),function(){return v.apply(this,arguments)})},{key:"format",get:function(){return h.format}},{key:"handleSource",value:(y=e(function*(e){var t,r,n,s,u;if(!this.suspended){this.ctx.logger.debug("native-hls: handleSource()");var l=null==e?void 0:e.formats["mp4-hls"];if(null!=l){if(null!=e&&(this.manifestJson=e),null!=(null===(r=null===(t=this.currentQuality)||void 0===t?void 0:t.layer)||void 0===r?void 0:r.id)&&""!==this.currentQuality.layer.id?this.source=this.currentQuality.layer.id.toString():null!=(null===(n=null==l?void 0:l.substitute)||void 0===n?void 0:n.location)?this.source=l.substitute.location:this.source=l.manifest,_r(d[8]).device.isImplements(_r(d[8]).Feature.URL_LOCATION)&&null!=this.elementSupervisor&&"src"!==this.elementSupervisor.sourceKind&&(this.srcReset=!0),null!=this.elementSupervisor&&"src"!==this.elementSupervisor.sourceKind||null!=this.elementSupervisor&&!this.srcReset){var o=this.elementSupervisor.currentTime;if(this.srcReset=!0,null===(s=this.elementSupervisor)||void 0===s||s.updateSrc(this.source),"recorded"===(null===(u=this.manifestJson)||void 0===u?void 0:u.type)&&o>0&&(this.elementSupervisor.currentTime=o),!this.internalPaused||this.options.autoPlay&&!this.internalPaused)try{yield this.play(!0)}catch(e){var c=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(d[7]).PlayingIssueError)("autoplay call failed after handleSource()",{inner:c,player:this}))}}}else this.emitErrorDeprecated(new(_r(d[7]).DriverNotSupportedError)("manifest doesn't contains 'mp4-hls' format",{manifest:e,loader:this.provider}))}}),function(e){return y.apply(this,arguments)})},{key:"attachTo",value:(f=e(function*(e){var t,r,n,l,o;if(yield(t=h,r="attachTo",n=this,l=3,o=u(s(1&l?t.prototype:t),r,n),2&l&&"function"==typeof o?function(e){return o.apply(n,e)}:o)([e]),this.options.autoPlay)try{yield this.play(!0)}catch(e){var c=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(d[7]).PlayingIssueError)("autoplay call failed after attachTo()",{inner:c,player:this}))}}),function(e){return f.apply(this,arguments)})},{key:"implementedFeatures",get:function(){return[_r(d[9]).Feature.BITRATE_SWITCHING,_r(d[9]).Feature.MUTED_AUTOPLAY]}}],[{key:"isSupported",value:(p=e(function*(e){return(0,_r(d[10]).supportsNativeHls)(e)}),function(e){return p.apply(this,arguments)})},{key:"format",get:function(){return"mp4-hls"}}]);var p,f,y,v})(_r(d[11]).CorePlayer);_e2.NativeHlsPlayer=c,c.displayName="NativeHlsPlayer"},822,[345,12,13,23,25,26,28,543,502,493,616,816]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.retry=function(t,n,u,c){return new Promise(function(o,f){var s=0,l=function(){u(s).then(o).catch(function(u){++s<t?(null==c||c.warn(`retrying ${s} time(s)`,{err:(0,r(d[0]).wrapNativeError)(u)}),r(d[1]).device.setTimeout(l,n)):f(u)})};l()})}},823,[543,502]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),s=r(d[2]),o=r(d[3]),n=r(d[4]),u=r(d[5]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.Peer=void 0;var c=(function(c){function p(e,s,u,c,v){var C,h,f,E;return t(this,p),h=this,f=n(f=p),(C=o(h,l()?Reflect.construct(f,E||[],n(h).constructor):f.apply(h,E))).remoteSources=new Map,(0,r(d[6]).makeObservable)(C,{remoteSources:r(d[6]).observable,streams:r(d[6]).computed,players:r(d[6]).computed}),C.ctx=e,C.call=s,C.pvcCall=u,C.playerOptions=null!=v?v:{},C.pvcCall.on("CALL_ADD_CONSUMER",C.addConsumer),C.pvcCall.on("CALL_REMOVE_CONSUMER",C.removeConsumer),C.pvcCall.on("CALL_SWAP_CONSUMERS",C.swapConsumers),C.pvcCall.on("CALL_SET_CONSUMER_PAUSED",C.pauseConsumer),C.pvcCall.on("CALL_SET_CONSUMER_RESUMED",C.resumeConsumer),C.pvcCall.on("CALL_CONSUMER_LAYER_CHANGED",C.layerChanged),C.pvcCall.on("CALL_CONSUMER_SOURCES",C.sourcesChanged),(0,r(d[7]).onceCanceled)(e).then(function(e){return C.dispose(`Peer Context Cancelled: ${e}`)}),C.peerParams=c,e.logger.attachObject(C),e.logger.trace("constructor()"),C.addInnerDisposer(C.close),C}return u(p,c),s(p,[{key:"streams",get:function(){return Array.from(this.remoteSources.values()).map(function(e){return e.provider})}},{key:"players",get:function(){return Array.from(this.remoteSources.values()).map(function(e){return e.player})}},{key:"peerId",get:function(){var e;return null!==(e=this.peerParams.peerId)&&void 0!==e?e:""}},{key:"userId",get:function(){var e;return null!==(e=this.peerParams.userId)&&void 0!==e?e:""}},{key:"appData",get:function(){var e;return null!==(e=this.peerParams.appData)&&void 0!==e?e:{}}},{key:"close",value:function(){var t=this;this.pvcCall.off("CALL_ADD_CONSUMER",this.addConsumer),this.pvcCall.off("CALL_REMOVE_CONSUMER",this.removeConsumer),this.pvcCall.off("CALL_SET_CONSUMER_PAUSED",this.pauseConsumer),this.pvcCall.off("CALL_SET_CONSUMER_RESUMED",this.resumeConsumer),this.pvcCall.off("CALL_CONSUMER_LAYER_CHANGED",this.layerChanged);var s=function(e){l.provider.consumerIds.forEach(function(s){t.removeConsumer({peerId:t.peerId,streamName:e,consumerId:s})})};for(var o of this.remoteSources.entries()){var n=e(o,2),u=n[0],l=n[1];s(u)}}},{key:"setPreferredEncoding",value:function(e){var t,s=null===(t=e.appData)||void 0===t?void 0:t.consumerId;null!=s&&"string"==typeof s||this.throwError((0,r(d[8]).createError)(r(d[8]).ErrorCode.UnableChangeBitrate,"unable to set preferred encoding because consumerId is not provided",{layerId:e.id,peerId:this.peerId})),this.ctx.logger.info("setPreferredEncoding",{layer:e}),this.pvcCall.setPreferredEncoding(s,e.id)}},{key:"toJSON",value:function(){return{call:this.call,aggregates:Object.assign({},(0,r(d[9]).extractAggregates)(this.call,"support"),{support:this.ctx.support.hash,peerId:this.peerId})}}},{key:"addConsumer",value:function(e){var t,s,o,n=e.peerId,u=e.streamName,l=e.consumer;if(n===this.peerParams.peerId){this.ctx.logger.debug("addConsumer()",{streamName:u,consumerId:l.id});try{var c=this.remoteSources.get(u);if(null==c){var p=new(r(d[10]).MediasoupSource)((0,r(d[11]).extendContext)(this.ctx,r(d[10]).MediasoupSource),this,u);if(this.playerOptions.dontEmitPlayer)this.emit("videoConsumer"),p.addConsumer(l),this.remoteSources.set(u,{player:null,provider:p});else{var v=Object.assign({},{autoPlay:null===(o=null===(s=null===(t=null==this?void 0:this.ctx)||void 0===t?void 0:t.videoClient)||void 0===s?void 0:s.options)||void 0===o?void 0:o.autoPlay},this.playerOptions),C=new(r(d[12]).MediasoupPlayer)((0,r(d[11]).extendContext)(this.ctx,r(d[12]).MediasoupPlayer),p,v);this.emit("videoConsumer"),p.addConsumer(l),this.remoteSources.set(u,{player:C,provider:p}),this.emit("playerAdded",{player:C,streamName:u,peer:this})}this.emit("streamAdded",{stream:p,streamName:u,peer:this})}else c.provider.addConsumer(l)}catch(e){var h="Consumer has not created";(0,r(d[13]).isVideoClientError)(e)&&e.code===r(d[8]).ErrorCode.MediaStreamNotSupported&&(h="Consumer has not created because MediaStream is not supported"),this.emitError((0,r(d[8]).createError)(r(d[8]).ErrorCode.ConsumerNotCreated,h,{consumerId:l.id,peerId:n},e))}}}},{key:"removeConsumer",value:function(e){var t=e.peerId,s=e.streamName,o=e.consumerId;if(t===this.peerParams.peerId){this.ctx.logger.trace("removeConsumer()",{peerId:t,streamName:s,consumerId:o});var n=this.remoteSources.get(s);null!=n&&(n.provider.removeConsumer(o),0===n.provider.getTracks().length&&(this.playerOptions.dontEmitPlayer||this.emit("playerRemoved",{player:n.player,streamName:s,peer:this}),this.emit("streamRemoved",{stream:n.provider,streamName:s,peer:this}),this.remoteSources.delete(s)))}}},{key:"swapConsumers",value:function(e){var t=e.peerId,s=e.streamName,o=e.add,n=e.remove;if(t===this.peerParams.peerId){this.ctx.logger.trace("swapConsumer()",{peerId:t,streamName:s,add:o.map(function(e){return e.id}),remove:n.map(function(e){return e.id})});var u=this.remoteSources.get(s);null!=u?u.provider.swapConsumers(o,n):this.ctx.logger.warn("Unable to swap consumer stream not found",{peerId:t,streamName:s})}}},{key:"pauseConsumer",value:function(e){var t=e.peerId,s=e.streamName,o=e.consumerId;if(t===this.peerParams.peerId){this.ctx.logger.debug("CALL_SET_CONSUMER_PAUSED",{streamName:s,consumerId:o});var n=this.remoteSources.get(s);null!=n?n.provider.pauseConsumer(o):this.ctx.logger.warn("Unable to pause consumer stream not found",{peerId:t,streamName:s,consumerId:o})}}},{key:"resumeConsumer",value:function(e){var t=e.peerId,s=e.streamName,o=e.consumerId;if(t===this.peerParams.peerId){this.ctx.logger.debug("CALL_SET_CONSUMER_RESUMED",{streamName:s,consumerId:o});var n=this.remoteSources.get(s);null!=n?n.provider.resumeConsumer(o):this.ctx.logger.warn("Unable to resumeConsumer stream not found",{peerId:t,streamName:s,consumerId:o})}}},{key:"layerChanged",value:function(e){if(e.peerId===this.peerParams.peerId){this.ctx.logger.debug("CALL_CONSUMER_LAYER_CHANGED",{ev:e});var t=this.remoteSources.get(e.streamName);null!=t?t.provider.consumerLayersChanged(e):this.ctx.logger.warn("Unable to change layer stream not found",{streamName:e.streamName,ev:e})}}},{key:"sourcesChanged",value:function(e){if(e.peerId===this.peerParams.peerId){this.ctx.logger.debug("CALL_CONSUMER_SOURCES",{ev:e});var t=this.remoteSources.get(e.streamName);null!=t?t.provider.consumerSourcesChanged(e.layers):this.ctx.logger.warn("Unable to change source stream not found",{remoteSources:Object.fromEntries(this.remoteSources.entries()),streamName:e.streamName,ev:e})}}}])})(r(d[14]).ObservableEventEmitter);_e.Peer=c,c.displayName="Peer"},824,[38,12,13,23,25,28,526,550,613,544,820,819,825,490,528]);
__d(function(g,_r,i,a,m,_e,d){"use strict";var e=_r(d[0]),r=_r(d[1]),t=_r(d[2]),o=_r(d[3]),s=_r(d[4]),n=_r(d[5]),u=_r(d[6]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.MediasoupPlayer=void 0;var c=(function(c){function p(e,t,n){var u,c,h,v;return r(this,p),c=this,v=[e,t,n],h=s(h=p),(u=o(c,l()?Reflect.construct(h,v||[],s(c).constructor):h.apply(c,v))).preferredSource=null,u.hasAudio=!1,u.hasVideo=!1,u.isManifestPlayer=!1,(0,_r(d[7]).makeObservable)(u,{hasAudio:_r(d[7]).observable,hasVideo:_r(d[7]).observable,consumerAudioEnabled:_r(d[7]).computed,consumerVideoEnabled:_r(d[7]).computed,noConsumerAudioAndVideo:_r(d[7]).computed}),u.playerOptions=n,u.playerOptions.mutedAutoplayFallback&&(u.isManifestPlayer=!0),u.addInnerDisposer((0,_r(d[7]).reaction)(function(){return u.availableQualities},function(e){u.emit("layers",(0,_r(d[8]).getBitrateLayersFromQualities)(e))},{equals:_r(d[7]).comparer.structural})),u.addInnerDisposer((0,_r(d[7]).reaction)(function(){return u.currentQuality},function(e){var r;if(u.emit("activeLayer",null!==(r=null==e?void 0:e.layer)&&void 0!==r?r:null),u.provider instanceof _r(d[9]).MediasoupSource&&u.provider.peer instanceof _r(d[10]).Peer&&null!=(null==e?void 0:e.layer))try{u.provider.peer.setPreferredEncoding(e.layer)}catch(r){u.emitError((0,_r(d[11]).createError)(_r(d[12]).ErrorCode.UnableSwitchQuality,"Failed to change quality for webrtc consumer after currentQuality is changed",{player:u.displayName,format:u.format,preferredLevel:e.level}))}},{equals:_r(d[7]).comparer.structural})),u.provider instanceof _r(d[9]).MediasoupSource&&(u.provider.on("availableQualities",u.handleAvailableQualities),u.provider.on("accessDenied",u.handleAccessDenied)),u.addInnerDisposer(function(){u.provider instanceof _r(d[9]).MediasoupSource&&(u.provider.off("availableQualities",u.handleAvailableQualities),u.provider.off("accessDenied",u.handleAccessDenied))}),u.ctx.logger.trace("constructor()",{options:n}),u}return u(p,c),t(p,[{key:"displayName",get:function(){return p.displayName}},{key:"isSupported",value:(f=e(function*(){return p.isSupported()}),function(){return f.apply(this,arguments)})},{key:"format",get:function(){return p.format}},{key:"implementedFeatures",get:function(){return this.isManifestPlayer?[_r(d[13]).Feature.CONSUMER,_r(d[13]).Feature.BITRATE_SWITCHING,_r(d[13]).Feature.MUTED_AUTOPLAY]:[_r(d[13]).Feature.CONSUMER,_r(d[13]).Feature.BITRATE_SWITCHING]}},{key:"handleSource",value:(v=e(function*(e){this.suspended||(this.ctx.logger.trace("handleSource()"),this.source=e,null!=this.elementSupervisor&&(this.autoPlay||!this.internalPaused?(yield this.playingPromise,this.ctx.logger.trace("handleSource() -> await this.playingPromise"),this.elementSupervisor.updateSrcObject(e),yield this.play(),this.ctx.logger.trace("handleSource() -> await play()")):this.elementSupervisor.updateSrcObject(e),this.ctx.logger.debug("srcObject set")),this.provider instanceof _r(d[9]).MediasoupSource&&(this.hasAudio=this.provider.hasAudio,this.hasVideo=this.provider.hasVideo,this.consumerAudioMuted=!this.hasAudio||this.provider.audioMuted,this.consumerVideoPaused=!this.hasVideo||this.provider.videoPaused,this.availableQualities=this.provider.availableQualities))}),function(e){return v.apply(this,arguments)})},{key:"handleAccessDenied",value:function(e){var r;this.provider instanceof _r(d[9]).MediasoupSource&&(null===(r=this.provider.peer.call)||void 0===r||r.dispose(e.message))}},{key:"handleAvailableQualities",value:function(e){this.availableQualities=e}},{key:"consumerAudioEnabled",get:function(){var e=this.consumerAudioMuted,r=this.hasAudio;return this.provider instanceof _r(d[9]).MediasoupSource&&(r&&!1===e)}},{key:"consumerVideoEnabled",get:function(){var e=this.consumerVideoPaused,r=this.hasVideo;return this.provider instanceof _r(d[9]).MediasoupSource&&(r&&!1===e)}},{key:"noConsumerAudioAndVideo",get:function(){var e=this.consumerAudioMuted,r=this.hasAudio,t=this.consumerVideoPaused,o=this.hasVideo;return!(r&&!1===e||o&&!1===t)}},{key:"streamName",get:function(){return this.provider instanceof _r(d[9]).MediasoupSource?this.provider.streamName:""}},{key:"peerId",get:function(){var e,r;return this.provider instanceof _r(d[9]).MediasoupSource&&null!==(r=null===(e=this.provider.peer)||void 0===e?void 0:e.peerId)&&void 0!==r?r:""}},{key:"callId",get:function(){var e,r,t;return this.provider instanceof _r(d[9]).MediasoupSource&&null!==(t=null===(r=null===(e=this.provider.peer)||void 0===e?void 0:e.call)||void 0===r?void 0:r.id)&&void 0!==t?t:""}},{key:"userId",get:function(){var e,r;return this.provider instanceof _r(d[9]).MediasoupSource&&null!==(r=null===(e=this.provider.peer)||void 0===e?void 0:e.userId)&&void 0!==r?r:""}},{key:"toJSON",value:function(){var e,r,t,o,u,l,c=(r=p,t="toJSON",o=this,l=n(s(1&(u=3)?r.prototype:r),t,o),2&u&&"function"==typeof l?function(e){return l.apply(o,e)}:l)([]);if(null==c||"object"!=typeof c||Array.isArray(c)||(0,_r(d[14]).isSerializableObject)(c))return{};var h=null!==(e=c.aggregates)&&void 0!==e?e:{};return null==h||"object"!=typeof h||Array.isArray(h)||(0,_r(d[14]).isSerializableObject)(h)?c:(delete c.aggregates,Object.assign({},c,{options:this.options,aggregates:Object.assign({},h,(0,_r(d[14]).extractAggregates)(this.provider,"support"),{support:this.ctx.support.hash,consumerAudioEnabled:this.consumerAudioEnabled,consumerVideoEnabled:this.consumerVideoEnabled,noConsumerAudioAndVideo:this.noConsumerAudioAndVideo,preferredSource:this.preferredSource,currentQuality:this.currentQuality,isManifestPlayer:this.isManifestPlayer,peerId:this.peerId,userId:this.userId})}))}}],[{key:"isSupported",value:(h=e(function*(e){return(0,_r(d[15]).supportsMediasoupWebrtc)("Mediasoup Player",e)}),function(e){return h.apply(this,arguments)})},{key:"format",get:function(){return"webrtc"}}]);var h,v,f})(_r(d[16]).CorePlayer);_e.MediasoupPlayer=c,c.displayName="MediasoupPlayer"},825,[345,12,13,23,25,26,28,526,809,820,824,613,543,493,544,616,816]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),o=r(d[2]),s=r(d[3]),n=r(d[4]),c=r(d[5]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.Broadcast=void 0;var u=(function(u){function h(e,o,c,u,v){var p,b,f,y,E;t(this,h),f=this,y=n(y=h),(p=s(f,l()?Reflect.construct(y,E||[],n(f).constructor):y.apply(f,E))).state="active",p.lastTrafficTS=0,p.lastTrafficBitrate=[],(0,r(d[6]).makeObservable)(p,{state:r(d[6]).observable});var D=null==c?void 0:c.streams[v.streamName];if(null==c||null==D)throw new(r(d[7]).StreamNotFoundError)("stream not found",{call:o,broadcast:p});return p.ctx=e,p.ctrl=u,p.call=o,p.pvcCall=c,p.stream=D,p.options=v,p.options.simulcast&&(p.options.videoProducerOptions=null!==(b=p.options.videoProducerOptions)&&void 0!==b?b:{},p.options.videoProducerOptions.simulcast=p.options.simulcast),p.call.isOwner&&(p.lastTrafficTS=Date.now()),u.on("audioDeviceChanged",p.onAudioDeviceChanged),u.on("videoDeviceChanged",p.onVideoDeviceChanged),u.on("audioMuted",p.onAudioMuted),u.on("videoPaused",p.onVideoPaused),e.logger.attachObject(p),e.logger.trace("constructor()"),p.sourceUpdate().catch(function(e){p.emitErrorDeprecated(new(r(d[7]).UpdateBroadcastError)("initial source update error",{broadcast:p,call:p.call,inner:(0,r(d[7]).wrapNativeError)(e)}))}),(0,r(d[8]).onceCanceled)(e).then(function(e){return p.dispose(`Broadcast Class Context Cancelled: ${e}`)}),p.addInnerDisposer(function(){try{p.stop()}catch(e){p.ctx.logger.warn("unable to stop broadcast while disposing",{err:`${e}`})}p.options.disposeController&&p.ctrl.dispose("Broadcast options are set to disposeController")}),p}return c(h,u),o(h,[{key:"streamName",get:function(){return this.options.streamName}},{key:"audioMuted",get:function(){return this.ctrl.audioMuted},set:function(e){this.ctrl.audioMuted=e}},{key:"videoHidden",get:function(){return this.ctrl.videoPaused},set:function(e){this.ctrl.videoPaused=e}},{key:"pause",value:function(){null!=this.ctrl.audioDeviceId&&this.stream.pauseAudio(),null!=this.ctrl.videoDeviceId&&this.stream.pauseVideo(),this.state="paused"}},{key:"controller",get:function(){return this.ctrl}},{key:"replaceController",value:function(e){this.ctrl=e}},{key:"resume",value:function(){var e=this;null!=this.ctrl.audioDeviceId&&this.stream.enableAudio(this.options.audioProducerOptions).then(function(){e.state="active"}).catch(function(t){e.emitErrorDeprecated(new(r(d[7]).UpdateBroadcastError)("unable to resume audio device",{broadcast:e,call:e.call,inner:(0,r(d[7]).wrapNativeError)(t)}))}),null!=this.ctrl.videoDeviceId&&this.stream.enableVideo(this.options.videoProducerOptions).then(function(){e.state="active"}).catch(function(t){e.emitErrorDeprecated(new(r(d[7]).UpdateBroadcastError)("unable to resume video device",{broadcast:e,call:e.call,inner:(0,r(d[7]).wrapNativeError)(t)}))})}},{key:"stop",value:function(){this.ctx.logger.debug("stop()"),this.state="closed",this.stream.close(),this.ctrl.off("source",this.sourceUpdate),this.ctrl.off("audioDeviceChanged",this.onAudioDeviceChanged),this.ctrl.off("videoDeviceChanged",this.onVideoDeviceChanged),this.ctrl.off("audioMuted",this.onAudioMuted),this.ctrl.off("videoPaused",this.onVideoPaused),this.pvcCall.removeStream(this.stream.streamName)}},{key:"sourceUpdate",value:(E=e(function*(){var e,t;if(this.ctx.logger.debug("sourceUpdate()",{audio:this.ctrl.audioDeviceId,video:this.ctrl.videoDeviceId}),null==this.ctrl.videoDeviceId||this.ctrl.videoPaused||this.options.audioOnly||this.ctrl.videoDisabled)this.options.audioOnly&&this.ctx.logger.debug("Broadcast is set to audioOnly, video not produced",{options:this.options});else{var o=this.pvcCall._closed||(null===(e=this.pvcCall.peer)||void 0===e?void 0:e._closed);try{yield this.pvcCall.enableVideo(this.stream.streamName,!0,!1,this.options.videoProducerOptions)}catch(e){var s=this.pvcCall._closed||(null===(t=this.pvcCall.peer)||void 0===t?void 0:t._closed);if(!o&&s)return;this.emitErrorDeprecated(new(r(d[7]).EnableVideoError)("unable to enable video on `source` event",{inner:(0,r(d[7]).wrapNativeError)(e),broadcast:this,call:this.call}))}}if(null==this.ctrl.audioDeviceId||this.ctrl.audioMuted||this.options.videoOnly)this.options.videoOnly&&this.ctx.logger.debug("Broadcast is set to videoOnly, audio not produced",{options:this.options});else try{yield this.pvcCall.enableAudio(this.stream.streamName,!0,!1,this.options.audioProducerOptions)}catch(e){this.emitErrorDeprecated(new(r(d[7]).EnableAudioError)("unable to enable audio on `source` event",{inner:(0,r(d[7]).wrapNativeError)(e),broadcast:this,call:this.call}))}}),function(){return E.apply(this,arguments)})},{key:"onAudioDeviceChanged",value:(y=e(function*(e){if(this.ctx.logger.debug("audioDeviceChanged()",{device:e}),null==e)try{yield this.pvcCall.disableAudio(this.stream.streamName)}catch(e){if(e instanceof r(d[9]).types.InvalidStateError&&"track ended"===e.message)return void this.ctx.logger.warn("broadcast has not been updated because the audio track is ended");var t=e instanceof Error?e:null;this.emitErrorDeprecated(new(r(d[7]).DisableAudioError)("unable to disable audio on `audioDeviceChanged` event",{inner:t,broadcast:this,call:this.call}))}else try{yield this.pvcCall.enableAudio(this.stream.streamName,!0,!1,this.options.audioProducerOptions)}catch(e){if(e instanceof r(d[9]).types.InvalidStateError&&"track ended"===e.message)return void this.ctx.logger.warn("broadcast has not been updated because the audio track is ended");var o=e instanceof Error?e:null;this.emitErrorDeprecated(new(r(d[7]).EnableAudioError)("unable to enable audio on `audioDeviceChanged` event",{inner:o,broadcast:this,call:this.call}))}}),function(e){return y.apply(this,arguments)})},{key:"onVideoDeviceChanged",value:(f=e(function*(e){if(this.ctx.logger.debug("videoDeviceChanged()",{device:e}),null==e)try{yield this.pvcCall.disableVideo(this.stream.streamName)}catch(e){if(e instanceof r(d[9]).types.InvalidStateError&&"track ended"===e.message)return void this.ctx.logger.warn("broadcast has not been updated because the video track is ended");var t=e instanceof Error?e:null;this.emitErrorDeprecated(new(r(d[7]).DisableVideoError)("unable to disable video on `videoDeviceChanged` event",{inner:t,broadcast:this,call:this.call}))}else try{yield this.pvcCall.enableVideo(this.stream.streamName,!0,!1,this.options.videoProducerOptions)}catch(e){if(e instanceof r(d[9]).types.InvalidStateError&&"track ended"===e.message)return void this.ctx.logger.warn("broadcast has not been updated because the video track is ended");this.emitErrorDeprecated(new(r(d[7]).EnableVideoError)("unable to enable video on `videoDeviceChanged` event",{inner:(0,r(d[7]).wrapNativeError)(e),broadcast:this,call:this.call}))}}),function(e){return f.apply(this,arguments)})},{key:"onAudioMuted",value:(b=e(function*(e){if(this.ctx.logger.debug("audioMuted()",{value:e}),this.ctrl.hasActiveAudioTrack())if(e)try{yield this.pvcCall.muteAudio(this.stream.streamName)}catch(e){this.emitErrorDeprecated(new(r(d[7]).EnableAudioError)("unable to mute audio on `audioMuted` event",{inner:(0,r(d[7]).wrapNativeError)(e),broadcast:this,call:this.call}))}else try{yield this.pvcCall.unmuteAudio(this.stream.streamName,this.options.audioProducerOptions)}catch(e){this.emitErrorDeprecated(new(r(d[7]).DisableAudioError)("unable to unmute audio on `audioMuted` event",{inner:(0,r(d[7]).wrapNativeError)(e),broadcast:this,call:this.call}))}}),function(e){return b.apply(this,arguments)})},{key:"onVideoPaused",value:(p=e(function*(e){if(this.ctx.logger.debug("videoPaused()",{value:e}),this.ctrl.hasActiveVideoTrack())if(e)try{yield this.pvcCall.pauseVideo(this.stream.streamName)}catch(e){var t=e instanceof Error?e:null;this.emitErrorDeprecated(new(r(d[7]).DisableVideoError)("unable to pause video on `videoPaused` event",{inner:t,broadcast:this,call:this.call}))}else try{yield this.pvcCall.unpauseVideo(this.stream.streamName,this.options.videoProducerOptions)}catch(e){var o=e instanceof Error?e:null;this.emitErrorDeprecated(new(r(d[7]).EnableVideoError)("unable to unpause video on `videoPaused` event",{inner:o,broadcast:this,call:this.call}))}}),function(e){return p.apply(this,arguments)})},{key:"hotswapProducer",value:(v=e(function*(e,t){this.ctx.logger.debug("hotswapProducer()",{kind:e,producerOptions:t}),yield this.pvcCall.hotswapProducer(e,this.streamName,t)}),function(e,t){return v.apply(this,arguments)})},{key:"toJSON",value:function(){return{msc:this.controller,stream:this.stream,options:this.options,aggregates:Object.assign({},(0,r(d[10]).extractAggregates)(this.stream,"support"),{support:this.ctx.support.hash,state:this.state})}}}]);var v,p,b,f,y,E})(r(d[11]).ObservableEventEmitter);_e.Broadcast=u,u.displayName="Broadcast"},826,[345,12,13,23,25,28,526,543,550,620,544,528]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),s=r(d[4]),u=r(d[5]),l=r(d[6]),c=r(d[7]);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.Player=void 0,_e.requestPlayer=function(e,t,n){var o={stack:[],error:void 0,hasError:!1};try{var s;e=(0,r(d[15]).extendContext)(e,K);var u=r(d[8]).__addDisposableResource(o,new DisposableStack,!1),l=r(d[16]).PlayerOptions.parse(n),f=r(d[17]).registeredDrivers.map(function(t){return new t((0,r(d[15]).extendContext)(e,t))}),h=u.use(new K(e)),p=u.use(new(r(d[18]).MediaLoader)((0,r(d[15]).extendContext)(e,r(d[18]).MediaLoader))),y=u.use(new(r(d[19]).HostSupervisor)((0,r(d[15]).extendContext)(e,r(d[19]).HostSupervisor))),v=u.use((s=r(d[20]).PlayerStateFlow).initialize.apply(s,[h,p,y].concat(c(f))));v.dispatch("optionsApply",{options:l}).expect(r(d[21]).ResultKind.OK),v.dispatch("manifestReplaceUrl",{url:t}).expect(r(d[21]).ResultKind.OK);var k=u.move();return(0,r(d[22]).onceCanceled)(e).finally(function(){return k.dispose()}),h}catch(e){o.error=e,o.hasError=!0}finally{r(d[8]).__disposeResources(o)}};var h=r(d[8]).__importStar(r(d[9])),p=r(d[8]).__importStar(r(d[10])),y=r(d[8]).__importStar(r(d[11])),v=r(d[8]).__importStar(r(d[12])),k=r(d[8]).__importStar(r(d[13])),w=r(d[8]).__importStar(r(d[14]));var K=(function(c){function K(e){var t,o,l,c;return n(this,K),o=this,l=u(l=K),(t=s(o,f()?Reflect.construct(l,c||[],u(o).constructor):l.apply(o,c))).ctx=e,t.isDisposed=!1,(0,r(d[23]).makeBounded)(t),(0,r(d[22]).onceCanceled)(e).finally(t[Symbol.dispose]),t}return l(K,c),o(K,[{key:"logger",get:function(){return this.ctx.logger},set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"supportsLowLatency",get:function(){return!1},set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"lowLatency",get:function(){return!1},set:function(e){}},{key:"currentQuality",get:function(){return null}},{key:"currentPlayer",get:function(){return this},set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"availablePlayers",get:function(){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)},set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"attached",get:function(){return!k.Detached.is(this.sf.host)}},{key:"autoPlay",get:function(){return this.sf.playback.autoPlay},set:function(e){this.sf.dispatch(e?"requestEnableAutoPlay":"requestDisableAutoPlay",{}).expect(r(d[21]).ResultKind.OK)}},{key:"blurred",get:function(){return y.Blurred.is(this.sf.quality)},set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"driverFailover",get:function(){var e=(0,r(d[26]).getCurrentDriver)(this.sf),n=t(e,2);n[0];return 0===n[1].timeout},set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"forcedMute",get:function(){return h.ForcedMute.is(this.sf.audio)}},{key:"forceMute",set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"format",get:function(){var e=(0,r(d[26]).getCurrentDriver)(this.sf),n=t(e,2);n[0];return n[1].driverFormat}},{key:"localAudioMuted",get:function(){return h.Muted.is(this.sf.audio)},set:function(e){this.sf.dispatch(e?"requestMute":"requestUnMute",{}).expect(r(d[21]).ResultKind.OK)}},{key:"localAudioVolume",get:function(){return this.sf.audio.volume},set:function(e){this.sf.dispatch("requestVolumeChange",{volume:e}).expect(r(d[21]).ResultKind.OK)}},{key:"localVideoPaused",get:function(){return v.Paused.is(this.sf.video)},set:function(e){this.sf.dispatchAsync(e?"requestPause":"requestPlay",{})}},{key:"lowPowerMode",get:function(){return!1},set:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"poster",get:function(){var e,t;return null!==(t=null===(e=this.sf.manifest.json)||void 0===e?void 0:e.previewImg)&&void 0!==t?t:null},set:function(e){this.sf.dispatch("requestOverridePoster",{url:e}).expect(r(d[21]).ResultKind.OK)}},{key:"preferredLevel",set:function(e){this.sf.dispatch("requestForcedQuality",{quality:e}).expect(r(d[21]).ResultKind.OK)}},{key:"initStateFlow",value:function(e){this.sf=e,e.onCommit(k.Attached,this.onHostAttached),e.onCommit(w.Online,this.onManifestOnline)}},{key:"onHostAttached",value:function(e){}},{key:"onManifestOnline",value:(R=e(function*(e){var n=(0,r(d[26]).getSupportedDrivers)(e),o=t(n,2),s=o[0],u=o[1];if(-1===u&&s.length>0){for(var l=r(d[21]).Result.ignore(),c=u>=s.length-1?0:u+1;l.kind!==r(d[21]).ResultKind.OK;)l=yield this.sf.dispatchAsync("driverSwitch",{driver:s[c]}),c=c>=s.length-1?0:c+1;this.sf.playback.autoPlay&&(yield this.sf.dispatchAsync("internalPlay",{})).expect(r(d[21]).ResultKind.OK)}}),function(e){return R.apply(this,arguments)})},{key:"attachTo",value:function(e){this.sf.dispatch("hostElementAttach",{host:e}).expect(r(d[21]).ResultKind.OK)}},{key:"isImplements",value:function(e){return!0}},{key:"isSupported",value:function(){return Promise.resolve(!0)}},{key:"updatePosterWithLatestFrame",value:function(){this.sf.dispatch("requestUpdatePosterFrame",{}).expect(r(d[21]).ResultKind.OK)}},{key:"toJSON",value:function(){return{}}},{key:"getClosestQuality",value:function(e){return null}},{key:"nextDriver",value:(x=e(function*(){if((0,r(d[21]).isTransitioning)(this.sf))throw new Error("cannot switch player while state is in transition");var e=(0,r(d[26]).getSupportedDrivers)(this.sf),n=t(e,2),o=n[0],s=n[1],u=p.Playing.is(this.sf.playback);u&&this.sf.dispatch("internalPause",{}).expect(r(d[21]).ResultKind.OK);for(var l=r(d[21]).Result.ignore(),c=s>=o.length-1?0:s+1;l.kind===r(d[21]).ResultKind.Error||l.kind===r(d[21]).ResultKind.Ignored;)l=yield this.sf.dispatchAsync("driverSwitch",{driver:o[c]}),c=c>=o.length-1?0:c+1;u&&(yield this.sf.dispatchAsync("internalPlay",{})).expect(r(d[21]).ResultKind.OK)}),function(){return x.apply(this,arguments)})},{key:"nextPlayer",value:(E=e(function*(){return this.nextDriver()}),function(){return E.apply(this,arguments)})},{key:"selectPlayer",value:function(e){throw(0,r(d[24]).createError)(r(d[25]).ErrorCode.NotAllowed)}},{key:"setPreferredLevel",value:function(e){this.preferredLevel=e}},{key:"replaceManifestUrl",value:(P=e(function*(e){if((0,r(d[21]).isTransitioning)(this.sf))throw new Error("cannot switch player while state is in transition");this.sf.dispatch("internalPause",{}).expect(r(d[21]).ResultKind.OK,r(d[21]).ResultKind.Ignored),(yield this.sf.dispatchAsync("manifestReplaceUrl",{url:e})).expect(r(d[21]).ResultKind.OK)}),function(e){return P.apply(this,arguments)})},{key:Symbol.dispose,value:function(){this.dispose()}},{key:"dispose",value:function(e){(0,r(d[22]).cancel)(this.ctx,null!=e?e:"player is disposed"),this.isDisposed=!0}}]);var P,E,x,R})(r(d[27]).EventEmitter);_e.Player=K,K.displayName="Player"},827,[345,38,12,13,23,25,28,6,487,828,830,834,837,831,832,819,833,838,839,840,842,675,550,529,613,485,836,523]);
__d(function(_g,r,i,a,m,e,d){"use strict";function t(t,u){var o=t.audio;return(0,e.Muted)(o)}function u(t,u){var o=t.audio;return(0,e.UnMuted)(o)}function o(t,u){var o=t.audio,n=Math.min(Math.max(u.volume,0),1);return n>0?(0,e.UnMuted)(Object.assign({},o,{volume:n})):(0,e.Muted)(Object.assign({},o,{volume:n}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Silent=e.UnMuted=e.Muted=e.ForcedMute=e.NotApplicable=e.AudioGroup=void 0,e.AudioGroup=r(d[0]).PlayerStateFlow.registerGroup("audio").bootstrap(function(){return(0,e.NotApplicable)({volume:.5})}),e.NotApplicable=e.AudioGroup.registerState("NotApplicable",{hostElementAttach:function(t,u){return(0,e.UnMuted)(t.audio)}}),e.ForcedMute=e.AudioGroup.registerState("ForcedMute",{hostElementDetach:function(t,u){return(0,e.NotApplicable)(t.audio)},requestGesture:function(t,u){var o=t.audio;return 0===o.volume?(0,e.Muted)(o):(0,e.UnMuted)(o)},requestMute:t,requestUnMute:u}),e.Muted=e.AudioGroup.registerState("Muted",{hostElementDetach:function(t,u){return(0,e.NotApplicable)(t.audio)},requestUnMute:u,requestVolumeChange:o}),e.UnMuted=e.AudioGroup.registerState("UnMuted",{hostElementDetach:function(t,u){return(0,e.NotApplicable)(t.audio)},requestMute:t,requestVolumeChange:o}),e.Silent=e.AudioGroup.registerState("Silent",{hostElementDetach:function(t,u){return(0,e.NotApplicable)(t.audio)},requestMute:t,requestUnMute:u,requestVolumeChange:o})},828,[829]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerStateFlow=void 0,e.PlayerStateFlow=new(r(d[0]).StateFlow)},829,[675]);
__d(function(_g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemporaryPlaing=e.TemporaryPaused=e.Paused=e.Playing=e.NotApplicable=e.PlaybackGroup=e.UncontrolledPlaybackPolicy=void 0;var t,l=r(d[0]).__importStar(r(d[1])),n=r(d[0]).__importStar(r(d[2]));function o(l,n){switch(l.playback.uncontrolledPlaybackPolicy){case t.Apply:return u(l,n);case t.Reject:return r(d[4]).Result.reject("uncontrolled play() calls are not allowed");case t.RollbackWithDelay:return(0,e.TemporaryPlaing)(Object.assign({},l.playback,{delay:50}))}return r(d[4]).Result.ignore("ignored by policy")}function c(l,n){switch(l.playback.uncontrolledPlaybackPolicy){case t.Apply:return s(l,n);case t.Reject:return r(d[4]).Result.reject("uncontrolled pause() calls are not allowed");case t.RollbackWithDelay:return(0,e.TemporaryPaused)(Object.assign({},l.playback,{delay:50}))}return r(d[4]).Result.ignore("ignored by policy")}function u(t,o){return l.Attached.is(t.host)?n.Online.is(t.manifest)?(0,e.Playing)(t.playback):r(d[4]).Result.reject("manifest must be online to playing media"):r(d[4]).Result.reject("host is not attached")}function s(t,o){return l.Attached.is(t.host)?n.Online.is(t.manifest)?(0,e.Paused)(t.playback):r(d[4]).Result.reject("manifest must be online to playing media"):r(d[4]).Result.reject("host is not attached")}!(function(t){t[t.Ignore=0]="Ignore",t[t.Apply=1]="Apply",t[t.Reject=2]="Reject",t[t.RollbackWithDelay=3]="RollbackWithDelay"})(t||(e.UncontrolledPlaybackPolicy=t={})),e.PlaybackGroup=r(d[3]).PlayerStateFlow.registerGroup("playback").bootstrap(function(){return(0,e.NotApplicable)({position:null,autoPlay:!0,uncontrolledPlaybackPolicy:t.RollbackWithDelay,delay:0})}),e.NotApplicable=e.PlaybackGroup.registerState("NotApplicable",{hostElementAttach:function(t,l){return(0,e.Paused)(t.playback)}}),e.Playing=e.PlaybackGroup.registerState("Playing",{hostElementDetach:function(t){return(0,e.NotApplicable)(t.playback)},requestPause:s,internalPause:s,uncontrolledPause:c}),e.Paused=e.PlaybackGroup.registerState("Paused",{hostElementDetach:function(t){return(0,e.NotApplicable)(t.playback)},requestPlay:u,internalPlay:u,uncontrolledPlay:o}),e.TemporaryPaused=e.PlaybackGroup.registerState("ExternalPaused",{hostElementDetach:function(t){return(0,e.NotApplicable)(t.playback)},uncontrolledPlay:o}),e.TemporaryPlaing=e.PlaybackGroup.registerState("ExternalPaused",{hostElementDetach:function(t){return(0,e.NotApplicable)(t.playback)},uncontrolledPause:c})},830,[487,831,832,829,675]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ready=e.HaveMetadata=e.Attached=e.Detached=e.HostGroup=void 0,e.HostGroup=r(d[0]).PlayerStateFlow.registerGroup("host").bootstrap(function(){return(0,e.Detached)({element:null})}),e.Detached=e.HostGroup.registerState("Detached",{hostElementAttach:function(t,o){var s=t.host;return null==typeof o.host||"object"!=typeof o.host?r(d[1]).Result.reject(`Invalid host element: ${String(o.host)}`):(0,e.Attached)(Object.assign({},s,{element:o.host}))}}),e.Attached=e.HostGroup.registerState("Attached",{hostElementDetach:function(t,o){var s=t.host;return(0,e.Detached)(Object.assign({},s,{element:null}))},hostElementAttach:function(){return r(d[1]).Result.reject("host is already attached")}}),e.HaveMetadata=e.HostGroup.registerState("HaveMetadata",{}),e.Ready=e.HostGroup.registerState("Ready",{})},831,[829,675]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n,t){var s=n.manifest;try{return new URL(t.url),(0,e.Fetching)(Object.assign({},s,{nextUpdate:0,json:null,url:t.url}))}catch(n){return r(d[2]).Result.reject(`invalid URL: ${t.url}`)}}function t(n,t){var s,o,l,u=n.manifest;if(401===t.status||403===t.status)return 0===u.options.refetch?(0,e.Forbidden)(Object.assign({},u,{json:null})):(0,e.Fetching)(Object.assign({},u,{nextUpdate:u.options.polling.unauthorized,deadline:Date.now()+u.options.refetch,json:null}));if(404===t.status)return(0,e.Fetching)(Object.assign({},u,{nextUpdate:u.options.polling.notfound,deadline:null,json:null}));if(t.status>=500||null==t.manifest)return(0,e.InternalError)(Object.assign({},u,{json:null}));var f=new Set(Object.keys(null!==(o=null===(s=u.json)||void 0===s?void 0:s.formats)&&void 0!==o?o:[])),p=Object.keys(t.manifest.formats),c=null!==(l=t.manifest.self)&&void 0!==l?l:u.url;return f.size!==p.length||p.some(function(n){return!f.has(n)})||c!==u.url?(0,e.Online)(Object.assign({},u,{json:t.manifest,url:c,nextUpdate:u.options.polling.default,deadline:null})):r(d[2]).Result.ignore("no changes in manifest")}function s(n,t){n.manifest;return{options:t.options.manifest}}Object.defineProperty(e,"__esModule",{value:!0}),e.Online=e.InternalError=e.NotFound=e.Forbidden=e.Fetching=e.Offline=e.ManifestGroup=void 0,e.ManifestGroup=r(d[0]).PlayerStateFlow.registerGroup("manifest").bootstrap(function(){return(0,e.Offline)({url:"",json:null,nextUpdate:0,deadline:null,options:r(d[1]).ManifestOptions.parse({})})}),e.Offline=e.ManifestGroup.registerState("Offline",{optionsApply:s,manifestReplaceUrl:n,manifestUpdate:t}),e.Fetching=e.ManifestGroup.registerState("Fetching",{optionsApply:s,manifestReplaceUrl:n,manifestUpdate:t,manifestDeadline:function(n){return(0,e.Forbidden)(n.manifest)}}),e.Forbidden=e.ManifestGroup.registerState("Forbidden",{optionsApply:s,manifestReplaceUrl:n}),e.NotFound=e.ManifestGroup.registerState("NotFound",{optionsApply:s,manifestReplaceUrl:n,manifestUpdate:t}),e.InternalError=e.ManifestGroup.registerState("InternalError",{optionsApply:s,manifestReplaceUrl:n}),e.Online=e.ManifestGroup.registerState("Online",{optionsApply:s,manifestReplaceUrl:n,manifestUpdate:t})},832,[829,833,675]);
__d(function(g,r,i,a,m,e,_d){"use strict";var t=r(_d[0]);function n(t){return function(n,o){null!=n&&r(_d[1]).device.isImplements(r(_d[1]).Feature.DEBUGGING)&&r(_d[1]).device.console.warn(`[deprecated] ${o.path.join(".")} is deprecated: ${t}`)}}Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerOptions=e.PlayerDriverOptions=e.ManifestOptions=e.FlvHttpDriverOptions=e.FlvHttpDriverFull=e.FlvHttpDriverID=e.Mp4WsDriverOptions=e.Mp4WsDriverFull=e.Mp4WsDriverID=e.NativeHlsDriverOptions=e.NativeHlsDriverFull=e.NativeHlsDriverID=e.HlsjsDriverOptions=e.HlsjsDriverFull=e.HlsjsDriverID=e.WebrtcDriverOptions=e.WebrtcDriverFull=e.WebrtcDriverID=void 0;var o=r(_d[2]).z.object({timeout:r(_d[2]).z.number().min(1e3).max(3e4).default(1e4).describe("timeout to start player in ms"),bitrate:r(_d[2]).z.number().optional().superRefine(n("use 'preferredLevel' from root options instead")),muted:r(_d[2]).z.boolean().optional().superRefine(n("use 'muted' from root options instead")),volume:r(_d[2]).z.number().optional().superRefine(n("use 'volume' from root options instead")),autoPlay:r(_d[2]).z.boolean().optional().superRefine(n("use 'autoPlay' from root options instead")),preset:r(_d[2]).z.null().optional().superRefine(n("use 'preferredLevel' from root options instead"))});e.WebrtcDriverID=r(_d[2]).z.literal("webrtc"),e.WebrtcDriverFull=o.extend({id:e.WebrtcDriverID,joinLoadbalancerFallback:r(_d[2]).z.boolean().default(!0).describe("Fallback to loadbalancer if direct connection fails")}),e.WebrtcDriverOptions=e.WebrtcDriverID.or(e.WebrtcDriverFull).transform(function(t){return"string"==typeof t?e.WebrtcDriverFull.parse({id:t}):t}),e.HlsjsDriverID=r(_d[2]).z.literal("hlsjs"),e.HlsjsDriverFull=o.extend({id:e.HlsjsDriverID,hlsjsConfig:r(_d[2]).z.object({debug:r(_d[2]).z.boolean().default(!1).describe("Enable hls.js debug mode"),maxBufferLength:r(_d[2]).z.number().default(30).describe("Maximum buffer length in seconds"),maxBufferSize:r(_d[2]).z.number().default(6e7).describe("Maximum buffer size in bytes"),fragLoadingTimeOut:r(_d[2]).z.number().default(3900).describe("Fragment loading timeout in milliseconds"),maxBufferHole:r(_d[2]).z.number().default(2).describe("'Maximum' inter-fragment buffer hole tolerance that hls.js can cope with when searching for the next fragment to load"),backBufferLength:r(_d[2]).z.number().default(90).describe("The maximum duration of buffered media to keep once it has been played, in seconds"),progressive:r(_d[2]).z.boolean().default(!1).describe("Enable streaming segment data with fetch loader (experimental)"),startLevel:r(_d[2]).z.number().default(-1).describe("When set, use this level as the default hls.startLevel")}).passthrough().optional().describe("Fine-tuning hls.js config from https://github.com/video-dev/hls.js/blob/master/docs/API.md#fine-tuning"),hlsjsPath:r(_d[2]).z.string().optional().describe("Path to custom hls.js library"),estimatedKbps:r(_d[2]).z.number().optional().superRefine(n("use 'preferredLevel' from root options instead")),maxBufferSize:r(_d[2]).z.number().optional().superRefine(n("use 'hlsjsConfig.maxBufferSize' instead")),maxBufferLength:r(_d[2]).z.number().optional().superRefine(n("use 'hlsjsConfig.maxBufferLength' instead")),debug:r(_d[2]).z.boolean().optional().superRefine(n("use 'hlsjsConfig.debug' instead"))}),e.HlsjsDriverOptions=e.HlsjsDriverID.or(e.HlsjsDriverFull).transform(function(t){return"string"==typeof t?e.HlsjsDriverFull.parse({id:t}):t}),e.NativeHlsDriverID=r(_d[2]).z.literal("native-hls"),e.NativeHlsDriverFull=o.extend({id:e.NativeHlsDriverID}),e.NativeHlsDriverOptions=e.NativeHlsDriverID.or(e.NativeHlsDriverFull).transform(function(t){return"string"==typeof t?e.NativeHlsDriverFull.parse({id:t}):t}),e.Mp4WsDriverID=r(_d[2]).z.literal("mp4ws"),e.Mp4WsDriverFull=o.extend({id:e.Mp4WsDriverID,maxShifts:r(_d[2]).z.number().optional(),requiredBuffer:r(_d[2]).z.number().optional(),requiredBufferBeforeRemove:r(_d[2]).z.number().optional(),backFill:r(_d[2]).z.number().optional(),maxGap:r(_d[2]).z.number().optional(),retry:r(_d[2]).z.number().optional(),mode:r(_d[2]).z.enum(["N","B","N"]).optional(),download:r(_d[2]).z.boolean().optional(),segmentDuration:r(_d[2]).z.number().optional(),initFailTimeout:r(_d[2]).z.number().optional(),playbackFailTimeout:r(_d[2]).z.number().optional(),skipWatchInterval:r(_d[2]).z.number().optional(),skipForwardThreshold:r(_d[2]).z.number().optional(),bitrate:r(_d[2]).z.number().optional(),estimatedKbps:r(_d[2]).z.number().optional(),origin:r(_d[2]).z.boolean().optional()}),e.Mp4WsDriverOptions=e.Mp4WsDriverID.or(e.Mp4WsDriverFull).transform(function(t){return"string"==typeof t?e.Mp4WsDriverFull.parse({id:t}):t}),e.FlvHttpDriverID=r(_d[2]).z.literal("flvhttp"),e.FlvHttpDriverFull=o.extend({id:e.FlvHttpDriverID}),e.FlvHttpDriverOptions=e.FlvHttpDriverID.or(e.FlvHttpDriverFull).transform(function(t){return"string"==typeof t?e.FlvHttpDriverFull.parse({id:t}):t});var l=r(_d[2]).z.object({default:r(_d[2]).z.number().default(5e3).describe("Manifest polling interval in ms"),unauthorized:r(_d[2]).z.number().default(2e3).describe("Manifest polling interval in ms for 401, 403 codes"),notfound:r(_d[2]).z.number().default(1e4).describe("Manifest polling interval in ms for 404 code")});e.ManifestOptions=r(_d[2]).z.object({polling:l.default(function(){return l.parse({})}),refetch:r(_d[2]).z.number().default(1e4).describe("Manifest refetch timeout for 401, 403 codes. 0 - means no re-fetch at all"),params:r(_d[2]).z.record(r(_d[2]).z.string()).default({substitute:"false",vdc:"true"}).describe("Additional query params for manifest requests")});var s=r(_d[2]).z.union([e.WebrtcDriverOptions,e.HlsjsDriverOptions,e.NativeHlsDriverOptions,e.Mp4WsDriverOptions,e.FlvHttpDriverOptions]),u=r(_d[2]).z.union([r(_d[2]).z.boolean(),r(_d[2]).z.literal("preview"),r(_d[2]).z.object({videoHeight:r(_d[2]).z.number(),videoWidth:r(_d[2]).z.number()})]);e.PlayerDriverOptions=r(_d[2]).z.array(s).default(["webrtc","hlsjs","flvhttp"]).refine(function(t){var n=t.map(function(t){return t.id});return n.length===new Set(n).size},{message:"duplicates are not allowed"}).describe("Request specific drivers with options"),e.PlayerOptions=r(_d[2]).z.object({experimental:r(_d[2]).z.boolean().default(!1).describe("Use experimental player"),autoPlay:r(_d[2]).z.boolean().default(!0).describe("Start playback automatically"),muted:r(_d[2]).z.boolean().default(!1).describe("Mute playback by default"),volume:r(_d[2]).z.number().min(0).max(1).default(.5).describe("Set initial volume"),displayPoster:u.default(!0).describe("Display poster before playback"),preferredScoreLevel:r(_d[2]).z.nativeEnum(r(_d[3]).TranscodeScoreLevel).or(r(_d[2]).z.nativeEnum(r(_d[3]).SourceScoreLevel)).optional().describe("Preferred score level for transcoded or source streams"),drivers:e.PlayerDriverOptions,manifest:e.ManifestOptions.default(function(){return e.ManifestOptions.parse({})}),players:r(_d[2]).z.array(s).optional().superRefine(n("use 'drivers' instead")),driverFailoverSeconds:r(_d[2]).z.number().optional().superRefine(n("use 'timeout' from driver options instead")),mutedAutoplayFallback:r(_d[2]).z.boolean().optional().superRefine(n("option does nothing now")),blurred:r(_d[2]).z.boolean().optional().superRefine(n("option does nothing now")),retryCall:r(_d[2]).z.boolean().optional().superRefine(n("use 'joinLoadbalancerFallback' from webrtc instead")),pollingInterval:r(_d[2]).z.number().optional().superRefine(n("use 'manifest.polling.default' instead")),notFoundPollingInterval:r(_d[2]).z.number().optional().superRefine(n("use 'manifest.polling.notfound' instead")),unauthorizedPollingInterval:r(_d[2]).z.number().optional().superRefine(n("use 'manifest.polling.unauthorized' instead")),unauthorizedRecoveryDuration:r(_d[2]).z.number().optional().superRefine(n("use 'manifest.refetch' instead")),refetch:r(_d[2]).z.boolean().optional().superRefine(n("use 'manifest.refetch = 0' instead")),urlParams:r(_d[2]).z.record(r(_d[2]).z.any()).optional().superRefine(n("use 'manifest.params' instead"))}).transform(function(n){if(null!=n.players&&(n.drivers=e.PlayerDriverOptions.parse(n.players),delete n.players),null!=n.driverFailoverSeconds){var o=1e3*n.driverFailoverSeconds;n.drivers=n.drivers.map(function(t){return Object.assign({},t,{timeout:o})}),delete n.driverFailoverSeconds}return null!=n.retryCall&&(n.drivers=n.drivers.map(function(t){return"webrtc"===t.id?Object.assign({},t,{joinLoadbalancerFallback:Boolean(n.retryCall)}):t}),delete n.retryCall),delete n.mutedAutoplayFallback,delete n.blurred,null!=n.pollingInterval&&(n.manifest.polling.default=n.pollingInterval,delete n.pollingInterval),null!=n.notFoundPollingInterval&&(n.manifest.polling.notfound=n.notFoundPollingInterval,delete n.notFoundPollingInterval),null!=n.unauthorizedPollingInterval&&(n.manifest.polling.unauthorized=n.unauthorizedPollingInterval,delete n.unauthorizedPollingInterval),null!=n.unauthorizedRecoveryDuration&&(n.manifest.refetch=n.unauthorizedRecoveryDuration,delete n.unauthorizedRecoveryDuration),!1===n.refetch&&(n.manifest.refetch=0,delete n.refetch),null!=n.urlParams&&(n.manifest.params=Object.fromEntries(Object.entries(n.urlParams).map(function(n){var o=t(n,2),l=o[0],s=o[1];return[l,String(s)]})),delete n.urlParams),n}).readonly()},833,[38,502,795,495]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Auto=e.Forced=e.Blurred=e.Default=e.QualityGroup=void 0,e.QualityGroup=r(d[1]).PlayerStateFlow.registerGroup("quality").bootstrap(function(){return(0,e.Default)({availableQualities:[],preferredQuality:null,currentQuality:null,encodingSelector:new(r(d[2]).HighestBitrateSelector)})}),e.Default=e.QualityGroup.registerState("Highest",{requestForcedQuality:function(u,l){var o=(0,r(d[3]).getCurrentDriver)(u),s=t(o,2),c=s[0],n=s[1],y=l.quality;return null===c?r(d[4]).Result.reject("no driver selected"):null==y?(0,e.Default)(Object.assign({},u.quality,{preferredQuality:null})):y.startsWith("source:")&&n.features.sourceQuality?r(d[4]).Result.reject("source quality is only supported for WebRTC driver"):n.features.forcedQuality?(0,e.Forced)(Object.assign({},u.quality,{preferredQuality:y})):r(d[4]).Result.reject("driver does not support forced quality")}}),e.Blurred=e.QualityGroup.registerState("Blurred",{}),e.Forced=e.QualityGroup.registerState("Forced",{}),e.Auto=e.QualityGroup.registerState("Auto",{})},834,[38,829,835,836,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]);function u(t){var n,u;return(null!==(n=t.audioKbps)&&void 0!==n?n:0)+(null!==(u=t.videoKbps)&&void 0!==u?u:0)}function l(t,n){return u(t)>u(n)?t:n}Object.defineProperty(e,"__esModule",{value:!0}),e.PreferredLevelSelector=e.HighestBitrateSelector=void 0;var o=(function(){return n(function n(){t(this,n)},[{key:"select",value:function(t){return t.reduce(l)}}])})();e.HighestBitrateSelector=o;var c=(function(){return n(function n(u){t(this,n),this.preferredLevel=u,this.preferredBitrate=0},[{key:"select",value:function(t){if(null===this.preferredLevel)return t.reduce(l);var n=null;for(var o of t){u(o)<=this.preferredBitrate&&(n=o)}return null==n&&(n=t[0]),n}}])})();e.PreferredLevelSelector=c},835,[12,13]);
__d(function(g,r,i,_a,m,e,d){"use strict";var t=r(d[0]);function n(t){return"object"==typeof t&&null!==t&&"driverFormat"in t&&"priority"in t}function u(t){var u="",o=Object.keys(t).reduce(function(o,a){var c=t[a];if(!n(c))return o;switch((0,r(d[1]).getStateName)(c)){case"Prepared":case"Stopped":o.push([a,c.priority]);break;case"InUse":o.push([a,c.priority]),u=a}return o},[]).sort(function(t,n){return n[1]-t[1]}).map(function(t){return t[0]});return[o,o.indexOf(u)]}Object.defineProperty(e,"__esModule",{value:!0}),e.getSupportedDrivers=u,e.getCurrentDriver=function(t){for(var u in t){var o=t[u];if(n(o)&&"InUse"===(0,r(d[1]).getStateName)(o))return[u,o]}return[null,{driverFormat:"",timeout:0,priority:0,support:"",features:{autoBitrate:!1,forcedQuality:!1,sourceQuality:!1}}]},e.getNextDriver=function(n){var o=u(n),a=t(o,2),c=a[0],f=a[1];if(-1===f)return null;return c[(f+1)%c.length]}},836,[38,675]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoError=e.BlankScreen=e.Playing=e.Paused=e.NotApplicable=e.VideoGroup=void 0,e.VideoGroup=r(d[0]).PlayerStateFlow.registerGroup("video").bootstrap(function(){return(0,e.NotApplicable)({filter:null,poster:null})}),e.NotApplicable=e.VideoGroup.registerState("NotApplicable",{}),e.Paused=e.VideoGroup.registerState("Disabled",{}),e.Playing=e.VideoGroup.registerState("Enabled",{}),e.BlankScreen=e.VideoGroup.registerState("BlankScreen",{}),e.VideoError=e.VideoGroup.registerState("VideoError",{})},837,[829]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registeredDrivers=void 0,e.registerVideoDrivers=function(s){e.registeredDrivers.push(s)},e.registeredDrivers=[]},838,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaLoader=void 0;var l=r(d[4]).__importStar(r(d[5]));function u(t){return h.apply(this,arguments)}function h(){return(h=o(function*(t){try{var s=yield fetch(t,{method:"GET"});return s.ok?[yield s.json(),s.status]:[null,s.status]}catch(t){return[null,-1]}})).apply(this,arguments)}function f(t,s){var o=new URL(t);for(var l of Object.entries(s)){var u=n(l,2),h=u[0],f=u[1];o.searchParams.set(h,f)}return o.toString()}var c=(function(){return s(function s(n){t(this,s),this.ctx=n,this.enabled=!1,this.timeoutId=0,(0,r(d[6]).makeBounded)(this)},[{key:"initStateFlow",value:function(t){this.sf=t,t.handleEnter(l.Fetching,this.startPolling),t.onCommit(l.Fetching,this.restart),t.handleEnter(l.NotFound,this.stopPolling),t.handleEnter(l.Forbidden,this.stopPolling),t.handleEnter(l.InternalError,this.stopPolling)}},{key:"start",value:function(){this.enabled||(this.enabled=!0,this.timeoutId=r(d[7]).device.setTimeout(this.process,0))}},{key:"stop",value:function(){this.enabled=!1}},{key:Symbol.dispose,value:function(){this.stop()}},{key:"process",value:(h=o(function*(){if(this.enabled)if(null!=this.sf.manifest.deadline&&Date.now()>this.sf.manifest.deadline)this.sf.dispatch("manifestDeadline",{});else{var t=f(this.sf.manifest.url,this.sf.manifest.options.params),s=yield u(t),o=n(s,2),l=o[0],h=o[1],c=yield this.sf.dispatchAsync("manifestUpdate",{manifest:l,status:h});c.ok||c.kind===r(d[8]).ResultKind.Ignored||this.ctx.logger.error(`Signal manifestUpdate: ${String(c)}`,{signal:"manifestUpdate",result:String(c)}),this.timeoutId=r(d[7]).device.setTimeout(this.process,this.sf.manifest.nextUpdate)}}),function(){return h.apply(this,arguments)})},{key:"startPolling",value:function(t){return this.enabled?r(d[8]).Result.ignore("media loader is already started"):(this.start(),r(d[8]).Result.ok())}},{key:"restart",value:function(t){r(d[7]).device.clearTimeout(this.timeoutId),this.timeoutId=r(d[7]).device.setTimeout(this.process,t.manifest.nextUpdate)}},{key:"stopPolling",value:function(t){return this.enabled?(this.stop(),r(d[8]).Result.ok()):r(d[8]).Result.ignore("media loader is already stopped")}}]);var h})();e.MediaLoader=c,c.displayName="MediaLoader"},839,[12,13,38,345,487,832,529,502,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]),t=r(d[1]),o=r(d[2]);Object.defineProperty(e,"__esModule",{value:!0}),e.HostSupervisor=void 0;var l=r(d[3]).__importStar(r(d[4])),s=r(d[3]).__importStar(r(d[5])),u=new WeakSet,v=new Map([["play","onPlay"],["pause","onPause"],["loadeddata","onLoadedData"],["loadedmetadata","onLoadedMetaData"],["canplay","onCanPlay"],["error","onError"],["suspend","onSuspend"],["volumechange","onVolumeChange"],["abort","onAbort"],["emptied","onEmptied"],["ended","onEnded"],["playing","onPlaying"],["stalled","onStalled"],["waiting","onWaiting"]]),h=(function(){return o(function n(o){t(this,n),this.ctx=o,(0,r(d[6]).makeBounded)(this),this.init()},[{key:"init",value:function(){}},{key:"initStateFlow",value:function(n){this.sf=n,n.handleEnter(l.Attached,this.hostAttached),n.handleExit(l.Attached,this.hostDetached)}},{key:"hostAttached",value:function(t){var o=t.host.element;if(!(0,r(d[7]).isVideoElement)(o))return r(d[8]).Result.ignore("not a video element");if(u.has(o))return r(d[8]).Result.reject("video element is already attached to another player");for(var l of(u.add(o),v.entries())){var s=n(l,2),h=s[0],c=s[1];o.addEventListener(h,this[c])}return r(d[8]).Result.ok()}},{key:"onWaiting",value:function(){}},{key:"onStalled",value:function(){}},{key:"onPlaying",value:function(){console.log("!!! el playing")}},{key:"onEnded",value:function(){}},{key:"onEmptied",value:function(){}},{key:"onAbort",value:function(){console.log("!!! el abort")}},{key:"onVolumeChange",value:function(){var n=(0,r(d[7]).getVideoElement)(this.sf.host.element);(0,r(d[7]).isVolumeChanged)(n.volume,this.sf.audio.volume)&&!(0,r(d[8]).isTransitioning)(this.sf)&&this.sf.dispatch("uncontrolledVolumeChange",{volume:n.volume})}},{key:"onSuspend",value:function(){}},{key:"onError",value:function(){console.log("!!! el error")}},{key:"onCanPlay",value:function(){}},{key:"onLoadedMetaData",value:function(){}},{key:"onLoadedData",value:function(){}},{key:"onPause",value:function(){s.Playing.is(this.sf.playback)&&!(0,r(d[8]).isTransitioning)(this.sf)&&this.sf.dispatch("uncontrolledPause",{})}},{key:"onPlay",value:function(){s.Playing.is(this.sf.playback)||(0,r(d[8]).isTransitioning)(this.sf)||this.sf.dispatch("uncontrolledPlay",{})}},{key:"hostDetached",value:function(n){var t=n.host,o=t.element;return(0,r(d[7]).isVideoElement)(o)?(this.removeElListeners(o),u.delete(t.element),r(d[8]).Result.ok()):r(d[8]).Result.ignore("not a video element")}},{key:Symbol.dispose,value:function(){var n=this.sf.host.element;(0,r(d[7]).isVideoElement)(n)&&(this.removeElListeners(n),u.delete(n))}},{key:"initElListeners",value:function(){}},{key:"removeElListeners",value:function(t){for(var o of v.entries()){var l=n(o,2),s=l[0],u=l[1];t.removeEventListener(s,this[u])}}}])})();e.HostSupervisor=h,h.displayName="HostSupervisor"},840,[38,12,13,487,831,830,529,841,675]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return"object"==typeof t&&"[object HTMLVideoElement]"===String(t)}function o(o){if(t(o))return o;throw new Error("host is not a video element")}function n(t,o){return Math.abs(t-o)>1e-4}function u(t,o){if(t.srcObject!==o){var n=!t.paused;n&&t.pause(),null!=t.src&&""!==t.src&&(t.src=""),t.srcObject=o,n&&t.play()}}function s(t,o){if(t.src!==o){var n=!t.paused;n&&t.pause(),null!=t.srcObject&&(t.srcObject=null),t.src=o,n&&t.play()}}function l(t){return function(o,n){return n.addIssue({code:r(d[1]).z.ZodIssueCode.custom,message:`deprecated: ${t}`})}}Object.defineProperty(e,"__esModule",{value:!0}),e.optionsCommonSchema=e.optionsDriversSchema=void 0,e.isVideoElement=t,e.getVideoElement=o,e.startPlayingVideoElement=function(t){var n=o(t.host.element);return r(d[0]).Result.transition(n.play().then(function(){return r(d[0]).Result.ok()}))},e.stopPlayingVideoElement=function(t){return o(t.host.element).pause(),r(d[0]).Result.ok()},e.isVolumeChanged=n,e.unmuteVideoElement=function(t){var n=t.host,u=t.audio,s=o(n.element);if(!s.muted)return r(d[0]).Result.ignore();return s.muted=!1,s.volume=u.volume,r(d[0]).Result.ok()},e.changeVolumeVideoElement=function(t){var u=t.host,s=t.audio,l=o(u.element);if(!n(l.volume,s.volume))return r(d[0]).Result.ignore();return l.volume=s.volume,r(d[0]).Result.ok()},e.muteVideoElement=function(t){var n=o(t.host.element);if(n.muted)return r(d[0]).Result.ignore();return n.muted=!0,r(d[0]).Result.ok()},e.updateSource=function(t,o){"string"==typeof o?s(t,o):u(t,o)},e.optionsDriversSchema=r(d[1]).z.enum(["webrtc","hlsjs","native-hls","mp4ws","flvhttp"]),e.optionsCommonSchema=r(d[1]).z.object({timeout:r(d[1]).z.number().min(1e3).max(3e4).default(1e4).describe("timeout to start player"),bitrate:r(d[1]).z.number().optional().superRefine(l("use 'preferredLevel' from root options instead")),muted:r(d[1]).z.boolean().optional().superRefine(l("use 'muted' from root options instead")),volume:r(d[1]).z.number().optional().superRefine(l("use 'volume' from root options instead")),autoPlay:r(d[1]).z.boolean().optional().superRefine(l("use 'autoPlay' from root options instead")),preset:r(d[1]).z.null().optional().superRefine(l("use 'preferredLevel' from root options instead"))})},841,[675,795]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerStateFlow=void 0,r(d[0]),r(d[1]),r(d[2]),r(d[3]),r(d[4]),r(d[5]),r(d[6]),r(d[7]),r(d[8]),r(d[9]),r(d[10]),Object.defineProperty(e,"PlayerStateFlow",{enumerable:!0,get:function(){return r(d[11]).PlayerStateFlow}})},842,[828,830,834,837,843,847,849,854,856,831,832,829]);
__d(function(_g,r,i,a,m,e,d){"use strict";var t=r(d[0]);function p(p,o){var n=(0,r(d[2]).findDriver)(r(d[3]).FlvHttpDriver,o.options.drivers),s=t(n,2),u=s[0];s[1];return-1!==u?r(d[4]).Result.ignore():(0,e.NotRequested)(Object.assign({},p.flvHttp,{priority:u}))}function o(t,p){var o=(0,r(d[2]).checkDriverSupport)(r(d[3]).FlvHttpDriver,p.host,t.manifest.json);return"hmp"===o?(0,e.Prepared)(Object.assign({},t.flvHttp,{support:o})):(0,e.NotSupported)(Object.assign({},t.flvHttp,{support:o}))}function n(t,p){var o=(0,r(d[2]).checkDriverSupport)(r(d[3]).FlvHttpDriver,t.host.element,p.manifest);return"hmp"===o?(0,e.Prepared)(Object.assign({},t.flvHttp,{support:o})):(0,e.NotSupported)(Object.assign({},t.flvHttp,{support:o}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Failed=e.InUse=e.Stopped=e.Prepared=e.NotSupported=e.NotRequested=e.FlvHttpGroup=void 0,e.FlvHttpGroup=r(d[1]).PlayerStateFlow.registerGroup("flvHttp").bootstrap(function(){return(0,e.NotRequested)({driverFormat:"flv-http",priority:-1,support:"",timeout:0,features:{sourceQuality:!1,forcedQuality:!0,autoBitrate:!1}})}),e.NotRequested=e.FlvHttpGroup.registerState("NotRequested",{optionsApply:function(p,o){var n=(0,r(d[2]).findDriver)(r(d[3]).FlvHttpDriver,o.options.drivers),s=t(n,2),u=s[0],v=s[1];if(-1===u)return r(d[4]).Result.ignore();var l=(0,r(d[2]).checkDriverSupport)(r(d[3]).FlvHttpDriver,p.host.element,p.manifest.json);return"hmp"===l?(0,e.Prepared)(Object.assign({},p.flvHttp,{priority:u,support:l,timeout:v.timeout})):(0,e.NotSupported)(Object.assign({},p.flvHttp,{priority:u,support:l}))}}),e.NotSupported=e.FlvHttpGroup.registerState("NotSupported",{optionsApply:p,manifestUpdate:n,hostElementAttach:o}),e.Prepared=e.FlvHttpGroup.registerState("Prepared",{optionsApply:p,manifestUpdate:n,hostElementAttach:o,driverSwitch:function(t,p){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:p.driver===e.FlvHttpGroup.name?(0,e.InUse)(t.flvHttp):t.flvHttp}}),e.Stopped=e.FlvHttpGroup.registerState("Stopped",{optionsApply:p,hostElementAttach:o,driverSwitch:function(t,p){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:p.driver===e.FlvHttpGroup.name?(0,e.InUse)(t.flvHttp):t.flvHttp}}),e.InUse=e.FlvHttpGroup.registerState("InUse",{optionsApply:function(){return r(d[4]).Result.reject("driver is in use")},hostElementDetach:function(){return r(d[4]).Result.reject("host element is in use of FlvHttp")},driverSwitch:function(t,p){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:p.driver===e.FlvHttpGroup.name?t.flvHttp:(0,e.Stopped)(t.flvHttp)},manifestReplaceUrl:function(t,p){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:(0,e.Prepared)(t.flvHttp)}}),e.Failed=e.FlvHttpGroup.registerState("Failed",{optionsApply:p})},843,[38,829,844,845,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.findDriver=function(n,u){var s=u.reduce(function(t,u,s){return u.id===n.driverName?[s,u]:[t[0],t[1]]},[-1,null]),c=t(s,2),o=c[0],p=c[1];return[u.length-o,p]},e.checkDriverSupport=function(t,n,u){return(t.isHostSupported(n)?"h":"")+(t.isManifestSupported(u)?"m":"")+(t.isPlatformSupported()?"p":"")},e.checkDriverSwitchRestrictions=function(t){if((0,r(d[3]).isTransitioning)(t.playback))return r(d[3]).Result.reject("playing state is in transition");if(n.Playing.is(t.playback))return r(d[3]).Result.reject("driver is in playing state");return r(d[3]).Result.ignore()};var n=r(d[1]).__importStar(r(d[2]))},844,[38,487,830,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),l=r(d[2]);Object.defineProperty(e,"__esModule",{value:!0}),e.FlvHttpDriver=void 0;var u=r(d[3]).__importStar(r(d[4])),o=r(d[3]).__importStar(r(d[5])),s=r(d[3]).__importStar(r(d[6]));function p(t){var n=function(n,l){return s.InUse.is(l.flvHttp)?t(n,l):r(d[7]).Result.ignore()};return Reflect.defineProperty(n,"name",{configurable:!0,value:t.name}),n}var v=(function(){return l(function t(l){n(this,t),this.ctx=l,this.player=null,this.encodingSelector=new(r(d[8]).HighestBitrateSelector),this.availableEncodings=[],(0,r(d[9]).makeBounded)(this)},[{key:"initStateFlow",value:function(t){this.sf=t,t.handleEnter(s.Prepared,this.prepare),t.handleEnter(s.InUse,this.activate),t.handleExit(s.InUse,this.deactivate),t.handleEnter(o.Playing,p(this.startPlaying)),t.handleExit(o.Playing,p(this.stopPlaying)),t.handleEnter(u.UnMuted,p(this.unmute)),t.handleChanges(u.UnMuted,p(this.changeVolume)),t.handleExit(u.UnMuted,p(this.mute))}},{key:"changeVolume",value:function(t){return(0,r(d[10]).isVolumeChanged)(this.player.volume,t.audio.volume)?(this.player.volume=t.audio.volume,r(d[7]).Result.ok()):r(d[7]).Result.ignore()}},{key:"mute",value:function(t){return this.player.muted?r(d[7]).Result.ignore():(this.player.muted=!0,r(d[7]).Result.ok())}},{key:"unmute",value:function(t){var n=(0,r(d[10]).isVolumeChanged)(this.player.volume,t.audio.volume);return this.player.muted||n?(this.player.muted&&(this.player.muted=!1),n&&(this.player.volume=t.audio.volume),r(d[7]).Result.ok()):r(d[7]).Result.ignore()}},{key:"prepare",value:function(t){return r(d[11]).device.isImplements(r(d[11]).Feature.MPEGTS)?r(d[7]).Result.transition(r(d[11]).device.loadMpegtsScript().then(function(){return r(d[7]).Result.ok()})):r(d[7]).Result.reject("mpegts is not supported")}},{key:"activate",value:function(t){var n=t.host,l=t.manifest,o=t.audio,s=(t.flvHttp,(0,r(d[10]).getVideoElement)(n.element));if(null==l.json)throw new Error("manifest is null");if(!r(d[11]).device.isImplements(r(d[11]).Feature.MPEGTS))throw new Error("mpegts is not supported");var p=l.json.formats["flv-http"],v=this.encodingSelector.select((0,r(d[12]).parseEncodings)(p));if(null==(null==v?void 0:v.location)||""===v.location)throw new(r(d[13]).DriverNotSupportedError)("invalid encoding",{});return this.player=r(d[11]).device.mpegts.createPlayer({type:"flv",isLive:!0,url:v.location}),this.player.attachMediaElement(s),this.player.load(),this.player.volume=o.volume,this.player.muted=!u.UnMuted.is(o),r(d[7]).Result.ok()}},{key:"deactivate",value:function(t){var n,l=t.host,u=(0,r(d[10]).getVideoElement)(l.element);return console.log("did we get here?"),null===(n=this.player)||void 0===n||n.destroy(),this.player=null,u.src="",r(d[7]).Result.ok()}},{key:"startPlaying",value:function(t,n){var l=this.player.play();return l instanceof Promise?r(d[7]).Result.transition(l.then(function(){return r(d[7]).Result.ok()})):r(d[7]).Result.ok()}},{key:"stopPlaying",value:function(t,n){return this.player.pause(),r(d[7]).Result.ok()}},{key:Symbol.dispose,value:(v=t(function*(){var t;null===(t=this.player)||void 0===t||t.destroy()}),function(){return v.apply(this,arguments)})}],[{key:"isManifestSupported",value:function(t){return null!=(null==t?void 0:t.formats["flv-http"])}},{key:"isHostSupported",value:function(t){return(0,r(d[10]).isVideoElement)(t)}},{key:"isPlatformSupported",value:function(){return r(d[11]).device.isImplements(r(d[11]).Feature.MPEGTS)}}]);var v})();e.FlvHttpDriver=v,v.displayName="FlvHttpDriver",v.driverName="flvhttp",(0,r(d[14]).registerVideoDrivers)(v)},845,[345,12,13,487,828,830,843,675,835,529,841,502,846,543,838]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEncodings=function(n){return null!=n.substitute?[n.substitute]:n.encodings},e.elOnPlay=function(n,t){}},846,[]);
__d(function(_g,r,i,a,m,e,d){"use strict";var t=r(d[0]);function s(s,o){var p=(0,r(d[2]).findDriver)(r(d[3]).HlsJSDriver,o.options.drivers),n=t(p,2),u=n[0];n[1];return-1!==u?r(d[4]).Result.ignore():(0,e.NotRequested)(Object.assign({},s.hlsJs,{priority:u}))}function o(t,s){var o=(0,r(d[2]).checkDriverSupport)(r(d[3]).HlsJSDriver,s.host,t.manifest.json);return"hmp"===o?(0,e.Prepared)(Object.assign({},t.hlsJs,{support:o})):(0,e.NotSupported)(Object.assign({},t.hlsJs,{support:o}))}function p(t,s){var o=(0,r(d[2]).checkDriverSupport)(r(d[3]).HlsJSDriver,t.host.element,s.manifest);return"hmp"===o?(0,e.Prepared)(Object.assign({},t.hlsJs,{support:o})):(0,e.NotSupported)(Object.assign({},t.hlsJs,{support:o}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Failed=e.InUse=e.Stopped=e.Prepared=e.NotSupported=e.NotRequested=e.HlsJSGroup=void 0,e.HlsJSGroup=r(d[1]).PlayerStateFlow.registerGroup("hlsJs").bootstrap(function(){return(0,e.NotRequested)({driverFormat:"mp4-hls",priority:-1,support:"",timeout:0,features:{sourceQuality:!1,forcedQuality:!0,autoBitrate:!0}})}),e.NotRequested=e.HlsJSGroup.registerState("NotRequested",{optionsApply:function(s,o){var p=(0,r(d[2]).findDriver)(r(d[3]).HlsJSDriver,o.options.drivers),n=t(p,2),u=n[0],l=n[1];if(-1===u)return r(d[4]).Result.ignore();var c=(0,r(d[2]).checkDriverSupport)(r(d[3]).HlsJSDriver,s.host.element,s.manifest.json);return"hmp"===c?(0,e.Prepared)(Object.assign({},s.hlsJs,{priority:u,support:c,timeout:l.timeout,hlsjsConfig:l.hlsjsConfig})):(0,e.NotSupported)(Object.assign({},s.hlsJs,{priority:u,support:c}))}}),e.NotSupported=e.HlsJSGroup.registerState("NotSupported",{optionsApply:s,manifestUpdate:p,hostElementAttach:o}),e.Prepared=e.HlsJSGroup.registerState("Prepared",{optionsApply:s,manifestUpdate:p,hostElementAttach:o,driverSwitch:function(t,s){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:s.driver===e.HlsJSGroup.name?(0,e.InUse)(t.hlsJs):t.hlsJs}}),e.Stopped=e.HlsJSGroup.registerState("Stopped",{optionsApply:s,hostElementAttach:o,driverSwitch:function(t,s){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:s.driver===e.HlsJSGroup.name?(0,e.InUse)(t.hlsJs):t.hlsJs}}),e.InUse=e.HlsJSGroup.registerState("InUse",{optionsApply:function(){return r(d[4]).Result.reject("driver is in use")},hostElementDetach:function(){return r(d[4]).Result.reject("host element is in use of HlsJs")},driverSwitch:function(t,s){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:s.driver===e.HlsJSGroup.name?t.hlsJs:(0,e.Stopped)(t.hlsJs)}}),e.Failed=e.HlsJSGroup.registerState("Failed",{optionsApply:s})},847,[38,829,844,848,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),l=r(d[2]);Object.defineProperty(e,"__esModule",{value:!0}),e.HlsJSDriver=void 0;var o=r(d[3]).__importDefault(r(d[4])),s=r(d[3]).__importStar(r(d[5])),u=r(d[3]).__importStar(r(d[6])),h=r(d[3]).__importStar(r(d[7]));function c(t){var n=function(n,l){return h.InUse.is(l.hlsJs)?t(n,l):r(d[8]).Result.ignore()};return Reflect.defineProperty(n,"name",{configurable:!0,value:t.name}),n}var v=(function(){return l(function t(l){n(this,t),this.ctx=l,this.encodingSelector=new(r(d[9]).HighestBitrateSelector),this.availableEncodings=[],(0,r(d[10]).makeBounded)(this),this.hls=new o.default},[{key:"initStateFlow",value:function(t){t.handleEnter(h.Prepared,this.prepare),t.handleEnter(h.InUse,this.activate),t.handleExit(h.InUse,this.deactivate),t.handleEnter(u.Playing,c(r(d[11]).startPlayingVideoElement)),t.handleExit(u.Playing,c(r(d[11]).stopPlayingVideoElement)),t.handleEnter(s.UnMuted,c(r(d[11]).unmuteVideoElement)),t.handleChanges(s.UnMuted,c(r(d[11]).changeVolumeVideoElement)),t.handleExit(s.UnMuted,c(r(d[11]).muteVideoElement))}},{key:"prepare",value:function(t){return r(d[8]).Result.ok()}},{key:"activate",value:function(t){var n=t.host,l=t.manifest,o=(0,r(d[11]).getVideoElement)(n.element);if(null==l.json)throw Error("manifest is null");var s=l.json.formats["mp4-hls"],u=this.encodingSelector.select((0,r(d[12]).parseEncodings)(s));if(null==(null==u?void 0:u.location)||""===u.location)throw new(r(d[13]).DriverNotSupportedError)("invalid encoding",{});return this.hls.attachMedia(o),this.hls.loadSource(u.location),r(d[8]).Result.ok()}},{key:"deactivate",value:function(t){var n=t.host,l=(0,r(d[11]).getVideoElement)(n.element);return this.hls.stopLoad(),this.hls.detachMedia(),l.src="",r(d[8]).Result.ok()}},{key:Symbol.dispose,value:(v=t(function*(){this.hls.destroy()}),function(){return v.apply(this,arguments)})}],[{key:"isManifestSupported",value:function(t){return null!=(null==t?void 0:t.formats["mp4-hls"])}},{key:"isHostSupported",value:function(t){return(0,r(d[11]).isVideoElement)(t)}},{key:"isPlatformSupported",value:function(){return o.default.isSupported()}}]);var v})();e.HlsJSDriver=v,v.displayName="HlsJSDriver",v.driverName="hlsjs",(0,r(d[14]).registerVideoDrivers)(v)},848,[345,12,13,487,505,828,830,847,675,835,529,841,846,543,838]);
__d(function(_g,r,i,a,m,e,d){"use strict";var t=r(d[0]);function p(p,s){var o=(0,r(d[2]).findDriver)(r(d[3]).Mp4WsDriver,s.options.drivers),n=t(o,2),u=n[0];n[1];return-1!==u?r(d[4]).Result.ignore():(0,e.NotRequested)(Object.assign({},p.mp4ws,{priority:u}))}function s(t,p){var s=(0,r(d[2]).checkDriverSupport)(r(d[3]).Mp4WsDriver,p.host,t.manifest.json);return"hmp"===s?(0,e.Prepared)(Object.assign({},t.mp4ws,{support:s})):(0,e.NotSupported)(Object.assign({},t.mp4ws,{support:s}))}function o(t,p){var s=(0,r(d[2]).checkDriverSupport)(r(d[3]).Mp4WsDriver,t.host.element,p.manifest);return"hmp"===s?(0,e.Prepared)(Object.assign({},t.mp4ws,{support:s})):(0,e.NotSupported)(Object.assign({},t.mp4ws,{support:s}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Failed=e.InUse=e.Stopped=e.Prepared=e.NotSupported=e.NotRequested=e.Mp4WsGroup=void 0,e.Mp4WsGroup=r(d[1]).PlayerStateFlow.registerGroup("mp4ws").bootstrap(function(){return(0,e.NotRequested)({driverFormat:"mp4-ws",priority:-1,support:"",timeout:0,features:{sourceQuality:!1,forcedQuality:!0,autoBitrate:!1}})}),e.NotRequested=e.Mp4WsGroup.registerState("NotRequested",{optionsApply:function(p,s){var o=(0,r(d[2]).findDriver)(r(d[3]).Mp4WsDriver,s.options.drivers),n=t(o,2),u=n[0],c=n[1];if(-1===u)return r(d[4]).Result.ignore();var v=(0,r(d[2]).checkDriverSupport)(r(d[3]).Mp4WsDriver,p.host.element,p.manifest.json);return"hmp"===v?(0,e.Prepared)(Object.assign({},p.mp4ws,{priority:u,support:v,timeout:c.timeout})):(0,e.NotSupported)(Object.assign({},p.mp4ws,{priority:u,support:v}))}}),e.NotSupported=e.Mp4WsGroup.registerState("NotSupported",{optionsApply:p,manifestUpdate:o,hostElementAttach:s}),e.Prepared=e.Mp4WsGroup.registerState("Prepared",{optionsApply:p,manifestUpdate:o,hostElementAttach:s,driverSwitch:function(t,p){var s=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return s.kind===r(d[4]).ResultKind.Rejected?s:p.driver===e.Mp4WsGroup.name?(0,e.InUse)(t.mp4ws):t.mp4ws}}),e.Stopped=e.Mp4WsGroup.registerState("Stopped",{optionsApply:p,hostElementAttach:s,driverSwitch:function(t,p){var s=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return s.kind===r(d[4]).ResultKind.Rejected?s:p.driver===e.Mp4WsGroup.name?(0,e.InUse)(t.mp4ws):t.mp4ws}}),e.InUse=e.Mp4WsGroup.registerState("InUse",{optionsApply:function(){return r(d[4]).Result.reject("driver is in use")},hostElementDetach:function(){return r(d[4]).Result.reject("host element is in use of Mp4Ws")},driverSwitch:function(t,p){var s=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return s.kind===r(d[4]).ResultKind.Rejected?s:p.driver===e.Mp4WsGroup.name?t.mp4ws:(0,e.Stopped)(t.mp4ws)}}),e.Failed=e.Mp4WsGroup.registerState("Failed",{optionsApply:p})},849,[38,829,844,850,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),l=r(d[2]);Object.defineProperty(e,"__esModule",{value:!0}),e.Mp4WsDriver=void 0;var o=r(d[3]).__importStar(r(d[4])),s=r(d[3]).__importStar(r(d[5])),u=r(d[3]).__importStar(r(d[6]));function c(t){var n=function(n,l){return u.InUse.is(l.mp4ws)?t(n,l):r(d[7]).Result.ignore()};return Reflect.defineProperty(n,"name",{configurable:!0,value:t.name}),n}var v=(function(){return l(function t(l){n(this,t),this.ctx=l,this.player=null,this.encodingSelector=new(r(d[8]).HighestBitrateSelector),this.availableEncodings=[],(0,r(d[9]).makeBounded)(this)},[{key:"data",get:function(){var t,n;return null!==(n=null===(t=this.sf.manifest.json)||void 0===t?void 0:t.formats["mp4-ws"])&&void 0!==n?n:null}},{key:"manifest",get:function(){var t,n,l=null===(t=this.sf.manifest.json)||void 0===t?void 0:t.formats["mp4-ws"];return null==l?null:null!=(null===(n=l.origin)||void 0===n?void 0:n.location)?l.origin.location:l.encodings.length>0?l.encodings[0].location:null}},{key:"initStateFlow",value:function(t){this.sf=t,t.handleEnter(u.Prepared,this.prepare),t.handleEnter(u.InUse,this.activate),t.handleExit(u.InUse,this.deactivate),t.handleEnter(s.Playing,c(this.startPlaying)),t.handleExit(s.Playing,c(this.stopPlaying)),t.handleEnter(o.UnMuted,c(r(d[10]).unmuteVideoElement)),t.handleChanges(o.UnMuted,c(r(d[10]).changeVolumeVideoElement)),t.handleExit(o.UnMuted,c(r(d[10]).muteVideoElement))}},{key:"prepare",value:function(t){return r(d[11]).device.isImplements(r(d[11]).Feature.MPEGTS)?r(d[7]).Result.transition(r(d[11]).device.loadMpegtsScript().then(function(){return r(d[7]).Result.ok()})):r(d[7]).Result.reject("mpegts is not supported")}},{key:"activate",value:function(t){var n=t.host,l=t.manifest,o=(0,r(d[10]).getVideoElement)(n.element);if(null==l.json)throw new Error("manifest is null");if(!r(d[11]).device.isImplements(r(d[11]).Feature.MPEGTS))throw new Error("mpegts is not supported");var s=l.json.formats["mp4-ws"],u=this.encodingSelector.select((0,r(d[12]).parseEncodings)(s));if(null==(null==u?void 0:u.location)||""===u.location)throw new(r(d[13]).DriverNotSupportedError)("invalid encoding",{});return this.player=new(r(d[14]).MeowPlayer)(this.ctx,this,{},o),r(d[7]).Result.ok()}},{key:"deactivate",value:function(t){var n,l=t.host,o=(0,r(d[10]).getVideoElement)(l.element);return null===(n=this.player)||void 0===n||n.destroy(),this.player=null,o.src="",r(d[7]).Result.ok()}},{key:"startPlaying",value:function(t,n){return r(d[7]).Result.transition(this.player.play().then(function(){return r(d[7]).Result.ok()}))}},{key:"stopPlaying",value:function(t,n){return(0,r(d[10]).getVideoElement)(t.host.element).pause(),r(d[7]).Result.ok()}},{key:"pickEncoding",value:function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.encodings[0])&&void 0!==n?n:null}},{key:Symbol.dispose,value:(v=t(function*(){var t;null===(t=this.player)||void 0===t||t.destroy()}),function(){return v.apply(this,arguments)})}],[{key:"isManifestSupported",value:function(t){return null!=(null==t?void 0:t.formats["mp4-ws"])}},{key:"isHostSupported",value:function(t){return(0,r(d[10]).isVideoElement)(t)}},{key:"isPlatformSupported",value:function(){return r(d[11]).device.isImplements(r(d[11]).Feature.MPEGTS)}}]);var v})();e.Mp4WsDriver=v,v.displayName="Mp4WsDriver",v.driverName="mp4ws",(0,r(d[15]).registerVideoDrivers)(v)},850,[345,12,13,487,828,830,849,675,835,529,841,502,846,543,851,838]);
__d(function(g,r,_i,_a2,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),i=r(d[3]),s=r(d[4]),o=r(d[5]),a=r(d[6]),l=r(d[7]);function c(e,t,n){return t=a(t),o(e,u()?Reflect.construct(t,n||[],a(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.MeowPlayer=void 0;var h="lv_estimated_kbps",f="lv_origin",p=new WeakMap,v=(function(e){function o(e,t,s,a){var l,u,p,v;if(i(this,o),(l=c(this,o)).manifest=null,l.buffering=!1,l.queue=[],l.sourceBuffers=[],l.receivedSegments=0,l.abrController=null,l.encoding=null,l.transport=null,l.version=null,l.ms=null,l.mediaSourceTime=null,l.lastMessageReceived=null,l.logInterval=void 0,l.gcInterval=void 0,l.destroyed=!1,l.ctx=e,(0,r(d[8]).onceCanceled)(e).then(function(e){return l.dispose(`Mp4ws Context Cancelled: ${e}`)}),l.addInnerDisposer(l.destroy),!r(d[9]).device.isImplements(r(d[9]).Feature.DEBUGGING)||!r(d[9]).device.isImplements(r(d[9]).Feature.MEDIA_SOURCE)||!r(d[9]).device.isImplements(r(d[9]).Feature.LOCAL_STORAGE))throw new Error("Device is not supported");if(l.device=r(d[9]).device,l.videoPlayer=t,l.options=s,l.el=a,null==l.options.bitrate){var b=null!==(u=l.device.localStorage.getItem(f))&&void 0!==u?u:"normal",y=new M((0,r(d[10]).extendContext)(e,M),l,l.videoPlayer,b,!1,null!==(p=l.options.maxShifts)&&void 0!==p?p:1/0,l.options);l.abrController=y,y.on("profile",function(e){l.device.localStorage.setItem(h,e.estimatedKbps.toString()),l.device.localStorage.setItem(f,e.profile.key)}),l.abrController.on("upshift",function(){l.emit("upshift")}),l.abrController.on("downshift",function(){l.emit("downshift")})}null==(v=l.options.origin&&null!=l.videoPlayer.data?l.videoPlayer.data.origin:l.videoPlayer.pickEncoding())&&null!=l.videoPlayer.data&&l.videoPlayer.data.encodings.length>0&&(v=n(l.videoPlayer.data.encodings,1)[0]);return null!=v&&(l.encoding=v),l.setupMSE(),l}return l(o,e),s(o,[{key:"readyState",get:function(){var e;if(null==this.ms)return null;var t=this.encoding;return null==t||(null===(e=t.channels)||void 0===e?void 0:e.length)!==this.sourceBuffers.length?null:this.ms.readyState}},{key:"appendBuffer",value:function(){var e=this;if(!this.buffering){var t=function(){e.buffering=!0,r(d[9]).device.setTimeout(function(){e.buffering=!1,e.appendBuffer()},20)};if("open"===this.readyState){var n=this.queue.shift();if(null!=n)if(this.buffering=!0,"remove"===n.type){if(null==n.sb)return this.buffering=!1,void this.appendBuffer();this.ctx.logger.debug("remove buffer",{buffer:`${n.start}-${n.end} buffered until ${n.sb.buffered.end(0)}`}),n.sb.remove(n.start,n.end)}else n.blob.arrayBuffer().then(function(i){if(null==e.transport)throw new Error("Transport is not defined");var s=e.transport.getSegmentInfo(i);1===e.version&&(s.contentTag=0);var o=e.sourceBuffers[s.contentTag];if(e.emit("fragment",{size:n.blob.size,time:n.time,duration:300}),"open"!==e.readyState)return e.ctx.logger.debug("meow mse not ready",{readyState:e.readyState}),e.queue.unshift(n),void t();if(null==o)return e.queue.unshift(n),void t();try{o.appendBuffer(i)}catch(t){e.emitErrorDeprecated(new(r(d[11]).Mp4BufferError)("failed to append source buffer in appendBuffer()",{inner:(0,r(d[11]).wrapNativeError)(t)}))}});else t()}else t()}}},{key:"checkSourceBuffers",value:function(){var e,t,n;for(var i of this.sourceBuffers)if(0===(null!==(e=null==i?void 0:i.buffered.length)&&void 0!==e?e:0))return!1;return 0!==(null!==(n=null===(t=this.el)||void 0===t?void 0:t.buffered.length)&&void 0!==n?n:0)}},{key:"newSourceBuffer",value:function(e){var t=this;if(null!=e&&this.device.MediaSource.isTypeSupported(e)){if(null!=this.ms){var n=this.ms.addSourceBuffer(e);this.ctx.logger.debug("meow adding sourcebuffer",{mimetype:e}),p.set(n,{mimetype:e}),n.addEventListener("error",function(e){t.emitErrorDeprecated(new(r(d[11]).Mp4BufferError)("failed to append source buffer in newSourceBffer()",{inner:e})),t.buffering=!1,t.appendBuffer()}),n.addEventListener("updateend",function(){var e,n,i;t.buffering=!1,t.appendBuffer();var s=t.el;if(null!=s){if(s.buffered.length>0){var o=s.buffered.end(s.buffered.length-1)-s.currentTime;if(0===s.currentTime){if(s.buffered.end(s.buffered.length-1)-s.buffered.start(0)>(null!==(e=t.options.requiredBuffer)&&void 0!==e?e:0)){var a=Math.max(s.buffered.end(s.buffered.length-1)-(null!==(n=t.options.requiredBuffer)&&void 0!==n?n:0),s.buffered.start(0));s.currentTime=a,t.ctx.logger.debug("meow attempting to start",{startTime:a}),t.play()}}else if(o>25){var l=s.currentTime,c=Math.max(s.buffered.end(s.buffered.length-1)-(null!==(i=t.options.requiredBuffer)&&void 0!==i?i:0),s.buffered.start(0));s.currentTime=c,t.ctx.logger.warn("meow buffer max reached, moving to playback head",{max:25,ct:l,nt:c})}}if(t.receivedSegments++,t.receivedSegments>60&&!t.checkSourceBuffers())return t.ctx.logger.error("no buffer after 60 segments"),void t.emit("error",{message:"media-error",fatal:!0,notSupported:!0});var u=[];t.sourceBuffers.forEach(function(e,n){if(null!=e&&"open"===t.readyState)for(var i=0;i<e.buffered.length;i++)u.push({sourceBufferIndex:n,index:i,start:e.buffered.start(i),end:e.buffered.end(i)})}),u.length}}),this.sourceBuffers.push(n)}}else this.sourceBuffers.push(null)}},{key:"setupMSE",value:function(){var e=this;this.ms=new this.device.MediaSource,this.ms.addEventListener("error",function(){e.ctx.logger.error("meow mediasource dom error"),e.emit("error",{message:"media-error",fatal:!0})}),this.ms.addEventListener("abort",function(){e.ctx.logger.error("meow mediasource dom abort"),e.emit("error",{message:"media-error",fatal:!0})}),this.ms.addEventListener("sourceended",function(){e.ctx.logger.debug("meow mediasource source ended")}),this.ms.addEventListener("sourceclose",function(){e.ctx.logger.debug("meow mediasource source closed")}),this.ms.addEventListener("sourceopen",this.onSourceOpen),this.ctx.logger.debug("meow attempting to create media source"),this.mediaSourceTime=this.device.performance.now(),null!=this.el&&(this.videoPlayer instanceof r(d[12]).Mp4WsPlayer?(this.videoPlayer.source=URL.createObjectURL(this.ms),this.el.src=this.videoPlayer.source):this.el.src=URL.createObjectURL(this.ms))}},{key:"onSourceOpen",value:function(){this.ms.removeEventListener("sourceopen",this.onSourceOpen),this.ctx.logger.debug("meow media source opened");var e=this.encoding;if(null!=e)try{if(null!=(null==e?void 0:e.channels)){if(0===e.channels.length)return void this.emit("error",{message:"media-error",fatal:!0,notSupported:!0});for(var t of(this.version=2,e.channels))this.newSourceBuffer(t)}else{this.version=1;var n,i=this.videoPlayer.data.origin;n=null!=this.options.origin&&null!=i&&"aac"!==i.audioCodec||!this.options.origin&&"aac"!==this.videoPlayer.data.audioCodec?"video/mp4; codecs=\"avc1.4d4028\"":"video/mp4; codecs=\"avc1.4d4028, mp4a.40.2\"",this.ctx.logger.debug("meow adding sourcebuffer",{mimetype:n}),this.newSourceBuffer(n)}}catch(e){var s=e instanceof Error?e:null;this.emitErrorDeprecated(new(r(d[11]).MeowDriverError)("meow error in newSourceBuffer(). restarting player",{inner:s})),this.destroy(),this.videoPlayer instanceof r(d[12]).Mp4WsPlayer&&(this.videoPlayer.player=null,this.videoPlayer.restart(!1))}else this.emit("error",{message:"media-error",fatal:!0})}},{key:"setupTransport",value:function(){var e,t,n,i,s,o,a=this,l=(null!==(n=null===(t=null===(e=this.encoding)||void 0===e?void 0:e.channels)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0?null!==(o=null===(s=null===(i=this.encoding)||void 0===i?void 0:i.channels)||void 0===s?void 0:s.length)&&void 0!==o?o:0:1,c=this.videoPlayer.manifest;this.manifest=c,null!=c?(null!=this.transport&&(this.transport.removeAllListeners(),this.transport.destroy()),this.transport=new k((0,r(d[10]).extendContext)(this.ctx,k),c,this.options.backFill,this.options.maxGap,this.options.retry,this.options.mode,this.options.download,this.options.segmentDuration,l),this.transport.on("error",function(){var e;(null===(e=a.transport)||void 0===e?void 0:e.disconnected)?a.emit("error",{message:r(d[13]).ERRORS.WS_NETWORK_ERROR,fatal:!1}):a.emit("error",{message:"websocket-connection",notSupported:!0})}),this.transport.on("destroy",function(){a.emit("error",{message:"websocket-connection",fatal:!0})}),this.transport.on("message",function(e){a.lastMessageReceived=a.device.performance.now(),a.queue.push({type:"append",blob:e.data,time:e.fetchTime}),a.appendBuffer()})):this.emit("error",{message:r(d[13]).ERRORS.INVALID_MEDIA_URL,fatal:!0})}},{key:"switchBitrate",value:function(e){var t;this.ctx.logger.debug("meow switching bitrate to ",{name:e}),null===(t=this.transport)||void 0===t||t.switchBitrate(e)}},{key:"play",value:(a=t(function*(){var e=this;return new Promise(function(t,n){var i=e.el;null!=i?(e.queue=[],null==e.transport&&e.setupTransport(),e.lastMessageReceived=e.device.performance.now(),clearInterval(e.logInterval),e.logInterval=r(d[9]).device.setInterval(function(){var t,n=e.device.performance.now()-(null!==(t=e.lastMessageReceived)&&void 0!==t?t:0);n>2e3&&e.emit("error",{message:"stall",timeSinceLastFrag:n})},1e3),clearInterval(e.gcInterval),e.gcInterval=r(d[9]).device.setInterval(function(){if(null!=(null==i?void 0:i.currentTime))for(var t of e.sourceBuffers)e.queue.push({type:"remove",sb:null!=t?t:void 0,start:0,end:i.currentTime-15})},3e4),e.videoPlayer instanceof r(d[12]).Mp4WsPlayer?(e.ctx.logger.info("meow player play attempted"),e.videoPlayer.corePlay().then(function(){return t()}).catch(function(t){e.ctx.logger.warn("meow player play attempt failed",{errName:t.name,errMessage:t.message}),e.stop(),n()})):i.play().then(t).catch(n)):n(new Error(r(d[13]).ERRORS.ELEMENT_REQUIRED))})}),function(){return a.apply(this,arguments)})},{key:"stop",value:function(){var e,t=this.el;if(null==t)throw new Error(r(d[13]).ERRORS.ELEMENT_REQUIRED);this.ctx.logger.debug("meow player stop"),clearInterval(this.gcInterval),clearInterval(this.logInterval),null===(e=this.transport)||void 0===e||e.removeAllListeners("message"),this.buffering=!1,t.pause(),""!==t.src&&(this.ctx.logger.debug("meow revoking media source url"),URL.revokeObjectURL(t.src),t.src=""),this.emit("stop")}},{key:"destroy",value:function(){var e;this.destroyed=!0,null!=this.transport&&(this.transport.removeAllListeners("destroy"),this.transport.removeAllListeners("message"),this.transport.destroy()),null===(e=this.abrController)||void 0===e||e.destroy(),this.stop()}}]);var a})(r(d[14]).ObservableEventEmitter);_e2.MeowPlayer=v,v.displayName="Mp4WsPlayer";var b=["moof","mfhd"];function y(e,t){return String.fromCharCode(e.getUint8(t))}function w(e,t){return e.byteLength<9||1936419184!==t.getUint32(e.byteLength-5)?1:t.getUint8(e.byteLength-1)}var S=s(function e(){i(this,e),this.lastTime=r(d[9]).device.isImplements(r(d[9]).Feature.DEBUGGING)?r(d[9]).device.performance.now():Date.now(),this.lastSegmentTime=r(d[9]).device.isImplements(r(d[9]).Feature.DEBUGGING)?r(d[9]).device.performance.now():Date.now(),this.lastSegmentDuration=0}),k=(function(e){function t(e,n){var s,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"B",h=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:300,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;if(i(this,t),(s=c(this,t)).downloadedSegments=[],s.introFrag={},s.channelTracker=0,s.channelLatency=[],s.pingInterval=void 0,s.ctx=e,(0,r(d[8]).onceCanceled)(e).then(function(e){return s.dispose(`Transport Class Context Cancelled: ${e}`)}),s.addInnerDisposer(s.destroy),!r(d[9]).device.isImplements(r(d[9]).Feature.DEBUGGING)||!r(d[9]).device.isImplements(r(d[9]).Feature.MEDIA_SOURCE)||!r(d[9]).device.isImplements(r(d[9]).Feature.LOCAL_STORAGE))throw new Error("Device is not supported");s.device=r(d[9]).device,s.uri=n,s.backFill=o,s.maxGap=a,s.retry=l,s.mode=u,s.segmentDuration=f,s.saveToDownload=h,s.introFrag={};var v=`${s.uri}&bckfil=${s.backFill}`;s.ws=new WebSocket(v),r(d[15]).InstanceCollector.reportNewInstance("websocket",s.ws,{file:"player/mp4-ws.ts"}),s.channelLatency=[];for(var b=0;b<p;b++)s.channelLatency.push(new S);return s.ctx.logger.debug("meow ws connecting",{url:v}),s.ws.onopen=function(){s.ctx.logger.debug("meow ws open")},s.ws.onmessage=function(e){var t;if("object"==typeof e.data)return s.emit("message",Object.assign({},e,{data:e.data,fetchTime:s.device.performance.now()-s.lastTime+10,segmentDuration:null!==(t=s.lastSegmentDuration)&&void 0!==t?t:s.segmentDuration})),s.lastSegmentTime=s.device.performance.now(),s.saveToDownload&&s.downloadedSegments.push(e.data),void s.nextChannel();var n=e.data.split(/\s/g),i=parseInt(n[0],10);if(Number.isNaN(i))try{s.introFrag=JSON.parse(e.data)}catch(t){s.ctx.logger.error("unhandled websocket frame - attempted to parse and failed",{event:e.data})}else s.lastTime=s.device.performance.now(),s.lastSegmentDuration=i<2e3&&i>0?i:s.segmentDuration},s.ws.onclose=function(e){s.ctx.logger.debug("meow ws closing",{reason:e.reason,code:e.code}),r(d[15]).InstanceCollector.disposeInstance("websocket",s.ws),s.emit("close",{code:e}),s.emit("destroy")},s.ws.onerror=function(){s.emit("error")},e.logger.attachObject(s),e.logger.trace("constructor()"),s}return l(t,e),s(t,[{key:"lastTime",get:function(){return this.channelLatency[this.channelTracker].lastTime},set:function(e){this.channelLatency[this.channelTracker].lastTime=e}},{key:"lastSegmentTime",get:function(){return this.channelLatency[this.channelTracker].lastSegmentTime},set:function(e){this.channelLatency[this.channelTracker].lastSegmentTime=e}},{key:"lastSegmentDuration",get:function(){return this.channelLatency[this.channelTracker].lastSegmentDuration},set:function(e){this.channelLatency[this.channelTracker].lastSegmentDuration=e}},{key:"disconnected",get:function(){return this.ws.readyState>1}},{key:"nextChannel",value:function(){this.channelTracker++,this.channelLatency.length>=this.channelTracker&&(this.channelTracker=0)}},{key:"download",value:function(){}},{key:"getSegmentInfo",value:function(e){var t=new DataView(e),n=w(e,t),i=0,s=0,o=0,a=e.byteLength,l=0,c=!1;for("ftyp"==`${y(t,4)}${y(t,5)}${y(t,6)}${y(t,7)}`&&(c=!0),s=0;s<a&&o<b.length;)i=t.getUint32(s),y(t,s+4)===b[o].charAt(0)&&y(t,s+5)===b[o].charAt(1)&&y(t,s+6)===b[o].charAt(2)&&y(t,s+7)===b[o].charAt(3)?(a=s+i,o++,s+=8):s+=i;return o===b.length&&(l=t.getUint32(s+4)),{contentTag:n,segment:l,init:c}}},{key:"switchBitrate",value:function(e){this.ws.send(`switch_stream?name=${e}&mode=${this.mode}&bckfil=${this.backFill}&retry=${this.retry}&mxgap=${this.maxGap}`)}},{key:"destroy",value:function(){this.ctx.logger.info("meow transport destroy"),this.downloadedSegments=[],clearInterval(this.pingInterval),null!=this.ws&&(this.ctx.logger.info("meow ws close"),this.ws.onerror=null,this.ws.close(),r(d[15]).InstanceCollector.disposeInstance("websocket",this.ws),this.dispose("Transport was destroyed"))}},{key:"toJSON",value:function(){return{uri:this.uri,disconnected:this.disconnected,retry:this.retry,aggregates:{support:this.ctx.support.hash,wsReadyState:this.ws.readyState}}}}])})(r(d[14]).ObservableEventEmitter);k.displayName="Mp4WsTransport";var E={stable:{key:"stable",bwModifier:function(e){return Math.min(e,e-(.01*e+Math.log(e*e)/Math.log(2)))},resistUpshift:function(e,t){return 2.5*t+Math.log(2*t)**3.2>2*e},resistDownshift:function(e,t){return 2*e+Math.log(2*e)**3.2>2*t}},normal:{key:"normal",bwModifier:function(e){return Math.min(e,e-(.06*e+Math.log(e*e)/Math.log(2)))},resistUpshift:function(e,t){return 2.5*t+Math.log(2*t)**3.4>2*e},resistDownshift:function(e,t){return 2*e+Math.log(2*e)**3.4>2*t}},uncertain:{key:"uncertain",bwModifier:function(e){return Math.min(e,e-(.3*e+Math.log(e*e)/Math.log(2)))},resistUpshift:function(e,t){return 2.5*t+Math.log(2*t)**3.6>2*e},resistDownshift:function(e,t){return 2*e+Math.log(2*e)**3.4>2*t}},sporadic:{key:"sporadic",bwModifier:function(e){return Math.min(e,e-(.5*e+Math.log(e*e)/Math.log(2)))},resistUpshift:function(e,t){return 2.5*t+Math.log(2*t)**4>2*e},resistDownshift:function(e,t){return 2*e+Math.log(2*e)**3.4>2*t}}},M=(function(t){function n(e,t,s,o,a,l,u){var h,f,p,v;if(i(this,n),(h=c(this,n)).switchThreshold=8e3,h.count=0,h.dropCount=0,h.totalShifts=0,h.rawKbps=[],h.recentKbps=[],h.sampleBws=[],h.selectedEncoding=null,h.emergencyModifier=1,h.releaseEmergencyTimeout=void 0,h.profileInterval=void 0,h.trackRecentKbpsInterval=void 0,h.estimatedKbpsInterval=void 0,h.destroyed=!1,h.spinTimeout=void 0,h.ctx=e,(0,r(d[8]).onceCanceled)(e).then(function(e){return h.dispose(`AbrController Class Context Cancelled: ${e}`)}),h.addInnerDisposer(h.destroy),!r(d[9]).device.isImplements(r(d[9]).Feature.DEBUGGING)||!r(d[9]).device.isImplements(r(d[9]).Feature.MEDIA_SOURCE)||!r(d[9]).device.isImplements(r(d[9]).Feature.LOCAL_STORAGE))throw new Error("Device is not supported");return h.logger=new(r(d[16]).LoggerCore)(r(d[17]).PACKAGE_NAME).extend(e.logger),h.device=r(d[9]).device,h.options=u,h.player=t,h.driver=s,h.switchImmediately=a,h.profile=null!==(f=E[o])&&void 0!==f?f:E.normal,h.maxShifts=null!=l?l:1/0,h.currentKbps=null!==(p=h.options.bitrate)&&void 0!==p?p:Math.max(null!==(v=h.options.estimatedKbps)&&void 0!==v?v:0,244),h.lastMessageTime=h.device.performance.now(),h.lastSwitch=-8e3,h.init(),h}return l(n,t),s(n,[{key:"init",value:function(){var e=this;this.player.on("fragment",this.onMessage),this.profileInterval=r(d[9]).device.setInterval(this.profileStream.bind(this),1e4),this.trackRecentKbpsInterval=r(d[9]).device.setInterval(function(){for(var t=0,n=0;n<e.rawKbps.length;n++)t+=e.rawKbps[n];var i=t/e.rawKbps.length;e.rawKbps=[],e.recentKbps.unshift(i),e.recentKbps.splice(120)},1e3),this.estimatedKbpsInterval=r(d[9]).device.setInterval(function(){e.emit("profile",{estimatedKbps:e.currentKbps,profile:e.profile}),null!=e.selectedEncoding?e.logger.debug("meow abr estimated",{KBPS:e.currentKbps,modifier:e.emergencyModifier,lastSwitch:e.lastSwitch,shiftable:e.shiftable,profile:e.profile.key,encoding:e.selectedEncoding}):e.logger.debug("meow abr estimated",{KBPS:e.currentKbps,modifier:e.emergencyModifier,lastSwitch:e.lastSwitch,shiftable:e.shiftable,profile:e.profile.key})},4e3)}},{key:"shiftable",get:function(){return this.totalShifts<this.maxShifts&&this.sampleBws.length>25&&this.device.performance.now()-this.lastSwitch>this.switchThreshold}},{key:"handleEmergencyDrop",value:function(e,t){var n=this;this.dropCount++,this.dropCount<2||(this.dropCount=0,this.emergencyModifier=e,this.sampleBws.splice(t),r(d[9]).device.clearTimeout(this.releaseEmergencyTimeout),r(d[9]).device.setTimeout(function(){n.emergencyModifier=1},900))}},{key:"profileStream",value:function(){var t=[];t.push.apply(t,e(this.recentKbps)),t.sort(function(e,t){return e>t?1:-1});var n=Math.floor(t.length/4),i=(t[2*n]-t[n])/t[2*n]+(t[3*n]-t[2*n])/t[3*n];this.profile=i>1?E.sporadic:i>.65?E.uncertain:i>.3?E.normal:E.stable}},{key:"onMessage",value:function(e){if(!this.destroyed){this.lastMessageTime=this.device.performance.now(),e.time>2.5*e.duration?(this.dropCount++,this.handleEmergencyDrop(.6,72)):e.time>2.25*e.duration?this.handleEmergencyDrop(.7,Math.max(24,Math.floor(150))):e.time>2*e.duration?this.handleEmergencyDrop(.8,Math.max(24,Math.floor(210))):e.time>1.75*e.duration?this.handleEmergencyDrop(.9,Math.max(24,Math.floor(240))):this.dropCount=0;var t=this.profile.bwModifier(8*e.size)*this.emergencyModifier/e.time;this.rawKbps.push(8*e.size/e.time),e.time<2&&(e.time=2),e.size<2e3?this.count>0&&(this.count=Math.floor(0)):(this.count++,!Number.isNaN(t)&&this.count>0&&t<4e5&&(this.sampleBws.unshift(t),this.sampleBws.splice(300),this.currentKbps=this.calculateCurrentKbps()),this.shiftable&&this.shiftIfNecessary())}}},{key:"shiftIfNecessary",value:function(){var e,t,n,i,s,o,a,l,c,u,h,f;if(this.driver instanceof r(d[12]).Mp4WsPlayer&&null!=this.driver.currentLevel&&!r(d[9]).device.isSafari){for(var p=this.driver.activeLayer,v=this.driver.data.encodings.filter(function(e){var t,n,i;return null==p||(null!==(t=e.videoKbps)&&void 0!==t?t:0)+(null!==(n=e.audioKbps)&&void 0!==n?n:0)<(null!==(i=p.bitrate)&&void 0!==i?i:0)+1e-4}),b=v[this.driver.currentLevel],y=v[0],w=0,S=0;S<v.length&&(null!==(e=v[S].videoKbps)&&void 0!==e?e:0)+(null!==(t=v[S].audioKbps)&&void 0!==t?t:0)<this.currentKbps;S++)y=v[S],w=S;if(this.switchImmediately)return this.switchBitrate(y),this.switchImmediately=!1,void this.logger.debug("meowpick first adaptive encoding",{suggestedEncoding:y});if(null!=b&&b.videoKbps!==y.videoKbps){if(y.kbps=(null!==(n=y.videoKbps)&&void 0!==n?n:0)+(null!==(i=y.audioKbps)&&void 0!==i?i:0),b.kbps=(null!==(s=b.videoKbps)&&void 0!==s?s:0)+(null!==(o=b.audioKbps)&&void 0!==o?o:0),y.kbps>b.kbps){for(;this.profile.resistUpshift(this.currentKbps,null!==(a=y.kbps)&&void 0!==a?a:0)&&(null!==(l=y.kbps)&&void 0!==l?l:0)>b.kbps;)if(null==(y=v[--w])||(null!==(c=y.kbps)&&void 0!==c?c:0)<b.kbps)return;this.emit("upshift")}else{for(;this.profile.resistDownshift(this.currentKbps,null!==(u=y.kbps)&&void 0!==u?u:0)&&(null!==(h=y.kbps)&&void 0!==h?h:0)<b.kbps;)if(null==(y=v[++w])||(null!==(f=y.kbps)&&void 0!==f?f:0)>b.kbps)return;this.emit("downshift")}b.videoKbps!==y.videoKbps&&(this.logger.debug("meow switching bitrate",{currentEncoding:b,suggestedEncoding:b,currentKbps:this.currentKbps}),this.lastSwitch=this.device.performance.now(),this.selectedEncoding=y,this.switchBitrate(y),this.totalShifts++)}}}},{key:"switchBitrate",value:function(e){this.driver instanceof r(d[12]).Mp4WsPlayer&&(this.emit("meow profile",{estimatedKbps:this.currentKbps,profile:this.profile}),this.driver.setEncoding(e))}},{key:"calculateCurrentKbps",value:function(){for(var e=0,t=0;t<this.sampleBws.length;t++)e+=this.sampleBws[t];return e/this.sampleBws.length}},{key:"destroy",value:function(){var e;r(d[9]).device.clearTimeout(this.spinTimeout),r(d[9]).device.clearTimeout(this.releaseEmergencyTimeout),clearInterval(this.estimatedKbpsInterval),this.destroyed=!0,null===(e=this.player)||void 0===e||e.removeListener("fragment",this.onMessage)}}])})(r(d[14]).ObservableEventEmitter);M.displayName="AbrController"},851,[6,345,38,12,13,23,25,28,550,502,819,543,852,809,528,853,507,605]);
__d(function(g,_r,_i,_a2,m,_e2,_d2){"use strict";var e=_r(_d2[0]),t=_r(_d2[1]),i=_r(_d2[2]),r=_r(_d2[3]),n=_r(_d2[4]),o=_r(_d2[5]),a=_r(_d2[6]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function s(e,t,i,r){var a=o(n(1&r?e.prototype:e),t,i);return 2&r&&"function"==typeof a?function(e){return a.apply(i,e)}:a}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.Mp4WsPlayer=void 0;var u=["A","B","N"],c=0,d=(function(o){function d(e,i,o){var a,s,c,h,p;if(t(this,d),c=this,p=[e,i,o],h=n(h=d),(a=r(c,l()?Reflect.construct(h,p||[],n(c).constructor):h.apply(c,p))).data={encodings:[],audioCodec:"",videoCodec:""},a.player=null,a.sessionKey=(0,_r(_d2[7]).uuidv4)(),a.origin=null,a.currentManifest=null,a.seekingOverHole=!1,a.activeEncoding=null,a.estimatedKbps=null,a.playbackLock=!1,a.nudgeInterval=void 0,a.nudgeTime=null,a.lastBufferEnd=null,a.fragFetchTime=0,!_r(_d2[8]).device.isImplements(_r(_d2[8]).Feature.DEBUGGING)||!_r(_d2[8]).device.isImplements(_r(_d2[8]).Feature.MEDIA_DEVICE))throw new Error("Device is not supported");(0,_r(_d2[9]).onceCanceled)(a.ctx).then(function(e){return a.dispose(`Mp4Ws Player Context Cancelled: ${e}`)}),a.addInnerDisposer(a.stop),a.device=_r(_d2[8]).device;var v=a.options;return(null==v.backFill||Number.isNaN(v.backFill)||v.backFill<0||v.backFill>10)&&(v.backFill=2),(null==v.maxGap||Number.isNaN(v.maxGap)||v.maxGap<0||v.maxGap>1e4)&&(v.maxGap=500),(null==v.retry||Number.isNaN(v.retry)||v.retry<0||v.retry>30)&&(v.retry=20),(null==v.requiredBuffer||Number.isNaN(v.requiredBuffer)||v.requiredBuffer<0||v.requiredBuffer>10)&&(v.requiredBuffer=1),(_r(_d2[8]).device.isEdge||_r(_d2[8]).device.isIE)&&(v.backFill=Math.max(v.backFill,4),v.requiredBuffer=Math.max(v.requiredBuffer,3)),(null==v.initFailTimeout||Number.isNaN(v.initFailTimeout)||v.initFailTimeout<0)&&(v.initFailTimeout=3e4),(null==v.playbackFailTimeout||Number.isNaN(v.playbackFailTimeout)||v.playbackFailTimeout<0)&&(v.playbackFailTimeout=6e4),null!=v.mode&&u.includes(v.mode)||(v.mode="B"),v.requiredBufferBeforeRemove=v.requiredBuffer,v.skipWatchInterval=Math.floor(400*v.requiredBuffer),v.skipForwardThreshold=25,Number.isNaN(null!==(s=v.maxShifts)&&void 0!==s?s:NaN)&&(v.maxShifts=1/0),a.mse=a.options,a.logger.debug("meow constructor",{mse:v,meowMse:a.mse}),a.on("currentQuality",function(e){var t;a.setQuality(e),null===(t=a.player)||void 0===t||t.setupTransport()}),(0,_r(_d2[10]).autorun)(function(e){var t=a.elementSupervisor,i=a.provider.source;null!=t&&null!=i&&(e.dispose(),a.handleSource(i),a.initSource(t))}),a}return a(d,o),i(d,[{key:"format",get:function(){return d.format}},{key:"currentLevel",get:function(){var e,t,i,r,n;return null!=this.options.bitrate?this.getLevelForBitrate(this.options.bitrate):null==this.activeEncoding?this.getLevelForBitrate(null!==(e=this.options.estimatedKbps)&&void 0!==e?e:0):this.getLevelForBitrate((null!==(i=null===(t=this.activeEncoding)||void 0===t?void 0:t.videoKbps)&&void 0!==i?i:0)+(null!==(n=null===(r=this.activeEncoding)||void 0===r?void 0:r.audioKbps)&&void 0!==n?n:0))}},{key:"originLocation",get:function(){var e=this.origin;return null==e?null:this.addSessionKey(e.location)}},{key:"manifest",get:function(){var e,t,i;if(this.options.origin){if(null==(i=this.originLocation))return this.options.origin=!1,this.manifest}else{if(0===this.data.encodings.length){var r=this.originLocation;return null!=r&&(this.options.origin=!0),r}var n=this.pickEncoding(null!==(t=null!==(e=this.options.bitrate)&&void 0!==e?e:this.estimatedKbps)&&void 0!==t?t:this.options.estimatedKbps);if(null==n)return null;i=n.location}return null==i?null:this.addSessionKey(i)}},{key:"location",get:function(){return null==this.player?null:this.player.manifest},set:function(e){}},{key:"implementedFeatures",get:function(){return[_r(_d2[11]).Feature.BITRATE_SWITCHING,_r(_d2[11]).Feature.MUTED_AUTOPLAY]}},{key:"isSupported",value:(f=e(function*(){return d.isSupported()}),function(){return f.apply(this,arguments)})},{key:"handleElTimeupdate",value:function(){var e;s(d,"handleElTimeupdate",this,3)([]);var t=this.elementSupervisor,i=null===(e=this.elementSupervisor)||void 0===e?void 0:e.buffered;null!=t&&null!=i&&0!==i.length&&(i.end(i.length-1)-t.currentTime>this.mse.requiredBuffer?_r(_d2[8]).device.isSafari?t.playbackRate=1.01:t.playbackRate=1.05:t.playbackRate=1)}},{key:"handleElError",value:function(){var e,t,i;s(d,"handleElError",this,3)([]);var r=null===(t=null===(e=this.elementSupervisor)||void 0===e?void 0:e.error)||void 0===t?void 0:t.code;if(null!=r)switch(r){case 1:this.emitErrorDeprecated(new(_r(_d2[12]).MediaError)("MEDIA_ERR_ABORTED",{critical:!0,eventTargetCode:r}));break;case 2:this.emitErrorDeprecated(new(_r(_d2[12]).MediaError)("MEDIA_ERR_NETWORK",{critical:!0,eventTargetCode:r}));break;case 3:this.emitErrorDeprecated(new(_r(_d2[12]).DriverNotSupportedError)("MEDIA_ERR_DECODE",{critical:!0,eventTargetCode:r}));break;case 4:this.emitErrorDeprecated(new(_r(_d2[12]).DriverNotSupportedError)("MEDIA_ERR_SRC_NOT_SUPPORTED",{critical:!0,eventTargetCode:r}));break;default:(null===(i=this.elementSupervisor)||void 0===i?void 0:i.isSourceSet())||this.ctx.logger.error("meow unknown element error",{manifest:this.manifest}),this.localVideoPaused||this.isDisposed||this.restart(!1)}}},{key:"handleElPause",value:function(){s(d,"handleElPause",this,3)([]),"offline"===this.provider.currentState&&this.stop()}},{key:"getLevelForBitrate",value:function(e){var t,i,r,n=this.data.encodings;if(0===n.length)return null;for(r=0;r<n.length;r++){var o=n[r];if(null!=o&&null!=o.videoWidth&&(null!==(t=n[r].videoKbps)&&void 0!==t?t:0)+(null!==(i=n[r].audioKbps)&&void 0!==i?i:0)>e)break}return r=Math.max(r-1,0)}},{key:"pickEncoding",value:function(e){var t,i=null!=e?e:this.options.bitrate,r=this.data.encodings;if(0===r.length)return null;if(null==i)return r[0];r=r.sort(function(e,t){var i,r,n,o;return(null!==(i=e.audioKbps)&&void 0!==i?i:0)+(null!==(r=e.videoKbps)&&void 0!==r?r:0)<(null!==(n=t.audioKbps)&&void 0!==n?n:0)+(null!==(o=t.videoKbps)&&void 0!==o?o:0)?1:-1});var n=r.find(function(e){var t,r;return(null!==(t=e.audioKbps)&&void 0!==t?t:0)+(null!==(r=e.videoKbps)&&void 0!==r?r:0)<=i});return null!=n?n:r[null!==(t=this.currentLevel)&&void 0!==t?t:0]}},{key:"setQuality",value:function(e){null!=(null==e?void 0:e.encoding)?this.setEncoding(e.encoding):this.ctx.logger.warn("encoding not found",{qty:e})}},{key:"setEncoding",value:function(e){var t,i,r,n,o,a=this;if(null!=e&&((null===(t=this.activeEncoding)||void 0===t?void 0:t.videoKbps)!==e.videoKbps||(null===(i=this.activeEncoding)||void 0===i?void 0:i.audioKbps)!==e.audioKbps))if(this.activeEncoding=e,this.estimatedKbps=(null!==(r=e.videoKbps)&&void 0!==r?r:0)+(null!==(n=e.audioKbps)&&void 0!==n?n:0),(0,_r(_d2[13]).safariLessThan14)(_r(_d2[8]).device)){this.stop();try{this.play().then(function(){a.emit("bitrate-switch")})}catch(e){var l=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(_d2[12]).PlayingIssueError)("play failed after setEncoding()",{inner:l,player:this}))}}else{var s=e.location.split("/");null===(o=this.player)||void 0===o||o.switchBitrate(s[s.length-1]),this.emit("bitrate-switch")}}},{key:"switchBitrate",value:function(e){var t=this;this.ctx.logger.debug("meow switch bitrate",{bitrate:e}),this.options.origin=!1,this.options.bitrate=e,this.emit("bitrate-switch"),this.stop();try{this.play().then(function(){t.emit("bitrate-switch")})}catch(e){var i=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(_d2[12]).PlayingIssueError)("play failed after switchBitrate()",{inner:i,player:this}))}}},{key:"addSessionKey",value:function(e){if(e.includes("sid"))return e;c++;var t=e.includes("?")?"&":"?";return`${e}${t}sid=${this.sessionKey}&c=${c}`}},{key:"pause",value:function(){this.stop()}},{key:"stop",value:function(){var e=this;this.playbackLock=!1,clearInterval(this.nudgeInterval),null!=this.player&&this.player.once("disposed",function(){e.player=null})}},{key:"corePlay",value:(v=e(function*(){return s(d,"play",this,3)([!0])}),function(){return v.apply(this,arguments)})},{key:"play",value:(p=e(function*(){var e=this,t=this.elementSupervisor;if(null==t)throw new Error(_r(_d2[14]).ERRORS.ELEMENT_REQUIRED);return this.playbackLock?!t.paused:(this.playbackLock=!0,this.options.autoPlay&&this.localVideoPaused&&setTimeout(function(){e.localVideoPaused=!1}),null!=this.player?this.player.play().then(function(){return!t.paused}):(this.ctx.logger.debug("meow driver play received"),!this.localVideoPaused))}),function(){return p.apply(this,arguments)})},{key:"handleSource",value:function(e){this.ctx.logger.debug("mp4-ws: handleSource()");var t=null==e?void 0:e.formats["mp4-ws"];null!=t?0===this.data.encodings.length&&(this.data=t):this.emitErrorDeprecated(new(_r(_d2[12]).DriverNotSupportedError)("manifest doesn't contains 'mp4-hls' format",{manifest:e}))}},{key:"initSource",value:function(e){var t=this;if(null==this.player){clearInterval(this.nudgeInterval),this.nudgeTime=null;var i=0;this.nudgeInterval=_r(_d2[8]).device.setInterval(function(){if(!t.localVideoPaused&&0!==e.currentTime){if(null!=t.nudgeTime&&e.currentTime===t.nudgeTime&&(null==t.lastBufferEnd||e.currentTime<t.lastBufferEnd)){t.ctx.logger.debug("meow playback halted, nudging"),i++,e.currentTime+=.1;var r=t.corePlay();null!=r.then&&r.catch(function(){})}else i=0,t.nudgeTime=e.currentTime;i>29&&(clearInterval(t.nudgeInterval),t.ctx.logger.debug("meow too many halt nudges, restart"),t.restart(!1))}},500);var r=this.provider.source;if(null!=r&&setTimeout(function(){var e;null===(e=t.provider)||void 0===e||e.emit("source",r)}),this.ctx.logger.debug("meow manifest verified, player created"),null==this.elementSupervisor)throw new Error(_r(_d2[14]).ERRORS.ELEMENT_REQUIRED);if(this.player=new(_r(_d2[15]).MeowPlayer)(this.ctx,this,this.options,Reflect.get(this.elementSupervisor,"element")),this.counters.upshift=0,this.counters.downshift=0,this.counters.currentErrorCount=0,this.counters.fragCounts=0,this.counters.fragSize=0,this.counters.fragFetchTime=0,this.counters.fragMaxTime=0,this.counters.fragMinTime=0,this.player.on("stop",function(){t.stop()}),this.player.on("no-audio",function(){t.emit("no-audio")}),this.player.on("upshift",function(){t.counters.upshift++}),this.player.on("downshift",function(){t.counters.downshift++}),this.player.on("fragment",function(e){var i;t.counters.fragCounts++,t.counters.fragSize+=e.size,t.counters.fragFetchTime+=e.time,t.counters.fragMaxTime=Math.max(t.counters.fragMaxTime,e.time),t.counters.fragMinTime=Math.min(null!==(i=t.counters.fragMinTime)&&void 0!==i?i:e.time,e.time)}),this.player.on("error",function(e){t.counters.currentErrorCount++,e.notSupported?t.emitErrorDeprecated(new(_r(_d2[12]).DriverNotSupportedError)("player error",{data:{fatal:e.fatal,message:e.message,notSupported:e.notSupported,err:(0,_r(_d2[12]).wrapNativeError)(e.err)}})):e.fatal&&(t.ctx.logger.debug("meow player fatal error, restarting"),t.restart(!1))}),this.device.hidden)this.device.addEventListener("visibilitychange",function(){var e;try{null===(e=t.player)||void 0===e||e.play()}catch(e){var i=e instanceof Error?e:null;t.emitErrorDeprecated(new(_r(_d2[12]).PlayingIssueError)("play failed after visibilitychange event triggered",{inner:i,player:t}))}});else try{this.pausedOnUnmount||this.player.play()}catch(e){var n=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(_d2[12]).PlayingIssueError)("play failed",{inner:n,player:this}))}}}}],[{key:"format",get:function(){return"mp4-ws"}},{key:"isSupported",value:(h=e(function*(e){return(0,_r(_d2[16]).supportsMp4)(e)}),function(e){return h.apply(this,arguments)})}]);var h,p,v,f})(_r(_d2[17]).CorePlayer);_e2.Mp4WsPlayer=d,d.displayName="Mp4WsPlayer"},852,[345,12,13,23,25,26,28,498,502,550,526,493,543,551,809,851,615,816]);
__d(function(g,r,i,a,m,_e,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),s=r(d[3]),o=r(d[4]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e,"__esModule",{value:!0}),_e.InstanceCollector=void 0;var l=(function(l){function u(t){var o,l,v,f;for(var p of(e(this,u),l=this,v=s(v=u),(o=n(l,c()?Reflect.construct(v,f||[],s(l).constructor):v.apply(l,f))).options=t,o.objects=new Map,o.metas=new WeakMap,o.isDisposed=!1,u.instances.add(o),t.classes))o.objects.set(p,new Set);return o}return o(u,l),t(u,[{key:"doesCollect",value:function(e){return this.options.classes.includes(e)}},{key:"insertObject",value:function(e,t,n){var s=this;this.objects.get(e).add(t),null!=n&&this.metas.set(t,n),t instanceof r(d[5]).EventEmitter&&t.once("disposed",function(){return s.objects.get(e).delete(t)})}},{key:"removeObject",value:function(e,t){var n;null===(n=this.objects.get(e))||void 0===n||n.delete(t),this.metas.delete(t)}},{key:"getObjects",value:function(e){var t=this;return this.objects.has(e)?Array.from(this.objects.get(e).values()).map(function(e){var n;return[e,null!==(n=t.metas.get(e))&&void 0!==n?n:{}]}):[]}},{key:"dispose",value:function(e){this.isDisposed=!0,u.instances.delete(this),this.emit("disposed")}}],[{key:"reportNewInstance",value:function(e,t,n){for(var s of u.instances.values())s.doesCollect(e)&&s.insertObject(e,t,n)}},{key:"disposeInstance",value:function(e,t){for(var n of u.instances.values())n.removeObject(e,t)}}])})(r(d[5]).EventEmitter);_e.InstanceCollector=l,l.instances=new Set,"object"==typeof g&&null!=g&&(g._VDC_InstanceCollector=l)},853,[12,13,23,25,28,523]);
__d(function(_g,r,i,a,m,e,d){"use strict";var t=r(d[0]);function s(s,o){var n=(0,r(d[2]).findDriver)(r(d[3]).NativeHlsDriver,o.options.drivers),p=t(n,2),u=p[0];p[1];return-1!==u?r(d[4]).Result.ignore():(0,e.NotRequested)(Object.assign({},s.nativeHls,{priority:u}))}function o(t,s){var o=(0,r(d[2]).checkDriverSupport)(r(d[3]).NativeHlsDriver,s.host,t.manifest.json);return"hmp"===o?(0,e.Prepared)(Object.assign({},t.nativeHls,{support:o})):(0,e.NotSupported)(Object.assign({},t.nativeHls,{support:o}))}function n(t,s){var o=(0,r(d[2]).checkDriverSupport)(r(d[3]).NativeHlsDriver,t.host.element,s.manifest);return"hmp"===o?(0,e.Prepared)(Object.assign({},t.nativeHls,{support:o})):(0,e.NotSupported)(Object.assign({},t.nativeHls,{support:o}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Failed=e.InUse=e.Stopped=e.Prepared=e.NotSupported=e.NotRequested=e.NativeHlsGroup=void 0,e.NativeHlsGroup=r(d[1]).PlayerStateFlow.registerGroup("nativeHls").bootstrap(function(){return(0,e.NotRequested)({driverFormat:"mp4-hls",priority:-1,support:"",timeout:0,features:{sourceQuality:!1,forcedQuality:!0,autoBitrate:!0}})}),e.NotRequested=e.NativeHlsGroup.registerState("NotRequested",{optionsApply:function(s,o){var n=(0,r(d[2]).findDriver)(r(d[3]).NativeHlsDriver,o.options.drivers),p=t(n,2),u=p[0],v=p[1];if(-1===u)return r(d[4]).Result.ignore();var l=(0,r(d[2]).checkDriverSupport)(r(d[3]).NativeHlsDriver,s.host.element,s.manifest.json);return"hmp"===l?(0,e.Prepared)(Object.assign({},s.nativeHls,{priority:u,support:l,timeout:v.timeout})):(0,e.NotSupported)(Object.assign({},s.nativeHls,{priority:u,support:l}))}}),e.NotSupported=e.NativeHlsGroup.registerState("NotSupported",{optionsApply:s,manifestUpdate:n,hostElementAttach:o}),e.Prepared=e.NativeHlsGroup.registerState("Prepared",{optionsApply:s,manifestUpdate:n,hostElementAttach:o,driverSwitch:function(t,s){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:s.driver===e.NativeHlsGroup.name?(0,e.InUse)(t.nativeHls):t.nativeHls}}),e.Stopped=e.NativeHlsGroup.registerState("Stopped",{optionsApply:s,hostElementAttach:o,driverSwitch:function(t,s){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:s.driver===e.NativeHlsGroup.name?(0,e.InUse)(t.nativeHls):t.nativeHls}}),e.InUse=e.NativeHlsGroup.registerState("InUse",{optionsApply:function(){return r(d[4]).Result.reject("driver is in use")},hostElementDetach:function(){return r(d[4]).Result.reject("host element is in use of NativeHlsDriver")},driverSwitch:function(t,s){var o=(0,r(d[2]).checkDriverSwitchRestrictions)(t);return o.kind===r(d[4]).ResultKind.Rejected?o:s.driver===e.NativeHlsGroup.name?t.nativeHls:(0,e.Stopped)(t.nativeHls)}}),e.Failed=e.NativeHlsGroup.registerState("Failed",{optionsApply:s})},854,[38,829,844,855,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),o=r(d[2]);Object.defineProperty(e,"__esModule",{value:!0}),e.NativeHlsDriver=void 0;var l=r(d[3]).__importStar(r(d[4])),u=r(d[3]).__importStar(r(d[5])),s=r(d[3]).__importStar(r(d[6]));function v(t){var n=function(n,o){return s.InUse.is(o.nativeHls)?t(n,o):r(d[7]).Result.ignore()};return Reflect.defineProperty(n,"name",{configurable:!0,value:t.name}),n}var c=(function(){return o(function t(o){n(this,t),this.ctx=o,this.encodingSelector=new(r(d[8]).HighestBitrateSelector),this.availableEncodings=[],(0,r(d[9]).makeBounded)(this)},[{key:"initStateFlow",value:function(t){t.handleEnter(s.Prepared,this.prepare),t.handleEnter(s.InUse,this.activate),t.handleExit(s.InUse,this.deactivate),t.handleEnter(u.Playing,v(r(d[10]).startPlayingVideoElement)),t.handleExit(u.Playing,v(r(d[10]).stopPlayingVideoElement)),t.handleEnter(l.UnMuted,v(r(d[10]).unmuteVideoElement)),t.handleChanges(l.UnMuted,v(r(d[10]).changeVolumeVideoElement)),t.handleExit(l.UnMuted,v(r(d[10]).muteVideoElement))}},{key:"prepare",value:function(t){return r(d[7]).Result.ok()}},{key:"activate",value:function(t){var n=t.host,o=t.manifest,l=(0,r(d[10]).getVideoElement)(n.element);if(null==o.json)throw Error("manifest is null");var u=o.json.formats["mp4-hls"],s=this.encodingSelector.select((0,r(d[11]).parseEncodings)(u));if(null==(null==s?void 0:s.location)||""===s.location)throw new(r(d[12]).DriverNotSupportedError)("invalid encoding",{});return(0,r(d[10]).updateSource)(l,s.location),r(d[7]).Result.ok()}},{key:"deactivate",value:function(t){var n=t.host;return(0,r(d[10]).getVideoElement)(n.element).src="",r(d[7]).Result.ok()}},{key:Symbol.dispose,value:(c=t(function*(){}),function(){return c.apply(this,arguments)})}],[{key:"isManifestSupported",value:function(t){return null!=(null==t?void 0:t.formats["mp4-hls"])}},{key:"isHostSupported",value:function(t){return(0,r(d[10]).isVideoElement)(t)}},{key:"isPlatformSupported",value:function(){return(0,r(d[13]).supportsNativeHls)()}}]);var c})();e.NativeHlsDriver=c,c.displayName="NativeHlsDriver",c.driverName="native-hls",(0,r(d[14]).registerVideoDrivers)(c)},855,[345,12,13,487,828,830,854,675,835,529,841,846,543,615,838]);
__d(function(_g,r,i,a,m,e,d){"use strict";var t=r(d[0]);function o(o,p){var s=(0,r(d[3]).findDriver)(r(d[4]).WebRtcDriver,p.options.drivers),n=t(s,2),c=n[0];n[1];return-1!==c?r(d[5]).Result.ignore():(0,e.NotRequested)(Object.assign({},o.webRtc,{priority:c}))}function p(t,o){var p=(0,r(d[3]).checkDriverSupport)(r(d[4]).WebRtcDriver,o.host,t.manifest.json);return"hmp"===p?(0,e.Prepared)(Object.assign({},t.webRtc,{support:p})):(0,e.NotSupported)(Object.assign({},t.webRtc,{support:p}))}function s(t,o){var p=(0,r(d[3]).checkDriverSupport)(r(d[4]).WebRtcDriver,t.host.element,o.manifest);return"hmp"===p?(0,e.Prepared)(Object.assign({},t.webRtc,{support:p})):(0,e.NotSupported)(Object.assign({},t.webRtc,{support:p}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Failed=e.InUse=e.Stopped=e.Prepared=e.NotSupported=e.NotRequested=e.WebRtcGroup=void 0,e.WebRtcGroup=r(d[1]).PlayerStateFlow.registerGroup("webRtc").bootstrap(function(){return(0,e.NotRequested)({driverFormat:"webrtc",priority:-1,support:"",timeout:0,options:r(d[2]).WebrtcDriverOptions.parse({id:"webrtc"}),features:{sourceQuality:!0,forcedQuality:!1,autoBitrate:!0}})}),e.NotRequested=e.WebRtcGroup.registerState("NotRequested",{optionsApply:function(o,p){var s=(0,r(d[3]).findDriver)(r(d[4]).WebRtcDriver,p.options.drivers),n=t(s,2),c=n[0],u=n[1];if(-1===c)return r(d[5]).Result.ignore();var R=(0,r(d[3]).checkDriverSupport)(r(d[4]).WebRtcDriver,o.host.element,o.manifest.json);return"hmp"===R?(0,e.Prepared)(Object.assign({},o.webRtc,{priority:c,support:R,options:u,timeout:u.timeout})):(0,e.NotSupported)(Object.assign({},o.webRtc,{priority:c,support:R,options:u}))}}),e.NotSupported=e.WebRtcGroup.registerState("NotSupported",{optionsApply:o,manifestUpdate:s,hostElementAttach:p}),e.Prepared=e.WebRtcGroup.registerState("Prepared",{optionsApply:o,manifestUpdate:s,hostElementAttach:p,driverSwitch:function(t,o){var p=(0,r(d[3]).checkDriverSwitchRestrictions)(t);return p.kind===r(d[5]).ResultKind.Rejected?p:o.driver===e.WebRtcGroup.name?(0,e.InUse)(t.webRtc):t.webRtc}}),e.Stopped=e.WebRtcGroup.registerState("Stopped",{optionsApply:o,hostElementAttach:p,driverSwitch:function(t,o){var p=(0,r(d[3]).checkDriverSwitchRestrictions)(t);return p.kind===r(d[5]).ResultKind.Rejected?p:o.driver===e.WebRtcGroup.name?(0,e.InUse)(t.webRtc):t.webRtc}}),e.InUse=e.WebRtcGroup.registerState("InUse",{optionsApply:function(){return r(d[5]).Result.reject("driver is in use")},hostElementDetach:function(){return r(d[5]).Result.reject("host element is in use of WebRtc")},driverSwitch:function(t,o){var p=(0,r(d[3]).checkDriverSwitchRestrictions)(t);return p.kind===r(d[5]).ResultKind.Rejected?p:o.driver===e.WebRtcGroup.name?t.webRtc:(0,e.Stopped)(t.webRtc)}}),e.Failed=e.WebRtcGroup.registerState("Failed",{optionsApply:o})},856,[38,829,833,844,857,675]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n=r(d[1]),o=r(d[2]);Object.defineProperty(e,"__esModule",{value:!0}),e.WebRtcDriver=void 0;var u=r(d[3]).__importStar(r(d[4])),l=r(d[3]).__importStar(r(d[5])),s=r(d[3]).__importStar(r(d[6])),c=(r(d[7]).optionsCommonSchema.extend({id:r(d[8]).z.literal("webrtc")}).readonly(),!1);function p(t){var n=function(n,o){return s.InUse.is(o.webRtc)?t(n,o):r(d[10]).Result.ignore()};return Reflect.defineProperty(n,"name",{configurable:!0,value:t.name}),n}function v(t){return f.apply(this,arguments)}function f(){return(f=o(function*(t){return null!=t.source?t.source:new Promise(function(n,o){t.once("source",function(t){n(t)})})})).apply(this,arguments)}(0,r(d[9]).supportsMediasoupWebrtc)("WebRTC").then(function(t){c=t});var h=(function(){return n(function n(o){t(this,n),this.ctx=o,this.encodingSelector=new(r(d[11]).HighestBitrateSelector),this.availableEncodings=[],(0,r(d[12]).makeBounded)(this),this.vc=o.videoClient},[{key:"initStateFlow",value:function(t){t.handleEnter(s.Prepared,this.prepare),t.handleEnter(s.InUse,this.activate),t.handleExit(s.InUse,this.deactivate),t.handleEnter(l.Playing,p(r(d[7]).startPlayingVideoElement)),t.handleExit(l.Playing,p(r(d[7]).stopPlayingVideoElement)),t.handleEnter(u.UnMuted,p(r(d[7]).unmuteVideoElement)),t.handleChanges(u.UnMuted,p(r(d[7]).changeVolumeVideoElement)),t.handleExit(u.UnMuted,p(r(d[7]).muteVideoElement))}},{key:"prepare",value:function(t){return r(d[10]).Result.ok()}},{key:"activate",value:function(t){var n=t.host,o=t.manifest,u=t.webRtc,l=(0,r(d[7]).getVideoElement)(n.element);if(null==o.json)throw Error("manifest is null");var s=o.json.formats.webrtc;return r(d[10]).Result.transition(this.joinCall(s,l,u.options.timeout))}},{key:"deactivate",value:function(t){var n,o=t.host,u=(0,r(d[7]).getVideoElement)(o.element);return null===(n=this.call)||void 0===n||n.dispose("driver is deactivated"),u.srcObject=null,r(d[10]).Result.ok()}},{key:Symbol.dispose,value:(h=o(function*(){var t;null===(t=this.call)||void 0===t||t.dispose("driver is disposed")}),function(){return h.apply(this,arguments)})},{key:"joinCall",value:(f=o(function*(t,n,u){if(null==t.origin.uri)return r(d[10]).Result.reject("invalid sfu uri");var l={call:{id:t.origin.callId,sfu:{uri:t.origin.uri,httpUri:t.origin.httpUri,region:t.origin.region,version:t.origin.version},turn:t.origin.turn,support:"ovh"},user:{userId:t.origin.token,scope:"viewer",displayName:"",authorizeToken:t.origin.token}},s={rsrc:t.origin.rsrc,xkey:t.origin.publicKey,bpeerId:t.origin.peerId,joinUrl:t.origin.location},c={token:t.origin.token,playerOptions:{dontEmitPlayer:!0}};if(0===t.origin.streamNames.length)return r(d[10]).Result.reject("no stream names in  manifest");var p=t.origin.streamNames[0];t.origin.streamNames.length>1&&this.ctx.logger.warn("multiple stream names in manifest. use first one");var f=this.call=yield this.vc.internalJoinCall(t.origin.callId,l,Object.assign({},s,c),(0,r(d[13]).extendContext)(this.ctx,r(d[14]).VideoClient));return new Promise(function(t,l){f.once("error",function(t){l(t)}),f.on("streamAdded",(function(){var u=o(function*(o){o.streamName===p&&((0,r(d[7]).updateSource)(n,yield v(o.stream)),n.srcObject=yield v(o.stream),o.stream.on("source",r(d[7]).updateSource.bind(null,n)),t(r(d[10]).Result.ok()))});return function(t){return u.apply(this,arguments)}})()),setTimeout(function(){return t(r(d[10]).Result.reject("timeout"))},5*u)})}),function(t,n,o){return f.apply(this,arguments)})}],[{key:"isManifestSupported",value:function(t){return null!=(null==t?void 0:t.formats.webrtc)}},{key:"isHostSupported",value:function(t){return(0,r(d[7]).isVideoElement)(t)}},{key:"isPlatformSupported",value:function(){return c}}]);var f,h})();e.WebRtcDriver=h,h.displayName="WebRtcDriver",h.driverName="webrtc",(0,r(d[15]).registerVideoDrivers)(h)},857,[12,13,345,487,828,830,856,841,795,615,675,835,529,819,599,838]);
__d(function(g,r,_i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),i=r(d[2]),n=r(d[3]),l=r(d[4]),o=r(d[5]);function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.ManifestPlayer=void 0;var u=(function(u){function c(e,i,o){var u,v,h,p,f;t(this,c),h=this,f=[!1],p=l(p=c),(u=n(h,s()?Reflect.construct(p,f||[],l(h).constructor):p.apply(h,f))).driverFailover=!1,u.lastTimeUpdate=Date.now()+5e3,u.manifest=null,u.availablePlayers=[],u.providedPlayers=[],u.currentPlayerIndex=null,u.allPlayers=[],u.manifestLoadId=0,u.blurred=!1,u.firstLoadId=r(d[6]).stats.start(r(d[6]).STATS_EVENTS.FIRST_LOAD),u.ctx=e,u.options=Object.assign({},{displayPoster:"preview"},o,{driverFailoverSeconds:null!==(v=o.driverFailoverSeconds)&&void 0!==v?v:10}),(0,r(d[7]).makeObservable)(u,{blurred:r(d[7]).observable}),u.provider=i,(0,r(d[8]).onceCanceled)(e).then(function(e){return u.dispose(`ManifestPlayer Context Cancelled: ${e}`)});var y=(0,r(d[9]).makeBounded)(new Proxy(u,r(d[10]).proxyHandler));return y.init(),e.logger.attachObject(y),e.logger.trace("constructor()",{options:JSON.stringify(o)}),n(u,y)}return o(c,u),i(c,[{key:"attachTo",value:function(e){var t=this;this.elementSupervisor=r(d[11]).MediaElementSupervisor.getSupervisor(e).attachToPlayer(this);var i=this.currentPlayer;null!=i&&null!=this.elementSupervisor&&i.initVideoEl(this.elementSupervisor,!0).catch(function(e){return t.ctx.logger.error(e)})}},{key:"setPreferredLevel",value:function(e){this.preferredLevel=e}},{key:"noConsumerAudioAndVideo",get:function(){var e;return!!(null===(e=this.currentPlayer)||void 0===e?void 0:e.isImplements(r(d[12]).Feature.CONSUMER))&&(!this.currentPlayer.consumerAudioEnabled&&!this.currentPlayer.consumerVideoEnabled)}},{key:"webrtcConnecting",get:function(){var e;return!!(null===(e=this.currentPlayer)||void 0===e?void 0:e.isImplements(r(d[12]).Feature.BROADCAST))&&this.currentPlayer.isConnecting}},{key:"currentPlayer",get:function(){return this[r(d[13]).implementation]},set:function(e){this[r(d[13]).implementation]=e}},{key:"lowLatency",get:function(){var e;return!!this.isImplements(r(d[12]).Feature.BITRATE_SWITCHING)&&"webrtc"===(null===(e=this.currentPlayer)||void 0===e?void 0:e.format)},set:function(e){var t,i;this.supportsLowLatency?e?("webrtc"!==(null===(t=this.currentPlayer)||void 0===t?void 0:t.format)&&this.selectWebrtcPlayer(),this.preferredLevel=r(d[14]).SourceScoreLevel.High):("webrtc"===(null===(i=this.currentPlayer)||void 0===i?void 0:i.format)&&this.nextPlayer(),this.preferredLevel=r(d[14]).TranscodeScoreLevel.Highest):this.logger.warn("unable to set low latency. player does not support low latency.")}},{key:"selectWebrtcPlayer",value:function(){var e=this.availablePlayers.findIndex(function(e){return"webrtc"===e.id});this.selectPlayer(e)}},{key:"isImplements",value:function(e){var t,i=this[r(d[13]).implementation];return e===r(d[12]).Feature.PLAYER_SELECTOR||null!==(t=null==i?void 0:i.isImplements(e))&&void 0!==t&&t}},{key:"supportsLowLatency",get:function(){return this.availablePlayers.some(function(e){return"webrtc"===e.id})}},{key:"logger",get:function(){return this.ctx.logger}},{key:"handleTimeUpdate",value:function(){this.lastTimeUpdate=Date.now()}},{key:"handleWebsocketReconnect",value:function(){this.selectWebrtcPlayer()}},{key:"init",value:function(){var e=this;this.provider.on("manifest",this.updateManifest),this.on("timeupdate",this.handleTimeUpdate),this.addInnerDisposer(function(){return e.off("timeupdate",e.handleTimeUpdate)});var t={autoPlay:this.options.autoPlay,muted:this.options.muted,volume:this.options.volume};this.allPlayers=this.parsePlayerSpecs(this.options.players,t),this.validatePlayers(this.allPlayers).then(function(){e.provider.once("source",function(t){var i,n,l,o,s;e.manifest=t,e.emit("manifestLoadTime",r(d[6]).stats.stop(e.manifestLoadId,{driver:(null===(i=e.currentPlayer)||void 0===i?void 0:i.format)||void 0,abr:null===(n=e.manifest)||void 0===n?void 0:n.abr,aor:null===(l=e.manifest)||void 0===l?void 0:l.aor,atr:null===(o=e.manifest)||void 0===o?void 0:o.atr,rep:null===(s=e.manifest)||void 0===s?void 0:s.rep}))}),e.manifestLoadId=r(d[6]).stats.start(r(d[6]).STATS_EVENTS.MANIFEST_LOAD),e.provider.load("preview"===e.options.displayPoster).then(e.firstLoad).catch(function(t){return e.emitError((0,r(d[15]).createError)(r(d[16]).ErrorCode.PlayerLoadingFailed,"unable to start playing because of manifest loading error",{},t))})}),this.driverFailoverInterval(),this.on("localVideoPaused",function(t){t?e.currentPlayer?e.currentPlayer.updatePosterWithLatestFrame():e.poster=e.selectPoster():e.driverFailoverInterval()}),this.on("implementation",function(){return e.emit("currentPlayer",e)})}},{key:"driverFailoverInterval",value:function(){var e=this;null!=this.options.driverFailoverSeconds&&!0!==this.localVideoPaused&&(r(d[17]).device.clearInterval(this.driverFailInterval),this.driverFailInterval=r(d[17]).device.setInterval(function(){null!=e.options.driverFailoverSeconds&&(!0!==e.localVideoPaused?e.driverFailoverCheck(e.options.driverFailoverSeconds):r(d[17]).device.clearInterval(e.driverFailInterval))},1e3),this.addInnerDisposer(function(){return r(d[17]).device.clearInterval(e.driverFailInterval)}))}},{key:"driverFailoverCheck",value:function(e){"online"!==this.provider.currentState||this.noConsumerAudioAndVideo||r(d[17]).device.hidden||this.webrtcConnecting?this.lastTimeUpdate=Date.now():Date.now()-this.lastTimeUpdate>1e3*e&&(this.logger.warn(`driver failover check: no timeupdate for ${e} seconds`),this.lastTimeUpdate=Date.now()+5e3,this.nextPlayer())}},{key:"firstLoad",value:function(){var e;(null===(e=this.elementSupervisor)||void 0===e?void 0:e.hasPoster())||(this.poster=this.selectPoster())}},{key:"selectPoster",value:function(){var e,t,i,n,l,o,s,u=this.options.displayPoster,c=null===(e=this.manifest)||void 0===e?void 0:e.formats.jpeg;if(null==u||!1===u||null==c)return this.ctx.logger.debug("no posters",{displayPoster:u,manifest:this.manifest}),null;if("preview"===u&&null!=(null===(t=this.manifest)||void 0===t?void 0:t.previewImg))return this.ctx.logger.debug("select previewImg poster"),null===(i=this.manifest)||void 0===i?void 0:i.previewImg;"object"==typeof u?(o=u.videoHeight,s=u.videoWidth):null!=(null===(l=null===(n=this.currentQuality)||void 0===n?void 0:n.layer)||void 0===l?void 0:l.appData)&&(o=this.currentQuality.layer.appData.videoHeight,s=this.currentQuality.layer.appData.videoWidth);var v=c.encodings.find(function(e){return e.videoHeight===o&&e.videoWidth===s});return null!=v?(this.ctx.logger.debug(`select ${s}x${o} poster`),v.location):c.encodings.length>0?(this.ctx.logger.debug("select first poster"),c.encodings[0].location):(this.ctx.logger.debug("poster not found"),null)}},{key:"updatePosterWithLatestFrame",value:function(){null!=this.elementSupervisor&&r(d[17]).device.isImplements(r(d[18]).Feature.CREATE_SCREENSHOT)?this.poster=this.elementSupervisor.createScreenshot():this.ctx.logger.warn("Unable to set update poster. Create screenshot is not compatible with device.")}},{key:"parsePlayerSpecs",value:function(e,t){return e.map(function(e){var i;if("string"==typeof e)return{id:e,options:t};var n=null!==(i=e.options)&&void 0!==i?i:{};return Object.assign({},e,{options:Object.assign({},t,n)})})}},{key:"validatePlayers",value:(v=e(function*(e){var t=this,i=yield Promise.all(e.map(function(e){return r(d[19]).players[e.id].isSupported(t.logger)})),n=e.map(function(e,t){return Object.assign({},e,{supported:i[t]})});this.providedPlayers=n.filter(function(e){return e.supported}),this.emit("availablePlayers",{players:this.providedPlayers}),0===this.providedPlayers.length&&this.noDrivers()}),function(e){return v.apply(this,arguments)})},{key:"updateManifest",value:function(e){var t;this.emit("manifest",e);var i={401:"MANIFEST_UNAUTHORIZED",403:"MANIFEST_FORBIDDEN",404:"MANIFEST_NOT_FOUND"};if(this.manifest=e,"forbidden"===e.state){var n=`manifest is forbidden after polling it for '${this.provider.options.unauthorizedRecoveryDuration}' ms`;return this.emitErrorDeprecated(new(r(d[20]).ManifestError)(n,{loader:this.provider})),void this.dispose(n)}if("online"!==e.state)return 401!==e.code&&403!==e.code||(this.options.refetch?this.emit("info",{code:i[e.code]}):(this.emitErrorDeprecated(new(r(d[20]).ManifestError)(`manifest error: ${i[e.code]}`,{loader:this.provider})),this.dispose(i[e.code]))),void(404!==e.code&&403!==e.code||(null===(t=this.currentPlayer)||void 0===t||t.dispose(),this.currentPlayer=null,this.emit("info",{code:i[e.code]})));this.availablePlayers=this.providedPlayers.filter(function(t){var i=e.formats[r(d[19]).players[t.id].format];return null!=i&&(0,r(d[21]).isValidFormat)(i)}),this.emit("availablePlayers",{players:this.availablePlayers}),null==this.currentPlayer&&(0===this.availablePlayers.length?this.noDrivers():(this.ctx.logger.debug("Select the first player"),this.selectPlayer(0)));var l=this.currentPlayer,o=e.formats[null==l?void 0:l.format];this.updateQualities(o)}},{key:"updateQualities",value:function(e){var t,i,n,l,o=this.currentPlayer;if(null!=o&&(0,r(d[14]).isGenericFormat)(e)){var s=null!==(n=(0,r(d[22]).fetchManifestQualities)(e,null!==(i=null===(t=e.origin)||void 0===t?void 0:t.location)&&void 0!==i?i:null,o))&&void 0!==n?n:[];(0,r(d[22]).equalQualities)(s,null!==(l=this.availableQualities)&&void 0!==l?l:[])||(this.availableQualities=s),this.blurred=null!=e.substitute}}},{key:"noDrivers",value:function(){"online"===this.provider.currentState&&(this.emit("noPlayers",!0),this.emitErrorDeprecated(new(r(d[20]).NoDriversError)("no drivers",{})))}},{key:"nextPlayer",value:function(){var e;1!==this.availablePlayers.length?null==this.currentPlayerIndex||this.currentPlayerIndex>=this.availablePlayers.length-1?this.selectPlayer(0):this.selectPlayer(this.currentPlayerIndex+1):null===(e=this.restart)||void 0===e||e.call(this,!1)}},{key:"selectPlayer",value:function(e){var t,i=this;if(this.suspended=!0,this.ctx.logger.debug("selectPlayer()",{index:e}),e>=this.availablePlayers.length)this.noDrivers();else{var n=this.availablePlayers[e];this.emit("driver",n.id);var l=r(d[19]).players[n.id];if(null!=l){if(null!=this.currentPlayer){var o=this.currentPlayer;this.currentPlayer=null,o.removeAllListeners("error"),o.dispose("replacing current player")}if(null!=l.format){var s=null===(t=this.manifest)||void 0===t?void 0:t.formats[l.format];this.updateQualities(s)}var u=new l((0,r(d[23]).extendContext)(this.ctx,l),this.provider,n.options);this.currentPlayer=u,this.currentPlayerIndex=e,this.ctx.logger.debug("set manifest player",{player:this.currentPlayer,format:u.format,name:n}),u.on("error",function(e){switch(e.code){case r(d[16]).ErrorCode.EmbedSWFFailed:case r(d[16]).ErrorCode.NotSupported:case r(d[16]).ErrorCode.HandleHlsJsError:case r(d[16]).ErrorCode.JoinCallError:case r(d[16]).ErrorCode.UnableJoinCall:i.ctx.logger.debug(`Select next player because ${e.code}`),i.nextPlayer();break;default:e.critical&&(i.ctx.logger.debug("Select next player because the error is critical"),i.nextPlayer())}}),u.on("videoFirstPlay",function(){var e,t,n,l,o;i.emit("initialLoadTime",r(d[6]).stats.stop(i.firstLoadId,{driver:(null===(e=i.currentPlayer)||void 0===e?void 0:e.format)||void 0,abr:null===(t=i.manifest)||void 0===t?void 0:t.abr,aor:null===(n=i.manifest)||void 0===n?void 0:n.aor,atr:null===(l=i.manifest)||void 0===l?void 0:l.atr,rep:null===(o=i.manifest)||void 0===o?void 0:o.rep}))}),u.isImplements(r(d[12]).Feature.BROADCAST)&&(u.on("websocketReconnect",this.handleWebsocketReconnect),u.addInnerDisposer(function(){return i.off("websocketReconnect",i.handleWebsocketReconnect)})),null!=this.elementSupervisor&&u.initVideoEl(this.elementSupervisor,!0).catch(function(e){return i.ctx.logger.error(e)}),this.suspended=!1}else this.noDrivers()}}},{key:"handlePlayerAccessDenied",value:function(e){this.dispose(e.message)}},{key:"toJSON",value:function(){var e,t,i,n=null===(e=this[r(d[13]).implementation])||void 0===e?void 0:e.toJSON();if(null==n||"object"!=typeof n||Array.isArray(n)||(0,r(d[24]).isSerializableObject)(n))return{};var l=null!==(t=n.aggregates)&&void 0!==t?t:{};return null==l||"object"!=typeof l||Array.isArray(l)||(0,r(d[24]).isSerializableObject)(l)?n:(delete n.aggregates,Object.assign({},n,{options:this.options,playersSpecs:this.availablePlayers,currentPlayerIndex:this.currentPlayerIndex,uri:null===(i=this.provider)||void 0===i?void 0:i.uri,aggregates:Object.assign({},l,(0,r(d[24]).extractAggregates)(this.provider,"support"),{support:this.ctx.support.hash})}))}},{key:"replaceManifestUrl",value:function(e){return Promise.resolve(void 0)}}]);var v})(r(d[25]).ObservableEventEmitter);_e2.ManifestPlayer=u,u.displayName="ManifestPlayer"},858,[345,12,13,23,25,28,811,526,550,529,816,821,493,818,485,613,490,502,486,859,543,491,809,819,544,528]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.players=void 0,e.players={"native-hls":r(d[0]).NativeHlsPlayer,hlsjs:r(d[1]).HlsJsPlayer,webrtc:r(d[2]).WebrtcPlayer,mp4ws:r(d[3]).Mp4WsPlayer,flvhttp:r(d[4]).FlvHttpPlayer}},859,[822,810,860,852,861]);
__d(function(g,r,i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),n=r(d[2]),o=r(d[3]),l=r(d[4]),s=r(d[5]);function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.WebrtcPlayer=void 0;var u=(function(u){function h(e,n,s){var u,p,f,v;t(this,h),p=this,v=[!1],f=l(f=h),(u=o(p,c()?Reflect.construct(f,v||[],l(p).constructor):f.apply(p,v))).driverFailover=!1,u.blurred=!1,u.isConnecting=!1,u.isConnected=!1,u.call=null,u.manifestJson=null,u.videoEl=null,u.callStreamName=null,u.callId=null,u.isJoiningCall=!1,u.sfuConnectionLoadId=0,u.videoConsumerLoadId=0,u.firstTimeUpdateLoadId=0,u.joinCallEndpointLoadId=r(d[6]).stats.start(r(d[6]).STATS_EVENTS.JOIN_CALL_ENDPOINT),u.ctx=e,u.mediaLoader=n,u.options=s,u.autoPlay=null==s.autoPlay||s.autoPlay,(0,r(d[7]).makeObservable)(u,{isConnected:r(d[7]).observable,isConnecting:r(d[7]).observable}),(0,r(d[8]).onceCanceled)(e).then(function(e){return u.dispose(`WebrtcPlayer Context Cancelled: ${e}`)});var y=(0,r(d[9]).makeBounded)(new Proxy(u,r(d[10]).proxyHandler));return y.init(),e.logger.attachObject(y),e.logger.trace("constructor()",{}),o(u,y)}return s(h,u),n(h,[{key:"attachTo",value:function(e){this.hostEl=(0,r(d[11]).attachVideoElement)(e)}},{key:"setPreferredLevel",value:function(e){this.preferredLevel=e}},{key:"canBroadcast",get:function(){return null!=this.call}},{key:"callBroadcast",get:function(){return this.call}},{key:"currentPlayer",get:function(){return this[r(d[12]).implementation]},set:function(e){this[r(d[12]).implementation]=e}},{key:"logger",get:function(){return this.ctx.logger}},{key:"isImplements",value:function(e){switch(e){case r(d[13]).Feature.MUTED_AUTOPLAY:case r(d[13]).Feature.CONSUMER:case r(d[13]).Feature.BROADCAST:case r(d[13]).Feature.BITRATE_SWITCHING:return!0;default:return!1}}},{key:"format",get:function(){return h.format}},{key:"init",value:function(){var e=this;this.mediaLoader.on("source",this.handleSource),this.addInnerDisposer(function(t){e.mediaLoader.off("source",e.handleSource)}),null!=this.mediaLoader.source&&this.handleSource(this.mediaLoader.source)}},{key:"handleSource",value:(v=e(function*(e){if(!this.suspended)if(this.ctx.logger.debug("webrtc: handleSource()"),this.manifestJson=e,null==e)this.stopCall();else{var t=e.formats.webrtc;if(null==t)return void this.emitErrorDeprecated(new(r(d[14]).NotSupportedError)("manifest doesn't contains webrtc format",{}));this.isJoiningCall&&this.callId===t.origin.callId&&this.callStreamName===t.origin.streamNames[0]||(this.isJoiningCall=!0,this.callId=t.origin.callId,this.callStreamName=t.origin.streamNames[0],this.stopCall(),yield this.joinCall(this.callId,t.origin.streamNames[0],t.origin.token,{rsrc:t.origin.rsrc,xkey:t.origin.publicKey,bpeerId:t.origin.peerId,joinUrl:t.origin.location}))}}),function(e){return v.apply(this,arguments)})},{key:"stopCall",value:function(){var e;null!=this.call&&(null===(e=this.call)||void 0===e||e.removeAllListeners("playerAdded"),this.call=null)}},{key:"sfuJoinParams",get:function(){var e,t,n=(null!==(t=null===(e=this.manifestJson)||void 0===e?void 0:e.formats)&&void 0!==t?t:{}).webrtc;return null==(null==n?void 0:n.origin.uri)?null:{call:{id:n.origin.callId,sfu:{uri:n.origin.uri,httpUri:n.origin.httpUri,region:n.origin.region,version:n.origin.version},turn:n.origin.turn,support:"ovh"},user:{userId:n.origin.token,scope:"viewer",displayName:"",authorizeToken:n.origin.token}}}},{key:"joinCall",value:(f=e(function*(e,t,n,o){var l,s,c,u,h,p=this,f={driver:this.format,abr:null===(l=this.manifestJson)||void 0===l?void 0:l.abr,aor:null===(s=this.manifestJson)||void 0===s?void 0:s.aor,atr:null===(c=this.manifestJson)||void 0===c?void 0:c.atr,rep:null===(u=this.manifestJson)||void 0===u?void 0:u.rep},v={token:n,onCallJoinEndpoint:function(){p.emit("joinCallEndpoint",r(d[6]).stats.stop(p.joinCallEndpointLoadId,f)),p.sfuConnectionLoadId=r(d[6]).stats.start(r(d[6]).STATS_EVENTS.SFU_CONNECTION)},onSFUConnection:function(){p.emit("sfuConnection",r(d[6]).stats.stop(p.sfuConnectionLoadId,f)),p.videoConsumerLoadId=r(d[6]).stats.start(r(d[6]).STATS_EVENTS.VIDEO_CONSUMER)},playerOptions:this.options};try{this.call=yield this.ctx.videoClient.internalJoinCall(e,this.sfuJoinParams,Object.assign({},o,v),(0,r(d[15]).extendContext)(this.ctx,r(d[16]).VideoClient)),this.emit("joinedCall",{call:this.call}),this.call.once("videoConsumer",function(){p.emit("videoConsumer",r(d[6]).stats.stop(p.videoConsumerLoadId,f)),p.firstTimeUpdateLoadId=r(d[6]).stats.start(r(d[6]).STATS_EVENTS.FIRST_TIME_UPDATE)}),this.call.on("playerAdded",function(e){p.ctx.logger.debug("got a player",{ev:e}),t===e.streamName&&(p.ctx.logger.debug("set currentPlayer",{old:p.currentPlayer}),e.player instanceof r(d[17]).MediasoupPlayer&&(e.player.isManifestPlayer=!0),p.currentPlayer=e.player,p.currentPlayer.once("videoFirstPlay",function(){p.emit("firstTimeUpdate",r(d[6]).stats.stop(p.firstTimeUpdateLoadId,f))}))}),this.call.on("peerAtCapacity",function(e){p.emit("peerAtCapacity",e)}),this.call.on("callEnded",function(){p.emit("callEnded")}),this.call.on("isConnected",function(e){p.isConnected=e}),this.call.on("isConnecting",function(e){p.isConnecting=e}),this.call.on("playerRemoved",function(e){var n;t===e.streamName&&(null===(n=p.currentPlayer)||void 0===n||n.dispose("peer player removed due to call.on('playerRemoved') event"))}),this.call.on("websocketReconnect",function(){p.emit("websocketReconnect")}),this.call.on("error",function(e){p.emitErrorDeprecated(e)})}catch(e){this.emit("error",null!==(h=(0,r(d[18]).wrapError)(e))&&void 0!==h?h:(0,r(d[18]).createError)(r(d[19]).ErrorCode.CallError,"unknown error",{}))}}),function(e,t,n,o){return f.apply(this,arguments)})},{key:"updatePosterWithLatestFrame",value:function(){null!=this.hostEl&&r(d[20]).device.isImplements(r(d[21]).Feature.CREATE_SCREENSHOT)?this.poster=r(d[20]).device.createScreenshot(this.hostEl):this.ctx.logger.warn("Unable to set update poster. Create screenshot is not compatible with device.")}},{key:"replaceManifestUrl",value:function(e){throw(0,r(d[18]).createError)(r(d[19]).ErrorCode.NotSupported)}},{key:"toJSON",value:function(){var e,t;return null!==(t=null===(e=this.currentPlayer)||void 0===e?void 0:e.toJSON())&&void 0!==t?t:{}}}],[{key:"isSupported",value:(p=e(function*(e){return(0,r(d[22]).supportsMediasoupWebrtc)("Webrtc",e)}),function(e){return p.apply(this,arguments)})},{key:"format",get:function(){return"webrtc"}}]);var p,f,v})(r(d[23]).ObservableEventEmitter);_e2.WebrtcPlayer=u,u.displayName="WebrtcPlayer"},860,[345,12,13,23,25,28,811,526,550,529,816,809,818,493,543,819,599,825,613,485,502,486,616,528]);
__d(function(g,_r,i,a,m,_e,d){"use strict";var e=_r(d[0]),t=_r(d[1]),r=_r(d[2]),n=_r(d[3]),l=_r(d[4]),s=_r(d[5]),o=_r(d[6]),u=_r(d[7]);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e,t,r,n){var l=o(s(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof l?function(e){return l.apply(r,e)}:l}Object.defineProperty(_e,"__esModule",{value:!0}),_e.FlvHttpPlayer=void 0;var c=(function(o){function c(e,n,o){var u,h,y,f;return r(this,c),h=this,f=[e,n,o],y=s(y=c),(u=l(h,p()?Reflect.construct(y,f||[],s(h).constructor):y.apply(h,f))).player=null,u.isFirstLoad=!0,u.isStartingToPlay=!1,u.isPauseQueued=!1,u.addInnerDisposer((0,_r(d[8]).reaction)(function(){var e;return[null===(e=u.currentQuality)||void 0===e?void 0:e.layer,u.internalPaused]},function(e){var r=t(e,2),n=r[0],l=r[1];!(null!=n&&"string"==typeof n.id&&""!==n.id)||l||u.isStartingToPlay||u.requestUrl(n.id)})),u.on("hostElementAttached",u.handleElAttached),u.addInnerDisposer(function(){u.destroyPlayer()}),u}return u(c,o),n(c,[{key:"isSupported",value:(E=e(function*(){return c.isSupported()}),function(){return E.apply(this,arguments)})},{key:"format",get:function(){return c.format}},{key:"ready",value:(v=e(function*(){_r(d[9]).device.isImplements(_r(d[9]).Feature.MPEGTS)&&(yield _r(d[9]).device.loadMpegtsScript()),yield h(c,"ready",this,3)([])}),function(){return v.apply(this,arguments)})},{key:"pauseEl",value:function(){var e;this.isStartingToPlay?this.isPauseQueued=!0:(h(c,"pauseEl",this,3)([]),null===(e=this.player)||void 0===e||e.pause())}},{key:"handleSource",value:function(e){this.suspended||null==(null==e?void 0:e.formats["flv-http"])&&this.emitErrorDeprecated(new(_r(d[10]).DriverNotSupportedError)("manifest doesn't contains 'flv-http' format",{manifest:e}))}},{key:"requestUrl",value:(f=e(function*(e){_r(d[9]).device.isImplements(_r(d[9]).Feature.MPEGTS)||this.throwErrorDeprecated(new(_r(d[10]).PlayingIssueError)("mpegts library is not loaded",{player:this})),this.destroyPlayer();var t=yield this.getAuthHeader(),r=Object.assign({},t,this.options.requestHeaders);this.player=_r(d[9]).device.mpegts.createPlayer({type:"flv",isLive:!0,url:e},{headers:r}),this.player.on(_r(d[9]).device.mpegts.Events.ERROR,this.handleMpegtsError),null!=this.elementSupervisor&&this.handleElAttached({el:Reflect.get(this.elementSupervisor,"element")})}),function(e){return f.apply(this,arguments)})},{key:"handleElAttached",value:function(e){var t=this;if(null!=this.player){if(this.player.attachMediaElement(e.el),this.player.load(),this.ctx.logger.debug("host element is attached and loaded"),this.isFirstLoad&&!this.options.autoPlay)return void(this.isFirstLoad=!1);try{if(this.internalPaused)this.ctx.logger.debug("pause"),this.player.pause();else this.ctx.logger.debug("play"),this.isPauseQueued=!1,this.isStartingToPlay=!0,(this.player.play()||Promise.resolve()).then(function(){t.handleStartedToPlay()})}catch(e){var r=e instanceof Error?e:null;this.emitErrorDeprecated(new(_r(d[10]).PlayingIssueError)("mpegts call failed in handleElAttached()",{inner:r,player:this}))}}}},{key:"handleStartedToPlay",value:function(){this.isStartingToPlay=!1,this.isPauseQueued&&this.pauseEl()}},{key:"destroyPlayer",value:function(){null!=this.player&&_r(d[9]).device.isImplements(_r(d[9]).Feature.MPEGTS)&&(this.player.pause(),this.player.unload(),this.player.detachMediaElement(),this.player.off(_r(d[9]).device.mpegts.Events.ERROR,this.handleMpegtsError),this.player.destroy(),this.player=null)}},{key:"handleMpegtsError",value:function(e){"NetworkError"===e?this.ctx.logger.error(`FLVHTTP ${e}`):this.throwError((0,_r(d[11]).createError)(_r(d[11]).ErrorCode.PlaybackError,"Unable to play the stream due to an uncaught error",{}))}},{key:"implementedFeatures",get:function(){return[_r(d[12]).Feature.BITRATE_SWITCHING,_r(d[12]).Feature.MUTED_AUTOPLAY]}}],[{key:"isSupported",value:(y=e(function*(e){return(0,_r(d[13]).supportsFlvHttp)(e)}),function(e){return y.apply(this,arguments)})},{key:"format",get:function(){return"flv-http"}}]);var y,f,v,E})(_r(d[14]).CorePlayer);_e.FlvHttpPlayer=c,c.displayName="FlvHttpPlayer"},861,[345,38,12,13,23,25,26,28,526,502,543,613,493,615,816]);
__d(function(g,_r,_i,a,m,_e2,_d2){"use strict";var e=_r(_d2[0]),i=_r(_d2[1]),t=_r(_d2[2]),n=_r(_d2[3]),r=_r(_d2[4]),o=_r(_d2[5]),d=_r(_d2[6]),s=_r(_d2[7]);function l(e,i,t){return i=o(i),r(e,u()?Reflect.construct(i,t||[],o(e).constructor):i.apply(e,t))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function c(e){var i,t,n,r=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(t&&null!=(i=e[t]))return i.call(e);if(n&&null!=(i=e[n]))return new v(i.call(e));t="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function v(e){function i(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var i=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:i}})}return v=function(e){this.s=e,this.n=e.next},v.prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):i(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):i(t.apply(this.s,arguments))}},new v(e)}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.MediaStreamController=_e2.optionsKey=_e2.mediaController=_e2.CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK=_e2.CONSTRAINTS_VIDEO_OPTIMAL_WEAK=_e2.CONSTRAINTS_VIDEO_OPTIMAL_STRICT=_e2.CONSTRAINTS_AUDIO_OPTIMAL_WEAK=_e2.CONSTRAINTS_AUDIO_OPTIMAL_STRICT=_e2.VIDEO_DEVICE_CAPTURABLE=_e2.VIDEO_DEVICE_SCREENCAPTURE=void 0;var h=_r(_d2[8]).__importDefault(_r(_d2[9])),p=_r(_d2[8]).__importDefault(_r(_d2[10]));_e2.VIDEO_DEVICE_SCREENCAPTURE={deviceId:"screencapture",groupId:"screencapture",label:"Screen Capture",kind:"videoinput",virtual:!0,toJSON:function(){return{deviceId:this.deviceId,groupId:this.groupId,label:this.label,kind:this.kind}}},_e2.VIDEO_DEVICE_CAPTURABLE={deviceId:"capturable",groupId:"capturable",label:"Capturable",kind:"videoinput",virtual:!0,toJSON:function(){return{deviceId:this.deviceId,groupId:this.groupId,label:this.label,kind:this.kind}}},_e2.CONSTRAINTS_AUDIO_OPTIMAL_STRICT={autoGainControl:{exact:!0},channelCount:{min:1,ideal:2},echoCancellation:{exact:!0},latency:{ideal:0},noiseSuppression:{exact:!0},sampleRate:{min:8e3,ideal:48e3,max:48e3},sampleSize:{min:16,ideal:32}},_e2.CONSTRAINTS_AUDIO_OPTIMAL_WEAK={autoGainControl:{ideal:!0},channelCount:{min:1,ideal:2},echoCancellation:{ideal:!0},latency:{ideal:0},noiseSuppression:{ideal:!0},sampleRate:{min:8e3,ideal:48e3,max:48e3},sampleSize:{min:16,ideal:32}},_e2.CONSTRAINTS_VIDEO_OPTIMAL_STRICT={facingMode:{ideal:"user"},aspectRatio:{exact:1.7777777777777777},height:_r(_d2[11]).device.isAndroidDevice?{min:240,max:720}:{min:240,ideal:_r(_d2[11]).device.isIosDevice?720:1080,max:_r(_d2[11]).device.isIosDevice?720:1080},frameRate:{ideal:24}},_e2.CONSTRAINTS_VIDEO_OPTIMAL_WEAK={facingMode:{ideal:"user"},aspectRatio:{ideal:1.7777777777777777},height:_r(_d2[11]).device.isAndroidDevice?{min:240,max:720}:{min:240,ideal:_r(_d2[11]).device.isIosDevice?720:1080,max:_r(_d2[11]).device.isIosDevice?720:1080},frameRate:{ideal:24}},_e2.CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK={frameRate:{ideal:24}};var f=_r(_d2[12]).observable.array([],{name:"mediaDevicesList"}),I=new Proxy({},{get:function(e,i){var t;return i===_e2.VIDEO_DEVICE_SCREENCAPTURE.deviceId?_e2.VIDEO_DEVICE_SCREENCAPTURE:i===_e2.VIDEO_DEVICE_CAPTURABLE.deviceId?_e2.VIDEO_DEVICE_CAPTURABLE:null!==(t=f.find(function(e){return e.deviceId===i&&"videoinput"===e.kind}))&&void 0!==t?t:null}}),C=new Proxy({},{get:function(e,i){var t;return null!==(t=f.find(function(e){return e.deviceId===i&&"audioinput"===e.kind}))&&void 0!==t?t:null}}),D=new Proxy({},{get:function(e,i){var t;return i===_e2.VIDEO_DEVICE_SCREENCAPTURE.deviceId?_e2.VIDEO_DEVICE_SCREENCAPTURE:i===_e2.VIDEO_DEVICE_CAPTURABLE.deviceId?_e2.VIDEO_DEVICE_CAPTURABLE:null!==(t=f.find(function(e){return e.deviceId===i}))&&void 0!==t?t:null}}),E=[4320,2160,1440,1080,720,480,360,240,180],y=new WeakMap,b={},k=0,A=null,S={defaultConstraints:{audio:_e2.CONSTRAINTS_AUDIO_OPTIMAL_STRICT,video:_e2.CONSTRAINTS_VIDEO_OPTIMAL_STRICT,screencapture:_e2.CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK},fallbackConstraints:{audio:_e2.CONSTRAINTS_AUDIO_OPTIMAL_WEAK,video:_e2.CONSTRAINTS_VIDEO_OPTIMAL_WEAK,screencapture:{}},replaceTracks:!0,waitingDelay:100,defaultLockPolicy:_r(_d2[13]).ExistsStreamPolicy.wait,noEchoGainAmplifier:_r(_d2[11]).device.isIosDevice,requestAudioPermission:!0};function T(e,i,t){if(!_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.AUDIO_CONTEXT))return i;if(!i.getAudioTracks().length)return i;if(e.debug("attach gain controller to stream"),null==A&&(A=new(_r(_d2[11]).device.AudioContext)),null==A.createAnalyser||null==A.createGain||null==A.createMediaStreamSource||null==A.createMediaStreamDestination)return i;var n=A.createGain(),r=A.createMediaStreamSource(i),o=A.createMediaStreamDestination(),d=o.stream;r.connect(n),n.connect(o),n.gain.value=t;var s=i.getAudioTracks()[0],l=d.getAudioTracks()[0];if(null==s||null==l)throw new Error("no audio tracks");var u=w(s);null!=u&&y.set(l,{deviceId:u,originalTrack:s,gainNode:n}),i.getVideoTracks().forEach(function(e){d.addTrack(e)});var c=function(){e.debug("modified audio track is ended. stopping original one",{originalTrack:s.id}),s.stop(),l.removeEventListener("ended",c)};return l.addEventListener("ended",c),d}function R(e){var i,t=e.stream,n=e.audio,r=void 0===n||n,o=e.video,d=void 0===o||o,s=e.removeEventListenerCb;if(null!=t)for(var l of t.getTracks())if(("audio"!==l.kind||r)&&("video"!==l.kind||d)){null!=s&&s(l);var u=y.get(l);null!=u&&(null!=s&&null!=u.originalTrack&&s(u.originalTrack),null===(i=u.originalTrack)||void 0===i||i.stop()),l.stop(),t.removeTrack(l)}}function P(e){var i,t;try{t=null===(i=e.getSettings)||void 0===i?void 0:i.call(e)}catch(e){t={}}return t}function M(e,i){var t,n,r;try{r=null!==(n=null===(t=null==e?void 0:e.getCapabilities)||void 0===t?void 0:t.call(e))&&void 0!==n?n:{},null==i||i.debug("videoTrack capabilities",{capabilities:r})}catch(e){r={}}return r}function _(e){var i,t;try{t=null===(i=e.getConstraints)||void 0===i?void 0:i.call(e)}catch(e){t={}}return t}function w(e){var i,t,n,r=y.get(e);if(null!=(null==r?void 0:r.deviceId))return r.deviceId;var o=P(e),d=_(e),s=null!==(i=null==o?void 0:o.deviceId)&&void 0!==i?i:"object"==typeof(null==d?void 0:d.deviceId)?d.deviceId.exact:Array.isArray(d.deviceId)?d.deviceId[0]:d.deviceId;return null!=s?s.toString():null!==(n=null===(t=f.find(function(i){return i.label===e.label}))||void 0===t?void 0:t.deviceId)&&void 0!==n?n:null}function O(e){var i,t,n,r,o=e.stream,d=e.logger,s=e.deviceInUse,l=void 0!==s&&s,u=o.getVideoTracks()[0];if(null==u)return[null,null];var c=M(u,d),v=P(u),h=l||null==(null===(i=null==c?void 0:c.width)||void 0===i?void 0:i.max)?null==v?void 0:v.width:null===(t=null==c?void 0:c.width)||void 0===t?void 0:t.max,p=l||null==(null===(n=null==c?void 0:c.height)||void 0===n?void 0:n.max)?null==v?void 0:v.height:null===(r=null==c?void 0:c.height)||void 0===r?void 0:r.max,f=_r(_d2[11]).device.isMobileDevice?1080:2160;return null!=p&&p>f&&(p=f),null==p||null==h?[null,null]:(null==d||d.debug("adjusted maxHeight",{adjustedMaxHeight:p}),[h,p])}function N(e,i,t){var n,r=JSON.parse(JSON.stringify(e));if(null!=t.aspectRatio)if("number"==typeof t.aspectRatio)r.aspectRatio={exact:t.aspectRatio};else{var o=s(t.aspectRatio,2),d=o[0],l=o[1];r.aspectRatio={min:d,max:l}}if(null!=t.autoGainControl&&(r.autoGainControl={exact:t.autoGainControl}),null!=t.echoCancellation&&(r.echoCancellation={exact:t.echoCancellation}),null!=t.facingMode&&(r.facingMode={exact:t.facingMode}),null!=t.frameRate)if("number"==typeof t.frameRate)r.frameRate={exact:t.frameRate};else if(Array.isArray(t.frameRate)){var u=s(t.frameRate,2),c=u[0],v=u[1];r.frameRate={min:c,max:v}}else r.frameRate=t.frameRate;if(null!=t.resolution)if("number"==typeof t.resolution)r.height={exact:t.resolution};else if(Array.isArray(t.resolution)){var h=s(t.resolution,2),p=h[0],f=h[1];r.height={min:p,max:f}}else r.height={min:t.resolution.min,ideal:t.resolution.ideal,max:t.resolution.max};return r.deviceId=null==i||null!=(n=D[i])&&n.virtual?void 0:{exact:i},r}function V(e){var i=e.defaults,t=e.audioDeviceInfo,n=e.videoDeviceInfo,r=e.overrides,o=r.echoCancellation,d=r.autoGainControl,s=r.noiseSuppression,l=r.frameRate,u=r.resolution,c=r.aspectRatio,v=r.facingMode,h=(null==n?void 0:n.deviceId)===(null===_e2.VIDEO_DEVICE_SCREENCAPTURE||void 0===_e2.VIDEO_DEVICE_SCREENCAPTURE?void 0:_e2.VIDEO_DEVICE_SCREENCAPTURE.deviceId)?i.screencapture:i.video,p=i.audio;return{audio:null!=t&&N(p,null==t?void 0:t.deviceId,{echoCancellation:o,autoGainControl:d,noiseSuppression:s}),video:null!=n&&N(h,null==n?void 0:n.deviceId,{resolution:u,frameRate:l,aspectRatio:c,facingMode:v})}}function U(e){return`deviceResolution:1.0:[${e}]`}var L=(function(e){function r(){var e,i,n;return t(this,r),(e=l(this,r)).isInitialized=!1,e.initialized=null,e._supportSharedDevices=null,e.camPermission=null,e.micPermission=null,e.safariPermissionStatusInterval=void 0,e.deviceInUseInterval=void 0,e.devicesInUse=[],e.logger=new(_r(_d2[14]).LoggerCore)(_r(_d2[15]).PACKAGE_NAME).setLoggerMeta("client","VDC").setLoggerMeta("release",p.default.version).appendChain(r).setMessageAggregate("contextId",null!==(i=(0,_r(_d2[15]).contextId)())&&void 0!==i?i:void 0).setMessageAggregate("instanceId",null!==(n=(0,_r(_d2[15]).instanceId)())&&void 0!==n?n:void 0),(0,_r(_d2[16]).makeBounded)(e),(0,_r(_d2[12]).makeObservable)(e,{requestController:_r(_d2[12]).action,devicesInUse:_r(_d2[12]).observable}),e}return d(r,e),n(r,[{key:"audioDevices",value:function(){return this.isInitialized?f.filter(function(e){return"audioinput"===e.kind}):(this.logger.warn("init() must be called on the media-controller singleton",{}),[])}},{key:"videoDevices",value:function(){return this.isInitialized?f.filter(function(e){return"videoinput"===e.kind}):(this.logger.warn("init() must be called on the media-controller singleton",{}),[])}},{key:"devices",get:function(){return Object.fromEntries(f.entries())}},{key:"supportSharedDevices",get:function(){return null!=this._supportSharedDevices&&this._supportSharedDevices}},{key:"checkSupportSharedDevices",value:(C=i(function*(e,i){var t,n,r,o,d;if((d=_r(_d2[11]).device).isAndroidDevice&&"ReactNative"===d.platform||_r(_d2[11]).device.isAndroidDevice)this._supportSharedDevices=!1;else if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)){if(!1===e&&!1===i)return this.logger.warn("video and audio device permissions denied"),void(this._supportSharedDevices=!1);if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.LOCAL_STORAGE)){var s=_r(_d2[11]).device.localStorage.getItem("supportSharedDevices");if(null!=s)return void(this._supportSharedDevices=JSON.parse(s))}var l=null,u=null;try{var c=e?{video:{deviceId:"default"}}:{audio:{deviceId:"default"}},v=null===(n=null===(t=(l=yield _r(_d2[11]).device.mediaDevices.getUserMedia(c)).getTracks()[0])||void 0===t?void 0:t.getSettings())||void 0===n?void 0:n.deviceId,h=e?{video:{deviceId:v}}:{audio:{deviceId:v}},p=null===(o=null===(r=(u=yield _r(_d2[11]).device.mediaDevices.getUserMedia(h)).getTracks()[0])||void 0===r?void 0:r.getSettings())||void 0===o?void 0:o.deviceId;this._supportSharedDevices=v===p}catch(e){this._supportSharedDevices=!1}finally{R({stream:l}),R({stream:u}),_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.LOCAL_STORAGE)&&_r(_d2[11]).device.localStorage.setItem("supportSharedDevices",JSON.stringify(this._supportSharedDevices))}}else this._supportSharedDevices=!1}),function(e,i){return C.apply(this,arguments)})},{key:"init",value:(I=i(function*(e){if(this.mediaControllerOptions=e,null!=this.initialized)return e&&this.setOptions(e),this.initialized;this.initialized=this._init(),e&&this.setOptions(e);try{yield this.initialized}catch(e){throw this.initialized=null,e}return this.isInitialized=!0,this.initialized}),function(e){return I.apply(this,arguments)})},{key:"setOptions",value:function(e){var i;clearInterval(k),null!=e.updateByTimer&&(k=_r(_d2[11]).device.setInterval(this.enumerateDevices,e.updateByTimer)),null!=e.logger&&(null===(i=this.logger)||void 0===i||i.destroy(),this.logger=e.logger)}},{key:"handleDeviceChange",value:function(){this.enumerateDevices(!1)}},{key:"_init",value:(h=i(function*(){return _r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)||this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceNotSupported,"media device is not supported",{})),_r(_d2[11]).device.mediaDevices.removeEventListener("devicechange",this.handleDeviceChange),_r(_d2[11]).device.mediaDevices.addEventListener("devicechange",this.handleDeviceChange),this.enumerateDevices(!0).then(this.observePerms)}),function(){return h.apply(this,arguments)})},{key:"observePerms",value:(v=i(function*(){var e,i,t=this;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.PERMISSIONS)){if((0,_r(_d2[18]).hasPermissionsChangeSupport)(_r(_d2[11]).device))try{this.camPermission=yield _r(_d2[11]).device.permissions.query({name:"camera"}),this.camPermission.addEventListener("change",this.handlePermissionStatusChange),this.micPermission=yield _r(_d2[11]).device.permissions.query({name:"microphone"}),this.micPermission.addEventListener("change",this.handlePermissionStatusChange)}catch(e){var n={};e instanceof Error&&(n={errName:e.name,errMsg:e.message}),this.logger.debug("Unable to query device permissions",n)}finally{this.addInnerDisposer(function(){var e,i;null===(e=t.camPermission)||void 0===e||e.removeEventListener("change",t.handlePermissionStatusChange),null===(i=t.micPermission)||void 0===i||i.removeEventListener("change",t.handlePermissionStatusChange)})}else this.safariPermissionChangePolyfill();this.logger.debug("observePerms()",{cam:null===(e=this.camPermission)||void 0===e?void 0:e.state,mic:null===(i=this.micPermission)||void 0===i?void 0:i.state})}}),function(){return v.apply(this,arguments)})},{key:"handlePermissionStatusChange",value:function(e){var i,t,n,r;"camera"===e.target.name&&(this.camPermission=e.target),"microphone"===e.target.name&&(this.micPermission=e.target);var o=e.target;this.enumerateDevices("prompt"===o.state),this.emit("permissionsChanged",{name:null===(i=e.target)||void 0===i?void 0:i.name,state:null===(t=e.target)||void 0===t?void 0:t.state}),this.logger.debug("permissionsChanged",{name:null===(n=e.target)||void 0===n?void 0:n.name,state:null===(r=e.target)||void 0===r?void 0:r.state})}},{key:"safariPermissionChangePolyfill",value:function(){var e=this;this.logger.debug("Setting safariPermissionStatusInterval"),_r(_d2[11]).device.clearInterval(this.safariPermissionStatusInterval),this.safariPermissionStatusInterval=_r(_d2[11]).device.setInterval(i(function*(){var i,t,n,r;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.PERMISSIONS)){var o=yield _r(_d2[11]).device.permissions.query({name:"camera"}),d=yield _r(_d2[11]).device.permissions.query({name:"microphone"});o.state===(null===(i=e.camPermission)||void 0===i?void 0:i.state)&&d.state===(null===(t=e.micPermission)||void 0===t?void 0:t.state)||(o.state!==(null===(n=e.camPermission)||void 0===n?void 0:n.state)&&e.handlePermissionStatusChange({target:o}),d.state!==(null===(r=e.micPermission)||void 0===r?void 0:r.state)&&e.handlePermissionStatusChange({target:d}))}}),1e3),this.addInnerDisposer(function(){return _r(_d2[11]).device.clearInterval(e.safariPermissionStatusInterval)})}},{key:"requestController",value:function(){var e,i,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,n=Object.assign({},S,{replaceTracks:this.supportSharedDevices,requestAudioPermission:null===(i=null===(e=this.mediaControllerOptions)||void 0===e?void 0:e.requestAudioPermission)||void 0===i||i},t);return this.logger.info("request new MediaStreamController",{options:{defaultConstraints:JSON.stringify(n.defaultConstraints),fallbackConstraints:JSON.stringify(n.fallbackConstraints),defaultLockPolicy:n.defaultLockPolicy,replaceTracks:n.replaceTracks,waitingDelay:n.waitingDelay,displayName:n.displayName,requestAudioPermission:n.requestAudioPermission}}),this.isInitialized||this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaControllerNotInitialized,"init() must be called on the media-controller singleton",{})),Promise.resolve(new x(n))}},{key:"enumerateDevices",value:(u=i(function*(){var e,i,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={audio:!1,video:!1};_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)&&null!=_r(_d2[11]).device.mediaDevices.enumerateDevices||this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceNotSupported,"media device is not supported",{}));var r=[];if(_r(_d2[11]).device.isFirefox||t){var o=yield this.requestPermissions(),d=o.audio,s=o.video,l=o.streams;n=Object.assign({},n,{audio:d,video:s}),r=l}try{var u=yield _r(_d2[11]).device.mediaDevices.enumerateDevices(),c=[],v=function*(e){""===e.deviceId||""===e.label||c.some(function(i){return i.deviceId===e.deviceId&&i.kind===e.kind})||c.push(e)};for(var h of u)yield*v(h);_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.PERMISSIONS)&&(_r(_d2[11]).device.isSafari&&"denied"===(null===(e=this.camPermission)||void 0===e?void 0:e.state)&&(c=c.filter(function(e){return"videoinput"!==e.kind})),_r(_d2[11]).device.isSafari&&"denied"===(null===(i=this.micPermission)||void 0===i?void 0:i.state)&&(c=c.filter(function(e){return"audioinput"!==e.kind}))),(n.video||n.audio)&&(yield this.handleDeviceInUse(n,c)),(f.length!==c.length||f.some(function(e,i){return e.deviceId!==c[i].deviceId||e.groupId!==c[i].groupId||e.label!==c[i].label||e.kind!==c[i].kind}))&&((0,_r(_d2[12]).runInAction)(function(){f.replace(c)}),this.emit("deviceListChanged",f.slice()))}catch(e){this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.EnumeratingDevices,"error enumerating devices",{}))}finally{if(_r(_d2[11]).device.isFirefox||_r(_d2[11]).device.isAndroidDevice)for(var p of r)R({stream:p})}}),function(){return u.apply(this,arguments)})},{key:"checkDevicesInUse",value:function(){var e=this;_r(_d2[11]).device.clearInterval(this.deviceInUseInterval),this.logger.debug("setting checkDevicesInUse() interval"),this.deviceInUseInterval=_r(_d2[11]).device.setInterval(i(function*(){if(0!==e.devicesInUse.length){var i,t=!1,n=!1;try{for(var r,o,d=function*(){var i,t,n=o.value;if(i="videoinput"===n.kind?{audio:!1,video:{deviceId:n.deviceId}}:{audio:{deviceId:n.deviceId},video:!1},_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE))try{t=yield _r(_d2[11]).device.mediaDevices.getUserMedia(i),e.logger.debug(`device no longer in use: ${n.kind}`,n);var r=e.devicesInUse.indexOf(n);r>-1&&(0,_r(_d2[12]).runInAction)(function(){e.devicesInUse.splice(r,1)}),e.emit("devicesInUse",e.devicesInUse)}catch(e){if(e instanceof Error&&"NotReadableError"===e.name)return{v:void 0}}finally{null!=t&&R({stream:t})}},s=c(e.devicesInUse);t=!(o=yield s.next()).done;t=!1)if(r=yield*d())return r.v}catch(e){n=!0,i=e}finally{try{t&&null!=s.return&&(yield s.return())}finally{if(n)throw i}}}else _r(_d2[11]).device.clearInterval(e.deviceInUseInterval)}),3e3),this.addInnerDisposer(function(){return _r(_d2[11]).device.clearInterval(e.deviceInUseInterval)})}},{key:"handleDeviceInUse",value:(s=i(function*(e,i){var t=this;if(e.video){var n,r=!1,o=!1;try{for(var d,s=c(i);r=!(d=yield s.next()).done;r=!1){var l=d.value;if("videoinput"===l.kind&&_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)){var u=void 0;try{u=yield _r(_d2[11]).device.mediaDevices.getUserMedia({audio:!1,video:{deviceId:l.deviceId}})}catch(e){e instanceof Error&&"NotReadableError"===e.name&&(this.logger.debug("deviceInUse: video",l),this.devicesInUse.push(l))}finally{null!=u&&R({stream:u})}}}}catch(e){o=!0,n=e}finally{try{r&&null!=s.return&&(yield s.return())}finally{if(o)throw n}}}if(e.audio){var v,h=!1,p=!1;try{for(var f,I=function*(){var e,i=f.value;if("audioinput"===i.kind&&_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE))try{e=yield _r(_d2[11]).device.mediaDevices.getUserMedia({audio:{deviceId:i.deviceId},video:!1})}catch(e){e instanceof Error&&"NotReadableError"===e.name&&(t.logger.debug("deviceInUse: audio",i),(0,_r(_d2[12]).runInAction)(function(){t.devicesInUse.push(i)}))}finally{null!=e&&R({stream:e})}},C=c(i);h=!(f=yield C.next()).done;h=!1)yield*I()}catch(e){p=!0,v=e}finally{try{h&&null!=C.return&&(yield C.return())}finally{if(p)throw v}}}this.checkDevicesInUse(),this.emit("devicesInUse",this.devicesInUse)}),function(e,i){return s.apply(this,arguments)})},{key:"requestPermissions",value:(o=i(function*(){var e,i,t={audio:!1,video:!1};_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)&&null!=_r(_d2[11]).device.mediaDevices.enumerateDevices||this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceNotSupported,"media device is not supported",{}));var n=[],r=!1,o=!1,d=null===(i=null===(e=this.mediaControllerOptions)||void 0===e?void 0:e.requestAudioPermission)||void 0===i||i;try{n.push(yield _r(_d2[11]).device.mediaDevices.getUserMedia({audio:d,video:!0})),r=d,o=!0}catch(e){try{d&&(n.push(yield _r(_d2[11]).device.mediaDevices.getUserMedia({audio:!0,video:!1})),r=!0)}catch(e){e instanceof Error&&("NotFoundError"===e.name?(this.logger.warn("no audio devices found",{err:(0,_r(_d2[17]).wrapError)(e)}),this.emit("audioNotFound")):"NotAllowedError"===e.name?(this.logger.warn("audio device permission denied",{err:(0,_r(_d2[17]).wrapError)(e)}),this.emit("audioNotAllowed")):"NotReadableError"===e.name?t.audio=!0:this.logger.warn("Audio device error",{err:(0,_r(_d2[17]).wrapError)(e)}))}try{n.push(yield _r(_d2[11]).device.mediaDevices.getUserMedia({audio:!1,video:!0})),o=!0}catch(e){e instanceof Error&&("NotFoundError"===e.name?(this.logger.warn("no video devices found",{err:(0,_r(_d2[17]).wrapError)(e)}),this.emit("videoNotFound")):"NotAllowedError"===e.name?(this.logger.warn("video device permission denied",{err:(0,_r(_d2[17]).wrapError)(e)}),this.emit("videoNotAllowed")):"NotReadableError"===e.name?t.video=!0:this.logger.warn("Video device error",{err:(0,_r(_d2[17]).wrapError)(e)}))}}finally{if(!_r(_d2[11]).device.isFirefox)for(var s of n)R({stream:s})}return yield this.checkSupportSharedDevices(o,r),Object.assign({},t,{streams:n})}),function(){return o.apply(this,arguments)})}]);var o,s,u,v,h,I,C})(_r(_d2[19]).ObservableEventEmitter);L.displayName="MediaController",_e2.mediaController=new L,_e2.optionsKey=Symbol("options");var x=(function(r,o){function u(e){var i,n,r,o,d;return t(this,u),(i=l(this,u)).sync=null,i.audioCtx=null,i.optionsAtom=(0,_r(_d2[12]).createAtom)("options"),i.applyConstraintsAtom=(0,_r(_d2[12]).createAtom)("applyConstraints"),i.capturable=null,i.batchUpdates={timeout:null,changes:[],videoDevice:!1,audioDevice:!1,gain:!1,videoPaused:!1,audioMuted:!1,constraints:!1},i.audioDeviceChanged=null,i.videoDeviceChanged=null,i.audioDeviceChanging=null,i.videoDeviceChanging=null,i.videoDeviceRemoved=null,i.audioDeviceRemoved=null,i.audioMuted=!1,i.availableResolutions=[],i.maxWidth=null,i.maxHeight=null,i.videoPaused=!1,i.videoDisabled=!1,i.audioDisabled=!1,i.facingMode=null,i.gain=1,i.noEchoGainAmplifier=!1,i.resolution=null,i.frameRate=null,i.aspectRatio=null,i.echoCancellation=null,i.noiseSuppression=null,i.autoGainControl=null,_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_STREAM)||i.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaStreamNotSupported,"MediaStream is not supported",{})),i.source=new(_r(_d2[11]).device.MediaStream),i.logger=new(_r(_d2[14]).LoggerCore)(_r(_d2[15]).PACKAGE_NAME).setLoggerMeta("package","VDC-core").setLoggerMeta("client","VDC").setLoggerMeta("release",p.default.version).setLoggerMeta("commitHash",p.default.commit).setLoggerMeta("contextId",null!==(n=(0,_r(_d2[15]).contextId)())&&void 0!==n?n:"").setLoggerMeta("instanceId",null!==(r=(0,_r(_d2[15]).instanceId)())&&void 0!==r?r:"").setMessageAggregate("displayName",null==e?void 0:e.displayName).appendChain(u).attachObject(i),i.logger.trace("constructor()",i),i.on("error",function(e){i.logger.error(e.message)}),(0,_r(_d2[12]).makeObservable)(i,{audioDeviceChanged:_r(_d2[12]).observable.ref,videoDeviceChanged:_r(_d2[12]).observable.ref,audioDeviceChanging:_r(_d2[12]).observable.ref,videoDeviceChanging:_r(_d2[12]).observable.ref,audioMuted:_r(_d2[12]).observable,availableResolutions:_r(_d2[12]).observable,maxWidth:_r(_d2[12]).observable,maxHeight:_r(_d2[12]).observable,videoPaused:_r(_d2[12]).observable,videoDisabled:_r(_d2[12]).observable,audioDisabled:_r(_d2[12]).observable,facingMode:_r(_d2[12]).observable,gain:_r(_d2[12]).observable,resolution:_r(_d2[12]).observable,frameRate:_r(_d2[12]).observable,aspectRatio:_r(_d2[12]).observable,echoCancellation:_r(_d2[12]).observable,noiseSuppression:_r(_d2[12]).observable,autoGainControl:_r(_d2[12]).observable,source:_r(_d2[12]).observable.ref,audioDeviceId:_r(_d2[12]).computed,videoDeviceId:_r(_d2[12]).computed,isScreenCaptured:_r(_d2[12]).computed,sourceUrl:_r(_d2[12]).computed,settings:_r(_d2[12]).computed,toggleCamera:_r(_d2[12]).action,toggleMic:_r(_d2[12]).action,onDeviceListChanged:_r(_d2[12]).action}),i.options=JSON.parse(JSON.stringify(S)),null!=e&&(i.setOptions(Object.assign({},S,e)),null!=(null===(o=null==e?void 0:e.capturable)||void 0===o?void 0:o.element)&&_r(_d2[11]).device.supportsMediaStreamCapture(null===(d=null==e?void 0:e.capturable)||void 0===d?void 0:d.element)&&(i.capturable=e.capturable,i.videoDeviceId=_e2.VIDEO_DEVICE_CAPTURABLE.deviceId,i.applyNewDevices())),i.options.noEchoGainAmplifier&&(i.noEchoGainAmplifier=!0),i.setupMobxBatching(),_e2.mediaController.on("deviceListChanged",i.onDeviceListChanged),i.addInnerDisposer(function(){i.close()}),i}return d(u,r),n(u,[{key:o,get:function(){return this.optionsAtom.reportObserved(),this.options}},{key:"settings",get:function(){var e,i,t,n,r,o,d;this.applyConstraintsAtom.reportObserved();var s={};if(this.hasActiveAudioTrack()){var l=null===(e=this.source)||void 0===e?void 0:e.getAudioTracks()[0],u=y.get(l);null!=l&&null!=u?(s.audioCtx={gain:null===(i=u.gainNode)||void 0===i?void 0:i.gain.value,internallyEnded:u.internallyEnded,track:l.getSettings()},s.audio=null===(t=u.originalTrack)||void 0===t?void 0:t.getSettings()):s.audio=null===(r=null===(n=this.source)||void 0===n?void 0:n.getAudioTracks()[0])||void 0===r?void 0:r.getSettings()}return this.hasActiveVideoTrack()&&(s.video=null===(d=null===(o=this.source)||void 0===o?void 0:o.getVideoTracks()[0])||void 0===d?void 0:d.getSettings()),s}},{key:"sourceUrl",get:function(){return URL.createObjectURL(h.default)}},{key:"audioDeviceId",get:function(){var e,i,t,n;return!0===this.audioDisabled||"placeholder"===this.audioDisabled?null!==(i=null===(e=this.audioDeviceChanging)||void 0===e?void 0:e.deviceId)&&void 0!==i?i:null:null!==(n=null===(t=this.audioDeviceChanged)||void 0===t?void 0:t.deviceId)&&void 0!==n?n:null},set:function(e){var i,t;null!=e?(null==C[e]&&this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceNotAvailable,"audio device not found or not available",{deviceId:e,deviceLabel:null,prevDeviceId:this.audioDeviceId,prevDeviceLabel:null!==(t=null===(i=this.audioDeviceChanged)||void 0===i?void 0:i.label)&&void 0!==t?t:null,kind:"audio"})),this.audioDeviceChanging=this.options.requestAudioPermission?C[e]:null):this.audioDeviceChanging=null}},{key:"inVideoDeviceTransition",get:function(){return null!=this.sync&&this.videoDeviceChanging!==this.videoDeviceChanged}},{key:"inAudioDeviceTransition",get:function(){return null!=this.sync&&this.audioDeviceChanging!==this.audioDeviceChanged}},{key:"videoDeviceId",get:function(){var e,i,t,n;return!0===this.videoDisabled||"placeholder"===this.videoDisabled?null!==(i=null===(e=this.videoDeviceChanging)||void 0===e?void 0:e.deviceId)&&void 0!==i?i:null:null!==(n=null===(t=this.videoDeviceChanged)||void 0===t?void 0:t.deviceId)&&void 0!==n?n:null},set:function(e){var i,t;null!=e?(null==I[e]&&this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceNotAvailable,"video device not found or not available",{deviceId:e,deviceLabel:null,prevDeviceId:this.videoDeviceId,prevDeviceLabel:null!==(t=null===(i=this.videoDeviceChanged)||void 0===i?void 0:i.label)&&void 0!==t?t:null,kind:"video"})),this.videoDeviceChanging=I[e]):this.videoDeviceChanging=null}},{key:"isScreenCaptured",get:function(){var e;return(null===(e=this.videoDeviceChanged)||void 0===e?void 0:e.deviceId)===_e2.VIDEO_DEVICE_SCREENCAPTURE.deviceId}},{key:"hasActiveStream",value:function(){var e=this.hasActiveAudioTrack(),i=this.hasActiveAudioTrack();return e||i}},{key:"hasActiveVideoTrack",value:function(){var e=this.videoDeviceChanged,i=this.videoDisabled;return null!=e&&!1===i}},{key:"hasActiveAudioTrack",value:function(){return null!=this.audioDeviceChanged&&!1===this.audioDisabled}},{key:"toggleCamera",value:function(){this.videoPaused=!this.videoPaused}},{key:"toggleMic",value:function(){this.audioMuted=!this.audioMuted}},{key:"onDeviceListChanged",value:function(e){var i=this;if(null!=this.videoDeviceChanged&&!e.some(function(e){var t;return e.deviceId===(null===(t=i.videoDeviceChanged)||void 0===t?void 0:t.deviceId)})){var t=e.filter(function(e){return"videoinput"===e.kind});if(t.length>0){var n=s(t,1);this.videoDeviceChanging=n[0]}else this.videoDeviceChanging=null}if(null!=this.audioDeviceChanged&&!e.some(function(e){var t;return e.deviceId===(null===(t=i.audioDeviceChanged)||void 0===t?void 0:t.deviceId)})){var r=e.filter(function(e){return"audioinput"===e.kind});if(r.length>0){var o=s(r,1);this.audioDeviceChanging=o[0]}else this.audioDeviceChanging=null}}},{key:"setupMobxBatching",value:function(){var e=this,i={scheduler:this.batchUpdatesScheduler,name:"MediaStreamController(batch update)"};this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return e.videoDeviceChanging},function(){e.batchUpdates.videoDevice=!0},i)),this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return e.audioDeviceChanging},function(){e.batchUpdates.audioDevice=!0},i)),this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return e.videoDisabled},function(){e.batchUpdates.videoDevice=!0},i)),this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return e.audioDisabled},function(){e.batchUpdates.audioDevice=!0},i)),this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return e.gain},function(){e.batchUpdates.gain=!0},i)),this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return e.videoPaused},function(){e.batchUpdates.videoPaused=!0},i)),this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return e.audioMuted},function(){e.batchUpdates.audioMuted=!0},i)),this.addInnerDisposer((0,_r(_d2[12]).reaction)(function(){return[e.facingMode,e.aspectRatio,e.frameRate,e.resolution,e.noiseSuppression,e.autoGainControl,e.echoCancellation]},function(){e.batchUpdates.constraints=!0},i))}},{key:"batchUpdatesScheduler",value:function(e){var i=this;this.batchUpdates.changes.push(e),null==this.batchUpdates.timeout&&(this.batchUpdates.timeout=_r(_d2[11]).device.setInterval(function(){var e;if(null==i.sync){_r(_d2[11]).device.clearInterval(null!==(e=i.batchUpdates.timeout)&&void 0!==e?e:void 0),i.batchUpdates.changes.forEach(function(e){return e()});var t=i.batchUpdates;i.batchUpdates={timeout:null,changes:[],videoDevice:!1,audioDevice:!1,gain:!1,videoPaused:!1,audioMuted:!1,constraints:!1},t.audioDevice||t.videoDevice?i.applyNewDevices():!t.constraints||_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.APPLY_CONSTRAINTS)?(t.audioMuted&&i.applyAudioMute(),t.videoPaused&&i.applyVideoPause(),t.gain&&i.applyGain(),t.constraints&&i.applyConstraints()):i.applyConstraints()}},10))}},{key:"setOptions",value:function(e){var i=!1;null!=e.replaceTracks&&(this.options.replaceTracks=e.replaceTracks),null!=e.requestAudioPermission&&(this.options.requestAudioPermission=e.requestAudioPermission),null!=e.defaultConstraints&&(this.options.defaultConstraints=Object.assign({},e.defaultConstraints),i=!0),void 0!==e.fallbackConstraints&&(this.options.fallbackConstraints=null==e.fallbackConstraints?null:Object.assign({},e.fallbackConstraints),i=!0),void 0!==e.capturable&&(this.capturable=e.capturable),i&&this.applyConstraints(),this.optionsAtom.reportChanged()}},{key:"constraints",value:function(e){var i=e.withAudio,t=void 0===i||i,n=e.withVideo,r=void 0===n||n;return V({defaults:this.options.defaultConstraints,audioDeviceInfo:this.options.requestAudioPermission&&t&&!0!==this.audioDisabled?this.audioDeviceChanging:null,videoDeviceInfo:!0!==this.videoDisabled&&r?this.videoDeviceChanging:null,overrides:{aspectRatio:this.aspectRatio,autoGainControl:this.autoGainControl,echoCancellation:this.echoCancellation,facingMode:this.facingMode,frameRate:this.frameRate,noiseSuppression:this.noiseSuppression,resolution:null!=this.maxHeight&&0!==this.maxHeight&&null==this.resolution?{min:240,ideal:this.maxHeight,max:this.maxHeight}:this.resolution}})}},{key:"fallbackConstraints",value:function(e){var i=e.withAudio,t=void 0===i||i,n=e.withVideo,r=void 0===n||n;return null==this.options.fallbackConstraints?null:V({defaults:this.options.fallbackConstraints,audioDeviceInfo:this.options.requestAudioPermission&&t&&!0!==this.audioDisabled?this.audioDeviceChanging:null,videoDeviceInfo:!0!==this.videoDisabled&&r?this.videoDeviceChanging:null,overrides:{aspectRatio:this.aspectRatio,autoGainControl:this.autoGainControl,echoCancellation:this.echoCancellation,facingMode:this.facingMode,frameRate:this.frameRate,noiseSuppression:this.noiseSuppression,resolution:null!=this.maxHeight&&0!==this.maxHeight&&null==this.resolution?{min:240,ideal:this.maxHeight,max:this.maxHeight}:this.resolution}})}},{key:"activeConstraints",value:function(){var e,i,t,n,r,o;this.applyConstraintsAtom.reportObserved();var d={};try{if(this.hasActiveVideoTrack()&&(d.video=null===(t=null===(i=null===(e=this.source)||void 0===e?void 0:e.getVideoTracks())||void 0===i?void 0:i[0])||void 0===t?void 0:t.getConstraints()),this.hasActiveAudioTrack()){var s=null===(r=null===(n=this.source)||void 0===n?void 0:n.getAudioTracks())||void 0===r?void 0:r[0];if(null!=s){var l=null===(o=y.get(s))||void 0===o?void 0:o.originalTrack;d.audio=null!=l?l.getConstraints():s.getConstraints()}}}catch(e){this.logger.warn("unable to detect active constaints")}return d}},{key:"activeCapabilities",value:function(){var e,i,t,n,r,o,d={};try{if(this.hasActiveVideoTrack()&&(d.video=null===(t=null===(i=null===(e=this.source)||void 0===e?void 0:e.getVideoTracks())||void 0===i?void 0:i[0])||void 0===t?void 0:t.getCapabilities()),this.hasActiveAudioTrack()){var s=null===(r=null===(n=this.source)||void 0===n?void 0:n.getAudioTracks())||void 0===r?void 0:r[0];if(null!=s){var l=null===(o=y.get(s))||void 0===o?void 0:o.originalTrack;d.audio=null!=l?l.getCapabilities():s.getCapabilities()}}}catch(e){this.logger.warn("unable to detect active capabilities")}return d}},{key:"stopTracksInternal",value:function(e){var i=this;R({stream:e.stream,audio:e.audio,video:e.video,removeEventListenerCb:function(e){"audio"===e.kind?e.removeEventListener("ended",i.handleAudioTrackEnded):e.removeEventListener("ended",i.handleVideoTrackEnded)}})}},{key:"applyVideoPause",value:function(){var e,i=this,t=this.videoPaused;(null===(e=this.videoDeviceChanged)||void 0===e?void 0:e.deviceId)!==_e2.VIDEO_DEVICE_SCREENCAPTURE.deviceId&&this.source.getVideoTracks().forEach(function(e){t?i.logger.debug("pause video track",{trackId:e.id}):i.logger.debug("unpause video track",{trackId:e.id}),e.enabled=!t})}},{key:"applyAudioMute",value:function(){var e=this,i=this.audioMuted;this.source.getAudioTracks().forEach(function(t){i?e.logger.debug("disable audio track",{trackId:t.id}):e.logger.debug("enable audio track",{trackId:t.id}),t.enabled=!i})}},{key:"getVideoDevice",value:function(){return"placeholder"===this.videoDisabled?_e2.VIDEO_DEVICE_CAPTURABLE:this.videoDisabled?null:this.videoDeviceChanging}},{key:"applyNewDevices",value:(B=i(function*(){var e=this,i=this.options.replaceTracks,t=this.getVideoDevice(),n=!0===this.audioDisabled||"placeholder"===this.audioDisabled?null:this.audioDeviceChanging,r=this.videoDeviceChanged,o=this.audioDeviceChanged,d=t!==this.videoDeviceChanged,s=this.audioDeviceChanging!==this.audioDeviceChanged;if(null!=t||null!=n){this.logger.debug("preparing new devices",{videoDevice:t,audioDevice:n,videoChanged:d,audioChanged:s,replaceTracks:i});var l=null,u=this.source;if(i)try{yield this.handleUpdateResolutions({videoDevice:t,videoChanged:d,videoDeviceOld:r}),l=yield this.lockAndPrepareStream(t,this.options.defaultLockPolicy,this.constraints({withAudio:s,withVideo:d}),this.fallbackConstraints({withAudio:s,withVideo:d})),this.stopTracksInternal({stream:u,audio:s,video:d})}catch(e){return void this.handleNewStreamError({newStream:l,err:e,deviceState:{videoDevice:t,audioDevice:n,videoDeviceOld:r,audioDeviceOld:o,videoChanged:d,audioChanged:s}})}else try{this.stopTracksInternal({stream:u,audio:s,video:d}),yield this.handleUpdateResolutions({videoDevice:t,videoChanged:d,videoDeviceOld:r}),l=yield this.lockAndPrepareStream(t,this.options.defaultLockPolicy,this.constraints({withAudio:s,withVideo:d}),this.fallbackConstraints({withAudio:s,withVideo:d}))}catch(e){return void this.handleNewStreamError({newStream:l,err:e,deviceState:{videoDevice:t,audioDevice:n,videoDeviceOld:r,audioDeviceOld:o,videoChanged:d,audioChanged:s}})}for(var c of u.getTracks())u.removeTrack(c),l.addTrack(c);var v=l;(0,_r(_d2[12]).action)("applyNewDevices",function(){e.audioDeviceChanged=n,e.videoDeviceChanged=t,e.source=v,e.logger.info("applied new devices",{videoDevice:t,audioDevice:n})})()}else(0,_r(_d2[12]).action)("applyNewDevices",function(){_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_STREAM)&&(e.audioDeviceChanged=n,e.videoDeviceChanged=t,e.stopTracksInternal({stream:e.source}),e.source=new(_r(_d2[11]).device.MediaStream))})()}),function(){return B.apply(this,arguments)})},{key:"handleNewStreamError",value:(j=i(function*(e){var i,t,n,r,o,d,s,l,u=this,c=e.newStream,v=e.err,h=e.deviceState,p=h.videoDevice,I=h.audioDevice,C=h.videoDeviceOld,D=h.audioDeviceOld,E=h.videoChanged,y=h.audioChanged;if(this.stopTracksInternal({stream:c}),v instanceof Error&&"NotReadableError"===v.name)return yield _e2.mediaController.handleDeviceInUse({audio:!0,video:!0},f),this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.DeviceInUse,"device(s) already in use",v)),void(null==this.sync&&(0,_r(_d2[12]).action)("rollbackDevices",function(){u.videoDeviceChanging=C,u.audioDeviceChanging=D})());E&&this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceChangingFailed,"unable to change video device",{deviceId:null!==(i=null==p?void 0:p.deviceId)&&void 0!==i?i:null,deviceLabel:null!==(t=null==p?void 0:p.label)&&void 0!==t?t:null,prevDeviceId:null!==(n=null==C?void 0:C.deviceId)&&void 0!==n?n:null,prevDeviceLabel:null!==(r=null==C?void 0:C.label)&&void 0!==r?r:null,kind:"video"},v)),y&&this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceChangingFailed,"unable to change audio device",{deviceId:null!==(o=null==I?void 0:I.deviceId)&&void 0!==o?o:null,deviceLabel:null!==(d=null==I?void 0:I.label)&&void 0!==d?d:null,prevDeviceId:null!==(s=null==D?void 0:D.deviceId)&&void 0!==s?s:null,prevDeviceLabel:null!==(l=null==D?void 0:D.label)&&void 0!==l?l:null,kind:"audio"},v)),this.emit("changeDevicesError",{err:v,audio:{old:D,new:I},video:{old:C,new:p}}),null==this.sync&&(0,_r(_d2[12]).action)("rollbackDevices",function(){u.videoDeviceChanging=C,u.audioDeviceChanging=D})()}),function(e){return j.apply(this,arguments)})},{key:"handleUpdateResolutions",value:(q=i(function*(e){var i,t,n,r,o=e.videoDevice,d=e.videoDeviceOld;if(e.videoChanged&&o!==_e2.VIDEO_DEVICE_SCREENCAPTURE&&o!==_e2.VIDEO_DEVICE_CAPTURABLE)try{yield this.updateResolutions(o)}catch(e){this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.UpdateResolutionsFailed,"unable to update available resolutions",{kind:"video",deviceId:null!==(i=null==o?void 0:o.deviceId)&&void 0!==i?i:null,deviceLabel:null!==(t=null==o?void 0:o.label)&&void 0!==t?t:null,prevDeviceId:null!==(n=null==d?void 0:d.deviceId)&&void 0!==n?n:null,prevDeviceLabel:null!==(r=null==d?void 0:d.label)&&void 0!==r?r:null},e))}}),function(e){return q.apply(this,arguments)})},{key:"getDeviceResolutions",value:(G=i(function*(e){var i,t=e.videoDevice,n=e.deviceInUse,r="number"==typeof this.aspectRatio?this.aspectRatio:1.7777777777777777,o=null,d=null,l=!1;if(null==(null==t?void 0:t.deviceId))return this.logger.debug("Unable to get best resolution stream, deviceId undefined"),{maxHeight:d,maxWidth:o,availableResolutions:[],resolutionsInUse:l};this.logger.debug(`Getting best resolution stream for ${t.deviceId}`,{newVersion:"1.0"});var u={deviceId:{exact:t.deviceId}};_r(_d2[11]).device.isFirefox&&(u=Object.assign({},u,{height:{ideal:4e3}}));var c=yield this.lockAndPrepareStream(t,_r(_d2[13]).ExistsStreamPolicy.error,{video:u});i=O({stream:c,logger:this.logger,deviceInUse:n}),this.stopTracksInternal({stream:c});var v=null!=b[t.deviceId]&&n?b[t.deviceId]:i,h=s(v,2);o=h[0],d=h[1];var p=E.filter(function(e){return null!=o&&null!=d&&e<=d&&e*r<=o});if(n){var f=s(i,2),I=f[0],C=f[1],D=E.filter(function(e){return null!=I&&null!=C&&e<=C&&e*r<=I});D.length<p.length&&(l=!0,this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.ResolutionsInUse,"device is already in use by another application and some resolutions are unavailable",{videoDevice:t,allAvailableResolutions:p,currentAvailableResolutions:D})))}return{maxWidth:o,maxHeight:d,availableResolutions:p,deviceResolutions:i,resolutionsInUse:l}}),function(e){return G.apply(this,arguments)})},{key:"updateResolutions",value:(F=i(function*(e){var i=this,t=null==e?void 0:e.deviceId;if(!this.options.replaceTracks&&this.source.getVideoTracks().some(function(e){return"live"===e.readyState}))throw new Error("attempt to get resolutions with replaceTracks enabled and running stream");if(null==t)return this.logger.debug("Unable to get best resolution stream, deviceId undefined"),void(0,_r(_d2[12]).runInAction)(function(){i.maxWidth=0,i.maxHeight=0,i.availableResolutions=[]});if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.LOCAL_STORAGE)){var n,r=_r(_d2[11]).device.localStorage.getItem(U(t));if(null!=r)try{n=JSON.parse(r),Array.isArray(n)&&(b[t]=n)}catch(e){var o=e instanceof Error?e.message:"unknown error";this.logger.error("unable to parse device resolution settings",{data:r,err:o})}}var d=yield this.getDeviceResolutions({videoDevice:e,deviceInUse:!1}),s=d.maxWidth,l=d.maxHeight,u=d.availableResolutions,c=d.deviceResolutions;null==b[t]&&null!=c&&(b[t]=c,_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.LOCAL_STORAGE)&&_r(_d2[11]).device.localStorage.setItem(U(t),JSON.stringify(b[t]))),(0,_r(_d2[12]).runInAction)(function(){i.maxWidth=s,i.maxHeight=l,i.availableResolutions=u})}),function(e){return F.apply(this,arguments)})},{key:"applyConstraintsVideo",value:(x=i(function*(e,i,t){var n,r=this;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.APPLY_CONSTRAINTS)){this.logger.debug("apply video constraints",{defaultVideo:t,fallbackVideo:i}),_r(_d2[11]).device.isSafari&&delete t.deviceId;try{yield _r(_d2[11]).device.applyConstraints(e,t)}catch(l){this.logger.warn("unable to apply video constraints",{defaultVideo:t});var o=l instanceof Error||(0,_r(_d2[20]).isErrorLike)(l)?l:null,d=this.activeConstraints(),s=(0,_r(_d2[21]).diff)(t,null!==(n=d.video)&&void 0!==n?n:{});this.emit("videoConstraintsError",{diff:s,isFallback:!1,constraints:t,err:(0,_r(_d2[17]).wrapError)(o)}),null!=i&&"boolean"!=typeof i&&(this.logger.debug("trying fallback video constraints",{fallbackVideo:i}),_r(_d2[11]).device.applyConstraints(e,i).catch(function(n){var o,d=n instanceof Error||(0,_r(_d2[20]).isErrorLike)(n)?n:null,s=r.activeConstraints(),l=(0,_r(_d2[21]).diff)(i,null!==(o=s.video)&&void 0!==o?o:{});null!=d&&(0,_r(_d2[20]).isOverconstrainedError)(d)&&"height"===d.constraint?(r.logger.error("Unable to apply selected resolution, please select a resolution supported by your current video device.",{fallbackConstraints:i,defaultConstraints:t,trackId:e.id,trackType:e.kind,err:(0,_r(_d2[17]).wrapError)(d)}),r.emit("videoConstraintsError",{diff:l,isFallback:!0,constraints:i,err:(0,_r(_d2[17]).wrapError)(d)}),r.getDeviceResolutions({videoDevice:r.getVideoDevice(),deviceInUse:!0})):(r.logger.error("Unable to apply video constraints. Try restarting the stream.",{fallbackConstraints:i,defaultConstraints:t,trackId:e.id,trackType:e.kind,err:(0,_r(_d2[17]).wrapError)(d)}),r.emit("videoConstraintsError",{diff:l,isFallback:!0,constraints:i,err:(0,_r(_d2[17]).wrapError)(d)}))}))}}}),function(e,i,t){return x.apply(this,arguments)})},{key:"applyConstraintsAudio",value:(L=i(function*(e,i,t){var n,r,o=this;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.APPLY_CONSTRAINTS))try{_r(_d2[11]).device.isSafari&&delete i.deviceId,yield _r(_d2[11]).device.applyConstraints(e,i)}catch(v){this.logger.warn("unable to apply constraints",{defaultAudio:i});var d=v instanceof Error||(0,_r(_d2[20]).isErrorLike)(v)?v:null,s=this.activeConstraints(),l=(0,_r(_d2[21]).diff)(i,null!==(n=s.audio)&&void 0!==n?n:{});if(this.emit("audioConstraintsError",{diff:l,isFallback:!1,constraints:i,err:(0,_r(_d2[17]).wrapError)(d)}),null!=t&&"boolean"!=typeof t){this.logger.debug("trying fallback apply constraints",{fallbackAudio:t});var u=this.activeConstraints(),c=(0,_r(_d2[21]).diff)(t,null!==(r=u.audio)&&void 0!==r?r:{});_r(_d2[11]).device.applyConstraints(e,t).catch(function(n){var r=n instanceof Error||(0,_r(_d2[20]).isErrorLike)(n)?n:null;o.logger.error("unable to apply audio constraints. restart stream",{fallbackConstraints:t,defaultConstraints:i,trackId:e.id,trackType:e.kind,err:(0,_r(_d2[17]).wrapError)(r)}),o.emit("audioConstraintsError",{diff:c,isFallback:!0,constraints:t,err:(0,_r(_d2[17]).wrapError)(r)})})}}}),function(e,i,t){return L.apply(this,arguments)})},{key:"applyConstraints",value:(N=i(function*(){var i=this;if(null!=this.audioDeviceChanging||null!=this.videoDeviceChanging)if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.APPLY_CONSTRAINTS)){var t=this.source,n=this.constraints({withAudio:!0,withVideo:!0}),r=this.fallbackConstraints({withAudio:!0,withVideo:!0}),o=[],d=n.video,s=null==r?void 0:r.video,l=n.audio,u=null==r?void 0:r.audio;null!=d&&"boolean"!=typeof d&&o.push.apply(o,e(t.getVideoTracks().filter(function(e){return"ended"!==e.readyState}).map(function(e){return i.applyConstraintsVideo(e,s,d)}))),null!=l&&"boolean"!=typeof l&&o.push.apply(o,e(t.getAudioTracks().map(function(e){var i;return null!=(null===(i=y.get(e))||void 0===i?void 0:i.originalTrack)?y.get(e).originalTrack:e}).filter(function(e){return e}).map(function(e){return i.applyConstraintsAudio(e,l,u)}))),yield Promise.all(o),this.applyConstraintsAtom.reportChanged()}else{this.stopTracksInternal({stream:this.source});try{this.source=yield this.lockAndPrepareStream(this.videoDeviceChanging,this.options.defaultLockPolicy,this.constraints({withAudio:!0,withVideo:!0}),this.fallbackConstraints({withAudio:!0,withVideo:!0}))}catch(e){this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.ApplyingConstraintsFailed,"applying constraints failed",{constraints:this.constraints({withAudio:!0,withVideo:!0}),fallbackConstraints:this.fallbackConstraints({withAudio:!0,withVideo:!0})},e))}}}),function(){return N.apply(this,arguments)})},{key:"supportsNoiseSuppression",value:function(){var e;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE))try{return null!==(e=_r(_d2[11]).device.mediaDevices.getSupportedConstraints().noiseSuppression)&&void 0!==e&&e}catch(e){return!1}return!1}},{key:"supportsEchoCancellation",value:function(){var e;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE))try{return null!==(e=_r(_d2[11]).device.mediaDevices.getSupportedConstraints().echoCancellation)&&void 0!==e&&e}catch(e){return!1}return!1}},{key:"applyGain",value:(w=i(function*(){var e=this.source.getAudioTracks()[0],i=y.get(e);if(null!=(null==i?void 0:i.gainNode)){var t=_(e);this.noEchoGainAmplifier&&!1===t.echoCancellation?i.gainNode.gain.value=10*this.gain:i.gainNode.gain.value=this.gain,this.applyConstraintsAtom.reportChanged()}}),function(){return w.apply(this,arguments)})},{key:"lockAndPrepareStream",value:(M=i(function*(e,i,t,n){var r=this,o=e===_e2.VIDEO_DEVICE_SCREENCAPTURE?"screencapture":e===_e2.VIDEO_DEVICE_CAPTURABLE?"captureable":"media";if(!1===t.audio&&!1===t.video&&_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_STREAM))return new(_r(_d2[11]).device.MediaStream);if(this.logger.trace("lockAndPrepareStream()",{policy:_r(_d2[13]).ExistsStreamPolicy[i],constraints:t}),null!=this.sync)switch(i){case _r(_d2[13]).ExistsStreamPolicy.error:this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaStreamPreparingConflict,"MediaStream is preparing already",{}));break;case _r(_d2[13]).ExistsStreamPolicy.stale:return this.logger.debug("stream is preparing already, waiting"),this.sync;case _r(_d2[13]).ExistsStreamPolicy.wait:return yield this.sync,new Promise(function(o,d){_r(_d2[11]).device.setTimeout(function(){r.lockAndPrepareStream(e,i,t,n).then(o).catch(d)},r.options.waitingDelay)});case _r(_d2[13]).ExistsStreamPolicy.ignore:this.sync.then(function(e){r.stopTracksInternal({stream:e})});break;default:throw new Error(`Unknown policy MediaStream ${i}`)}return this.sync=this.prepareStream(o,t).catch(function(e){if(null!=n&&"media"===o)return r.logger.warn("constraints failed. using fallback constraints",{constraints:t,fallbackConstraints:n,err:e}),r.prepareStream(o,n);throw e}),this.sync.finally(function(){r.sync=null})}),function(e,i,t,n){return M.apply(this,arguments)})},{key:"prepareStream",value:(P=i(function*(e,i){var t,n,r=this;this.logger.trace("prepareStream() start",{constraints:i});var o=null;if(o="screencapture"===e?yield this.prepareScreenCaptureStream({audio:i.audio,video:this.options.defaultConstraints.screencapture}):"captureable"===e?yield this.prepareCapturableStream({audio:i.audio}):yield this.prepareMediaStream(i),"media"===e&&o.getVideoTracks().forEach(function(e){e.addEventListener("ended",r.handleVideoTrackEnded)}),o.getAudioTracks().forEach(function(e){e.addEventListener("ended",r.handleAudioTrackEnded)}),!1!==i.audio){var d=this.noEchoGainAmplifier&&"boolean"!=typeof i.audio&&!1===(null===(t=i.audio)||void 0===t?void 0:t.echoCancellation)?10*this.gain:this.gain;o=T(this.logger,o,d)}for(var s of null!==(n=null==o?void 0:o.getTracks())&&void 0!==n?n:[])"ended"===s.readyState&&this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaTrackEnded,"track ended unexpectedly",{trackId:s.id,kind:s.kind})),"video"===s.kind&&(s.enabled=!this.videoPaused),"audio"===s.kind&&(s.enabled=!this.audioMuted);return this.logger.trace("prepareStream() finished"),o}),function(e,i){return P.apply(this,arguments)})},{key:"handleAudioTrackEnded",value:(A=i(function*(){var e,i=this;"denied"!==(null===(e=_e2.mediaController.micPermission)||void 0===e?void 0:e.state)&&(yield _e2.mediaController.enumerateDevices(),(null==f?void 0:f.some(function(e){return"audioinput"===e.kind&&e.deviceId===i.audioDeviceId}))||(this.logger.warn("Audio device no longer exists in list of available devices, check to see if device was removed"),this.emit("audioDeviceRemoved",this.audioDeviceId),this.audioDeviceId=null))}),function(){return A.apply(this,arguments)})},{key:"handleVideoTrackEnded",value:(k=i(function*(){var e,i=this;"denied"!==(null===(e=_e2.mediaController.camPermission)||void 0===e?void 0:e.state)&&(this.logger.warn("video track has ended unexpectedly (perm revoked?)"),yield _e2.mediaController.enumerateDevices(),(null==f?void 0:f.some(function(e){return"videoinput"===e.kind&&e.deviceId===i.videoDeviceId}))||(this.logger.warn("Video device no longer exists in list of available devices, check to see if device was removed"),this.emit("videoDeviceRemoved",this.videoDeviceId),this.videoDeviceId=null))}),function(){return k.apply(this,arguments)})},{key:"prepareMediaStream",value:(D=i(function*(e){return this.logger.trace("prepareMediaStream()"),_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)&&null!=_r(_d2[11]).device.mediaDevices.getUserMedia||this.throwError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.MediaDeviceNotSupported,"MediaDevices not supported",{})),this.logger.debug("using constraints",{constraints:e}),_r(_d2[11]).device.mediaDevices.getUserMedia(e)}),function(e){return D.apply(this,arguments)})},{key:"prepareScreenCaptureStream",value:(v=i(function*(e){var i,t;this.logger.trace("prepareScreenCaptureStream()",{constraints:e});var n=null,r=null;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_STREAM)&&_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)&&"function"==typeof _r(_d2[11]).device.mediaDevices.getDisplayMedia){var o=null===(t=null===(i=_r(_d2[11]).device.mediaDevices)||void 0===i?void 0:i.getDisplayMedia)||void 0===t?void 0:t.call(i,{video:e.video});if(null!=o)try{n=yield o}catch(e){throw this.videoDeviceChanging=null,e}r=!1!==e.audio?yield this.prepareMediaStream({audio:e.audio}):new(_r(_d2[11]).device.MediaStream)}if(null==n||null==r)throw new Error("unable to capture screen");return n.getTracks().forEach(function(e){y.set(e,{deviceId:_e2.VIDEO_DEVICE_SCREENCAPTURE.deviceId}),null==r||r.addTrack(e)}),r}),function(e){return v.apply(this,arguments)})},{key:"prepareCapturableStream",value:(c=i(function*(e){var i,t;this.logger.trace("prepareCapturableStream()",{constraints:e});var n=null,r=null;if(_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_STREAM)&&null!=(null===(i=this.capturable)||void 0===i?void 0:i.element)&&_r(_d2[11]).device.supportsMediaStreamCapture(null===(t=this.capturable)||void 0===t?void 0:t.element)?n=_r(_d2[11]).device.captureStream(this.capturable.element,this.capturable.framerate):this.logger.warn("unable to support stream capture"),_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_DEVICE)&&_r(_d2[11]).device.isImplements(_r(_d2[11]).Feature.MEDIA_STREAM)&&(r=!1===e.audio||null==e.audio?new(_r(_d2[11]).device.MediaStream):yield this.prepareMediaStream({audio:e.audio})),null==n||null==r)throw new Error(`prepareCapturableStream(): unable to generate MediaStream from provided inputs. CapturableStream is null: ${null==n}. Base MediaStream is null: ${null==r}`);return n.getTracks().forEach(function(e){y.set(e,{deviceId:_e2.VIDEO_DEVICE_CAPTURABLE.deviceId}),null==r||r.addTrack(e)}),r}),function(e){return c.apply(this,arguments)})},{key:"close",value:function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not provided";try{this.stopTracksInternal({stream:this.source}),this.audioDeviceChanging=null,this.videoDeviceChanging=null,this.logger.info("MediaController Class close()",{aggregates:{reason:i}})}catch(e){this.emitError((0,_r(_d2[17]).createError)(_r(_d2[13]).ErrorCode.DisposingError,"unable to dispose media stream controller",{className:u.displayName,reason:i},e))}null===(e=this.audioCtx)||void 0===e||e.close().catch(function(){})}},{key:"toJSON",value:function(){var e,i,t;return{audioMuted:this.audioMuted,videoPaused:this.videoPaused,videoDisabled:this.videoDisabled,audioDisabled:this.audioDisabled,inAudioDeviceTransition:this.inAudioDeviceTransition,inVideoDeviceTransition:this.inVideoDeviceTransition,hasSync:null!=this.sync,mscOptions:{replaceTracks:null===(e=this.options)||void 0===e?void 0:e.replaceTracks,waitingDelay:null===(i=this.options)||void 0===i?void 0:i.waitingDelay,defaultLockPolicy:null===(t=this.options)||void 0===t?void 0:t.defaultLockPolicy},aggregates:{audioDeviceId:this.audioDeviceId,videoDeviceId:this.videoDeviceId}}}}]);var c,v,D,k,A,P,M,w,N,L,x,F,G,q,j,B})(_r(_d2[19]).ObservableEventEmitter,_e2.optionsKey);_e2.MediaStreamController=x,x.displayName="MediaStreamController"},862,[6,345,12,13,23,25,28,38,487,863,600,502,526,485,507,605,529,613,551,528,547,864]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerGlobal=void 0,Object.defineProperty(e,"LoggerGlobal",{enumerable:!0,get:function(){return r(d[0]).LoggerGlobal}}),e.default=r(d[1]).LoggerCore},863,[517,512]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addedDiff",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"deletedDiff",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"detailedDiff",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"diff",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"updatedDiff",{enumerable:!0,get:function(){return u.default}});var t=o(r(d[0])),n=o(r(d[1])),f=o(r(d[2])),u=o(r(d[3])),l=o(r(d[4]));function o(t){return t&&t.__esModule?t:{default:t}}},864,[865,867,868,869,870]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(u,n){if(u===n)return{};if(!(0,r(d[0]).isObject)(u)||!(0,r(d[0]).isObject)(n))return n;var c=Object.keys(u).reduce(function(t,u){return(0,r(d[0]).hasOwnProperty)(n,u)||(t[u]=void 0),t},(0,r(d[0]).makeObjectWithoutPrototype)());return(0,r(d[0]).isDate)(u)||(0,r(d[0]).isDate)(n)?u.valueOf()==n.valueOf()?{}:n:Object.keys(n).reduce(function(c,s){if(!(0,r(d[0]).hasOwnProperty)(u,s))return c[s]=n[s],c;var o=t(u[s],n[s]);return!(0,r(d[0]).isEmptyObject)(o)||(0,r(d[0]).isDate)(o)||!(0,r(d[0]).isEmptyObject)(u[s])&&(0,r(d[0]).isEmptyObject)(n[s])?(c[s]=o,c):c},c)},u=t;e.default=u},865,[866]);
__d(function(g,r,i,a,m,e,_d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeObjectWithoutPrototype=e.isObject=e.isEmptyObject=e.isEmpty=e.isDate=e.hasOwnProperty=void 0;e.isDate=function(t){return t instanceof Date};var t=function(t){return 0===Object.keys(t).length};e.isEmpty=t;var n=function(t){return null!=t&&'object'==typeof t};e.isObject=n;e.hasOwnProperty=function(t){for(var n,o=arguments.length,c=new Array(o>1?o-1:0),u=1;u<o;u++)c[u-1]=arguments[u];return(n=Object.prototype.hasOwnProperty).call.apply(n,[t].concat(c))};e.isEmptyObject=function(o){return n(o)&&t(o)};e.makeObjectWithoutPrototype=function(){return Object.create(null)}},866,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(u,c){return u!==c&&(0,r(d[0]).isObject)(u)&&(0,r(d[0]).isObject)(c)?Object.keys(c).reduce(function(n,o){if((0,r(d[0]).hasOwnProperty)(u,o)){var s=t(u[o],c[o]);return(0,r(d[0]).isObject)(s)&&(0,r(d[0]).isEmpty)(s)||(n[o]=s),n}return n[o]=c[o],n},(0,r(d[0]).makeObjectWithoutPrototype)()):{}},u=t;e.default=u},867,[866]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(u,c){return u!==c&&(0,r(d[0]).isObject)(u)&&(0,r(d[0]).isObject)(c)?Object.keys(u).reduce(function(n,o){if((0,r(d[0]).hasOwnProperty)(c,o)){var s=t(u[o],c[o]);return(0,r(d[0]).isObject)(s)&&(0,r(d[0]).isEmpty)(s)||(n[o]=s),n}return n[o]=void 0,n},(0,r(d[0]).makeObjectWithoutPrototype)()):{}},u=t;e.default=u},868,[866]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(u,c){return u===c?{}:(0,r(d[0]).isObject)(u)&&(0,r(d[0]).isObject)(c)?(0,r(d[0]).isDate)(u)||(0,r(d[0]).isDate)(c)?u.valueOf()==c.valueOf()?{}:c:Object.keys(c).reduce(function(s,n){if((0,r(d[0]).hasOwnProperty)(u,n)){var O=t(u[n],c[n]);return!(0,r(d[0]).isEmptyObject)(O)||(0,r(d[0]).isDate)(O)||!(0,r(d[0]).isEmptyObject)(u[n])&&(0,r(d[0]).isEmptyObject)(c[n])?(s[n]=O,s):s}return s},(0,r(d[0]).makeObjectWithoutPrototype)()):c},u=t;e.default=u},869,[866]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[0])),u=l(r(d[1])),f=l(r(d[2]));function l(t){return t&&t.__esModule?t:{default:t}}var n=function(l,n){return{added:(0,t.default)(l,n),deleted:(0,u.default)(l,n),updated:(0,f.default)(l,n)}};e.default=n},870,[867,868,869]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0,Object.defineProperty(e,"Feature",{enumerable:!0,get:function(){return r(d[0]).Feature}}),r(d[1]).__exportStar(r(d[2]),e)},871,[493,487,494]);
__d(function(g,r,i,a,m,_e2,d){"use strict";var e=r(d[0]),t=r(d[1]),o=r(d[2]),s=r(d[3]),n=r(d[4]),c=r(d[5]);function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.Recorder=void 0;var u=r(d[6]).__importDefault(r(d[7])),h=(function(h){function p(e,o){var c,h,v,f,y,k,E,w,R,S,M,D,A,T;t(this,p),D=this,A=n(A=p),(c=s(D,l()?Reflect.construct(A,T||[],n(D).constructor):A.apply(D,T))).recorder=null,c.locked=!1,c.destroyed=!1,c.localFilePath=null,c.writable=null,c.totalStorageAvailable=0,c.maxRecordingLength=0,c.dataWritten=!1,c.closing=!1,c.saving=!1,c.storageAlertSent=!1,c.userClosedSave=!1,c.dataAggregate=[],r(d[8]).device.isImplements(r(d[8]).Feature.MEDIA_RECORDER)||c.throwErrorDeprecated(new(r(d[9]).NotSupportedError)("MediaRecorder is not supported",{})),r(d[8]).device.isImplements(r(d[8]).Feature.MEDIA_STREAM)&&r(d[8]).device.isImplements(r(d[8]).Feature.MEDIA_DEVICE)||c.throwErrorDeprecated(new(r(d[9]).NotSupportedError)("MediaStream is not supported",{})),r(d[8]).device.isImplements(r(d[8]).Feature.AUDIO_CONTEXT)||c.throwErrorDeprecated(new(r(d[9]).NotSupportedError)("AudioContext is not supported",{})),c.device=r(d[8]).device,c.logger=null!==(h=o.logger)&&void 0!==h?h:new(r(d[10]).LoggerCore)(r(d[11]).PACKAGE_NAME).setLoggerMeta("client","VDC").setLoggerMeta("release",u.default.version).appendChain(p),c.on("error",function(e){r(d[9]).VideoClientErrorDeprecated.log(e,c.logger)}),c.stream=null!=e?e:null,c.options=null!=o?o:{},c.options.mimetype=null!==(v=c.options.mimetype)&&void 0!==v?v:r(d[8]).device.isIosDevice?"video/mp4":"video/webm;codecs=VP8",c.options.startRecordingWhenClicked=null===(f=c.options.startRecordingWhenClicked)||void 0===f||f;var C=null!==(y=c.options.audioBitsPerSecond)&&void 0!==y?y:128e3;c.options.audioBitsPerSecond=C;var b=null!==(k=c.options.videoBitsPerSecond)&&void 0!==k?k:5e6;return c.options.videoBitsPerSecond=b,c.options.cursor=null!==(E=c.options.cursor)&&void 0!==E?E:"motion",c.options.displaySurface=null!==(w=c.options.displaySurface)&&void 0!==w?w:"all",c.options.frameRate=null!==(R=c.options.frameRate)&&void 0!==R?R:24,c.options.height=1920,r(d[8]).device.MediaRecorder.isTypeSupported(c.options.mimetype)||c.throwErrorDeprecated(new(r(d[9]).MediaRecorderError)("mimeType is not supported",{mimeType:c.options.mimetype})),null===(M=(S=c.device).storageEstimate)||void 0===M||M.call(S).then(function(e){var t=e.usage,o=e.quota,s=Math.round(t/1048576),n=Math.round(o/1048576)-s;c.totalStorageAvailable=n;var l=(C+b)/8/1e6;c.maxRecordingLength=n/(60*l)-1}),c}return c(p,h),o(p,[{key:"newMediaRecorder",value:function(e,t){var o=this,s=new this.device.MediaRecorder(e,t);s.addEventListener("error",function(e){o.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("media recorder error",{}))});var n=e.getVideoTracks();return 0!==n.length&&n[0].enabled&&"ended"!==n[0].readyState||this.throwErrorDeprecated(new(r(d[9]).MediaRecorderError)("no active video tracks",{})),n[0].addEventListener("ended",function(){o.emit("browser-stop")}),s.addEventListener("pause",this.handlePause),s.addEventListener("resume",this.handleResume),s.addEventListener("start",this.handleStart),s.addEventListener("stop",this.handleStop),s.addEventListener("dataavailable",this.handleNewData),s}},{key:"handlePause",value:function(){this.emit("pause")}},{key:"handleResume",value:function(){this.emit("resume")}},{key:"handleStart",value:function(){this.emit("start")}},{key:"handleStop",value:function(){this.emit("stop")}},{key:"handleNewData",value:(w=e(function*(e){var t,o;if(!this.closing)if(this.saving){var s={suggestedName:`recording.${Date.now()}`,types:[{description:"Video Recording",accept:{"video/x-matroska":[".webm"]},"-use_wallclock_as_timestamps":!0}]};try{this.localFilePath=yield this.device.showSaveFilePicker(s),this.writable=yield this.localFilePath.createWritable()}catch(t){var n=t instanceof Error?t:null;return this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("an error occurred on save record",{inner:n})),this.saving=!1,this.dataAggregate.push(e.data),void this.emit("save-canceled")}this.emit("data",e.data);var c=null;this.dataAggregate.length>0?(this.dataAggregate.push(e.data),c=new Blob(this.dataAggregate)):c=new Blob([e.data]);try{yield null===(t=this.writable)||void 0===t?void 0:t.write(c),this.dataWritten=!0,null===(o=this.writable)||void 0===o||o.close(),this.dataAggregate=[],yield this.close()}catch(e){var l=e instanceof Error?e:null;this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("failed to write to file",{inner:l}))}}else this.dataWritten||this.storageAlertSent||(this.storageAlertSent=!0,this.pause(),this.dataAggregate.push(e.data),this.device.confirmMessage("Your device is nearing its storage capacity. Please return to the app to save your recording."),yield this.record())}),function(e){return w.apply(this,arguments)})},{key:"lock",value:function(){this.locked=!0,this.emit("lock")}},{key:"unlock",value:function(){this.locked=!1,this.emit("unlock")}},{key:"apply",value:function(e){var t=this;if(null!=this.stream){if(this.locked)return this.logger.debug("recorder apply locked"),void r(d[8]).device.setTimeout(function(){t.apply(e)},50);this.lock(),this.logger.info("applying recorder options",{options:e})}}},{key:"state",get:function(){var e,t;return null!==(t=null===(e=this.recorder)||void 0===e?void 0:e.state)&&void 0!==t?t:"inactive"}},{key:"recorderOptions",get:function(){return{audioBitsPerSecond:this.options.audioBitsPerSecond,videoBitsPerSecond:this.options.videoBitsPerSecond,mimetype:this.options.mimetype,startRecordingWhenClicked:this.options.startRecordingWhenClicked,frameRate:this.options.frameRate,displaySurface:this.options.displaySurface,cursor:this.options.cursor,height:this.options.height}}},{key:"setupRecorder",value:(E=e(function*(){var e;return e=null==this.stream?yield this.createStream():this.stream,this.dataWritten=!1,this.closing=!1,this.saving=!1,null==this.recorder&&(this.recorder=yield this.newMediaRecorder(e,this.recorderOptions)),this.options.startRecordingWhenClicked&&(yield this.record()),{status:"success"}}),function(){return E.apply(this,arguments)})},{key:"record",value:(k=e(function*(){var e,t;return null==this.stream?(this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("attempting to record without a local stream",{})),{status:"error",message:"No stream provided or created"}):0===this.stream.getTracks().length?(this.emit("stream",null),this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("attempting to start to record with a local stream that has no tracks",{})),{status:"error",message:"No video tracks from the stream found"}):("inactive"===this.state?null===(e=this.recorder)||void 0===e||e.start(6e4*this.maxRecordingLength):"paused"===this.state&&(null===(t=this.recorder)||void 0===t||t.resume()),{status:"success"})}),function(){return k.apply(this,arguments)})},{key:"save",value:(y=e(function*(){return null==this.recorder?(this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("attempting to pause recorder with no recorder",{})),{status:"error",message:"No recorder found"}):(this.saving=!0,this.pause(),yield this.recorder.requestData(),{status:"success"})}),function(){return y.apply(this,arguments)})},{key:"pause",value:function(){return null==this.recorder?(this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("attempting to pause recorder with no recorder",{})),{status:"error",message:"No recorder found"}):(this.recorder.pause(),{status:"success"})}},{key:"close",value:(f=e(function*(){var e;if(null==this.recorder)return this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("attempting to stop recorder with no recorder",{})),{status:"error",message:"No recorder found"};if("inactive"!==this.recorder.state){this.closing=!0;try{var t=null===(e=this.stream)||void 0===e?void 0:e.getTracks();null==t||t.forEach(function(e){e.stop()}),this.recorder.stop(),this.recorder=null,this.destroyed=!0,this.stream=null,this.localFilePath=null,this.writable=null}catch(e){var o=e instanceof Error?e:null;return this.emitErrorDeprecated(new(r(d[9]).MediaRecorderError)("failed to close",{inner:o})),{status:"error",message:"Failed to close"}}}return{status:"success"}}),function(){return f.apply(this,arguments)})},{key:"createStream",value:(v=e(function*(){var e,t,o,s,n={video:{frameRate:this.options.frameRate,height:this.options.height,resizeMode:"crop-and-scale",cursor:this.options.cursor,displaySurface:this.options.displaySurface,logicalSurface:!0},audio:{autoGainControl:!1,echoCancellation:!1,googAutoGainControl:!1,noiseSuppression:!1}},c=yield this.device.mediaDevices.getDisplayMedia(n),l=yield this.device.mediaDevices.getUserMedia({audio:!0}),u=c.getAudioTracks(),h=c.getVideoTracks(),p=new this.device.AudioContext,v=new this.device.MediaStream;return u.length>0?(t=c.getAudioTracks()[0],o=p.createMediaStreamDestination(),s=new this.device.MediaStream([t]),p.createMediaStreamSource(s).connect(o),p.createMediaStreamSource(l).connect(o),v.addTrack(o.stream.getTracks()[0]),v.addTrack(h[0])):(e=l.getAudioTracks(),v.addTrack(e[0]),v.addTrack(h[0])),this.stream=v,v}),function(){return v.apply(this,arguments)})},{key:"addAudioTrack",value:function(e){var t;null===(t=this.stream)||void 0===t||t.addTrack(e)}},{key:"removeAudioTrack",value:function(e){var t,o=this,s=null===(t=this.stream)||void 0===t?void 0:t.getAudioTracks();null==s||s.forEach(function(t){var s;t.id===e.id&&(null===(s=o.stream)||void 0===s||s.removeTrack(t))})}}],[{key:"isSupported",value:function(e){return r(d[8]).device.isImplements(r(d[8]).Feature.MEDIA_RECORDER)&&r(d[8]).device.MediaRecorder.isTypeSupported(e)}}]);var v,f,y,k,E,w})(r(d[12]).ObservableEventEmitter);_e2.Recorder=h,h.displayName="Recorder"},872,[345,12,13,23,25,28,487,600,502,543,508,605,528]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.endpoint_demo=void 0,e.getAuthTokenForDemo=function(t){return s.apply(this,arguments)},e.getDefaultMediaStreamControllerOptions=function(){return{defaultConstraints:{audio:r(d[2]).CONSTRAINTS_AUDIO_OPTIMAL_STRICT,screencapture:r(d[2]).CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK,video:Object.assign({},r(d[2]).CONSTRAINTS_VIDEO_OPTIMAL_STRICT,{height:r(d[2]).CONSTRAINTS_VIDEO_OPTIMAL_STRICT.height,frameRate:{ideal:24}})},fallbackConstraints:{audio:r(d[2]).CONSTRAINTS_AUDIO_OPTIMAL_WEAK,video:r(d[2]).CONSTRAINTS_VIDEO_OPTIMAL_WEAK,screencapture:r(d[2]).CONSTRAINTS_SCREENCAPTURE_OPTIMAL_WEAK},replaceTracks:!1,waitingDelay:100,defaultLockPolicy:r(d[3]).ExistsStreamPolicy.wait}};var o=t(r(d[1])),n=e.endpoint_demo='https://dev2.devspace.lsea4.livelyvideo.tv';function s(){return(s=(0,o.default)(function*(t){var o=yield fetch(`${n}/apps/demos/api/demo/v1/access-token`,{headers:{"Content-Type":"application/json"},body:JSON.stringify({scopes:['conference-owner'],userId:t.userId,data:{displayName:t.displayName,mirrors:[{id:t.streamId,streamName:t.streamName,kind:"rtmp",rtmpPath:`/origin_proxy/${t.streamId}`,clientEncoder:"demo",clientReferrer:"demo",streamKey:t.streamId}]}}),method:"POST",mode:"cors"});return(yield o.json()).token})).apply(this,arguments)}},873,[1,345,500,485]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var f,h,b,y,x=t.manifestPlayer,p=(0,l.useState)(''),v=(0,n.default)(p,2),P=v[0],j=v[1],R=(0,l.useRef)(null);return(0,l.useEffect)(function(){if('webrtc'===x.state.format){var t=setInterval(function(){x.onRequestTimeupdate()},1e3);return function(){return clearInterval(t)}}},[x.state.format]),(0,l.useEffect)(function(){var t;x.props.autoplay||(null==(t=R.current)||t.setNativeProps({paused:!0}))},[]),(0,o.jsxs)(s.View,{children:[(0,o.jsxs)(s.Text,{style:c.label,children:["Current driver: ",x.state.driver]}),(0,o.jsx)(s.Text,{style:c.label,children:"Current quality"}),(0,o.jsx)(r(d[6]).Picker,{selectedValue:P,style:{height:50,width:250},onValueChange:function(t){x.onRequestPreferredQualityChange(t),j(t)},children:x.availableQualities.map(function(t){return(0,o.jsx)(r(d[6]).Picker.Item,{label:t,value:t},t)})}),'webrtc'===x.state.driver?(0,o.jsx)(r(d[7]).RTCView,{mirror:!0,style:c.backgroundVideo,streamURL:null!=(f=x.state.source)?f:''}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Text,{children:"HLS Player"}),(0,o.jsx)(u.default,{ref:R,source:{uri:null!=(h=x.state.source)?h:''},style:c.backgroundVideo,muted:null!=(b=null==(y=x.player)?void 0:y.localAudioMuted)&&b,onProgress:function(){return x.onRequestTimeupdate()}})]}),(0,o.jsxs)(s.View,{style:c.btns,children:[(0,o.jsx)(s.View,{style:c.btn,children:(0,o.jsx)(s.Button,{onPress:function(){var t,n;x.state.paused?(x.onRequestVideoPlay(),null==(t=R.current)||t.setNativeProps({paused:!1})):(x.onRequestVideoPause(),null==(n=R.current)||n.setNativeProps({paused:!0}))},title:x.state.paused?"Play":"Pause"})}),(0,o.jsx)(s.View,{style:c.btn,children:(0,o.jsx)(s.Button,{onPress:function(){return x.onRequestVideoMuteToggle()},title:"Mic"})}),(0,o.jsx)(s.View,{style:c.btn,children:(0,o.jsx)(s.Button,{onPress:function(){return x.onRequestReloadPlayer()},title:"Refresh"})})]})]})};var n=t(r(d[1])),l=r(d[2]),s=r(d[3]),u=t(r(d[4])),o=r(d[5]);var c=s.StyleSheet.create({label:{fontWeight:'600'},input:{height:40,borderWidth:1,padding:10,borderRadius:3},backgroundVideo:{marginTop:20,borderColor:'black',borderWidth:1,width:250,height:200,marginBottom:20,alignSelf:'center'},qualityPicker:{borderColor:'black',borderWidth:1,height:50,width:280},btns:{flexDirection:'row'},btn:{width:80,marginStart:5,marginRight:5}})},874,[1,38,174,2,875,219,893,902]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var o={Video:!0,VideoDecoderProperties:!0};Object.defineProperty(e,"Video",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"VideoDecoderProperties",{enumerable:!0,get:function(){return r(d[1]).VideoDecoderProperties}}),e.default=void 0;var n=t(r(d[2]));Object.keys(r(d[3])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===r(d[3])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[3])[t]}}))});e.default=n.default},875,[1,876,878,882]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.VideoDecoderProperties=void 0;var t,n,u,p=o(r(d[1])),f=r(d[2]),l=o(r(d[3])),c=function(o,t){return`The method or property ${o}.${t} is not available on ${f.Platform.OS}.`};e.VideoDecoderProperties={getWidevineLevel:(u=(0,p.default)(function*(){if('android'!==f.Platform.OS)throw new Error(c('VideoDecoderProperties','getWidevineLevel'));return l.default.getWidevineLevel()}),function(){return u.apply(this,arguments)}),isCodecSupported:(n=(0,p.default)(function*(){if('android'!==f.Platform.OS)throw new Error(c('VideoDecoderProperties','isCodecSupported'));return l.default.isCodecSupported.apply(l.default,arguments)}),function(){return n.apply(this,arguments)}),isHEVCSupported:(t=(0,p.default)(function*(){if('android'!==f.Platform.OS)throw new Error(c('VideoDecoderProperties','isHEVCSupported'));return l.default.isHEVCSupported()}),function(){return t.apply(this,arguments)})}},876,[1,345,2,877]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]);e.default=o.NativeModules.VideoDecoderInfoModule},877,[2]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),o=e(_r(d[3])),r=e(_r(d[4])),i=e(_r(d[5])),l=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?r(l,u,i):l[u]=e[u]);return l})(e,t)})(_r(d[6])),u=_r(d[7]),s=e(_r(d[8])),c=e(_r(d[9])),f=_r(d[10]),v=["source","style","resizeMode","poster","posterResizeMode","renderLoader","contentStartTime","drm","textTracks","selectedVideoTrack","selectedAudioTrack","selectedTextTrack","useTextureView","useSecureView","viewType","shutterColor","adTagUrl","adLanguage","onLoadStart","onLoad","onError","onProgress","onSeek","onEnd","onBuffer","onBandwidthUpdate","onControlsVisibilityChange","onExternalPlaybackChange","onFullscreenPlayerWillPresent","onFullscreenPlayerDidPresent","onFullscreenPlayerWillDismiss","onFullscreenPlayerDidDismiss","onReadyForDisplay","onPlaybackRateChange","onVolumeChange","onAudioBecomingNoisy","onPictureInPictureStatusChanged","onRestoreUserInterfaceForPictureInPictureStop","onReceiveAdEvent","onPlaybackStateChanged","onAudioFocusChanged","onIdle","onTimedMetadata","onAudioTracks","onTextTracks","onTextTrackDataChanged","onVideoTracks","onAspectRatio","localSourceEncryptionKeyScheme","minLoadRetryCount","bufferConfig"];var y=(0,l.forwardRef)(function(e,y){var p=e.source,C=e.style,k=e.resizeMode,b=e.poster,T=e.posterResizeMode,P=e.renderLoader,h=e.contentStartTime,E=e.drm,S=e.textTracks,V=e.selectedVideoTrack,R=e.selectedAudioTrack,w=e.selectedTextTrack,F=e.useTextureView,A=e.useSecureView,M=e.viewType,x=e.shutterColor,L=e.adTagUrl,U=e.adLanguage,I=e.onLoadStart,D=e.onLoad,j=e.onError,O=e.onProgress,_=e.onSeek,N=e.onEnd,W=e.onBuffer,B=e.onBandwidthUpdate,z=e.onControlsVisibilityChange,H=e.onExternalPlaybackChange,K=e.onFullscreenPlayerWillPresent,$=e.onFullscreenPlayerDidPresent,q=e.onFullscreenPlayerWillDismiss,Y=e.onFullscreenPlayerDidDismiss,G=e.onReadyForDisplay,Q=e.onPlaybackRateChange,X=e.onVolumeChange,J=e.onAudioBecomingNoisy,Z=e.onPictureInPictureStatusChanged,ee=e.onRestoreUserInterfaceForPictureInPictureStop,te=e.onReceiveAdEvent,ne=e.onPlaybackStateChanged,oe=e.onAudioFocusChanged,ae=e.onIdle,re=e.onTimedMetadata,ie=e.onAudioTracks,le=e.onTextTracks,ue=e.onTextTrackDataChanged,se=e.onVideoTracks,ce=e.onAspectRatio,de=e.localSourceEncryptionKeyScheme,fe=e.minLoadRetryCount,ve=e.bufferConfig,ye=(0,i.default)(e,v),pe=(0,l.useRef)(null),Ce='string'==typeof b,me=(0,l.useMemo)(function(){return P?P instanceof Function?P:function(){return P}:void 0},[P]),ge=(0,l.useMemo)(function(){return!!me||(Ce?!!b:!(null==b||!b.source))},[Ce,b,me]),ke=(0,l.useState)(ge),be=(0,r.default)(ke,2),Te=be[0],Pe=be[1],he=(0,l.useState)(),Ee=(0,r.default)(he,2),Se=Ee[0],Ve=Ee[1],Re=(0,l.useCallback)(function(e){var t;if(e){var n='number'==typeof e||'uri'in e&&'number'==typeof e.uri||'uri'in e&&'string'==typeof e.uri&&(e.uri.startsWith('file://')||e.uri.startsWith('content://')||e.uri.startsWith('.')),o=(0,_r(d[11]).resolveAssetSourceForVideo)(e),r=o.uri||'';r&&r.match(/^\//)&&(r=`file://${r}`),r||console.log('Trying to load empty source');var i,l=!(!r||!r.match(/^(rtp|rtsp|http|https):/)),s=!(!r||!r.match(/^(assets-library|ipod-library|file|content|ms-appx|ms-appdata|asset):/)),c=e.drm||E,f=e.textTracks||S,v=c?{type:c.type,licenseServer:c.licenseServer,headers:(0,_r(d[11]).generateHeaderForNative)(c.headers),contentId:c.contentId,certificateUrl:c.certificateUrl,base64Certificate:c.base64Certificate,useExternalGetLicense:!!c.getLicense,multiDrm:c.multiDrm,localSourceEncryptionKeyScheme:c.localSourceEncryptionKeyScheme||de}:void 0;if('android'===u.Platform.OS&&null!=p&&p.cmcd){var y=p.cmcd;if('boolean'==typeof y)i=y?{mode:_r(d[12]).CmcdMode.MODE_QUERY_PARAMETER}:void 0;else{if('object'!=typeof y||Array.isArray(y))throw new Error('Invalid CMCD configuration: Expected a boolean or an object.');var C,k=function(e){return e?(0,_r(d[11]).generateHeaderForNative)(e):void 0};i={mode:null!=(C=y.mode)?C:_r(d[12]).CmcdMode.MODE_QUERY_PARAMETER,request:k(y.request),session:k(y.session),object:k(y.object),status:k(y.status)}}}var b=e.contentStartTime||h,T=e.ad||(L||U?{adTagUrl:L,adLanguage:U}:void 0),P=e.minLoadRetryCount||fe,V=e.bufferConfig||ve;return{uri:r,isNetwork:l,isAsset:s,isLocalAssetFile:n,shouldCache:o.shouldCache||!1,type:o.type||'',mainVer:o.mainVer||0,patchVer:o.patchVer||0,requestHeaders:(0,_r(d[11]).generateHeaderForNative)(o.headers),startPosition:null!=(t=o.startPosition)?t:-1,cropStart:o.cropStart,cropEnd:o.cropEnd,contentStartTime:b,metadata:o.metadata,drm:v,ad:T,cmcd:i,textTracks:f,textTracksAllowChunklessPreparation:o.textTracksAllowChunklessPreparation,minLoadRetryCount:P,bufferConfig:V}}},[U,L,h,E,de,fe,null==p?void 0:p.cmcd,S,ve]),we=(0,l.useMemo)(function(){return Re(p)},[Re,p]),Fe=(0,l.useMemo)(function(){if(w){var e=typeof w.value;if('number'===e||'string'===e||'undefined'===e)return{type:null==w?void 0:w.type,value:`${w.value}`};console.warn('invalid type provided to selectedTextTrack.value: ',e)}},[w]),Ae=(0,l.useMemo)(function(){if(R){var e=typeof R.value;if('number'===e||'string'===e||'undefined'===e)return{type:null==R?void 0:R.type,value:`${R.value}`};console.warn('invalid type provided to selectedAudioTrack.value: ',e)}},[R]),Me=(0,l.useMemo)(function(){if(V){var e=typeof V.value;if('number'===e||'string'===e||'undefined'===e)return{type:null==V?void 0:V.type,value:`${V.value}`};console.warn('invalid type provided to selectedVideoTrack.value: ',e)}},[V]),xe=(0,l.useCallback)((function(){var e=(0,o.default)(function*(e,t){if(isNaN(e)||null===e)throw new Error("Specified time is not a number: '"+e+"'");if(pe.current){var n=function(){c.default.seekCmd((0,_r(d[11]).getReactTag)(pe),e,t||0)};u.Platform.select({ios:n,android:n,default:function(){var t;null==(t=pe.current)||t.setNativeProps({seek:e})}})()}else console.warn('Video Component is not mounted')});return function(t,n){return e.apply(this,arguments)}})(),[]),Le=(0,l.useCallback)(function(){return c.default.setPlayerPauseStateCmd((0,_r(d[11]).getReactTag)(pe),!0)},[]),Ue=(0,l.useCallback)(function(){return c.default.setPlayerPauseStateCmd((0,_r(d[11]).getReactTag)(pe),!1)},[]),Ie=(0,l.useCallback)(function(e){return c.default.setVolumeCmd((0,_r(d[11]).getReactTag)(pe),e)},[]),De=(0,l.useCallback)(function(e){return c.default.setFullScreenCmd((0,_r(d[11]).getReactTag)(pe),e)},[]),je=(0,l.useCallback)(function(e){return c.default.setSourceCmd((0,_r(d[11]).getReactTag)(pe),Re(e))},[Re]),Oe=(0,l.useCallback)(function(){return De(!0)},[De]),Ne=(0,l.useCallback)(function(){return De(!1)},[De]),We=(0,l.useCallback)((0,o.default)(function*(){if(pe.current){var e=function(){c.default.enterPictureInPictureCmd((0,_r(d[11]).getReactTag)(pe))};u.Platform.select({ios:e,android:e,default:function(){}})()}else console.warn('Video Component is not mounted')}),[]),Be=(0,l.useCallback)((0,o.default)(function*(){if(pe.current){var e=function(){c.default.exitPictureInPictureCmd((0,_r(d[11]).getReactTag)(pe))};u.Platform.select({ios:e,android:e,default:function(){}})()}else console.warn('Video Component is not mounted')}),[]),ze=(0,l.useCallback)(function(e){if('ios'===u.Platform.OS)return null==c.default.save?void 0:c.default.save((0,_r(d[11]).getReactTag)(pe),e)},[]),He=(0,l.useCallback)(function(){return c.default.getCurrentPosition((0,_r(d[11]).getReactTag)(pe))},[]),Ke=(0,l.useCallback)(function(e){Ve(e)},[Ve]),$e=(0,l.useCallback)(function(e){ge&&Pe(!0),null==I||I(e.nativeEvent)},[ge,I]),qe=(0,l.useCallback)(function(e){'windows'===u.Platform.OS&&ge&&Pe(!1),null==D||D(e.nativeEvent)},[D,ge,Pe]),Ye=(0,l.useCallback)(function(e){null==j||j(e.nativeEvent)},[j]),Ge=(0,l.useCallback)(function(e){null==O||O(e.nativeEvent)},[O]),Qe=(0,l.useCallback)(function(e){null==_||_(e.nativeEvent)},[_]),Xe=(0,l.useCallback)(function(e){null==ne||ne(e.nativeEvent)},[ne]),Je=(0,l.useMemo)(function(){var e=(0,u.processColor)(x);return'number'==typeof e?e:void 0},[x]),Ze=(0,l.useCallback)(function(e){null==re||re(e.nativeEvent)},[re]),et=(0,l.useCallback)(function(e){null==ie||ie(e.nativeEvent)},[ie]),tt=(0,l.useCallback)(function(e){null==le||le(e.nativeEvent)},[le]),nt=(0,l.useCallback)(function(e){var t=Object.assign({},((0,n.default)(e.nativeEvent),e.nativeEvent));delete t.target,null==ue||ue(t)},[ue]),ot=(0,l.useCallback)(function(e){null==se||se(e.nativeEvent)},[se]),at=(0,l.useCallback)(function(e){null==Q||Q(e.nativeEvent)},[Q]),rt=(0,l.useCallback)(function(e){null==X||X(e.nativeEvent)},[X]),it=(0,l.useCallback)(function(){ge&&Pe(!1),null==G||G()},[Pe,ge,G]),lt=(0,l.useCallback)(function(e){null==Z||Z(e.nativeEvent)},[Z]),ut=(0,l.useCallback)(function(e){null==oe||oe(e.nativeEvent)},[oe]),st=(0,l.useCallback)(function(e){null==W||W(e.nativeEvent)},[W]),ct=(0,l.useCallback)(function(e){null==H||H(e.nativeEvent)},[H]),dt=(0,l.useCallback)(function(e){null==B||B(e.nativeEvent)},[B]),ft=(0,l.useCallback)(function(e){null==te||te(e.nativeEvent)},[te]),vt=(0,l.useCallback)(function(e){null==ce||ce(e.nativeEvent)},[ce]),yt=(0,l.useCallback)(function(e){null==z||z(e.nativeEvent)},[z]),pt=(null==p?void 0:p.drm)||E,Ct=(null==pt?void 0:pt.getLicense)instanceof Function,mt=(0,l.useCallback)((function(){var e=(0,o.default)(function*(e){if(Ct){var t=e.nativeEvent;try{if(null==t||!t.spcBase64)throw new Error('No spc received');var n=yield Promise.resolve(pt.getLicense(t.spcBase64,t.contentId,t.licenseUrl,t.loadedLicenseUrl)).catch(function(){throw new Error('fetch error')});if('string'!=typeof n)throw Error('Empty license result');pe.current&&c.default.setLicenseResultCmd((0,_r(d[11]).getReactTag)(pe),n,t.loadedLicenseUrl)}catch(e){var o=e instanceof Error?e.message:'fetch error';pe.current&&c.default.setLicenseResultErrorCmd((0,_r(d[11]).getReactTag)(pe),o,t.loadedLicenseUrl)}}});return function(t){return e.apply(this,arguments)}})(),[pt,Ct]);(0,l.useImperativeHandle)(y,function(){return{seek:xe,presentFullscreenPlayer:Oe,dismissFullscreenPlayer:Ne,save:ze,pause:Le,resume:Ue,restoreUserInterfaceForPictureInPictureStopCompleted:Ke,setVolume:Ie,getCurrentPosition:He,setFullScreen:De,enterPictureInPicture:We,exitPictureInPicture:Be,setSource:je}},[xe,Oe,Ne,ze,Le,Ue,Ke,Ie,He,De,We,Be,je]);var gt=(0,l.useMemo)(function(){var e=void 0!==E&&0!==Object.keys(E).length&&(M===_r(d[12]).ViewType.TEXTURE||F);return A&&F&&console.warn('cannot use SecureView on texture view. please set useTextureView={false}'),e?(console.warn('cannot use DRM on texture view. please set useTextureView={false}'),A?_r(d[12]).ViewType.SURFACE_SECURE:_r(d[12]).ViewType.SURFACE):null!=M?M:A?_r(d[12]).ViewType.SURFACE_SECURE:F?_r(d[12]).ViewType.TEXTURE:_r(d[12]).ViewType.SURFACE},[E,A,F,M]),kt=(0,l.useCallback)(function(){if(!ge||!Te)return null;var e='contain';!Ce&&null!=b&&b.resizeMode?e=b.resizeMode:T&&'none'!==T&&(e=T);var n=Object.assign({},u.StyleSheet.absoluteFillObject,{resizeMode:e}),o=n;if(!Ce&&null!=b&&b.style){var r=Array.isArray(b.style)?b.style:[b.style];o=[n].concat((0,t.default)(r))}return me&&(b||T)&&console.warn('You provided both `renderLoader` and `poster` or `posterResizeMode` props. `renderLoader` will be used.'),me?(0,f.jsx)(u.View,{style:u.StyleSheet.absoluteFill,children:me({source:p,style:o,resizeMode:k})}):(0,f.jsx)(u.Image,Object.assign({},Ce?{}:b,{source:Ce?{uri:b}:null==b?void 0:b.source,style:o}))},[ge,Ce,b,T,me,Te,p,k]),bt=(0,l.useMemo)(function(){return Object.assign({},u.StyleSheet.absoluteFillObject)},[]);return(0,f.jsxs)(u.View,{style:C,children:[(0,f.jsx)(s.default,Object.assign({ref:pe},ye,{src:we,style:bt,resizeMode:k,restoreUserInterfaceForPIPStopCompletionHandler:Se,selectedTextTrack:Fe,selectedAudioTrack:Ae,selectedVideoTrack:Me,shutterColor:Je,onGetLicense:Ct?mt:void 0,onVideoLoad:D||ge?qe:void 0,onVideoLoadStart:I||ge?$e:void 0,onVideoError:j?Ye:void 0,onVideoProgress:O?Ge:void 0,onVideoSeek:_?Qe:void 0,onVideoEnd:N,onVideoBuffer:W?st:void 0,onVideoPlaybackStateChanged:ne?Xe:void 0,onVideoBandwidthUpdate:B?dt:void 0,onTimedMetadata:re?Ze:void 0,onAudioTracks:ie?et:void 0,onTextTracks:le?tt:void 0,onTextTrackDataChanged:ue?nt:void 0,onVideoTracks:se?ot:void 0,onVideoFullscreenPlayerDidDismiss:Y,onVideoFullscreenPlayerDidPresent:$,onVideoFullscreenPlayerWillDismiss:q,onVideoFullscreenPlayerWillPresent:K,onVideoExternalPlaybackChange:H?ct:void 0,onVideoIdle:ae,onAudioFocusChanged:oe?ut:void 0,onReadyForDisplay:G||ge?it:void 0,onPlaybackRateChange:Q?at:void 0,onVolumeChange:X?rt:void 0,onVideoAudioBecomingNoisy:J,onPictureInPictureStatusChanged:Z?lt:void 0,onRestoreUserInterfaceForPictureInPictureStop:ee,onVideoAspectRatio:ce?vt:void 0,onReceiveAdEvent:te?ft:void 0,onControlsVisibilityChange:z?yt:void 0,viewType:gt})),kt()]})});y.displayName='Video';_e.default=y},878,[1,6,480,345,38,135,174,2,879,880,219,881,882]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]);e.default=(0,o.requireNativeComponent)('RCTVideo')},879,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]);e.default=o.NativeModules.VideoManager},880,[2]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.generateHeaderForNative=function(n){if(!n)return[];return Object.entries(n).map(function(n){var o=(0,t.default)(n,2);return{key:o[0],value:o[1]}})},e.getReactTag=function(n){if(!n.current)throw new Error('Video Component is not mounted');var t=(0,o.findNodeHandle)(n.current);if(!t)throw new Error('Cannot find reactTag for Video Component in components tree');return t},e.resolveAssetSourceForVideo=function(n){var t=function(n){var t=o.Image.resolveAssetSource(n);return t?t.uri:void console.warn('cannot resolve item ',n)};if('number'==typeof n)return{uri:t(n)};if('uri'in n&&'number'==typeof n.uri)return Object.assign({},n,{uri:t(n.uri)});return n};var t=n(r(d[1])),o=r(d[2])},881,[1,38,2]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={FilterType:!0,Orientation:!0,ResizeMode:!0,TextTrackType:!0,ViewType:!0};Object.defineProperty(e,"FilterType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Orientation",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"ResizeMode",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"TextTrackType",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"ViewType",{enumerable:!0,get:function(){return l.default}}),Object.keys(r(d[1])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[1])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[1])[t]}}))}),Object.keys(r(d[2])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[2])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[2])[t]}}))});var o=t(r(d[3]));Object.keys(r(d[4])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[4])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[4])[t]}}))});var u=t(r(d[5])),c=t(r(d[6])),f=t(r(d[7])),l=t(r(d[8]));Object.keys(r(d[9])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[9])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[9])[t]}}))}),Object.keys(r(d[10])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[10])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[10])[t]}}))})},882,[1,883,884,885,886,887,888,889,890,891,892]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.AdEvent=void 0;e.AdEvent=(function(E){return E.AD_BREAK_ENDED="AD_BREAK_ENDED",E.AD_BREAK_READY="AD_BREAK_READY",E.AD_BREAK_STARTED="AD_BREAK_STARTED",E.AD_BUFFERING="AD_BUFFERING",E.AD_CAN_PLAY="AD_CAN_PLAY",E.AD_METADATA="AD_METADATA",E.AD_PERIOD_ENDED="AD_PERIOD_ENDED",E.AD_PERIOD_STARTED="AD_PERIOD_STARTED",E.AD_PROGRESS="AD_PROGRESS",E.ALL_ADS_COMPLETED="ALL_ADS_COMPLETED",E.CLICK="CLICK",E.COMPLETED="COMPLETED",E.CONTENT_PAUSE_REQUESTED="CONTENT_PAUSE_REQUESTED",E.CONTENT_RESUME_REQUESTED="CONTENT_RESUME_REQUESTED",E.CUEPOINTS_CHANGED="CUEPOINTS_CHANGED",E.DURATION_CHANGE="DURATION_CHANGE",E.ERROR="ERROR",E.FIRST_QUARTILE="FIRST_QUARTILE",E.IMPRESSION="IMPRESSION",E.INTERACTION="INTERACTION",E.LINEAR_CHANGED="LINEAR_CHANGED",E.LOADED="LOADED",E.LOG="LOG",E.MIDPOINT="MIDPOINT",E.PAUSED="PAUSED",E.RESUMED="RESUMED",E.SKIPPABLE_STATE_CHANGED="SKIPPABLE_STATE_CHANGED",E.SKIPPED="SKIPPED",E.STARTED="STARTED",E.STREAM_LOADED="STREAM_LOADED",E.TAPPED="TAPPED",E.THIRD_QUARTILE="THIRD_QUARTILE",E.UNKNOWN="UNKNOWN",E.USER_CLOSE="USER_CLOSE",E.VIDEO_CLICKED="VIDEO_CLICKED",E.VIDEO_ICON_CLICKED="VIDEO_ICON_CLICKED",E.VOLUME_CHANGED="VOLUME_CHANGED",E.VOLUME_MUTED="VOLUME_MUTED",E})({})},883,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},884,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=(function(o){return o.NONE="",o.INVERT="CIColorInvert",o.MONOCHROME="CIColorMonochrome",o.POSTERIZE="CIColorPosterize",o.FALSE="CIFalseColor",o.MAXIMUMCOMPONENT="CIMaximumComponent",o.MINIMUMCOMPONENT="CIMinimumComponent",o.CHROME="CIPhotoEffectChrome",o.FADE="CIPhotoEffectFade",o.INSTANT="CIPhotoEffectInstant",o.MONO="CIPhotoEffectMono",o.NOIR="CIPhotoEffectNoir",o.PROCESS="CIPhotoEffectProcess",o.TONAL="CIPhotoEffectTonal",o.TRANSFER="CIPhotoEffectTransfer",o.SEPIA="CISepiaTone",o})(o||{});e.default=o},885,[]);
__d(function(g,r,i,a,m,e,d){},886,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){return t.PORTRAIT="portrait",t.LANDSCAPE="landscape",t})(t||{});e.default=t},887,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(function(n){return n.NONE="none",n.CONTAIN="contain",n.COVER="cover",n.STRETCH="stretch",n})(n||{});e.default=n},888,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(function(t){return t.SUBRIP="application/x-subrip",t.TTML="application/ttml+xml",t.VTT="text/vtt",t})(t||{});e.default=t},889,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var E=(function(E){return E[E.TEXTURE=0]="TEXTURE",E[E.SURFACE=1]="SURFACE",E[E.SURFACE_SECURE=2]="SURFACE_SECURE",E})(E||{});e.default=E},890,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TextTrackType=e.SelectedVideoTrackType=e.SelectedTrackType=e.PosterResizeModeType=e.MixWithOthersType=e.IgnoreSilentSwitchType=e.FullscreenOrientationType=e.DRMType=e.CmcdMode=e.BufferingStrategyType=void 0;e.DRMType=(function(t){return t.WIDEVINE="widevine",t.PLAYREADY="playready",t.CLEARKEY="clearkey",t.FAIRPLAY="fairplay",t})({}),e.CmcdMode=(function(t){return t[t.MODE_REQUEST_HEADER=0]="MODE_REQUEST_HEADER",t[t.MODE_QUERY_PARAMETER=1]="MODE_QUERY_PARAMETER",t})({}),e.BufferingStrategyType=(function(t){return t.DEFAULT="Default",t.DISABLE_BUFFERING="DisableBuffering",t.DEPENDING_ON_MEMORY="DependingOnMemory",t})({}),e.SelectedTrackType=(function(t){return t.SYSTEM="system",t.DISABLED="disabled",t.TITLE="title",t.LANGUAGE="language",t.INDEX="index",t})({}),e.SelectedVideoTrackType=(function(t){return t.AUTO="auto",t.DISABLED="disabled",t.RESOLUTION="resolution",t.INDEX="index",t})({}),e.TextTrackType=(function(t){return t.SUBRIP="application/x-subrip",t.TTML="application/ttml+xml",t.VTT="text/vtt",t})({}),e.FullscreenOrientationType=(function(t){return t.ALL="all",t.LANDSCAPE="landscape",t.PORTRAIT="portrait",t})({}),e.IgnoreSilentSwitchType=(function(t){return t.INHERIT="inherit",t.IGNORE="ignore",t.OBEY="obey",t})({}),e.MixWithOthersType=(function(t){return t.INHERIT="inherit",t.MIX="mix",t.DUCK="duck",t})({}),e.PosterResizeModeType=(function(t){return t.CONTAIN="contain",t.CENTER="center",t.COVER="cover",t.NONE="none",t.REPEAT="repeat",t.STRETCH="stretch",t})({})},891,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},892,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Picker",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"PickerIOS",{enumerable:!0,get:function(){return u.default}});var n=t(r(d[1])),u=t(r(d[2]))},893,[1,894,898]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),u=e(_r(d[5])),f=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[6])),i=_r(d[7]),l=e(_r(d[8])),c=e(_r(d[9])),s=e(_r(d[10])),p=e(_r(d[11])),h=_r(d[12]);function O(e,t,r){return t=(0,o.default)(t),(0,n.default)(e,v()?Reflect.construct(t,r||[],(0,o.default)(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}var y='dialog',j=(function(e){function n(){return(0,t.default)(this,n),O(this,n,arguments)}return(0,u.default)(n,e),(0,r.default)(n,[{key:"render",value:function(){throw null}}])})(f.Component),_=(function(e){function n(){var e;(0,t.default)(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(e=O(this,n,[].concat(o))).pickerRef=f.createRef(),e.blur=function(){var t;null==(t=e.pickerRef.current)||t.blur()},e.focus=function(){var t;null==(t=e.pickerRef.current)||t.focus()},e}return(0,u.default)(n,e),(0,r.default)(n,[{key:"render",value:function(){return'ios'===i.Platform.OS?(0,h.jsx)(c.default,Object.assign({},this.props,{children:this.props.children})):'macos'===i.Platform.OS?(0,h.jsx)(p.default,Object.assign({},this.props,{children:this.props.children})):'android'===i.Platform.OS?(0,h.jsx)(l.default,Object.assign({ref:this.pickerRef},this.props,{children:this.props.children})):'windows'===i.Platform.OS?(0,h.jsx)(s.default,Object.assign({},this.props,{children:this.props.children})):null}}])})(f.Component);_.MODE_DIALOG=y,_.MODE_DROPDOWN='dropdown',_.Item=j,_.defaultProps={mode:y};_e.default=_},894,[1,12,13,23,25,28,174,2,895,898,900,901,219]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(_r(d[1])),r=i(_r(d[2])),o=_r(d[3]),l=i(_r(d[4])),t=i(_r(d[5])),u=_r(d[6]);function i(e,n){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(i=function(e,n){if(!n&&e&&e.__esModule)return e;var l,t,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(l=n?o:r){if(l.has(e))return l.get(e);l.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((t=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(t.get||t.set)?l(u,i,t):u[i]=e[i]);return u})(e,n)}var c='dropdown';_e.default=r.forwardRef(function(e,i){var s,f=r.useRef(null),p=!(null==(s=g)||!s.nativeFabricUIManager),v=r.useState({value:null}),C=(0,n.default)(v,2),b=C[0],y=C[1];r.useImperativeHandle(i,function(){var n=o.UIManager.getViewManagerConfig(e.mode===c?'RNCAndroidDialogPicker':'RNCAndroidDropdownPicker');return{blur:function(){n.Commands&&(p?e.mode===c?t.Commands.blur(f.current):l.Commands.blur(f.current):o.UIManager.dispatchViewManagerCommand((0,o.findNodeHandle)(f.current),n.Commands.blur,[]))},focus:function(){n.Commands&&(p?e.mode===c?t.Commands.focus(f.current):l.Commands.focus(f.current):o.UIManager.dispatchViewManagerCommand((0,o.findNodeHandle)(f.current),n.Commands.focus,[]))}}}),r.useLayoutEffect(function(){var n=0;r.Children.toArray(e.children).map(function(r,o){var l;if(null===r)return null;(null==r||null==(l=r.props)?void 0:l.value)===e.selectedValue&&(n=o)}),null!=b.value&&b.value!==n&&f.current&&(p?e.mode===c?t.Commands.setNativeSelected(f.current,I):l.Commands.setNativeSelected(f.current,I):f.current.setNativeProps({selected:I}))},[e.selectedValue,b,e.children,p,e.mode,I]);var h=r.useMemo(function(){var n=0;return[r.Children.toArray(e.children).map(function(r,l){var t,u;if(null===r)return null;(null==r||null==(t=r.props)?void 0:t.value)===e.selectedValue&&(n=l);var i=(r.props||{}).enabled,c=void 0===i||i,s=r.props||{},f=s.color,p=s.contentDescription,v=s.label,C=s.style,b=void 0===C?{}:C,y=(0,o.processColor)(f);return{color:null==f?null:y,contentDescription:p,label:String(v),enabled:c,style:Object.assign({},b,{fontSize:null!=(u=b.fontSize)?u:0,color:b.color?(0,o.processColor)(b.color):null,backgroundColor:b.backgroundColor?(0,o.processColor)(b.backgroundColor):null})}}),n]},[e.children,e.selectedValue]),w=(0,n.default)(h,2),M=w[0],I=w[1],_=r.useCallback(function(n){var o=n.nativeEvent.position,l=e.onValueChange;if(null!=l)if(o>=0){var t,u=null==(t=r.Children.toArray(e.children).filter(function(e){return null!=e})[o])||null==(t=t.props)?void 0:t.value;void 0!==u&&l(u,o)}else l(null,o);y({value:o})},[e.children,e.onValueChange]),k=e.mode===c?t.default:l.default,O={accessibilityLabel:e.accessibilityLabel,enabled:e.enabled,items:M,onBlur:e.onBlur,onFocus:e.onFocus,onSelect:_,prompt:e.prompt,selected:I,style:e.style,dropdownIconColor:(0,o.processColor)(e.dropdownIconColor),dropdownIconRippleColor:(0,o.processColor)(e.dropdownIconRippleColor),testID:e.testID,numberOfLines:e.numberOfLines};return(0,u.jsx)(k,Object.assign({ref:f},O))})},895,[1,38,174,2,896,897,219]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,i)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?r(i,l,u):i[l]=e[l])})(e,t)})(_r(d[1])),e(_r(d[2])),e(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNCAndroidDialogPicker",bubblingEventTypes:{topSelect:{phasedRegistrationNames:{captured:"onSelectCapture",bubbled:"onSelect"}},topFocus:{phasedRegistrationNames:{captured:"onFocusCapture",bubbled:"onFocus"}},topBlur:{phasedRegistrationNames:{captured:"onBlurCapture",bubbled:"onBlur"}}},validAttributes:Object.assign({items:!0,color:{process:_r(d[4]).default},prompt:!0,enabled:!0,selected:!0,backgroundColor:!0,dropdownIconColor:!0,dropdownIconRippleColor:!0,numberOfLines:!0},_r(d[5]).ConditionallyIgnoredEventHandlers({onSelect:!0,onFocus:!0,onBlur:!0}))};_e.default=_r(d[6]).get('RNCAndroidDialogPicker',function(){return t}),_e.Commands={focus:function(e){_r(d[7]).dispatchCommand(e,"focus",[])},blur:function(e){_r(d[7]).dispatchCommand(e,"blur",[])},setNativeSelected:function(e,t){_r(d[7]).dispatchCommand(e,"setNativeSelected",[t])}}},896,[1,174,261,218,184,217,181,57]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.__INTERNAL_VIEW_CONFIG=_e.Commands=void 0;(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,i)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?r(i,c,u):i[c]=e[c])})(e,t)})(_r(d[1])),e(_r(d[2])),e(_r(d[3]));var t=_e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNCAndroidDropdownPicker",bubblingEventTypes:{topSelect:{phasedRegistrationNames:{captured:"onSelectCapture",bubbled:"onSelect"}},topFocus:{phasedRegistrationNames:{captured:"onFocusCapture",bubbled:"onFocus"}},topBlur:{phasedRegistrationNames:{captured:"onBlurCapture",bubbled:"onBlur"}}},validAttributes:Object.assign({items:!0,color:{process:_r(d[4]).default},prompt:!0,enabled:!0,selected:!0,backgroundColor:!0,dropdownIconColor:!0,dropdownIconRippleColor:!0,numberOfLines:!0},_r(d[5]).ConditionallyIgnoredEventHandlers({onSelect:!0,onFocus:!0,onBlur:!0}))};_e.default=_r(d[6]).get('RNCAndroidDropdownPicker',function(){return t}),_e.Commands={focus:function(e){_r(d[7]).dispatchCommand(e,"focus",[])},blur:function(e){_r(d[7]).dispatchCommand(e,"blur",[])},setNativeSelected:function(e,t){_r(d[7]).dispatchCommand(e,"setNativeSelected",[t])}}},897,[1,174,261,218,184,217,181,57]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i])})(e,t)})(_r(d[1]));var t=e(_r(d[2])),n=_r(d[3]);function r(){return(0,n.jsx)(t.default,{})}r.Item=t.default;_e.default=r},898,[1,174,899,219]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,f)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((u=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(u.get||u.set)?i(f,o,u):f[o]=e[o])})(e,t)})(_r(d[0]));var e=_r(d[1]),t=_r(d[2]);var n=e.StyleSheet.create({unimplementedView:{}});_e.default=function(r){return(0,t.jsx)(e.View,{style:[n.unimplementedView,r.style],children:r.children})}},899,[174,2,219]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},900,[1,899]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),u=e(_r(d[4])),o=e(_r(d[5])),f=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?u(f,l,o):f[l]=e[l]);return f})(e,t)})(_r(d[6])),l=e(_r(d[7])),c=_r(d[8]);function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}var p=(function(e){function f(){return(0,t.default)(this,f),e=this,n=f,o=arguments,n=(0,u.default)(n),(0,r.default)(e,i()?Reflect.construct(n,o||[],(0,u.default)(e).constructor):n.apply(e,o));var e,n,o}return(0,o.default)(f,e),(0,n.default)(f,[{key:"render",value:function(){return(0,c.jsx)(l.default,{})}}])})(f.Component);p.Item=l.default;_e.default=p},901,[1,12,13,23,25,28,174,899,219]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MediaStream",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"MediaStreamTrack",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"RTCAudioSession",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"RTCErrorEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"RTCIceCandidate",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"RTCPeerConnection",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"RTCRtpReceiver",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"RTCRtpSender",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"RTCRtpTransceiver",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"RTCSessionDescription",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"RTCView",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"ScreenCapturePickerView",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"mediaDevices",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"permissions",{enumerable:!0,get:function(){return s.default}}),e.registerGlobals=function(){if('object'!=typeof g.navigator)throw new Error('navigator is not an object');g.navigator.mediaDevices||(g.navigator.mediaDevices={});g.navigator.mediaDevices.getUserMedia=o.default.getUserMedia.bind(o.default),g.navigator.mediaDevices.getDisplayMedia=o.default.getDisplayMedia.bind(o.default),g.navigator.mediaDevices.enumerateDevices=o.default.enumerateDevices.bind(o.default),g.RTCIceCandidate=R.default,g.RTCPeerConnection=v.default,g.RTCRtpReceiver=T.default,g.RTCRtpSender=T.default,g.RTCSessionDescription=P.default,g.MediaStream=f.default,g.MediaStreamTrack=l.default,g.MediaStreamTrackEvent=c.default,g.RTCRtpTransceiver=y.default,g.RTCRtpReceiver=T.default,g.RTCRtpSender=C.default,g.RTCErrorEvent=p.default};var n=r(d[1]),u=t(r(d[2])),o=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),s=t(r(d[7])),b=t(r(d[8])),p=t(r(d[9])),R=t(r(d[10])),v=t(r(d[11])),T=t(r(d[12])),C=t(r(d[13])),y=t(r(d[14])),P=t(r(d[15])),j=t(r(d[16])),O=t(r(d[17]));if(null===n.NativeModules.WebRTCModule)throw new Error("WebRTC native module not found.\n"+('ios'===n.Platform.OS?'Try executing the "pod install" command inside your projects ios folder.':'Try executing the "npm install" command inside your projects folder.'));u.default.enable(`${u.default.ROOT_PREFIX}:*`),(0,r(d[18]).setupNativeEvents)()},902,[1,2,903,907,909,910,918,917,919,920,921,922,932,935,936,937,939,940,914]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3]));(e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t);var o=`${t.ROOT_PREFIX}:${u}`;this._debug=(0,l.default)(`${o}:DEBUG`),this._info=(0,l.default)(`${o}:INFO`),this._warn=(0,l.default)(`${o}:WARN`),this._error=(0,l.default)(`${o}:ERROR`);var f=console.log.bind(console);this._debug.log=f,this._info.log=f,this._warn.log=f,this._error.log=f},[{key:"debug",value:function(t){this._debug(t)}},{key:"info",value:function(t){this._info(t)}},{key:"warn",value:function(t){this._warn(t)}},{key:"error",value:function(t,n){var u,l=null!=(u=null==n?void 0:n.stack)?u:'N/A';this._error(`${t} Trace: ${l}`)}}],[{key:"enable",value:function(t){l.default.enable(t)}}])})()).ROOT_PREFIX='rn-webrtc'},903,[1,12,13,904]);
__d(function(g,_r,i,a,m,e,d){var C;e.formatArgs=function(C){if(C[0]=(this.useColors?'%c':'')+this.namespace+(this.useColors?' %c':' ')+C[0]+(this.useColors?'%c ':' ')+'+'+m.exports.humanize(this.diff),!this.useColors)return;var o='color: '+this.color;C.splice(1,0,o,'color: inherit');var t=0,n=0;C[0].replace(/%[a-zA-Z%]/g,function(C){'%%'!==C&&(t++,'%c'===C&&(n=t))}),C.splice(n,0,o)},e.save=function(C){try{C?e.storage.setItem('debug',C):e.storage.removeItem('debug')}catch(C){}},e.load=function(){var C;try{C=e.storage.getItem('debug')}catch(C){}!C&&'undefined'!=typeof process&&'env'in process&&(C=process.env.DEBUG);return C},e.useColors=function(){if('undefined'!=typeof window&&window.process&&('renderer'===window.process.type||window.process.__nwjs))return!0;if('undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return'undefined'!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||'undefined'!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||'undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||'undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=(function(){try{return localStorage}catch(C){}})(),e.destroy=(C=!1,function(){C||(C=!0,console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'))}),e.colors=['#0000CC','#0000FF','#0033CC','#0033FF','#0066CC','#0066FF','#0099CC','#0099FF','#00CC00','#00CC33','#00CC66','#00CC99','#00CCCC','#00CCFF','#3300CC','#3300FF','#3333CC','#3333FF','#3366CC','#3366FF','#3399CC','#3399FF','#33CC00','#33CC33','#33CC66','#33CC99','#33CCCC','#33CCFF','#6600CC','#6600FF','#6633CC','#6633FF','#66CC00','#66CC33','#9900CC','#9900FF','#9933CC','#9933FF','#99CC00','#99CC33','#CC0000','#CC0033','#CC0066','#CC0099','#CC00CC','#CC00FF','#CC3300','#CC3333','#CC3366','#CC3399','#CC33CC','#CC33FF','#CC6600','#CC6633','#CC9900','#CC9933','#CCCC00','#CCCC33','#FF0000','#FF0033','#FF0066','#FF0099','#FF00CC','#FF00FF','#FF3300','#FF3333','#FF3366','#FF3399','#FF33CC','#FF33FF','#FF6600','#FF6633','#FF9900','#FF9933','#FFCC00','#FFCC33'],e.log=console.debug||console.log||function(){},m.exports=_r(d[0])(e),m.exports.formatters.j=function(C){try{return JSON.stringify(C)}catch(C){return'[UnexpectedJSONParseError]: '+C.message}}},904,[905]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);m.exports=function(t){function o(n){var t,i,c,l=null;function u(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];if(u.enabled){var c=u,l=Number(new Date),f=l-(t||l);c.diff=f,c.prev=t,c.curr=l,t=l,s[0]=o.coerce(s[0]),'string'!=typeof s[0]&&s.unshift('%O');var p=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,t){if('%%'===n)return'%';p++;var i=o.formatters[t];if('function'==typeof i){var l=s[p];n=i.call(c,l),s.splice(p,1),p--}return n}),o.formatArgs.call(c,s),(c.log||o.log).apply(c,s)}}return u.namespace=n,u.useColors=o.useColors(),u.color=o.selectColor(n),u.extend=s,u.destroy=o.destroy,Object.defineProperty(u,'enabled',{enumerable:!0,configurable:!1,get:function(){return null!==l?l:(i!==o.namespaces&&(i=o.namespaces,c=o.enabled(n)),c)},set:function(n){l=n}}),'function'==typeof o.init&&o.init(u),u}function s(n,t){var s=o(this.namespace+(void 0===t?':':t)+n);return s.log=this.log,s}function i(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,'*')}return o.debug=o,o.default=o,o.coerce=function(n){if(n instanceof Error)return n.stack||n.message;return n},o.disable=function(){var t=[].concat(n(o.names.map(i)),n(o.skips.map(i).map(function(n){return'-'+n}))).join(',');return o.enable(''),t},o.enable=function(n){var t;o.save(n),o.namespaces=n,o.names=[],o.skips=[];var s=('string'==typeof n?n:'').split(/[\s,]+/),i=s.length;for(t=0;t<i;t++)s[t]&&('-'===(n=s[t].replace(/\*/g,'.*?'))[0]?o.skips.push(new RegExp('^'+n.slice(1)+'$')):o.names.push(new RegExp('^'+n+'$')))},o.enabled=function(n){if('*'===n[n.length-1])return!0;var t,s;for(t=0,s=o.skips.length;t<s;t++)if(o.skips[t].test(n))return!1;for(t=0,s=o.names.length;t<s;t++)if(o.names[t].test(n))return!0;return!1},o.humanize=r(d[1]),o.destroy=function(){console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.')},Object.keys(t).forEach(function(n){o[n]=t[n]}),o.names=[],o.skips=[],o.formatters={},o.selectColor=function(n){for(var t=0,s=0;s<n.length;s++)t=(t<<5)-t+n.charCodeAt(s),t|=0;return o.colors[Math.abs(t)%o.colors.length]},o.enable(o.load()),o}},905,[6,906]);
__d(function(g,r,i,a,_m,e,_d){var s=1e3,n=6e4,c=36e5,t=864e5;function u(u){if(!((u=String(u)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(o){var d=parseFloat(o[1]);switch((o[2]||'ms').toLowerCase()){case'years':case'year':case'yrs':case'yr':case'y':return 315576e5*d;case'weeks':case'week':case'w':return 6048e5*d;case'days':case'day':case'd':return d*t;case'hours':case'hour':case'hrs':case'hr':case'h':return d*c;case'minutes':case'minute':case'mins':case'min':case'm':return d*n;case'seconds':case'second':case'secs':case'sec':case's':return d*s;case'milliseconds':case'millisecond':case'msecs':case'msec':case'ms':return d;default:return}}}}function o(u){var o=Math.abs(u);return o>=t?Math.round(u/t)+'d':o>=c?Math.round(u/c)+'h':o>=n?Math.round(u/n)+'m':o>=s?Math.round(u/s)+'s':u+'ms'}function d(u){var o=Math.abs(u);return o>=t?m(u,o,t,'day'):o>=c?m(u,o,c,'hour'):o>=n?m(u,o,n,'minute'):o>=s?m(u,o,s,'second'):u+' ms'}function m(s,n,c,t){var u=n>=1.5*c;return Math.round(s/c)+' '+t+(u?'s':'')}_m.exports=function(s,n){n=n||{};var c=typeof s;if('string'===c&&s.length>0)return u(s);if('number'===c&&isFinite(s))return n.long?d(s):o(s);throw new Error('val is not a non-empty string or a valid number. val='+JSON.stringify(s))}},906,[]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),o=e(r(d[4])),c=e(r(d[5])),l=r(d[6]),f=e(r(d[7])),v=e(r(d[8]));function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}var y=l.NativeModules.WebRTCModule,p=(function(e){function l(){return(0,t.default)(this,l),e=this,n=l,c=arguments,n=(0,o.default)(n),(0,u.default)(e,s()?Reflect.construct(n,c||[],(0,o.default)(e).constructor):n.apply(e,c));var e,n,c}return(0,c.default)(l,e),(0,n.default)(l,[{key:"enumerateDevices",value:function(){return new Promise(function(e){return y.enumerateDevices(e)})}},{key:"getDisplayMedia",value:function(){return(0,f.default)()}},{key:"getUserMedia",value:function(e){return(0,v.default)(e)}}])})(r(d[9]).EventTarget),M=p.prototype;(0,r(d[9]).defineEventAttribute)(M,'devicechange');_e.default=new p},907,[1,12,13,23,25,28,2,908,916,912]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return new Promise(function(t,n){c.getDisplayMedia().then(function(n){var o=n.streamId,c={streamId:o,streamReactTag:o,tracks:[n.track]},f=new u.default(c);t(f)},function(t){n(new o.default(t))})})};var n=r(d[1]),u=t(r(d[2])),o=t(r(d[3])),c=n.NativeModules.WebRTCModule},908,[1,2,909,915]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),c=e(r(d[3])),o=e(r(d[4])),u=e(r(d[5])),f=e(r(d[6])),s=r(d[7]),l=e(r(d[8]));function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(k=function(){return!!e})()}var v=s.NativeModules.WebRTCModule,_=_e.default=(function(e){function s(e){var t,c,f,_;if((0,n.default)(this,s),c=this,f=s,f=(0,u.default)(f),(t=(0,o.default)(c,k()?Reflect.construct(f,_||[],(0,u.default)(c).constructor):f.apply(c,_)))._tracks=[],t._id=(0,r(d[9]).uniqueID)(),t._reactTag=t._id,void 0===e)v.mediaStreamCreate(t.id);else if(e instanceof s)for(var h of(v.mediaStreamCreate(t.id),e.getTracks()))t.addTrack(h);else if(Array.isArray(e))for(var y of(v.mediaStreamCreate(t.id),e))t.addTrack(y);else{if(!('object'==typeof e&&e.streamId&&e.streamReactTag&&e.tracks))throw new TypeError("invalid type: "+typeof e);for(var T of(t._id=e.streamId,t._reactTag=e.streamReactTag,e.tracks))t._tracks.push(new l.default(T))}return t}return(0,f.default)(s,e),(0,c.default)(s,[{key:"id",get:function(){return this._id}},{key:"active",get:function(){return!0}},{key:"addTrack",value:function(e){-1===this._tracks.indexOf(e)&&(this._tracks.push(e),v.mediaStreamAddTrack(this._reactTag,e.remote?e._peerConnectionId:-1,e.id))}},{key:"removeTrack",value:function(e){var t=this._tracks.indexOf(e);-1!==t&&(this._tracks.splice(t,1),v.mediaStreamRemoveTrack(this._reactTag,e.remote?e._peerConnectionId:-1,e.id))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getTrackById",value:function(e){return this._tracks.find(function(t){return t.id===e})}},{key:"getAudioTracks",value:function(){return this._tracks.filter(function(e){return'audio'===e.kind})}},{key:"getVideoTracks",value:function(){return this._tracks.filter(function(e){return'video'===e.kind})}},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"toURL",value:function(){return this._reactTag}},{key:"release",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,t.default)(this._tracks);for(var c of n)this.removeTrack(c),e&&c.release();v.mediaStreamRelease(this._reactTag)}}])})(r(d[10]).EventTarget),h=_.prototype;(0,r(d[10]).defineEventAttribute)(h,'addtrack'),(0,r(d[10]).defineEventAttribute)(h,'removetrack')},909,[1,6,12,13,23,25,28,2,910,911,912]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),s=e(r(d[4])),u=e(r(d[5])),l=e(r(d[6])),c=r(d[7]);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}var h=new(e(r(d[8])).default)('pc'),v=c.NativeModules.WebRTCModule,y=_e.default=(function(e){function c(e){var t,o,l,h;return(0,n.default)(this,c),o=this,l=c,l=(0,u.default)(l),(t=(0,s.default)(o,f()?Reflect.construct(l,h||[],(0,u.default)(o).constructor):l.apply(o,h))).label='',t._constraints=e.constraints||{},t._enabled=e.enabled,t._settings=e.settings||{},t._muted=!1,t._peerConnectionId=e.peerConnectionId,t._readyState=e.readyState,t.id=e.id,t.kind=e.kind,t.remote=e.remote,t.remote||t._registerEvents(),t}return(0,l.default)(c,e),(0,o.default)(c,[{key:"enabled",get:function(){return this._enabled},set:function(e){e!==this._enabled&&(this._enabled=Boolean(e),'ended'!==this._readyState&&v.mediaStreamTrackSetEnabled(this.remote?this._peerConnectionId:-1,this.id,this._enabled))}},{key:"muted",get:function(){return this._muted}},{key:"readyState",get:function(){return this._readyState}},{key:"stop",value:function(){this.enabled=!1,this._readyState='ended'}},{key:"_switchCamera",value:function(){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');var e=(0,r(d[9]).deepClone)(this._settings);delete e.deviceId,e.facingMode='user'===this._settings.facingMode?'environment':'user',this.applyConstraints(e)}},{key:"_setVideoEffect",value:function(e){if(this.remote)throw new Error('Not implemented for remote tracks');if('video'!==this.kind)throw new Error('Only implemented for video tracks');v.mediaStreamTrackSetVideoEffect(this.id,e)}},{key:"_setMutedInternal",value:function(e){if(!this.remote)throw new Error('Track is not remote!');this._muted=e,this.dispatchEvent(new(r(d[10]).Event)(e?'mute':'unmute'))}},{key:"_setVolume",value:function(e){if('audio'!==this.kind)throw new Error('Only implemented for audio tracks');v.mediaStreamTrackSetVolume(this.remote?this._peerConnectionId:-1,this.id,e)}},{key:"applyConstraints",value:(y=(0,t.default)(function*(e){if('video'!==this.kind)throw new Error('Only implemented for video tracks');var t=(0,r(d[9]).normalizeConstraints)({video:null==e||e});this._settings=yield v.mediaStreamTrackApplyConstraints(this.id,t.video),this._constraints=null!=e?e:{}}),function(e){return y.apply(this,arguments)})},{key:"clone",value:function(){throw new Error('Not implemented.')}},{key:"getCapabilities",value:function(){throw new Error('Not implemented.')}},{key:"getConstraints",value:function(){return(0,r(d[9]).deepClone)(this._constraints)}},{key:"getSettings",value:function(){return(0,r(d[9]).deepClone)(this._settings)}},{key:"_registerEvents",value:function(){var e=this;(0,r(d[11]).addListener)(this,'mediaStreamTrackEnded',function(t){t.trackId===e.id&&'ended'!==e._readyState&&(h.debug(`${e.id} mediaStreamTrackEnded`),e._readyState='ended',e.dispatchEvent(new(r(d[10]).Event)('ended')))})}},{key:"release",value:function(){this.remote||((0,r(d[11]).removeListener)(this),v.mediaStreamTrackRelease(this.id))}}]);var y})(r(d[10]).EventTarget),k=y.prototype;(0,r(d[10]).defineEventAttribute)(k,'ended'),(0,r(d[10]).defineEventAttribute)(k,'mute'),(0,r(d[10]).defineEventAttribute)(k,'unmute')},910,[1,345,12,13,23,25,28,2,903,911,912,914]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=b,e.isSdpTypeValid=function(t){return v.includes(t)},e.normalizeConstraints=function(t){var n=b(t);for(var o of['audio','video']){var f=n[o],c=typeof f;if('undefined'!==c)if('boolean'===c)f&&(n[o]=s(o));else{if('object'!==c)throw new TypeError(`constraints.${o} is neither a boolean nor a dictionary`);n[o]=p(f,o)}}return n},e.normalizeOfferOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={};if(!t)return o;for(var f of Object.entries(t)){var c=(0,n.default)(f,2),u=c[0],v=c[1],s=h[u.toLowerCase()];s&&(o[s]=String(Boolean(v)))}return o},e.uniqueID=function(){return`${y()}${y()}-${y()}-${y()}-${y()}-${y()}${y()}${y()}`};var n=t(r(d[1])),o={},f={facingMode:'user',frameRate:30,height:720,width:1280},c=['user','environment'],u=1.7777777777777777,h={icerestart:'IceRestart',offertoreceiveaudio:'OfferToReceiveAudio',offertoreceivevideo:'OfferToReceiveVideo',voiceactivitydetection:'VoiceActivityDetection'},v=['offer','pranswer','answer','rollback'];function s(t){switch(t){case'audio':return o;case'video':return f;default:throw new TypeError(`Invalid media type: ${t}`)}}function l(t,n){var o=t[n],f=typeof o;if('object'===f){for(var c of['exact','ideal'])if(o[c])return o[c]}else if('string'===f)return o}function w(t,n){var o=t[n],f=typeof o;if('number'===f)return Number.parseInt(o);if('object'===f)for(var c of['exact','ideal','max','min'])if(o[c])return Number.parseInt(o[c])}function p(t,n){switch(n){case'audio':return t;case'video':var o={deviceId:l(t,'deviceId'),facingMode:l(t,'facingMode'),frameRate:w(t,'frameRate'),height:w(t,'height'),width:w(t,'width')};return o.deviceId||delete o.deviceId,c.includes(o.facingMode)||(o.facingMode=f.facingMode),o.frameRate||(o.frameRate=f.frameRate),o.height||o.width?!o.height&&o.width?o.height=Math.round(o.width/u):!o.width&&o.height&&(o.width=Math.round(o.height*u)):(o.height=f.height,o.width=f.width),o;default:throw new TypeError(`Invalid media type: ${n}`)}}function y(){return Math.random().toString(16).slice(-4)}function b(t){return JSON.parse(JSON.stringify(t))}},911,[1,38]);
__d(function(g,_r,_i8,a,m,_e,_d){'use strict';var e,t=_r(_d[0]),n=_r(_d[1]),r=_r(_d[2]),o=_r(_d[3]),i=_r(_d[4]),u=_r(_d[5]),c=_r(_d[6]),l=_r(_d[7]),s=_r(_d[8]);function f(e,t,r,o,u,c){return n(i(c?e.prototype:e),t,r,o,u)}function p(e,t,n,o){var u=r(i(1&o?e.prototype:e),t,n);return 2&o&&"function"==typeof u?function(e){return u.apply(n,e)}:u}function v(e,t,n){return t=i(t),o(e,b()?Reflect.construct(t,n||[],i(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function d(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw new TypeError(y(t,r))}}function y(e,t){var n=0;return e.replace(/%[os]/g,function(){return h(t[n++])})}function h(e){return"object"!=typeof e||null===e?String(e):Object.prototype.toString.call(e)}function E(t){try{var n=t instanceof Error?t:new Error(h(t));if(e)return void e(n);if("function"==typeof dispatchEvent&&"function"==typeof ErrorEvent)dispatchEvent(new ErrorEvent("error",{error:n,message:n.message}));else if("undefined"!=typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",n);console.error(n)}catch(e){}}Object.defineProperty(_e,'__esModule',{value:!0});var R,k="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==g?g:"undefined"!=typeof globalThis?globalThis:void 0;var P=(function(){return s(function e(t,n){l(this,e),this.code=t,this.message=n},[{key:"warn",value:function(){var e;try{for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(R)return void R(Object.assign({},this,{args:r}));var i=(null!==(e=(new Error).stack)&&void 0!==e?e:"").replace(/^(?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?\n){2}/g,"\n");(t=console).warn.apply(t,[this.message].concat(r,[i]))}catch(e){}}}])})(),T=new P("W01","Unable to initialize event under dispatching."),w=new P("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),O=new P("W03","Assigning any truthy value to 'returnValue' property has no effect."),_=new P("W04","Unable to preventDefault on non-cancelable events."),F=new P("W05","Unable to preventDefault inside passive event listener invocation."),A=new P("W06","An event listener wasn't added because it has been added already: %o, %o"),I=new P("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),D=new P("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),S=new P("W09","Event attribute handler must be a function: %o"),j=(function(){return s(function e(t,n){l(this,e),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});var r=null!=n?n:{};U.set(this,{type:String(t),bubbles:Boolean(r.bubbles),cancelable:Boolean(r.cancelable),composed:Boolean(r.composed),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})},[{key:"type",get:function(){return W(this).type}},{key:"target",get:function(){return W(this).target}},{key:"srcElement",get:function(){return W(this).target}},{key:"currentTarget",get:function(){return W(this).currentTarget}},{key:"composedPath",value:function(){var e=W(this).currentTarget;return e?[e]:[]}},{key:"NONE",get:function(){return N}},{key:"CAPTURING_PHASE",get:function(){return B}},{key:"AT_TARGET",get:function(){return L}},{key:"BUBBLING_PHASE",get:function(){return C}},{key:"eventPhase",get:function(){return W(this).dispatchFlag?2:0}},{key:"stopPropagation",value:function(){W(this).stopPropagationFlag=!0}},{key:"cancelBubble",get:function(){return W(this).stopPropagationFlag},set:function(e){e?W(this).stopPropagationFlag=!0:w.warn()}},{key:"stopImmediatePropagation",value:function(){var e=W(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}},{key:"bubbles",get:function(){return W(this).bubbles}},{key:"cancelable",get:function(){return W(this).cancelable}},{key:"returnValue",get:function(){return!W(this).canceledFlag},set:function(e){e?O.warn():M(W(this))}},{key:"preventDefault",value:function(){M(W(this))}},{key:"defaultPrevented",get:function(){return W(this).canceledFlag}},{key:"composed",get:function(){return W(this).composed}},{key:"isTrusted",get:function(){return!1}},{key:"timeStamp",get:function(){return W(this).timeStamp}},{key:"initEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=W(this);r.dispatchFlag?T.warn():U.set(this,Object.assign({},r,{type:String(e),bubbles:Boolean(t),cancelable:Boolean(n),target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1}))}}],[{key:"NONE",get:function(){return N}},{key:"CAPTURING_PHASE",get:function(){return B}},{key:"AT_TARGET",get:function(){return L}},{key:"BUBBLING_PHASE",get:function(){return C}}])})(),N=0,B=1,L=2,C=3,U=new WeakMap;function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=U.get(e);return d(null!=n,"'%s' must be an object that Event constructor created, but got another one: %o",t,e),n}function M(e){e.inPassiveListenerFlag?F.warn():e.cancelable?e.canceledFlag=!0:_.warn()}Object.defineProperty(j,"NONE",{enumerable:!0}),Object.defineProperty(j,"CAPTURING_PHASE",{enumerable:!0}),Object.defineProperty(j,"AT_TARGET",{enumerable:!0}),Object.defineProperty(j,"BUBBLING_PHASE",{enumerable:!0});for(var V,H=Object.getOwnPropertyNames(j.prototype),G=0;G<H.length;++G)"constructor"!==H[G]&&Object.defineProperty(j.prototype,H[G],{enumerable:!0});void 0!==k&&void 0!==k.Event&&Object.setPrototypeOf(j.prototype,k.Event.prototype);var x={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function Y(e){for(var t=Object.keys(x),n=function(){var n=t[r],o=x[n];Object.defineProperty(e,n,{get:function(){return o},configurable:!0,enumerable:!0})},r=0;r<t.length;++r)n()}var X=(function(e){function t(e){var n;l(this,t),n=v(this,t,[e.type,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}]),e.cancelBubble&&p(t,"stopPropagation",n,3)([]),e.defaultPrevented&&p(t,"preventDefault",n,3)([]),Q.set(n,{original:e});for(var r=Object.keys(e),o=0;o<r.length;++o){var i=r[o];i in n||Object.defineProperty(n,i,q(e,i))}return n}return u(t,e),s(t,[{key:"stopPropagation",value:function(){p(t,"stopPropagation",this,3)([]);var e=Z(this).original;"stopPropagation"in e&&e.stopPropagation()}},{key:"cancelBubble",get:function(){return p(t,"cancelBubble",this,1)},set:function(e){f(t,"cancelBubble",e,this,1,1);var n=Z(this).original;"cancelBubble"in n&&(n.cancelBubble=e)}},{key:"stopImmediatePropagation",value:function(){p(t,"stopImmediatePropagation",this,3)([]);var e=Z(this).original;"stopImmediatePropagation"in e&&e.stopImmediatePropagation()}},{key:"returnValue",get:function(){return p(t,"returnValue",this,1)},set:function(e){f(t,"returnValue",e,this,1,1);var n=Z(this).original;"returnValue"in n&&(n.returnValue=e)}},{key:"preventDefault",value:function(){p(t,"preventDefault",this,3)([]);var e=Z(this).original;"preventDefault"in e&&e.preventDefault()}},{key:"timeStamp",get:function(){var e=Z(this).original;return"timeStamp"in e?e.timeStamp:p(t,"timeStamp",this,1)}}],[{key:"wrap",value:function(e){return new(K(e))(e)}}])})(j),Q=new WeakMap;function Z(e){var t=Q.get(e);return d(null!=t,"'this' is expected an Event object, but got",e),t}var z=new WeakMap;function K(e){var t=Object.getPrototypeOf(e);if(null==t)return X;var n=z.get(t);return null==n&&(n=$(K(t),t),z.set(t,n)),n}function $(e,t){for(var n=(function(e){function t(){return l(this,t),v(this,t,arguments)}return u(t,e),s(t)})(e),r=Object.keys(t),o=0;o<r.length;++o)Object.defineProperty(n.prototype,r[o],q(t,r[o]));return n}function q(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return{get:function(){var e=Z(this).original,n=e[t];return"function"==typeof n?n.bind(e):n},set:function(e){Z(this).original[t]=e},configurable:n.configurable,enumerable:n.enumerable}}function J(e,t,n,r,o,i){return{callback:e,flags:(t?1:0)|(n?2:0)|(r?4:0),signal:o,signalListener:i}}function ee(e){e.flags|=8}function te(e){return!(1&~e.flags)}function ne(e){return!(2&~e.flags)}function re(e){return!(4&~e.flags)}function ae(e){return!(8&~e.flags)}function oe(e,t,n){var r=e.callback;try{"function"==typeof r?r.call(t,n):"function"==typeof r.handleEvent&&r.handleEvent(n)}catch(e){E(e)}}function ie(e,t,n){for(var r=e.listeners,o=0;o<r.length;++o)if(r[o].callback===t&&te(r[o])===n)return o;return-1}function ue(e,n,r,o,i,u){var c;u&&(c=ce.bind(null,e,n,r),u.addEventListener("abort",c));var l=J(n,r,o,i,u,c);return e.cow?(e.cow=!1,e.listeners=[].concat(t(e.listeners),[l])):e.listeners.push(l),l}function ce(e,t,n){var r=ie(e,t,n);return-1!==r&&le(e,r)}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.listeners[t];return ee(r),r.signal&&r.signal.removeEventListener("abort",r.signalListener),e.cow&&!n?(e.cow=!1,e.listeners=e.listeners.filter(function(e,n){return n!==t}),!1):(e.listeners.splice(t,1),!0)}function se(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[t]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}z.set(Object.prototype,X),void 0!==k&&void 0!==k.Event&&z.set(k.Event.prototype,X);var fe=(function(){return s(function e(){l(this,e),pe.set(this,Object.create(null))},[{key:"addEventListener",value:function(e,t,n){var r=ge(this),o=ve(e,t,n),i=o.callback,u=o.capture,c=o.once,l=o.passive,s=o.signal,f=o.type;if(null!=i&&!(null==s?void 0:s.aborted)){var p=se(r,f),v=ie(p,i,u);-1===v?ue(p,i,u,l,c,s):ye(p.listeners[v],l,c,s)}}},{key:"removeEventListener",value:function(e,t,n){var r=ge(this),o=be(e,t,n),i=o.callback,u=o.capture,c=r[o.type];null!=i&&c&&ce(c,i,u)}},{key:"dispatchEvent",value:function(e){var t=ge(this)[String(e.type)];if(null==t)return!0;var n,r=e instanceof j?e:X.wrap(e),o=W(r,"event");if(o.dispatchFlag)throw n="This event has been in dispatching.",k.DOMException?new k.DOMException(n,"InvalidStateError"):(null==V&&(V=(function(e){function t(e){var n;return l(this,t),n=v(this,t,[e]),Error.captureStackTrace&&Error.captureStackTrace(n,t),n}return u(t,e),s(t,[{key:"code",get:function(){return 11}},{key:"name",get:function(){return"InvalidStateError"}}])})(c(Error)),Object.defineProperties(V.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),Y(V),Y(V.prototype)),new V(n));if(o.dispatchFlag=!0,o.target=o.currentTarget=this,!o.stopPropagationFlag){var i=t.cow,f=t.listeners;t.cow=!0;for(var p=0;p<f.length;++p){var b=f[p];if(!ae(b)&&(re(b)&&le(t,p,!i)&&(p-=1),o.inPassiveListenerFlag=ne(b),oe(b,this,r),o.inPassiveListenerFlag=!1,o.stopImmediatePropagationFlag))break}i||(t.cow=!1)}return o.target=null,o.currentTarget=null,o.stopImmediatePropagationFlag=!1,o.stopPropagationFlag=!1,o.dispatchFlag=!1,!o.canceledFlag}}])})(),pe=new WeakMap;function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",n=pe.get(e);return d(null!=n,"'%s' must be an object that EventTarget constructor created, but got another one: %o",t,e),n}function ve(e,t,n){var r;return de(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture),passive:Boolean(n.passive),once:Boolean(n.once),signal:null!==(r=n.signal)&&void 0!==r?r:void 0}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n),passive:!1,once:!1,signal:void 0}}function be(e,t,n){return de(t),"object"==typeof n&&null!==n?{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n.capture)}:{type:String(e),callback:null!=t?t:void 0,capture:Boolean(n)}}function de(e){if("function"!=typeof e&&("object"!=typeof e||null===e||"function"!=typeof e.handleEvent)){if(null!=e&&"object"!=typeof e)throw new TypeError(y(D.message,[e]));D.warn(e)}}function ye(e,t,n,r){A.warn(te(e)?"capture":"bubble",e.callback),ne(e)!==t&&I.warn("passive"),re(e)!==n&&I.warn("once"),e.signal!==r&&I.warn("signal")}for(var he=Object.getOwnPropertyNames(fe.prototype),Ee=0;Ee<he.length;++Ee)"constructor"!==he[Ee]&&Object.defineProperty(fe.prototype,he[Ee],{enumerable:!0});function me(e,t){var n,r;return null!==(r=null===(n=ge(e,"target")[t])||void 0===n?void 0:n.attrCallback)&&void 0!==r?r:null}function Re(e,t,n){null!=n&&"function"!=typeof n&&S.warn(n),"function"==typeof n||"object"==typeof n&&null!==n?ke(e,t,n):Pe(e,t)}function ke(e,t,n){var r=se(ge(e,"target"),String(t));r.attrCallback=n,null==r.attrListener&&(r.attrListener=ue(r,Te(r),!1,!1,!1,void 0))}function Pe(e,t){var n=ge(e,"target")[String(t)];n&&n.attrListener&&(ce(n,n.attrListener.callback,!1),n.attrCallback=n.attrListener=void 0)}function Te(e){return function(t){var n=e.attrCallback;"function"==typeof n&&n.call(this,t)}}function we(e,t,n){Object.defineProperty(e,`on${t}`,{get:function(){return me(this,t)},set:function(e){Re(this,t,e)},configurable:!0,enumerable:!0})}void 0!==k&&void 0!==k.EventTarget&&Object.setPrototypeOf(fe.prototype,k.EventTarget.prototype),_e.Event=j,_e.EventTarget=fe,_e.default=fe,_e.defineCustomEventTarget=function(){for(var e=(function(e){function t(){return l(this,t),v(this,t,arguments)}return u(t,e),s(t)})(fe),t=0;t<arguments.length;++t)we(e.prototype,t<0||arguments.length<=t?void 0:arguments[t]);return e},_e.defineEventAttribute=we,_e.getEventAttributeValue=me,_e.setErrorHandler=function(t){d("function"==typeof t||void 0===t,"The error handler must be a function or undefined, but got %o.",t),e=t},_e.setEventAttributeValue=Re,_e.setWarningHandler=function(e){d("function"==typeof e||void 0===e,"The warning handler must be a function or undefined, but got %o.",e),R=e}},912,[6,913,26,23,25,28,85,12,13]);
__d(function(g,_r,_i,a,m,_e,d){function e(t,r,n,o){return e="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var o,f=_r(d[0])(e,t);if(f){if((o=Object.getOwnPropertyDescriptor(f,t)).set)return o.set.call(n,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(n,t,o)}else _r(d[1])(n,t,r);return!0},e(t,r,n,o)}m.exports=function(t,r,n,o,f){if(!e(t,r,n,o||t)&&f)throw new TypeError("failed to set property");return n},m.exports.__esModule=!0,m.exports.default=m.exports},913,[27,194]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addListener=function(n,t,o){var c;if(!u.includes(t))throw new Error(`Invalid event: ${t}`);l.has(n)||l.set(n,[]);null==(c=l.get(n))||c.push(v.addListener(t,o))},e.removeListener=function(n){var t;null==(t=l.get(n))||t.forEach(function(n){n.remove()}),l.delete(n)},e.setupNativeEvents=function(){var n=function(n){C.addListener(n,function(){for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];v.emit.apply(v,[n].concat(o))})};for(var t of u)n(t)};var t=r(d[1]),o=n(r(d[2])),c=t.NativeModules.WebRTCModule,C=new t.NativeEventEmitter(c),u=['peerConnectionSignalingStateChanged','peerConnectionStateChanged','peerConnectionOnRenegotiationNeeded','peerConnectionIceConnectionChanged','peerConnectionIceGatheringChanged','peerConnectionGotICECandidate','peerConnectionDidOpenDataChannel','peerConnectionOnRemoveTrack','peerConnectionOnTrack','dataChannelStateChanged','dataChannelReceiveMessage','dataChannelDidChangeBufferedAmount','mediaStreamTrackMuteChanged','mediaStreamTrackEnded'],v=new o.default;var l=new Map},914,[1,2,30]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2]));e.default=(0,n.default)(function t(n){(0,s.default)(this,t),this.name=n.name,this.message=n.message,this.constraintName=n.constraintName})},915,[1,13,12]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if('object'!=typeof e)return Promise.reject(new TypeError('constraints is not a dictionary'));if(!(void 0!==e.audio&&e.audio||void 0!==e.video&&e.video))return Promise.reject(new TypeError('audio and/or video is required'));e=u.normalizeConstraints(e);var t=[];e.audio?t.push(i.default.request({name:'microphone'})):t.push(Promise.resolve(!1));e.video?t.push(i.default.request({name:'camera'})):t.push(Promise.resolve(!1));return new Promise(function(i,f){Promise.all(t).then(function(t){var l=(0,r.default)(t,2),c=l[0],v=l[1];if(c||v){c||delete e.audio,v||delete e.video;s.getUserMedia(e,function(r,t){for(var n of t){var s=e[n.kind];'object'==typeof s&&(n.constraints=u.deepClone(s))}var f={streamId:r,streamReactTag:r,tracks:t};i(new o.default(f))},function(e,r){var t;if('TypeError'===e)t=new TypeError(r);t||(t=new n.default({message:r,name:e})),f(t)})}else{f(new n.default({message:'Permission denied.',name:'SecurityError'}))}})})};var r=e(_r(d[1])),t=_r(d[2]),o=e(_r(d[3])),n=e(_r(d[4])),i=e(_r(d[5])),u=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var n,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=r?o:t){if(n.has(e))return n.get(e);n.set(e,u)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?n(u,s,i):u[s]=e[s]);return u})(e,r)})(_r(d[6]));var s=t.NativeModules.WebRTCModule},916,[1,38,2,909,915,917,911]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(r(d[1])),o=e(r(d[2])),t=r(d[3]),s=t.NativeModules.WebRTCModule,u=(function(){return(0,o.default)(function e(){(0,n.default)(this,e),this.RESULT={DENIED:'denied',GRANTED:'granted',PROMPT:'prompt'},this.VALID_PERMISSIONS=['camera','microphone'],this._lastReq=Promise.resolve()},[{key:"_requestPermissionAndroid",value:function(e){return new Promise(function(n){t.PermissionsAndroid.request(e).then(function(e){return n(e===t.PermissionsAndroid.RESULTS.GRANTED)},function(){return n(!1)})})}},{key:"_validatePermissionDescriptior",value:function(e){if('object'!=typeof e)throw new TypeError('Argument 1 of Permissions.query is not an object.');if(void 0===e.name)throw new TypeError('Missing required \'name\' member of PermissionDescriptor.');if(-1===this.VALID_PERMISSIONS.indexOf(e.name))throw new TypeError('\'name\' member of PermissionDescriptor is not a valid value for enumeration PermissionName.')}},{key:"query",value:function(e){var n=this;try{this._validatePermissionDescriptior(e)}catch(e){return Promise.reject(e)}if('android'===t.Platform.OS){var o='camera'===e.name?t.PermissionsAndroid.PERMISSIONS.CAMERA:t.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;return new Promise(function(e){t.PermissionsAndroid.check(o).then(function(o){return e(o?n.RESULT.GRANTED:n.RESULT.PROMPT)},function(){return e(n.RESULT.PROMPT)})})}return'ios'===t.Platform.OS||'macos'===t.Platform.OS?s.checkPermission(e.name):Promise.reject(new TypeError('Unsupported platform.'))}},{key:"request",value:function(e){var n=this;try{this._validatePermissionDescriptior(e)}catch(e){return Promise.reject(e)}if('android'===t.Platform.OS){var o='camera'===e.name?t.PermissionsAndroid.PERMISSIONS.CAMERA:t.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,u=function(){return n._requestPermissionAndroid(o)};return this._lastReq=this._lastReq.then(u,u),this._lastReq}return'ios'===t.Platform.OS||'macos'===t.Platform.OS?s.requestPermission(e.name):Promise.reject(new TypeError('Unsupported platform.'))}}])})();_e.default=new u},917,[1,12,13,2]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),c=t(r(d[4])),o=t(r(d[5]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}_e.default=(function(t){function l(t,e){var o,v,s,p;return(0,u.default)(this,l),v=this,s=l,p=[t,e],s=(0,c.default)(s),(o=(0,n.default)(v,f()?Reflect.construct(s,p||[],(0,c.default)(v).constructor):s.apply(v,p))).track=e.track,o}return(0,o.default)(l,t),(0,e.default)(l)})(r(d[6]).Event)},918,[1,13,12,23,25,28,912]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),u=t(r(d[2])),n=r(d[3]),l=n.NativeModules.WebRTCModule;e.default=(function(){return(0,u.default)(function t(){(0,o.default)(this,t)},null,[{key:"audioSessionDidActivate",value:function(){'ios'===n.Platform.OS&&l.audioSessionDidActivate()}},{key:"audioSessionDidDeactivate",value:function(){'ios'===n.Platform.OS&&l.audioSessionDidDeactivate()}}])})()},919,[1,12,13,2]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),c=t(r(d[4])),f=t(r(d[5]));function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}_e.default=(function(t){function l(t,e,f){var s,v,p,y;return(0,u.default)(this,l),v=this,p=l,y=[t],p=(0,c.default)(p),(s=(0,n.default)(v,o()?Reflect.construct(p,y||[],(0,c.default)(v).constructor):p.apply(v,y))).func=e,s.message=f,s}return(0,f.default)(l,t),(0,e.default)(l)})(r(d[6]).Event)},920,[1,13,12,23,25,28,912]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),s=n(r(d[2]));e.default=(function(){return(0,s.default)(function n(s){var u=s.candidate,l=void 0===u?'':u,o=s.sdpMLineIndex,p=void 0===o?null:o,M=s.sdpMid,f=void 0===M?null:M;if((0,t.default)(this,n),null===p&&null===f)throw new TypeError('`sdpMLineIndex` and `sdpMid` must not be both null');this.candidate=l,this.sdpMLineIndex=p,this.sdpMid=f},[{key:"toJSON",value:function(){return{candidate:this.candidate,sdpMLineIndex:this.sdpMLineIndex,sdpMid:this.sdpMid}}}])})()},921,[1,12,13]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),i=e(_r(d[4])),a=e(_r(d[5])),c=e(_r(d[6])),s=e(_r(d[7])),o=_r(d[8]),u=e(_r(d[9])),l=e(_r(d[10])),f=e(_r(d[11])),p=e(_r(d[12])),v=e(_r(d[13])),h=e(_r(d[14])),_=e(_r(d[15])),I=e(_r(d[16])),w=e(_r(d[17])),k=e(_r(d[18])),y=e(_r(d[19])),E=e(_r(d[20])),C=e(_r(d[21])),b=e(_r(d[22])),S=e(_r(d[23])),T=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,c)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(a.get||a.set)?i(c,s,a):c[s]=e[s]);return c})(e,t)})(_r(d[24]));function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(O=function(){return!!e})()}var D=new u.default('pc'),$=o.NativeModules.WebRTCModule,j=0,A=_e.default=(function(e){function o(e){var t,n,i,s;if((0,r.default)(this,o),n=this,i=o,i=(0,c.default)(i),(t=(0,a.default)(n,O()?Reflect.construct(i,s||[],(0,c.default)(n).constructor):i.apply(n,s))).localDescription=null,t.remoteDescription=null,t.signalingState='stable',t.iceGatheringState='new',t.connectionState='new',t.iceConnectionState='new',t._pcId=j++,e){var u,l=null!=(u=null==e?void 0:e.iceServers)?u:[];for(var f of l){var p=f.url||f.urls;delete f.url,delete f.urls,p&&(Array.isArray(p)||(p=[p]),f.urls=p.map(function(e){return e.toLowerCase()}))}e.iceServers=l.filter(function(e){return e.urls})}if(!$.peerConnectionInit(e,t._pcId))throw new Error('Failed to initialize PeerConnection, check the native logs!');return t._transceivers=[],t._remoteStreams=new Map,t._pendingTrackEvents=[],t._registerEvents(),D.debug(`${t._pcId} ctor`),t}return(0,s.default)(o,e),(0,i.default)(o,[{key:"createOffer",value:(P=(0,n.default)(function*(e){var t=this;D.debug(`${this._pcId} createOffer`);var n=yield $.peerConnectionCreateOffer(this._pcId,T.normalizeOfferOptions(e)),r=n.sdpInfo,i=n.newTransceivers,a=n.transceiversInfo;return D.debug(`${this._pcId} createOffer OK`),null==i||i.forEach(function(e){var n=e.transceiverOrder,r=e.transceiver,i=new E.default(Object.assign({},r.sender,{track:null})),a=r.receiver.track?new f.default(r.receiver.track):null,c=new k.default(Object.assign({},r.receiver,{track:a})),s=new C.default(Object.assign({},r,{sender:i,receiver:c}));t._insertTransceiverSorted(n,s)}),this._updateTransceivers(a),r}),function(e){return P.apply(this,arguments)})},{key:"createAnswer",value:(R=(0,n.default)(function*(){D.debug(`${this._pcId} createAnswer`);var e=yield $.peerConnectionCreateAnswer(this._pcId,{}),t=e.sdpInfo,n=e.transceiversInfo;return this._updateTransceivers(n),t}),function(){return R.apply(this,arguments)})},{key:"setConfiguration",value:function(e){$.peerConnectionSetConfiguration(e,this._pcId)}},{key:"setLocalDescription",value:(M=(0,n.default)(function*(e){var t,n,r;if(D.debug(`${this._pcId} setLocalDescription`),e){if(n={type:e.type,sdp:null!=(r=e.sdp)?r:''},!T.isSdpTypeValid(n.type))throw new Error(`Invalid session description: invalid type: ${n.type}`)}else n=null;var i=yield $.peerConnectionSetLocalDescription(this._pcId,n),a=i.sdpInfo,c=i.transceiversInfo;a.type&&a.sdp?this.localDescription=new b.default(a):this.localDescription=null,this._updateTransceivers(c,'answer'===(null==(t=n)?void 0:t.type)),D.debug(`${this._pcId} setLocalDescription OK`)}),function(e){return M.apply(this,arguments)})},{key:"setRemoteDescription",value:(L=(0,n.default)(function*(e){var n,r,i=this;if(D.debug(`${this._pcId} setRemoteDescription`),!e)return Promise.reject(new Error('No session description provided'));var a={type:e.type,sdp:null!=(n=e.sdp)?n:''};if(!T.isSdpTypeValid(null!=(r=a.type)?r:''))throw new Error(`Invalid session description: invalid type: ${a.type}`);var c=yield $.peerConnectionSetRemoteDescription(this._pcId,a),s=c.sdpInfo,o=c.newTransceivers,u=c.transceiversInfo;s.type&&s.sdp?this.remoteDescription=new b.default(s):this.remoteDescription=null,null==o||o.forEach(function(e){var t=e.transceiverOrder,n=e.transceiver,r=new E.default(Object.assign({},n.sender,{track:null})),a=n.receiver.track?new f.default(n.receiver.track):null,c=new k.default(Object.assign({},n.receiver,{track:a})),s=new C.default(Object.assign({},n,{sender:r,receiver:c}));i._insertTransceiverSorted(t,s)}),this._updateTransceivers(u,'answer'===a.type);var v=this._pendingTrackEvents;this._pendingTrackEvents=[];var h=function*(e){var n=i.getTransceivers().filter(function(t){return t.receiver.id===e.receiver.id}),r=(0,t.default)(n,1)[0],a=r.receiver.track;r._mid=e.transceiver.mid,r._currentDirection=e.transceiver.currentDirection,r._direction=e.transceiver.direction;var c=e.streams.map(function(e){if(!i._remoteStreams.has(e.streamId)){var t=new l.default({streamId:e.streamId,streamReactTag:e.streamReactTag,tracks:[]});i._remoteStreams.set(e.streamId,t)}var n=i._remoteStreams.get(e.streamId);return null!=n&&n._tracks.includes(a)||null==n||n._tracks.push(a),n}),s={streams:c,transceiver:r,track:a,receiver:r.receiver};i.dispatchEvent(new S.default('track',s)),c.forEach(function(e){e.dispatchEvent(new p.default('addtrack',{track:a}))}),a._setMutedInternal(!1)};for(var _ of v)yield*h(_);D.debug(`${this._pcId} setRemoteDescription OK`)}),function(e){return L.apply(this,arguments)})},{key:"addIceCandidate",value:(A=(0,n.default)(function*(e){if(D.debug(`${this._pcId} addIceCandidate`),e&&e.candidate){if(!(null!==e.sdpMLineIndex&&void 0!==e.sdpMLineIndex||null!==e.sdpMid&&void 0!==e.sdpMid))throw new TypeError('`sdpMLineIndex` and `sdpMid` must not be both null or undefined');var t=yield $.peerConnectionAddICECandidate(this._pcId,T.deepClone(e));this.remoteDescription=new b.default(t)}}),function(e){return A.apply(this,arguments)})},{key:"addTrack",value:function(e){if(D.debug(`${this._pcId} addTrack`),'closed'===this.connectionState)throw new Error('Peer Connection is closed');if(this._trackExists(e))throw new Error('Track already exists in a sender');for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=r.map(function(e){return e.id}),c=$.peerConnectionAddTrack(this._pcId,e.id,{streamIds:a});if(null===c)throw new Error('Could not add sender');var s=c.transceiverOrder,o=c.transceiver,u=c.sender,l=this.getSenders().filter(function(e){return e.id===u.id}),p=(0,t.default)(l,1)[0];if(p){p._track=e;var v=this.getTransceivers().filter(function(e){return e.sender.id===p.id}),h=(0,t.default)(v,1)[0];return h._direction=o.direction,h._currentDirection=o.currentDirection,p}var _=new E.default(Object.assign({},o.sender,{track:e})),I=o.receiver.track?new f.default(o.receiver.track):null,w=new k.default(Object.assign({},o.receiver,{track:I})),y=new C.default(Object.assign({},o,{sender:_,receiver:w}));return this._insertTransceiverSorted(s,y),_}},{key:"addTransceiver",value:function(e,t){D.debug(`${this._pcId} addTransceiver`);var n={};n='audio'===e?{type:'audio'}:'video'===e?{type:'video'}:{trackId:e.id},t&&t.streams&&(t.streamIds=t.streams.map(function(e){return e.id}));var r=$.peerConnectionAddTransceiver(this._pcId,Object.assign({},n,{init:Object.assign({},t)}));if(null===r)throw new Error('Transceiver could not be added');var i=r.transceiver,a=null;'string'==typeof e?i.sender.track&&(a=new f.default(i.sender.track)):a=e;var c=new E.default(Object.assign({},i.sender,{track:a})),s=i.receiver.track?new f.default(i.receiver.track):null,o=new k.default(Object.assign({},i.receiver,{track:s})),u=new C.default(Object.assign({},r.transceiver,{sender:c,receiver:o}));return this._insertTransceiverSorted(r.transceiverOrder,u),u}},{key:"removeTrack",value:function(e){if(D.debug(`${this._pcId} removeTrack`),this._pcId!==e._peerConnectionId)throw new Error('Sender does not belong to this peer connection');if('closed'===this.connectionState)throw new Error('Peer Connection is closed');var n=this.getSenders().find(function(t){return t===e});if(!n)throw new Error('Sender does not exist');if(null!==n.track){$.peerConnectionRemoveTrack(this._pcId,e.id),n._track=null;var r=this.getTransceivers().filter(function(e){return e.sender.id===n.id}),i=(0,t.default)(r,1)[0];i._direction='sendrecv'===i.direction?'recvonly':'inactive'}}},{key:"getStats",value:(u=(0,n.default)(function*(e){if(D.debug(`${this._pcId} getStats`),e){var t=this.getSenders().filter(function(t){return t.track===e}),n=this.getReceivers().filter(function(t){return t.track===e}),r=t.length+n.length;if(0===r)throw new Error('Invalid selector: could not find matching sender / receiver');if(r>1)throw new Error('Invalid selector: multiple matching senders / receivers');return(t[0]||n[0]).getStats()}var i=yield $.peerConnectionGetStats(this._pcId);return new Map(JSON.parse(i))}),function(e){return u.apply(this,arguments)})},{key:"getTransceivers",value:function(){return this._transceivers.map(function(e){return e.transceiver})}},{key:"getSenders",value:function(){return this._transceivers.map(function(e){return!e.transceiver.stopped&&e.transceiver.sender}).filter(Boolean)}},{key:"getReceivers",value:function(){return this._transceivers.map(function(e){return!e.transceiver.stopped&&e.transceiver.receiver}).filter(Boolean)}},{key:"close",value:function(){D.debug(`${this._pcId} close`),'closed'!==this.connectionState&&($.peerConnectionClose(this._pcId),this._transceivers.forEach(function(e){e.transceiver._setStopped()}))}},{key:"restartIce",value:function(){$.peerConnectionRestartIce(this._pcId)}},{key:"_registerEvents",value:function(){var e=this;(0,_r(d[25]).addListener)(this,'peerConnectionOnRenegotiationNeeded',function(t){t.pcId===e._pcId&&e.dispatchEvent(new(_r(d[26]).Event)('negotiationneeded'))}),(0,_r(d[25]).addListener)(this,'peerConnectionIceConnectionChanged',function(t){t.pcId===e._pcId&&(e.iceConnectionState=t.iceConnectionState,e.dispatchEvent(new(_r(d[26]).Event)('iceconnectionstatechange')))}),(0,_r(d[25]).addListener)(this,'peerConnectionStateChanged',function(t){t.pcId===e._pcId&&(e.connectionState=t.connectionState,e.dispatchEvent(new(_r(d[26]).Event)('connectionstatechange')),'closed'===t.connectionState&&((0,_r(d[25]).removeListener)(e),$.peerConnectionDispose(e._pcId)))}),(0,_r(d[25]).addListener)(this,'peerConnectionSignalingStateChanged',function(t){t.pcId===e._pcId&&(e.signalingState=t.signalingState,e.dispatchEvent(new(_r(d[26]).Event)('signalingstatechange')))}),(0,_r(d[25]).addListener)(this,'peerConnectionOnTrack',function(t){t.pcId===e._pcId&&(D.debug(`${e._pcId} ontrack`),e._pendingTrackEvents.push(t))}),(0,_r(d[25]).addListener)(this,'peerConnectionOnRemoveTrack',function(t){if(t.pcId===e._pcId){D.debug(`${e._pcId} onremovetrack ${t.receiverId}`);var n=e.getReceivers().find(function(e){return e.id===t.receiverId}),r=null==n?void 0:n.track;if(n&&r)for(var i of e._remoteStreams.values())if(i._tracks.includes(r)){var a=i._tracks.indexOf(r);D.debug(`${e._pcId} removetrack ${r.id}`),i._tracks.splice(a,1),i.dispatchEvent(new p.default('removetrack',{track:r})),r._setMutedInternal(!0)}}}),(0,_r(d[25]).addListener)(this,'peerConnectionGotICECandidate',function(t){if(t.pcId===e._pcId){var n=t.sdp;n.type&&n.sdp?e.localDescription=new b.default(n):e.localDescription=null;var r=new _.default(t.candidate);e.dispatchEvent(new I.default('icecandidate',{candidate:r}))}}),(0,_r(d[25]).addListener)(this,'peerConnectionIceGatheringChanged',function(t){if(t.pcId===e._pcId){if(e.iceGatheringState=t.iceGatheringState,'complete'===e.iceGatheringState){var n=t.sdp;n.type&&n.sdp?e.localDescription=new b.default(n):e.localDescription=null,e.dispatchEvent(new I.default('icecandidate',{candidate:null}))}e.dispatchEvent(new(_r(d[26]).Event)('icegatheringstatechange'))}}),(0,_r(d[25]).addListener)(this,'peerConnectionDidOpenDataChannel',function(t){if(t.pcId===e._pcId){var n=new v.default(t.dataChannel);e.dispatchEvent(new h.default('datachannel',{channel:n})),n.dispatchEvent(new h.default('open',{channel:n}))}}),(0,_r(d[25]).addListener)(this,'mediaStreamTrackMuteChanged',function(n){if(n.pcId===e._pcId){var r=e.getReceivers().map(function(e){return e.track}).filter(function(e){return(null==e?void 0:e.id)===n.trackId}),i=(0,t.default)(r,1)[0];i&&i._setMutedInternal(n.muted)}})}},{key:"createDataChannel",value:function(e,t){if(0===arguments.length)throw new TypeError('1 argument required, but 0 present');if(t&&'id'in t){var n=t.id;if('number'!=typeof n)throw new TypeError('DataChannel id must be a number: '+n)}var r=$.createDataChannel(this._pcId,String(e),t);if(null===r)throw new TypeError('Failed to create new DataChannel');return new v.default(r)}},{key:"_trackExists",value:function(e){var n=this.getSenders().filter(function(t){var n;return(null==(n=t.track)?void 0:n.id)===e.id});return!!(0,t.default)(n,1)[0]}},{key:"_updateTransceivers",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(e){var r=n.getTransceivers().filter(function(t){return t.sender.id===e.transceiverId}),i=(0,t.default)(r,1)[0];if(!i)return 1;e.currentDirection&&(i._currentDirection=e.currentDirection),i._mid=e.mid,i._stopped=Boolean(e.isStopped),i._sender._rtpParameters=new y.default(e.senderRtpParameters),i._receiver._rtpParameters=new w.default(e.receiverRtpParameters)};for(var a of e)i(a);if(r){var c=this.getTransceivers().filter(function(e){return e.stopped}),s=this._transceivers.filter(function(e){return!c.includes(e.transceiver)});this._transceivers=s}}},{key:"_insertTransceiverSorted",value:function(e,t){this._transceivers.push({order:e,transceiver:t}),this._transceivers.sort(function(e,t){return e.order-t.order})}}]);var u,A,L,M,R,P})(_r(d[26]).EventTarget),L=A.prototype;(0,_r(d[26]).defineEventAttribute)(L,'connectionstatechange'),(0,_r(d[26]).defineEventAttribute)(L,'icecandidate'),(0,_r(d[26]).defineEventAttribute)(L,'icecandidateerror'),(0,_r(d[26]).defineEventAttribute)(L,'iceconnectionstatechange'),(0,_r(d[26]).defineEventAttribute)(L,'icegatheringstatechange'),(0,_r(d[26]).defineEventAttribute)(L,'negotiationneeded'),(0,_r(d[26]).defineEventAttribute)(L,'signalingstatechange'),(0,_r(d[26]).defineEventAttribute)(L,'datachannel'),(0,_r(d[26]).defineEventAttribute)(L,'track'),(0,_r(d[26]).defineEventAttribute)(L,'error')},922,[1,38,345,12,13,23,25,28,2,903,909,910,918,923,925,921,926,927,932,933,935,936,937,938,911,914,912]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),u=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?i(u,f,o):u[f]=e[f]);return u})(e,t)})(_r(d[6])),f=_r(d[7]),c=e(_r(d[8])),s=e(_r(d[9]));function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var y=f.NativeModules.WebRTCModule,_=(_e.default=(function(e){function f(e){var n,o,u,c;return(0,t.default)(this,f),o=this,u=f,u=(0,i.default)(u),(n=(0,r.default)(o,l()?Reflect.construct(u,c||[],(0,i.default)(o).constructor):u.apply(o,c))).binaryType='arraybuffer',n.bufferedAmountLowThreshold=0,n._peerConnectionId=e.peerConnectionId,n._reactTag=e.reactTag,n._bufferedAmount=0,n._label=e.label,n._id=-1===e.id?null:e.id,n._ordered=Boolean(e.ordered),n._maxPacketLifeTime=e.maxPacketLifeTime,n._maxRetransmits=e.maxRetransmits,n._protocol=e.protocol||'',n._negotiated=Boolean(e.negotiated),n._readyState=e.readyState,n._registerEvents(),n}return(0,o.default)(f,e),(0,n.default)(f,[{key:"bufferedAmount",get:function(){return this._bufferedAmount}},{key:"label",get:function(){return this._label}},{key:"id",get:function(){return this._id}},{key:"ordered",get:function(){return this._ordered}},{key:"maxPacketLifeTime",get:function(){return this._maxPacketLifeTime}},{key:"maxRetransmits",get:function(){return this._maxRetransmits}},{key:"protocol",get:function(){return this._protocol}},{key:"negotiated",get:function(){return this._negotiated}},{key:"readyState",get:function(){return this._readyState}},{key:"send",value:function(e){if('string'!=typeof e){if(ArrayBuffer.isView(e))e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);else{if(!(e instanceof ArrayBuffer))throw new TypeError('Data must be either string, ArrayBuffer, or ArrayBufferView');e=new Uint8Array(e)}var t=u.fromByteArray(e);y.dataChannelSend(this._peerConnectionId,this._reactTag,t,'binary')}else y.dataChannelSend(this._peerConnectionId,this._reactTag,e,'text')}},{key:"close",value:function(){'closing'!==this._readyState&&'closed'!==this._readyState&&y.dataChannelClose(this._peerConnectionId,this._reactTag)}},{key:"_registerEvents",value:function(){var e=this;(0,_r(d[10]).addListener)(this,'dataChannelStateChanged',function(t){t.reactTag===e._reactTag&&(e._readyState=t.state,null===e._id&&-1!==t.id&&(e._id=t.id),'open'===e._readyState?e.dispatchEvent(new s.default('open',{channel:e})):'closing'===e._readyState?e.dispatchEvent(new s.default('closing',{channel:e})):'closed'===e._readyState&&(e.dispatchEvent(new s.default('close',{channel:e})),(0,_r(d[10]).removeListener)(e),y.dataChannelDispose(e._peerConnectionId,e._reactTag)))}),(0,_r(d[10]).addListener)(this,'dataChannelReceiveMessage',function(t){if(t.reactTag===e._reactTag){var n=t.data;'binary'===t.type&&(n=u.toByteArray(t.data).buffer),e.dispatchEvent(new c.default('message',{data:n}))}}),(0,_r(d[10]).addListener)(this,'dataChannelDidChangeBufferedAmount',function(t){t.reactTag===e._reactTag&&(e._bufferedAmount=t.bufferedAmount,e._bufferedAmount<e.bufferedAmountLowThreshold&&e.dispatchEvent(new s.default('bufferedamountlow',{channel:e})))})}}])})(_r(d[11]).EventTarget)).prototype;(0,_r(d[11]).defineEventAttribute)(_,'bufferedamountlow'),(0,_r(d[11]).defineEventAttribute)(_,'close'),(0,_r(d[11]).defineEventAttribute)(_,'closing'),(0,_r(d[11]).defineEventAttribute)(_,'error'),(0,_r(d[11]).defineEventAttribute)(_,'message'),(0,_r(d[11]).defineEventAttribute)(_,'open')},923,[1,12,13,23,25,28,124,2,924,925,914,912]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),c=t(r(d[5]));function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}_e.default=(function(t){function l(t,e){var c,v,s,p;return(0,u.default)(this,l),v=this,s=l,p=[t,e],s=(0,o.default)(s),(c=(0,n.default)(v,f()?Reflect.construct(s,p||[],(0,o.default)(v).constructor):s.apply(v,p))).data=e.data,c}return(0,c.default)(l,t),(0,e.default)(l)})(r(d[6]).Event)},924,[1,13,12,23,25,28,912]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),c=t(r(d[4])),l=t(r(d[5]));function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}_e.default=(function(t){function f(t,e){var l,v,s,h;return(0,n.default)(this,f),v=this,s=f,h=[t,e],s=(0,c.default)(s),(l=(0,u.default)(v,o()?Reflect.construct(s,h||[],(0,c.default)(v).constructor):s.apply(v,h))).channel=e.channel,l}return(0,l.default)(f,t),(0,e.default)(f)})(r(d[6]).Event)},925,[1,13,12,23,25,28,912]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),n=t(r(d[2])),u=t(r(d[3])),l=t(r(d[4])),c=t(r(d[5]));function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}_e.default=(function(t){function f(t,e){var c,v,s,p,y;return(0,n.default)(this,f),s=this,p=f,y=[t,e],p=(0,l.default)(p),(v=(0,u.default)(s,o()?Reflect.construct(p,y||[],(0,l.default)(s).constructor):p.apply(s,y))).candidate=null!=(c=null==e?void 0:e.candidate)?c:null,v}return(0,c.default)(f,t),(0,e.default)(f)})(r(d[6]).Event)},926,[1,13,12,23,25,28,912]);
__d(function(g,r,i,a,m,_e,d){var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(r(d[1])),u=t(r(d[2])),n=t(r(d[3])),f=t(r(d[4])),l=t(r(d[5])),o=t(r(d[6]));function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}_e.default=(function(t){function o(t){return(0,u.default)(this,o),e=this,l=o,v=[t],l=(0,f.default)(l),(0,n.default)(e,c()?Reflect.construct(l,v||[],(0,f.default)(e).constructor):l.apply(e,v));var e,l,v}return(0,l.default)(o,t),(0,e.default)(o)})(o.default)},927,[1,13,12,23,25,28,928]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5]));e.default=(function(){return(0,o.default)(function t(o){for(var f of((0,n.default)(this,t),this.codecs=[],this.headerExtensions=[],o.codecs))this.codecs.push(new u.default(f));for(var h of o.headerExtensions)this.headerExtensions.push(new c.default(h));this.rtcp=new s.default(o.rtcp)},[{key:"toJSON",value:function(){return{codecs:this.codecs.map(function(t){return(0,r(d[6]).deepClone)(t)}),headerExtensions:this.headerExtensions.map(function(t){return(0,r(d[6]).deepClone)(t)}),rtcp:(0,r(d[6]).deepClone)(this.rtcp)}}}])})()},928,[1,12,13,929,930,931,911]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2]));e.default=(function(){return(0,n.default)(function t(n){(0,u.default)(this,t),this.cname=n.cname,this.reducedSize=n.reducedSize,Object.freeze(this)},[{key:"toJSON",value:function(){return{cname:this.cname,reducedSize:this.reducedSize}}}])})()},929,[1,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2]));e.default=(function(){return(0,l.default)(function t(l){(0,n.default)(this,t),this.payloadType=l.payloadType,this.clockRate=l.clockRate,this.mimeType=l.mimeType,this.channels=l.channels?l.channels:null,this.sdpFmtpLine=l.sdpFmtpLine?l.sdpFmtpLine:null,Object.freeze(this)},[{key:"toJSON",value:function(){var t={payloadType:this.payloadType,clockRate:this.clockRate,mimeType:this.mimeType};return null!==this.channels&&(t.channels=this.channels),null!==this.sdpFmtpLine&&(t.sdpFmtpLine=this.sdpFmtpLine),t}}])})()},930,[1,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),n=t(r(d[2]));e.default=(function(){return(0,n.default)(function t(n){(0,u.default)(this,t),this.id=n.id,this.uri=n.uri,this.encrypted=n.encrypted,Object.freeze(this)},[{key:"toJSON",value:function(){return{id:this.id,uri:this.uri,encrypted:this.encrypted}}}])})()},931,[1,12,13]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2])),s=r(d[3]),c=t(r(d[4])),o=s.NativeModules.WebRTCModule;e.default=(function(){return(0,u.default)(function t(u){(0,n.default)(this,t),this._track=null,this._id=u.id,this._peerConnectionId=u.peerConnectionId,this._rtpParameters=new c.default(u.rtpParameters),u.track&&(this._track=u.track)},[{key:"getStats",value:function(){return o.receiverGetStats(this._peerConnectionId,this._id).then(function(t){return new Map(JSON.parse(t))})}},{key:"getParameters",value:function(){return this._rtpParameters}},{key:"id",get:function(){return this._id}},{key:"track",get:function(){return this._track}}],[{key:"getCapabilities",value:function(t){return o.receiverGetCapabilities(t)}}])})()},932,[1,12,13,2,927]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),u=e(_r(d[5])),c=e(_r(d[6])),f=e(_r(d[7])),l=e(_r(d[8]));function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}var p=(function(){return(0,c.default)(function e(){(0,u.default)(this,e)},null,[{key:"fromNative",value:function(e){return e.toLowerCase().replace('_','-')}},{key:"toNative",value:function(e){return e.toUpperCase().replace('-','_')}}])})();_e.default=(function(e){function l(e){var r,o,c,v;for(var h of((0,u.default)(this,l),o=this,c=l,v=[e],c=(0,n.default)(c),(r=(0,t.default)(o,s()?Reflect.construct(c,v||[],(0,n.default)(o).constructor):c.apply(o,v))).transactionId=e.transactionId,r.encodings=[],r.degradationPreference=e.degradationPreference?p.fromNative(e.degradationPreference):null,e.encodings))r.encodings.push(new f.default(h));return r}return(0,o.default)(l,e),(0,c.default)(l,[{key:"toJSON",value:function(){var e,t,o,u,c,f=(e=l,t="toJSON",o=this,u=3,c=(0,r.default)((0,n.default)(1&u?e.prototype:e),t,o),2&u&&"function"==typeof c?function(e){return c.apply(o,e)}:c)([]);return f.transactionId=this.transactionId,f.encodings=this.encodings.map(function(e){return(0,_r(d[9]).deepClone)(e)}),null!==this.degradationPreference&&(f.degradationPreference=p.toNative(this.degradationPreference)),f}}])})(l.default)},933,[1,23,25,26,28,12,13,934,928,911]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),l=t(r(d[2]));e.default=(function(){return(0,l.default)(function t(l){var u,s,o,c;(0,n.default)(this,t),this.active=l.active,this._rid=null!=(u=l.rid)?u:null,this._maxBitrate=null!=(s=l.maxBitrate)?s:null,this._maxFramerate=null!=(o=l.maxFramerate)?o:null,this._scaleResolutionDownBy=null!=(c=l.scaleResolutionDownBy)?c:null},[{key:"rid",get:function(){return this._rid}},{key:"maxFramerate",get:function(){return this._maxFramerate},set:function(t){this._maxFramerate=null!=t&&t>0?t:null}},{key:"maxBitrate",get:function(){return this._maxBitrate},set:function(t){this._maxBitrate=null!=t&&t>=0?t:null}},{key:"scaleResolutionDownBy",get:function(){return this._scaleResolutionDownBy},set:function(t){this._scaleResolutionDownBy=null!=t&&t>=1?t:null}},{key:"toJSON",value:function(){var t={active:Boolean(this.active)};return null!==this._rid&&(t.rid=this._rid),null!==this._maxBitrate&&(t.maxBitrate=this._maxBitrate),null!==this._maxFramerate&&(t.maxFramerate=this._maxFramerate),null!==this._scaleResolutionDownBy&&(t.scaleResolutionDownBy=this._scaleResolutionDownBy),t}}])})()},934,[1,12,13]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),n=e(r(d[2])),u=e(r(d[3])),s=r(d[4]),c=e(r(d[5])),l=s.NativeModules.WebRTCModule;_e.default=(function(){return(0,u.default)(function e(t){(0,n.default)(this,e),this._track=null,this._peerConnectionId=t.peerConnectionId,this._id=t.id,this._rtpParameters=new c.default(t.rtpParameters),t.track&&(this._track=t.track)},[{key:"replaceTrack",value:(s=(0,t.default)(function*(e){try{yield l.senderReplaceTrack(this._peerConnectionId,this._id,e?e.id:null)}catch(e){return}this._track=e}),function(e){return s.apply(this,arguments)})},{key:"getParameters",value:function(){return this._rtpParameters}},{key:"setParameters",value:(e=(0,t.default)(function*(e){var t=JSON.parse(JSON.stringify(e)),n=yield l.senderSetParameters(this._peerConnectionId,this._id,t);this._rtpParameters=new c.default(n)}),function(t){return e.apply(this,arguments)})},{key:"getStats",value:function(){return l.senderGetStats(this._peerConnectionId,this._id).then(function(e){return new Map(JSON.parse(e))})}},{key:"track",get:function(){return this._track}},{key:"id",get:function(){return this._id}}],[{key:"getCapabilities",value:function(e){return l.senderGetCapabilities(e)}}]);var e,s})()},935,[1,345,12,13,2,933]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=r(d[3]).NativeModules.WebRTCModule;e.default=(function(){return(0,o.default)(function t(o){var s,c;(0,n.default)(this,t),this._mid=null,this._peerConnectionId=o.peerConnectionId,this._mid=null!=(s=o.mid)?s:null,this._direction=o.direction,this._currentDirection=null!=(c=o.currentDirection)?c:null,this._stopped=Boolean(o.isStopped),this._sender=o.sender,this._receiver=o.receiver},[{key:"mid",get:function(){return this._mid}},{key:"stopped",get:function(){return this._stopped}},{key:"direction",get:function(){return this._direction},set:function(t){var n=this;if(!['sendonly','recvonly','sendrecv','inactive'].includes(t))throw new TypeError('Invalid direction provided');if(this._stopped)throw new Error('Transceiver Stopped');if(this._direction!==t){var o=this._direction;s.transceiverSetDirection(this._peerConnectionId,this.sender.id,t).catch(function(){n._direction=o}),this._direction=t}}},{key:"currentDirection",get:function(){return this._currentDirection}},{key:"sender",get:function(){return this._sender}},{key:"receiver",get:function(){return this._receiver}},{key:"stop",value:function(){var t=this;this._stopped||s.transceiverStop(this._peerConnectionId,this.sender.id).then(function(){return t._setStopped()})}},{key:"setCodecPreferences",value:function(t){s.transceiverSetCodecPreferences(this._peerConnectionId,this.sender.id,t)}},{key:"_setStopped",value:function(){this._stopped=!0,this._direction='stopped',this._currentDirection='stopped',this._mid=null}}])})()},936,[1,12,13,2]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=t(r(d[2]));e.default=(function(){return(0,u.default)(function t(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,sdp:''};(0,n.default)(this,t),this._sdp=u.sdp,this._type=u.type},[{key:"sdp",get:function(){return this._sdp}},{key:"type",get:function(){return this._type}},{key:"toJSON",value:function(){return{sdp:this._sdp,type:this._type}}}])})()},937,[1,12,13]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),c=e(r(d[2])),n=e(r(d[3])),u=e(r(d[4])),l=e(r(d[5]));function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}_e.default=(function(e){function f(e,t){var l,s,v,p;return(0,c.default)(this,f),s=this,v=f,p=[e,t],v=(0,u.default)(v),(l=(0,n.default)(s,o()?Reflect.construct(v,p||[],(0,u.default)(s).constructor):v.apply(s,p))).streams=[],l.streams=t.streams,l.transceiver=t.transceiver,l.receiver=t.transceiver.receiver,l.track=t.transceiver.receiver?t.transceiver.receiver.track:null,l}return(0,l.default)(f,e),(0,t.default)(f)})(r(d[6]).Event)},938,[1,13,12,23,25,28,912]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]);e.default=(0,o.requireNativeComponent)('RTCVideoView')},939,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);e.default=(0,t.requireNativeComponent)('ScreenCapturePickerView')},940,[2]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,l.jsx)(n.View,{style:u.container,children:(0,l.jsx)(c.default,{})})};var n=r(d[1]),c=t(r(d[2])),l=r(d[3]);var u=n.StyleSheet.create({container:{}})},941,[1,2,942,219]);
__d(function(g,r,i,a,m,_e,_d){var e=r(_d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){var e=(0,r(_d[6]).uuidv4)(),p={displayName:"React-Native Demo",userId:e,streamId:e,streamName:'icf-msg'},y=(0,d.useState)(),h=(0,u.default)(y,2),w=h[0],C=h[1];function b(){return j.apply(this,arguments)}function j(){return(j=(0,s.default)(function*(){var e,s;if(!l||'active'!==l.state)if(l&&'paused'===l.state)l.resume();else{if(!n)try{yield r(_d[8]).mediaController.init();var c=(0,r(_d[7]).getDefaultMediaStreamControllerOptions)();n=yield r(_d[8]).mediaController.requestController(c),r(_d[9]).rnLogger.log("used media controller options",c)}catch(e){r(_d[9]).rnLogger.error(e)}if(n){var d;if(!o||'closed'===o.state)o=yield null==(d=t)?void 0:d.createCall({userId:p.userId});var f=r(_d[8]).mediaController.videoDevices().filter(function(e){return'front'===e.facing}),v=(0,u.default)(f,1)[0];v?n.videoDeviceId=v.deviceId:r(_d[9]).rnLogger.error('no front camera(s)'),n.on('source',function(e){C(e.toURL())}),null==(s=l=yield null==(e=o)?void 0:e.broadcast(n,{streamName:p.streamName}))||s.on('error',function(e){r(_d[9]).rnLogger.error(e)})}else r(_d[9]).rnLogger.error('could not initialize media controller')}})).apply(this,arguments)}return(0,d.useEffect)(function(){var e,l;return l={backendEndpoints:[r(_d[7]).endpoint_demo],token:(e=(0,s.default)(function*(){return yield(0,r(_d[7]).getAuthTokenForDemo)(p)}),function(){return e.apply(this,arguments)}),displayName:p.displayName,loggerConfig:{clientName:"Test-App",writeLevel:"debug"},userId:p.userId},t=new(r(_d[8]).VideoClient)(l),function(){var e,l,s;null==(e=n)||e.close('component unmount'),null==(l=o)||l.close('component unmount'),null==(s=t)||s.dispose('component unmount')}},[]),(0,f.jsxs)(c.View,{style:v.container,children:[(0,f.jsx)(c.Button,{onPress:function(){return b()},title:"Broadcast"}),(0,f.jsx)(c.View,{style:v.rtcview,children:w&&(0,f.jsx)(r(_d[10]).RTCView,{mirror:!0,style:v.rtcFull,streamURL:w})}),(0,f.jsxs)(c.View,{style:v.btns,children:[(0,f.jsx)(c.View,{style:v.btn,children:(0,f.jsx)(c.Button,{onPress:function(){var e;return null==(e=n)?void 0:e.toggleMic()},title:"Mic"})}),(0,f.jsx)(c.View,{style:v.btn,children:(0,f.jsx)(c.Button,{onPress:function(){var e;return null==(e=n)?void 0:e.toggleCamera()},title:"Cam"})})]})]})};var t,n,o,l,s=e(r(_d[1])),u=e(r(_d[2])),c=r(_d[3]),d=r(_d[4]),f=r(_d[5]);var v=c.StyleSheet.create({container:{alignItems:'center',paddingTop:20},rtcview:{marginTop:5,justifyContent:'center',alignItems:'center',height:350,width:'100%',backgroundColor:'black'},rtcFull:{height:'100%',width:'100%'},btns:{flexDirection:'row',marginTop:5},btn:{width:80,marginStart:5,marginRight:5}})},942,[1,345,38,2,174,219,497,873,500,484,902]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,n.jsx)(t.View,{style:c.container,children:(0,n.jsx)(t.Text,{children:"Cam 2 Cam"})})};var t=r(d[0]),n=r(d[1]);var c=t.StyleSheet.create({container:{flex:1,alignItems:'center',justifyContent:'center'}})},943,[2,219]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ReactNativeBrowserAdapter=void 0,e.implementDevice=function(){r(d[3]).adapter.implement(new(r(d[4]).ReactNativeDevice))};var n,u=t(r(d[1])),o=t(r(d[2])),l=e.ReactNativeBrowserAdapter=(0,u.default)(function t(n){(0,o.default)(this,t),this.platform=n.platform,this.userAgent=n.userAgent,this.defaultSettingsVideo={frontCamera:!0,minWidth:500,minHeight:300,minFrameRate:15}});n=l,l.INSTANCE=new n({platform:"ReactNative",userAgent:"ReactNative"});var s=g;null!=(null==s?void 0:s.navigator)&&null==s.navigator.userAgent&&Object.defineProperty(s.navigator,"userAgent",{enumerable:!0,configurable:!0,get:function(){return l.INSTANCE.userAgent},set:function(t){l.INSTANCE.userAgent=t}})},944,[1,13,12,500,945]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ReactNativeDevice=void 0;var t=e(r(d[1])),n=e(r(d[2])),o=e(r(d[3])),u=e(r(d[4])),c=e(r(d[5])),l=r(d[6]),f=e(r(d[7]));function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}(0,r(d[8]).registerGlobals)();var v=(0,u.default)(function e(){(0,c.default)(this,e),this.angle=0}),p=(function(){return(0,u.default)(function e(){(0,c.default)(this,e)},[{key:"length",get:function(){return Object.keys(this).length}},{key:"clear",value:function(){for(var e of Object.keys(this))delete this[e]}},{key:"getItem",value:function(e){var t;return null!=(t=this[e])?t:null}},{key:"key",value:function(e){var t;return null!=(t=Object.keys(this)[e])?t:null}},{key:"removeItem",value:function(e){delete this[e]}},{key:"setItem",value:function(e,t){this[e]=t}}])})(),h=(function(){return(0,u.default)(function e(){(0,c.default)(this,e),this.downlink=0,this.downlinkMax=0,this.effectiveType='4g',this.rtt=0,this.saveData=!1,this.type='wifi'},[{key:"addEventListener",value:function(e,t){}},{key:"removeEventListener",value:function(e,t){}}])})();_e.ReactNativeDevice=(function(e){function y(){var e,o,u,f;return(0,c.default)(this,y),o=this,u=y,u=(0,n.default)(u),(e=(0,t.default)(o,s()?Reflect.construct(u,f||[],(0,n.default)(o).constructor):u.apply(o,f))).isConnected=!1,e.appStateVisible=!0,e.networkInfo=new h,e.localStorage=new p,e.MediaDevices=r(d[8]).mediaDevices,e.MediaStream=r(d[8]).MediaStream,e.Uint8Array=void 0,e.features=new Set([r(d[9]).adapter.Feature.DEBUGGING,r(d[9]).adapter.Feature.MEDIA_DEVICE,r(d[9]).adapter.Feature.WEBRTC,r(d[9]).adapter.Feature.HLSJS,r(d[9]).adapter.Feature.LOCAL_STORAGE,r(d[9]).adapter.Feature.MEDIA_STREAM,r(d[9]).adapter.Feature.NETWORK_INFORMATION,r(d[9]).adapter.Feature.SCREEN_ORIENTATION]),e.console={assert:function(e,t){},clear:function(){},count:function(e){},countReset:function(e){},debug:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r(d[10]).rnLogger.log(e,n)},log:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r(d[10]).rnLogger.log(e,n)},error:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r(d[10]).rnLogger.error(e,n)},info:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r(d[10]).rnLogger.log(e,n)},trace:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r(d[10]).rnLogger.log(e,n)},warn:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r(d[10]).rnLogger.warn(e,n)},dir:function(e,t){},dirxml:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},table:function(e,t){},time:function(e){},timeEnd:function(e){},timeLog:function(e){},profile:function(e){},profileEnd:function(e){},timeStamp:function(e){}},e.performance={now:function(){return Date.now()}},e._handleAppStateChange=function(t){e.appStateVisible='active'===t,e.emit('visibilitychange')},e.globals=new Map,l.AppState.addEventListener('change',e._handleAppStateChange),e}return(0,o.default)(y,e),(0,u.default)(y,[{key:"processRtpCapabilities",value:function(e,t){return t}},{key:"supportsMediaStreamCapture",value:function(e){return!1}},{key:"captureStream",value:function(e){return null}},{key:"applyUserInteractionHook",value:function(){}},{key:"toggleCameraVisibility",value:function(e){}},{key:"setTimeout",value:function(e,t){return g.setTimeout(e,t)}},{key:"setInterval",value:function(e,t){return g.setInterval(e,t)}},{key:"clearTimeout",value:function(e){g.clearTimeout(e)}},{key:"clearInterval",value:function(e){g.clearInterval(e)}},{key:"appVersion",get:function(){return f.default.version}},{key:"isIosDevice",get:function(){return'ios'===l.Platform.OS}},{key:"isAndroidDevice",get:function(){return'android'===l.Platform.OS}},{key:"isMobileDevice",get:function(){return!0}},{key:"browserInfo",get:function(){return{highEntropyValues:null,platform:this.platform,appVersion:this.appVersion,isMobileDevice:this.isMobileDevice,isIosDevice:this.isIosDevice,isAndroidDevice:this.isAndroidDevice,browserName:null,isSafari:!1,isFirefox:!1,isChrome:!1,isEdge:!1,isIE:!1,isWindows:!1}}},{key:"connection",get:function(){return this.networkInfo}},{key:"hidden",get:function(){return!this.appStateVisible}},{key:"mediaDevices",get:function(){return r(d[8]).mediaDevices}},{key:"onLine",get:function(){return this.isConnected}},{key:"platform",get:function(){return r(d[11]).ReactNativeBrowserAdapter.INSTANCE.platform}},{key:"screenOrientation",get:function(){return new v}},{key:"supportFullscreen",get:function(){return!0}},{key:"userAgent",get:function(){return l.Platform.OS}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.off(e,t)}},{key:"createVideoElement",value:function(){throw new Error('createVideoElement not implemented')}},{key:"createVideoStub",value:function(){return r(d[8]).mediaDevices.enumerateDevices().then(function(e){return r(d[8]).mediaDevices.getUserMedia({audio:!0,video:{mandatory:{minWidth:r(d[11]).ReactNativeBrowserAdapter.INSTANCE.defaultSettingsVideo.minWidth,minHeight:r(d[11]).ReactNativeBrowserAdapter.INSTANCE.defaultSettingsVideo.minHeight,minFrameRate:r(d[11]).ReactNativeBrowserAdapter.INSTANCE.defaultSettingsVideo.minFrameRate},facingMode:r(d[11]).ReactNativeBrowserAdapter.INSTANCE.defaultSettingsVideo.frontCamera?'user':'environment'}})})}},{key:"isCodecSupported",value:function(e){throw r(d[10]).rnLogger.log(`codec check: ${e}`),new Error('isCodecSupported not implemented')}},{key:"fetch",value:function(e,t){return g.fetch(e,t)}},{key:"isImplements",value:function(e){return this.features.has(e)}}])})(r(d[12]).EventEmitter)},945,[1,23,25,28,13,12,2,946,902,500,484,944,523]);
__d(function(e,t,a,n,r,i,c){r.exports={name:"icfdemo2",version:"0.0.1",private:!0,scripts:{android:"react-native run-android","android-prepare":"yarn react-native bundle --platform android --dev false --reset-cache --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res",ios:"react-native run-ios",lint:"eslint .",start:"react-native start",test:"jest"},dependencies:{"@react-native-async-storage/async-storage":"2.0.0","@react-native-community/netinfo":"11.4.1","@react-native-picker/picker":"^2.11.1","@react-native/gradle-plugin":"0.79.4","@react-native/new-app-screen":"0.80.1","@react-navigation/bottom-tabs":"^7.3.10","@react-navigation/native":"^7.1.14","@react-navigation/native-stack":"^7.3.21","@video/video-client-core":"13.2.0","@videomobile/react-native-webrtc":"^124.0.4",react:"19.0.0","react-native":"0.78.0","react-native-reanimated":"^3.18.0","react-native-safe-area-context":"^5.5.1","react-native-screens":"^4.11.1","react-native-video":"^6.16.0"},devDependencies:{"@babel/core":"^7.25.2","@babel/plugin-proposal-export-namespace-from":"^7.18.9","@babel/preset-env":"^7.25.3","@babel/runtime":"^7.25.0","@react-native-community/cli":"15.0.1","@react-native-community/cli-platform-android":"15.0.1","@react-native-community/cli-platform-ios":"15.0.1","@react-native/babel-preset":"0.80.1","@react-native/eslint-config":"0.80.1","@react-native/metro-config":"0.80.1","@react-native/typescript-config":"0.80.1","@types/jest":"^29.5.13","@types/react":"^19.1.0","@types/react-test-renderer":"^19.0.0",eslint:"^8.19.0",jest:"^29.6.3",prettier:"2.8.8","react-test-renderer":"19.0.0",typescript:"5.0.4"},engines:{node:">=18"}}},946,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"BottomTabBar",{enumerable:!0,get:function(){return _r(d[0]).BottomTabBar}}),Object.defineProperty(_e,"BottomTabBarHeightCallbackContext",{enumerable:!0,get:function(){return _r(d[1]).BottomTabBarHeightCallbackContext}}),Object.defineProperty(_e,"BottomTabBarHeightContext",{enumerable:!0,get:function(){return _r(d[2]).BottomTabBarHeightContext}}),Object.defineProperty(_e,"BottomTabView",{enumerable:!0,get:function(){return _r(d[3]).BottomTabView}}),_e.TransitionSpecs=_e.TransitionPresets=_e.SceneStyleInterpolators=void 0,Object.defineProperty(_e,"createBottomTabNavigator",{enumerable:!0,get:function(){return _r(d[4]).createBottomTabNavigator}}),Object.defineProperty(_e,"useBottomTabBarHeight",{enumerable:!0,get:function(){return _r(d[5]).useBottomTabBarHeight}});var e=n(_r(d[6]));_e.SceneStyleInterpolators=e;var t=n(_r(d[7]));_e.TransitionPresets=t;var r=n(_r(d[8]));function n(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(n=function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,u)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?n(u,c,i):u[c]=e[c]);return u})(e,t)}_e.TransitionSpecs=r},947,[948,1064,1121,1122,1164,1165,1125,1123,1124]);
__d(function(g,r,i,a,m,_e,d){"use strict";var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BottomTabBar=function(t){var v=t.state,y=t.navigation,B=t.descriptors,S=t.insets,w=t.style,x=(0,r(d[5]).useTheme)().colors,k=(0,r(d[5]).useLocale)().direction,P=(0,r(d[5]).useLinkBuilder)().buildHref,C=v.routes[v.index],L=B[C.key].options,T=L.tabBarPosition,A=void 0===T?'bottom':T,I=L.tabBarShowLabel,W=L.tabBarLabelPosition,j=L.tabBarHideOnKeyboard,O=void 0!==j&&j,V=L.tabBarVisibilityAnimationConfig,z=L.tabBarVariant,D=void 0===z?'uikit':z,E=L.tabBarStyle,F=L.tabBarBackground,H=L.tabBarActiveTintColor,R=L.tabBarInactiveTintColor,N=L.tabBarActiveBackgroundColor,_=L.tabBarInactiveBackgroundColor;if('material'===D&&'left'!==A&&'right'!==A)throw new Error("The 'material' variant for tab bar is only supported when 'tabBarPosition' is set to 'left' or 'right'.");if('below-icon'===W&&'uikit'===D&&('left'===A||'right'===A))throw new Error("The 'below-icon' label position for tab bar is only supported when 'tabBarPosition' is set to 'top' or 'bottom' when using the 'uikit' variant.");var M=(0,r(d[6]).useIsKeyboardShown)(),$=o.default.useContext(r(d[7]).BottomTabBarHeightCallbackContext),K=!(O&&M),Y=o.default.useRef(V);o.default.useEffect(function(){Y.current=V});var q=o.default.useState(!K),G=(0,e.default)(q,2),J=G[0],Q=G[1],U=o.default.useState(function(){return new n.Animated.Value(K?1:0)}),X=(0,e.default)(U,1)[0];o.default.useEffect(function(){var t,e,o,l,s=Y.current;K?('spring'===(null==s||null==(t=s.show)?void 0:t.animation)?n.Animated.spring:n.Animated.timing)(X,Object.assign({toValue:1,useNativeDriver:b,duration:250},null==s||null==(e=s.show)?void 0:e.config)).start(function(t){t.finished&&Q(!1)}):(Q(!0),('spring'===(null==s||null==(o=s.hide)?void 0:o.animation)?n.Animated.spring:n.Animated.timing)(X,Object.assign({toValue:0,useNativeDriver:b,duration:200},null==s||null==(l=s.hide)?void 0:l.config)).start());return function(){return X.stopAnimation()}},[X,K]);var Z=o.default.useState({height:0}),tt=(0,e.default)(Z,2),et=tt[0],it=tt[1],ot=v.routes,at=(0,r(d[8]).useFrameSize)(function(t){return f({state:v,descriptors:B,insets:S,dimensions:t,style:[E,w]})}),rt=(0,r(d[8]).useFrameSize)(function(t){return c({state:v,descriptors:B,dimensions:t})}),nt=(0,r(d[8]).useFrameSize)(function(t){return h({state:v,descriptors:B,dimensions:t})}),lt='left'===A||'right'===A,st='material'===D?u:s,dt=(0,r(d[8]).useFrameSize)(function(t){return lt&&rt?(0,r(d[8]).getDefaultSidebarWidth)(t):0}),ut=null==F?void 0:F();return(0,l.jsxs)(n.Animated.View,{style:['left'===A?p.start:'right'===A?p.end:p.bottom,('web'===n.Platform.OS?'right'===A:'rtl'===k&&'left'===A||'rtl'!==k&&'right'===A)?{borderLeftWidth:n.StyleSheet.hairlineWidth}:('web'===n.Platform.OS?'left'===A:'rtl'===k&&'right'===A||'rtl'!==k&&'left'===A)?{borderRightWidth:n.StyleSheet.hairlineWidth}:'top'===A?{borderBottomWidth:n.StyleSheet.hairlineWidth}:{borderTopWidth:n.StyleSheet.hairlineWidth},{backgroundColor:null!=ut?'transparent':x.card,borderColor:x.border},lt?{paddingTop:(rt?st:st/2)+S.top,paddingBottom:(rt?st:st/2)+S.bottom,paddingStart:st+('left'===A?S.left:0),paddingEnd:st+('right'===A?S.right:0),minWidth:dt}:[{transform:[{translateY:X.interpolate({inputRange:[0,1],outputRange:[et.height+S['top'===A?'top':'bottom']+n.StyleSheet.hairlineWidth,0]})}],position:J?'absolute':void 0},{height:at,paddingBottom:'bottom'===A?S.bottom:0,paddingTop:'top'===A?S.top:0,paddingHorizontal:Math.max(S.left,S.right)}],E],pointerEvents:J?'none':'auto',onLayout:lt?void 0:function(t){var e=t.nativeEvent.layout.height;null==$||$(e),it(function(t){return e===t.height?t:{height:e}})},children:[(0,l.jsx)(n.View,{pointerEvents:"none",style:n.StyleSheet.absoluteFill,children:ut}),(0,l.jsx)(n.View,{role:"tablist",style:lt?p.sideContent:p.bottomContent,children:ot.map(function(t,e){var o,s=e===v.index,u=B[t.key].options,b='function'==typeof u.tabBarLabel?u.tabBarLabel:(0,r(d[8]).getLabel)({label:u.tabBarLabel,title:u.title},t.name),c=void 0!==u.tabBarAccessibilityLabel?u.tabBarAccessibilityLabel:'string'==typeof b&&'ios'===n.Platform.OS?`${b}, tab, ${e+1} of ${ot.length}`:void 0;return(0,l.jsx)(r(d[5]).NavigationContext.Provider,{value:B[t.key].navigation,children:(0,l.jsx)(r(d[5]).NavigationRouteContext.Provider,{value:t,children:(0,l.jsx)(r(d[9]).BottomTabItem,{href:P(t.name,t.params),route:t,descriptor:B[t.key],focused:s,horizontal:rt,compact:nt,sidebar:lt,variant:D,onPress:function(){var e=y.emit({type:'tabPress',target:t.key,canPreventDefault:!0});s||e.defaultPrevented||y.dispatch(Object.assign({},r(d[5]).CommonActions.navigate(t),{target:v.key}))},onLongPress:function(){y.emit({type:'tabLongPress',target:t.key})},accessibilityLabel:c,testID:u.tabBarButtonTestID,allowFontScaling:u.tabBarAllowFontScaling,activeTintColor:H,inactiveTintColor:R,activeBackgroundColor:N,inactiveBackgroundColor:_,button:u.tabBarButton,icon:null!=(o=u.tabBarIcon)?o:function(t){var e=t.color,o=t.size;return(0,l.jsx)(r(d[8]).MissingIcon,{color:e,size:o})},badge:u.tabBarBadge,badgeStyle:u.tabBarBadgeStyle,label:b,showLabel:I,labelStyle:u.tabBarLabelStyle,iconStyle:u.tabBarIconStyle,style:[lt?{marginVertical:rt?'material'===D?0:1:st/2}:p.bottomItem,u.tabBarItemStyle]})})},t.key)})})]})},_e.getTabBarHeight=void 0;var e=t(r(d[1])),o=t(r(d[2])),n=r(d[3]),l=r(d[4]),s=15,u=12,b='web'!==n.Platform.OS,c=function(t){var e=t.state,o=t.descriptors,l=t.dimensions,s=o[e.routes[e.index].key].options.tabBarLabelPosition;if(s)switch(s){case'beside-icon':return!0;case'below-icon':return!1}return l.width>=768?e.routes.reduce(function(t,e){var l=o[e.key].options.tabBarItemStyle,s=n.StyleSheet.flatten(l);if(s){if('number'==typeof s.width)return t+s.width;if('number'==typeof s.maxWidth)return t+s.maxWidth}return t+125},0)<=l.width:l.width>l.height},h=function(t){var e=t.state,o=t.descriptors,l=t.dimensions,s=o[e.routes[e.index].key].options,u=s.tabBarPosition,b=s.tabBarVariant;if('left'===u||'right'===u||'material'===b)return!1;var h=l.width>l.height,f=c({state:e,descriptors:o,dimensions:l});return!('ios'!==n.Platform.OS||n.Platform.isPad||!h||!f)},f=_e.getTabBarHeight=function(t){var e=t.state,o=t.descriptors,l=t.dimensions,s=t.insets,u=t.style,b=o[e.routes[e.index].key].options.tabBarPosition,c=n.StyleSheet.flatten(u),f=c&&'height'in c?c.height:void 0;if('number'==typeof f)return f;var p=s['top'===b?'top':'bottom'];return h({state:e,descriptors:o,dimensions:l})?32+p:49+p};var p=n.StyleSheet.create({start:{top:0,bottom:0,start:0},end:{top:0,bottom:0,end:0},bottom:{start:0,end:0,bottom:0,elevation:8},bottomContent:{flex:1,flexDirection:'row'},sideContent:{flex:1,flexDirection:'column'},bottomItem:{flex:1}})},948,[1,38,174,2,219,949,1063,1064,1065,1118]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={createStaticNavigation:!0,Link:!0,LinkingContext:!0,LocaleDirContext:!0,NavigationContainer:!0,ServerContainer:!0,DarkTheme:!0,DefaultTheme:!0,UNSTABLE_UnhandledLinkingContext:!0,useLinkBuilder:!0,useLinkProps:!0,useLinkTo:!0,useLocale:!0,useScrollToTop:!0};Object.defineProperty(e,"DarkTheme",{enumerable:!0,get:function(){return r(d[0]).DarkTheme}}),Object.defineProperty(e,"DefaultTheme",{enumerable:!0,get:function(){return r(d[1]).DefaultTheme}}),Object.defineProperty(e,"Link",{enumerable:!0,get:function(){return r(d[2]).Link}}),Object.defineProperty(e,"LinkingContext",{enumerable:!0,get:function(){return r(d[3]).LinkingContext}}),Object.defineProperty(e,"LocaleDirContext",{enumerable:!0,get:function(){return r(d[4]).LocaleDirContext}}),Object.defineProperty(e,"NavigationContainer",{enumerable:!0,get:function(){return r(d[5]).NavigationContainer}}),Object.defineProperty(e,"ServerContainer",{enumerable:!0,get:function(){return r(d[6]).ServerContainer}}),Object.defineProperty(e,"UNSTABLE_UnhandledLinkingContext",{enumerable:!0,get:function(){return r(d[7]).UnhandledLinkingContext}}),Object.defineProperty(e,"createStaticNavigation",{enumerable:!0,get:function(){return r(d[8]).createStaticNavigation}}),Object.defineProperty(e,"useLinkBuilder",{enumerable:!0,get:function(){return r(d[9]).useLinkBuilder}}),Object.defineProperty(e,"useLinkProps",{enumerable:!0,get:function(){return r(d[10]).useLinkProps}}),Object.defineProperty(e,"useLinkTo",{enumerable:!0,get:function(){return r(d[11]).useLinkTo}}),Object.defineProperty(e,"useLocale",{enumerable:!0,get:function(){return r(d[12]).useLocale}}),Object.defineProperty(e,"useScrollToTop",{enumerable:!0,get:function(){return r(d[13]).useScrollToTop}}),Object.keys(r(d[14])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[14])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[14])[t]}}))}),Object.keys(r(d[15])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[15])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[15])[t]}}))})},949,[950,952,953,1046,1047,1048,1055,1054,1057,1058,1045,1059,1060,1061,1062,954]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DarkTheme=void 0;e.DarkTheme={dark:!0,colors:{primary:'rgb(10, 132, 255)',background:'rgb(1, 1, 1)',card:'rgb(18, 18, 18)',text:'rgb(229, 229, 231)',border:'rgb(39, 39, 41)',notification:'rgb(255, 69, 58)'},fonts:r(d[0]).fonts}},950,[951]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fonts=void 0;var t=r(d[0]),o='system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';e.fonts=t.Platform.select({web:{regular:{fontFamily:o,fontWeight:'400'},medium:{fontFamily:o,fontWeight:'500'},bold:{fontFamily:o,fontWeight:'600'},heavy:{fontFamily:o,fontWeight:'700'}},ios:{regular:{fontFamily:'System',fontWeight:'400'},medium:{fontFamily:'System',fontWeight:'500'},bold:{fontFamily:'System',fontWeight:'600'},heavy:{fontFamily:'System',fontWeight:'700'}},default:{regular:{fontFamily:'sans-serif',fontWeight:'normal'},medium:{fontFamily:'sans-serif-medium',fontWeight:'normal'},bold:{fontFamily:'sans-serif',fontWeight:'600'},heavy:{fontFamily:'sans-serif',fontWeight:'700'}}})},951,[2]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultTheme=void 0;e.DefaultTheme={dark:!1,colors:{primary:'rgb(0, 122, 255)',background:'rgb(242, 242, 242)',card:'rgb(255, 255, 255)',text:'rgb(28, 28, 30)',border:'rgb(216, 216, 216)',notification:'rgb(255, 59, 48)'},fonts:r(d[0]).fonts}},952,[951]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Link=function(e){var s=e.screen,f=e.params,u=e.action,c=e.href,i=e.style,l=(0,r.default)(e,o),p=(0,_r(d[4]).useTheme)(),P=p.colors,y=p.fonts,_=(0,_r(d[5]).useLinkProps)({screen:s,params:f,action:u,href:c}),v=function(e){'onPress'in l&&(null==l.onPress||l.onPress(e)),e.defaultPrevented||_.onPress(e)};return t.createElement(n.Text,Object.assign({},_,l,n.Platform.select({web:{onClick:v},default:{onPress:v}}),{style:[{color:P.primary},y.regular,i]}))};var r=e(_r(d[1])),t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,s,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(s.get||s.set)?o(f,u,s):f[u]=e[u]);return f})(e,r)})(_r(d[2])),n=_r(d[3]),o=["screen","params","action","href","style"]},953,[1,135,174,2,954,1045]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={BaseNavigationContainer:!0,createNavigationContainerRef:!0,createNavigatorFactory:!0,CurrentRenderContext:!0,findFocusedRoute:!0,getActionFromState:!0,getFocusedRouteNameFromRoute:!0,getPathFromState:!0,getStateFromPath:!0,NavigationContainerRefContext:!0,NavigationContext:!0,NavigationHelpersContext:!0,NavigationIndependentTree:!0,NavigationRouteContext:!0,PreventRemoveContext:!0,PreventRemoveProvider:!0,createComponentForStaticNavigation:!0,createPathConfigForStaticNavigation:!0,ThemeContext:!0,ThemeProvider:!0,useTheme:!0,useFocusEffect:!0,useIsFocused:!0,useNavigation:!0,useNavigationBuilder:!0,useNavigationContainerRef:!0,useNavigationIndependentTree:!0,useNavigationState:!0,usePreventRemove:!0,usePreventRemoveContext:!0,useRoute:!0,useStateForPath:!0,validatePathConfig:!0};Object.defineProperty(e,"BaseNavigationContainer",{enumerable:!0,get:function(){return r(d[0]).BaseNavigationContainer}}),Object.defineProperty(e,"CurrentRenderContext",{enumerable:!0,get:function(){return r(d[1]).CurrentRenderContext}}),Object.defineProperty(e,"NavigationContainerRefContext",{enumerable:!0,get:function(){return r(d[2]).NavigationContainerRefContext}}),Object.defineProperty(e,"NavigationContext",{enumerable:!0,get:function(){return r(d[3]).NavigationContext}}),Object.defineProperty(e,"NavigationHelpersContext",{enumerable:!0,get:function(){return r(d[4]).NavigationHelpersContext}}),Object.defineProperty(e,"NavigationIndependentTree",{enumerable:!0,get:function(){return r(d[5]).NavigationIndependentTree}}),Object.defineProperty(e,"NavigationRouteContext",{enumerable:!0,get:function(){return r(d[6]).NavigationRouteContext}}),Object.defineProperty(e,"PreventRemoveContext",{enumerable:!0,get:function(){return r(d[7]).PreventRemoveContext}}),Object.defineProperty(e,"PreventRemoveProvider",{enumerable:!0,get:function(){return r(d[8]).PreventRemoveProvider}}),Object.defineProperty(e,"ThemeContext",{enumerable:!0,get:function(){return r(d[9]).ThemeContext}}),Object.defineProperty(e,"ThemeProvider",{enumerable:!0,get:function(){return r(d[10]).ThemeProvider}}),Object.defineProperty(e,"createComponentForStaticNavigation",{enumerable:!0,get:function(){return r(d[11]).createComponentForStaticNavigation}}),Object.defineProperty(e,"createNavigationContainerRef",{enumerable:!0,get:function(){return r(d[12]).createNavigationContainerRef}}),Object.defineProperty(e,"createNavigatorFactory",{enumerable:!0,get:function(){return r(d[13]).createNavigatorFactory}}),Object.defineProperty(e,"createPathConfigForStaticNavigation",{enumerable:!0,get:function(){return r(d[11]).createPathConfigForStaticNavigation}}),Object.defineProperty(e,"findFocusedRoute",{enumerable:!0,get:function(){return r(d[14]).findFocusedRoute}}),Object.defineProperty(e,"getActionFromState",{enumerable:!0,get:function(){return r(d[15]).getActionFromState}}),Object.defineProperty(e,"getFocusedRouteNameFromRoute",{enumerable:!0,get:function(){return r(d[16]).getFocusedRouteNameFromRoute}}),Object.defineProperty(e,"getPathFromState",{enumerable:!0,get:function(){return r(d[17]).getPathFromState}}),Object.defineProperty(e,"getStateFromPath",{enumerable:!0,get:function(){return r(d[18]).getStateFromPath}}),Object.defineProperty(e,"useFocusEffect",{enumerable:!0,get:function(){return r(d[19]).useFocusEffect}}),Object.defineProperty(e,"useIsFocused",{enumerable:!0,get:function(){return r(d[20]).useIsFocused}}),Object.defineProperty(e,"useNavigation",{enumerable:!0,get:function(){return r(d[21]).useNavigation}}),Object.defineProperty(e,"useNavigationBuilder",{enumerable:!0,get:function(){return r(d[22]).useNavigationBuilder}}),Object.defineProperty(e,"useNavigationContainerRef",{enumerable:!0,get:function(){return r(d[23]).useNavigationContainerRef}}),Object.defineProperty(e,"useNavigationIndependentTree",{enumerable:!0,get:function(){return r(d[24]).useNavigationIndependentTree}}),Object.defineProperty(e,"useNavigationState",{enumerable:!0,get:function(){return r(d[25]).useNavigationState}}),Object.defineProperty(e,"usePreventRemove",{enumerable:!0,get:function(){return r(d[26]).usePreventRemove}}),Object.defineProperty(e,"usePreventRemoveContext",{enumerable:!0,get:function(){return r(d[27]).usePreventRemoveContext}}),Object.defineProperty(e,"useRoute",{enumerable:!0,get:function(){return r(d[28]).useRoute}}),Object.defineProperty(e,"useStateForPath",{enumerable:!0,get:function(){return r(d[29]).useStateForPath}}),Object.defineProperty(e,"useTheme",{enumerable:!0,get:function(){return r(d[30]).useTheme}}),Object.defineProperty(e,"validatePathConfig",{enumerable:!0,get:function(){return r(d[31]).validatePathConfig}}),Object.keys(r(d[32])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[32])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[32])[n]}}))}),Object.keys(r(d[33])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r(d[33])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[33])[n]}}))})},954,[955,984,978,985,986,987,988,989,990,983,982,991,965,995,974,998,999,1002,1010,1014,1016,1015,1017,1040,959,1037,1041,1042,992,1043,1044,1008,1018,966]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseNavigationContainer=void 0;var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?o(u,s,i):u[s]=e[s]);return u})(e,t)})(_r(d[2])),r=e(_r(d[3])),o=_r(d[4]),i=["key","routeNames"];var u=function(e){if(void 0!==e){e.key,e.routeNames;var n=(0,t.default)(e,i);return Object.assign({},n,{stale:!0,routes:e.routes.map(function(e){return void 0===e.state?e:Object.assign({},e,{state:u(e.state)})})})}};_e.BaseNavigationContainer=n.forwardRef(function(e,t){var i=e.initialState,s=e.onStateChange,c=e.onReady,l=e.onUnhandledAction,f=e.navigationInChildEnabled,v=void 0!==f&&f,p=e.theme,h=e.children,y=n.useContext(_r(d[5]).NavigationStateContext),C=(0,_r(d[6]).useNavigationIndependentTree)();if(!y.isDefault&&!C)throw new Error("Looks like you have nested a 'NavigationContainer' inside another. Normally you need only one container at the root of the app, so this was probably an error. If this was intentional, wrap the container in 'NavigationIndependentTree' explicitly. Note that this will make the child navigators disconnected from the parent and you won't be able to navigate between them.");var R=(0,_r(d[7]).useSyncState)(function(){return u(null==i?void 0:i)}),O=R.state,N=R.getState,k=R.setState,_=R.scheduleUpdate,b=R.flushUpdates,j=n.useRef(!0),x=n.useRef(void 0),I=n.useCallback(function(){return x.current},[]),S=n.useCallback(function(e){x.current=e},[]),w=(0,_r(d[8]).useChildListeners)(),E=w.listeners,P=w.addListener,L=(0,_r(d[9]).useKeyedChildListeners)(),A=L.keyedListeners,M=L.addKeyedListener,T=(0,r.default)(function(e){null==E.focus[0]?console.error(_r(d[10]).NOT_INITIALIZED_ERROR):E.focus[0](function(t){return t.dispatch(e)})}),D=(0,r.default)(function(){if(null==E.focus[0])return!1;var e=E.focus[0](function(e){return e.canGoBack()}),t=e.result;return!!e.handled&&t}),U=(0,r.default)(function(e){var t,n=null!=(t=null==e?void 0:e.key)?t:null==A.getState.root?void 0:A.getState.root().key;null==n?console.error(_r(d[10]).NOT_INITIALIZED_ERROR):E.focus[0](function(t){return t.dispatch(Object.assign({},_r(d[11]).CommonActions.reset(e),{target:n}))})}),B=(0,r.default)(function(){return null==A.getState.root?void 0:A.getState.root()}),G=(0,r.default)(function(){var e=B();if(null!=e)return(0,_r(d[12]).findFocusedRoute)(e)}),K=(0,r.default)(function(){return null!=E.focus[0]}),W=(0,_r(d[13]).useEventEmitter)(),F=(0,_r(d[14]).useOptionsGetters)({}),Z=F.addOptionsGetter,H=F.getCurrentOptions,q=n.useMemo(function(){return Object.assign({},Object.keys(_r(d[11]).CommonActions).reduce(function(e,t){return e[t]=function(){return T(_r(d[11]).CommonActions[t].apply(_r(d[11]).CommonActions,arguments))},e},{}),W.create('root'),{dispatch:T,resetRoot:U,isFocused:function(){return!0},canGoBack:D,getParent:function(){},getState:N,getRootState:B,getCurrentRoute:G,getCurrentOptions:H,isReady:K,setOptions:function(){throw new Error('Cannot call setOptions outside a screen')}})},[D,T,W,H,G,B,N,K,U]);n.useImperativeHandle(t,function(){return q},[q]);var z=(0,r.default)(function(e,t){W.emit({type:'__unsafe_action__',data:{action:e,noop:t,stack:V.current}})}),J=n.useRef(void 0),Q=(0,r.default)(function(e){J.current!==e&&(J.current=e,W.emit({type:'options',data:{options:e}}))}),V=n.useRef(void 0),X=n.useMemo(function(){return{addListener:P,addKeyedListener:M,onDispatchAction:z,onOptionsChange:Q,scheduleUpdate:_,flushUpdates:b,stackRef:V}},[P,M,z,Q,_,b]),Y=n.useRef(!0),$=n.useCallback(function(){return Y.current},[]),ee=n.useMemo(function(){return{state:O,getState:N,setState:k,getKey:I,setKey:S,getIsInitial:$,addOptionsGetter:Z}},[O,N,k,I,S,$,Z]),te=n.useRef(c),ne=n.useRef(s);n.useEffect(function(){Y.current=!1,ne.current=s,te.current=c});var re=n.useRef(!1);n.useEffect(function(){!re.current&&K()&&(re.current=!0,null==te.current||te.current(),W.emit({type:'ready'}))},[O,K,W]),n.useEffect(function(){var e=B();W.emit({type:'state',data:{state:O}}),!j.current&&ne.current&&ne.current(e),j.current=!1},[B,W,O]);var oe=(0,r.default)(function(e){});return(0,o.jsx)(_r(d[15]).NavigationIndependentTreeContext.Provider,{value:!1,children:(0,o.jsx)(_r(d[16]).NavigationContainerRefContext.Provider,{value:q,children:(0,o.jsx)(_r(d[17]).NavigationBuilderContext.Provider,{value:X,children:(0,o.jsx)(_r(d[5]).NavigationStateContext.Provider,{value:ee,children:(0,o.jsx)(_r(d[18]).UnhandledActionContext.Provider,{value:null!=l?l:oe,children:(0,o.jsx)(_r(d[19]).DeprecatedNavigationInChildContext.Provider,{value:v,children:(0,o.jsx)(_r(d[20]).EnsureSingleNavigator,{children:(0,o.jsx)(_r(d[21]).ThemeProvider,{value:p,children:h})})})})})})})})})},955,[1,135,174,956,219,958,959,961,963,964,965,966,974,975,976,960,978,977,979,980,981,982]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},956,[1,957]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]),n='undefined'!=typeof document||'undefined'!=typeof navigator&&'ReactNative'===navigator.product?t.useLayoutEffect:t.useEffect;m.exports=function(u){var f=t.useRef(u),c=t.useRef(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return f.current.apply(this,t)}).current;return n(function(){f.current=u}),c}},957,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationStateContext=void 0;var t=(function(t,e){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var o,i,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(o=e?n:r){if(o.has(t))return o.get(t);o.set(t,u)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(i.get||i.set)?o(u,f,i):u[f]=t[f]);return u})(t,e)})(_r(d[0]));var e="Couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'? See https://reactnavigation.org/docs/getting-started for setup instructions.";_e.NavigationStateContext=t.createContext({isDefault:!0,get getKey(){throw new Error(e)},get setKey(){throw new Error(e)},get getState(){throw new Error(e)},get setState(){throw new Error(e)},get getIsInitial(){throw new Error(e)}})},958,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationIndependentTree=function(){return e.useContext(_r(d[1]).NavigationIndependentTreeContext)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},959,[174,960]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationIndependentTreeContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationIndependentTreeContext=e.createContext(!1)},960,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useSyncState=function(e){var u=t.useRef(n(e)).current,f=t.useSyncExternalStore(u.subscribe,u.getState,u.getState);t.useDebugValue(f);var c=t.useRef([]),o=(0,r.default)(function(e){c.current.push(e)}),i=(0,r.default)(function(){var e=c.current;c.current=[],0!==e.length&&u.batchUpdates(function(){for(var t of e)t()})});return{state:f,getState:u.getState,setState:u.setState,scheduleUpdate:o,flushUpdates:i}};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,c)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(f.get||f.set)?u(c,o,f):c[o]=e[o]);return c})(e,t)})(_r(d[1])),r=e(_r(d[2]));var n=function(e){var t,r=[],n=!1,u=!1,f=!1;return{getState:function(){return n?t:(n=!0,t=(0,_r(d[3]).deepFreeze)(e()))},setState:function(e){t=(0,_r(d[3]).deepFreeze)(e),f=!0,u||r.forEach(function(e){return e()})},batchUpdates:function(e){u=!0,e(),u=!1,f&&(f=!1,r.forEach(function(e){return e()}))},subscribe:function(e){return r.push(e),function(){var t=r.indexOf(e);t>-1&&r.splice(t,1)}}}}},961,[1,174,956,962]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPlainObject=e.deepFreeze=void 0;e.isPlainObject=function(t){return'object'==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype},e.deepFreeze=function(t){return t}},962,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useChildListeners=function(){var t=e.useRef({action:[],focus:[]}).current,r=e.useCallback(function(e,r){t[e].push(r);var n=!1;return function(){var u=t[e].indexOf(r);!n&&u>-1&&(n=!0,t[e].splice(u,1))}},[t]);return{listeners:t,addListener:r}};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(i.get||i.set)?u(f,o,i):f[o]=e[o]);return f})(e,t)})(_r(d[0]))},963,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useKeyedChildListeners=function(){var t=e.useRef(Object.assign(Object.create(null),{getState:{},beforeRemove:{}})).current,r=e.useCallback(function(e,r,n){return t[e][r]=n,function(){t[e][r]=void 0}},[t]);return{keyedListeners:t,addKeyedListener:r}};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},964,[174]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.NOT_INITIALIZED_ERROR=void 0,e.createNavigationContainerRef=function(){var t=[].concat((0,o.default)(Object.keys(r(d[3]).CommonActions)),['addListener','removeListener','resetRoot','dispatch','isFocused','canGoBack','getRootState','getState','getParent','getCurrentRoute','getCurrentOptions']),c={},s=function(t,n){c[t]&&(c[t]=c[t].filter(function(t){return t!==n}))},f=null,l=Object.assign({get current(){return f},set current(t){f=t,null!=t&&Object.entries(c).forEach(function(o){var u=(0,n.default)(o,2),c=u[0];u[1].forEach(function(n){t.addListener(c,n)})})},isReady:function(){return null!=f&&f.isReady()}},t.reduce(function(t,n){return t[n]=function(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];var v;if(null!=f)return(v=f)[n].apply(v,o);switch(n){case'addListener':var h=o[0],R=o[1];return c[h]=c[h]||[],c[h].push(R),function(){return s(h,R)};case'removeListener':var p=o[0],O=o[1];s(p,O);break;default:console.error(u)}},t},{}));return l};var n=t(r(d[1])),o=t(r(d[2])),u=e.NOT_INITIALIZED_ERROR="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details."},965,[1,38,6,966]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0});var e={CommonActions:!0,BaseRouter:!0,DrawerActions:!0,DrawerRouter:!0,StackActions:!0,StackRouter:!0,TabActions:!0,TabRouter:!0};Object.defineProperty(_e,"BaseRouter",{enumerable:!0,get:function(){return _r(d[0]).BaseRouter}}),_e.CommonActions=void 0,Object.defineProperty(_e,"DrawerActions",{enumerable:!0,get:function(){return _r(d[1]).DrawerActions}}),Object.defineProperty(_e,"DrawerRouter",{enumerable:!0,get:function(){return _r(d[1]).DrawerRouter}}),Object.defineProperty(_e,"StackActions",{enumerable:!0,get:function(){return _r(d[2]).StackActions}}),Object.defineProperty(_e,"StackRouter",{enumerable:!0,get:function(){return _r(d[2]).StackRouter}}),Object.defineProperty(_e,"TabActions",{enumerable:!0,get:function(){return _r(d[3]).TabActions}}),Object.defineProperty(_e,"TabRouter",{enumerable:!0,get:function(){return _r(d[3]).TabRouter}});var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,c)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(c,i,u):c[i]=e[i]);return c})(e,t)})(_r(d[4]));_e.CommonActions=t,Object.keys(_r(d[5])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in _e&&_e[t]===_r(d[5])[t]||Object.defineProperty(_e,t,{enumerable:!0,get:function(){return _r(d[5])[t]}}))})},966,[967,969,971,970,972,973]);
__d(function(g,_r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseRouter=void 0;e.BaseRouter={getStateForAction:function(t,n){switch(n.type){case'SET_PARAMS':case'REPLACE_PARAMS':var u=n.source?t.routes.findIndex(function(t){return t.key===n.source}):t.index;return-1===u?null:Object.assign({},t,{routes:t.routes.map(function(t,r){return r===u?Object.assign({},t,{params:'REPLACE_PARAMS'===n.type?n.payload.params:Object.assign({},t.params,n.payload.params)}):t})});case'RESET':var r=n.payload;return 0===r.routes.length||r.routes.some(function(n){return!t.routeNames.includes(n.name)})?null:!1===r.stale?t.routeNames.length!==r.routeNames.length||r.routeNames.some(function(n){return!t.routeNames.includes(n)})?null:Object.assign({},r,{routes:r.routes.map(function(t){return t.key?t:Object.assign({},t,{key:`${t.name}-${(0,_r(d[0]).nanoid)()}`})})}):r;default:return null}},shouldActionChangeFocus:function(t){return'NAVIGATE'===t.type||'NAVIGATE_DEPRECATED'===t.type}}},967,[968]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.nanoid=e.customAlphabet=void 0;e.customAlphabet=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){for(var o='',i=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t);i--;)o+=n[Math.random()*n.length|0];return o}},e.nanoid=function(){for(var n='',t=0|(arguments.length>0&&void 0!==arguments[0]?arguments[0]:21);t--;)n+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return n}},968,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.DrawerActions=void 0,e.DrawerRouter=function(t){var c=t.defaultStatus,f=void 0===c?'closed':c,l=(0,o.default)(t,u),y=(0,r(d[3]).TabRouter)(l),A=function(t){var n;return Boolean(null==(n=t.history)?void 0:n.some(function(t){return'drawer'===t.type}))},R=function(t){return A(t)?t:Object.assign({},t,{history:[].concat((0,n.default)(t.history),[{type:'drawer',status:'open'===f?'closed':'open'}])})},E=function(t){return A(t)?Object.assign({},t,{history:t.history.filter(function(t){return'drawer'!==t.type})}):t},p=function(t){return'open'===f?E(t):R(t)},w=function(t){return'open'===f?R(t):E(t)};return Object.assign({},y,{type:'drawer',getInitialState:function(t){var n=t.routeNames,o=t.routeParamList,u=t.routeGetIdList,s=y.getInitialState({routeNames:n,routeParamList:o,routeGetIdList:u});return Object.assign({},s,{default:f,stale:!1,type:'drawer',key:`drawer-${(0,r(d[4]).nanoid)()}`})},getRehydratedState:function(t,n){var o=n.routeNames,u=n.routeParamList,s=n.routeGetIdList;if(!1===t.stale)return t;var c=y.getRehydratedState(t,{routeNames:o,routeParamList:u,routeGetIdList:s});return A(t)&&(c=E(c),c=R(c)),Object.assign({},c,{default:f,type:'drawer',key:`drawer-${(0,r(d[4]).nanoid)()}`})},getStateForRouteFocus:function(t,n){var o=y.getStateForRouteFocus(t,n);return w(o)},getStateForAction:function(t,n,o){switch(n.type){case'OPEN_DRAWER':return p(t);case'CLOSE_DRAWER':return w(t);case'TOGGLE_DRAWER':return A(t)?E(t):R(t);case'JUMP_TO':case'NAVIGATE':case'NAVIGATE_DEPRECATED':var u=y.getStateForAction(t,n,o);return null!=u&&u.index!==t.index?w(u):u;case'GO_BACK':return A(t)?E(t):y.getStateForAction(t,n,o);default:return y.getStateForAction(t,n,o)}},actionCreators:s})};var n=t(r(d[1])),o=t(r(d[2])),u=["defaultStatus"],s=e.DrawerActions=Object.assign({},r(d[3]).TabActions,{openDrawer:function(){return{type:'OPEN_DRAWER'}},closeDrawer:function(){return{type:'CLOSE_DRAWER'}},toggleDrawer:function(){return{type:'TOGGLE_DRAWER'}}})},969,[1,6,135,970,968]);
__d(function(g,_r,_i,a,m,e,d){"use strict";var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TabActions=void 0,e.TabRouter=function(t){var n=t.initialRouteName,r=t.backBehavior,s=void 0===r?'firstRoute':r;return Object.assign({},_r(d[2]).BaseRouter,{type:'tab',getInitialState:function(t){var r=t.routeNames,o=t.routeParamList,u=void 0!==n&&r.includes(n)?r.indexOf(n):0,y=r.map(function(t){return{name:t,key:`${t}-${(0,_r(d[3]).nanoid)()}`,params:o[t]}}),l=i(y,u,s,n);return{stale:!1,type:'tab',key:`tab-${(0,_r(d[3]).nanoid)()}`,index:u,routeNames:r,history:l,routes:y,preloadedRouteKeys:[]}},getRehydratedState:function(t,r){var o,i,y,l,c,p,f=r.routeNames,v=r.routeParamList,k=t;if(!1===k.stale)return k;var h=f.map(function(t){var n=k.routes.find(function(n){return n.name===t});return Object.assign({},n,{name:t,key:n&&n.name===t&&n.key?n.key:`${t}-${(0,_r(d[3]).nanoid)()}`,params:void 0!==v[t]?Object.assign({},v[t],n?n.params:void 0):n?n.params:void 0})}),b=Math.min(Math.max(f.indexOf(null==(o=k.routes[null!=(i=null==k?void 0:k.index)?i:0])?void 0:o.name),0),h.length-1),O=h.map(function(t){return t.key}),R=null!=(y=null==(l=k.history)?void 0:l.filter(function(t){return O.includes(t.key)}))?y:[];return u({stale:!1,type:'tab',key:`tab-${(0,_r(d[3]).nanoid)()}`,index:b,routeNames:f,history:R,routes:h,preloadedRouteKeys:null!=(c=null==(p=k.preloadedRouteKeys)?void 0:p.filter(function(t){return O.includes(t)}))?c:[]},b,s,n)},getStateForRouteNamesChange:function(t,r){var o=r.routeNames,u=r.routeParamList,y=r.routeKeyChanges,l=o.map(function(n){return t.routes.find(function(t){return t.name===n&&!y.includes(t.name)})||{name:n,key:`${n}-${(0,_r(d[3]).nanoid)()}`,params:u[n]}}),c=Math.max(0,o.indexOf(t.routes[t.index].name)),p=t.history.filter(function(t){return'route'!==t.type||l.find(function(n){return n.key===t.key})});return p.length||(p=i(l,c,s,n)),Object.assign({},t,{history:p,routeNames:o,routes:l,index:c})},getStateForRouteFocus:function(t,r){var o=t.routes.findIndex(function(t){return t.key===r});return-1===o||o===t.index?t:u(t,o,s,n)},getStateForAction:function(t,r,o){var i=o.routeParamList,y=o.routeGetIdList;switch(r.type){case'JUMP_TO':case'NAVIGATE':case'NAVIGATE_DEPRECATED':var l=t.routes.findIndex(function(t){return t.name===r.payload.name});if(-1===l)return null;var c=u(Object.assign({},t,{routes:t.routes.map(function(t){if(t.name!==r.payload.name)return t;var n,o=y[t.name],u=null==o?void 0:o({params:t.params}),s=null==o?void 0:o({params:r.payload.params}),l=u===s?t.key:`${t.name}-${(0,_r(d[3]).nanoid)()}`;n='NAVIGATE'!==r.type&&'NAVIGATE_DEPRECATED'!==r.type||!r.payload.merge||u!==s?void 0!==i[t.name]?Object.assign({},i[t.name],r.payload.params):r.payload.params:void 0!==r.payload.params||void 0!==i[t.name]?Object.assign({},i[t.name],t.params,r.payload.params):t.params;var c='NAVIGATE'===r.type&&null!=r.payload.path?r.payload.path:t.path;return n!==t.params||c!==t.path?Object.assign({},t,{key:l,path:c,params:n}):t})}),l,s,n);return Object.assign({},c,{preloadedRouteKeys:c.preloadedRouteKeys.filter(function(n){return n!==t.routes[c.index].key})});case'GO_BACK':var p;if(1===t.history.length)return null;var f=null==(p=t.history[t.history.length-2])?void 0:p.key,v=t.routes.findLastIndex(function(t){return t.key===f});return-1===v?null:Object.assign({},t,{preloadedRouteKeys:t.preloadedRouteKeys.filter(function(n){return n!==t.routes[v].key}),history:t.history.slice(0,-1),index:v});case'PRELOAD':var k=t.routes.findIndex(function(t){return t.name===r.payload.name});if(-1===k)return null;var h=t.routes[k],b=y[h.name],O=(null==b?void 0:b({params:h.params}))===(null==b?void 0:b({params:r.payload.params}))?h.key:`${h.name}-${(0,_r(d[3]).nanoid)()}`,R=void 0!==r.payload.params||void 0!==i[h.name]?Object.assign({},i[h.name],r.payload.params):void 0,x=R!==h.params?Object.assign({},h,{key:O,params:R}):h;return Object.assign({},t,{preloadedRouteKeys:t.preloadedRouteKeys.filter(function(t){return t!==h.key}).concat(x.key),routes:t.routes.map(function(t,n){return n===k?x:t}),history:O===h.key?t.history:t.history.filter(function(t){return t.key!==h.key})});default:return _r(d[2]).BaseRouter.getStateForAction(t,r)}},actionCreators:o})};var n=t(_r(d[1])),r='route',o=e.TabActions={jumpTo:function(t,n){return{type:'JUMP_TO',payload:{name:t,params:n}}}},i=function(t,n,o,i){var u,s=[{type:r,key:t[n].key}];switch(o){case'order':for(var y=n;y>0;y--)s.unshift({type:r,key:t[y-1].key});break;case'firstRoute':0!==n&&s.unshift({type:r,key:t[0].key});break;case'initialRoute':n!==(u=-1===(u=t.findIndex(function(t){return t.name===i}))?0:u)&&s.unshift({type:r,key:t[u].key})}return s},u=function(t,o,u,s){var y=t.history;if('history'===u||'fullHistory'===u){var l=t.routes[o].key;if('history'===u)y=y.filter(function(t){return'route'===t.type&&t.key!==l});else if('fullHistory'===u){var c,p=y.findLastIndex(function(t){return'route'===t.type});l===(null==(c=y[p])?void 0:c.key)&&(y=[].concat((0,n.default)(y.slice(0,p)),(0,n.default)(y.slice(p+1))))}y=y.concat({type:r,key:l})}else y=i(t.routes,o,u,s);return Object.assign({},t,{index:o,history:y})}},970,[1,6,967,968]);
__d(function(g,_r,_i2,a,m,e,d){"use strict";var n=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.StackActions=void 0,e.StackRouter=function(n){var o=Object.assign({},_r(d[2]).BaseRouter,{type:'stack',getInitialState:function(t){var r=t.routeNames,o=t.routeParamList,s=void 0!==n.initialRouteName&&r.includes(n.initialRouteName)?n.initialRouteName:r[0];return{stale:!1,type:'stack',key:`stack-${(0,_r(d[3]).nanoid)()}`,index:0,routeNames:r,preloadedRoutes:[],routes:[{key:`${s}-${(0,_r(d[3]).nanoid)()}`,name:s,params:o[s]}]}},getRehydratedState:function(t,r){var o,s,i=r.routeNames,u=r.routeParamList,p=t;if(!1===p.stale)return p;var l=p.routes.filter(function(n){return i.includes(n.name)}).map(function(n){return Object.assign({},n,{key:n.key||`${n.name}-${(0,_r(d[3]).nanoid)()}`,params:void 0!==u[n.name]?Object.assign({},u[n.name],n.params):n.params})}),c=null!=(o=null==(s=p.preloadedRoutes)?void 0:s.filter(function(n){return i.includes(n.name)}).map(function(n){return Object.assign({},n,{key:n.key||`${n.name}-${(0,_r(d[3]).nanoid)()}`,params:void 0!==u[n.name]?Object.assign({},u[n.name],n.params):n.params})}))?o:[];if(0===l.length){var y=void 0!==n.initialRouteName?n.initialRouteName:i[0];l.push({key:`${y}-${(0,_r(d[3]).nanoid)()}`,name:y,params:u[y]})}return{stale:!1,type:'stack',key:`stack-${(0,_r(d[3]).nanoid)()}`,index:l.length-1,routeNames:i,routes:l,preloadedRoutes:c}},getStateForRouteNamesChange:function(t,r){var o=r.routeNames,s=r.routeParamList,i=r.routeKeyChanges,u=t.routes.filter(function(n){return o.includes(n.name)&&!i.includes(n.name)});if(0===u.length){var p=void 0!==n.initialRouteName&&o.includes(n.initialRouteName)?n.initialRouteName:o[0];u.push({key:`${p}-${(0,_r(d[3]).nanoid)()}`,name:p,params:s[p]})}return Object.assign({},t,{routeNames:o,routes:u,index:Math.min(t.index,u.length-1)})},getStateForRouteFocus:function(n,t){var r=n.routes.findIndex(function(n){return n.key===t});return-1===r||r===n.index?n:Object.assign({},n,{index:r,routes:n.routes.slice(0,r+1)})},getStateForAction:function(n,r,s){var i=s.routeParamList;switch(r.type){case'REPLACE':var u=r.target===n.key&&r.source?n.routes.findIndex(function(n){return n.key===r.source}):n.index;if(-1===u)return null;var p=r.payload,l=p.name,c=p.params;return n.routeNames.includes(l)?Object.assign({},n,{routes:n.routes.map(function(n,t){return t===u?{key:`${l}-${(0,_r(d[3]).nanoid)()}`,name:l,params:void 0!==i[l]?Object.assign({},i[l],c):c}:n})}):null;case'PUSH':case'NAVIGATE':if(!n.routeNames.includes(r.payload.name))return null;var y,f,v,O=s.routeGetIdList[r.payload.name],b=null==O?void 0:O({params:r.payload.params});if(void 0!==b)y=n.routes.findLast(function(n){return n.name===r.payload.name&&b===(null==O?void 0:O({params:n.params}))});else if('NAVIGATE'===r.type){var k=n.routes[n.index];r.payload.name===k.name?y=k:r.payload.pop&&(y=n.routes.findLast(function(n){return n.name===r.payload.name}))}if(y||(y=n.preloadedRoutes.find(function(n){return n.name===r.payload.name&&b===(null==O?void 0:O({params:n.params}))})),f='NAVIGATE'===r.type&&r.payload.merge&&y?void 0!==r.payload.params||void 0!==i[r.payload.name]?Object.assign({},i[r.payload.name],y.params,r.payload.params):y.params:void 0!==i[r.payload.name]?Object.assign({},i[r.payload.name],r.payload.params):r.payload.params,y)if('NAVIGATE'===r.type&&r.payload.pop)for(var h of(v=[],n.routes)){if(h.key===y.key){v.push(Object.assign({},y,{path:void 0!==r.payload.path?r.payload.path:y.path,params:f}));break}v.push(h)}else v=n.routes.filter(function(n){return n.key!==y.key}),v.push(Object.assign({},y,{path:'NAVIGATE'===r.type&&void 0!==r.payload.path?r.payload.path:y.path,params:f}));else v=[].concat((0,t.default)(n.routes),[{key:`${r.payload.name}-${(0,_r(d[3]).nanoid)()}`,name:r.payload.name,path:'NAVIGATE'===r.type?r.payload.path:void 0,params:f}]);return Object.assign({},n,{index:v.length-1,preloadedRoutes:n.preloadedRoutes.filter(function(n){return v[v.length-1].key!==n.key}),routes:v});case'NAVIGATE_DEPRECATED':if(n.preloadedRoutes.find(function(n){return n.name===r.payload.name&&R===(null==P?void 0:P({params:n.params}))}))return null;if(!n.routeNames.includes(r.payload.name))return null;var j=-1,P=s.routeGetIdList[r.payload.name],R=null==P?void 0:P({params:r.payload.params});if(R)j=n.routes.findIndex(function(n){return n.name===r.payload.name&&R===(null==P?void 0:P({params:n.params}))});else if(n.routes[n.index].name===r.payload.name)j=n.index;else for(var x=n.routes.length-1;x>=0;x--)if(n.routes[x].name===r.payload.name){j=x;break}if(-1===j){var N=[].concat((0,t.default)(n.routes),[{key:`${r.payload.name}-${(0,_r(d[3]).nanoid)()}`,name:r.payload.name,params:void 0!==i[r.payload.name]?Object.assign({},i[r.payload.name],r.payload.params):r.payload.params}]);return Object.assign({},n,{routes:N,index:N.length-1})}var A,$=n.routes[j];return A=r.payload.merge?void 0!==r.payload.params||void 0!==i[$.name]?Object.assign({},i[$.name],$.params,r.payload.params):$.params:void 0!==i[$.name]?Object.assign({},i[$.name],r.payload.params):r.payload.params,Object.assign({},n,{index:j,routes:[].concat((0,t.default)(n.routes.slice(0,j)),[A!==$.params?Object.assign({},$,{params:A}):n.routes[j]])});case'POP':var T=r.target===n.key&&r.source?n.routes.findIndex(function(n){return n.key===r.source}):n.index;if(T>0){var I=Math.max(T-r.payload.count+1,1),E=n.routes.slice(0,I).concat(n.routes.slice(T+1));return Object.assign({},n,{index:E.length-1,routes:E})}return null;case'POP_TO_TOP':return o.getStateForAction(n,{type:'POP',payload:{count:n.routes.length-1}},s);case'POP_TO':if(!n.routeNames.includes(r.payload.name))return null;var L=-1,S=s.routeGetIdList[r.payload.name],G=null==S?void 0:S({params:r.payload.params});if(G)L=n.routes.findIndex(function(n){return n.name===r.payload.name&&G===(null==S?void 0:S({params:n.params}))});else if(n.routes[n.index].name===r.payload.name)L=n.index;else for(var _=n.routes.length-1;_>=0;_--)if(n.routes[_].name===r.payload.name){L=_;break}if(-1===L){var C=[].concat((0,t.default)(n.routes.slice(0,-1)),[{key:`${r.payload.name}-${(0,_r(d[3]).nanoid)()}`,name:r.payload.name,params:void 0!==i[r.payload.name]?Object.assign({},i[r.payload.name],r.payload.params):r.payload.params}]);return Object.assign({},n,{routes:C,index:C.length-1})}var F,V=n.routes[L];return F=r.payload.merge?void 0!==r.payload.params||void 0!==i[V.name]?Object.assign({},i[V.name],V.params,r.payload.params):V.params:void 0!==i[V.name]?Object.assign({},i[V.name],r.payload.params):r.payload.params,Object.assign({},n,{index:L,routes:[].concat((0,t.default)(n.routes.slice(0,L)),[F!==V.params?Object.assign({},V,{params:F}):n.routes[L]])});case'GO_BACK':return n.index>0?o.getStateForAction(n,{type:'POP',payload:{count:1},target:r.target,source:r.source},s):null;case'PRELOAD':var B,D=s.routeGetIdList[r.payload.name],M=null==D?void 0:D({params:r.payload.params});return void 0!==M&&(B=n.routes.find(function(n){return n.name===r.payload.name&&M===(null==D?void 0:D({params:n.params}))})),B?Object.assign({},n,{routes:n.routes.map(function(n){var t;return n.key!==(null==(t=B)?void 0:t.key)?n:Object.assign({},n,{params:void 0!==i[r.payload.name]?Object.assign({},i[r.payload.name],r.payload.params):r.payload.params})})}):Object.assign({},n,{preloadedRoutes:n.preloadedRoutes.filter(function(n){return n.name!==r.payload.name||M!==(null==D?void 0:D({params:n.params}))}).concat({key:`${r.payload.name}-${(0,_r(d[3]).nanoid)()}`,name:r.payload.name,params:void 0!==i[r.payload.name]?Object.assign({},i[r.payload.name],r.payload.params):r.payload.params})});default:return _r(d[2]).BaseRouter.getStateForAction(n,r)}},actionCreators:r});return o};var t=n(_r(d[1])),r=e.StackActions={replace:function(n,t){return{type:'REPLACE',payload:{name:n,params:t}}},push:function(n,t){return{type:'PUSH',payload:{name:n,params:t}}},pop:function(){return{type:'POP',payload:{count:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}}},popToTop:function(){return{type:'POP_TO_TOP'}},popTo:function(n,t,r){return'boolean'==typeof r&&console.warn("Passing a boolean as the third argument to 'popTo' is deprecated. Pass '{ merge: true }' instead."),{type:'POP_TO',payload:{name:n,params:t,merge:'boolean'==typeof r?r:null==r?void 0:r.merge}}}}},971,[1,6,967,968]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goBack=function(){return{type:'GO_BACK'}},e.navigate=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if('string'==typeof n[0]){var p=n[0],s=n[1],l=n[2];return'boolean'==typeof l&&console.warn("Passing a boolean as the third argument to 'navigate' is deprecated. Pass '{ merge: true }' instead."),{type:'NAVIGATE',payload:{name:p,params:s,merge:'boolean'==typeof l?l:null==l?void 0:l.merge,pop:null==l?void 0:l.pop}}}var u=n[0]||{};if(!('name'in u))throw new Error('You need to specify a name when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.');return{type:'NAVIGATE',payload:u}},e.navigateDeprecated=function(){if('string'==typeof(arguments.length<=0?void 0:arguments[0]))return{type:'NAVIGATE_DEPRECATED',payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};var t=(arguments.length<=0?void 0:arguments[0])||{};if(!('name'in t))throw new Error('You need to specify a name when calling navigateDeprecated with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigatelegacy for usage.');return{type:'NAVIGATE_DEPRECATED',payload:t}},e.preload=function(t,n){return{type:'PRELOAD',payload:{name:t,params:n}}},e.replaceParams=function(t){return{type:'REPLACE_PARAMS',payload:{params:t}}},e.reset=function(t){return{type:'RESET',payload:t}},e.setParams=function(t){return{type:'SET_PARAMS',payload:{params:t}}}},972,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},973,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFocusedRoute=function(u){var n,l,t,o=u;for(;null!=(null==(s=o)?void 0:s.routes[null!=(v=o.index)?v:0].state);){var s,v,c;o=o.routes[null!=(c=o.index)?c:0].state}return null==(n=o)?void 0:n.routes[null!=(l=null==(t=o)?void 0:t.index)?l:0]}},974,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useEventEmitter=function(e){var n=r.useRef(e);r.useEffect(function(){n.current=e});var u=r.useRef(Object.create(null)),c=r.useCallback(function(e){var t=function(t,r){var n=u.current[t]?u.current[t][e]:void 0;if(n){var c=n.indexOf(r);c>-1&&n.splice(c,1)}};return{addListener:function(r,n){u.current[r]=u.current[r]||{},u.current[r][e]=u.current[r][e]||[],u.current[r][e].push(n);var c=!1;return function(){c||(c=!0,t(r,n))}},removeListener:t}},[]),f=r.useCallback(function(e){var r,c,f=e.type,i=e.data,o=e.target,l=e.canPreventDefault,v=u.current[f]||{},s=void 0!==o?null==(r=v[o])?void 0:r.slice():(c=[]).concat.apply(c,(0,t.default)(Object.keys(v).map(function(e){return v[e]}))).filter(function(e,t,r){return r.lastIndexOf(e)===t}),p={get type(){return f}};if(void 0!==o&&Object.defineProperty(p,'target',{enumerable:!0,get:function(){return o}}),void 0!==i&&Object.defineProperty(p,'data',{enumerable:!0,get:function(){return i}}),l){var b=!1;Object.defineProperties(p,{defaultPrevented:{enumerable:!0,get:function(){return b}},preventDefault:{enumerable:!0,value:function(){b=!0}}})}return null==n.current||n.current(p),null==s||s.forEach(function(e){return e(p)}),p},[]);return r.useMemo(function(){return{create:c,emit:f}},[c,f])};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,c,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((c=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(c.get||c.set)?u(f,i,c):f[i]=e[i]);return f})(e,t)})(_r(d[2]))},975,[1,6,174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOptionsGetters=function(n){var t=n.key,r=n.options,u=n.navigation,o=e.useRef(r),i=e.useRef({}),l=e.useContext(_r(d[1]).NavigationBuilderContext).onOptionsChange,c=e.useContext(_r(d[2]).NavigationStateContext).addOptionsGetter,f=e.useCallback(function(){var e,n,t=null==(e=null==u?void 0:u.isFocused())||e,r=Object.keys(i.current).length;t&&!r&&l(null!=(n=o.current)?n:{})},[u,l]);e.useEffect(function(){return o.current=r,f(),null==u?void 0:u.addListener('focus',f)},[u,r,f]);var s=e.useCallback(function(){for(var e in i.current)if(e in i.current){var n,t,r=null==(n=(t=i.current)[e])?void 0:n.call(t);if(null!==r)return r}return null},[]),v=e.useCallback(function(){var e;if(!(null==(e=null==u?void 0:u.isFocused())||e))return null;var n=s();return null!==n?n:o.current},[u,s]);return e.useEffect(function(){return null==c?void 0:c(t,v)},[v,c,t]),{addOptionsGetter:e.useCallback(function(e,n){return i.current[e]=n,f(),function(){delete i.current[e],f()}},[f]),getCurrentOptions:v}};var e=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=n?r:t){if(u.has(e))return u.get(e);u.set(e,i)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?u(i,l,o):i[l]=e[l]);return i})(e,n)})(_r(d[0]))},976,[174,977,958]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationBuilderContext=void 0;var t=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,i,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(r=e?o:n){if(r.has(t))return r.get(t);r.set(t,u)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(i.get||i.set)?r(u,f,i):u[f]=t[f]);return u})(t,e)})(_r(d[0]));_e.NavigationBuilderContext=t.createContext({onDispatchAction:function(){},onOptionsChange:function(){},scheduleUpdate:function(){throw new Error("Couldn't find a context for scheduling updates.")},flushUpdates:function(){throw new Error("Couldn't find a context for flushing updates.")}})},977,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationContainerRefContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationContainerRefContext=e.createContext(void 0)},978,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnhandledActionContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.UnhandledActionContext=e.createContext(void 0)},979,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DeprecatedNavigationInChildContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.DeprecatedNavigationInChildContext=e.createContext(!1)},980,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.EnsureSingleNavigator=function(i){var o=i.children,u=e.useRef(void 0),c=e.useMemo(function(){return{register:function(e){var r=u.current;if(void 0!==r&&e!==r)throw new Error(t);u.current=e},unregister:function(e){e===u.current&&(u.current=void 0)}}},[]);return(0,r.jsx)(n.Provider,{value:c,children:o})},_e.SingleNavigatorContext=void 0;var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=r?n:t){if(i.has(e))return i.get(e);i.set(e,u)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?i(u,c,o):u[c]=e[c]);return u})(e,r)})(_r(d[0])),r=_r(d[1]);var t="Another navigator is already registered for this container. You likely have multiple navigators under a single \"NavigationContainer\" or \"Screen\". Make sure each navigator is under a separate \"Screen\" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.",n=_e.SingleNavigatorContext=e.createContext(void 0)},981,[174,219]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ThemeProvider=function(t){var r=t.value,n=t.children;return(0,e.jsx)(_r(d[2]).ThemeContext.Provider,{value:r,children:n})};!(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f])})(e,t)})(_r(d[0]));var e=_r(d[1])},982,[174,219,983]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ThemeContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(f.get||f.set)?o(i,u,f):i[u]=e[u]);return i})(e,t)})(_r(d[0]));(_e.ThemeContext=e.createContext(void 0)).displayName='ThemeContext'},983,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.CurrentRenderContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0]));_e.CurrentRenderContext=e.createContext(void 0)},984,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationContext=e.createContext(void 0)},985,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationHelpersContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.NavigationHelpersContext=e.createContext(void 0)},986,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationIndependentTree=function(t){var n=t.children;return(0,e.jsx)(_r(d[2]).NavigationRouteContext.Provider,{value:void 0,children:(0,e.jsx)(_r(d[3]).NavigationContext.Provider,{value:void 0,children:(0,e.jsx)(_r(d[4]).NavigationIndependentTreeContext.Provider,{value:!0,children:n})})})};!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?i(u,f,o):u[f]=e[f])})(e,t)})(_r(d[0]));var e=_r(d[1])},987,[174,219,988,985,960]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationRouteContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?r(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]));_e.NavigationRouteContext=e.createContext(void 0)},988,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.PreventRemoveContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.PreventRemoveContext=e.createContext(void 0)},989,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PreventRemoveProvider=function(e){var v=e.children,f=r.useState(function(){return(0,_r(d[6]).nanoid)()}),l=(0,t.default)(f,1)[0],c=r.useState(function(){return new Map}),s=(0,t.default)(c,2),p=s[0],y=s[1],R=r.useContext(_r(d[7]).NavigationHelpersContext),P=r.useContext(_r(d[8]).NavigationRouteContext),_=r.useContext(_r(d[9]).PreventRemoveContext),k=null==_?void 0:_.setPreventRemove,w=(0,o.default)(function(e,t,n){if(n&&(null==R||null!=R&&R.getState().routes.every(function(e){return e.key!==t})))throw new Error(`Couldn't find a route with the key ${t}. Is your component inside NavigationContent?`);y(function(r){var o,u;if(t===(null==(o=r.get(e))?void 0:o.routeKey)&&n===(null==(u=r.get(e))?void 0:u.preventRemove))return r;var i=new Map(r);return n?i.set(e,{routeKey:t,preventRemove:n}):i.delete(e),i})}),C=(0,n.default)(p.values()).some(function(e){return e.preventRemove});r.useEffect(function(){if(void 0!==(null==P?void 0:P.key)&&void 0!==k)return k(l,P.key,C),function(){k(l,P.key,!1)}},[l,C,null==P?void 0:P.key,k]);var x=r.useMemo(function(){return{setPreventRemove:w,preventedRoutes:i(p)}},[w,p]);return(0,u.jsx)(_r(d[9]).PreventRemoveContext.Provider,{value:x,children:v})};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var v in e)"default"!==v&&{}.hasOwnProperty.call(e,v)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,v))&&(u.get||u.set)?o(i,v,u):i[v]=e[v]);return i})(e,t)})(_r(d[3])),o=e(_r(d[4])),u=_r(d[5]);var i=function(e){return(0,n.default)(e.values()).reduce(function(e,t){var n,r=t.routeKey,o=t.preventRemove;return e[r]={preventRemove:(null==(n=e[r])?void 0:n.preventRemove)||o},e},{})}},990,[1,38,6,174,956,219,968,986,988,989]);
__d(function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createComponentForStaticNavigation=l,_e.createPathConfigForStaticNavigation=function(e,n,r){var i,o=function(e,n,a){var u=function(e,n){return Object.fromEntries(Object.entries(e).sort(function(e,r){var i=(0,t.default)(e,1)[0],o=(0,t.default)(r,1)[0];return i===n?-1:o===n?1:0}).map(function(e){var n,u=(0,t.default)(e,2),c=u[0],s=u[1],f={};'linking'in s&&('string'==typeof s.linking?f.path=s.linking:Object.assign(f,s.linking),'string'==typeof f.path&&(f.path=f.path.replace(/^\//,'').replace(/\/$/,'')));var l=a||null!=f.path&&''!==f.path;return'config'in s?n=o(s,void 0,l):'screen'in s&&'config'in s.screen&&(s.screen.config.screens||s.screen.config.groups)&&(n=o(s.screen,void 0,l)),n&&(f.screens=n),!r||f.screens||'linking'in s&&null==s.linking||(null!=f.path?a||''!==f.path||(i=void 0):(a||null!=i||(i=f),f.path=c.replace(/([A-Z]+)/g,'-$1').replace(/^-/,'').toLowerCase())),[c,f]}).filter(function(e){var n=(0,t.default)(e,2)[1];return Object.keys(n).length>0}))},c={};for(var s in e.config){var f;if('screens'===s&&e.config.screens)Object.assign(c,u(e.config.screens,null!=(f=null==n?void 0:n.initialRouteName)?f:e.config.initialRouteName));'groups'===s&&e.config.groups&&Object.entries(e.config.groups).forEach(function(r){var i,o=(0,t.default)(r,2)[1];Object.assign(c,u(o.screens,null!=(i=null==n?void 0:n.initialRouteName)?i:e.config.initialRouteName))})}if(0!==Object.keys(c).length)return c},a=o(e,n,!1);r&&i&&(i.path='');return a};var n=e(_r(d[1])),r=e(_r(d[2])),t=e(_r(d[3])),i=(function(e,n){if("function"==typeof WeakMap)var r=new WeakMap,t=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var i,o,a={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return a;if(i=n?t:r){if(i.has(e))return i.get(e);i.set(e,a)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(a,u,o):a[u]=e[u]);return a})(e,n)})(_r(d[4])),o=_r(d[5]),a=["screen","if"],u=["screens","groups"],c=["if"];var s=i.memo(function(e){var n=e.component,r=(0,_r(d[6]).useRoute)();return i.createElement(n,{route:r})});s.displayName='Memo(Screen)';var f=function(e,n){return Object.entries(n).map(function(n){var u,c,f=(0,t.default)(n,2),p=f[0],v=f[1],h={},y=!1;if('screen'in v){var j=v.screen,O=v.if,b=(0,r.default)(v,a);c=O,h=b,(0,_r(d[7]).isValidElementType)(j)?u=j:'config'in j&&(y=!0,u=l(j,`${p}Navigator`))}else(0,_r(d[7]).isValidElementType)(v)?u=v:'config'in v&&(y=!0,u=l(v,`${p}Navigator`));if(null==u)throw new Error(`Couldn't find a 'screen' property for the screen '${p}'. This can happen if you passed 'undefined'. You likely forgot to export your component from the file it's defined in, or mixed up default import and named import when importing.`);var k=y?i.createElement(u,{}):(0,o.jsx)(s,{component:u});return function(){return null==c||c()?(0,o.jsx)(e,Object.assign({name:p},h,{children:function(){return k}}),p):null}})};function l(e,i){var a=e.Navigator,s=e.Group,l=e.Screen,p=e.config,v=p.screens,h=p.groups,y=(0,r.default)(p,u);if(null==v&&null==h)throw new Error("Couldn't find a 'screens' or 'groups' property. Make sure to define your screens under a 'screens' property in the configuration.");var j=[];for(var O in p)'screens'===O&&v&&j.push.apply(j,(0,n.default)(f(l,v))),'groups'===O&&h&&j.push.apply(j,(0,n.default)(Object.entries(h).map(function(e){var n=(0,t.default)(e,2),i=n[0],a=n[1],u=a.if,p=(0,r.default)(a,c),v=f(l,p.screens);return function(){var e=v.map(function(e){return e()});return null==u||u()?(0,o.jsx)(s,Object.assign({navigationKey:i},p,{children:e}),i):null}})));var b=function(){var e=j.map(function(e){return e()});return(0,o.jsx)(a,Object.assign({},y,{children:e}))};return b.displayName=i,b}},991,[1,6,135,38,174,219,992,993]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useRoute=function(){var t=e.useContext(_r(d[1]).NavigationRouteContext);if(void 0===t)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},992,[174,988]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},993,[994]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-is.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),$=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function w(v){if("object"==typeof v&&null!==v){var w=v.$$typeof;switch(w){case t:switch(v=v.type){case n:case f:case c:case y:case p:case $:return v;default:switch(v=v&&v.$$typeof){case u:case l:case b:case S:case s:return v;default:return w}}case o:return w}}}e.ContextConsumer=s,e.ContextProvider=u,e.Element=t,e.ForwardRef=l,e.Fragment=n,e.Lazy=b,e.Memo=S,e.Portal=o,e.Profiler=f,e.StrictMode=c,e.Suspense=y,e.SuspenseList=p,e.isContextConsumer=function(t){return w(t)===s},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(o){return"object"==typeof o&&null!==o&&o.$$typeof===t},e.isForwardRef=function(t){return w(t)===l},e.isFragment=function(t){return w(t)===n},e.isLazy=function(t){return w(t)===b},e.isMemo=function(t){return w(t)===S},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===f},e.isStrictMode=function(t){return w(t)===c},e.isSuspense=function(t){return w(t)===y},e.isSuspenseList=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===n||t===f||t===c||t===y||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===b||t.$$typeof===S||t.$$typeof===u||t.$$typeof===s||t.$$typeof===l||t.$$typeof===v||void 0!==t.getModuleId)},e.typeOf=w},994,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNavigatorFactory=function(n){return function(o){return null!=o?{Navigator:n,Screen:r(d[0]).Screen,Group:r(d[1]).Group,config:o}:{Navigator:n,Screen:r(d[0]).Screen,Group:r(d[1]).Group}}}},995,[996,997]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Screen=function(n){return null}},996,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=function(u){return null}},997,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getActionFromState=function(n,t){var l,o,u,c=t?s(t):{},p=null!=n.index?n.routes.slice(0,n.index+1):n.routes;if(0===p.length)return;if(!(1===p.length&&void 0===p[0].key||2===p.length&&void 0===p[0].key&&p[0].name===(null==c?void 0:c.initialRouteName)&&void 0===p[1].key))return{type:'RESET',payload:n};var v=n.routes[null!=(l=n.index)?l:n.routes.length-1],f=null==v?void 0:v.state,h=null==c||null==(o=c.screens)?void 0:o[null==v?void 0:v.name],y=Object.assign({},v.params),b=v?{name:v.name,path:v.path,params:y}:void 0;b&&null!=(u=h)&&u.screens&&Object.keys(h.screens).length&&(b.pop=!0);for(;f;){var k,j,O;if(0===f.routes.length)return;var x=null!=f.index?f.routes.slice(0,f.index+1):f.routes,N=x[x.length-1];if(Object.assign(y,{initial:void 0,screen:void 0,params:void 0,state:void 0}),1===x.length&&void 0===x[0].key)y.initial=!0,y.screen=N.name;else{if(2!==x.length||void 0!==x[0].key||x[0].name!==(null==(k=h)?void 0:k.initialRouteName)||void 0!==x[1].key){y.state=f;break}y.initial=!1,y.screen=N.name}N.state?(y.params=Object.assign({},N.params),y.pop=!0,y=y.params):(y.path=N.path,y.params=N.params),f=N.state,null!=(O=h=null==(j=h)||null==(j=j.screens)?void 0:j[N.name])&&O.screens&&Object.keys(h.screens).length&&(y.pop=!0)}(null!=b&&b.params.screen||null!=b&&b.params.state)&&(b.pop=!0);if(!b)return;return{type:'NAVIGATE',payload:b}};var t=n(r(d[1]));var s=function(n){return'object'==typeof n&&null!=n?{initialRouteName:n.initialRouteName,screens:null!=n.screens?l(n.screens):void 0}:{}},l=function(n){return Object.entries(n).reduce(function(n,l){var o=(0,t.default)(l,2),u=o[0],c=o[1];return n[u]=s(c),n},{})}},998,[1,38]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFocusedRouteNameFromRoute=function(t){var n,o,u=null!=(n=t[r(d[0]).CHILD_STATE])?n:t.state,s=t.params;return u?u.routes[null!=(o=u.index)?o:'string'==typeof u.type&&'stack'!==u.type?0:u.routes.length-1].name:'string'==typeof(null==s?void 0:s.screen)?s.screen:void 0}},999,[1000]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CHILD_STATE=void 0,_e.useRouteCache=function(e){t.useMemo(function(){return{current:new Map}},[]);return e};e(_r(d[1]));var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[2]));_e.CHILD_STATE=Symbol('CHILD_STATE')},1000,[1,135,174,1001]);
__d(function(g,r,i,_a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRecordEqual=function(t,n){if(t===n)return!0;var u=Object.keys(t),c=Object.keys(n);if(u.length!==c.length)return!1;return u.every(function(u){return t[u]===n[u]})}},1001,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.getPathFromState=function(e,t){if(null==e)throw Error(`Got '${String(e)}' for the navigation state. You must pass a valid state object.`);t&&(0,_r(d[4]).validatePathConfig)(t);var o=s(t),u='/',f=e,l={},c=function(){for(var t,s,c,p='number'==typeof f.index?f.index:0,v=f.routes[p],h=o,y=i(e),b=[],j=!0,O=function(){if(t=h[v.name].parts,b.push(v.name),v.params){var e,r,i=h[v.name],o=Object.fromEntries(Object.entries(v.params).map(function(e){var t,r,o=(0,n.default)(e,2),s=o[0],u=o[1];if(void 0===u){if(!i)return null;var f;if(null==(f=i.parts)||null==(f=f.find(function(e){return e.param===s}))?void 0:f.optional)return null}var l=null!=(t=null==i||null==(r=i.stringify)?void 0:r[s])?t:String;return[s,l(u)]}).filter(function(e){return null!=e}));if(null!=(e=t)&&e.length&&Object.assign(l,o),y===v)s=Object.assign({},o),null==(r=t)||r.forEach(function(e){var t=e.param;t&&s&&delete s[t]})}if(h[v.name].screens&&void 0!==v.state){p='number'==typeof v.state.index?v.state.index:v.state.routes.length-1;var u=v.state.routes[p],f=h[v.name].screens;f&&u.name in f?(v=u,h=f):j=!1}else j=!1};v.name in h&&j;)O();void 0!==h[v.name]?u+=null==(c=t)?void 0:c.map(function(e){var t=e.segment,n=e.param,r=e.optional;if('*'===t)return v.name;if(n){var i=l[n];return void 0===i&&r?'':String(i).replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]/g,function(e){return encodeURIComponent(e)})}return encodeURIComponent(t)}).join('/'):u+=encodeURIComponent(v.name);if(!s&&y.params&&(s=Object.fromEntries(Object.entries(y.params).map(function(e){var t=(0,n.default)(e,2),r=t[0],i=t[1];return[r,String(i)]}))),v.state)u+='/';else if(s){for(var P in s)'undefined'===s[P]&&delete s[P];var _=r.stringify(s,{sort:!1});_&&(u+=`?${_}`)}f=v.state};for(;f;)c();null!=t&&t.path&&(u=`${t.path}/${u}`);(u=(u=u.replace(/\/+/g,'/')).length>1?u.replace(/\/$/,''):u).startsWith('/')||(u=`/${u}`);return u};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?i(s,u,o):s[u]=e[u]);return s})(e,t)})(_r(d[3]));var i=function(e){var t='number'==typeof e.index?e.routes[e.index]:e.routes[e.routes.length-1];return t.state?i(t.state):t},o=new WeakMap,s=function(e){if(null==e||!e.screens)return{};var t=o.get(null==e?void 0:e.screens);if(t)return t;var n=f(e.screens);return o.set(e.screens,n),n};var u=function(e,n){if('string'==typeof e){var r=(0,_r(d[5]).getPatternParts)(e);return n?{parts:[].concat((0,t.default)(n),(0,t.default)(r))}:{parts:r}}if(e.exact&&void 0===e.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");var i=!0!==e.exact?[].concat((0,t.default)(n||[]),(0,t.default)(e.path?(0,_r(d[5]).getPatternParts)(e.path):[])):e.path?(0,_r(d[5]).getPatternParts)(e.path):void 0,o=e.screens?f(e.screens,i):void 0;return{parts:i,stringify:e.stringify,screens:o}},f=function(e,t){return Object.fromEntries(Object.entries(e).map(function(e){var r=(0,n.default)(e,2),i=r[0],o=r[1];return[i,u(o,t)]}))}},1002,[1,6,38,1003,1008,1009]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),a=r(d[2]),o=Symbol('encodeFragmentIdentifier');function u(t){switch(t.arrayFormat){case'index':return function(n){return function(o,u){var c=o.length;return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[[l(n,t),'[',c,']'].join('')]:[[l(n,t),'[',l(c,t),']=',l(u,t)].join('')])}};case'bracket':return function(n){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[[l(n,t),'[]'].join('')]:[[l(n,t),'[]=',l(u,t)].join('')])}};case'colon-list-separator':return function(n){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[[l(n,t),':list='].join('')]:[[l(n,t),':list=',l(u,t)].join('')])}};case'comma':case'separator':case'bracket-separator':var n='bracket-separator'===t.arrayFormat?'[]=':'=';return function(a){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:(u=null===u?'':u,0===o.length?[[l(a,t),n,l(u,t)].join('')]:[[o,l(u,t)].join(t.arrayFormatSeparator)])}};default:return function(n){return function(o,u){return void 0===u||t.skipNull&&null===u||t.skipEmptyString&&''===u?o:[].concat(a(o),null===u?[l(n,t)]:[[l(n,t),'=',l(u,t)].join('')])}}}}function c(t){var n;switch(t.arrayFormat){case'index':return function(t,a,o){n=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,''),n?(void 0===o[t]&&(o[t]={}),o[t][n[1]]=a):o[t]=a};case'bracket':return function(t,a,o){n=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,''),n?void 0!==o[t]?o[t]=[].concat(o[t],a):o[t]=[a]:o[t]=a};case'colon-list-separator':return function(t,a,o){n=/(:list)$/.exec(t),t=t.replace(/:list$/,''),n?void 0!==o[t]?o[t]=[].concat(o[t],a):o[t]=[a]:o[t]=a};case'comma':case'separator':return function(n,a,o){var u='string'==typeof a&&a.includes(t.arrayFormatSeparator),c='string'==typeof a&&!u&&f(a,t).includes(t.arrayFormatSeparator);a=c?f(a,t):a;var s=u||c?a.split(t.arrayFormatSeparator).map(function(n){return f(n,t)}):null===a?a:f(a,t);o[n]=s};case'bracket-separator':return function(n,a,o){var u=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,''),u){var c=null===a?[]:a.split(t.arrayFormatSeparator).map(function(n){return f(n,t)});void 0!==o[n]?o[n]=[].concat(o[n],c):o[n]=c}else o[n]=a?f(a,t):a};default:return function(t,n,a){void 0!==a[t]?a[t]=[].concat(a[t],n):a[t]=n}}}function s(t){if('string'!=typeof t||1!==t.length)throw new TypeError('arrayFormatSeparator must be single character string')}function l(t,n){return n.encode?n.strict?r(d[3])(t):encodeURIComponent(t):t}function f(t,n){return n.decode?r(d[4])(t):t}function p(t){return Array.isArray(t)?t.sort():'object'==typeof t?p(Object.keys(t)).sort(function(t,n){return Number(t)-Number(n)}).map(function(n){return t[n]}):t}function y(t){var n=t.indexOf('#');return-1!==n&&(t=t.slice(0,n)),t}function v(t){var n='',a=t.indexOf('#');return-1!==a&&(n=t.slice(a)),n}function b(t){var n=(t=y(t)).indexOf('?');return-1===n?'':t.slice(n+1)}function j(t,n){return n.parseNumbers&&!Number.isNaN(Number(t))&&'string'==typeof t&&''!==t.trim()?t=Number(t):!n.parseBooleans||null===t||'true'!==t.toLowerCase()&&'false'!==t.toLowerCase()||(t='true'===t.toLowerCase()),t}function k(t,a){s((a=Object.assign({decode:!0,sort:!0,arrayFormat:'none',arrayFormatSeparator:',',parseNumbers:!1,parseBooleans:!1},a)).arrayFormatSeparator);var o=c(a),u=Object.create(null);if('string'!=typeof t)return u;if(!(t=t.trim().replace(/^[?#&]/,'')))return u;for(var l of t.split('&'))if(''!==l){var y=r(d[5])(a.decode?l.replace(/\+/g,' '):l,'='),v=n(y,2),b=v[0],k=v[1];k=void 0===k?null:['comma','separator','bracket-separator'].includes(a.arrayFormat)?k:f(k,a),o(f(b,a),k,u)}for(var F of Object.keys(u)){var O=u[F];if('object'==typeof O&&null!==O)for(var S of Object.keys(O))O[S]=j(O[S],a);else u[F]=j(O,a)}return!1===a.sort?u:(!0===a.sort?Object.keys(u).sort():Object.keys(u).sort(a.sort)).reduce(function(t,n){var a=u[n];return Boolean(a)&&'object'==typeof a&&!Array.isArray(a)?t[n]=p(a):t[n]=a,t},Object.create(null))}e.extract=b,e.parse=k,e.stringify=function(t,n){if(!t)return'';s((n=Object.assign({encode:!0,strict:!0,arrayFormat:'none',arrayFormatSeparator:','},n)).arrayFormatSeparator);var a=function(a){return n.skipNull&&null==t[a]||n.skipEmptyString&&''===t[a]},o=u(n),c={};for(var f of Object.keys(t))a(f)||(c[f]=t[f]);var p=Object.keys(c);return!1!==n.sort&&p.sort(n.sort),p.map(function(a){var u=t[a];return void 0===u?'':null===u?l(a,n):Array.isArray(u)?0===u.length&&'bracket-separator'===n.arrayFormat?l(a,n)+'[]':u.reduce(o(a),[]).join('&'):l(a,n)+'='+l(u,n)}).filter(function(t){return t.length>0}).join('&')},e.parseUrl=function(t,a){a=Object.assign({decode:!0},a);var o=r(d[5])(t,'#'),u=n(o,2),c=u[0],s=u[1];return Object.assign({url:c.split('?')[0]||'',query:k(b(t),a)},a&&a.parseFragmentIdentifier&&s?{fragmentIdentifier:f(s,a)}:{})},e.stringifyUrl=function(n,a){a=Object.assign(t({encode:!0,strict:!0},o,!0),a);var u=y(n.url).split('?')[0]||'',c=e.extract(n.url),s=e.parse(c,{sort:!1}),f=Object.assign(s,n.query),p=e.stringify(f,a);p&&(p=`?${p}`);var b=v(n.url);return n.fragmentIdentifier&&(b=`#${a[o]?l(n.fragmentIdentifier,a):n.fragmentIdentifier}`),`${u}${p}${b}`},e.pick=function(n,a,u){u=Object.assign(t({parseFragmentIdentifier:!0},o,!1),u);var c=e.parseUrl(n,u),s=c.url,l=c.query,f=c.fragmentIdentifier;return e.stringifyUrl({url:s,query:r(d[6])(l,a),fragmentIdentifier:f},u)},e.exclude=function(t,n,a){var o=Array.isArray(n)?function(t){return!n.includes(t)}:function(t,a){return!n(t,a)};return e.pick(t,o,a)}},1003,[194,38,6,1004,1005,1006,1007]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return`%${t.charCodeAt(0).toString(16).toUpperCase()}`})}},1004,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=new RegExp("(%[a-f0-9]{2})|([^%]+?)",'gi'),n=new RegExp("(%[a-f0-9]{2})+",'gi');function o(t,n){try{return[decodeURIComponent(t.join(''))]}catch(t){}if(1===t.length)return t;n=n||1;var c=t.slice(0,n),p=t.slice(n);return Array.prototype.concat.call([],o(c),o(p))}function c(n){try{return decodeURIComponent(n)}catch(i){for(var c=n.match(t)||[],p=1;p<c.length;p++)c=(n=o(c,p).join('')).match(t)||[];return n}}function p(t){for(var o={'%FE%FF':"\ufffd\ufffd",'%FF%FE':"\ufffd\ufffd"},p=n.exec(t);p;){try{o[p[0]]=decodeURIComponent(p[0])}catch(t){var i=c(p[0]);i!==p[0]&&(o[p[0]]=i)}p=n.exec(t)}o['%C2']="\ufffd";for(var f=Object.keys(o),u=0;u<f.length;u++){var y=f[u];t=t.replace(new RegExp(y,'g'),o[y])}return t}m.exports=function(t){if('string'!=typeof t)throw new TypeError('Expected `encodedURI` to be of type `string`, got `'+typeof t+'`');try{return t=t.replace(/\+/g,' '),decodeURIComponent(t)}catch(n){return p(t)}}},1005,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){if('string'!=typeof t||'string'!=typeof n)throw new TypeError('Expected the arguments to be of type `string`');if(''===n)return[t];var o=t.indexOf(n);return-1===o?[t]:[t.slice(0,o),t.slice(o+n.length)]}},1006,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';m.exports=function(t,n){for(var i={},s=Object.keys(t),c=Array.isArray(n),f=0;f<s.length;f++){var o=s[f],u=t[o];(c?-1!==n.indexOf(o):n(o,u,t))&&(i[o]=u)}return i}},1007,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.validatePathConfig=function n(c){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=Object.assign({path:'string',initialRouteName:'string',screens:'object'},s?null:{alias:'array',exact:'boolean',stringify:'object',parse:'object'});if('object'!=typeof c||null===c)throw new Error(`Expected the configuration to be an object, but got ${JSON.stringify(c)}.`);var u=Object.fromEntries(Object.keys(c).map(function(n){if(!(n in f))return[n,'extraneous'];var t=f[n],o=c[n];if(void 0!==o)if('array'===t){if(!Array.isArray(o))return[n,`expected 'Array', got '${typeof o}'`]}else if(typeof o!==t)return[n,`expected '${t}', got '${typeof o}'`];return null}).filter(Boolean));if(Object.keys(u).length)throw new Error(`Found invalid properties in the configuration:\n${o(u)}\n\nYou can only specify the following properties:\n${o(f)}\n\nIf you want to specify configuration for screens, you need to specify them under a 'screens' property.\n\nSee https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.`);if(s&&'path'in c&&'string'==typeof c.path&&c.path.includes(':'))throw new Error(`Found invalid path '${c.path}'. The 'path' in the top-level configuration cannot contain patterns for params.`);'screens'in c&&c.screens&&Object.entries(c.screens).forEach(function(o){var c=(0,t.default)(o,2),s=(c[0],c[1]);'string'!=typeof s&&n(s,!1)})};var t=n(r(d[1])),o=function(n){return Object.entries(n).map(function(n){var o=(0,t.default)(n,2);return`- ${o[0]} (${o[1]})`}).join('\n')}},1008,[1,38]);
__d(function(g,r,_i,a,m,e,d){"use strict";var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getPatternParts=function(n){for(var i=[],o={segment:''},f=!1,p=!1,l=0,u=0;u<=n.length;u++){var s=n[u];if(null!=s&&(o.segment+=s),':'===s){if(':'===o.segment)p=!0;else if(!f)throw new Error(`Encountered ':' in the middle of a segment in path: ${n}`)}else if('('===s){if(!p)throw new Error(`Encountered '(' without preceding ':' in path: ${n}`);f?l++:f=!0}else if(')'===s){if(!p||!f)throw new Error(`Encountered ')' without preceding '(' in path: ${n}`);l?(l--,o.regex+=s):(f=!1,p=!1)}else if('?'===s){if(!o.param)throw new Error(`Encountered '?' without preceding ':' in path: ${n}`);p=!1,o.optional=!0}else if(null==s||'/'===s&&!f){if(p=!1,o.segment=o.segment.replace(/\/$/,''),''===o.segment)continue;if(o.param&&(o.param=o.param.replace(/^:/,'')),o.regex&&(o.regex=o.regex.replace(/^\(/,'').replace(/\)$/,'')),i.push(o),null==s)break;o={segment:''}}f&&(o.regex=o.regex||'',o.regex+=s),p&&!f&&(o.param=o.param||'',o.param+=s)}if(f)throw new Error(`Could not find closing ')' in path: ${n}`);var c=i.map(function(n){return n.param}).filter(Boolean);for(var h of c.entries()){var w=(0,t.default)(h,2),E=w[0],$=w[1];if(c.indexOf($)!==E)throw new Error(`Duplicate param name '${$}' found in path: ${n}`)}return i};var t=n(r(d[1]))},1009,[1,38]);
__d(function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.getStateFromPath=function(e,t){var n,r=u(t),a=r.initialRoutes,s=r.configs,i=null==t?void 0:t.screens,o=e.replace(/\/+/g,'/').replace(/^\//,'').replace(/\?.*$/,'');o=o.endsWith('/')?o:`${o}/`;var f,c,l=null==t||null==(n=t.path)?void 0:n.replace(/^\//,'');if(l){var p=l.endsWith('/')?l:`${l}/`;if(!o.startsWith(p))return;o=o.replace(p,'')}if(void 0===i){var v=o.split('/').filter(Boolean).map(function(e){return{name:decodeURIComponent(e)}});return v.length?O(e,v,a):void 0}if('/'===o){var y=s.find(function(e){return''===e.segments.join('/')});return y?O(e,y.routeNames.map(function(e){return{name:e}}),a,s):void 0}var b=h(o,s),j=b.routes,x=b.remainingPath;void 0!==j&&(o=x,f=c=O(e,j,a,s));if(null==c||null==f)return;return f};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),a=e(_r(d[4])),s=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var a,s,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((s=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(s.get||s.set)?a(i,u,s):i[u]=e[u]);return i})(e,t)})(_r(d[5]));var i=new WeakMap;function u(e){if(!e)return o();var t=i.get(e);if(t)return t;var n=o(e);return i.set(e,n),n}function o(e){e&&(0,_r(d[6]).validatePathConfig)(e);var t=f(e),n=c(t,null==e?void 0:e.screens);return l(n),{initialRoutes:t,configs:n,configWithRegexes:p(n)}}function f(e){var t=[];return null!=e&&e.initialRouteName&&t.push({initialRouteName:e.initialRouteName,parentScreens:[]}),t}function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t=[]).concat.apply(t,(0,r.default)(Object.keys(n).map(function(t){return v(t,n,e,[],[],[])}))).sort(function(e,t){if((0,_r(d[7]).isArrayEqual)(e.segments,t.segments))return t.routeNames.join('>').localeCompare(e.routeNames.join('>'));if((0,_r(d[8]).arrayStartsWith)(e.segments,t.segments))return-1;if((0,_r(d[8]).arrayStartsWith)(t.segments,e.segments))return 1;for(var n=0;n<Math.max(e.segments.length,t.segments.length);n++){if(null==e.segments[n])return 1;if(null==t.segments[n])return-1;var r='*'===e.segments[n],a='*'===t.segments[n],s=e.segments[n].startsWith(':'),i=t.segments[n].startsWith(':'),u=s&&e.segments[n].includes('('),o=i&&t.segments[n].includes('(');if(!(r&&a||u&&o)){if(r&&!a)return 1;if(a&&!r)return-1;if(s&&!i)return 1;if(i&&!s)return-1;if(u&&!o)return-1;if(o&&!u)return 1}}return e.segments.length-t.segments.length})}function l(e){e.reduce(function(e,t){var r=t.segments.join('/');if(e[r]){var a=e[r].routeNames,s=t.routeNames;if(!(a.length>s.length?s.every(function(e,t){return a[t]===e}):a.every(function(e,t){return s[t]===e})))throw new Error(`Found conflicting screens with the same pattern. The pattern '${r}' resolves to both '${a.join(' > ')}' and '${s.join(' > ')}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(e,(0,n.default)({},r,t))},{})}function p(e){return e.map(function(e){return Object.assign({},e,{regex:e.regex?new RegExp(e.regex.source+'$'):void 0})})}var h=function(e,n){var r,a,s=e,i=function(e){if(!e.regex)return 0;var a=s.match(e.regex);return a?(r=e.routeNames.map(function(r){var s=n.find(function(t){return t.screen===r&&(0,_r(d[8]).arrayStartsWith)(e.segments,t.segments)}),i=s&&a.groups?Object.fromEntries(Object.entries(a.groups).map(function(e){var n=(0,t.default)(e,2),a=n[0],i=n[1],u=Number(a.replace('param_','')),o=s.params.find(function(e){return e.index===u});return(null==o?void 0:o.screen)===r&&null!=o&&o.name?[o.name,i]:null}).filter(function(e){return null!=e}).map(function(e){var n,r=(0,t.default)(e,2),a=r[0],i=r[1];if(null==i)return[a,void 0];var u=decodeURIComponent(i);return[a,null!=(n=s.parse)&&n[a]?s.parse[a](u):u]})):void 0;return i&&Object.keys(i).length?{name:r,params:i}:{name:r}}),s=s.replace(a[0],''),1):void 0};for(var u of n)if(0!==(a=i(u))&&1===a)break;return{routes:r,remainingPath:s}},v=function(e,t,n,a,s,i){var u=[];i.push(e),s.push(e);var o=t[e];if('string'==typeof o)a.push({screen:e,path:o}),u.push(y(e,(0,r.default)(i),(0,r.default)(a)));else if('object'==typeof o){var f;if('string'==typeof o.path){if(o.exact&&null==o.path)throw new Error(`Screen '${e}' doesn't specify a 'path'. A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. \`path: ''\`.`);var c=[];if(o.alias)for(var l of o.alias)'string'==typeof l?c.push(y(e,(0,r.default)(i),[].concat((0,r.default)(a),[{screen:e,path:l}]),o.parse)):'object'==typeof l&&c.push(y(e,(0,r.default)(i),l.exact?[{screen:e,path:l.path}]:[].concat((0,r.default)(a),[{screen:e,path:l.path}]),l.parse));o.exact&&(a.length=0),a.push({screen:e,path:o.path}),u.push(y(e,(0,r.default)(i),(0,r.default)(a),o.parse)),u.push.apply(u,c)}if('string'!=typeof o&&'string'!=typeof o.path&&null!=(f=o.alias)&&f.length)throw new Error(`Screen '${e}' doesn't specify a 'path'. A 'path' needs to be specified in order to use 'alias'.`);o.screens&&(o.initialRouteName&&n.push({initialRouteName:o.initialRouteName,parentScreens:s}),Object.keys(o.screens).forEach(function(e){var t=v(e,o.screens,n,(0,r.default)(a),(0,r.default)(s),i);u.push.apply(u,(0,r.default)(t))}))}return i.pop(),u},y=function(e,t,n,s){var i=[],u=function(e){i.push.apply(i,(0,r.default)((0,_r(d[9]).getPatternParts)(c).map(function(t){return Object.assign({},t,{screen:e})})))};for(var o of n){var f=o.screen,c=o.path;u(f)}return{screen:e,regex:i.length?new RegExp(`^(${i.map(function(e,t){return e.param?`(((?<param_${t}>${e.regex||'[^/]+'})\\/)${e.optional?'?':''})`:`${'*'===e.segment?'.*':(0,a.default)(e.segment)}\\/`}).join('')})$`):void 0,segments:i.map(function(e){return e.segment}),params:i.map(function(e,t){return e.param?{index:t,screen:e.screen,name:e.param}:null}).filter(function(e){return null!=e}),routeNames:t,parse:s}},b=function(e,t){for(var n of t)if(e===n.routeNames[n.routeNames.length-1])return n.parse},j=function(e,t,n){for(var r of n)if(t.length===r.parentScreens.length){for(var a=!0,s=0;s<t.length;s++)if(0!==t[s].localeCompare(r.parentScreens[s])){a=!1;break}if(a)return e!==r.initialRouteName?r.initialRouteName:void 0}},x=function(e,t,n){return n?e?{index:1,routes:[{name:e},t]}:{routes:[t]}:e?{index:1,routes:[{name:e},Object.assign({},t,{state:{routes:[]}})]}:{routes:[Object.assign({},t,{state:{routes:[]}})]}},O=function(e,t,n,r){var a=t.shift(),s=[],i=j(a.name,s,n);s.push(a.name);var u=x(i,a,0===t.length);if(t.length>0)for(var o=u;a=t.shift();){i=j(a.name,s,n);var f=o.index||o.routes.length-1;o.routes[f].state=x(i,a,0===t.length),t.length>0&&(o=o.routes[f].state),s.push(a.name)}(a=(0,_r(d[10]).findFocusedRoute)(u)).path=e.replace(/\/$/,'');var c=N(e,r?b(a.name,r):void 0);return c&&(a.params=Object.assign({},a.params,c)),u},N=function(e,t){var n=e.split('?')[1],r=s.parse(n);return t&&Object.keys(r).forEach(function(e){Object.hasOwnProperty.call(t,e)&&'string'==typeof r[e]&&(r[e]=t[e](r[e]))}),Object.keys(r).length?r:void 0}},1010,[1,38,194,6,1011,1003,1008,1012,1013,1009,974]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){if('string'!=typeof t)throw new TypeError('Expected a string');return t.replace(/[|\\{}()[\]^$+*?.]/g,'\\$&').replace(/-/g,'\\x2d')}},1011,[]);
__d(function(g,r,i,_a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayEqual=function(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;return n.every(function(n,u){return n===t[u]})}},1012,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayStartsWith=function(t,n){if(n.length>t.length)return!1;return n.every(function(n,u){return n===t[u]})}},1013,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFocusEffect=function(t){var n=(0,_r(d[1]).useNavigation)();if(void 0!==arguments[1]){console.error("You passed a second argument to 'useFocusEffect', but it only accepts one argument. If you want to pass a dependency array, you can use 'React.useCallback':\n\nuseFocusEffect(\n  React.useCallback(() => {\n    // Your code here\n  }, [depA, depB])\n);\n\nSee usage guide: https://reactnavigation.org/docs/use-focus-effect")}e.useEffect(function(){var e,o=!1,u=function(){var e=t();if(void 0===e||'function'==typeof e)return e};n.isFocused()&&(e=u(),o=!0);var r=n.addListener('focus',function(){o||(void 0!==e&&e(),e=u(),o=!0)}),c=n.addListener('blur',function(){void 0!==e&&e(),e=void 0,o=!1});return function(){void 0!==e&&e(),r(),c()}},[t,n])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,r,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?o:n){if(u.has(e))return u.get(e);u.set(e,c)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((r=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(r.get||r.set)?u(c,f,r):c[f]=e[f]);return c})(e,t)})(_r(d[0]))},1014,[174,1015]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigation=function(){var t=e.useContext(_r(d[1]).NavigationContainerRefContext),n=e.useContext(_r(d[2]).NavigationContext);if(void 0===n&&void 0===t)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return null!=n?n:t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?r(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},1015,[174,978,985]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useIsFocused=function(){var t=(0,_r(d[1]).useNavigation)(),r=e.useCallback(function(e){var r=t.addListener('focus',e),n=t.addListener('blur',e);return function(){r(),n()}},[t]);return e.useSyncExternalStore(r,t.isFocused,t.isFocused)};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},1016,[174,1015]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationBuilder=function(e,l){var c=(0,_r(d[11]).useRegisterNavigator)(),v=i.useContext(_r(d[12]).NavigationRouteContext),y=l.children,h=l.layout,L=l.screenOptions,S=l.screenLayout,N=l.screenListeners,O=l.UNSTABLE_router,b=(0,r.default)(l,p),E=f(y),C=(0,_r(d[13]).useLazyValue)(function(){if(null!=b.initialRouteName&&E.every(function(e){return e.props.name!==b.initialRouteName}))throw new Error(`Couldn't find a screen named '${b.initialRouteName}' to use as 'initialRouteName'.`);var t=e(b);if(null!=O){var n=O(t);return Object.assign({},t,n)}return t}),R=E.reduce(function(e,t){if(t.props.name in e)throw new Error(`A navigator cannot contain multiple 'Screen' components with the same name (found duplicate screen named '${t.props.name}')`);return e[t.props.name]=t,e},{}),w=E.map(function(e){return e.props.name}),j=w.reduce(function(e,t){return e[t]=R[t].keys.map(function(e){return null!=e?e:''}).join(':'),e},{}),k=w.reduce(function(e,t){var n=R[t].props.initialParams;return e[t]=n,e},{}),P=w.reduce(function(e,t){return Object.assign(e,(0,n.default)({},t,R[t].props.getId))},{});if(!w.length)throw new Error("Couldn't find any screens for the navigator. Have you defined any screens as its children?");var K=i.useCallback(function(e){return void 0===e.type||e.type===C.type},[C.type]),G=i.useCallback(function(e){return void 0!==e&&!1===e.stale&&K(e)},[K]),I=i.useContext(_r(d[14]).NavigationStateContext),A=I.state,_=I.getState,x=I.setState,$=I.setKey,F=I.getKey,M=I.getIsInitial,J=i.useRef(!1),V=(0,s.default)(function(e){J.current||x(e)}),B=i.useMemo(function(){var e,t,n,r,o,i,s,u=w.reduce(function(e,t){var n,r,o,i=R[t].props.initialParams,s=null==(null==v||null==(n=v.params)?void 0:n.state)&&!1!==(null==v||null==(r=v.params)?void 0:r.initial)&&(null==v||null==(o=v.params)?void 0:o.screen)===t?v.params.params:void 0;return e[t]=void 0!==i||void 0!==s?Object.assign({},i,s):void 0,e},{});return void 0!==A&&K(A)||null!=(null==v||null==(e=v.params)?void 0:e.state)||'string'==typeof(null==v||null==(t=v.params)?void 0:t.screen)&&!1!==(null==v||null==(n=v.params)?void 0:n.initial)?(null!=(null==v||null==(r=v.params)?void 0:r.state)?s=v.params.state:'string'==typeof(null==v||null==(o=v.params)?void 0:o.screen)&&!1!==(null==v||null==(i=v.params)?void 0:i.initial)&&(s={index:0,routes:[{name:v.params.screen,params:v.params.params,path:v.params.path}]}),[C.getRehydratedState(null!=s?s:A,{routeNames:w,routeParamList:u,routeGetIdList:P}),!1]):[C.getInitialState({routeNames:w,routeParamList:u,routeGetIdList:P}),!0]},[A,C,K]),H=(0,t.default)(B,2),T=H[0],U=H[1],W=i.useRef(j);i.useEffect(function(){W.current=j});var q=W.current,z=G(A)?A:T,D=z;(0,_r(d[15]).isArrayEqual)(z.routeNames,w)&&(0,_r(d[16]).isRecordEqual)(j,q)||(D=C.getStateForRouteNamesChange(z,{routeNames:w,routeParamList:k,routeGetIdList:P,routeKeyChanges:Object.keys(j).filter(function(e){return e in q&&j[e]!==q[e]})}));var Q=i.useRef(null==v?void 0:v.params);if(i.useEffect(function(){Q.current=null==v?void 0:v.params},[null==v?void 0:v.params]),null!=v&&v.params){var X,Y=Q.current;'object'==typeof v.params.state&&null!=v.params.state&&v.params!==Y?X=_r(d[17]).CommonActions.reset(v.params.state):'string'==typeof v.params.screen&&(!1===v.params.initial&&U||v.params!==Y)&&(X=_r(d[17]).CommonActions.navigate({name:v.params.screen,params:v.params.params,path:v.params.path,merge:v.params.merge,pop:v.params.pop}));var Z=X?C.getStateForAction(D,X,{routeNames:w,routeParamList:k,routeGetIdList:P}):null;D=null!==Z?C.getRehydratedState(Z,{routeNames:w,routeParamList:k,routeGetIdList:P}):D}var ee=z!==D;(0,_r(d[18]).useScheduleUpdate)(function(){ee&&V(D)}),z=D,i.useEffect(function(){return J.current=!1,$(c),M()||V(D),function(){void 0!==_()&&F()===c&&(x(void 0),J.current=!0)}},[]);var te=i.useRef(z);te.current=z,(0,_r(d[19]).useClientLayoutEffect)(function(){te.current=null});var ne=(0,s.default)(function(){var e=_();return(0,_r(d[20]).deepFreeze)(G(e)?e:T)}),re=(0,_r(d[21]).useEventEmitter)(function(e){var t,n,r,i=[];e.target?null!=(r=n=z.routes.find(function(t){return t.key===e.target}))&&r.name&&i.push(n.name):(n=z.routes[z.index],i.push.apply(i,(0,o.default)(Object.keys(R).filter(function(e){var t;return(null==(t=n)?void 0:t.name)===e}))));if(null!=n){var s=ve[n.key].navigation;(t=[]).concat.apply(t,(0,o.default)([N].concat((0,o.default)(i.map(function(e){return R[e].props.listeners}))).map(function(t){var r='function'==typeof t?t({route:n,navigation:s}):t;return r?Object.keys(r).filter(function(t){return t===e.type}).map(function(e){return null==r?void 0:r[e]}):void 0}))).filter(function(e,t,n){return e&&n.lastIndexOf(e)===t}).forEach(function(t){return null==t?void 0:t(e)})}});(0,_r(d[22]).useFocusEvents)({state:z,emitter:re}),i.useEffect(function(){re.emit({type:'state',data:{state:z}})},[re,z]);var ae=(0,_r(d[23]).useChildListeners)(),oe=ae.listeners,ie=ae.addListener,se=(0,_r(d[24]).useKeyedChildListeners)(),ue=se.keyedListeners,pe=se.addKeyedListener,le=(0,_r(d[25]).useOnAction)({router:C,getState:ne,setState:V,key:null==v?void 0:v.key,actionListeners:oe.action,beforeRemoveListeners:ue.beforeRemove,routerConfigOptions:{routeNames:w,routeParamList:k,routeGetIdList:P},emitter:re}),ce=(0,_r(d[26]).useOnRouteFocus)({router:C,key:null==v?void 0:v.key,getState:ne,setState:V}),de=(0,_r(d[27]).useNavigationHelpers)({id:l.id,onAction:le,getState:ne,emitter:re,router:C,stateRef:te});(0,_r(d[28]).useFocusedListenersChildrenAdapter)({navigation:de,focusedListeners:oe.focus}),(0,_r(d[29]).useOnGetState)({getState:ne,getStateListeners:ue.getState});var fe=(0,_r(d[30]).useDescriptors)({state:z,screens:R,navigation:de,screenOptions:L,screenLayout:S,onAction:le,getState:ne,setState:V,onRouteFocus:ce,addListener:ie,addKeyedListener:pe,router:C,emitter:re}),me=fe.describe,ve=fe.descriptors;(0,_r(d[31]).useCurrentRender)({state:z,navigation:de,descriptors:ve});var ye=(0,_r(d[32]).useComponent)(function(e){var t=null!=h?h({state:z,descriptors:ve,navigation:de,children:e}):e;return(0,u.jsx)(_r(d[33]).NavigationHelpersContext.Provider,{value:de,children:(0,u.jsx)(_r(d[34]).NavigationStateListenerProvider,{state:z,children:(0,u.jsx)(_r(d[35]).PreventRemoveProvider,{children:t})})})});return{state:z,navigation:de,describe:me,descriptors:ve,NavigationContent:ye}};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=e(_r(d[4])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(s,u,i):s[u]=e[u]);return s})(e,t)})(_r(d[5])),s=e(_r(d[6])),u=_r(d[7]),p=["children","layout","screenOptions","screenLayout","screenListeners","UNSTABLE_router"];_r(d[8]).PrivateValueStore;var l=function(e){return e.type===_r(d[9]).Screen},c=function(e){return e.type===i.Fragment||e.type===_r(d[10]).Group},f=function(e,t,n,r){return i.Children.toArray(e).reduce(function(e,s){var u,p,v;if(i.isValidElement(s)){if(l(s)){if('object'!=typeof s.props||null===s.props)throw new Error("Got an invalid element for screen.");if('string'!=typeof s.props.name||''===s.props.name)throw new Error(`Got an invalid name (${JSON.stringify(s.props.name)}) for the screen. It must be a non-empty string.`);if(void 0!==s.props.navigationKey&&('string'!=typeof s.props.navigationKey||''===s.props.navigationKey))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(s.props.navigationKey)}) for the screen '${s.props.name}'. It must be a non-empty string or 'undefined'.`);return e.push({keys:[t,s.props.navigationKey],options:n,layout:r,props:s.props}),e}if(c(s)){if(void 0!==(v=s.props.navigationKey)&&('string'!=typeof v||''===v))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(s.props.navigationKey)}) for the group. It must be a non-empty string or 'undefined'.`);return e.push.apply(e,(0,o.default)(f(s.props.children,s.props.navigationKey,s.type!==_r(d[10]).Group?n:null!=n?[].concat((0,o.default)(n),[s.props.screenOptions]):[s.props.screenOptions],'function'==typeof s.props.screenLayout?s.props.screenLayout:r))),e}}throw new Error(`A navigator can only contain 'Screen', 'Group' or 'React.Fragment' as its direct children (found ${i.isValidElement(s)?`'${'string'==typeof s.type?s.type:null==(u=s.type)?void 0:u.name}'${null!=s.props&&'object'==typeof s.props&&'name'in s.props&&null!=(p=s.props)&&p.name?` for the screen '${s.props.name}'`:''}`:'object'==typeof s?JSON.stringify(s):`'${String(s)}'`}). To render this component in the navigator, pass it in the 'component' prop to 'Screen'.`)},[])}},1017,[1,38,194,135,6,174,956,219,1018,996,997,1019,988,1020,958,1012,1001,966,1021,1022,962,975,1023,963,964,1024,1026,1027,1028,1029,1030,1035,1036,986,1037,990]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.PrivateValueStore=void 0;var u=t(r(d[1])),o=t(r(d[2]));e.PrivateValueStore=(0,u.default)(function t(){(0,o.default)(this,t)})},1018,[1,13,12]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useRegisterNavigator=function(){var e=r.useState(function(){return(0,_r(d[3]).nanoid)()}),n=(0,t.default)(e,1)[0],i=r.useContext(_r(d[4]).SingleNavigatorContext);if(void 0===i)throw new Error("Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?\n\nThis can also happen if there are multiple copies of '@react-navigation' packages installed.");return r.useEffect(function(){var e=i.register,t=i.unregister;return e(n),function(){return t(n)}},[i,n]),n};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?i(u,f,o):u[f]=e[f]);return u})(e,t)})(_r(d[2]))},1019,[1,38,174,968,981]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLazyValue=function(t){var r=e.useRef(void 0);void 0===r.current&&(r.current=t());return r.current};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},1020,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useScheduleUpdate=function(t){var n=e.useContext(_r(d[1]).NavigationBuilderContext),r=n.scheduleUpdate,u=n.flushUpdates;r(t),(0,_r(d[2]).useClientLayoutEffect)(u)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},1021,[174,977,1022]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useClientLayoutEffect=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,f=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?f:n){if(r.has(e))return r.get(e);r.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?r(u,i,o):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.useClientLayoutEffect='undefined'!=typeof document||'undefined'!=typeof navigator&&'ReactNative'===navigator.product?e.useLayoutEffect:e.useEffect},1022,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFocusEvents=function(t){var r=t.state,n=t.emitter,u=e.useContext(_r(d[1]).NavigationContext),o=e.useRef(void 0),i=r.routes[r.index].key;e.useEffect(function(){return null==u?void 0:u.addListener('focus',function(){o.current=i,n.emit({type:'focus',target:i})})},[i,n,u]),e.useEffect(function(){return null==u?void 0:u.addListener('blur',function(){o.current=void 0,n.emit({type:'blur',target:i})})},[i,n,u]),e.useEffect(function(){var e=o.current;o.current=i,void 0!==e||u||n.emit({type:'focus',target:i}),e===i||u&&!u.isFocused()||void 0!==e&&(n.emit({type:'blur',target:e}),n.emit({type:'focus',target:i}))},[i,n,u])};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},1023,[174,985]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOnAction=function(t){var n=t.router,r=t.getState,o=t.setState,i=t.key,u=t.actionListeners,f=t.beforeRemoveListeners,s=t.routerConfigOptions,c=t.emitter,l=e.useContext(_r(d[1]).NavigationBuilderContext),v=l.onAction,p=l.onRouteFocus,y=l.addListener,_=l.onDispatchAction,h=e.useContext(_r(d[2]).DeprecatedNavigationInChildContext),k=e.useRef(s);e.useEffect(function(){k.current=s});var C=e.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,s=r();if(t.has(s.key))return!1;if(t.add(s.key),'string'!=typeof e.target||e.target===s.key){var l=n.getStateForAction(s,e,k.current);if(null!==(l=null===l&&e.target===s.key?s:l)){if(_(e,s===l),s!==l){if((0,_r(d[3]).shouldPreventRemove)(c,f,s.routes,l.routes,e))return!0;o(l)}if(void 0!==p)n.shouldActionChangeFocus(e)&&void 0!==i&&p(i);return!0}}if(void 0!==v&&v(e,t))return!0;if('string'==typeof e.target||'NAVIGATE_DEPRECATED'===e.type||h)for(var y=u.length-1;y>=0;y--){if((0,u[y])(e,t))return!0}return!1},[u,f,c,r,h,i,v,_,p,n,o]);return(0,_r(d[3]).useOnPreventRemove)({getState:r,emitter:c,beforeRemoveListeners:f}),e.useEffect(function(){return null==y?void 0:y('action',C)},[y,C]),C};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},1024,[174,977,980,1025]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.shouldPreventRemove=void 0,_e.useOnPreventRemove=function(e){var t=e.getState,r=e.emitter,u=e.beforeRemoveListeners,i=n.useContext(_r(d[3]).NavigationBuilderContext).addKeyedListener,f=n.useContext(_r(d[4]).NavigationRouteContext),l=null==f?void 0:f.key;n.useEffect(function(){if(l)return null==i?void 0:i('beforeRemove',l,function(e){var n=t();return o(r,u,n.routes,[],e)})},[i,u,r,t,l])};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[2]));var r=Symbol('VISITED_ROUTE_KEYS'),o=_e.shouldPreventRemove=function(e,n,o,u,i){var f,l=u.map(function(e){return e.key}),v=o.filter(function(e){return!l.includes(e.key)}).reverse(),c=null!=(f=i[r])?f:new Set,s=Object.assign({},i,(0,t.default)({},r,c));for(var y of v){var p;if(!c.has(y.key)){if(null==(p=n[y.key])?void 0:p.call(n,s))return!0;if(c.add(y.key),e.emit({type:'beforeRemove',target:y.key,data:{action:s},canPreventDefault:!0}).defaultPrevented)return!0}}return!1}},1025,[1,194,174,977,988]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOnRouteFocus=function(t){var o=t.router,r=t.getState,n=t.key,u=t.setState,i=e.useContext(_r(d[1]).NavigationBuilderContext).onRouteFocus;return e.useCallback(function(e){var t=r(),f=o.getStateForRouteFocus(t,e);f!==t&&u(f),void 0!==i&&void 0!==n&&i(n)},[r,i,o,u,n])};var e=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?n(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},1026,[174,977]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationHelpers=function(e){var n=e.id,r=e.onAction,o=e.getState,u=e.emitter,i=e.router,c=e.stateRef,f=t.useContext(_r(d[2]).UnhandledActionContext),s=t.useContext(_r(d[3]).NavigationContext);return t.useMemo(function(){var t=function(t){var e='function'==typeof t?t(o()):t;r(e)||null==f||f(e)},e=Object.assign({},i.actionCreators,_r(d[4]).CommonActions),l=Object.keys(e).reduce(function(n,r){return n[r]=function(){return t(e[r].apply(e,arguments))},n},{}),p=Object.assign({},s,l,{dispatch:t,emit:u.emit,isFocused:s?s.isFocused:function(){return!0},canGoBack:function(){var t=o();return null!==i.getStateForAction(t,_r(d[4]).CommonActions.goBack(),{routeNames:t.routeNames,routeParamList:{},routeGetIdList:{}})||(null==s?void 0:s.canGoBack())||!1},getId:function(){return n},getParent:function(t){if(void 0!==t){for(var e=p;e&&t!==e.getId();)e=e.getParent();return e}return s},getState:function(){return null!=c.current?c.current:o()}});return p},[i,s,u.emit,o,r,f,n,c])};var t=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var o,u,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(o=e?r:n){if(o.has(t))return o.get(t);o.set(t,i)}for(var c in t)"default"!==c&&{}.hasOwnProperty.call(t,c)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,c))&&(u.get||u.set)?o(i,c,u):i[c]=t[c]);return i})(t,e)})(_r(d[0]));_r(d[1]).PrivateValueStore},1027,[174,1018,979,985,966]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFocusedListenersChildrenAdapter=function(t){var n=t.navigation,r=t.focusedListeners,u=e.useContext(_r(d[1]).NavigationBuilderContext).addListener,o=e.useCallback(function(e){if(n.isFocused()){for(var t of r){var u=t(e),o=u.handled,i=u.result;if(o)return{handled:o,result:i}}return{handled:!0,result:e(n)}}return{handled:!1,result:null}},[r,n]);e.useEffect(function(){return null==u?void 0:u('focus',o)},[u,o])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(i,f,o):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},1028,[174,977]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useOnGetState=function(t){var n=t.getState,r=t.getStateListeners,u=e.useContext(_r(d[1]).NavigationBuilderContext).addKeyedListener,o=e.useContext(_r(d[2]).NavigationRouteContext),i=o?o.key:'root',s=e.useCallback(function(){var e=n(),t=e.routes.map(function(e){var t,n=null==(t=r[e.key])?void 0:t.call(r);return e.state===n?e:Object.assign({},e,{state:n})});return(0,_r(d[3]).isArrayEqual)(e.routes,t)?e:Object.assign({},e,{routes:t})},[n,r]);e.useEffect(function(){return null==u?void 0:u('getState',i,s)},[u,s,i])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?u(i,s,o):i[s]=e[s]);return i})(e,t)})(_r(d[0]))},1029,[174,977,988,1012]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useDescriptors=function(e){var s=e.state,c=e.screens,f=e.navigation,l=e.screenOptions,p=e.screenLayout,v=e.onAction,y=e.getState,h=e.setState,k=e.addListener,b=e.addKeyedListener,C=e.onRouteFocus,j=e.router,x=e.emitter,O=o.useContext(_r(d[6]).ThemeContext),w=o.useState({}),S=(0,r.default)(w,2),_=S[0],P=S[1],M=o.useContext(_r(d[7]).NavigationBuilderContext),N=M.onDispatchAction,R=M.onOptionsChange,L=M.scheduleUpdate,A=M.flushUpdates,D=M.stackRef,U=o.useMemo(function(){return{navigation:f,onAction:v,addListener:k,addKeyedListener:b,onRouteFocus:C,onDispatchAction:N,onOptionsChange:R,scheduleUpdate:L,flushUpdates:A,stackRef:D}},[f,v,k,b,C,N,R,L,A,D]),B=(0,_r(d[8]).useNavigationCache)({state:s,getState:y,navigation:f,setOptions:P,router:j,emitter:x}),W=B.base,E=B.navigations,F=(0,_r(d[9]).useRouteCache)(s.routes),K=function(e,t,r){var o=c[e.name],i=o.props;return[l].concat((0,n.default)(o.options?o.options.filter(Boolean):[]),[i.options,r]).reduce(function(n,r){return Object.assign(n,'function'!=typeof r?r:r({route:e,navigation:t,theme:O}))},{})},T=function(e,n,r,o){var s,f,l=c[e.name],v=l.props,k=null!=(s=null!=(f=v.layout)?f:l.layout)?s:p,b=(0,i.jsx)(_r(d[10]).SceneView,{navigation:n,route:e,screen:v,routeState:o,getState:y,setState:h,options:r,clearOptions:function(){return P(function(n){if(e.key in n){var r=e.key;n[r];return(0,t.default)(n,[r].map(u))}return n})}});return null!=k&&(b=k({route:e,navigation:n,options:r,theme:O,children:b})),(0,i.jsx)(_r(d[7]).NavigationBuilderContext.Provider,{value:U,children:(0,i.jsx)(_r(d[11]).NavigationContext.Provider,{value:n,children:(0,i.jsx)(_r(d[12]).NavigationRouteContext.Provider,{value:e,children:b})})},e.key)},V=F.reduce(function(e,t,n){var r=E[t.key],o=K(t,r,_[t.key]),i=T(t,r,o,s.routes[n].state);return e[t.key]={route:t,navigation:r,render:function(){return i},options:o},e},{});return{describe:function(e,t){if(!t){if(!(e.key in V))throw new Error(`Couldn't find a route with the key ${e.key}.`);return V[e.key]}var n=W,r=K(e,n,{}),o=T(e,n,r,void 0);return{route:e,navigation:n,render:function(){return o},options:r}},descriptors:V}};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?o(u,s,i):u[s]=e[s]);return u})(e,t)})(_r(d[4])),i=_r(d[5]);function u(e){var t=s(e,"string");return"symbol"==typeof t?t:t+""}function s(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},1030,[1,135,6,38,174,219,983,977,1031,1000,1032,985,988]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationCache=function(e){var i=e.state,u=e.getState,c=e.navigation,s=e.setOptions,f=e.router,l=e.emitter,p=(r.useContext(_r(d[4]).NavigationBuilderContext).stackRef,r.useMemo(function(){c.emit;var e=(0,n.default)(c,o),t=Object.assign({},f.actionCreators,_r(d[5]).CommonActions),r=function(){throw new Error('Actions cannot be dispatched from a placeholder screen.')},i=Object.keys(t).reduce(function(e,t){return e[t]=r,e},{});return Object.assign({},e,i,{addListener:function(){return function(){}},removeListener:function(){},dispatch:r,getParent:function(t){return void 0!==t&&t===e.getId()?p:e.getParent(t)},setOptions:function(){throw new Error('Options cannot be set from a placeholder screen.')},isFocused:function(){return!1}})},[c,f.actionCreators])),y=r.useMemo(function(){return{current:{}}},[p,u,c,s,l]);return y.current=i.routes.reduce(function(e,n){var r=y.current[n.key];if(r)e[n.key]=r;else{var o=function(e){var t='function'==typeof e?e(u()):e;null!=t&&c.dispatch(Object.assign({source:n.key},t))},i=function(e){try{e()}finally{}},v=Object.assign({},f.actionCreators,_r(d[5]).CommonActions),O=Object.keys(v).reduce(function(e,t){return e[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i(function(){return o(v[t].apply(v,n))})},e},{});e[n.key]=Object.assign({},p,O,l.create(n.key),{dispatch:function(e){return i(function(){return o(e)})},getParent:function(t){return void 0!==t&&t===p.getId()?e[n.key]:p.getParent(t)},setOptions:function(e){s(function(r){return Object.assign({},r,(0,t.default)({},n.key,Object.assign({},r[n.key],e)))})},isFocused:function(){var e=p.getState();return e.routes[e.index].key===n.key&&(!c||c.isFocused())}})}return e},{}),{base:p,navigations:y.current}};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?o(u,c,i):u[c]=e[c]);return u})(e,t)})(_r(d[3])),o=["emit"]},1031,[1,194,135,174,977,966]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SceneView=function(e){var i=e.screen,s=e.route,u=e.navigation,c=e.routeState,l=e.getState,f=e.setState,p=e.options,v=e.clearOptions,y=n.useRef(void 0),k=n.useCallback(function(){return y.current},[]),b=(0,_r(d[4]).useOptionsGetters)({key:s.key,options:p,navigation:u}).addOptionsGetter,j=n.useCallback(function(e){y.current=e},[]),h=n.useCallback(function(){var e=l().routes.find(function(e){return e.key===s.key});return e?e.state:void 0},[l,s.key]),O=n.useCallback(function(e){var n=l();f(Object.assign({},n,{routes:n.routes.map(function(n){if(n.key!==s.key)return n;var r=Object.assign({},n,{state:e});if(r.params&&('state'in r.params&&'object'==typeof r.params.state&&null!==r.params.state||'screen'in r.params&&'string'==typeof r.params.screen)){var i=r.params,u=(i.state,i.screen,i.params,i.initial,(0,t.default)(i,o));Object.keys(u).length?r.params=u:delete r.params}return r})}))},[l,s.key,f]),C=n.useRef(!0);n.useEffect(function(){C.current=!1}),n.useEffect(function(){return v},[]);var S=n.useCallback(function(){return C.current},[]),_=n.useContext(_r(d[5]).NavigationFocusedRouteStateContext),x=n.useMemo(function(){var e={routes:[{key:s.key,name:s.name,params:s.params,path:s.path}]},t=function(n){var r=null==n?void 0:n.routes[0];return r?{routes:[Object.assign({},r,{state:t(r.state)})]}:e};return t(_)},[_,s.key,s.name,s.params,s.path]),M=n.useMemo(function(){return{state:c,getState:h,setState:O,getKey:k,setKey:j,getIsInitial:S,addOptionsGetter:b}},[c,h,O,k,j,S,b]),P=i.getComponent?i.getComponent():i.component;return(0,r.jsx)(_r(d[6]).NavigationStateContext.Provider,{value:M,children:(0,r.jsx)(_r(d[5]).NavigationFocusedRouteStateContext.Provider,{value:x,children:(0,r.jsx)(_r(d[7]).EnsureSingleNavigator,{children:(0,r.jsx)(_r(d[8]).StaticContainer,{name:i.name,render:P||i.children,navigation:u,route:s,children:void 0!==P?(0,r.jsx)(P,{navigation:u,route:s}):void 0!==i.children?i.children({navigation:u,route:s}):null})})})})};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,s)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(s,u,i):s[u]=e[u]);return s})(e,t)})(_r(d[2])),r=_r(d[3]),o=["state","screen","params","initial"]},1032,[1,135,174,219,976,1033,958,981,1034]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationFocusedRouteStateContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?r(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]));_e.NavigationFocusedRouteStateContext=e.createContext(void 0)},1033,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.StaticContainer=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.StaticContainer=e.memo(function(e){return e.children},function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o of r)if('children'!==o&&e[o]!==t[o])return!1;return!0})},1034,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useCurrentRender=function(t){var n=t.state,r=t.navigation,o=t.descriptors,u=e.useContext(_r(d[1]).CurrentRenderContext);u&&r.isFocused()&&(u.options=o[n.routes[n.index].key].options)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},1035,[174,984]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useComponent=function(t){var u=e.useRef(t);return u.current=t,e.useEffect(function(){u.current=null}),e.useRef(function(e){var t=e.children,o=u.current;if(null===o)throw new Error('The returned component must be rendered in the same render phase as the hook.');return(0,r.jsx)(n,{render:o,children:t})}).current};var e=(function(e,r){if("function"==typeof WeakMap)var n=new WeakMap,t=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=r?t:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?u(f,c,o):f[c]=e[c]);return f})(e,r)})(_r(d[0])),r=_r(d[1]);var n=function(e){return(0,e.render)(e.children)}},1036,[174,219]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationStateListenerProvider=function(e){var o=e.state,i=e.children,c=t.useRef([]),f=(0,r.default)(function(){return o}),s=(0,r.default)(function(e){return c.current.push(e),function(){c.current=c.current.filter(function(t){return t!==e})}});(0,_r(d[5]).useClientLayoutEffect)(function(){c.current.forEach(function(e){return e()})},[o]);var l=t.useMemo(function(){return{getState:f,subscribe:s}},[f,s]);return(0,n.jsx)(u.Provider,{value:l,children:i})},_e.useNavigationState=function(e){var r=t.useContext(u);if(null==r)throw new Error("Couldn't get the navigation state. Is your component inside a navigator?");return(0,_r(d[4]).useSyncExternalStoreWithSelector)(r.subscribe,r.getState,r.getState,e)};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,i)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?u(i,c,o):i[c]=e[c]);return i})(e,t)})(_r(d[1])),r=e(_r(d[2])),n=_r(d[3]);var u=t.createContext(void 0)},1037,[1,174,956,219,1038,1022]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},1038,[1039]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * use-sync-external-store-with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var u=r(d[0]);var n="function"==typeof Object.is?Object.is:function(u,n){return u===n&&(0!==u||1/u==1/n)||u!=u&&n!=n},t=u.useSyncExternalStore,l=u.useRef,c=u.useEffect,f=u.useMemo,o=u.useDebugValue;e.useSyncExternalStoreWithSelector=function(u,v,s,S,h){var V=l(null);if(null===V.current){var b={hasValue:!1,value:null};V.current=b}else b=V.current;V=f(function(){function u(u){if(!c){if(c=!0,t=u,u=S(u),void 0!==h&&b.hasValue){var f=b.value;if(h(f,u))return l=f}return l=u}if(f=l,n(t,u))return f;var o=S(u);return void 0!==h&&h(f,o)?(t=u,f):(t=u,l=o)}var t,l,c=!1,f=void 0===s?null:s;return[function(){return u(v())},null===f?void 0:function(){return u(f())}]},[v,s,S,h]);var y=t(u,V[0],V[1]);return c(function(){b.hasValue=!0,b.value=y},[y]),o(y),y}},1039,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useNavigationContainerRef=function(){var t=e.useRef(null);null==t.current&&(t.current=(0,_r(d[1]).createNavigationContainerRef)());return t.current};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},1040,[174,965]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.usePreventRemove=function(e,u){var o=n.useState(function(){return(0,_r(d[4]).nanoid)()}),f=(0,t.default)(o,1)[0],i=(0,_r(d[5]).useNavigation)(),c=(0,_r(d[6]).useRoute)().key,s=(0,_r(d[7]).usePreventRemoveContext)().setPreventRemove;n.useEffect(function(){return s(f,c,e),function(){s(f,c,!1)}},[s,f,c,e]);var v=(0,r.default)(function(t){e&&(t.preventDefault(),u({data:t.data}))});n.useEffect(function(){return null==i?void 0:i.addListener('beforeRemove',v)},[i,v])};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?u(f,i,o):f[i]=e[i]);return f})(e,t)})(_r(d[2])),r=e(_r(d[3]))},1041,[1,38,174,956,968,1015,992,1042]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.usePreventRemoveContext=function(){var t=e.useContext(_r(d[1]).PreventRemoveContext);if(null==t)throw new Error("Couldn't find the prevent remove context. Is your component inside NavigationContent?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},1042,[174,989]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useStateForPath=function(){return e.useContext(_r(d[1]).NavigationFocusedRouteStateContext)};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[0]))},1043,[174,1033]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useTheme=function(){var t=e.useContext(_r(d[1]).ThemeContext);if(null==t)throw new Error("Couldn't find a theme. Is your component inside NavigationContainer or does it have a theme?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,t)})(_r(d[0]))},1044,[174,983]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinkProps=function(r){var o,i=r.screen,l=r.params,u=r.href,s=r.action,f=e.useContext(_r(d[2]).NavigationContainerRefContext),c=e.useContext(_r(d[2]).NavigationHelpersContext),p=e.useContext(_r(d[3]).LinkingContext).options,v=null!=(o=null==p?void 0:p.getPathFromState)?o:_r(d[2]).getPathFromState;return{href:null!=u?u:'web'===t.Platform.OS&&null!=i?v({routes:[{name:i,params:l,state:n(l)}]},null==p?void 0:p.config):void 0,role:'link',onPress:function(e){var n=!1;if('web'===t.Platform.OS&&e){var r='metaKey'in e&&e.metaKey||'altKey'in e&&e.altKey||'ctrlKey'in e&&e.ctrlKey||'shiftKey'in e&&e.shiftKey,o=!('button'in e)||null==e.button||0===e.button,u=!e.currentTarget||!('target'in e.currentTarget)||[void 0,null,'','self'].includes(e.currentTarget.target);!r&&o&&u&&(null==e.preventDefault||e.preventDefault(),n=!0)}else null==e||null==e.preventDefault||e.preventDefault(),n=!0;if(n)if(s)if(c)c.dispatch(s);else{if(!f)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");f.dispatch(s)}else null==c||c.navigate(i,l)}}};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(l,u,i):l[u]=e[u]);return l})(e,t)})(_r(d[0])),t=_r(d[1]);var n=function(e){return null!=e&&e.state?e.state:null!=e&&e.screen?{routes:[{name:e.screen,params:e.params,state:e.screen?n(e.params):void 0}]}:void 0}},1045,[174,2,954,1046]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.LinkingContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));(_e.LinkingContext=e.createContext({get options(){throw new Error("Couldn't find a LinkingContext context.")}})).displayName='LinkingContext'},1046,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.LocaleDirContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));(_e.LocaleDirContext=e.createContext('ltr')).displayName='LocaleDirContext'},1047,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NavigationContainer=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?r(o,u,l):o[u]=e[u]);return o})(e,t)})(_r(d[3])),r=_r(d[4]),l=e(_r(d[5])),o=_r(d[6]),u=["direction","theme","linking","fallback","documentTitle","onReady","onStateChange"];function c(e,c){var f=e.direction,s=void 0===f?r.I18nManager.getConstants().isRTL?'rtl':'ltr':f,v=e.theme,h=void 0===v?_r(d[7]).DefaultTheme:v,p=e.linking,S=e.fallback,C=void 0===S?null:S,P=e.documentTitle,k=e.onReady,b=e.onStateChange,O=(0,n.default)(e,u),T=!!p&&!1!==p.enabled;null!=p&&p.config&&(0,_r(d[8]).validatePathConfig)(p.config);var _=i.useRef(null);(0,_r(d[9]).useBackButton)(_),(0,_r(d[10]).useDocumentTitle)(_,P);var j=i.useState(),x=(0,t.default)(j,2),L=x[0],y=x[1],R=(0,_r(d[11]).useLinking)(_,Object.assign({enabled:T,prefixes:[]},p),y).getInitialState,A=i.useMemo(function(){return{options:p}},[p]),F=i.useMemo(function(){return{lastUnhandledLink:L,setLastUnhandledLink:y}},[L,y]),M=(0,l.default)(function(){var e,t=null==(e=_.current)||null==(e=e.getCurrentRoute())?void 0:e.path;y(function(e){if(e!==t)return e}),null==k||k()}),D=(0,l.default)(function(e){var t,n=null==(t=_.current)||null==(t=t.getCurrentRoute())?void 0:t.path;y(function(e){if(e!==n)return e}),null==b||b(e)});i.useEffect(function(){_.current&&REACT_NAVIGATION_DEVTOOLS.set(_.current,{get linking(){var e,t,n,i;return Object.assign({},p,{enabled:T,prefixes:null!=(e=null==p?void 0:p.prefixes)?e:[],getStateFromPath:null!=(t=null==p?void 0:p.getStateFromPath)?t:_r(d[8]).getStateFromPath,getPathFromState:null!=(n=null==p?void 0:p.getPathFromState)?n:_r(d[8]).getPathFromState,getActionFromState:null!=(i=null==p?void 0:p.getActionFromState)?i:_r(d[8]).getActionFromState})}})});var I=(0,_r(d[12]).useThenable)(R),N=(0,t.default)(I,2),w=N[0],E=N[1];return i.useImperativeHandle(c,function(){return _.current}),null!=O.initialState||!T||w?(0,o.jsx)(_r(d[13]).LocaleDirContext.Provider,{value:s,children:(0,o.jsx)(_r(d[14]).UnhandledLinkingContext.Provider,{value:F,children:(0,o.jsx)(_r(d[15]).LinkingContext.Provider,{value:A,children:(0,o.jsx)(_r(d[8]).BaseNavigationContainer,Object.assign({},O,{theme:h,onReady:M,onStateChange:D,initialState:null==O.initialState?E:O.initialState,ref:_}))})})}):(0,o.jsx)(_r(d[13]).LocaleDirContext.Provider,{value:s,children:(0,o.jsx)(_r(d[8]).ThemeProvider,{value:h,children:C})})}globalThis.REACT_NAVIGATION_DEVTOOLS=new WeakMap;_e.NavigationContainer=i.forwardRef(c)},1048,[1,38,135,174,2,956,219,952,954,1049,1050,1051,1053,1047,1054,1046]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useBackButton=function(r){e.useEffect(function(){var e=t.BackHandler.addEventListener('hardwareBackPress',function(){var e=r.current;return null!=e&&(!!e.canGoBack()&&(e.goBack(),!0))});return function(){return e.remove()}},[r])};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,o,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,c)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?u(c,f,o):c[f]=e[f]);return c})(e,t)})(_r(d[0])),t=_r(d[1])},1049,[174,2]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDocumentTitle=function(){}},1050,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinking=function(r,n,u){var i=n.enabled,o=void 0===i||i,c=n.prefixes,f=n.filter,s=n.config,l=n.getInitialURL,v=void 0===l?function(){return Promise.race([t.Linking.getInitialURL(),new Promise(function(e){setTimeout(e,150)})])}:l,p=n.subscribe,h=void 0===p?function(e){var r,n=function(t){var r=t.url;return e(r)},u=t.Linking.addEventListener('url',n),i=null==(r=t.Linking.removeEventListener)?void 0:r.bind(t.Linking);return function(){null!=u&&u.remove?u.remove():null==i||i('url',n)}}:p,R=n.getStateFromPath,L=void 0===R?_r(d[2]).getStateFromPath:R,P=n.getActionFromState,y=void 0===P?_r(d[2]).getActionFromState:P,b=(0,_r(d[2]).useNavigationIndependentTree)();e.useEffect(function(){},[o,b]);var k=e.useRef(o),_=e.useRef(c),F=e.useRef(f),w=e.useRef(s),S=e.useRef(v),U=e.useRef(L),j=e.useRef(y);e.useEffect(function(){k.current=o,_.current=c,F.current=f,w.current=s,S.current=v,U.current=L,j.current=y});var x=e.useCallback(function(e){if(e&&(!F.current||F.current(e))){var t=(0,_r(d[3]).extractPathFromURL)(_.current,e);return void 0!==t?U.current(t,w.current):void 0}},[]),E=e.useCallback(function(){var e;if(k.current){var t=S.current();if(null!=t){if('string'!=typeof t)return t.then(function(e){var t=x(e);return'string'==typeof e&&u((0,_r(d[3]).extractPathFromURL)(c,e)),t});u((0,_r(d[3]).extractPathFromURL)(c,t))}e=x(t)}var r={then:function(t){return Promise.resolve(t?t(e):e)},catch:function(){return r}};return r},[x,u,c]);return e.useEffect(function(){return h(function(e){if(o){var t=r.current,n=t?x(e):void 0;if(t&&n){u((0,_r(d[3]).extractPathFromURL)(c,e));var i=t.getRootState();if(n.routes.some(function(e){return!(null!=i&&i.routeNames.includes(e.name))}))return;var f=j.current(n,w.current);if(void 0!==f)try{t.dispatch(f)}catch(t){console.warn(`An error occurred when trying to handle the link '${e}': ${'object'==typeof t&&null!=t&&'message'in t?t.message:t}`)}else t.resetRoot(n)}}})},[o,x,u,c,r,h]),{getInitialState:E}};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((i=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(i.get||i.set)?u(o,c,i):o[c]=e[c]);return o})(e,t)})(_r(d[0])),t=_r(d[1])},1051,[174,2,954,1052]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.extractPathFromURL=function(t,c){for(var u of t){var o,f,p=null!=(o=null==(f=u.match(/^[^:]+:/))?void 0:f[0])?o:'',s=u.replace(new RegExp(`^${(0,n.default)(p)}`),'').replace(/\/+/g,'/').replace(/^\//,''),v=new RegExp(`^${(0,n.default)(p)}(/)*${s.split('.').map(function(t){return'*'===t?'[^/]+':(0,n.default)(t)}).join('\\.')}`),$=c.split('?'),_=(0,l.default)($),h=_[0],j=_.slice(1),x=h.replace(/\/+/g,'/').concat(j.length?`?${j.join('?')}`:'');if(v.test(x))return x.replace(v,'')}return};var l=t(r(d[1])),n=t(r(d[2]))},1052,[1,666,1011]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useThenable=function(e){var u=r.useState(e),f=(0,n.default)(u,1)[0],o=[!1,void 0];f.then(function(e){o=[!0,e]});var i=r.useState(o),c=(0,n.default)(i,2),l=c[0],p=c[1],s=(0,n.default)(l,1)[0];return r.useEffect(function(){var e=!1,n=(function(){var n=(0,t.default)(function*(){var t;try{t=yield f}finally{e||p([!0,t])}});return function(){return n.apply(this,arguments)}})();return s||n(),function(){e=!0}},[f,s]),l};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?r:n){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?u(o,i,f):o[i]=e[i]);return o})(e,t)})(_r(d[3]))},1053,[1,345,38,174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnhandledLinkingContext=void 0;var e=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var o,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=n?r:t){if(o.has(e))return o.get(e);o.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(l,f,i):l[f]=e[f]);return l})(e,n)})(_r(d[0]));var n="Couldn't find an UnhandledLinkingContext context.";(_e.UnhandledLinkingContext=e.createContext({get lastUnhandledLink(){throw new Error(n)},get setLastUnhandledLink(){throw new Error(n)}})).displayName='UnhandledLinkingContext'},1054,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ServerContainer=void 0;var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,r)})(_r(d[0])),r=_r(d[1]);_e.ServerContainer=e.forwardRef(function(t,n){var o=t.children,i=t.location;e.useEffect(function(){console.error("'ServerContainer' should only be used on the server with 'react-dom/server' for SSR.")},[]);var u={};if(n){var f={getCurrentOptions:function(){return u.options}};'function'==typeof n?n(f):n.current=f}return(0,r.jsx)(_r(d[2]).ServerContext.Provider,{value:{location:i},children:(0,r.jsx)(_r(d[3]).CurrentRenderContext.Provider,{value:u,children:o})})})},1055,[174,219,1056,954]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ServerContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.ServerContext=e.createContext(void 0)},1056,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var n=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.createStaticNavigation=function(n){var l=(0,_r(d[4]).createComponentForStaticNavigation)(n,'RootNavigator');function r(r,u){var c,f,s=r.linking,v=(0,e.default)(r,o),p=t.useMemo(function(){var e,t,i,o=(0,_r(d[4]).createPathConfigForStaticNavigation)(n,{initialRouteName:null==s||null==(e=s.config)?void 0:e.initialRouteName},'auto'===(null==s?void 0:s.enabled));if(o)return{path:null==s||null==(t=s.config)?void 0:t.path,initialRouteName:null==s||null==(i=s.config)?void 0:i.initialRouteName,screens:o}},[null==s?void 0:s.enabled,null==s||null==(c=s.config)?void 0:c.path,null==s||null==(f=s.config)?void 0:f.initialRouteName]),b=t.useMemo(function(){if(s){var n='boolean'==typeof s.enabled?s.enabled:null!=(null==p?void 0:p.screens);return Object.assign({},s,{enabled:n,config:p})}},[s,p]);if(!0===(null==s?void 0:s.enabled)&&null==(null==p?void 0:p.screens))throw new Error("Linking is enabled but no linking configuration was found for the screens.\n\nTo solve this:\n- Specify a 'linking' property for the screens you want to link to.\n- Or set 'linking.enabled' to 'auto' to generate paths automatically.\n\nSee usage guide: https://reactnavigation.org/docs/static-configuration#linking");return(0,i.jsx)(_r(d[5]).NavigationContainer,Object.assign({},v,{ref:u,linking:b,children:(0,i.jsx)(l,{})}))}return t.forwardRef(r)};var e=n(_r(d[1])),t=(function(n,e){if("function"==typeof WeakMap)var t=new WeakMap,i=new WeakMap;return(function(n,e){if(!e&&n&&n.__esModule)return n;var o,l,r={__proto__:null,default:n};if(null===n||"object"!=typeof n&&"function"!=typeof n)return r;if(o=e?i:t){if(o.has(n))return o.get(n);o.set(n,r)}for(var u in n)"default"!==u&&{}.hasOwnProperty.call(n,u)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,u))&&(l.get||l.set)?o(r,u,l):r[u]=n[u]);return r})(n,e)})(_r(d[2])),i=_r(d[3]),o=["linking"]},1057,[1,135,174,219,954,1048]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinkBuilder=function(){var e,n,o,r=t.useContext(_r(d[1]).NavigationHelpersContext),u=t.useContext(_r(d[1]).NavigationRouteContext),i=t.useContext(_r(d[2]).LinkingContext).options,l=(0,_r(d[1]).useStateForPath)(),s=null!=(e=null==i?void 0:i.getPathFromState)?e:_r(d[1]).getPathFromState,f=null!=(n=null==i?void 0:i.getStateFromPath)?n:_r(d[1]).getStateFromPath,c=null!=(o=null==i?void 0:i.getActionFromState)?o:_r(d[1]).getActionFromState,v=t.useCallback(function(t,e){var n;if(!1!==(null==i?void 0:i.enabled)){var o=!!(r&&null!=u&&u.key&&l)&&(u.key===(null==(n=(0,_r(d[1]).findFocusedRoute)(l))?void 0:n.key)&&r.getState().routes.some(function(t){return t.key===u.key})),f={routes:[{name:t,params:e}]},c=function(t){if(t){var e=t.routes[0];return o&&!e.state?f:{routes:[Object.assign({},e,{state:c(e.state)})]}}return f},v=c(l);return s(v,null==i?void 0:i.config)}},[null==i?void 0:i.enabled,null==i?void 0:i.config,null==u?void 0:u.key,r,l,s]),p=t.useCallback(function(t){if(!t.startsWith('/'))throw new Error(`The href must start with '/' (${t}).`);var e=f(t,null==i?void 0:i.config);if(e){var n=c(e,null==i?void 0:i.config);return null!=n?n:_r(d[1]).CommonActions.reset(e)}throw new Error('Failed to parse the href to a navigation state.')},[null==i?void 0:i.config,f,c]);return{buildHref:v,buildAction:p}};var t=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,u,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(r=e?o:n){if(r.has(t))return r.get(t);r.set(t,i)}for(var l in t)"default"!==l&&{}.hasOwnProperty.call(t,l)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,l))&&(u.get||u.set)?r(i,l,u):i[l]=t[l]);return i})(t,e)})(_r(d[0]))},1058,[174,954,1046]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLinkTo=function(){var t=e.useContext(_r(d[1]).NavigationContainerRefContext),n=(0,_r(d[2]).useLinkBuilder)().buildAction;return e.useCallback(function(e){if(void 0===t)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");var r=n(e);t.dispatch(r)},[n,t])};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},1059,[174,954,1058]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useLocale=function(){var t=e.useContext(_r(d[1]).LocaleDirContext);if(void 0===t)throw new Error("Couldn't determine the text direction. Is your component inside NavigationContainer?");return{direction:t}};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},1060,[174,1047]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useScrollToTop=function(t){var n=e.useContext(_r(d[1]).NavigationContext),o=(0,_r(d[1]).useRoute)();if(void 0===n)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");e.useEffect(function(){for(var e=[],u=n;u;)'tab'===u.getState().type&&e.push(u),u=u.getParent();if(0!==e.length){var c=e.map(function(u){return u.addListener('tabPress',function(u){var c=n.isFocused(),l=e.includes(n)||n.getState().routes[0].key===o.key;requestAnimationFrame(function(){var e=r(t);c&&l&&e&&!u.defaultPrevented&&('scrollToTop'in e?e.scrollToTop():'scrollTo'in e?e.scrollTo({y:0,animated:!0}):'scrollToOffset'in e?e.scrollToOffset({offset:0,animated:!0}):'scrollResponderScrollTo'in e&&e.scrollResponderScrollTo({y:0,animated:!0}))})})});return function(){c.forEach(function(e){return e()})}}},[n,t,o.key])};var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,u,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,c)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(u.get||u.set)?o(c,l,u):c[l]=e[l]);return c})(e,r)})(_r(d[0]));function r(e){return null==e.current?null:'scrollToTop'in e.current||'scrollTo'in e.current||'scrollToOffset'in e.current||'scrollResponderScrollTo'in e.current?e.current:'getScrollResponder'in e.current?e.current.getScrollResponder():'getNode'in e.current?e.current.getNode():e.current}},1061,[174,954]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1062,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useIsKeyboardShown=function(){var e=t.useState(!1),o=(0,r.default)(e,2),u=o[0],i=o[1];return t.useEffect(function(){var e,r=function(){return i(!0)},t=function(){return i(!1)};return e='ios'===n.Platform.OS?[n.Keyboard.addListener('keyboardWillShow',r),n.Keyboard.addListener('keyboardWillHide',t)]:[n.Keyboard.addListener('keyboardDidShow',r),n.Keyboard.addListener('keyboardDidHide',t)],function(){e.forEach(function(e){return e.remove()})}},[]),u};var r=e(_r(d[1])),t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=r?n:t){if(o.has(e))return o.get(e);o.set(e,i)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(i,f,u):i[f]=e[f]);return i})(e,r)})(_r(d[2])),n=_r(d[3])},1063,[1,38,174,2]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.BottomTabBarHeightCallbackContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?n(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.BottomTabBarHeightCallbackContext=e.createContext(void 0)},1064,[174]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={Assets:!0,Background:!0,Button:!0,getDefaultSidebarWidth:!0,getDefaultHeaderHeight:!0,getHeaderTitle:!0,Header:!0,HeaderBackButton:!0,HeaderBackContext:!0,HeaderBackground:!0,HeaderButton:!0,HeaderHeightContext:!0,HeaderShownContext:!0,HeaderTitle:!0,useHeaderHeight:!0,getLabel:!0,Label:!0,MissingIcon:!0,PlatformPressable:!0,ResourceSavingView:!0,SafeAreaProviderCompat:!0,Screen:!0,Text:!0,useFrameSize:!0};e.Assets=void 0,Object.defineProperty(e,"Background",{enumerable:!0,get:function(){return r(d[1]).Background}}),Object.defineProperty(e,"Button",{enumerable:!0,get:function(){return r(d[2]).Button}}),Object.defineProperty(e,"Header",{enumerable:!0,get:function(){return r(d[3]).Header}}),Object.defineProperty(e,"HeaderBackButton",{enumerable:!0,get:function(){return r(d[4]).HeaderBackButton}}),Object.defineProperty(e,"HeaderBackContext",{enumerable:!0,get:function(){return r(d[5]).HeaderBackContext}}),Object.defineProperty(e,"HeaderBackground",{enumerable:!0,get:function(){return r(d[6]).HeaderBackground}}),Object.defineProperty(e,"HeaderButton",{enumerable:!0,get:function(){return r(d[7]).HeaderButton}}),Object.defineProperty(e,"HeaderHeightContext",{enumerable:!0,get:function(){return r(d[8]).HeaderHeightContext}}),Object.defineProperty(e,"HeaderShownContext",{enumerable:!0,get:function(){return r(d[9]).HeaderShownContext}}),Object.defineProperty(e,"HeaderTitle",{enumerable:!0,get:function(){return r(d[10]).HeaderTitle}}),Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return r(d[11]).Label}}),Object.defineProperty(e,"MissingIcon",{enumerable:!0,get:function(){return r(d[12]).MissingIcon}}),Object.defineProperty(e,"PlatformPressable",{enumerable:!0,get:function(){return r(d[13]).PlatformPressable}}),Object.defineProperty(e,"ResourceSavingView",{enumerable:!0,get:function(){return r(d[14]).ResourceSavingView}}),Object.defineProperty(e,"SafeAreaProviderCompat",{enumerable:!0,get:function(){return r(d[15]).SafeAreaProviderCompat}}),Object.defineProperty(e,"Screen",{enumerable:!0,get:function(){return r(d[16]).Screen}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return r(d[17]).Text}}),Object.defineProperty(e,"getDefaultHeaderHeight",{enumerable:!0,get:function(){return r(d[18]).getDefaultHeaderHeight}}),Object.defineProperty(e,"getDefaultSidebarWidth",{enumerable:!0,get:function(){return r(d[19]).getDefaultSidebarWidth}}),Object.defineProperty(e,"getHeaderTitle",{enumerable:!0,get:function(){return r(d[20]).getHeaderTitle}}),Object.defineProperty(e,"getLabel",{enumerable:!0,get:function(){return r(d[21]).getLabel}}),Object.defineProperty(e,"useFrameSize",{enumerable:!0,get:function(){return r(d[22]).useFrameSize}}),Object.defineProperty(e,"useHeaderHeight",{enumerable:!0,get:function(){return r(d[23]).useHeaderHeight}});var u=t(r(d[24])),o=t(r(d[25])),c=t(r(d[26])),f=t(r(d[27])),b=t(r(d[28]));Object.keys(r(d[29])).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===r(d[29])[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r(d[29])[t]}}))});e.Assets=[u.default,o.default,b.default,f.default,c.default]},1065,[1,1066,1067,1078,1093,1106,1102,1099,1107,1091,1101,1108,1109,1076,1110,1111,1112,1077,1100,1113,1114,1115,1090,1116,1094,1095,1104,1105,1079,1117]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Background=function(e){var u=e.style,f=(0,t.default)(e,o),i=(0,_r(d[5]).useTheme)().colors;return(0,n.jsx)(r.Animated.View,Object.assign({},f,{style:[{flex:1,backgroundColor:i.background},u]}))};var t=e(_r(d[1])),r=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i])})(e,t)})(_r(d[2])),_r(d[3])),n=_r(d[4]),o=["style"]},1066,[1,135,174,2,219,949]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Button=function(e){return'screen'in e||'action'in e?(0,i.jsx)(c,Object.assign({},e)):(0,i.jsx)(f,Object.assign({},e))};var t=e(_r(d[1])),r=e(_r(d[2])),n=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?i(s,l,o):s[l]=e[l])})(e,t)})(_r(d[3])),_r(d[4])),i=_r(d[5]),o=["screen","params","action","href"],s=["variant","color","android_ripple","style","children"];var l=40;function c(e){var r=e.screen,n=e.params,s=e.action,l=e.href,c=(0,t.default)(e,o),u=(0,_r(d[6]).useLinkProps)({screen:r,params:n,action:s,href:l});return(0,i.jsx)(f,Object.assign({},c,u))}function f(e){var o,c,f=e.variant,p=void 0===f?'tinted':f,b=e.color,h=e.android_ripple,v=e.style,j=e.children,y=(0,t.default)(e,s),_=(0,_r(d[6]).useTheme)(),O=_.colors,k=_.fonts,x=null!=b?b:O.primary;switch(p){case'plain':o='transparent',c=x;break;case'tinted':o=(0,r.default)(x).fade(.85).string(),c=x;break;case'filled':o=x,c=(0,r.default)(x).isDark()?'white':(0,r.default)(x).darken(.71).string()}return(0,i.jsx)(_r(d[7]).PlatformPressable,Object.assign({},y,{android_ripple:Object.assign({radius:l,color:(0,r.default)(c).fade(.85).string()},h),pressOpacity:'ios'===n.Platform.OS?void 0:1,hoverEffect:{color:c},style:[{backgroundColor:o},u.button,v],children:(0,i.jsx)(_r(d[8]).Text,{style:[{color:c},k.regular,u.text],children:j})}))}var u=n.StyleSheet.create({button:{paddingHorizontal:24,paddingVertical:10,borderRadius:l},text:{fontSize:14,lineHeight:20,letterSpacing:.1,textAlign:'center'}})},1067,[1,135,1068,174,2,219,949,1076,1077]);
__d(function(g,r,_i,_a,_m,e,d){var t=r(d[0]),o=r(d[1]),n=['keyword','gray','hex'],a={};for(var i of Object.keys(r(d[2])))a[o(r(d[2])[i].labels).sort().join('')]=i;var h={};function l(t,i){if(!(this instanceof l))return new l(t,i);if(i&&i in n&&(i=null),i&&!(i in r(d[2])))throw new Error('Unknown model: '+i);var s,c;if(null==t)this.model='rgb',this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=o(t.color),this.valpha=t.valpha;else if('string'==typeof t){var u=r(d[3]).get(t);if(null===u)throw new Error('Unable to parse color from string: '+t);this.model=u.model,c=r(d[2])[this.model].channels,this.color=u.value.slice(0,c),this.valpha='number'==typeof u.value[c]?u.value[c]:1}else if(t.length>0){this.model=i||'rgb',c=r(d[2])[this.model].channels;var f=Array.prototype.slice.call(t,0,c);this.color=b(f,c),this.valpha='number'==typeof t[c]?t[c]:1}else if('number'==typeof t)this.model='rgb',this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var v=Object.keys(t);'alpha'in t&&(v.splice(v.indexOf('alpha'),1),this.valpha='number'==typeof t.alpha?t.alpha:0);var p=v.sort().join('');if(!(p in a))throw new Error('Unable to parse color from object: '+JSON.stringify(t));this.model=a[p];var m=r(d[2])[this.model].labels,y=[];for(s=0;s<m.length;s++)y.push(t[m[s]]);this.color=b(y)}if(h[this.model])for(c=r(d[2])[this.model].channels,s=0;s<c;s++){var w=h[this.model][s];w&&(this.color[s]=w(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var n=this.model in r(d[3]).to?this:this.rgb(),a=1===(n=n.round('number'==typeof t?t:1)).valpha?n.color:[].concat(o(n.color),[this.valpha]);return r(d[3]).to[n.model](a)},percentString:function(t){var n=this.rgb().round('number'==typeof t?t:1),a=1===n.valpha?n.color:[].concat(o(n.color),[this.valpha]);return r(d[3]).to.rgb.percent(a)},array:function(){return 1===this.valpha?o(this.color):[].concat(o(this.color),[this.valpha])},object:function(){for(var t={},o=r(d[2])[this.model].channels,n=r(d[2])[this.model].labels,a=0;a<o;a++)t[n[a]]=this.color[a];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l([].concat(o(this.color.map(f(t))),[this.valpha]),this.model)},alpha:function(t){return void 0!==t?new l([].concat(o(this.color),[Math.max(0,Math.min(1,t))]),this.model):this.valpha},red:v('rgb',0,p(255)),green:v('rgb',1,p(255)),blue:v('rgb',2,p(255)),hue:v(['hsl','hsv','hsl','hwb','hcg'],0,function(t){return(t%360+360)%360}),saturationl:v('hsl',1,p(100)),lightness:v('hsl',2,p(100)),saturationv:v('hsv',1,p(100)),value:v('hsv',2,p(100)),chroma:v('hcg',1,p(100)),gray:v('hcg',2,p(100)),white:v('hwb',1,p(100)),wblack:v('hwb',2,p(100)),cyan:v('cmyk',0,p(100)),magenta:v('cmyk',1,p(100)),yellow:v('cmyk',2,p(100)),black:v('cmyk',3,p(100)),x:v('xyz',0,p(95.047)),y:v('xyz',1,p(100)),z:v('xyz',2,p(108.833)),l:v('lab',0,p(100)),a:v('lab',1),b:v('lab',2),keyword:function(t){return void 0!==t?new l(t):r(d[2])[this.model].keyword(this.color)},hex:function(t){return void 0!==t?new l(t):r(d[3]).to.hex(this.rgb().round().color)},hexa:function(t){if(void 0!==t)return new l(t);var o=this.rgb().round().color,n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n='0'+n),r(d[3]).to.hex(o)+n},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){var o=this.rgb().color,n=[];for(var a of o.entries()){var i=t(a,2),h=i[0],l=i[1]/255;n[h]=l<=.04045?l/12.92:((l+.055)/1.055)**2.4}return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(t){var o=this.luminosity(),n=t.luminosity();return o>n?(o+.05)/(n+.05):(n+.05)/(o+.05)},level:function(t){var o=this.contrast(t);return o>=7?'AAA':o>=4.5?'AA':''},isDark:function(){var t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),o=0;o<3;o++)t.color[o]=255-t.color[o];return t},lighten:function(t){var o=this.hsl();return o.color[2]+=o.color[2]*t,o},darken:function(t){var o=this.hsl();return o.color[2]-=o.color[2]*t,o},saturate:function(t){var o=this.hsl();return o.color[1]+=o.color[1]*t,o},desaturate:function(t){var o=this.hsl();return o.color[1]-=o.color[1]*t,o},whiten:function(t){var o=this.hwb();return o.color[1]+=o.color[1]*t,o},blacken:function(t){var o=this.hwb();return o.color[2]+=o.color[2]*t,o},grayscale:function(){var t=this.rgb().color,o=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(o,o,o)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var o=this.hsl(),n=o.color[0];return n=(n=(n+t)%360)<0?360+n:n,o.color[0]=n,o},mix:function(t,o){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var n=t.rgb(),a=this.rgb(),i=void 0===o?.5:o,h=2*i-1,s=n.alpha()-a.alpha(),c=((h*s===-1?h:(h+s)/(1+h*s))+1)/2,u=1-c;return l.rgb(c*n.red()+u*a.red(),c*n.green()+u*a.green(),c*n.blue()+u*a.blue(),n.alpha()*i+a.alpha()*(1-i))}};var s=function(t){if(n.includes(t))return 1;var a=r(d[2])[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return a.length>0?new l(a,t):new l([].concat(o((h=r(d[2])[this.model][t].raw(this.color),Array.isArray(h)?h:[h])),[this.valpha]),t);var h},l[t]=function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];var h=n[0];return'number'==typeof h&&(h=b(n,a)),new l(h,t)}};for(var c of Object.keys(r(d[2])))s(c);function u(t,o){return Number(t.toFixed(o))}function f(t){return function(o){return u(o,t)}}function v(t,o,n){for(var a of t=Array.isArray(t)?t:[t])(h[a]||(h[a]=[]))[o]=n;return t=t[0],function(a){var i;return void 0!==a?(n&&(a=n(a)),(i=this[t]()).color[o]=a,i):(i=this[t]().color[o],n&&(i=n(i)),i)}}function p(t){return function(o){return Math.max(0,Math.min(t,o))}}function b(t,o){for(var n=0;n<o;n++)'number'!=typeof t[n]&&(t[n]=0);return t}_m.exports=l},1068,[38,6,1069,1073]);
__d(function(g,r,_i,a,m,e,d){var n={};function o(n){var o=function(){for(var o=arguments.length,t=new Array(o),c=0;c<o;c++)t[c]=arguments[c];var i=t[0];return null==i?i:(i.length>1&&(t=i),n(t))};return'conversion'in n&&(o.conversion=n.conversion),o}function t(n){var o=function(){for(var o=arguments.length,t=new Array(o),c=0;c<o;c++)t[c]=arguments[c];var i=t[0];if(null==i)return i;i.length>1&&(t=i);var v=n(t);if('object'==typeof v)for(var f=v.length,l=0;l<f;l++)v[l]=Math.round(v[l]);return v};return'conversion'in n&&(o.conversion=n.conversion),o}Object.keys(r(d[0])).forEach(function(c){n[c]={},Object.defineProperty(n[c],'channels',{value:r(d[0])[c].channels}),Object.defineProperty(n[c],'labels',{value:r(d[0])[c].labels});var i=r(d[1])(c);Object.keys(i).forEach(function(v){var f=i[v];n[c][v]=t(f),n[c][v].raw=o(f)})}),m.exports=n},1069,[1070,1072]);
__d(function(_g,_r,_i,_a,_m,e,d){var r=_r(d[0]),n={};for(var a of Object.keys(_r(d[1])))n[_r(d[1])[a]]=a;var t={rgb:{channels:3,labels:'rgb'},hsl:{channels:3,labels:'hsl'},hsv:{channels:3,labels:'hsv'},hwb:{channels:3,labels:'hwb'},cmyk:{channels:4,labels:'cmyk'},xyz:{channels:3,labels:'xyz'},lab:{channels:3,labels:'lab'},lch:{channels:3,labels:'lch'},hex:{channels:1,labels:['hex']},keyword:{channels:1,labels:['keyword']},ansi16:{channels:1,labels:['ansi16']},ansi256:{channels:1,labels:['ansi256']},hcg:{channels:3,labels:['h','c','g']},apple:{channels:3,labels:['r16','g16','b16']},gray:{channels:1,labels:['gray']}};for(var h of(_m.exports=t,Object.keys(t))){if(!('channels'in t[h]))throw new Error('missing channels property: '+h);if(!('labels'in t[h]))throw new Error('missing channel labels property: '+h);if(t[h].labels.length!==t[h].channels)throw new Error('channel and label counts mismatch: '+h);var u=t[h],c=u.channels,s=u.labels;delete t[h].channels,delete t[h].labels,Object.defineProperty(t[h],'channels',{value:c}),Object.defineProperty(t[h],'labels',{value:s})}function l(r,n){return(r[0]-n[0])**2+(r[1]-n[1])**2+(r[2]-n[2])**2}t.rgb.hsl=function(r){var n,a=r[0]/255,t=r[1]/255,h=r[2]/255,u=Math.min(a,t,h),c=Math.max(a,t,h),s=c-u;c===u?n=0:a===c?n=(t-h)/s:t===c?n=2+(h-a)/s:h===c&&(n=4+(a-t)/s),(n=Math.min(60*n,360))<0&&(n+=360);var l=(u+c)/2;return[n,100*(c===u?0:l<=.5?s/(c+u):s/(2-c-u)),100*l]},t.rgb.hsv=function(r){var n,a,t,h,u,c=r[0]/255,s=r[1]/255,l=r[2]/255,i=Math.max(c,s,l),o=i-Math.min(c,s,l),b=function(r){return(i-r)/6/o+.5};return 0===o?(h=0,u=0):(u=o/i,n=b(c),a=b(s),t=b(l),c===i?h=t-a:s===i?h=.3333333333333333+n-t:l===i&&(h=.6666666666666666+a-n),h<0?h+=1:h>1&&(h-=1)),[360*h,100*u,100*i]},t.rgb.hwb=function(r){var n=r[0],a=r[1],h=r[2];return[t.rgb.hsl(r)[0],100*(.00392156862745098*Math.min(n,Math.min(a,h))),100*(h=1-.00392156862745098*Math.max(n,Math.max(a,h)))]},t.rgb.cmyk=function(r){var n=r[0]/255,a=r[1]/255,t=r[2]/255,h=Math.min(1-n,1-a,1-t);return[100*((1-n-h)/(1-h)||0),100*((1-a-h)/(1-h)||0),100*((1-t-h)/(1-h)||0),100*h]},t.rgb.keyword=function(r){var a=n[r];if(a)return a;var t,h=1/0;for(var u of Object.keys(_r(d[1]))){var c=l(r,_r(d[1])[u]);c<h&&(h=c,t=u)}return t},t.keyword.rgb=function(r){return _r(d[1])[r]},t.rgb.xyz=function(r){var n=r[0]/255,a=r[1]/255,t=r[2]/255;return[100*(.4124*(n=n>.04045?((n+.055)/1.055)**2.4:n/12.92)+.3576*(a=a>.04045?((a+.055)/1.055)**2.4:a/12.92)+.1805*(t=t>.04045?((t+.055)/1.055)**2.4:t/12.92)),100*(.2126*n+.7152*a+.0722*t),100*(.0193*n+.1192*a+.9505*t)]},t.rgb.lab=function(r){var n=t.rgb.xyz(r),a=n[0],h=n[1],u=n[2];return[116*(h=(h/=100)>.008856?h**.3333333333333333:7.787*h+.13793103448275862)-16,500*((a=(a/=95.047)>.008856?a**.3333333333333333:7.787*a+.13793103448275862)-h),200*(h-(u=(u/=108.883)>.008856?u**.3333333333333333:7.787*u+.13793103448275862))]},t.hsl.rgb=function(r){var n,a,t,h=r[0]/360,u=r[1]/100,c=r[2]/100;if(0===u)return[t=255*c,t,t];for(var s=2*c-(n=c<.5?c*(1+u):c+u-c*u),l=[0,0,0],i=0;i<3;i++)(a=h+.3333333333333333*-(i-1))<0&&a++,a>1&&a--,t=6*a<1?s+6*(n-s)*a:2*a<1?n:3*a<2?s+(n-s)*(.6666666666666666-a)*6:s,l[i]=255*t;return l},t.hsl.hsv=function(r){var n=r[0],a=r[1]/100,t=r[2]/100,h=a,u=Math.max(t,.01);return a*=(t*=2)<=1?t:2-t,h*=u<=1?u:2-u,[n,100*(0===t?2*h/(u+h):2*a/(t+a)),100*((t+a)/2)]},t.hsv.rgb=function(r){var n=r[0]/60,a=r[1]/100,t=r[2]/100,h=Math.floor(n)%6,u=n-Math.floor(n),c=255*t*(1-a),s=255*t*(1-a*u),l=255*t*(1-a*(1-u));switch(t*=255,h){case 0:return[t,l,c];case 1:return[s,t,c];case 2:return[c,t,l];case 3:return[c,s,t];case 4:return[l,c,t];case 5:return[t,c,s]}},t.hsv.hsl=function(r){var n,a,t=r[0],h=r[1]/100,u=r[2]/100,c=Math.max(u,.01);a=(2-h)*u;var s=(2-h)*c;return n=h*c,[t,100*(n=(n/=s<=1?s:2-s)||0),100*(a/=2)]},t.hwb.rgb=function(r){var n,a=r[0]/360,t=r[1]/100,h=r[2]/100,u=t+h;u>1&&(t/=u,h/=u);var c=Math.floor(6*a),s=1-h;n=6*a-c,1&c&&(n=1-n);var l,i,o,b=t+n*(s-t);switch(c){default:case 6:case 0:l=s,i=b,o=t;break;case 1:l=b,i=s,o=t;break;case 2:l=t,i=s,o=b;break;case 3:l=t,i=b,o=s;break;case 4:l=b,i=t,o=s;break;case 5:l=s,i=t,o=b}return[255*l,255*i,255*o]},t.cmyk.rgb=function(r){var n=r[0]/100,a=r[1]/100,t=r[2]/100,h=r[3]/100;return[255*(1-Math.min(1,n*(1-h)+h)),255*(1-Math.min(1,a*(1-h)+h)),255*(1-Math.min(1,t*(1-h)+h))]},t.xyz.rgb=function(r){var n,a,t,h=r[0]/100,u=r[1]/100,c=r[2]/100;return n=(n=3.2406*h+-1.5372*u+-.4986*c)>.0031308?1.055*n**.4166666666666667-.055:12.92*n,a=(a=-.9689*h+1.8758*u+.0415*c)>.0031308?1.055*a**.4166666666666667-.055:12.92*a,t=(t=.0557*h+-.204*u+1.057*c)>.0031308?1.055*t**.4166666666666667-.055:12.92*t,[255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1)),255*(t=Math.min(Math.max(0,t),1))]},t.xyz.lab=function(r){var n=r[0],a=r[1],t=r[2];return[116*(a=(a/=100)>.008856?a**.3333333333333333:7.787*a+.13793103448275862)-16,500*((n=(n/=95.047)>.008856?n**.3333333333333333:7.787*n+.13793103448275862)-a),200*(a-(t=(t/=108.883)>.008856?t**.3333333333333333:7.787*t+.13793103448275862))]},t.lab.xyz=function(r){var n,a,t,h=(a=(r[0]+16)/116)**3,u=(n=r[1]/500+a)**3,c=(t=a-r[2]/200)**3;return a=h>.008856?h:(a-.13793103448275862)/7.787,n=u>.008856?u:(n-.13793103448275862)/7.787,t=c>.008856?c:(t-.13793103448275862)/7.787,[n*=95.047,a*=100,t*=108.883]},t.lab.lch=function(r){var n,a=r[0],t=r[1],h=r[2];return(n=360*Math.atan2(h,t)/2/Math.PI)<0&&(n+=360),[a,Math.sqrt(t*t+h*h),n]},t.lch.lab=function(r){var n=r[0],a=r[1],t=r[2]/360*2*Math.PI;return[n,a*Math.cos(t),a*Math.sin(t)]},t.rgb.ansi16=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=r(n,3),u=h[0],c=h[1],s=h[2],l=null===a?t.rgb.hsv(n)[2]:a;if(0===(l=Math.round(l/50)))return 30;var i=30+(Math.round(s/255)<<2|Math.round(c/255)<<1|Math.round(u/255));return 2===l&&(i+=60),i},t.hsv.ansi16=function(r){return t.rgb.ansi16(t.hsv.rgb(r),r[2])},t.rgb.ansi256=function(r){var n=r[0],a=r[1],t=r[2];return n===a&&a===t?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(a/255*5)+Math.round(t/255*5)},t.ansi16.rgb=function(r){var n=r%10;if(0===n||7===n)return r>50&&(n+=3.5),[n=n/10.5*255,n,n];var a=.5*(1+~~(r>50));return[(1&n)*a*255,(n>>1&1)*a*255,(n>>2&1)*a*255]},t.ansi256.rgb=function(r){if(r>=232){var n=10*(r-232)+8;return[n,n,n]}var a;return r-=16,[Math.floor(r/36)/5*255,Math.floor((a=r%36)/6)/5*255,a%6/5*255]},t.rgb.hex=function(r){var n=(((255&Math.round(r[0]))<<16)+((255&Math.round(r[1]))<<8)+(255&Math.round(r[2]))).toString(16).toUpperCase();return'000000'.substring(n.length)+n},t.hex.rgb=function(r){var n=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];var a=n[0];3===n[0].length&&(a=a.split('').map(function(r){return r+r}).join(''));var t=parseInt(a,16);return[t>>16&255,t>>8&255,255&t]},t.rgb.hcg=function(r){var n,a=r[0]/255,t=r[1]/255,h=r[2]/255,u=Math.max(Math.max(a,t),h),c=Math.min(Math.min(a,t),h),s=u-c;return n=s<=0?0:u===a?(t-h)/s%6:u===t?2+(h-a)/s:4+(a-t)/s,n/=6,[360*(n%=1),100*s,100*(s<1?c/(1-s):0)]},t.hsl.hcg=function(r){var n=r[1]/100,a=r[2]/100,t=a<.5?2*n*a:2*n*(1-a),h=0;return t<1&&(h=(a-.5*t)/(1-t)),[r[0],100*t,100*h]},t.hsv.hcg=function(r){var n=r[1]/100,a=r[2]/100,t=n*a,h=0;return t<1&&(h=(a-t)/(1-t)),[r[0],100*t,100*h]},t.hcg.rgb=function(r){var n=r[0]/360,a=r[1]/100,t=r[2]/100;if(0===a)return[255*t,255*t,255*t];var h,u=[0,0,0],c=n%1*6,s=c%1,l=1-s;switch(Math.floor(c)){case 0:u[0]=1,u[1]=s,u[2]=0;break;case 1:u[0]=l,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=s;break;case 3:u[0]=0,u[1]=l,u[2]=1;break;case 4:u[0]=s,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=l}return h=(1-a)*t,[255*(a*u[0]+h),255*(a*u[1]+h),255*(a*u[2]+h)]},t.hcg.hsv=function(r){var n=r[1]/100,a=n+r[2]/100*(1-n),t=0;return a>0&&(t=n/a),[r[0],100*t,100*a]},t.hcg.hsl=function(r){var n=r[1]/100,a=r[2]/100*(1-n)+.5*n,t=0;return a>0&&a<.5?t=n/(2*a):a>=.5&&a<1&&(t=n/(2*(1-a))),[r[0],100*t,100*a]},t.hcg.hwb=function(r){var n=r[1]/100,a=n+r[2]/100*(1-n);return[r[0],100*(a-n),100*(1-a)]},t.hwb.hcg=function(r){var n=r[1]/100,a=1-r[2]/100,t=a-n,h=0;return t<1&&(h=(a-t)/(1-t)),[r[0],100*t,100*h]},t.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},t.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},t.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},t.gray.hsl=function(r){return[0,0,r[0]]},t.gray.hsv=t.gray.hsl,t.gray.hwb=function(r){return[0,100,r[0]]},t.gray.cmyk=function(r){return[0,0,0,r[0]]},t.gray.lab=function(r){return[r[0],0,0]},t.gray.hex=function(r){var n=255&Math.round(r[0]/100*255),a=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return'000000'.substring(a.length)+a},t.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]}},1070,[38,1071]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},1071,[]);
__d(function(g,r,_i,a,m,e,d){function n(){for(var n={},t=Object.keys(r(d[0])),u=t.length,c=0;c<u;c++)n[t[c]]={distance:-1,parent:null};return n}function t(t){var u=n(),c=[t];for(u[t].distance=0;c.length;)for(var o=c.pop(),i=Object.keys(r(d[0])[o]),f=i.length,p=0;p<f;p++){var s=i[p],l=u[s];-1===l.distance&&(l.distance=u[o].distance+1,l.parent=o,c.unshift(s))}return u}function u(n,t){return function(u){return t(n(u))}}function c(n,t){for(var c=[t[n].parent,n],o=r(d[0])[t[n].parent][n],i=t[n].parent;t[i].parent;)c.unshift(t[i].parent),o=u(r(d[0])[t[i].parent][i],o),i=t[i].parent;return o.conversion=c,o}m.exports=function(n){for(var u=t(n),o={},i=Object.keys(u),f=i.length,p=0;p<f;p++){var s=i[p];null!==u[s].parent&&(o[s]=c(s,u))}return o}},1072,[1070]);
__d(function(_g,_r,_i,_a,m,e,d){var r=Object.hasOwnProperty,t=Object.create(null);for(var a in _r(d[0]))r.call(_r(d[0]),a)&&(t[_r(d[0])[a]]=a);var n=m.exports={to:{},get:{}};function s(r,t,a){return Math.min(Math.max(t,r),a)}function o(r){var t=Math.round(r).toString(16).toUpperCase();return t.length<2?'0'+t:t}n.get=function(r){var t,a;switch(r.substring(0,3).toLowerCase()){case'hsl':t=n.get.hsl(r),a='hsl';break;case'hwb':t=n.get.hwb(r),a='hwb';break;default:t=n.get.rgb(r),a='rgb'}return t?{model:a,value:t}:null},n.get.rgb=function(t){if(!t)return null;var a,n,o,l=[0,0,0,1];if(a=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=a[2],a=a[1],n=0;n<3;n++){var u=2*n;l[n]=parseInt(a.slice(u,u+2),16)}o&&(l[3]=parseInt(o,16)/255)}else if(a=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(a=a[1])[3],n=0;n<3;n++)l[n]=parseInt(a[n]+a[n],16);o&&(l[3]=parseInt(o+o,16)/255)}else if(a=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)l[n]=parseInt(a[n+1],0);a[4]&&(a[5]?l[3]=.01*parseFloat(a[4]):l[3]=parseFloat(a[4]))}else{if(!(a=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(a=t.match(/^(\w+)$/))?'transparent'===a[1]?[0,0,0,0]:r.call(_r(d[0]),a[1])?((l=_r(d[0])[a[1]])[3]=1,l):null:null;for(n=0;n<3;n++)l[n]=Math.round(2.55*parseFloat(a[n+1]));a[4]&&(a[5]?l[3]=.01*parseFloat(a[4]):l[3]=parseFloat(a[4]))}for(n=0;n<3;n++)l[n]=s(l[n],0,255);return l[3]=s(l[3],0,1),l},n.get.hsl=function(r){if(!r)return null;var t=r.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,s(parseFloat(t[2]),0,100),s(parseFloat(t[3]),0,100),s(isNaN(a)?1:a,0,1)]}return null},n.get.hwb=function(r){if(!r)return null;var t=r.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,s(parseFloat(t[2]),0,100),s(parseFloat(t[3]),0,100),s(isNaN(a)?1:a,0,1)]}return null},n.to.hex=function(){var r=_r(d[1])(arguments);return'#'+o(r[0])+o(r[1])+o(r[2])+(r[3]<1?o(Math.round(255*r[3])):'')},n.to.rgb=function(){var r=_r(d[1])(arguments);return r.length<4||1===r[3]?'rgb('+Math.round(r[0])+', '+Math.round(r[1])+', '+Math.round(r[2])+')':'rgba('+Math.round(r[0])+', '+Math.round(r[1])+', '+Math.round(r[2])+', '+r[3]+')'},n.to.rgb.percent=function(){var r=_r(d[1])(arguments),t=Math.round(r[0]/255*100),a=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return r.length<4||1===r[3]?'rgb('+t+'%, '+a+'%, '+n+'%)':'rgba('+t+'%, '+a+'%, '+n+'%, '+r[3]+')'},n.to.hsl=function(){var r=_r(d[1])(arguments);return r.length<4||1===r[3]?'hsl('+r[0]+', '+r[1]+'%, '+r[2]+'%)':'hsla('+r[0]+', '+r[1]+'%, '+r[2]+'%, '+r[3]+')'},n.to.hwb=function(){var r=_r(d[1])(arguments),t='';return r.length>=4&&1!==r[3]&&(t=', '+r[3]),'hwb('+r[0]+', '+r[1]+'%, '+r[2]+'%'+t+')'},n.to.keyword=function(r){return t[r.slice(0,3)]}},1073,[1071,1074]);
__d(function(g,r,_i,a,m,e,d){'use strict';var t=Array.prototype.concat,n=Array.prototype.slice,o=m.exports=function(o){for(var c=[],u=0,p=o.length;u<p;u++){var i=o[u];r(d[0])(i)?c=t.call(c,n.call(i)):c.push(i)}return c};o.wrap=function(t){return function(){return t(o(arguments))}}},1074,[1075]);
__d(function(g,r,i,a,m,e,d){m.exports=function(n){return!(!n||'string'==typeof n)&&(n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&'String'!==n.constructor.name))}},1075,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.PlatformPressable=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?n(l,s,i):l[s]=e[s]);return l})(e,t)})(_r(d[3])),n=_r(d[4]),i=_r(d[5]),l=["disabled","onPress","onPressIn","onPressOut","android_ripple","pressColor","pressOpacity","hoverEffect","style","children"];var s=n.Animated.createAnimatedComponent(n.Pressable),c='android'===n.Platform.OS&&n.Platform.Version>=21,u='web'!==n.Platform.OS;function f(e,f){var v=e.disabled,p=e.onPress,y=e.onPressIn,P=e.onPressOut,h=e.android_ripple,O=e.pressColor,_=e.pressOpacity,j=void 0===_?.3:_,w=e.hoverEffect,S=e.style,K=e.children,k=(0,r.default)(e,l),x=(0,_r(d[6]).useTheme)().dark,M=o.useState(function(){return new n.Animated.Value(1)}),$=(0,t.default)(M,1)[0],A=function(e,t){c||n.Animated.timing($,{toValue:e,duration:t,easing:n.Easing.inOut(n.Easing.quad),useNativeDriver:u}).start()};return(0,i.jsxs)(s,Object.assign({ref:f,accessible:!0,role:'web'===n.Platform.OS&&null!=k.href?'link':'button',onPress:v?void 0:function(e){if('web'===n.Platform.OS&&null!==k.href){var t='metaKey'in e&&e.metaKey||'altKey'in e&&e.altKey||'ctrlKey'in e&&e.ctrlKey||'shiftKey'in e&&e.shiftKey,r=!('button'in e)||(null==e.button||0===e.button),o=!e.currentTarget||!('target'in e.currentTarget)||[void 0,null,'','self'].includes(e.currentTarget.target);!t&&r&&o&&(e.preventDefault(),null==p||p(e))}else null==p||p(e)},onPressIn:function(e){A(j,0),null==y||y(e)},onPressOut:function(e){A(1,200),null==P||P(e)},android_ripple:c?Object.assign({color:void 0!==O?O:x?'rgba(255, 255, 255, .32)':'rgba(0, 0, 0, .32)'},h):void 0,style:[{cursor:'web'===n.Platform.OS||'ios'===n.Platform.OS?'pointer':'auto',opacity:c?1:$},S]},k,{children:[(0,i.jsx)(b,Object.assign({},w)),K]}))}(_e.PlatformPressable=o.forwardRef(f)).displayName='PlatformPressable';var v=String.raw,p="__react-navigation_elements_Pressable_hover",y=v`
  .${p} {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    background-color: var(--overlay-color);
    opacity: 0;
    transition: opacity 0.15s;
  }

  a:hover > .${p}, button:hover > .${p} {
    opacity: var(--overlay-hover-opacity);
  }

  a:active > .${p}, button:active > .${p} {
    opacity: var(--overlay-active-opacity);
  }
`,b=function(e){var t=e.color,r=e.hoverOpacity,o=void 0===r?.08:r,l=e.activeOpacity,s=void 0===l?.16:l;return'web'!==n.Platform.OS||null==t?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{href:p,precedence:"elements",children:y}),(0,i.jsx)("div",{className:p,style:{'--overlay-color':t,'--overlay-hover-opacity':o,'--overlay-active-opacity':s}})]})}},1076,[1,38,135,174,2,219,949]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Text=function(t){var n=t.style,c=(0,s.default)(t,u),f=(0,r(d[4]).useTheme)(),v=f.colors,x=f.fonts;return(0,o.jsx)(l.Text,Object.assign({},c,{style:[{color:v.text},x.regular,n]}))};var s=t(r(d[1])),l=r(d[2]),o=r(d[3]),u=["style"]},1077,[1,135,2,219,949]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Header=function(e){var c=(0,_r(d[8]).useSafeAreaInsets)(),f=(0,_r(d[9]).useFrameSize)(function(e){return e},!0),p=(0,_r(d[10]).useTheme)().colors,y=(0,_r(d[10]).useNavigation)(),S=i.useContext(_r(d[11]).HeaderShownContext),C=i.useState(!1),R=(0,o.default)(C,2),w=R[0],x=R[1],v=i.useState(void 0),B=(0,o.default)(v,2),O=B[0],T=B[1],j=e.layout,W=void 0===j?f:j,E=e.modal,k=void 0!==E&&E,H=e.back,L=e.title,P=e.headerTitle,_=e.headerTitleAlign,A=void 0===_?'ios'===n.Platform.OS?'center':'left':_,M=e.headerLeft,V=void 0===M?H?function(e){return(0,s.jsx)(_r(d[12]).HeaderBackButton,Object.assign({},e))}:void 0:M,D=e.headerSearchBarOptions,F=e.headerTransparent,I=e.headerTintColor,z=e.headerBackground,G=e.headerRight,N=e.headerTitleAllowFontScaling,q=e.headerTitleStyle,J=e.headerLeftContainerStyle,K=e.headerRightContainerStyle,Q=e.headerTitleContainerStyle,U=e.headerBackButtonDisplayMode,X=void 0===U?'ios'===n.Platform.OS?'default':'minimal':U,Y=e.headerBackTitleStyle,Z=e.headerBackgroundContainerStyle,$=e.headerStyle,ee=e.headerShadowVisible,te=e.headerPressColor,oe=e.headerPressOpacity,re=e.headerStatusBarHeight,ae=void 0===re?S?0:c.top:re,de=(0,_r(d[13]).getDefaultHeaderHeight)(W,k,ae),ie=n.StyleSheet.flatten($||{}),ne=ie.height,le=void 0===ne?de:ne,se=ie.minHeight,he=ie.maxHeight,ue=ie.backgroundColor,be=ie.borderBottomColor,ce=ie.borderBottomEndRadius,fe=ie.borderBottomLeftRadius,pe=ie.borderBottomRightRadius,ge=ie.borderBottomStartRadius,me=ie.borderBottomWidth,ye=ie.borderColor,Se=ie.borderEndColor,Ce=ie.borderEndWidth,Re=ie.borderLeftColor,we=ie.borderLeftWidth,xe=ie.borderRadius,ve=ie.borderRightColor,Be=ie.borderRightWidth,Oe=ie.borderStartColor,Te=ie.borderStartWidth,je=ie.borderStyle,We=ie.borderTopColor,Ee=ie.borderTopEndRadius,ke=ie.borderTopLeftRadius,He=ie.borderTopRightRadius,Le=ie.borderTopStartRadius,Pe=ie.borderTopWidth,Ae=ie.borderWidth,Me=ie.boxShadow,Ve=ie.elevation,De=ie.shadowColor,Fe=ie.shadowOffset,Ie=ie.shadowOpacity,ze=ie.shadowRadius,Ge=ie.opacity,Ne=ie.transform,qe=((0,t.default)(ie,h),{backgroundColor:ue,borderBottomColor:be,borderBottomEndRadius:ce,borderBottomLeftRadius:fe,borderBottomRightRadius:pe,borderBottomStartRadius:ge,borderBottomWidth:me,borderColor:ye,borderEndColor:Se,borderEndWidth:Ce,borderLeftColor:Re,borderLeftWidth:we,borderRadius:xe,borderRightColor:ve,borderRightWidth:Be,borderStartColor:Oe,borderStartWidth:Te,borderStyle:je,borderTopColor:We,borderTopEndRadius:Ee,borderTopLeftRadius:ke,borderTopRightRadius:He,borderTopStartRadius:Le,borderTopWidth:Pe,borderWidth:Ae,boxShadow:Me,elevation:Ve,shadowColor:De,shadowOffset:Fe,shadowOpacity:Ie,shadowRadius:ze,opacity:Ge,transform:Ne});for(var Je in qe)void 0===qe[Je]&&delete qe[Je];var Ke=Object.assign({},F&&{backgroundColor:'transparent'},(F||!1===ee)&&Object.assign({borderBottomWidth:0},n.Platform.select({android:{elevation:0},web:{boxShadow:'none'},default:{shadowOpacity:0}})),qe),Qe=null!=I?I:n.Platform.select({ios:p.primary,default:p.text}),Ue=V?V({tintColor:Qe,pressColor:te,pressOpacity:oe,displayMode:X,titleLayout:O,screenLayout:W,canGoBack:Boolean(H),onPress:H?y.goBack:void 0,label:null==H?void 0:H.title,labelStyle:Y,href:null==H?void 0:H.href}):null,Xe=G?G({tintColor:Qe,pressColor:te,pressOpacity:oe,canGoBack:Boolean(H)}):null,Ye='function'!=typeof P?function(e){return(0,s.jsx)(_r(d[14]).HeaderTitle,Object.assign({},e))}:P;return(0,s.jsxs)(n.Animated.View,{pointerEvents:"box-none",style:[{height:le,minHeight:se,maxHeight:he,opacity:Ge,transform:Ne}],children:[(0,s.jsx)(n.Animated.View,{pointerEvents:"box-none",style:[n.StyleSheet.absoluteFill,Z],children:z?z({style:Ke}):(0,s.jsx)(_r(d[15]).HeaderBackground,{pointerEvents:!F||'transparent'!==Ke.backgroundColor&&0!==(0,r.default)(Ke.backgroundColor).alpha()?'auto':'none',style:Ke})}),(0,s.jsx)(n.View,{pointerEvents:"none",style:{height:ae}}),(0,s.jsxs)(n.View,{pointerEvents:"box-none",style:[b.content,'ios'===n.Platform.OS&&f.width>=u?b.large:null],children:[(0,s.jsx)(n.Animated.View,{pointerEvents:"box-none",style:[b.start,!w&&'center'===A&&b.expand,{marginStart:c.left},J],children:Ue}),'ios'!==n.Platform.OS&&w?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Animated.View,{pointerEvents:"box-none",style:[b.title,{maxWidth:'center'===A?W.width-2*((Ue?'minimal'!==X?80:32:16)+(Xe||D?16:0)+Math.max(c.left,c.right)):W.width-((Ue?52:16)+(Xe||D?52:16)+c.left-c.right)},'left'===A&&Ue?{marginStart:4}:{marginHorizontal:16},Q],children:Ye({children:L,allowFontScaling:N,tintColor:I,onLayout:function(e){var t=e.nativeEvent.layout,o=t.height,r=t.width;T(function(e){return e&&o===e.height&&r===e.width?e:{height:o,width:r}})},style:q})}),(0,s.jsxs)(n.Animated.View,{pointerEvents:"box-none",style:[b.end,b.expand,{marginEnd:c.right},K],children:[Xe,D?(0,s.jsx)(_r(d[16]).HeaderButton,{tintColor:Qe,pressColor:te,pressOpacity:oe,onPress:function(){x(!0),null==D||null==D.onOpen||D.onOpen()},children:(0,s.jsx)(_r(d[17]).HeaderIcon,{source:l.default,tintColor:Qe})}):null]})]}),'ios'===n.Platform.OS||w?(0,s.jsx)(_r(d[18]).HeaderSearchBar,Object.assign({},D,{visible:w,onClose:function(){x(!1),null==D||null==D.onClose||D.onClose()},tintColor:I,style:['ios'===n.Platform.OS?[n.StyleSheet.absoluteFill,{paddingTop:ae?0:4},{backgroundColor:null!=ue?ue:p.card}]:!Ue&&{marginStart:8}]})):null]})]})};var t=e(_r(d[1])),o=e(_r(d[2])),r=e(_r(d[3])),i=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,n,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?r:o){if(i.has(e))return i.get(e);i.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((n=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(n.get||n.set)?i(l,s,n):l[s]=e[s]);return l})(e,t)})(_r(d[4])),n=_r(d[5]),l=e(_r(d[6])),s=_r(d[7]),h=["height","minHeight","maxHeight","backgroundColor","borderBottomColor","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","borderBottomWidth","borderColor","borderEndColor","borderEndWidth","borderLeftColor","borderLeftWidth","borderRadius","borderRightColor","borderRightWidth","borderStartColor","borderStartWidth","borderStyle","borderTopColor","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","borderTopWidth","borderWidth","boxShadow","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","opacity","transform"];var u=414;var b=n.StyleSheet.create({content:{flex:1,flexDirection:'row',alignItems:'stretch'},large:{marginHorizontal:5},title:{justifyContent:'center'},start:{flexDirection:'row',alignItems:'center',justifyContent:'flex-start'},end:{flexDirection:'row',alignItems:'center',justifyContent:'flex-end'},expand:{flexGrow:1,flexBasis:0}})},1078,[1,135,38,1068,174,2,1079,219,1081,1090,949,1091,1093,1100,1101,1102,1099,1096,1103]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:24,height:24,scales:[1,2,3,4],hash:"940453dc5cbfaa96cf907b3aa7791ece",name:"search-icon",type:"png"})},1079,[1080]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},1080,[204]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r(d[0])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[0])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[0])[n]}}))}),Object.keys(r(d[1])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[1])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[1])[n]}}))}),Object.keys(r(d[2])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[2])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[2])[n]}}))}),Object.keys(r(d[3])).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===r(d[3])[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r(d[3])[n]}}))})},1081,[1082,1085,1087,1089]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SafeAreaInsetsContext=_e.SafeAreaFrameContext=_e.SafeAreaContext=_e.SafeAreaConsumer=void 0,_e.SafeAreaListener=function(e){var t=e.onChange,r=e.style,i=e.children,o=(0,n.default)(e,u);return(0,l.jsx)(_r(d[6]).NativeSafeAreaProvider,Object.assign({},o,{style:[c.fill,r],onInsetsChange:function(e){t({insets:e.nativeEvent.insets,frame:e.nativeEvent.frame})},children:i}))},_e.SafeAreaProvider=function(e){var u,v,h,S,x,C=e.children,y=e.initialMetrics,A=e.initialSafeAreaInsets,w=e.style,p=(0,n.default)(e,o),j=r.useContext(s),b=r.useContext(f),P=r.useState(null!=(u=null!=(v=null!=(h=null==y?void 0:y.insets)?h:A)?v:j)?u:null),_=(0,t.default)(P,2),I=_[0],M=_[1],O=r.useState(null!=(S=null!=(x=null==y?void 0:y.frame)?x:b)?S:{x:0,y:0,width:i.Dimensions.get('window').width,height:i.Dimensions.get('window').height}),k=(0,t.default)(O,2),E=k[0],D=k[1],F=r.useCallback(function(e){var t=e.nativeEvent,n=t.frame,r=t.insets;D(function(e){return!n||n.height===e.height&&n.width===e.width&&n.x===e.x&&n.y===e.y?e:n}),M(function(e){return e&&r.bottom===e.bottom&&r.left===e.left&&r.right===e.right&&r.top===e.top?e:r})},[]);return(0,l.jsx)(_r(d[6]).NativeSafeAreaProvider,Object.assign({style:[c.fill,w],onInsetsChange:F},p,{children:null!=I?(0,l.jsx)(f.Provider,{value:E,children:(0,l.jsx)(s.Provider,{value:I,children:C})}):null}))},_e.useSafeArea=function(){return h()},_e.useSafeAreaFrame=function(){var e=r.useContext(f);if(null==e)throw new Error(v);return e},_e.useSafeAreaInsets=h,_e.withSafeAreaInsets=function(e){return r.forwardRef(function(t,n){var r=h();return(0,l.jsx)(e,Object.assign({},t,{insets:r,ref:n}))})};var t=e(_r(d[1])),n=e(_r(d[2])),r=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?i(o,u,l):o[u]=e[u]);return o})(e,t)})(_r(d[3])),i=_r(d[4]),l=_r(d[5]),o=["children","initialMetrics","initialSafeAreaInsets","style"],u=["onChange","style","children"];var s=_e.SafeAreaInsetsContext=r.createContext(null),f=_e.SafeAreaFrameContext=r.createContext(null);var c=i.StyleSheet.create({fill:{flex:1}});var v='No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.';function h(){var e=r.useContext(s);if(null==e)throw new Error(v);return e}_e.SafeAreaConsumer=s.Consumer,_e.SafeAreaContext=s},1082,[1,38,135,174,2,219,1083]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NativeSafeAreaProvider",{enumerable:!0,get:function(){return n.default}});var n=t(r(d[1]))},1083,[1,1084]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;n(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNCSafeAreaProvider",directEventTypes:{topInsetsChange:{registrationName:"onInsetsChange"}},validAttributes:Object.assign({},r(d[2]).ConditionallyIgnoredEventHandlers({onInsetsChange:!0}))};e.default=r(d[3]).get('RNCSafeAreaProvider',function(){return t})},1084,[1,261,217,181]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SafeAreaView=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,f=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=t?f:r){if(n.has(e))return n.get(e);n.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?n(i,u,o):i[u]=e[u]);return i})(e,t)})(_r(d[2])),f=r,n=e(_r(d[3])),o=_r(d[4]),i=["edges"];var u={top:'additive',left:'additive',bottom:'additive',right:'additive'};_e.SafeAreaView=f.forwardRef(function(e,f){var l=e.edges,c=(0,t.default)(e,i),v=(0,r.useMemo)(function(){var e,t,r,f;if(null==l)return u;var n=Array.isArray(l)?l.reduce(function(e,t){return e[t]='additive',e},{}):l;return{top:null!=(e=n.top)?e:'off',right:null!=(t=n.right)?t:'off',bottom:null!=(r=n.bottom)?r:'off',left:null!=(f=n.left)?f:'off'}},[l]);return(0,o.jsx)(n.default,Object.assign({},c,{edges:v,ref:f}))})},1085,[1,135,174,1086,219]);
__d(function(g,r,i,a,m,e,d){var _=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;_(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNCSafeAreaView",validAttributes:{mode:!0,edges:!0}};e.default=r(d[2]).get('RNCSafeAreaView',function(){return t})},1086,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.initialWindowSafeAreaInsets=e.initialWindowMetrics=void 0;var t,l,s=n(r(d[1])),o=e.initialWindowMetrics=null!=(t=null==s.default||null==s.default.getConstants||null==(l=s.default.getConstants())?void 0:l.initialWindowMetrics)?t:null;e.initialWindowSafeAreaInsets=null==o?void 0:o.insets},1087,[1,1088]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]);e.default=t.TurboModuleRegistry.get('RNCSafeAreaContext')},1088,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},1089,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.FrameSizeProvider=function(e){var r=e.initialFrame,n=e.children;if(null!=t.useContext(u))return n;return(0,i.jsx)(o,{initialFrame:r,children:n})},_e.useFrameSize=function(e,r){var n=t.useContext(u);if(null==n)throw new Error('useFrameSize must be used within a FrameSizeProvider');return(0,_r(d[5]).useSyncExternalStoreWithSelector)(r?n.subscribeThrottled:n.subscribe,n.getCurrent,n.getCurrent,e)};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,u,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,o)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((u=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(u.get||u.set)?i(o,c,u):o[c]=e[c]);return o})(e,t)})(_r(d[1])),r=_r(d[2]),n=e(_r(d[3])),i=_r(d[4]);var u=t.createContext(void 0);function o(e){var o=e.initialFrame,s=e.children,l=t.useRef({width:o.width,height:o.height}),h=t.useRef(new Set),v=(0,n.default)(function(){return l.current}),b=(0,n.default)(function(e){return h.current.add(e),function(){h.current.delete(e)}}),w=(0,n.default)(function(e){var t,r=!1,n=!1,i=b(function(){clearTimeout(t),r=!0,n?t=setTimeout(function(){r&&(r=!1,e())},100):(n=!0,setTimeout(function(){n=!1},100),r=!1,e())});return function(){i(),clearTimeout(t)}}),S=t.useMemo(function(){return{getCurrent:v,subscribe:b,subscribeThrottled:w}},[b,w,v]),y=(0,n.default)(function(e){l.current.height===e.height&&l.current.width===e.width||(l.current={width:e.width,height:e.height},h.current.forEach(function(e){return e()}))});return(0,i.jsxs)(i.Fragment,{children:['web'===r.Platform.OS?(0,i.jsx)(f,{onChange:y}):void 0===_r(d[6]).SafeAreaListener?(0,i.jsx)(c,{onChange:y}):(0,i.jsx)(_r(d[6]).SafeAreaListener,{onChange:function(e){var t=e.frame;return y(t)},style:r.StyleSheet.absoluteFill}),(0,i.jsx)(u.Provider,{value:S,children:s})]})}function c(e){var r=e.onChange,n=(0,_r(d[7]).useSafeAreaFrame)();return t.useLayoutEffect(function(){r(n)},[n,r]),null}function f(e){var n=e.onChange,u=t.useRef(null);return t.useEffect(function(){if(null!=u.current){var e=u.current.getBoundingClientRect();n({width:e.width,height:e.height});var t=new ResizeObserver(function(e){var t=e[0];if(t){var r=t.contentRect,i=r.width,u=r.height;n({width:i,height:u})}});return t.observe(u.current),function(){t.disconnect()}}},[n]),(0,i.jsx)("div",{ref:u,style:Object.assign({},r.StyleSheet.absoluteFillObject,{pointerEvents:'none',visibility:'hidden'})})}},1090,[1,174,2,956,219,1038,1081,1081]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderShownContext=void 0;e.HeaderShownContext=(0,r(d[0]).getNamedContext)('HeaderShownContext',!1)},1091,[1092]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.getNamedContext=function(e,r){var o=globalThis[n].get(e);if(o)return o;return(o=t.createContext(r)).displayName=e,globalThis[n].set(e,o),o};var e,t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,l)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?o(l,u,i):l[u]=e[u]);return l})(e,t)})(_r(d[0]));var n='__react_navigation__elements_contexts';globalThis[n]=null!=(e=globalThis[n])?e:new Map},1092,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderBackButton=function(e){var c=e.disabled,f=e.allowFontScaling,y=e.backImage,b=e.label,h=e.labelStyle,p=e.displayMode,x=void 0===p?'ios'===l.Platform.OS?'default':'minimal':p,w=e.onLabelLayout,k=e.onPress,O=e.pressColor,S=e.pressOpacity,j=e.screenLayout,v=e.tintColor,L=e.titleLayout,M=e.truncatedLabel,P=void 0===M?'Back':M,_=e.accessibilityLabel,C=void 0===_?b&&'Back'!==b?`${b}, back`:'Go back':_,I=e.testID,W=e.style,A=e.href,E=(0,_r(d[7]).useTheme)(),F=E.colors,V=E.fonts,B=(0,_r(d[7]).useLocale)().direction,D=n.useState(null),H=(0,t.default)(D,2),z=H[0],N=H[1],R=n.useState(null),T=(0,t.default)(R,2),G=T[0],q=T[1];return(0,o.jsx)(_r(d[10]).HeaderButton,{disabled:c,href:A,accessibilityLabel:C,testID:I,onPress:function(){k&&requestAnimationFrame(function(){return k()})},pressColor:O,pressOpacity:S,style:[u.container,W],children:(0,o.jsxs)(n.Fragment,{children:[y?y({tintColor:null!=v?v:F.text}):(0,o.jsx)(_r(d[8]).HeaderIcon,{source:i.default,tintColor:v,style:[u.icon,'minimal'!==x&&u.iconWithLabel]}),(function(){if('minimal'===x)return null;var e=L&&j?(j.width-L.width)/2-(s+_r(d[8]).ICON_MARGIN):null,t='default'===x?b:P,n=e&&z&&G?e>z?t:e>G?P:null:t,i=[V.regular,u.label,h],c=[i,{position:'absolute',top:0,left:0,opacity:0}],p=(0,o.jsxs)(l.View,{style:u.labelWrapper,children:[b&&'default'===x?(0,o.jsx)(l.Animated.Text,{style:c,numberOfLines:1,onLayout:function(e){return N(e.nativeEvent.layout.width)},children:b}):null,P?(0,o.jsx)(l.Animated.Text,{style:c,numberOfLines:1,onLayout:function(e){return q(e.nativeEvent.layout.width)},children:P}):null,n?(0,o.jsx)(l.Animated.Text,{accessible:!1,onLayout:w,style:[v?{color:v}:null,i],numberOfLines:1,allowFontScaling:!!f,children:n}):null]});return y||'ios'!==l.Platform.OS?p:(0,o.jsx)(_r(d[9]).MaskedView,{maskElement:(0,o.jsxs)(l.View,{style:[u.iconMaskContainer,j?{minWidth:j.width/2-27}:null],children:[(0,o.jsx)(l.Image,{source:r.default,resizeMode:"contain",style:[u.iconMask,'rtl'===B&&u.flip]}),(0,o.jsx)(l.View,{style:u.iconMaskFillerRect})]}),children:p})})()]})})};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,r,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?l:n){if(i.has(e))return i.get(e);i.set(e,o)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((r=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(r.get||r.set)?i(o,s,r):o[s]=e[s]);return o})(e,t)})(_r(d[2])),l=_r(d[3]),i=e(_r(d[4])),r=e(_r(d[5])),o=_r(d[6]);var s='ios'===l.Platform.OS?13:24,c='ios'===l.Platform.OS?22:3,u=l.StyleSheet.create({container:Object.assign({paddingHorizontal:0,minWidth:l.StyleSheet.hairlineWidth},l.Platform.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})),label:{fontSize:17,letterSpacing:.35},labelWrapper:{flexDirection:'row',alignItems:'flex-start',marginEnd:_r(d[8]).ICON_MARGIN},icon:{width:s,marginEnd:c},iconWithLabel:'ios'===l.Platform.OS?{marginEnd:6}:{},iconMaskContainer:{flex:1,flexDirection:'row',justifyContent:'center'},iconMaskFillerRect:{flex:1,backgroundColor:'#000'},iconMask:{height:21,width:13,marginStart:-14.5,marginVertical:12,alignSelf:'center'},flip:{transform:'scaleX(-1)'}})},1093,[1,38,174,2,1094,1095,219,949,1096,1097,1099]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:24,height:24,scales:[1,2,3,4],hash:"dbc3af23c3cbbe45d326afc1d31c2e92",name:"back-icon",type:"png"})},1094,[1080]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:50,height:85,scales:[1],hash:"0a328cd9c1afd0afe8e3b1ec5165b1b4",name:"back-icon-mask",type:"png"})},1095,[1080]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderIcon=function(t){var l=t.source,u=t.style,I=(0,o.default)(t,n),O=(0,r(d[4]).useTheme)().colors,_=(0,r(d[4]).useLocale)().direction;return(0,c.jsx)(s.Image,Object.assign({source:l,resizeMode:"contain",fadeDuration:0,tintColor:O.text,style:[f.icon,'rtl'===_&&f.flip,u]},I))},e.ICON_SIZE=e.ICON_MARGIN=void 0;var o=t(r(d[1])),s=r(d[2]),c=r(d[3]),n=["source","style"];var l=e.ICON_SIZE='ios'===s.Platform.OS?21:24,u=e.ICON_MARGIN='ios'===s.Platform.OS?8:3,f=s.StyleSheet.create({icon:{width:l,height:l,margin:u},flip:{transform:'scaleX(-1)'}})},1096,[1,135,2,219,949]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MaskedView",{enumerable:!0,get:function(){return r(d[0]).MaskedView}})},1097,[1098]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MaskedView=function(e){var n=e.children,o=(0,r.default)(e,f);if(u&&t)return(0,i.jsx)(t,Object.assign({},o,{children:n}));return n};var t,r=e(_r(d[1])),n=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?n:r){if(i.has(e))return i.get(e);i.set(e,u)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((f=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(f.get||f.set)?i(u,o,f):u[o]=e[o])})(e,t)})(_r(d[2])),_r(d[3])),i=_r(d[4]),f=["children"];try{t=_r(d[5]).default}catch(e){}var u=null!=n.UIManager.getViewManagerConfig('RNCMaskedView')},1098,[1,135,174,2,219]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderButton=void 0;var e=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var i,n,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(i=r?o:t){if(i.has(e))return i.get(e);i.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((n=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(n.get||n.set)?i(s,l,n):s[l]=e[l]);return s})(e,r)})(_r(d[0])),r=_r(d[1]),t=_r(d[2]);function o(e,o){var s=e.disabled,l=e.onPress,f=e.pressColor,u=e.pressOpacity,c=e.accessibilityLabel,p=e.testID,b=e.style,y=e.href,P=e.children;return(0,t.jsx)(_r(d[3]).PlatformPressable,{ref:o,disabled:s,href:y,"aria-label":c,testID:p,onPress:l,pressColor:f,pressOpacity:u,android_ripple:i,style:[n.container,s&&n.disabled,b],hitSlop:r.Platform.select({ios:void 0,default:{top:16,right:16,bottom:16,left:16}}),children:P})}(_e.HeaderButton=e.forwardRef(o)).displayName='HeaderButton';var i={borderless:!0,foreground:'android'===r.Platform.OS&&r.Platform.Version>=23,radius:20},n=r.StyleSheet.create({container:{flexDirection:'row',alignItems:'center',paddingHorizontal:8,borderRadius:10},disabled:{opacity:.5}})},1099,[174,2,219,1076]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultHeaderHeight=function(o,f,l){var s,u='ios'===t.Platform.OS&&l>50?l-(5+1/t.PixelRatio.get()):l,P=o.width>o.height;s='ios'===t.Platform.OS?t.Platform.isPad||t.Platform.isTV?f?56:50:P?32:f?56:44:64;return s+u};var t=r(d[0])},1100,[2]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderTitle=function(t){var u=t.tintColor,c=t.style,v=(0,l.default)(t,s),y=(0,r(d[4]).useTheme)(),S=y.colors,b=y.fonts;return(0,n.jsx)(o.Animated.Text,Object.assign({role:"heading","aria-level":"1",numberOfLines:1},v,{style:[{color:void 0===u?S.text:u},o.Platform.select({ios:b.bold,default:b.medium}),f.title,c]}))};var l=t(r(d[1])),o=r(d[2]),n=r(d[3]),s=["tintColor","style"];var f=o.StyleSheet.create({title:o.Platform.select({ios:{fontSize:17},android:{fontSize:20},default:{fontSize:18}})})},1101,[1,135,2,219,949]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderBackground=function(e){var l=e.style,s=(0,t.default)(e,n),f=(0,_r(d[5]).useTheme)(),c=f.colors,u=f.dark;return(0,o.jsx)(r.Animated.View,Object.assign({style:[i.container,Object.assign({backgroundColor:c.card,borderBottomColor:c.border},'ios'===r.Platform.OS&&{shadowColor:u?'rgba(255, 255, 255, 0.45)':'rgba(0, 0, 0, 1)'}),l]},s))};var t=e(_r(d[1])),r=((function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?n(l,s,i):l[s]=e[s])})(e,t)})(_r(d[2])),_r(d[3])),o=_r(d[4]),n=["style"];var i=r.StyleSheet.create({container:Object.assign({flex:1},r.Platform.select({android:{elevation:4},ios:{shadowOpacity:.3,shadowRadius:0,shadowOffset:{width:0,height:r.StyleSheet.hairlineWidth}},default:{borderBottomWidth:r.StyleSheet.hairlineWidth}}))})},1102,[1,135,174,2,219,949]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.HeaderSearchBar=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(l.get||l.set)?o(i,u,l):i[u]=e[u]);return i})(e,t)})(_r(d[4])),l=_r(d[5]),i=e(_r(d[6])),u=e(_r(d[7])),c=e(_r(d[8])),s=_r(d[9]),f=["visible","inputType","autoFocus","placeholder","cancelButtonText","enterKeyHint","onChangeText","onClose","tintColor","style"];var p={text:'text',number:'numeric',phone:'tel',email:'email'},h='web'!==l.Platform.OS;function v(e,v){var x=e.visible,b=e.inputType,C=e.autoFocus,P=void 0===C||C,S=e.placeholder,j=void 0===S?'Search':S,T=e.cancelButtonText,B=void 0===T?'Cancel':T,w=e.enterKeyHint,H=void 0===w?'search':w,O=e.onChangeText,I=e.onClose,_=e.tintColor,k=e.style,z=(0,n.default)(e,f),M=(0,_r(d[10]).useNavigation)(),A=(0,_r(d[10]).useTheme)(),R=A.dark,V=A.colors,E=A.fonts,D=o.useState(''),N=(0,t.default)(D,2),W=N[0],F=N[1],K=o.useState(x),L=(0,t.default)(K,2),q=L[0],G=L[1],J=o.useState(function(){return new l.Animated.Value(x?1:0)}),Q=(0,t.default)(J,1)[0],U=o.useState(function(){return new l.Animated.Value(0)}),X=(0,t.default)(U,1)[0],Y=o.useRef(x),Z=o.useRef(!1),$=o.useRef(null);o.useEffect(function(){if(x!==Y.current)return l.Animated.timing(Q,{toValue:x?1:0,duration:100,useNativeDriver:h}).start(function(e){e.finished&&(G(x),Y.current=x)}),function(){Q.stopAnimation()}},[x,Q]);var ee=''!==W;o.useEffect(function(){Z.current!==ee&&l.Animated.timing(X,{toValue:ee?1:0,duration:100,useNativeDriver:h}).start(function(e){e.finished&&(Z.current=ee)})},[X,ee]);var te=o.useCallback(function(){var e,t;null==(e=$.current)||e.clear(),null==(t=$.current)||t.focus(),F('')},[]),ne=o.useCallback(function(){te(),null==O||O({nativeEvent:{text:''}})},[te,O]),re=o.useCallback(function(){ne(),I()},[ne,I]);if(o.useEffect(function(){return null==M?void 0:M.addListener('blur',re)},[re,M]),o.useImperativeHandle(v,function(){return{focus:function(){var e;null==(e=$.current)||e.focus()},blur:function(){var e;null==(e=$.current)||e.blur()},setText:function(e){var t;null==(t=$.current)||t.setNativeProps({text:e}),F(e)},clearText:te,cancelSearch:re}},[re,te]),!x&&!q)return null;var oe=null!=_?_:V.text;return(0,s.jsxs)(l.Animated.View,{pointerEvents:x?'auto':'none',"aria-live":"polite","aria-hidden":!x,style:[y.container,{opacity:Q},k],children:[(0,s.jsxs)(l.View,{style:y.searchbarContainer,children:[(0,s.jsx)(_r(d[11]).HeaderIcon,{source:c.default,tintColor:oe,style:y.inputSearchIcon}),(0,s.jsx)(l.TextInput,Object.assign({},z,{ref:$,onChange:O,onChangeText:F,autoFocus:P,inputMode:p[null!=b?b:'text'],enterKeyHint:H,placeholder:j,placeholderTextColor:(0,r.default)(oe).alpha(.5).string(),cursorColor:V.primary,selectionHandleColor:V.primary,selectionColor:(0,r.default)(V.primary).alpha(.3).string(),style:[E.regular,y.searchbar,{backgroundColor:l.Platform.select({ios:R?'rgba(255, 255, 255, 0.1)':'rgba(0, 0, 0, 0.1)',default:'transparent'}),color:oe,borderBottomColor:(0,r.default)(oe).alpha(.2).string()}]})),'ios'===l.Platform.OS?(0,s.jsx)(_r(d[12]).PlatformPressable,{onPress:ne,style:[{opacity:X,transform:[{scale:X}]},y.clearButton],children:(0,s.jsx)(l.Image,{source:i.default,resizeMode:"contain",tintColor:oe,style:y.clearIcon})}):null]}),'ios'!==l.Platform.OS?(0,s.jsx)(_r(d[13]).HeaderButton,{onPress:function(){W?ne():I()},style:y.closeButton,children:(0,s.jsx)(_r(d[11]).HeaderIcon,{source:u.default,tintColor:oe})}):null,'ios'===l.Platform.OS?(0,s.jsx)(_r(d[12]).PlatformPressable,{onPress:re,style:y.cancelButton,children:(0,s.jsx)(_r(d[14]).Text,{style:[E.regular,{color:null!=_?_:V.primary},y.cancelText],children:B})}):null]})}var y=l.StyleSheet.create({container:{flex:1,flexDirection:'row',alignItems:'stretch'},inputSearchIcon:Object.assign({position:'absolute',opacity:.5,left:l.Platform.select({ios:16,default:4}),top:l.Platform.select({ios:-1,default:17})},l.Platform.select({ios:{height:18,width:18},default:{}})),closeButton:{position:'absolute',opacity:.5,right:l.Platform.select({ios:0,default:8}),top:l.Platform.select({ios:-2,default:17})},clearButton:{position:'absolute',right:0,top:-7,bottom:0,justifyContent:'center',padding:8},clearIcon:{height:16,width:16,opacity:.5},cancelButton:{alignSelf:'center',top:-4},cancelText:{fontSize:17,marginHorizontal:12},searchbarContainer:{flex:1},searchbar:l.Platform.select({ios:{flex:1,fontSize:17,paddingHorizontal:32,marginLeft:16,marginTop:-1,marginBottom:4,borderRadius:8},default:{flex:1,fontSize:18,paddingHorizontal:36,marginRight:8,marginTop:8,marginBottom:8,borderBottomWidth:1}})});_e.HeaderSearchBar=o.forwardRef(v)},1103,[1,38,135,1068,174,2,1104,1105,1079,219,949,1096,1076,1099,1077]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:64,height:64,scales:[1,1,2,3,4],hash:"61378328a719f21f093de82dd89ecfb0",name:"clear-icon",type:"png"})},1104,[1080]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/node_modules/@react-navigation/elements/lib/module/assets",width:96,height:96,scales:[1,1,2,3,4],hash:"3162e8a244d8f6fbd259e79043e23ce4",name:"close-icon",type:"png"})},1105,[1080]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderBackContext=void 0;e.HeaderBackContext=(0,r(d[0]).getNamedContext)('HeaderBackContext',void 0)},1106,[1092]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderHeightContext=void 0;e.HeaderHeightContext=(0,r(d[0]).getNamedContext)('HeaderHeightContext',void 0)},1107,[1092]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Label=function(t){var n=t.tintColor,c=t.style,b=(0,l.default)(t,s);return(0,o.jsx)(r(d[4]).Text,Object.assign({numberOfLines:1},b,{style:[u.label,null!=n&&{color:n},c]}))};var l=t(r(d[1])),n=r(d[2]),o=r(d[3]),s=["tintColor","style"];var u=n.StyleSheet.create({label:{textAlign:'center',backgroundColor:'transparent'}})},1108,[1,135,2,219,1077]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MissingIcon=function(t){var c=t.color,s=t.size,l=t.style;return(0,n.jsx)(r(d[2]).Text,{style:[o.icon,{color:c,fontSize:s},l],children:"\u23f7"})};var t=r(d[0]),n=r(d[1]);var o=t.StyleSheet.create({icon:{backgroundColor:'transparent'}})},1109,[2,219,1077]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.ResourceSavingView=function(e){var l=e.visible,c=e.children,s=e.style,f=(0,t.default)(e,i);if('web'===n.Platform.OS)return(0,r.jsx)(n.View,Object.assign({hidden:!l,style:[{display:l?'flex':'none'},o.container,s],pointerEvents:l?'auto':'none'},f,{children:c}));return(0,r.jsx)(n.View,{style:[o.container,s],pointerEvents:l?'auto':'none',children:(0,r.jsx)(n.View,{collapsable:!1,removeClippedSubviews:'ios'!==n.Platform.OS&&'macos'!==n.Platform.OS||!l,pointerEvents:l?'auto':'none',style:l?o.attached:o.detached,children:c})})};var t=e(_r(d[1])),n=((function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,l)}for(var c in e)"default"!==c&&{}.hasOwnProperty.call(e,c)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,c))&&(o.get||o.set)?i(l,c,o):l[c]=e[c])})(e,t)})(_r(d[2])),_r(d[3])),r=_r(d[4]),i=["visible","children","style"];var o=n.StyleSheet.create({container:{flex:1,overflow:'hidden'},attached:{flex:1},detached:{flex:1,top:3e4}})},1110,[1,135,174,2,219]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.SafeAreaProviderCompat=c;var e=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?r:i){if(n.has(e))return n.get(e);n.set(e,l)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(o.get||o.set)?n(l,f,o):l[f]=e[f]);return l})(e,t)})(_r(d[0])),t=_r(d[1]),i=_r(d[2]);var r=t.Dimensions.get('window'),n=r.width,o=void 0===n?0:n,l=r.height,f=void 0===l?0:l,s='web'===t.Platform.OS||null==_r(d[3]).initialWindowMetrics?{frame:{x:0,y:0,width:o,height:f},insets:{top:0,left:0,right:0,bottom:0}}:_r(d[3]).initialWindowMetrics;function c(r){var n=r.children,o=r.style,l=e.useContext(_r(d[3]).SafeAreaInsetsContext);return n=(0,i.jsx)(_r(d[4]).FrameSizeProvider,{initialFrame:s.frame,children:n}),l?(0,i.jsx)(t.View,{style:[u.container,o],children:n}):(0,i.jsx)(_r(d[3]).SafeAreaProvider,{initialMetrics:s,style:o,children:n})}c.initialMetrics=s;var u=t.StyleSheet.create({container:{flex:1}})},1111,[174,2,219,1081,1090]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Screen=function(e){var u=(0,_r(d[5]).useSafeAreaInsets)(),l=n.useContext(_r(d[6]).HeaderShownContext),s=n.useContext(_r(d[7]).HeaderHeightContext),c=e.focused,f=e.modal,h=void 0!==f&&f,v=e.header,x=e.headerShown,p=void 0===x||x,y=e.headerTransparent,j=e.headerStatusBarHeight,S=void 0===j?l?0:u.top:j,_=e.navigation,b=e.route,w=e.children,H=e.style,C=(0,_r(d[8]).useFrameSize)(function(e){return(0,_r(d[9]).getDefaultHeaderHeight)(e,h,S)}),P=n.useState(C),M=(0,t.default)(P,2),O=M[0],k=M[1];return(0,o.jsxs)(_r(d[10]).Background,{"aria-hidden":!c,style:[i.container,H],collapsable:!1,children:[p?(0,o.jsx)(_r(d[11]).NavigationContext.Provider,{value:_,children:(0,o.jsx)(_r(d[11]).NavigationRouteContext.Provider,{value:b,children:(0,o.jsx)(r.View,{pointerEvents:"box-none",onLayout:function(e){var t=e.nativeEvent.layout.height;k(t)},style:[i.header,y?i.absolute:null],children:v})})}):null,(0,o.jsx)(r.View,{style:i.content,children:(0,o.jsx)(_r(d[6]).HeaderShownContext.Provider,{value:l||!1!==p,children:(0,o.jsx)(_r(d[7]).HeaderHeightContext.Provider,{value:p?O:null!=s?s:0,children:w})})})]})};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?o(u,l,i):u[l]=e[l]);return u})(e,t)})(_r(d[2])),r=_r(d[3]),o=_r(d[4]);var i=r.StyleSheet.create({container:{flex:1},content:{flex:1},header:{zIndex:1},absolute:{position:'absolute',top:0,start:0,end:0}})},1112,[1,38,174,2,219,1081,1091,1107,1090,1100,1066,949]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultSidebarWidth=void 0;e.getDefaultSidebarWidth=function(t){var u=t.width;return u-56<=360?u-56:360}},1113,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHeaderTitle=function(t,l){return'string'==typeof t.headerTitle?t.headerTitle:void 0!==t.title?t.title:l}},1114,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLabel=function(t,l){return void 0!==t.label?t.label:void 0!==t.title?t.title:l}},1115,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useHeaderHeight=function(){var t=e.useContext(_r(d[1]).HeaderHeightContext);if(void 0===t)throw new Error("Couldn't find the header height. Are you inside a screen in a navigator with a header?");return t};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(i.get||i.set)?o(u,f,i):u[f]=e[f]);return u})(e,t)})(_r(d[0]))},1116,[174,1107]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1117,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.BottomTabItem=function(t){var f=t.route,p=t.href,v=t.focused,S=t.descriptor,y=t.label,h=t.icon,x=t.badge,B=t.badgeStyle,C=t.button,w=void 0===C?c:C,U=t.accessibilityLabel,k=t.testID,j=t.onPress,V=t.onLongPress,I=t.horizontal,L=t.compact,P=t.sidebar,z=t.variant,K=t.activeTintColor,M=t.inactiveTintColor,T=t.activeBackgroundColor,D=t.inactiveBackgroundColor,O=void 0===D?'transparent':D,_=t.showLabel,F=void 0===_||_,H=t.allowFontScaling,E=void 0===H?!b&&void 0:H,R=t.labelStyle,q=t.iconStyle,A=t.style,G=(0,r(d[6]).useTheme)(),J=G.colors,N=G.fonts,Q=null!=K?K:'uikit'===z&&P&&I?(0,l.default)(J.primary).isDark()?'white':(0,l.default)(J.primary).darken(.71).string():J.primary,W=void 0===M?'material'===z?(0,l.default)(J.text).alpha(.68).rgb().string():(0,l.default)(J.text).mix((0,l.default)(J.card),.5).hex():M,X=null!=T?T:'material'===z?(0,l.default)(Q).alpha(.12).rgb().string():P&&I?J.primary:'transparent',Y=S.options,Z=(0,r(d[5]).getLabel)({label:'string'==typeof Y.tabBarLabel?Y.tabBarLabel:void 0,title:Y.title},f.name),$=W,ee=W;'uikit'===z&&P&&I&&void 0===M&&(ee=J.primary,$=J.text);var te={route:f,focused:v},ae=v?X:O,ie=o.StyleSheet.flatten(A||{}).flex,re='material'===z?I?56:16:P&&I?10:0;return(0,s.jsx)(o.View,{style:[{borderRadius:re,overflow:'material'===z?'hidden':'visible'},A],children:w({href:p,onPress:j,onLongPress:V,testID:k,'aria-label':U,accessibilityLargeContentTitle:Z,accessibilityShowsLargeContentViewer:!0,role:o.Platform.select({ios:'button',default:'tab'}),'aria-selected':v,android_ripple:{borderless:!0},hoverEffect:'material'===z||P&&I?{color:J.text}:void 0,pressOpacity:1,style:[u.tab,{flex:ie,backgroundColor:ae,borderRadius:re},P?'material'===z?I?u.tabBarSidebarMaterial:u.tabVerticalMaterial:I?u.tabBarSidebarUiKit:u.tabVerticalUiKit:'material'===z?u.tabVerticalMaterial:I?u.tabHorizontalUiKit:u.tabVerticalUiKit],children:(0,s.jsxs)(n.default.Fragment,{children:[(function(t){var l=t.focused;if(void 0===h)return null;var n=l?1:0,o=l?0:1;return(0,s.jsx)(r(d[7]).TabBarIcon,{route:f,variant:z,size:L?'compact':'regular',badge:x,badgeStyle:B,activeOpacity:n,allowFontScaling:E,inactiveOpacity:o,activeTintColor:Q,inactiveTintColor:ee,renderIcon:h,style:q})})(te),(function(t){var l=t.focused;if(!1===F)return null;var n=l?Q:$;return'string'!=typeof y?y({focused:l,color:n,position:I?'beside-icon':'below-icon',children:Z}):(0,s.jsx)(r(d[5]).Label,{style:[I?[u.labelBeside,'material'===z?u.labelSidebarMaterial:P?u.labelSidebarUiKit:L?u.labelBesideUikitCompact:u.labelBesideUikit,null==h&&{marginStart:0}]:u.labelBeneath,L||'uikit'===z&&P&&I?N.regular:N.medium,R],allowFontScaling:E,tintColor:n,children:y})})(te)]})})})};var l=t(r(d[1])),n=t(r(d[2])),o=r(d[3]),s=r(d[4]),c=function(t){return(0,s.jsx)(r(d[5]).PlatformPressable,Object.assign({},t))},b='ios'===o.Platform.OS&&parseInt(o.Platform.Version,10)>=13;var u=o.StyleSheet.create({tab:{alignItems:'center',borderRadius:10},tabVerticalUiKit:{justifyContent:'flex-start',flexDirection:'column',padding:5},tabVerticalMaterial:{padding:10},tabHorizontalUiKit:{justifyContent:'center',alignItems:'center',flexDirection:'row',padding:5},tabBarSidebarUiKit:{justifyContent:'flex-start',alignItems:'center',flexDirection:'row',paddingVertical:7,paddingHorizontal:5},tabBarSidebarMaterial:{justifyContent:'flex-start',alignItems:'center',flexDirection:'row',paddingVertical:15,paddingStart:16,paddingEnd:24},labelSidebarMaterial:{marginStart:12},labelSidebarUiKit:{fontSize:17,marginStart:10},labelBeneath:{fontSize:10},labelBeside:{marginEnd:12,lineHeight:24},labelBesideUikit:{fontSize:13,marginStart:5},labelBesideUikitCompact:{fontSize:12,marginStart:5}})},1118,[1,1068,174,2,219,1065,949,1119]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TabBarIcon=function(t){t.route;var h=t.variant,w=t.size,u=t.badge,y=t.badgeStyle,v=t.activeOpacity,b=t.inactiveOpacity,f=t.activeTintColor,j=t.inactiveTintColor,S=t.renderIcon,C=t.allowFontScaling,k=t.style,x='material'===h?s:'compact'===w?l:n;return(0,c.jsxs)(o.View,{style:['material'===h?p.wrapperMaterial:'compact'===w?p.wrapperUikitCompact:p.wrapperUikit,k],children:[(0,c.jsx)(o.View,{style:[p.icon,{opacity:v,minWidth:x}],children:S({focused:!0,size:x,color:f})}),(0,c.jsx)(o.View,{style:[p.icon,{opacity:b}],children:S({focused:!1,size:x,color:j})}),(0,c.jsx)(r(d[4]).Badge,{visible:null!=u,size:.75*x,allowFontScaling:C,style:[p.badge,y],children:u})]})};t(r(d[1]));var o=r(d[2]),c=r(d[3]),n=25,l=18,s=24;var p=o.StyleSheet.create({icon:{position:'absolute',alignSelf:'center',alignItems:'center',justifyContent:'center',height:'100%',width:'100%'},wrapperUikit:{width:31,height:28},wrapperUikitCompact:{width:23,height:20},wrapperMaterial:{width:s,height:s},badge:{position:'absolute',end:-3,top:-3}})},1119,[1,174,2,219,1120]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Badge=function(e){var p=e.children,v=e.style,h=e.visible,b=void 0===h||h,y=e.size,_=void 0===y?18:y,S=(0,n.default)(e,l),w=i.useState(function(){return new o.Animated.Value(b?1:0)}),O=(0,t.default)(w,1)[0],k=i.useState(b),j=(0,t.default)(k,2),M=j[0],A=j[1],P=(0,_r(d[7]).useTheme)(),x=P.colors,z=P.fonts;if(i.useEffect(function(){if(M)return o.Animated.timing(O,{toValue:b?1:0,duration:150,useNativeDriver:c}).start(function(e){e.finished&&!b&&A(!1)}),function(){return O.stopAnimation()}},[O,M,b]),!M){if(!b)return null;A(!0)}var W=o.StyleSheet.flatten(v)||{},C=W.backgroundColor,R=void 0===C?x.notification:C,D=(0,n.default)(W,f),H=(0,r.default)(R).isLight()?'black':'white',L=_/2,T=Math.floor(3*_/4);return(0,u.jsx)(o.Animated.Text,Object.assign({numberOfLines:1,style:[{transform:[{scale:O.interpolate({inputRange:[0,1],outputRange:[.5,1]})}],color:H,lineHeight:_-1,height:_,minWidth:_,opacity:O,backgroundColor:R,fontSize:T,borderRadius:L},z.regular,s.container,D]},S,{children:p}))};var t=e(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),i=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,u)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(o.get||o.set)?i(u,l,o):u[l]=e[l]);return u})(e,t)})(_r(d[4])),o=_r(d[5]),u=_r(d[6]),l=["children","style","visible","size"],f=["backgroundColor"];var c='web'!==o.Platform.OS;var s=o.StyleSheet.create({container:{alignSelf:'flex-end',textAlign:'center',paddingHorizontal:4,overflow:'hidden'}})},1120,[1,38,135,1068,174,2,219,949]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.BottomTabBarHeightContext=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,f)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(i.get||i.set)?n(f,u,i):f[u]=e[u]);return f})(e,t)})(_r(d[0]));_e.BottomTabBarHeightContext=e.createContext(void 0)},1121,[174]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BottomTabView=function(e){var h=e.tabBar,S=void 0===h?v:h,b=e.state,x=e.navigation,k=e.descriptors,j=e.safeAreaInsets,B=e.detachInactiveScreens,O=void 0===B?'web'===r.Platform.OS||'android'===r.Platform.OS||'ios'===r.Platform.OS:B,T=b.routes[b.index].key,P=o.useState([T]),w=(0,n.default)(P,2),A=w[0],M=w[1];A.includes(T)||M([].concat((0,t.default)(A),[T]));var _=o.useRef(T),C=(0,_r(d[8]).useAnimatedHashMap)(b);o.useEffect(function(){var e,t,n=_.current;if(n!==T&&null!=(e=k[n])&&e.options.popToTopOnBlur){var o,i=b.routes.find(function(e){return e.key===n});'stack'===(null==i||null==(o=i.state)?void 0:o.type)&&i.state.key&&(t=Object.assign({},_r(d[9]).StackActions.popToTop(),{target:i.state.key}))}n!==T&&x.emit({type:'transitionStart',target:T}),r.Animated.parallel(b.routes.map(function(e,t){var o=k[e.key].options,i=o.animation,s=void 0===i?'none':i,l=o.transitionSpec,u=void 0===l?c[s].transitionSpec:l;e.key!==n&&e.key!==T&&(u=c.none.transitionSpec),u=null!=u?u:c.none.transitionSpec;var p=t===b.index?0:t>=b.index?1:-1;return r.Animated[u.animation](C[e.key],Object.assign({},u.config,{toValue:p,useNativeDriver:f}))}).filter(Boolean)).start(function(e){e.finished&&t&&x.dispatch(t),n!==T&&x.emit({type:'transitionEnd',target:T})}),_.current=T},[k,T,x,b.index,b.routes,C]);var H=_r(d[10]).SafeAreaProviderCompat.initialMetrics.frame,I=o.useState(function(){return(0,_r(d[7]).getTabBarHeight)({state:b,descriptors:k,dimensions:H,insets:Object.assign({},_r(d[10]).SafeAreaProviderCompat.initialMetrics.insets,e.safeAreaInsets),style:k[b.routes[b.index].key].options.tabBarStyle})}),z=(0,n.default)(I,2),R=z[0],D=z[1],F=b.routes,W=!F.some(function(e){return p(k[e.key].options)}),E=k[T].options.tabBarPosition,V=void 0===E?'bottom':E,K=(0,i.jsx)(_r(d[12]).BottomTabBarHeightCallbackContext.Provider,{value:D,children:(0,i.jsx)(_r(d[11]).SafeAreaInsetsContext.Consumer,{children:function(e){var t,n,o,r,i,s,l,u;return S({state:b,descriptors:k,navigation:x,insets:{top:null!=(t=null!=(n=null==j?void 0:j.top)?n:null==e?void 0:e.top)?t:0,right:null!=(o=null!=(r=null==j?void 0:j.right)?r:null==e?void 0:e.right)?o:0,bottom:null!=(i=null!=(s=null==j?void 0:j.bottom)?s:null==e?void 0:e.bottom)?i:0,left:null!=(l=null!=(u=null==j?void 0:j.left)?u:null==e?void 0:e.left)?l:0}})}})},"tabbar");return(0,i.jsxs)(_r(d[10]).SafeAreaProviderCompat,{style:{flexDirection:'left'===V||'right'===V?'row':'column'},children:['top'===V||'left'===V?K:null,(0,i.jsx)(_r(d[13]).MaybeScreenContainer,{enabled:O,hasTwoStates:W,style:y.screens,children:F.map(function(e,t){var n,o=k[e.key],f=o.options,v=f.lazy,y=void 0===v||v,h=f.animation,S=void 0===h?'none':h,x=f.sceneStyleInterpolator,j=void 0===x?c[S].sceneStyleInterpolator:x,B=b.index===t,T=b.preloadedRouteKeys.includes(e.key);if(y&&!A.includes(e.key)&&!B&&!T)return null;var P=o.options,w=P.freezeOnBlur,M=P.header,_=void 0===M?function(t){var n=t.layout,o=t.options;return(0,i.jsx)(_r(d[10]).Header,Object.assign({},o,{layout:n,title:(0,_r(d[10]).getHeaderTitle)(o,e.name)}))}:M,I=P.headerShown,z=P.headerStatusBarHeight,D=P.headerTransparent,F=P.sceneStyle,W=(null!=(n=null==j?void 0:j({current:{progress:C[e.key]}}))?n:{}).sceneStyle,E=p(o.options),K=B?u:E?C[e.key].interpolate({inputRange:[0,.99999,1],outputRange:[l,l,s],extrapolate:'extend'}):s;return(0,i.jsx)(_r(d[13]).MaybeScreen,{style:[r.StyleSheet.absoluteFill,{zIndex:B?0:-1}],active:K,enabled:O,freezeOnBlur:w,shouldFreeze:K===s&&!T,children:(0,i.jsx)(_r(d[14]).BottomTabBarHeightContext.Provider,{value:'bottom'===V?R:0,children:(0,i.jsx)(_r(d[10]).Screen,{focused:B,route:o.route,navigation:o.navigation,headerShown:I,headerStatusBarHeight:z,headerTransparent:D,header:_({layout:H,route:o.route,navigation:o.navigation,options:o.options}),style:[F,E&&W],children:o.render()})})},e.key)})},"screens"),'bottom'===V||'right'===V?K:null]})};var t=e(_r(d[1])),n=e(_r(d[2])),o=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?o:n){if(r.has(e))return r.get(e);r.set(e,s)}for(var l in e)"default"!==l&&{}.hasOwnProperty.call(e,l)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,l))&&(i.get||i.set)?r(s,l,i):s[l]=e[l]);return s})(e,t)})(_r(d[3])),r=_r(d[4]),i=_r(d[5]);var s=0,l=1,u=2,c={fade:_r(d[6]).FadeTransition,shift:_r(d[6]).ShiftTransition,none:{sceneStyleInterpolator:void 0,transitionSpec:{animation:'timing',config:{duration:0}}}},f='web'!==r.Platform.OS,p=function(e){var t=e.animation,n=e.transitionSpec;return t?'none'!==t:Boolean(n)},v=function(e){return(0,i.jsx)(_r(d[7]).BottomTabBar,Object.assign({},e))};var y=r.StyleSheet.create({screens:{flex:1,overflow:'hidden'}})},1122,[1,6,38,174,2,219,1123,948,1126,949,1065,1081,1064,1127,1121]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftTransition=e.FadeTransition=void 0;e.FadeTransition={transitionSpec:r(d[0]).FadeSpec,sceneStyleInterpolator:r(d[1]).forFade},e.ShiftTransition={transitionSpec:r(d[0]).ShiftSpec,sceneStyleInterpolator:r(d[1]).forShift}},1123,[1124,1125]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftSpec=e.FadeSpec=void 0;var n=r(d[0]);e.FadeSpec={animation:'timing',config:{duration:150,easing:n.Easing.in(n.Easing.linear)}},e.ShiftSpec={animation:'timing',config:{duration:150,easing:n.Easing.inOut(n.Easing.ease)}}},1124,[2]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forFade=function(t){return{sceneStyle:{opacity:t.current.progress.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0]})}}},e.forShift=function(t){var n=t.current;return{sceneStyle:{opacity:n.progress.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0]}),transform:[{translateX:n.progress.interpolate({inputRange:[-1,0,1],outputRange:[-50,0,50]})}]}}}},1125,[]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useAnimatedHashMap=function(r){var n=r.routes,u=r.index,f=e.useRef({}),o=f.current,i=Object.keys(o);if(n.length===i.length&&n.every(function(e){return i.includes(e.key)}))return o;return f.current={},n.forEach(function(e,r){var n,i=e.key;f.current[i]=null!=(n=o[i])?n:new t.Animated.Value(r===u?0:r>=u?1:-1)}),f.current};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,o)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?u(o,i,f):o[i]=e[i]);return o})(e,t)})(_r(d[0])),t=_r(d[1])},1126,[174,2]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MaybeScreen=function(e){var i,s=e.enabled,u=e.active,o=(0,t.default)(e,l);if(null!=(i=n)&&null!=i.screensEnabled&&i.screensEnabled())return(0,c.jsx)(n.Screen,Object.assign({enabled:s,activityState:u},o));return(0,c.jsx)(r.View,Object.assign({},o))},_e.MaybeScreenContainer=void 0;var n,t=e(_r(d[1])),r=((function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;(function(e,n){if(!n&&e&&e.__esModule)return e;var c,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(c=n?r:t){if(c.has(e))return c.get(e);c.set(e,l)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((i=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(i.get||i.set)?c(l,s,i):l[s]=e[s])})(e,n)})(_r(d[2])),_r(d[3])),c=_r(d[4]),i=["enabled"],l=["enabled","active"];try{n=_r(d[5])}catch(e){}_e.MaybeScreenContainer=function(e){var l,s=e.enabled,u=(0,t.default)(e,i);return null!=(l=n)&&null!=l.screensEnabled&&l.screensEnabled()?(0,c.jsx)(n.ScreenContainer,Object.assign({enabled:s},u)):(0,c.jsx)(r.View,Object.assign({},u))}},1127,[1,135,174,2,219,1128]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0});var r={enableScreens:!0,enableFreeze:!0,screensEnabled:!0,freezeEnabled:!0,Screen:!0,InnerScreen:!0,ScreenContext:!0,ScreenStackHeaderConfig:!0,ScreenStackHeaderSubview:!0,ScreenStackHeaderLeftView:!0,ScreenStackHeaderCenterView:!0,ScreenStackHeaderRightView:!0,ScreenStackHeaderBackButtonImage:!0,ScreenStackHeaderSearchBarView:!0,SearchBar:!0,ScreenContainer:!0,ScreenStack:!0,ScreenStackItem:!0,FullWindowOverlay:!0,ScreenFooter:!0,ScreenContentWrapper:!0,isSearchBarAvailableForCurrentPlatform:!0,compatibilityFlags:!0,executeNativeBackPress:!0,useTransitionProgress:!0};Object.defineProperty(_e,"FullWindowOverlay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(_e,"InnerScreen",{enumerable:!0,get:function(){return t.InnerScreen}}),Object.defineProperty(_e,"Screen",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(_e,"ScreenContainer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(_e,"ScreenContentWrapper",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(_e,"ScreenContext",{enumerable:!0,get:function(){return t.ScreenContext}}),Object.defineProperty(_e,"ScreenFooter",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(_e,"ScreenStack",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(_e,"ScreenStackHeaderBackButtonImage",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderBackButtonImage}}),Object.defineProperty(_e,"ScreenStackHeaderCenterView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderCenterView}}),Object.defineProperty(_e,"ScreenStackHeaderConfig",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderConfig}}),Object.defineProperty(_e,"ScreenStackHeaderLeftView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderLeftView}}),Object.defineProperty(_e,"ScreenStackHeaderRightView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderRightView}}),Object.defineProperty(_e,"ScreenStackHeaderSearchBarView",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderSearchBarView}}),Object.defineProperty(_e,"ScreenStackHeaderSubview",{enumerable:!0,get:function(){return _r(d[1]).ScreenStackHeaderSubview}}),Object.defineProperty(_e,"ScreenStackItem",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(_e,"SearchBar",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(_e,"compatibilityFlags",{enumerable:!0,get:function(){return _r(d[2]).compatibilityFlags}}),Object.defineProperty(_e,"enableFreeze",{enumerable:!0,get:function(){return _r(d[3]).enableFreeze}}),Object.defineProperty(_e,"enableScreens",{enumerable:!0,get:function(){return _r(d[3]).enableScreens}}),Object.defineProperty(_e,"executeNativeBackPress",{enumerable:!0,get:function(){return _r(d[2]).executeNativeBackPress}}),Object.defineProperty(_e,"freezeEnabled",{enumerable:!0,get:function(){return _r(d[3]).freezeEnabled}}),Object.defineProperty(_e,"isSearchBarAvailableForCurrentPlatform",{enumerable:!0,get:function(){return _r(d[2]).isSearchBarAvailableForCurrentPlatform}}),Object.defineProperty(_e,"screensEnabled",{enumerable:!0,get:function(){return _r(d[3]).screensEnabled}}),Object.defineProperty(_e,"useTransitionProgress",{enumerable:!0,get:function(){return b.default}}),_r(d[4]),Object.keys(_r(d[5])).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in _e&&_e[e]===_r(d[5])[e]||Object.defineProperty(_e,e,{enumerable:!0,get:function(){return _r(d[5])[e]}}))});var t=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,n=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var c,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(c=r?n:t){if(c.has(e))return c.get(e);c.set(e,i)}for(var o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((u=(c=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(u.get||u.set)?c(i,o,u):i[o]=e[o]);return i})(e,r)})(_r(d[6])),n=e(_r(d[7])),c=e(_r(d[8])),u=e(_r(d[9])),i=e(_r(d[10])),o=e(_r(d[11])),f=e(_r(d[12])),l=e(_r(d[13])),b=e(_r(d[14]))},1128,[1,1129,1134,1135,1136,1137,1138,1146,1148,1151,1155,1161,1159,1157,1163]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ScreenStackHeaderSubview=e.ScreenStackHeaderSearchBarView=e.ScreenStackHeaderRightView=e.ScreenStackHeaderLeftView=e.ScreenStackHeaderConfig=e.ScreenStackHeaderCenterView=e.ScreenStackHeaderBackButtonImage=void 0;var n=t(r(d[1])),c=t(r(d[2])),s=r(d[3]),S=t(r(d[4])),o=t(r(d[5])),u=r(d[6]),l=["style"],f=["style"],w=["style"],y=e.ScreenStackHeaderSubview=o.default;(e.ScreenStackHeaderConfig=c.default.forwardRef(function(t,n){return(0,u.jsx)(S.default,Object.assign({},t,{ref:n,topInsetEnabled:!!r(d[7]).EDGE_TO_EDGE||t.topInsetEnabled,style:b.headerConfig,pointerEvents:"box-none"}))})).displayName='ScreenStackHeaderConfig';e.ScreenStackHeaderBackButtonImage=function(t){return(0,u.jsx)(y,{type:"back",style:b.headerSubview,children:(0,u.jsx)(s.Image,Object.assign({resizeMode:"center",fadeDuration:0},t))})},e.ScreenStackHeaderRightView=function(t){var c=t.style,s=(0,n.default)(t,l);return(0,u.jsx)(y,Object.assign({},s,{type:"right",style:[b.headerSubview,c]}))},e.ScreenStackHeaderLeftView=function(t){var c=t.style,s=(0,n.default)(t,f);return(0,u.jsx)(y,Object.assign({},s,{type:"left",style:[b.headerSubview,c]}))},e.ScreenStackHeaderCenterView=function(t){var c=t.style,s=(0,n.default)(t,w);return(0,u.jsx)(y,Object.assign({},s,{type:"center",style:[b.headerSubviewCenter,c]}))},e.ScreenStackHeaderSearchBarView=function(t){return(0,u.jsx)(y,Object.assign({},t,{type:"searchBar",style:b.headerSubview}))};var b=s.StyleSheet.create({headerSubview:{flexDirection:'row',alignItems:'center',justifyContent:'center'},headerSubviewCenter:{flexDirection:'row',alignItems:'center',justifyContent:'center',flexShrink:1},headerConfig:{position:'absolute',width:'100%',flexDirection:'row',justifyContent:'space-between',alignItems:'ios'===s.Platform.OS?'center':void 0}})},1129,[1,135,174,2,1130,1131,219,1132]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var o=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenStackHeaderConfig",directEventTypes:{topAttached:{registrationName:"onAttached"},topDetached:{registrationName:"onDetached"}},validAttributes:Object.assign({backgroundColor:{process:r(d[2]).default},backTitle:!0,backTitleFontFamily:!0,backTitleFontSize:!0,backTitleVisible:!0,color:{process:r(d[2]).default},direction:!0,hidden:!0,hideShadow:!0,largeTitle:!0,largeTitleFontFamily:!0,largeTitleFontSize:!0,largeTitleFontWeight:!0,largeTitleBackgroundColor:{process:r(d[2]).default},largeTitleHideShadow:!0,largeTitleColor:{process:r(d[2]).default},translucent:!0,title:!0,titleFontFamily:!0,titleFontSize:!0,titleFontWeight:!0,titleColor:{process:r(d[2]).default},disableBackButtonMenu:!0,backButtonDisplayMode:!0,hideBackButton:!0,backButtonInCustomView:!0,blurEffect:!0,topInsetEnabled:!0},r(d[3]).ConditionallyIgnoredEventHandlers({onAttached:!0,onDetached:!0}))};e.default=r(d[4]).get('RNSScreenStackHeaderConfig',function(){return o})},1130,[1,261,184,217,181]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var _=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenStackHeaderSubview",validAttributes:{type:!0}};e.default=r(d[2]).get('RNSScreenStackHeaderSubview',function(){return _})},1131,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.EDGE_TO_EDGE=void 0,e.transformEdgeToEdgeProps=function(n){n.statusBarColor,n.statusBarTranslucent,n.navigationBarColor,n.navigationBarTranslucent;return(0,t.default)(n,o)};var t=n(r(d[1])),o=["statusBarColor","statusBarTranslucent","navigationBarColor","navigationBarTranslucent"];e.EDGE_TO_EDGE=(0,r(d[2]).isEdgeToEdge)()},1132,[1,135,1133]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);var o=r(d[1]);e.controlEdgeToEdgeValues=function(o){},e.isEdgeToEdge=function(){var n,t;return null!=o.TurboModuleRegistry.get("RNEdgeToEdge")||!0===(null==(t=null==(n=o.TurboModuleRegistry.get("DeviceInfo"))?void 0:n.getConstants)?void 0:t.call(n).isEdgeToEdge)}},1133,[38,2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.compatibilityFlags=void 0,e.executeNativeBackPress=function(){return t.BackHandler.exitApp(),!0},e.isSearchBarAvailableForCurrentPlatform=void 0;var t=r(d[0]);e.isSearchBarAvailableForCurrentPlatform=['ios','android'].includes(t.Platform.OS);e.compatibilityFlags={isNewBackTitleImplementation:!0,usesHeaderFlexboxImplementation:!0}},1134,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.enableFreeze=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!t)return;l=n},e.enableScreens=function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(o=l,!t)return;o&&!n.UIManager.getViewManagerConfig('RNSScreen')&&console.error("Screen native module hasn't been linked. Please check the react-native-screens README for more details")},e.freezeEnabled=function(){return l},e.isNativePlatformSupported=void 0,e.screensEnabled=function(){return o};var n=r(d[0]),t=e.isNativePlatformSupported='ios'===n.Platform.OS||'android'===n.Platform.OS||'windows'===n.Platform.OS,o=t;var l=!1},1135,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(d[0]);e.default=u.TurboModuleRegistry.get('RNSModule')},1136,[2]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})},1137,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ScreenContext=e.InnerScreen=void 0;var n=t(r(d[1])),l=t(r(d[2])),o=r(d[3]),s=t(r(d[4])),u=t(r(d[5])),v=t(r(d[6])),c=t(r(d[7])),f=r(d[8]),p=["enabled","freezeOnBlur","shouldFreeze"],h=["active","activityState","children","isNativeStack","gestureResponseDistance","onGestureCancel","style"],b=["active","activityState","style","onComponentRef"],y=o.Animated.createAnimatedComponent(v.default),A=o.Animated.createAnimatedComponent(c.default),S=e.InnerScreen=l.default.forwardRef(function(t,v){var c=l.default.useRef(null);l.default.useImperativeHandle(v,function(){return c.current},[]);var S=(0,r(d[9]).usePrevious)(t.activityState),w=function(n){c.current=n,null==t.onComponentRef||t.onComponentRef(n)},C=l.default.useRef(new o.Animated.Value(0)).current,D=l.default.useRef(new o.Animated.Value(0)).current,E=l.default.useRef(new o.Animated.Value(0)).current,x=t.enabled,R=void 0===x?(0,r(d[10]).screensEnabled)():x,I=t.freezeOnBlur,j=void 0===I?(0,r(d[10]).freezeEnabled)():I,_=t.shouldFreeze,O=(0,n.default)(t,p),P=O.sheetAllowedDetents,z=void 0===P?[1]:P,G=O.sheetLargestUndimmedDetentIndex,N=void 0===G?r(d[11]).SHEET_DIMMED_ALWAYS:G,T=O.sheetGrabberVisible,W=void 0!==T&&T,k=O.sheetCornerRadius,V=void 0===k?-1:k,M=O.sheetExpandsWhenScrolledToEdge,F=void 0===M||M,L=O.sheetElevation,U=void 0===L?24:L,B=O.sheetInitialDetentIndex,H=void 0===B?0:B,Y=O.stackPresentation,q=O.onAppear,J=O.onDisappear,K=O.onWillAppear,Q=O.onWillDisappear;if(R&&r(d[10]).isNativePlatformSupported){var X,Z,$,ee,te,ne=(0,r(d[11]).resolveSheetAllowedDetents)(z),ae=(0,r(d[11]).resolveSheetLargestUndimmedDetent)(N,ne.length-1),ie=(0,r(d[11]).resolveSheetInitialDetentIndex)(H,ne.length-1),le=o.Platform.select({ios:!(void 0===Y||'push'===Y||'containedModal'===Y||'containedTransparentModal'===Y),android:!1,default:!1})?A:y,oe=O.active,re=O.activityState,se=O.children,de=O.isNativeStack,ue=O.gestureResponseDistance,ve=O.onGestureCancel,ce=O.style,fe=(0,n.default)(O,h);if(void 0!==oe&&void 0===re&&(console.warn('It appears that you are using old version of react-navigation library. Please update @react-navigation/bottom-tabs, @react-navigation/stack and @react-navigation/drawer to version 5.10.0 or above to take full advantage of new functionality added to react-native-screens'),re=0!==oe?2:0),de&&void 0!==S&&void 0!==re&&S>re)throw new Error('[RNScreens] activityState cannot be decreased in NativeStack');var pe=j&&(void 0!==_?_:0===re);return(0,f.jsx)(u.default,{freeze:pe,children:(0,f.jsx)(le,Object.assign({},fe,{onAppear:q,onDisappear:J,onWillAppear:K,onWillDisappear:Q,onGestureCancel:null!=(X=ve)?X:function(){},style:[ce,{zIndex:void 0}],activityState:re,sheetAllowedDetents:ne,sheetLargestUndimmedDetent:ae,sheetElevation:U,sheetGrabberVisible:W,sheetCornerRadius:V,sheetExpandsWhenScrolledToEdge:F,sheetInitialDetent:ie,gestureResponseDistance:{start:null!=(Z=null==ue?void 0:ue.start)?Z:-1,end:null!=($=null==ue?void 0:ue.end)?$:-1,top:null!=(ee=null==ue?void 0:ue.top)?ee:-1,bottom:null!=(te=null==ue?void 0:ue.bottom)?te:-1},ref:function(t){var n,l;null!=t&&null!=(n=t.viewConfig)&&null!=(n=n.validAttributes)&&n.style?(t.viewConfig.validAttributes.style=Object.assign({},t.viewConfig.validAttributes.style,{display:null}),w(t)):null!=t&&null!=(l=t._viewConfig)&&null!=(l=l.validAttributes)&&l.style&&(t._viewConfig.validAttributes.style=Object.assign({},t._viewConfig.validAttributes.style,{display:null}),w(t))},onTransitionProgress:de?o.Animated.event([{nativeEvent:{progress:D,closing:C,goingForward:E}}],{useNativeDriver:!0}):void 0,children:de?(0,f.jsx)(s.default.Provider,{value:{progress:D,closing:C,goingForward:E},children:se}):se}))})}var ge=O.active,he=O.activityState,be=O.style,me=(O.onComponentRef,(0,n.default)(O,b));return void 0!==ge&&void 0===he&&(he=0!==ge?2:0),(0,f.jsx)(o.Animated.View,Object.assign({style:[be,{display:0!==he?'flex':'none'}],ref:w},me))}),w=e.ScreenContext=l.default.createContext(S),C=l.default.forwardRef(function(t,n){var o=l.default.useContext(w)||S;return(0,f.jsx)(o,Object.assign({},r(d[12]).EDGE_TO_EDGE?(0,r(d[12]).transformEdgeToEdgeProps)(t):t,{ref:n}))});C.displayName='Screen';e.default=C},1138,[1,135,174,2,1139,1140,1142,1143,219,1144,1135,1145,1132]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(f.get||f.set)?o(u,i,f):u[i]=e[i]);return u})(e,t)})(_r(d[0]));_e.default=e.createContext(void 0)},1139,[174]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),n=r(d[3]);e.default=function(t){var c=t.freeze,l=t.children,o=f.default.useState(!1),v=(0,u.default)(o,2),s=v[0],_=v[1];return f.default.useEffect(function(){var t=setImmediate(function(){_(c)});return function(){clearImmediate(t)}},[c]),(0,n.jsx)(r(d[4]).Freeze,{freeze:!!c&&s,children:l})}},1140,[1,38,174,219,1141]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.Freeze=function(n){var f=n.freeze,o=n.children,i=n.placeholder,u=void 0===i?null:i;return(0,r.jsx)(e.Suspense,{fallback:u,children:(0,r.jsx)(t,{freeze:f,children:o})})};var e=(function(e,r){if("function"==typeof WeakMap)var n=new WeakMap,t=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var f,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(f=r?t:n){if(f.has(e))return f.get(e);f.set(e,i)}for(var u in e)"default"!==u&&{}.hasOwnProperty.call(e,u)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,u))&&(o.get||o.set)?f(i,u,o):i[u]=e[u]);return i})(e,r)})(_r(d[0])),r=_r(d[1]);var n={then:function(){}};function t(t){var f=t.freeze,o=t.children;if(f)throw n;return(0,r.jsx)(e.Fragment,{children:o})}},1141,[174,219]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreen",directEventTypes:{topAppear:{registrationName:"onAppear"},topDisappear:{registrationName:"onDisappear"},topDismissed:{registrationName:"onDismissed"},topNativeDismissCancelled:{registrationName:"onNativeDismissCancelled"},topWillAppear:{registrationName:"onWillAppear"},topWillDisappear:{registrationName:"onWillDisappear"},topHeaderHeightChange:{registrationName:"onHeaderHeightChange"},topTransitionProgress:{registrationName:"onTransitionProgress"},topGestureCancel:{registrationName:"onGestureCancel"},topHeaderBackButtonClicked:{registrationName:"onHeaderBackButtonClicked"},topSheetDetentChanged:{registrationName:"onSheetDetentChanged"}},validAttributes:Object.assign({sheetAllowedDetents:!0,sheetLargestUndimmedDetent:!0,sheetGrabberVisible:!0,sheetCornerRadius:!0,sheetExpandsWhenScrolledToEdge:!0,sheetInitialDetent:!0,sheetElevation:!0,customAnimationOnSwipe:!0,fullScreenSwipeEnabled:!0,fullScreenSwipeShadowEnabled:!0,homeIndicatorHidden:!0,preventNativeDismiss:!0,gestureEnabled:!0,statusBarColor:{process:r(d[2]).default},statusBarHidden:!0,screenOrientation:!0,statusBarAnimation:!0,statusBarStyle:!0,statusBarTranslucent:!0,gestureResponseDistance:!0,stackPresentation:!0,stackAnimation:!0,transitionDuration:!0,replaceAnimation:!0,swipeDirection:!0,hideKeyboardOnSwipe:!0,activityState:!0,navigationBarColor:{process:r(d[2]).default},navigationBarTranslucent:!0,navigationBarHidden:!0,nativeBackButtonDismissalEnabled:!0},r(d[3]).ConditionallyIgnoredEventHandlers({onAppear:!0,onDisappear:!0,onDismissed:!0,onNativeDismissCancelled:!0,onWillAppear:!0,onWillDisappear:!0,onHeaderHeightChange:!0,onTransitionProgress:!0,onGestureCancel:!0,onHeaderBackButtonClicked:!0,onSheetDetentChanged:!0}))};e.default=r(d[4]).get('RNSScreen',function(){return n})},1142,[1,261,184,217,181]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSModalScreen",directEventTypes:{topAppear:{registrationName:"onAppear"},topDisappear:{registrationName:"onDisappear"},topDismissed:{registrationName:"onDismissed"},topNativeDismissCancelled:{registrationName:"onNativeDismissCancelled"},topWillAppear:{registrationName:"onWillAppear"},topWillDisappear:{registrationName:"onWillDisappear"},topHeaderHeightChange:{registrationName:"onHeaderHeightChange"},topTransitionProgress:{registrationName:"onTransitionProgress"},topGestureCancel:{registrationName:"onGestureCancel"},topHeaderBackButtonClicked:{registrationName:"onHeaderBackButtonClicked"},topSheetDetentChanged:{registrationName:"onSheetDetentChanged"}},validAttributes:Object.assign({sheetAllowedDetents:!0,sheetLargestUndimmedDetent:!0,sheetGrabberVisible:!0,sheetCornerRadius:!0,sheetExpandsWhenScrolledToEdge:!0,sheetInitialDetent:!0,sheetElevation:!0,customAnimationOnSwipe:!0,fullScreenSwipeEnabled:!0,fullScreenSwipeShadowEnabled:!0,homeIndicatorHidden:!0,preventNativeDismiss:!0,gestureEnabled:!0,statusBarColor:{process:r(d[2]).default},statusBarHidden:!0,screenOrientation:!0,statusBarAnimation:!0,statusBarStyle:!0,statusBarTranslucent:!0,gestureResponseDistance:!0,stackPresentation:!0,stackAnimation:!0,transitionDuration:!0,replaceAnimation:!0,swipeDirection:!0,hideKeyboardOnSwipe:!0,activityState:!0,navigationBarColor:{process:r(d[2]).default},navigationBarTranslucent:!0,navigationBarHidden:!0,nativeBackButtonDismissalEnabled:!0},r(d[3]).ConditionallyIgnoredEventHandlers({onAppear:!0,onDisappear:!0,onDismissed:!0,onNativeDismissCancelled:!0,onWillAppear:!0,onWillDisappear:!0,onHeaderHeightChange:!0,onTransitionProgress:!0,onGestureCancel:!0,onHeaderBackButtonClicked:!0,onSheetDetentChanged:!0}))};e.default=r(d[4]).get('RNSModalScreen',function(){return n})},1143,[1,261,184,217,181]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.usePrevious=function(n){var t=(0,u.useRef)();return(0,u.useEffect)(function(){t.current=n}),t.current};var u=r(d[0])},1144,[174]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SHEET_FIT_TO_CONTENTS=e.SHEET_DIMMED_ALWAYS=e.SHEET_COMPAT_MEDIUM=e.SHEET_COMPAT_LARGE=e.SHEET_COMPAT_ALL=void 0,e.assertDetentsArrayIsSorted=function(t){for(var n=1;n<t.length;n++)if(t[n-1]>t[n])throw new Error('[RNScreens] The detent array is not sorted in ascending order!')},e.resolveSheetAllowedDetents=function(_){return Array.isArray(_)?('android'===t.Platform.OS&&_.length>3&&(_=_.slice(0,3)),_):'fitToContents'===_?n:'large'===_?E:'medium'===_?o:'all'===_?T:E},e.resolveSheetInitialDetentIndex=function(t,n){'last'===t?t=n:null==t&&(t=0);if(!i(t,0,n))return 0;return t},e.resolveSheetLargestUndimmedDetent=function(t,n){return'number'==typeof t?i(t,_,n)?t:_:'last'===t?n:'none'===t||'all'===t?_:'large'===t?1:'medium'===t?0:_};var t=r(d[0]),n=e.SHEET_FIT_TO_CONTENTS=[-1],E=e.SHEET_COMPAT_LARGE=[1],o=e.SHEET_COMPAT_MEDIUM=[.5],T=e.SHEET_COMPAT_ALL=[.5,1],_=e.SHEET_DIMMED_ALWAYS=-1;function i(t,n,E){return Number.isInteger(t)&&t>=n&&t<=E}},1145,[2]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(_r(d[1])),t=_r(d[2]),r=(function(e,n){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var o,u,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(o=n?r:t){if(o.has(e))return o.get(e);o.set(e,c)}for(var f in e)"default"!==f&&{}.hasOwnProperty.call(e,f)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,f))&&(u.get||u.set)?o(c,f,u):c[f]=e[f]);return c})(e,n)})(_r(d[3])),o=_r(d[4]);var u=r.default,c=r.Commands;_e.default=n.default.forwardRef(function(e,r){var f=n.default.useRef(null);n.default.useImperativeHandle(r,function(){return{blur:function(){l(function(e){return c.blur(e)})},focus:function(){l(function(e){return c.focus(e)})},toggleCancelButton:function(e){l(function(n){return c.toggleCancelButton(n,e)})},clearText:function(){l(function(e){return c.clearText(e)})},setText:function(e){l(function(n){return c.setText(n,e)})},cancelSearch:function(){l(function(e){return c.cancelSearch(e)})}}});var l=n.default.useCallback(function(e){var n=f.current;n?e(n):console.warn('Reference to native search bar component has not been updated yet')},[f]);return _r(d[5]).isSearchBarAvailableForCurrentPlatform?(0,o.jsx)(u,Object.assign({ref:f},e,{onSearchFocus:e.onFocus,onSearchBlur:e.onBlur,onSearchButtonPress:e.onSearchButtonPress,onCancelButtonPress:e.onCancelButtonPress,onChangeText:e.onChangeText})):(console.warn('Importing SearchBar is only valid on iOS and Android devices.'),t.View)})},1146,[1,174,2,1147,219,1134]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=e.Commands=void 0;t(r(d[1])),t(r(d[2]));var o=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSSearchBar",directEventTypes:{topSearchFocus:{registrationName:"onSearchFocus"},topSearchBlur:{registrationName:"onSearchBlur"},topSearchButtonPress:{registrationName:"onSearchButtonPress"},topCancelButtonPress:{registrationName:"onCancelButtonPress"},topChangeText:{registrationName:"onChangeText"},topClose:{registrationName:"onClose"},topOpen:{registrationName:"onOpen"}},validAttributes:Object.assign({hideWhenScrolling:!0,autoCapitalize:!0,placeholder:!0,placement:!0,obscureBackground:!0,hideNavigationBar:!0,cancelButtonText:!0,barTintColor:{process:r(d[3]).default},tintColor:{process:r(d[3]).default},textColor:{process:r(d[3]).default},disableBackButtonOverride:!0,inputType:!0,hintTextColor:{process:r(d[3]).default},headerIconColor:{process:r(d[3]).default},shouldShowHintSearchIcon:!0},r(d[4]).ConditionallyIgnoredEventHandlers({onSearchFocus:!0,onSearchBlur:!0,onSearchButtonPress:!0,onCancelButtonPress:!0,onChangeText:!0,onClose:!0,onOpen:!0}))};e.default=r(d[5]).get('RNSSearchBar',function(){return o}),e.Commands={blur:function(t){r(d[6]).dispatchCommand(t,"blur",[])},focus:function(t){r(d[6]).dispatchCommand(t,"focus",[])},clearText:function(t){r(d[6]).dispatchCommand(t,"clearText",[])},toggleCancelButton:function(t,o){r(d[6]).dispatchCommand(t,"toggleCancelButton",[o])},setText:function(t,o){r(d[6]).dispatchCommand(t,"setText",[o])},cancelSearch:function(t){r(d[6]).dispatchCommand(t,"cancelSearch",[])}}},1147,[1,261,218,184,217,181,57]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=r(d[2]),u=(t(r(d[3])),t(r(d[4]))),f=t(r(d[5])),l=r(d[6]),o=["enabled","hasTwoStates"];e.default=function(t){var v=t.enabled,b=void 0===v?(0,r(d[7]).screensEnabled)():v,c=t.hasTwoStates,j=(0,s.default)(t,o);if(b&&r(d[7]).isNativePlatformSupported){if(c){var O='ios'===n.Platform.OS?f.default:u.default;return(0,l.jsx)(O,Object.assign({},j))}return(0,l.jsx)(u.default,Object.assign({},j))}return(0,l.jsx)(n.View,Object.assign({},j))}},1148,[1,135,2,174,1149,1150,219,1135]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenContainer",validAttributes:{}};e.default=r(d[2]).get('RNSScreenContainer',function(){return n})},1149,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenNavigationContainer",validAttributes:{}};e.default=r(d[2]).get('RNSScreenNavigationContainer',function(){return n})},1150,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),s=n(r(d[2])),u=n(r(d[3])),c=n(r(d[4])),o=r(d[5]),f=["goBackGesture","screensRefs","currentScreenId","transitionAnimation","screenEdgeGesture","onFinishTransitioning","children"],l=function(n,t){var s='GHWrapper'!==n.name&&void 0!==t;(0,u.default)(s,'Cannot detect GestureDetectorProvider in a screen that uses `goBackGesture`. Make sure your navigator is wrapped in GestureDetectorProvider.')},v=function(n,t,s){var c=void 0!==s&&null===n&&void 0===t;(0,u.default)(c,'Custom Screen Transition require screensRefs and currentScreenId to be provided.')};e.default=function(n){var u,G=n.goBackGesture,h=n.screensRefs,k=n.currentScreenId,R=n.transitionAnimation,C=n.screenEdgeGesture,S=n.onFinishTransitioning,p=n.children,x=(0,t.default)(n,f),E=s.default.useRef(null!=(u=null==h?void 0:h.current)?u:{}),b=s.default.useRef(null),j=s.default.useContext(r(d[6]).GHContext),B=s.default.useRef({stackUseEffectCallback:function(n){}});return s.default.useEffect(function(){B.current.stackUseEffectCallback(b)}),l(j,G),v(E,k,G),(0,o.jsx)(r(d[6]).RNSScreensRefContext.Provider,{value:E,children:(0,o.jsx)(j,{gestureDetectorBridge:B,goBackGesture:G,transitionAnimation:R,screenEdgeGesture:null!=C&&C,screensRefs:E,currentScreenId:k,children:(0,o.jsx)(c.default,Object.assign({},x,{onFinishTransitioning:S,ref:b,children:p}))})})}},1151,[1,135,174,1152,1153,219,1154]);
__d(function(g,r,i,a,m,e,d){new Set;m.exports=function(n){}},1152,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;n(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenStack",directEventTypes:{topFinishTransitioning:{registrationName:"onFinishTransitioning"}},validAttributes:Object.assign({},r(d[2]).ConditionallyIgnoredEventHandlers({onFinishTransitioning:!0}))};e.default=r(d[3]).get('RNSScreenStack',function(){return t})},1153,[1,261,217,181]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.RNSScreensRefContext=e.GHContext=void 0;var n=t(r(d[1])),o=r(d[2]);e.GHContext=n.default.createContext(function(t){return(0,o.jsx)(o.Fragment,{children:t.children})}),e.RNSScreensRefContext=n.default.createContext(null)},1154,[1,174,219]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?l:n){if(r.has(e))return r.get(e);r.set(e,i)}for(var s in e)"default"!==s&&{}.hasOwnProperty.call(e,s)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,s))&&(o.get||o.set)?r(i,s,o):i[s]=e[s]);return i})(e,t)})(_r(d[2])),l=_r(d[3]),r=e(_r(d[4])),o=e(_r(d[5])),i=e(_r(d[6])),s=e(_r(d[7])),u=_r(d[8]),c=["children","headerConfig","activityState","shouldFreeze","stackPresentation","sheetAllowedDetents","contentStyle","style","screenId","unstable_sheetFooter"];_e.default=n.forwardRef(function(e,h){var v,S,y=e.children,p=e.headerConfig,b=e.activityState,k=e.shouldFreeze,j=e.stackPresentation,_=e.sheetAllowedDetents,w=e.contentStyle,x=e.style,P=e.screenId,C=e.unstable_sheetFooter,O=(0,t.default)(e,c),F=n.useRef(null),R=n.useContext(_r(d[9]).RNSScreensRefContext);n.useImperativeHandle(h,function(){return F.current});var M='android'!==l.Platform.OS&&('push'!==j&&!1===(null==p?void 0:p.hidden)),D=n.useRef(null==p?void 0:p.hidden);n.useEffect(function(){(0,r.default)('android'!==l.Platform.OS&&'push'!==j&&D.current!==(null==p?void 0:p.hidden),"Dynamically changing header's visibility in modals will result in remounting the screen and losing all local state."),D.current=null==p?void 0:p.hidden},[null==p?void 0:p.hidden,j]);var z,H=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.default,{style:['formSheet'===j?'ios'===l.Platform.OS?f.absolute:'fitToContents'===_?null:f.container:f.container,w],stackPresentation:null!=j?j:'push',children:y}),(0,u.jsx)(_r(d[10]).ScreenStackHeaderConfig,Object.assign({},p)),'formSheet'===j&&C&&(0,u.jsx)(_r(d[11]).FooterComponent,{children:C()})]});if('formSheet'===j&&w){var N=l.StyleSheet.flatten(w);z={backgroundColor:null==N?void 0:N.backgroundColor}}return(0,u.jsx)(i.default,Object.assign({ref:function(e){if(F.current=e,null!==R){var t=R.current;null===e?delete t[P]:t[P]={current:e}}else console.warn('Looks like RNSScreensRefContext is missing. Make sure the ScreenStack component is wrapped in it')},enabled:!0,isNativeStack:!0,activityState:b,shouldFreeze:k,stackPresentation:j,hasLargeHeader:null!=(v=null==p?void 0:p.largeTitle)&&v,sheetAllowedDetents:_,style:[x,z]},O,{children:M?(0,u.jsx)(s.default,{style:f.container,children:(0,u.jsx)(i.default,{enabled:!0,isNativeStack:!0,activityState:b,shouldFreeze:k,hasLargeHeader:null!=(S=null==p?void 0:p.largeTitle)&&S,style:l.StyleSheet.absoluteFill,children:H})}):H}))});var f=l.StyleSheet.create({container:{flex:1},absolute:{position:'absolute',top:0,start:0,end:0}})},1155,[1,135,174,2,1152,1156,1138,1151,219,1154,1129,1159]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;e(_r(d[1])),(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?r:n){if(f.has(e))return f.get(e);f.set(e,u)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(o.get||o.set)?f(u,i,o):u[i]=e[i])})(e,t)})(_r(d[2])),_r(d[3]),e(_r(d[4]));var t=e(_r(d[5])),n=_r(d[6]);_e.default=function(e){return(0,n.jsx)(t.default,Object.assign({},e))}},1156,[1,135,174,2,176,1157,219]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t(r(d[1]));var l=t(r(d[2])),u=r(d[3]);e.default=function(t){return(0,u.jsx)(l.default,Object.assign({collapsable:!1},t))}},1157,[1,174,1158,219]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var n=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenContentWrapper",validAttributes:{}};e.default=r(d[2]).get('RNSScreenContentWrapper',function(){return n})},1158,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.FooterComponent=function(n){var t=n.children;return(0,o.jsx)(l,{collapsable:!1,children:t})},e.default=void 0;n(r(d[1]));var t=n(r(d[2])),o=r(d[3]);function l(n){return(0,o.jsx)(t.default,Object.assign({},n))}e.default=l},1159,[1,174,1160,219]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;t(r(d[1]));var _=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSScreenFooter",validAttributes:{}};e.default=r(d[2]).get('RNSScreenFooter',function(){return _})},1160,[1,261,181]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;l(r(d[1]));var n=r(d[2]),t=l(r(d[3])),s=r(d[4]),o=t.default;e.default=function(l){var t=(0,n.useWindowDimensions)(),c=t.width,u=t.height;return'ios'!==n.Platform.OS?(console.warn('Using FullWindowOverlay is only valid on iOS devices.'),(0,s.jsx)(n.View,Object.assign({},l))):(0,s.jsx)(o,{style:[n.StyleSheet.absoluteFill,{width:c,height:u}],accessibilityContainerViewIsModal:l.unstable_accessibilityContainerViewIsModal,children:l.children})}},1161,[1,174,2,1162,219]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.__INTERNAL_VIEW_CONFIG=void 0;l(r(d[1]));var t=e.__INTERNAL_VIEW_CONFIG={uiViewClassName:"RNSFullWindowOverlay",validAttributes:{accessibilityContainerViewIsModal:!0}};e.default=r(d[2]).get('RNSFullWindowOverlay',function(){return t})},1162,[1,261,181]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){var e=t.useContext(r.default);if(void 0===e)throw new Error("Couldn't find values for transition progress. Are you inside a screen in Native Stack?");return e};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,f)}for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,i))&&(u.get||u.set)?o(f,i,u):f[i]=e[i]);return f})(e,t)})(_r(d[1])),r=e(_r(d[2]))},1163,[1,174,1139]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createBottomTabNavigator=function(t){return(0,r(d[3]).createNavigatorFactory)(c)(t)};var n=t(r(d[1])),o=r(d[2]),s=["id","initialRouteName","backBehavior","children","layout","screenListeners","screenOptions","screenLayout","UNSTABLE_router"];function c(t){var c=t.id,u=t.initialRouteName,l=t.backBehavior,v=t.children,N=t.layout,B=t.screenListeners,L=t.screenOptions,b=t.screenLayout,y=t.UNSTABLE_router,h=(0,n.default)(t,s),_=(0,r(d[3]).useNavigationBuilder)(r(d[3]).TabRouter,{id:c,initialRouteName:u,backBehavior:l,children:v,layout:N,screenListeners:B,screenOptions:L,screenLayout:b,UNSTABLE_router:y}),p=_.state,T=_.descriptors,f=_.navigation,O=_.NavigationContent;return(0,o.jsx)(O,{children:(0,o.jsx)(r(d[4]).BottomTabView,Object.assign({},h,{state:p,navigation:f,descriptors:T}))})}},1164,[1,135,219,949,1122]);
__d(function(g,_r,_i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useBottomTabBarHeight=function(){var e=t.useContext(_r(d[1]).BottomTabBarHeightContext);if(void 0===e)throw new Error("Couldn't find the bottom tab bar height. Are you inside a screen in Bottom Tab Navigator?");return e};var t=(function(t,e){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var n,i,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(n=e?o:r){if(n.has(t))return n.get(t);n.set(t,u)}for(var f in t)"default"!==f&&{}.hasOwnProperty.call(t,f)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,f))&&(i.get||i.set)?n(u,f,i):u[f]=t[f]);return u})(t,e)})(_r(d[0]))},1165,[174,1121]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/assets/icon",width:512,height:512,scales:[1],hash:"a6d9ed92e65c992eadaefe1bba105057",name:"video",type:"png"})},1166,[1080]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/assets/icon",width:512,height:512,scales:[1],hash:"e134dd63b41cf67a24cf87593538ca24",name:"stream",type:"png"})},1167,[1080]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0]).registerAsset({__packager_asset:!0,httpServerLocation:"/assets/assets/icon",width:512,height:512,scales:[1],hash:"d13861352e1a6fd7ec64e47b4f41a545",name:"camera",type:"png"})},1168,[1080]);
__d(function(e,d,i,m,o,a,c){o.exports={name:"icfdemo2",displayName:"icfdemo2"}},1169,[]);
__r(62);
__r(0);